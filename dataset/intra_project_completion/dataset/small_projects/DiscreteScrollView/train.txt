["<s>", "public", "TestData", "(", ")", "{", "id", "=", "NEXT_ID", "+", "+", ";", "image", "=", "new", "ColorDrawable", "(", "generateRandomColor", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "static", "@", "ColorInt", "int", "generateRandomColor", "(", ")", "{", "return", "Color", ".", "argb", "(", "<NUM_LIT:255>", ",", "random", ".", "nextInt", "(", "<NUM_LIT>", ")", ",", "random", ".", "nextInt", "(", "<NUM_LIT>", ")", ",", "random", ".", "nextInt", "(", "<NUM_LIT>", ")", ")", ";", "}", "</s>"]
["<s>", "public", "TestAdapter", "(", "List", "<", "TestData", ">", "data", ")", "{", "this", ".", "data", "=", "data", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAttachedToRecyclerView", "(", "RecyclerView", "recyclerView", ")", "{", "super", ".", "onAttachedToRecyclerView", "(", "recyclerView", ")", ";", "this", ".", "recyclerView", "=", "recyclerView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ViewHolder", "onCreateViewHolder", "(", "ViewGroup", "parent", ",", "int", "viewType", ")", "{", "float", "dp", "=", "parent", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ".", "density", ";", "ImageView", "iv", "=", "new", "ImageView", "(", "parent", ".", "getContext", "(", ")", ")", ";", "iv", ".", "setLayoutParams", "(", "new", "ViewGroup", ".", "LayoutParams", "(", "(", "int", ")", "(", "<NUM_LIT>", "*", "dp", ")", ",", "(", "int", ")", "(", "<NUM_LIT>", "*", "dp", ")", ")", ")", ";", "iv", ".", "setScaleType", "(", "ImageView", ".", "ScaleType", ".", "CENTER_CROP", ")", ";", "return", "new", "ViewHolder", "(", "iv", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "ViewHolder", "holder", ",", "int", "position", ")", "{", "TestData", "item", "=", "data", ".", "get", "(", "position", ")", ";", "holder", ".", "image", ".", "setImageDrawable", "(", "item", ".", "image", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "return", "data", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "public", "List", "<", "TestData", ">", "getData", "(", ")", "{", "return", "data", ";", "}", "</s>"]
["<s>", "public", "ViewHolder", "(", "View", "itemView", ")", "{", "super", "(", "itemView", ")", ";", "image", "=", "(", "ImageView", ")", "itemView", ";", "itemView", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "recyclerView", ".", "smoothScrollToPosition", "(", "getAdapterPosition", "(", ")", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "recyclerView", ".", "smoothScrollToPosition", "(", "getAdapterPosition", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "@", "Nullable", "Bundle", "savedInstanceState", ")", "{", "setTheme", "(", "R", ".", "style", ".", "Theme_AppCompat_Light_NoActionBar", ")", ";", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "ViewGroup", "root", "=", "createRootView", "(", ")", ";", "scrollView", "=", "createScrollViewIn", "(", "root", ")", ";", "setContentView", "(", "root", ")", ";", "adapter", "=", "new", "TestAdapter", "(", "generateTestData", "(", "<NUM_LIT:10>", ")", ")", ";", "scrollView", ".", "setAdapter", "(", "adapter", ")", ";", "scrollView", ".", "addScrollStateChangeListener", "(", "this", ")", ";", "}", "</s>"]
["<s>", "public", "DiscreteScrollView", "getScrollView", "(", ")", "{", "return", "scrollView", ";", "}", "</s>"]
["<s>", "public", "TestAdapter", "getAdapter", "(", ")", "{", "return", "adapter", ";", "}", "</s>"]
["<s>", "private", "DiscreteScrollView", "createScrollViewIn", "(", "ViewGroup", "root", ")", "{", "DiscreteScrollView", "scrollView", "=", "new", "DiscreteScrollView", "(", "this", ")", ";", "FrameLayout", ".", "LayoutParams", "scrollViewLp", "=", "new", "FrameLayout", ".", "LayoutParams", "(", "MATCH_PARENT", ",", "WRAP_CONTENT", ")", ";", "scrollViewLp", ".", "gravity", "=", "Gravity", ".", "CENTER", ";", "scrollView", ".", "setLayoutParams", "(", "scrollViewLp", ")", ";", "root", ".", "addView", "(", "scrollView", ")", ";", "return", "scrollView", ";", "}", "</s>"]
["<s>", "private", "ViewGroup", "createRootView", "(", ")", "{", "FrameLayout", "root", "=", "new", "FrameLayout", "(", "this", ")", ";", "root", ".", "setLayoutParams", "(", "new", "ViewGroup", ".", "LayoutParams", "(", "MATCH_PARENT", ",", "MATCH_PARENT", ")", ")", ";", "return", "root", ";", "}", "</s>"]
["<s>", "public", "void", "incrementExpectedScrollEndCalls", "(", ")", "{", "expectedScrollEndCalls", ".", "increment", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScrollStart", "(", "@", "NonNull", "RecyclerView", ".", "ViewHolder", "currentItemHolder", ",", "int", "adapterPosition", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScrollEnd", "(", "@", "NonNull", "RecyclerView", ".", "ViewHolder", "currentItemHolder", ",", "int", "adapterPosition", ")", "{", "if", "(", "!", "expectedScrollEndCalls", ".", "isIdleNow", "(", ")", ")", "{", "expectedScrollEndCalls", ".", "decrement", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScroll", "(", "float", "scrollPosition", ",", "int", "currentPosition", ",", "int", "newPosition", ",", "@", "Nullable", "RecyclerView", ".", "ViewHolder", "currentHolder", ",", "@", "Nullable", "RecyclerView", ".", "ViewHolder", "newCurrent", ")", "{", "}", "</s>"]
["<s>", "public", "@", "NonNull", "List", "<", "IdlingResource", ">", "getIdlingResources", "(", ")", "{", "return", "Collections", ".", "<", "IdlingResource", ">", "singletonList", "(", "expectedScrollEndCalls", ")", ";", "}", "</s>"]
["<s>", "private", "List", "<", "TestData", ">", "generateTestData", "(", "int", "size", ")", "{", "List", "<", "TestData", ">", "result", "=", "new", "ArrayList", "<", ">", "(", "size", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "size", ";", "i", "+", "+", ")", "{", "result", ".", "add", "(", "new", "TestData", "(", ")", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "DSVOrientation", "getOrientationToTest", "(", ")", "{", "return", "DSVOrientation", ".", "VERTICAL", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "{", "stubState", "=", "mock", "(", "RecyclerView", ".", "State", ".", "class", ")", ";", "stubOrientationHelper", "=", "spy", "(", "getOrientationToTest", "(", ")", ".", "createHelper", "(", ")", ")", ";", "mockScrollStateListener", "=", "mock", "(", "DiscreteScrollLayoutManager", ".", "ScrollStateListener", ".", "class", ")", ";", "layoutManager", "=", "spy", "(", "new", "DiscreteScrollLayoutManager", "(", "RuntimeEnvironment", ".", "application", ",", "mockScrollStateListener", ",", "getOrientationToTest", "(", ")", ")", ")", ";", "stubRecyclerViewProxy", "=", "spy", "(", "new", "StubRecyclerViewProxy", ".", "Builder", "(", "layoutManager", ")", ".", "withRecyclerDimensions", "(", "RECYCLER_WIDTH", ",", "RECYCLER_HEIGHT", ")", ".", "withChildDimensions", "(", "CHILD_WIDTH", ",", "CHILD_HEIGHT", ")", ".", "withAdapterItemCount", "(", "ADAPTER_ITEM_COUNT", ")", ".", "create", "(", ")", ")", ";", "layoutManager", ".", "setRecyclerViewProxy", "(", "stubRecyclerViewProxy", ")", ";", "layoutManager", ".", "setOrientationHelper", "(", "stubOrientationHelper", ")", ";", "}", "</s>"]
["<s>", "protected", "abstract", "DSVOrientation", "getOrientationToTest", "(", ")", ";", "</s>"]
["<s>", "@", "Test", "public", "void", "onLayoutChildren_noItems_removesViewsAndResetsState", "(", ")", "{", "layoutManager", ".", "pendingScroll", "=", "<NUM_LIT>", ";", "layoutManager", ".", "scrolled", "=", "<NUM_LIT:1000>", ";", "layoutManager", ".", "pendingPosition", "=", "1", ";", "layoutManager", ".", "currentPosition", "=", "<NUM_LIT:2>", ";", "when", "(", "stubState", ".", "getItemCount", "(", ")", ")", ".", "thenReturn", "(", "0", ")", ";", "layoutManager", ".", "onLayoutChildren", "(", "null", ",", "stubState", ")", ";", "verify", "(", "stubRecyclerViewProxy", ")", ".", "removeAndRecycleAllViews", "(", "nullable", "(", "RecyclerView", ".", "Recycler", ".", "class", ")", ")", ";", "assertThat", "(", "layoutManager", ".", "pendingScroll", ",", "is", "(", "0", ")", ")", ";", "assertThat", "(", "layoutManager", ".", "scrolled", ",", "is", "(", "0", ")", ")", ";", "assertThat", "(", "layoutManager", ".", "pendingPosition", ",", "is", "(", "NO_POSITION", ")", ")", ";", "assertThat", "(", "layoutManager", ".", "currentPosition", ",", "is", "(", "NO_POSITION", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onLayoutChildren_whenFirstOrEmptyLayout_childDimensionsAreInitialized", "(", ")", "{", "layoutManager", ".", "childHalfWidth", "=", "0", ";", "layoutManager", ".", "childHalfHeight", "=", "0", ";", "when", "(", "stubState", ".", "getItemCount", "(", ")", ")", ".", "thenReturn", "(", "ADAPTER_ITEM_COUNT", ")", ";", "layoutManager", ".", "onLayoutChildren", "(", "null", ",", "stubState", ")", ";", "assertThat", "(", "layoutManager", ".", "childHalfWidth", ",", "is", "(", "CHILD_WIDTH", "/", "<NUM_LIT:2>", ")", ")", ";", "assertThat", "(", "layoutManager", ".", "childHalfHeight", ",", "is", "(", "CHILD_HEIGHT", "/", "<NUM_LIT:2>", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onLayoutChildren_notFirstOrEmptyLayout_childDimensionsAreNotInitialized", "(", ")", "{", "stubRecyclerViewProxy", ".", "addChildren", "(", "<NUM_LIT:5>", ",", "0", ")", ";", "layoutManager", ".", "onLayoutChildren", "(", "null", ",", "stubState", ")", ";", "assertThat", "(", "layoutManager", ".", "childHalfWidth", ",", "is", "(", "0", ")", ")", ";", "assertThat", "(", "layoutManager", ".", "childHalfHeight", ",", "is", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onLayoutChildren_multipleCallsInLayoutPhase_isFirstOrEmptyLayoutFlagNotCleared", "(", ")", "{", "when", "(", "stubState", ".", "getItemCount", "(", ")", ")", ".", "thenReturn", "(", "ADAPTER_ITEM_COUNT", ")", ";", "layoutManager", ".", "onLayoutChildren", "(", "null", ",", "stubState", ")", ";", "stubRecyclerViewProxy", ".", "addChildren", "(", "<NUM_LIT:5>", ",", "0", ")", ";", "layoutManager", ".", "onLayoutChildren", "(", "null", ",", "stubState", ")", ";", "assertTrue", "(", "layoutManager", ".", "isFirstOrEmptyLayout", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onLayoutCompleted_isFirstOrEmptyLayoutFlagSet_scrollStateListenerIsNotified", "(", ")", "{", "layoutManager", ".", "isFirstOrEmptyLayout", "=", "true", ";", "layoutManager", ".", "onLayoutCompleted", "(", "stubState", ")", ";", "verify", "(", "mockScrollStateListener", ")", ".", "onCurrentViewFirstLayout", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onLayoutCompleted_isFirstOrEmptyLayoutFlagSet_theFlagIsCleared", "(", ")", "{", "layoutManager", ".", "isFirstOrEmptyLayout", "=", "true", ";", "layoutManager", ".", "onLayoutCompleted", "(", "stubState", ")", ";", "assertFalse", "(", "layoutManager", ".", "isFirstOrEmptyLayout", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "initChildDimensions_offscreenItemsNotSet_noExtraLayoutSpace", "(", ")", "{", "layoutManager", ".", "extraLayoutSpace", "=", "<NUM_LIT:1000>", ";", "layoutManager", ".", "initChildDimensions", "(", "null", ")", ";", "assertThat", "(", "layoutManager", ".", "extraLayoutSpace", ",", "is", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "initChildDimensions_offscreenItemsSet_extraLayoutSpaceIsCalculated", "(", ")", "{", "layoutManager", ".", "extraLayoutSpace", "=", "0", ";", "layoutManager", ".", "setOffscreenItems", "(", "<NUM_LIT:5>", ")", ";", "layoutManager", ".", "initChildDimensions", "(", "null", ")", ";", "assertThat", "(", "layoutManager", ".", "extraLayoutSpace", ",", "is", "(", "not", "(", "0", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "updateRecyclerDimensions_recyclerCenterIsInitialized", "(", ")", "{", "layoutManager", ".", "recyclerCenter", ".", "set", "(", "0", ",", "0", ")", ";", "layoutManager", ".", "updateRecyclerDimensions", "(", ")", ";", "assertThat", "(", "layoutManager", ".", "recyclerCenter", ".", "x", ",", "is", "(", "RECYCLER_WIDTH", "/", "<NUM_LIT:2>", ")", ")", ";", "assertThat", "(", "layoutManager", ".", "recyclerCenter", ".", "y", ",", "is", "(", "RECYCLER_HEIGHT", "/", "<NUM_LIT:2>", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "cacheAndDetachAttachedViews_allRecyclerChildrenArePutToCache", "(", ")", "{", "final", "int", "childCount", "=", "<NUM_LIT:6>", ";", "stubRecyclerViewProxy", ".", "addChildren", "(", "<NUM_LIT:6>", ",", "0", ")", ";", "layoutManager", ".", "cacheAndDetachAttachedViews", "(", ")", ";", "assertThat", "(", "layoutManager", ".", "detachedCache", ".", "size", "(", ")", ",", "is", "(", "childCount", ")", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "childCount", ";", "i", "+", "+", ")", "{", "int", "position", "=", "stubRecyclerViewProxy", ".", "getPosition", "(", "stubRecyclerViewProxy", ".", "getChildAt", "(", "i", ")", ")", ";", "assertNotNull", "(", "layoutManager", ".", "detachedCache", ".", "get", "(", "position", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "cacheAndDetachAttachedViews_allRecyclerChildrenAreDetached", "(", ")", "{", "final", "int", "childCount", "=", "<NUM_LIT:5>", ";", "stubRecyclerViewProxy", ".", "addChildren", "(", "childCount", ",", "0", ")", ";", "layoutManager", ".", "cacheAndDetachAttachedViews", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "childCount", ";", "i", "+", "+", ")", "{", "verify", "(", "stubRecyclerViewProxy", ")", ".", "detachView", "(", "stubRecyclerViewProxy", ".", "getChildAt", "(", "i", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "recycleDetachedViewsAndClearCache_cacheIsClearedAndViewsAreRecycled", "(", ")", "{", "List", "<", "View", ">", "views", "=", "Arrays", ".", "asList", "(", "mock", "(", "View", ".", "class", ")", ",", "mock", "(", "View", ".", "class", ")", ",", "mock", "(", "View", ".", "class", ")", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "views", ".", "size", "(", ")", ";", "i", "+", "+", ")", "layoutManager", ".", "detachedCache", ".", "put", "(", "i", ",", "views", ".", "get", "(", "i", ")", ")", ";", "layoutManager", ".", "recycleDetachedViewsAndClearCache", "(", "null", ")", ";", "assertThat", "(", "layoutManager", ".", "detachedCache", ".", "size", "(", ")", ",", "is", "(", "0", ")", ")", ";", "verify", "(", "stubRecyclerViewProxy", ",", "times", "(", "views", ".", "size", "(", ")", ")", ")", ".", "recycleView", "(", "argThat", "(", "isIn", "(", "views", ")", ")", ",", "nullable", "(", "RecyclerView", ".", "Recycler", ".", "class", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onItemsAdded_afterCurrentPosition_currentPositionIsUnchanged", "(", ")", "{", "final", "int", "addedItems", "=", "<NUM_LIT:3>", ";", "final", "int", "initialCurrent", "=", "ADAPTER_ITEM_COUNT", "/", "<NUM_LIT:2>", ";", "layoutManager", ".", "currentPosition", "=", "initialCurrent", ";", "stubRecyclerViewProxy", ".", "setAdapterItemCount", "(", "ADAPTER_ITEM_COUNT", "+", "addedItems", ")", ";", "layoutManager", ".", "onItemsAdded", "(", "null", ",", "initialCurrent", "+", "1", ",", "addedItems", ")", ";", "assertThat", "(", "layoutManager", ".", "currentPosition", ",", "is", "(", "initialCurrent", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onItemsAdded_beforeCurrentPosition_currentIsShiftedByAmountOfAddedItems", "(", ")", "{", "final", "int", "addedItems", "=", "<NUM_LIT:3>", ";", "final", "int", "initialCurrent", "=", "ADAPTER_ITEM_COUNT", "/", "<NUM_LIT:2>", ";", "layoutManager", ".", "currentPosition", "=", "initialCurrent", ";", "stubRecyclerViewProxy", ".", "setAdapterItemCount", "(", "ADAPTER_ITEM_COUNT", "+", "addedItems", ")", ";", "layoutManager", ".", "onItemsAdded", "(", "null", ",", "initialCurrent", "-", "1", ",", "addedItems", ")", ";", "assertThat", "(", "layoutManager", ".", "currentPosition", ",", "is", "(", "initialCurrent", "+", "addedItems", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onItemsRemoved_afterCurrentPosition_currentIsUnchanged", "(", ")", "{", "final", "int", "initialCurrent", "=", "ADAPTER_ITEM_COUNT", "/", "<NUM_LIT:2>", ";", "final", "int", "removedItems", "=", "initialCurrent", "/", "<NUM_LIT:2>", ";", "layoutManager", ".", "currentPosition", "=", "initialCurrent", ";", "stubRecyclerViewProxy", ".", "setAdapterItemCount", "(", "ADAPTER_ITEM_COUNT", "-", "removedItems", ")", ";", "layoutManager", ".", "onItemsRemoved", "(", "null", ",", "initialCurrent", "+", "1", ",", "removedItems", ")", ";", "assertThat", "(", "layoutManager", ".", "currentPosition", ",", "is", "(", "initialCurrent", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onItemsRemoved_beforeCurrentPosition_currentIsShiftedByAmountRemoved", "(", ")", "{", "final", "int", "initialCurrent", "=", "ADAPTER_ITEM_COUNT", "/", "<NUM_LIT:2>", ";", "final", "int", "removedItems", "=", "initialCurrent", "/", "<NUM_LIT:2>", ";", "layoutManager", ".", "currentPosition", "=", "initialCurrent", ";", "stubRecyclerViewProxy", ".", "setAdapterItemCount", "(", "ADAPTER_ITEM_COUNT", "-", "removedItems", ")", ";", "layoutManager", ".", "onItemsRemoved", "(", "null", ",", "0", ",", "removedItems", ")", ";", "assertThat", "(", "layoutManager", ".", "currentPosition", ",", "is", "(", "initialCurrent", "-", "removedItems", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onItemsRemoved_rangeWhichContainsCurrent_currentIsReset", "(", ")", "{", "final", "int", "initialCurrent", "=", "ADAPTER_ITEM_COUNT", "/", "<NUM_LIT:2>", ";", "layoutManager", ".", "currentPosition", "=", "initialCurrent", ";", "layoutManager", ".", "onItemsRemoved", "(", "null", ",", "initialCurrent", "-", "1", ",", "<NUM_LIT:3>", ")", ";", "assertThat", "(", "layoutManager", ".", "currentPosition", ",", "is", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onItemsChanged_removedItemWhichWasCurrent_currentRemainsInValidRange", "(", ")", "{", "layoutManager", ".", "currentPosition", "=", "ADAPTER_ITEM_COUNT", "-", "1", ";", "stubRecyclerViewProxy", ".", "setAdapterItemCount", "(", "ADAPTER_ITEM_COUNT", "-", "<NUM_LIT:3>", ")", ";", "layoutManager", ".", "onItemsChanged", "(", "null", ")", ";", "assertThat", "(", "layoutManager", ".", "currentPosition", ",", "is", "(", "stubRecyclerViewProxy", ".", "getItemCount", "(", ")", "-", "1", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "scrollBy_noChildren_noScrollPerformed", "(", ")", "{", "doReturn", "(", "0", ")", ".", "when", "(", "layoutManager", ")", ".", "getChildCount", "(", ")", ";", "int", "scrolled", "=", "layoutManager", ".", "scrollBy", "(", "<NUM_LIT:1000>", ",", "null", ")", ";", "assertThat", "(", "scrolled", ",", "is", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "scrollBy_moreScrollRequestedThanCanPerform_scrollsByAllAvailableAmount", "(", ")", "{", "final", "int", "requested", "=", "<NUM_LIT:1000>", ",", "maxAvailable", "=", "<NUM_LIT>", ";", "prepareStubsForScrollBy", "(", "maxAvailable", ",", "<NUM_LIT:3>", ",", "false", ")", ";", "int", "scrolled", "=", "layoutManager", ".", "scrollBy", "(", "requested", ",", "null", ")", ";", "assertThat", "(", "scrolled", ",", "both", "(", "not", "(", "equalTo", "(", "requested", ")", ")", ")", ".", "and", "(", "is", "(", "equalTo", "(", "maxAvailable", ")", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "scrollBy_offsetsChildrenByNegativeScrollDelta", "(", ")", "{", "final", "int", "requested", "=", "<NUM_LIT:1000>", ";", "prepareStubsForScrollBy", "(", "requested", ",", "<NUM_LIT:3>", ",", "false", ")", ";", "int", "scrolled", "=", "layoutManager", ".", "scrollBy", "(", "requested", ",", "null", ")", ";", "verify", "(", "stubOrientationHelper", ")", ".", "offsetChildren", "(", "-", "scrolled", ",", "stubRecyclerViewProxy", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "scrollBy_noNewViewBecameVisible_fillIsNotCalled", "(", ")", "{", "prepareStubsForScrollBy", "(", "<NUM_LIT:1000>", ",", "<NUM_LIT:10>", ",", "false", ")", ";", "layoutManager", ".", "scrollBy", "(", "<NUM_LIT>", ",", "null", ")", ";", "verify", "(", "layoutManager", ",", "never", "(", ")", ")", ".", "fill", "(", "any", "(", "RecyclerView", ".", "Recycler", ".", "class", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "scrollBy_newViewBecomesVisible_fillIsCalled", "(", ")", "{", "final", "int", "childCount", "=", "<NUM_LIT:5>", ";", "stubRecyclerViewProxy", ".", "addChildren", "(", "childCount", ",", "0", ")", ";", "prepareStubsForScrollBy", "(", "<NUM_LIT:1000>", ",", "childCount", ",", "true", ")", ";", "layoutManager", ".", "scrollBy", "(", "<NUM_LIT>", ",", "null", ")", ";", "verify", "(", "layoutManager", ")", ".", "fill", "(", "nullable", "(", "RecyclerView", ".", "Recycler", ".", "class", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "scrollBy_hasPendingScroll_pendingScrollDecreasedByScrolledAmount", "(", ")", "{", "final", "int", "initialPendingScroll", "=", "<NUM_LIT:1000>", ";", "layoutManager", ".", "pendingScroll", "=", "initialPendingScroll", ";", "prepareStubsForScrollBy", "(", "<NUM_LIT>", ",", "<NUM_LIT:3>", ",", "false", ")", ";", "int", "scrolled", "=", "layoutManager", ".", "scrollBy", "(", "<NUM_LIT>", ",", "null", ")", ";", "assertThat", "(", "layoutManager", ".", "pendingScroll", ",", "is", "(", "initialPendingScroll", "-", "scrolled", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "scrollBy_scrollIsAccumulated", "(", ")", "{", "int", "initialScrolled", "=", "layoutManager", ".", "scrolled", ";", "prepareStubsForScrollBy", "(", "<NUM_LIT>", ",", "<NUM_LIT:3>", ",", "false", ")", ";", "int", "scrolled", "=", "layoutManager", ".", "scrollBy", "(", "<NUM_LIT:100>", ",", "null", ")", ";", "assertThat", "(", "layoutManager", ".", "scrolled", ",", "is", "(", "initialScrolled", "+", "scrolled", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "scrollBy_scrolledMoreThanZero_listenerIsNotifiedAboutScroll", "(", ")", "{", "prepareStubsForScrollBy", "(", "<NUM_LIT>", ",", "<NUM_LIT:3>", ",", "false", ")", ";", "int", "scrolled", "=", "layoutManager", ".", "scrollBy", "(", "<NUM_LIT>", ",", "null", ")", ";", "assertThat", "(", "scrolled", ",", "is", "(", "greaterThan", "(", "0", ")", ")", ")", ";", "verify", "(", "mockScrollStateListener", ")", ".", "onScroll", "(", "anyFloat", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "scrollBy_scrolledByZero_listenerIsNotNotifiedAboutScroll", "(", ")", "{", "prepareStubsForScrollBy", "(", "0", ",", "<NUM_LIT:2>", ",", "false", ")", ";", "int", "scrolled", "=", "layoutManager", ".", "scrollBy", "(", "<NUM_LIT>", ",", "null", ")", ";", "assertThat", "(", "scrolled", ",", "is", "(", "0", ")", ")", ";", "verify", "(", "mockScrollStateListener", ",", "never", "(", ")", ")", ".", "onScroll", "(", "anyFloat", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "scrollBy_triesToScrollToTheItemBeforeFirst_onBoundReachedIsTrue", "(", ")", "{", "layoutManager", ".", "currentPosition", "=", "0", ";", "stubRecyclerViewProxy", ".", "addChildren", "(", "<NUM_LIT:5>", ",", "0", ")", ";", "layoutManager", ".", "scrollBy", "(", "-", "<NUM_LIT:100>", ",", "null", ")", ";", "verify", "(", "mockScrollStateListener", ")", ".", "onIsBoundReachedFlagChange", "(", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "scrollBy_triesToScrollToTheItemAfterLast_onBoundReachedIsTrue", "(", ")", "{", "layoutManager", ".", "currentPosition", "=", "ADAPTER_ITEM_COUNT", "-", "1", ";", "stubRecyclerViewProxy", ".", "addChildren", "(", "<NUM_LIT:5>", ",", "ADAPTER_ITEM_COUNT", "-", "<NUM_LIT:5>", ")", ";", "layoutManager", ".", "scrollBy", "(", "<NUM_LIT:100>", ",", "null", ")", ";", "verify", "(", "mockScrollStateListener", ")", ".", "onIsBoundReachedFlagChange", "(", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "scrollBy_scrollsToAllowedElement_onBoundReachedIsFalse", "(", ")", "{", "layoutManager", ".", "currentPosition", "=", "ADAPTER_ITEM_COUNT", "/", "<NUM_LIT:2>", ";", "stubRecyclerViewProxy", ".", "addChildren", "(", "<NUM_LIT:5>", ",", "0", ")", ";", "layoutManager", ".", "scrollBy", "(", "<NUM_LIT:100>", ",", "null", ")", ";", "verify", "(", "mockScrollStateListener", ")", ".", "onIsBoundReachedFlagChange", "(", "false", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onScrollStateChanged_dragStartedWhenWasIdle_listenerNotifiedAboutScrollStart", "(", ")", "{", "layoutManager", ".", "currentScrollState", "=", "RecyclerView", ".", "SCROLL_STATE_IDLE", ";", "layoutManager", ".", "onScrollStateChanged", "(", "RecyclerView", ".", "SCROLL_STATE_DRAGGING", ")", ";", "verify", "(", "mockScrollStateListener", ")", ".", "onScrollStart", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onScrollStateChanged_settlingStartedWhenWasIdle_listenerNotifiedAboutScrollStart", "(", ")", "{", "layoutManager", ".", "currentScrollState", "=", "RecyclerView", ".", "SCROLL_STATE_IDLE", ";", "layoutManager", ".", "onScrollStateChanged", "(", "RecyclerView", ".", "SCROLL_STATE_SETTLING", ")", ";", "verify", "(", "mockScrollStateListener", ")", ".", "onScrollStart", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onScrollStateChanged_newState_layoutManagerUpdatesItsState", "(", ")", "{", "final", "int", "newState", "=", "RecyclerView", ".", "SCROLL_STATE_DRAGGING", ";", "layoutManager", ".", "currentScrollState", "=", "RecyclerView", ".", "SCROLL_STATE_IDLE", ";", "assertThat", "(", "layoutManager", ".", "currentScrollState", ",", "is", "(", "not", "(", "newState", ")", ")", ")", ";", "layoutManager", ".", "onScrollStateChanged", "(", "newState", ")", ";", "assertThat", "(", "layoutManager", ".", "currentScrollState", ",", "is", "(", "newState", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onScrollStateChanged_scrolledEnoughToChangeCurrent_listenerNotifiedAboutScrollEnd", "(", ")", "{", "layoutManager", ".", "currentScrollState", "=", "RecyclerView", ".", "SCROLL_STATE_DRAGGING", ";", "layoutManager", ".", "scrolled", "=", "layoutManager", ".", "scrollToChangeCurrent", ";", "layoutManager", ".", "onScrollStateChanged", "(", "RecyclerView", ".", "SCROLL_STATE_IDLE", ")", ";", "verify", "(", "mockScrollStateListener", ")", ".", "onScrollEnd", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onScrollStateChanged_scrolledNotEnoughToChangeCurrent_listenerNotNotifiedAboutScrollEnd", "(", ")", "{", "layoutManager", ".", "currentScrollState", "=", "RecyclerView", ".", "SCROLL_STATE_DRAGGING", ";", "layoutManager", ".", "scrollToChangeCurrent", "=", "stubOrientationHelper", ".", "getDistanceToChangeCurrent", "(", "CHILD_WIDTH", ",", "CHILD_HEIGHT", ")", ";", "layoutManager", ".", "scrolled", "=", "layoutManager", ".", "scrollToChangeCurrent", "/", "<NUM_LIT:2>", ";", "layoutManager", ".", "onScrollStateChanged", "(", "RecyclerView", ".", "SCROLL_STATE_IDLE", ")", ";", "verify", "(", "mockScrollStateListener", ",", "never", "(", ")", ")", ".", "onScrollEnd", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onScrollStateChanged_draggedLessThanScrollToSnapToAnotherItem_settlesToCurrentPosition", "(", ")", "{", "layoutManager", ".", "currentScrollState", "=", "RecyclerView", ".", "SCROLL_STATE_DRAGGING", ";", "layoutManager", ".", "currentPosition", "=", "ADAPTER_ITEM_COUNT", "/", "<NUM_LIT:2>", ";", "layoutManager", ".", "scrollToChangeCurrent", "=", "stubOrientationHelper", ".", "getDistanceToChangeCurrent", "(", "CHILD_WIDTH", ",", "CHILD_HEIGHT", ")", ";", "layoutManager", ".", "pendingScroll", "=", "0", ";", "layoutManager", ".", "scrolled", "=", "(", "int", ")", "(", "layoutManager", ".", "scrollToChangeCurrent", "*", "(", "SCROLL_TO_SNAP_TO_ANOTHER_ITEM", "-", "<NUM_LIT>", ")", ")", ";", "layoutManager", ".", "onScrollStateChanged", "(", "RecyclerView", ".", "SCROLL_STATE_IDLE", ")", ";", "assertThat", "(", "layoutManager", ".", "pendingScroll", ",", "is", "(", "-", "layoutManager", ".", "scrolled", ")", ")", ";", "verify", "(", "stubRecyclerViewProxy", ")", ".", "startSmoothScroll", "(", "any", "(", "RecyclerView", ".", "SmoothScroller", ".", "class", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onScrollStateChanged_draggedMoreThanOrScrollToSnapToAnotherItem_settlesToClosestItem", "(", ")", "{", "layoutManager", ".", "currentScrollState", "=", "RecyclerView", ".", "SCROLL_STATE_DRAGGING", ";", "layoutManager", ".", "currentPosition", "=", "ADAPTER_ITEM_COUNT", "/", "<NUM_LIT:2>", ";", "layoutManager", ".", "scrollToChangeCurrent", "=", "stubOrientationHelper", ".", "getDistanceToChangeCurrent", "(", "CHILD_WIDTH", ",", "CHILD_HEIGHT", ")", ";", "layoutManager", ".", "pendingScroll", "=", "0", ";", "layoutManager", ".", "scrolled", "=", "(", "int", ")", "(", "layoutManager", ".", "scrollToChangeCurrent", "*", "SCROLL_TO_SNAP_TO_ANOTHER_ITEM", ")", ";", "int", "scrollLeftToAnotherItem", "=", "layoutManager", ".", "scrollToChangeCurrent", "-", "layoutManager", ".", "scrolled", ";", "layoutManager", ".", "onScrollStateChanged", "(", "RecyclerView", ".", "SCROLL_STATE_IDLE", ")", ";", "assertThat", "(", "layoutManager", ".", "pendingScroll", ",", "is", "(", "scrollLeftToAnotherItem", ")", ")", ";", "verify", "(", "stubRecyclerViewProxy", ")", ".", "startSmoothScroll", "(", "any", "(", "RecyclerView", ".", "SmoothScroller", ".", "class", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onScrollStateChanged_whenSettlingDragIsStarted_settlingStops", "(", ")", "{", "layoutManager", ".", "currentScrollState", "=", "RecyclerView", ".", "SCROLL_STATE_SETTLING", ";", "layoutManager", ".", "pendingScroll", "=", "<NUM_LIT:1000>", ";", "layoutManager", ".", "onScrollStateChanged", "(", "RecyclerView", ".", "SCROLL_STATE_DRAGGING", ")", ";", "assertThat", "(", "layoutManager", ".", "pendingScroll", ",", "is", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onScrollStateChanged_whenSettlingDragIsStarted_closestPositionBecomesCurrent", "(", ")", "{", "final", "int", "initialPosition", "=", "<NUM_LIT:5>", ";", "layoutManager", ".", "currentScrollState", "=", "RecyclerView", ".", "SCROLL_STATE_SETTLING", ";", "layoutManager", ".", "scrollToChangeCurrent", "=", "stubOrientationHelper", ".", "getDistanceToChangeCurrent", "(", "CHILD_WIDTH", ",", "CHILD_HEIGHT", ")", ";", "final", "int", "scrolled", "=", "(", "int", ")", "(", "layoutManager", ".", "scrollToChangeCurrent", "*", "SCROLL_TO_SNAP_TO_ANOTHER_ITEM", ")", ";", "layoutManager", ".", "scrolled", "=", "scrolled", ";", "layoutManager", ".", "currentPosition", "=", "initialPosition", ";", "layoutManager", ".", "onScrollStateChanged", "(", "RecyclerView", ".", "SCROLL_STATE_DRAGGING", ")", ";", "assertThat", "(", "layoutManager", ".", "currentPosition", ",", "is", "(", "initialPosition", "+", "1", ")", ")", ";", "assertThat", "(", "layoutManager", ".", "scrolled", ",", "is", "(", "scrolled", "-", "layoutManager", ".", "scrollToChangeCurrent", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onFling_velocitiesWithDifferentSignsOnDifferentAxis_correctFlingDirection", "(", ")", "{", "final", "int", "velocityX", "=", "<NUM_LIT:100>", ",", "velocityY", "=", "-", "<NUM_LIT:100>", ";", "final", "int", "velocityToUse", "=", "stubOrientationHelper", ".", "getFlingVelocity", "(", "velocityX", ",", "velocityY", ")", ";", "Direction", "direction", "=", "Direction", ".", "fromDelta", "(", "velocityToUse", ")", ";", "layoutManager", ".", "currentPosition", "=", "ADAPTER_ITEM_COUNT", "/", "<NUM_LIT:2>", ";", "layoutManager", ".", "scrollToChangeCurrent", "=", "stubOrientationHelper", ".", "getDistanceToChangeCurrent", "(", "CHILD_WIDTH", ",", "CHILD_HEIGHT", ")", ";", "layoutManager", ".", "pendingScroll", "=", "0", ";", "layoutManager", ".", "onFling", "(", "velocityX", ",", "velocityY", ")", ";", "assertThat", "(", "layoutManager", ".", "pendingScroll", ",", "is", "(", "direction", ".", "applyTo", "(", "layoutManager", ".", "scrollToChangeCurrent", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onFling_toTheOppositeToScrollDirection_returnsToPosition", "(", ")", "{", "layoutManager", ".", "scrollToChangeCurrent", "=", "stubOrientationHelper", ".", "getDistanceToChangeCurrent", "(", "CHILD_WIDTH", ",", "CHILD_HEIGHT", ")", ";", "int", "scrolled", "=", "layoutManager", ".", "scrollToChangeCurrent", "/", "<NUM_LIT:2>", ";", "layoutManager", ".", "pendingScroll", "=", "0", ";", "layoutManager", ".", "scrolled", "=", "scrolled", ";", "layoutManager", ".", "onFling", "(", "-", "scrolled", ",", "-", "scrolled", ")", ";", "assertThat", "(", "layoutManager", ".", "pendingScroll", ",", "is", "(", "-", "scrolled", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onFling_toTheSameDirectionAsScrolled_changesPosition", "(", ")", "{", "layoutManager", ".", "scrollToChangeCurrent", "=", "stubOrientationHelper", ".", "getDistanceToChangeCurrent", "(", "CHILD_WIDTH", ",", "CHILD_HEIGHT", ")", ";", "int", "scrolled", "=", "layoutManager", ".", "scrollToChangeCurrent", "/", "<NUM_LIT:3>", ";", "int", "leftToScroll", "=", "layoutManager", ".", "scrollToChangeCurrent", "-", "scrolled", ";", "layoutManager", ".", "pendingScroll", "=", "0", ";", "layoutManager", ".", "scrolled", "=", "scrolled", ";", "layoutManager", ".", "onFling", "(", "scrolled", ",", "scrolled", ")", ";", "assertThat", "(", "layoutManager", ".", "pendingScroll", ",", "is", "(", "leftToScroll", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onFling_toItemBeforeTheFirst_isImpossible", "(", ")", "{", "layoutManager", ".", "currentPosition", "=", "0", ";", "layoutManager", ".", "onFling", "(", "-", "<NUM_LIT:100>", ",", "-", "<NUM_LIT:100>", ")", ";", "assertThat", "(", "layoutManager", ".", "pendingScroll", ",", "is", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "onFling_toItemAfterTheLast_isImpossible", "(", ")", "{", "layoutManager", ".", "currentPosition", "=", "ADAPTER_ITEM_COUNT", "-", "1", ";", "layoutManager", ".", "onFling", "(", "<NUM_LIT:100>", ",", "<NUM_LIT:100>", ")", ";", "assertThat", "(", "layoutManager", ".", "pendingScroll", ",", "is", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "prepareStubsForScrollBy", "(", "int", "allowedScroll", ",", "int", "childCount", ",", "boolean", "hasNewBecomeVisible", ")", "{", "doReturn", "(", "allowedScroll", ")", ".", "when", "(", "layoutManager", ")", ".", "calculateAllowedScrollIn", "(", "any", "(", "Direction", ".", "class", ")", ")", ";", "stubRecyclerViewProxy", ".", "addChildren", "(", "childCount", ",", "0", ")", ";", "doReturn", "(", "hasNewBecomeVisible", ")", ".", "when", "(", "stubOrientationHelper", ")", ".", "hasNewBecomeVisible", "(", "any", "(", "DiscreteScrollLayoutManager", ".", "class", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "DSVOrientation", "getOrientationToTest", "(", ")", "{", "return", "DSVOrientation", ".", "HORIZONTAL", ";", "}", "</s>"]
["<s>", "public", "StubRecyclerViewProxy", "(", "@", "NonNull", "RecyclerView", ".", "LayoutManager", "layoutManager", ")", "{", "super", "(", "layoutManager", ")", ";", "children", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "removeAndRecycleAllViews", "(", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "for", "(", "StubChildInfo", "childInfo", ":", "children", ")", "{", "recycleView", "(", "childInfo", ".", "view", ",", "recycler", ")", ";", "}", "removeAllViews", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getChildCount", "(", ")", "{", "return", "children", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "return", "adapterItemCount", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "View", "getMeasuredChildForAdapterPosition", "(", "int", "position", ",", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "if", "(", "position", "<", "adapterItemCount", ")", "{", "return", "new", "StubChildInfo", "(", "0", ",", "position", ")", ".", "view", ";", "}", "throw", "new", "IndexOutOfBoundsException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "View", "getChildAt", "(", "int", "index", ")", "{", "return", "children", ".", "get", "(", "index", ")", ".", "view", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getPosition", "(", "View", "view", ")", "{", "for", "(", "StubChildInfo", "info", ":", "children", ")", "{", "if", "(", "info", ".", "view", "=", "=", "view", ")", "return", "info", ".", "adapterPosition", ";", "}", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMeasuredWidth", "(", "View", "child", ")", "{", "return", "childWidth", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMeasuredHeight", "(", "View", "child", ")", "{", "return", "childHeight", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getWidth", "(", ")", "{", "return", "width", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getHeight", "(", ")", "{", "return", "height", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "removeAllViews", "(", ")", "{", "children", ".", "clear", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "offsetChildrenHorizontal", "(", "int", "amount", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "offsetChildrenVertical", "(", "int", "amount", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "attachView", "(", "View", "view", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "detachView", "(", "View", "view", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "detachAndScrapView", "(", "View", "view", ",", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "detachAndScrapAttachedViews", "(", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "recycleView", "(", "View", "view", ",", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "layoutDecoratedWithMargins", "(", "View", "v", ",", "int", "left", ",", "int", "top", ",", "int", "right", ",", "int", "bottom", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "requestLayout", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "startSmoothScroll", "(", "RecyclerView", ".", "SmoothScroller", "smoothScroller", ")", "{", "}", "</s>"]
["<s>", "public", "void", "addChildren", "(", "int", "childCount", ",", "int", "firstChildAdapterPosition", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "childCount", ";", "i", "+", "+", ")", "{", "children", ".", "add", "(", "new", "StubChildInfo", "(", "i", ",", "firstChildAdapterPosition", "+", "i", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setAdapterItemCount", "(", "int", "adapterItemCount", ")", "{", "this", ".", "adapterItemCount", "=", "adapterItemCount", ";", "}", "</s>"]
["<s>", "private", "StubChildInfo", "(", "int", "recyclerChildIndex", ",", "int", "adapterPosition", ")", "{", "this", ".", "view", "=", "mock", "(", "View", ".", "class", ")", ";", "this", ".", "recyclerChildIndex", "=", "recyclerChildIndex", ";", "this", ".", "adapterPosition", "=", "adapterPosition", ";", "}", "</s>"]
["<s>", "public", "Builder", "(", "RecyclerView", ".", "LayoutManager", "lm", ")", "{", "target", "=", "new", "StubRecyclerViewProxy", "(", "lm", ")", ";", "}", "</s>"]
["<s>", "public", "Builder", "withAdapterItemCount", "(", "int", "count", ")", "{", "target", ".", "adapterItemCount", "=", "count", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "Builder", "withRecyclerDimensions", "(", "int", "width", ",", "int", "height", ")", "{", "target", ".", "width", "=", "width", ";", "target", ".", "height", "=", "height", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "Builder", "withChildDimensions", "(", "int", "width", ",", "int", "height", ")", "{", "target", ".", "childWidth", "=", "width", ";", "target", ".", "childHeight", "=", "height", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "StubRecyclerViewProxy", "create", "(", ")", "{", "return", "target", ";", "}", "</s>"]
["<s>", "@", "Override", "Helper", "createHelper", "(", ")", "{", "return", "new", "HorizontalHelper", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "Helper", "createHelper", "(", ")", "{", "return", "new", "VerticalHelper", "(", ")", ";", "}", "</s>"]
["<s>", "abstract", "Helper", "createHelper", "(", ")", ";", "</s>"]
["<s>", "int", "getViewEnd", "(", "int", "recyclerWidth", ",", "int", "recyclerHeight", ")", ";", "</s>"]
["<s>", "int", "getDistanceToChangeCurrent", "(", "int", "childWidth", ",", "int", "childHeight", ")", ";", "</s>"]
["<s>", "void", "setCurrentViewCenter", "(", "Point", "recyclerCenter", ",", "int", "scrolled", ",", "Point", "outPoint", ")", ";", "</s>"]
["<s>", "void", "shiftViewCenter", "(", "Direction", "direction", ",", "int", "shiftAmount", ",", "Point", "outCenter", ")", ";", "</s>"]
["<s>", "int", "getFlingVelocity", "(", "int", "velocityX", ",", "int", "velocityY", ")", ";", "</s>"]
["<s>", "int", "getPendingDx", "(", "int", "pendingScroll", ")", ";", "</s>"]
["<s>", "int", "getPendingDy", "(", "int", "pendingScroll", ")", ";", "</s>"]
["<s>", "void", "offsetChildren", "(", "int", "amount", ",", "RecyclerViewProxy", "lm", ")", ";", "</s>"]
["<s>", "float", "getDistanceFromCenter", "(", "Point", "center", ",", "int", "viewCenterX", ",", "int", "viewCenterY", ")", ";", "</s>"]
["<s>", "boolean", "isViewVisible", "(", "Point", "center", ",", "int", "halfWidth", ",", "int", "halfHeight", ",", "int", "endBound", ",", "int", "extraSpace", ")", ";", "</s>"]
["<s>", "boolean", "hasNewBecomeVisible", "(", "DiscreteScrollLayoutManager", "lm", ")", ";", "</s>"]
["<s>", "boolean", "canScrollVertically", "(", ")", ";", "</s>"]
["<s>", "boolean", "canScrollHorizontally", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "int", "getViewEnd", "(", "int", "recyclerWidth", ",", "int", "recyclerHeight", ")", "{", "return", "recyclerWidth", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getDistanceToChangeCurrent", "(", "int", "childWidth", ",", "int", "childHeight", ")", "{", "return", "childWidth", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setCurrentViewCenter", "(", "Point", "recyclerCenter", ",", "int", "scrolled", ",", "Point", "outPoint", ")", "{", "int", "newX", "=", "recyclerCenter", ".", "x", "-", "scrolled", ";", "outPoint", ".", "set", "(", "newX", ",", "recyclerCenter", ".", "y", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "shiftViewCenter", "(", "Direction", "direction", ",", "int", "shiftAmount", ",", "Point", "outCenter", ")", "{", "int", "newX", "=", "outCenter", ".", "x", "+", "direction", ".", "applyTo", "(", "shiftAmount", ")", ";", "outCenter", ".", "set", "(", "newX", ",", "outCenter", ".", "y", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isViewVisible", "(", "Point", "viewCenter", ",", "int", "halfWidth", ",", "int", "halfHeight", ",", "int", "endBound", ",", "int", "extraSpace", ")", "{", "int", "viewLeft", "=", "viewCenter", ".", "x", "-", "halfWidth", ";", "int", "viewRight", "=", "viewCenter", ".", "x", "+", "halfWidth", ";", "return", "viewLeft", "<", "(", "endBound", "+", "extraSpace", ")", "&", "&", "viewRight", ">", "-", "extraSpace", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasNewBecomeVisible", "(", "DiscreteScrollLayoutManager", "lm", ")", "{", "View", "firstChild", "=", "lm", ".", "getFirstChild", "(", ")", ",", "lastChild", "=", "lm", ".", "getLastChild", "(", ")", ";", "int", "leftBound", "=", "-", "lm", ".", "getExtraLayoutSpace", "(", ")", ";", "int", "rightBound", "=", "lm", ".", "getWidth", "(", ")", "+", "lm", ".", "getExtraLayoutSpace", "(", ")", ";", "boolean", "isNewVisibleFromLeft", "=", "lm", ".", "getDecoratedLeft", "(", "firstChild", ")", ">", "leftBound", "&", "&", "lm", ".", "getPosition", "(", "firstChild", ")", ">", "0", ";", "boolean", "isNewVisibleFromRight", "=", "lm", ".", "getDecoratedRight", "(", "lastChild", ")", "<", "rightBound", "&", "&", "lm", ".", "getPosition", "(", "lastChild", ")", "<", "lm", ".", "getItemCount", "(", ")", "-", "1", ";", "return", "isNewVisibleFromLeft", "|", "|", "isNewVisibleFromRight", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "offsetChildren", "(", "int", "amount", ",", "RecyclerViewProxy", "helper", ")", "{", "helper", ".", "offsetChildrenHorizontal", "(", "amount", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "float", "getDistanceFromCenter", "(", "Point", "center", ",", "int", "viewCenterX", ",", "int", "viewCenterY", ")", "{", "return", "viewCenterX", "-", "center", ".", "x", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getFlingVelocity", "(", "int", "velocityX", ",", "int", "velocityY", ")", "{", "return", "velocityX", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "canScrollHorizontally", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "canScrollVertically", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getPendingDx", "(", "int", "pendingScroll", ")", "{", "return", "pendingScroll", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getPendingDy", "(", "int", "pendingScroll", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getViewEnd", "(", "int", "recyclerWidth", ",", "int", "recyclerHeight", ")", "{", "return", "recyclerHeight", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getDistanceToChangeCurrent", "(", "int", "childWidth", ",", "int", "childHeight", ")", "{", "return", "childHeight", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setCurrentViewCenter", "(", "Point", "recyclerCenter", ",", "int", "scrolled", ",", "Point", "outPoint", ")", "{", "int", "newY", "=", "recyclerCenter", ".", "y", "-", "scrolled", ";", "outPoint", ".", "set", "(", "recyclerCenter", ".", "x", ",", "newY", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "shiftViewCenter", "(", "Direction", "direction", ",", "int", "shiftAmount", ",", "Point", "outCenter", ")", "{", "int", "newY", "=", "outCenter", ".", "y", "+", "direction", ".", "applyTo", "(", "shiftAmount", ")", ";", "outCenter", ".", "set", "(", "outCenter", ".", "x", ",", "newY", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "offsetChildren", "(", "int", "amount", ",", "RecyclerViewProxy", "helper", ")", "{", "helper", ".", "offsetChildrenVertical", "(", "amount", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "float", "getDistanceFromCenter", "(", "Point", "center", ",", "int", "viewCenterX", ",", "int", "viewCenterY", ")", "{", "return", "viewCenterY", "-", "center", ".", "y", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isViewVisible", "(", "Point", "viewCenter", ",", "int", "halfWidth", ",", "int", "halfHeight", ",", "int", "endBound", ",", "int", "extraSpace", ")", "{", "int", "viewTop", "=", "viewCenter", ".", "y", "-", "halfHeight", ";", "int", "viewBottom", "=", "viewCenter", ".", "y", "+", "halfHeight", ";", "return", "viewTop", "<", "(", "endBound", "+", "extraSpace", ")", "&", "&", "viewBottom", ">", "-", "extraSpace", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasNewBecomeVisible", "(", "DiscreteScrollLayoutManager", "lm", ")", "{", "View", "firstChild", "=", "lm", ".", "getFirstChild", "(", ")", ",", "lastChild", "=", "lm", ".", "getLastChild", "(", ")", ";", "int", "topBound", "=", "-", "lm", ".", "getExtraLayoutSpace", "(", ")", ";", "int", "bottomBound", "=", "lm", ".", "getHeight", "(", ")", "+", "lm", ".", "getExtraLayoutSpace", "(", ")", ";", "boolean", "isNewVisibleFromTop", "=", "lm", ".", "getDecoratedTop", "(", "firstChild", ")", ">", "topBound", "&", "&", "lm", ".", "getPosition", "(", "firstChild", ")", ">", "0", ";", "boolean", "isNewVisibleFromBottom", "=", "lm", ".", "getDecoratedBottom", "(", "lastChild", ")", "<", "bottomBound", "&", "&", "lm", ".", "getPosition", "(", "lastChild", ")", "<", "lm", ".", "getItemCount", "(", ")", "-", "1", ";", "return", "isNewVisibleFromTop", "|", "|", "isNewVisibleFromBottom", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getFlingVelocity", "(", "int", "velocityX", ",", "int", "velocityY", ")", "{", "return", "velocityY", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "canScrollHorizontally", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "canScrollVertically", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getPendingDx", "(", "int", "pendingScroll", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getPendingDy", "(", "int", "pendingScroll", ")", "{", "return", "pendingScroll", ";", "}", "</s>"]
["<s>", "public", "DiscreteScrollView", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "init", "(", "null", ")", ";", "}", "</s>"]
["<s>", "public", "DiscreteScrollView", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "init", "(", "attrs", ")", ";", "}", "</s>"]
["<s>", "public", "DiscreteScrollView", "(", "Context", "context", ",", "AttributeSet", "attrs", ",", "int", "defStyleAttr", ")", "{", "super", "(", "context", ",", "attrs", ",", "defStyleAttr", ")", ";", "init", "(", "attrs", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", "AttributeSet", "attrs", ")", "{", "scrollStateChangeListeners", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "onItemChangedListeners", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "int", "orientation", "=", "DEFAULT_ORIENTATION", ";", "if", "(", "attrs", "!", "=", "null", ")", "{", "TypedArray", "ta", "=", "getContext", "(", ")", ".", "obtainStyledAttributes", "(", "attrs", ",", "R", ".", "styleable", ".", "DiscreteScrollView", ")", ";", "orientation", "=", "ta", ".", "getInt", "(", "R", ".", "styleable", ".", "DiscreteScrollView_dsv_orientation", ",", "DEFAULT_ORIENTATION", ")", ";", "ta", ".", "recycle", "(", ")", ";", "}", "layoutManager", "=", "new", "DiscreteScrollLayoutManager", "(", "getContext", "(", ")", ",", "new", "ScrollStateListener", "(", ")", ",", "DSVOrientation", ".", "values", "(", ")", "[", "orientation", "]", ")", ";", "setLayoutManager", "(", "layoutManager", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setLayoutManager", "(", "LayoutManager", "layout", ")", "{", "if", "(", "layout", "instanceof", "DiscreteScrollLayoutManager", ")", "{", "super", ".", "setLayoutManager", "(", "layout", ")", ";", "}", "else", "{", "throw", "new", "IllegalArgumentException", "(", "getContext", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "dsv_ex_msg_dont_set_lm", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "fling", "(", "int", "velocityX", ",", "int", "velocityY", ")", "{", "boolean", "isFling", "=", "super", ".", "fling", "(", "velocityX", ",", "velocityY", ")", ";", "if", "(", "isFling", ")", "{", "layoutManager", ".", "onFling", "(", "velocityX", ",", "velocityY", ")", ";", "}", "else", "{", "layoutManager", ".", "returnToCurrentPosition", "(", ")", ";", "}", "return", "isFling", ";", "}", "</s>"]
["<s>", "@", "Nullable", "public", "ViewHolder", "getViewHolder", "(", "int", "position", ")", "{", "View", "view", "=", "layoutManager", ".", "findViewByPosition", "(", "position", ")", ";", "return", "view", "!", "=", "null", "?", "getChildViewHolder", "(", "view", ")", ":", "null", ";", "}", "</s>"]
["<s>", "public", "int", "getCurrentItem", "(", ")", "{", "return", "layoutManager", ".", "getCurrentPosition", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setItemTransformer", "(", "DiscreteScrollItemTransformer", "transformer", ")", "{", "layoutManager", ".", "setItemTransformer", "(", "transformer", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setItemTransitionTimeMillis", "(", "@", "IntRange", "(", "from", "=", "<NUM_LIT:10>", ")", "int", "millis", ")", "{", "layoutManager", ".", "setTimeForItemSettle", "(", "millis", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setSlideOnFling", "(", "boolean", "result", ")", "{", "layoutManager", ".", "setShouldSlideOnFling", "(", "result", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setSlideOnFlingThreshold", "(", "int", "threshold", ")", "{", "layoutManager", ".", "setSlideOnFlingThreshold", "(", "threshold", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setOrientation", "(", "DSVOrientation", "orientation", ")", "{", "layoutManager", ".", "setOrientation", "(", "orientation", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setOffscreenItems", "(", "int", "items", ")", "{", "layoutManager", ".", "setOffscreenItems", "(", "items", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addScrollStateChangeListener", "(", "@", "NonNull", "ScrollStateChangeListener", "<", "?", ">", "scrollStateChangeListener", ")", "{", "scrollStateChangeListeners", ".", "add", "(", "scrollStateChangeListener", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addScrollListener", "(", "@", "NonNull", "ScrollListener", "<", "?", ">", "scrollListener", ")", "{", "addScrollStateChangeListener", "(", "new", "ScrollListenerAdapter", "(", "scrollListener", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addOnItemChangedListener", "(", "@", "NonNull", "OnItemChangedListener", "<", "?", ">", "onItemChangedListener", ")", "{", "onItemChangedListeners", ".", "add", "(", "onItemChangedListener", ")", ";", "}", "</s>"]
["<s>", "public", "void", "removeScrollStateChangeListener", "(", "@", "NonNull", "ScrollStateChangeListener", "<", "?", ">", "scrollStateChangeListener", ")", "{", "scrollStateChangeListeners", ".", "remove", "(", "scrollStateChangeListener", ")", ";", "}", "</s>"]
["<s>", "public", "void", "removeScrollListener", "(", "@", "NonNull", "ScrollListener", "<", "?", ">", "scrollListener", ")", "{", "removeScrollStateChangeListener", "(", "new", "ScrollListenerAdapter", "<", ">", "(", "scrollListener", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "removeItemChangedListener", "(", "@", "NonNull", "OnItemChangedListener", "<", "?", ">", "onItemChangedListener", ")", "{", "onItemChangedListeners", ".", "remove", "(", "onItemChangedListener", ")", ";", "}", "</s>"]
["<s>", "private", "void", "notifyScrollStart", "(", "ViewHolder", "holder", ",", "int", "current", ")", "{", "for", "(", "ScrollStateChangeListener", "listener", ":", "scrollStateChangeListeners", ")", "{", "listener", ".", "onScrollStart", "(", "holder", ",", "current", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "notifyScrollEnd", "(", "ViewHolder", "holder", ",", "int", "current", ")", "{", "for", "(", "ScrollStateChangeListener", "listener", ":", "scrollStateChangeListeners", ")", "{", "listener", ".", "onScrollEnd", "(", "holder", ",", "current", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "notifyScroll", "(", "float", "position", ",", "int", "currentIndex", ",", "int", "newIndex", ",", "ViewHolder", "currentHolder", ",", "ViewHolder", "newHolder", ")", "{", "for", "(", "ScrollStateChangeListener", "listener", ":", "scrollStateChangeListeners", ")", "{", "listener", ".", "onScroll", "(", "position", ",", "currentIndex", ",", "newIndex", ",", "currentHolder", ",", "newHolder", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "notifyCurrentItemChanged", "(", "ViewHolder", "holder", ",", "int", "current", ")", "{", "for", "(", "OnItemChangedListener", "listener", ":", "onItemChangedListeners", ")", "{", "listener", ".", "onCurrentItemChanged", "(", "holder", ",", "current", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "notifyCurrentItemChanged", "(", ")", "{", "if", "(", "onItemChangedListeners", ".", "isEmpty", "(", ")", ")", "{", "return", ";", "}", "int", "current", "=", "layoutManager", ".", "getCurrentPosition", "(", ")", ";", "ViewHolder", "currentHolder", "=", "getViewHolder", "(", "current", ")", ";", "notifyCurrentItemChanged", "(", "currentHolder", ",", "current", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onIsBoundReachedFlagChange", "(", "boolean", "isBoundReached", ")", "{", "setOverScrollMode", "(", "isBoundReached", "?", "OVER_SCROLL_ALWAYS", ":", "OVER_SCROLL_NEVER", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScrollStart", "(", ")", "{", "if", "(", "scrollStateChangeListeners", ".", "isEmpty", "(", ")", ")", "{", "return", ";", "}", "int", "current", "=", "layoutManager", ".", "getCurrentPosition", "(", ")", ";", "ViewHolder", "holder", "=", "getViewHolder", "(", "current", ")", ";", "if", "(", "holder", "!", "=", "null", ")", "{", "notifyScrollStart", "(", "holder", ",", "current", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScrollEnd", "(", ")", "{", "if", "(", "onItemChangedListeners", ".", "isEmpty", "(", ")", "&", "&", "scrollStateChangeListeners", ".", "isEmpty", "(", ")", ")", "{", "return", ";", "}", "int", "current", "=", "layoutManager", ".", "getCurrentPosition", "(", ")", ";", "ViewHolder", "holder", "=", "getViewHolder", "(", "current", ")", ";", "if", "(", "holder", "!", "=", "null", ")", "{", "notifyScrollEnd", "(", "holder", ",", "current", ")", ";", "notifyCurrentItemChanged", "(", "holder", ",", "current", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScroll", "(", "float", "currentViewPosition", ")", "{", "if", "(", "scrollStateChangeListeners", ".", "isEmpty", "(", ")", ")", "{", "return", ";", "}", "int", "currentIndex", "=", "getCurrentItem", "(", ")", ";", "int", "newIndex", "=", "layoutManager", ".", "getNextPosition", "(", ")", ";", "if", "(", "currentIndex", "!", "=", "newIndex", ")", "{", "notifyScroll", "(", "currentViewPosition", ",", "currentIndex", ",", "newIndex", ",", "getViewHolder", "(", "currentIndex", ")", ",", "getViewHolder", "(", "newIndex", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCurrentViewFirstLayout", "(", ")", "{", "post", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "notifyCurrentItemChanged", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "notifyCurrentItemChanged", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDataSetChangeChangedPosition", "(", ")", "{", "notifyCurrentItemChanged", "(", ")", ";", "}", "</s>"]
["<s>", "void", "onScrollStart", "(", "@", "NonNull", "T", "currentItemHolder", ",", "int", "adapterPosition", ")", ";", "</s>"]
["<s>", "void", "onScrollEnd", "(", "@", "NonNull", "T", "currentItemHolder", ",", "int", "adapterPosition", ")", ";", "</s>"]
["<s>", "void", "onScroll", "(", "float", "scrollPosition", ",", "int", "currentPosition", ",", "int", "newPosition", ",", "@", "Nullable", "T", "currentHolder", ",", "@", "Nullable", "T", "newCurrent", ")", ";", "</s>"]
["<s>", "void", "onScroll", "(", "float", "scrollPosition", ",", "int", "currentPosition", ",", "int", "newPosition", ",", "@", "Nullable", "T", "currentHolder", ",", "@", "Nullable", "T", "newCurrent", ")", ";", "</s>"]
["<s>", "void", "onCurrentItemChanged", "(", "@", "Nullable", "T", "viewHolder", ",", "int", "adapterPosition", ")", ";", "</s>"]
["<s>", "public", "DiscreteScrollLayoutManager", "(", "@", "NonNull", "Context", "c", ",", "@", "NonNull", "ScrollStateListener", "scrollStateListener", ",", "@", "NonNull", "DSVOrientation", "orientation", ")", "{", "this", ".", "context", "=", "c", ";", "this", ".", "timeForItemSettle", "=", "DEFAULT_TIME_FOR_ITEM_SETTLE", ";", "this", ".", "pendingPosition", "=", "NO_POSITION", ";", "this", ".", "currentPosition", "=", "NO_POSITION", ";", "this", ".", "flingThreshold", "=", "DEFAULT_FLING_THRESHOLD", ";", "this", ".", "shouldSlideOnFling", "=", "false", ";", "this", ".", "recyclerCenter", "=", "new", "Point", "(", ")", ";", "this", ".", "currentViewCenter", "=", "new", "Point", "(", ")", ";", "this", ".", "viewCenterIterator", "=", "new", "Point", "(", ")", ";", "this", ".", "detachedCache", "=", "new", "SparseArray", "<", ">", "(", ")", ";", "this", ".", "scrollStateListener", "=", "scrollStateListener", ";", "this", ".", "orientationHelper", "=", "orientation", ".", "createHelper", "(", ")", ";", "this", ".", "recyclerViewProxy", "=", "new", "RecyclerViewProxy", "(", "this", ")", ";", "setAutoMeasureEnabled", "(", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onLayoutChildren", "(", "RecyclerView", ".", "Recycler", "recycler", ",", "RecyclerView", ".", "State", "state", ")", "{", "if", "(", "state", ".", "getItemCount", "(", ")", "=", "=", "0", ")", "{", "recyclerViewProxy", ".", "removeAndRecycleAllViews", "(", "recycler", ")", ";", "currentPosition", "=", "pendingPosition", "=", "NO_POSITION", ";", "scrolled", "=", "pendingScroll", "=", "0", ";", "return", ";", "}", "if", "(", "currentPosition", "=", "=", "NO_POSITION", ")", "{", "currentPosition", "=", "0", ";", "}", "if", "(", "!", "isFirstOrEmptyLayout", ")", "{", "isFirstOrEmptyLayout", "=", "recyclerViewProxy", ".", "getChildCount", "(", ")", "=", "=", "0", ";", "if", "(", "isFirstOrEmptyLayout", ")", "{", "initChildDimensions", "(", "recycler", ")", ";", "}", "}", "updateRecyclerDimensions", "(", ")", ";", "recyclerViewProxy", ".", "detachAndScrapAttachedViews", "(", "recycler", ")", ";", "fill", "(", "recycler", ")", ";", "applyItemTransformToChildren", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onLayoutCompleted", "(", "RecyclerView", ".", "State", "state", ")", "{", "if", "(", "isFirstOrEmptyLayout", ")", "{", "scrollStateListener", ".", "onCurrentViewFirstLayout", "(", ")", ";", "isFirstOrEmptyLayout", "=", "false", ";", "}", "else", "if", "(", "dataSetChangeShiftedPosition", ")", "{", "scrollStateListener", ".", "onDataSetChangeChangedPosition", "(", ")", ";", "dataSetChangeShiftedPosition", "=", "false", ";", "}", "}", "</s>"]
["<s>", "protected", "void", "initChildDimensions", "(", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "View", "viewToMeasure", "=", "recyclerViewProxy", ".", "getMeasuredChildForAdapterPosition", "(", "0", ",", "recycler", ")", ";", "int", "childViewWidth", "=", "recyclerViewProxy", ".", "getMeasuredWidth", "(", "viewToMeasure", ")", ";", "int", "childViewHeight", "=", "recyclerViewProxy", ".", "getMeasuredHeight", "(", "viewToMeasure", ")", ";", "childHalfWidth", "=", "childViewWidth", "/", "<NUM_LIT:2>", ";", "childHalfHeight", "=", "childViewHeight", "/", "<NUM_LIT:2>", ";", "scrollToChangeCurrent", "=", "orientationHelper", ".", "getDistanceToChangeCurrent", "(", "childViewWidth", ",", "childViewHeight", ")", ";", "extraLayoutSpace", "=", "scrollToChangeCurrent", "*", "offscreenItems", ";", "recyclerViewProxy", ".", "detachAndScrapView", "(", "viewToMeasure", ",", "recycler", ")", ";", "}", "</s>"]
["<s>", "protected", "void", "updateRecyclerDimensions", "(", ")", "{", "recyclerCenter", ".", "set", "(", "recyclerViewProxy", ".", "getWidth", "(", ")", "/", "<NUM_LIT:2>", ",", "recyclerViewProxy", ".", "getHeight", "(", ")", "/", "<NUM_LIT:2>", ")", ";", "}", "</s>"]
["<s>", "protected", "void", "fill", "(", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "cacheAndDetachAttachedViews", "(", ")", ";", "orientationHelper", ".", "setCurrentViewCenter", "(", "recyclerCenter", ",", "scrolled", ",", "currentViewCenter", ")", ";", "final", "int", "endBound", "=", "orientationHelper", ".", "getViewEnd", "(", "recyclerViewProxy", ".", "getWidth", "(", ")", ",", "recyclerViewProxy", ".", "getHeight", "(", ")", ")", ";", "if", "(", "isViewVisible", "(", "currentViewCenter", ",", "endBound", ")", ")", "{", "layoutView", "(", "recycler", ",", "currentPosition", ",", "currentViewCenter", ")", ";", "}", "layoutViews", "(", "recycler", ",", "Direction", ".", "START", ",", "endBound", ")", ";", "layoutViews", "(", "recycler", ",", "Direction", ".", "END", ",", "endBound", ")", ";", "recycleDetachedViewsAndClearCache", "(", "recycler", ")", ";", "}", "</s>"]
["<s>", "private", "void", "layoutViews", "(", "RecyclerView", ".", "Recycler", "recycler", ",", "Direction", "direction", ",", "int", "endBound", ")", "{", "final", "int", "positionStep", "=", "direction", ".", "applyTo", "(", "1", ")", ";", "boolean", "noPredictiveLayoutRequired", "=", "pendingPosition", "=", "=", "NO_POSITION", "|", "|", "!", "direction", ".", "sameAs", "(", "pendingPosition", "-", "currentPosition", ")", ";", "viewCenterIterator", ".", "set", "(", "currentViewCenter", ".", "x", ",", "currentViewCenter", ".", "y", ")", ";", "for", "(", "int", "pos", "=", "currentPosition", "+", "positionStep", ";", "isInBounds", "(", "pos", ")", ";", "pos", "+", "=", "positionStep", ")", "{", "if", "(", "pos", "=", "=", "pendingPosition", ")", "{", "noPredictiveLayoutRequired", "=", "true", ";", "}", "orientationHelper", ".", "shiftViewCenter", "(", "direction", ",", "scrollToChangeCurrent", ",", "viewCenterIterator", ")", ";", "if", "(", "isViewVisible", "(", "viewCenterIterator", ",", "endBound", ")", ")", "{", "layoutView", "(", "recycler", ",", "pos", ",", "viewCenterIterator", ")", ";", "}", "else", "if", "(", "noPredictiveLayoutRequired", ")", "{", "break", ";", "}", "}", "}", "</s>"]
["<s>", "protected", "void", "layoutView", "(", "RecyclerView", ".", "Recycler", "recycler", ",", "int", "position", ",", "Point", "viewCenter", ")", "{", "if", "(", "position", "<", "0", ")", "return", ";", "View", "v", "=", "detachedCache", ".", "get", "(", "position", ")", ";", "if", "(", "v", "=", "=", "null", ")", "{", "v", "=", "recyclerViewProxy", ".", "getMeasuredChildForAdapterPosition", "(", "position", ",", "recycler", ")", ";", "recyclerViewProxy", ".", "layoutDecoratedWithMargins", "(", "v", ",", "viewCenter", ".", "x", "-", "childHalfWidth", ",", "viewCenter", ".", "y", "-", "childHalfHeight", ",", "viewCenter", ".", "x", "+", "childHalfWidth", ",", "viewCenter", ".", "y", "+", "childHalfHeight", ")", ";", "}", "else", "{", "recyclerViewProxy", ".", "attachView", "(", "v", ")", ";", "detachedCache", ".", "remove", "(", "position", ")", ";", "}", "}", "</s>"]
["<s>", "protected", "void", "cacheAndDetachAttachedViews", "(", ")", "{", "detachedCache", ".", "clear", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "recyclerViewProxy", ".", "getChildCount", "(", ")", ";", "i", "+", "+", ")", "{", "View", "child", "=", "recyclerViewProxy", ".", "getChildAt", "(", "i", ")", ";", "detachedCache", ".", "put", "(", "recyclerViewProxy", ".", "getPosition", "(", "child", ")", ",", "child", ")", ";", "}", "for", "(", "int", "i", "=", "0", ";", "i", "<", "detachedCache", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "recyclerViewProxy", ".", "detachView", "(", "detachedCache", ".", "valueAt", "(", "i", ")", ")", ";", "}", "}", "</s>"]
["<s>", "protected", "void", "recycleDetachedViewsAndClearCache", "(", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "detachedCache", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "View", "viewToRemove", "=", "detachedCache", ".", "valueAt", "(", "i", ")", ";", "recyclerViewProxy", ".", "recycleView", "(", "viewToRemove", ",", "recycler", ")", ";", "}", "detachedCache", ".", "clear", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onItemsAdded", "(", "RecyclerView", "recyclerView", ",", "int", "positionStart", ",", "int", "itemCount", ")", "{", "int", "newPosition", "=", "currentPosition", ";", "if", "(", "currentPosition", "=", "=", "NO_POSITION", ")", "{", "newPosition", "=", "0", ";", "}", "else", "if", "(", "currentPosition", ">", "=", "positionStart", ")", "{", "newPosition", "=", "Math", ".", "min", "(", "currentPosition", "+", "itemCount", ",", "recyclerViewProxy", ".", "getItemCount", "(", ")", "-", "1", ")", ";", "}", "onNewPosition", "(", "newPosition", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onItemsRemoved", "(", "RecyclerView", "recyclerView", ",", "int", "positionStart", ",", "int", "itemCount", ")", "{", "int", "newPosition", "=", "currentPosition", ";", "if", "(", "recyclerViewProxy", ".", "getItemCount", "(", ")", "=", "=", "0", ")", "{", "newPosition", "=", "NO_POSITION", ";", "}", "else", "if", "(", "currentPosition", ">", "=", "positionStart", ")", "{", "if", "(", "currentPosition", "<", "positionStart", "+", "itemCount", ")", "{", "currentPosition", "=", "NO_POSITION", ";", "}", "newPosition", "=", "Math", ".", "max", "(", "0", ",", "currentPosition", "-", "itemCount", ")", ";", "}", "onNewPosition", "(", "newPosition", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onItemsChanged", "(", "RecyclerView", "recyclerView", ")", "{", "currentPosition", "=", "Math", ".", "min", "(", "Math", ".", "max", "(", "0", ",", "currentPosition", ")", ",", "recyclerViewProxy", ".", "getItemCount", "(", ")", "-", "1", ")", ";", "dataSetChangeShiftedPosition", "=", "true", ";", "}", "</s>"]
["<s>", "private", "void", "onNewPosition", "(", "int", "position", ")", "{", "if", "(", "currentPosition", "!", "=", "position", ")", "{", "currentPosition", "=", "position", ";", "dataSetChangeShiftedPosition", "=", "true", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "scrollHorizontallyBy", "(", "int", "dx", ",", "RecyclerView", ".", "Recycler", "recycler", ",", "RecyclerView", ".", "State", "state", ")", "{", "return", "scrollBy", "(", "dx", ",", "recycler", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "scrollVerticallyBy", "(", "int", "dy", ",", "RecyclerView", ".", "Recycler", "recycler", ",", "RecyclerView", ".", "State", "state", ")", "{", "return", "scrollBy", "(", "dy", ",", "recycler", ")", ";", "}", "</s>"]
["<s>", "protected", "int", "scrollBy", "(", "int", "amount", ",", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "if", "(", "recyclerViewProxy", ".", "getChildCount", "(", ")", "=", "=", "0", ")", "{", "return", "0", ";", "}", "Direction", "direction", "=", "Direction", ".", "fromDelta", "(", "amount", ")", ";", "int", "leftToScroll", "=", "calculateAllowedScrollIn", "(", "direction", ")", ";", "if", "(", "leftToScroll", "<", "=", "0", ")", "{", "return", "0", ";", "}", "int", "delta", "=", "direction", ".", "applyTo", "(", "Math", ".", "min", "(", "leftToScroll", ",", "Math", ".", "abs", "(", "amount", ")", ")", ")", ";", "scrolled", "+", "=", "delta", ";", "if", "(", "pendingScroll", "!", "=", "0", ")", "{", "pendingScroll", "-", "=", "delta", ";", "}", "orientationHelper", ".", "offsetChildren", "(", "-", "delta", ",", "recyclerViewProxy", ")", ";", "if", "(", "orientationHelper", ".", "hasNewBecomeVisible", "(", "this", ")", ")", "{", "fill", "(", "recycler", ")", ";", "}", "notifyScroll", "(", ")", ";", "applyItemTransformToChildren", "(", ")", ";", "return", "delta", ";", "}", "</s>"]
["<s>", "protected", "void", "applyItemTransformToChildren", "(", ")", "{", "if", "(", "itemTransformer", "!", "=", "null", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "recyclerViewProxy", ".", "getChildCount", "(", ")", ";", "i", "+", "+", ")", "{", "View", "child", "=", "recyclerViewProxy", ".", "getChildAt", "(", "i", ")", ";", "itemTransformer", ".", "transformItem", "(", "child", ",", "getCenterRelativePositionOf", "(", "child", ")", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "scrollToPosition", "(", "int", "position", ")", "{", "if", "(", "currentPosition", "=", "=", "position", ")", "{", "return", ";", "}", "currentPosition", "=", "position", ";", "recyclerViewProxy", ".", "requestLayout", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "smoothScrollToPosition", "(", "RecyclerView", "recyclerView", ",", "RecyclerView", ".", "State", "state", ",", "int", "position", ")", "{", "if", "(", "currentPosition", "=", "=", "position", "|", "|", "pendingPosition", "!", "=", "NO_POSITION", ")", "{", "return", ";", "}", "startSmoothPendingScroll", "(", "position", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "canScrollHorizontally", "(", ")", "{", "return", "orientationHelper", ".", "canScrollHorizontally", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "canScrollVertically", "(", ")", "{", "return", "orientationHelper", ".", "canScrollVertically", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScrollStateChanged", "(", "int", "state", ")", "{", "if", "(", "currentScrollState", "=", "=", "RecyclerView", ".", "SCROLL_STATE_IDLE", "&", "&", "currentScrollState", "!", "=", "state", ")", "{", "scrollStateListener", ".", "onScrollStart", "(", ")", ";", "}", "if", "(", "state", "=", "=", "RecyclerView", ".", "SCROLL_STATE_IDLE", ")", "{", "boolean", "isScrollEnded", "=", "onScrollEnd", "(", ")", ";", "if", "(", "isScrollEnded", ")", "{", "scrollStateListener", ".", "onScrollEnd", "(", ")", ";", "}", "else", "{", "return", ";", "}", "}", "else", "if", "(", "state", "=", "=", "RecyclerView", ".", "SCROLL_STATE_DRAGGING", ")", "{", "onDragStart", "(", ")", ";", "}", "currentScrollState", "=", "state", ";", "}", "</s>"]
["<s>", "private", "boolean", "onScrollEnd", "(", ")", "{", "if", "(", "pendingPosition", "!", "=", "NO_POSITION", ")", "{", "currentPosition", "=", "pendingPosition", ";", "pendingPosition", "=", "NO_POSITION", ";", "scrolled", "=", "0", ";", "}", "Direction", "scrollDirection", "=", "Direction", ".", "fromDelta", "(", "scrolled", ")", ";", "if", "(", "Math", ".", "abs", "(", "scrolled", ")", "=", "=", "scrollToChangeCurrent", ")", "{", "currentPosition", "+", "=", "scrollDirection", ".", "applyTo", "(", "1", ")", ";", "scrolled", "=", "0", ";", "}", "if", "(", "isAnotherItemCloserThanCurrent", "(", ")", ")", "{", "pendingScroll", "=", "getHowMuchIsLeftToScroll", "(", "scrolled", ")", ";", "}", "else", "{", "pendingScroll", "=", "-", "scrolled", ";", "}", "if", "(", "pendingScroll", "=", "=", "0", ")", "{", "return", "true", ";", "}", "else", "{", "startSmoothPendingScroll", "(", ")", ";", "return", "false", ";", "}", "}", "</s>"]
["<s>", "private", "void", "onDragStart", "(", ")", "{", "boolean", "isScrollingThroughMultiplePositions", "=", "Math", ".", "abs", "(", "scrolled", ")", ">", "scrollToChangeCurrent", ";", "if", "(", "isScrollingThroughMultiplePositions", ")", "{", "int", "scrolledPositions", "=", "scrolled", "/", "scrollToChangeCurrent", ";", "currentPosition", "+", "=", "scrolledPositions", ";", "scrolled", "-", "=", "scrolledPositions", "*", "scrollToChangeCurrent", ";", "}", "if", "(", "isAnotherItemCloserThanCurrent", "(", ")", ")", "{", "Direction", "direction", "=", "Direction", ".", "fromDelta", "(", "scrolled", ")", ";", "currentPosition", "+", "=", "direction", ".", "applyTo", "(", "1", ")", ";", "scrolled", "=", "-", "getHowMuchIsLeftToScroll", "(", "scrolled", ")", ";", "}", "pendingPosition", "=", "NO_POSITION", ";", "pendingScroll", "=", "0", ";", "}", "</s>"]
["<s>", "public", "void", "onFling", "(", "int", "velocityX", ",", "int", "velocityY", ")", "{", "int", "velocity", "=", "orientationHelper", ".", "getFlingVelocity", "(", "velocityX", ",", "velocityY", ")", ";", "int", "throttleValue", "=", "shouldSlideOnFling", "?", "Math", ".", "abs", "(", "velocity", "/", "flingThreshold", ")", ":", "1", ";", "int", "newPosition", "=", "currentPosition", "+", "Direction", ".", "fromDelta", "(", "velocity", ")", ".", "applyTo", "(", "throttleValue", ")", ";", "newPosition", "=", "checkNewOnFlingPositionIsInBounds", "(", "newPosition", ")", ";", "boolean", "isInScrollDirection", "=", "velocity", "*", "scrolled", ">", "=", "0", ";", "boolean", "canFling", "=", "isInScrollDirection", "&", "&", "isInBounds", "(", "newPosition", ")", ";", "if", "(", "canFling", ")", "{", "startSmoothPendingScroll", "(", "newPosition", ")", ";", "}", "else", "{", "returnToCurrentPosition", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "returnToCurrentPosition", "(", ")", "{", "pendingScroll", "=", "-", "scrolled", ";", "if", "(", "pendingScroll", "!", "=", "0", ")", "{", "startSmoothPendingScroll", "(", ")", ";", "}", "}", "</s>"]
["<s>", "protected", "int", "calculateAllowedScrollIn", "(", "Direction", "direction", ")", "{", "if", "(", "pendingScroll", "!", "=", "0", ")", "{", "return", "Math", ".", "abs", "(", "pendingScroll", ")", ";", "}", "int", "allowedScroll", ";", "boolean", "isBoundReached", ";", "boolean", "isScrollDirectionAsBefore", "=", "direction", ".", "applyTo", "(", "scrolled", ")", ">", "0", ";", "if", "(", "direction", "=", "=", "Direction", ".", "START", "&", "&", "currentPosition", "=", "=", "0", ")", "{", "isBoundReached", "=", "scrolled", "=", "=", "0", ";", "allowedScroll", "=", "isBoundReached", "?", "0", ":", "Math", ".", "abs", "(", "scrolled", ")", ";", "}", "else", "if", "(", "direction", "=", "=", "Direction", ".", "END", "&", "&", "currentPosition", "=", "=", "recyclerViewProxy", ".", "getItemCount", "(", ")", "-", "1", ")", "{", "isBoundReached", "=", "scrolled", "=", "=", "0", ";", "allowedScroll", "=", "isBoundReached", "?", "0", ":", "Math", ".", "abs", "(", "scrolled", ")", ";", "}", "else", "{", "isBoundReached", "=", "false", ";", "allowedScroll", "=", "isScrollDirectionAsBefore", "?", "scrollToChangeCurrent", "-", "Math", ".", "abs", "(", "scrolled", ")", ":", "scrollToChangeCurrent", "+", "Math", ".", "abs", "(", "scrolled", ")", ";", "}", "scrollStateListener", ".", "onIsBoundReachedFlagChange", "(", "isBoundReached", ")", ";", "return", "allowedScroll", ";", "}", "</s>"]
["<s>", "private", "void", "startSmoothPendingScroll", "(", ")", "{", "LinearSmoothScroller", "scroller", "=", "new", "DiscreteLinearSmoothScroller", "(", "context", ")", ";", "scroller", ".", "setTargetPosition", "(", "currentPosition", ")", ";", "recyclerViewProxy", ".", "startSmoothScroll", "(", "scroller", ")", ";", "}", "</s>"]
["<s>", "private", "void", "startSmoothPendingScroll", "(", "int", "position", ")", "{", "if", "(", "currentPosition", "=", "=", "position", ")", "return", ";", "pendingScroll", "=", "-", "scrolled", ";", "Direction", "direction", "=", "Direction", ".", "fromDelta", "(", "position", "-", "currentPosition", ")", ";", "int", "distanceToScroll", "=", "Math", ".", "abs", "(", "position", "-", "currentPosition", ")", "*", "scrollToChangeCurrent", ";", "pendingScroll", "+", "=", "direction", ".", "applyTo", "(", "distanceToScroll", ")", ";", "pendingPosition", "=", "position", ";", "startSmoothPendingScroll", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "computeVerticalScrollRange", "(", "RecyclerView", ".", "State", "state", ")", "{", "return", "computeScrollRange", "(", "state", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "computeVerticalScrollOffset", "(", "RecyclerView", ".", "State", "state", ")", "{", "return", "computeScrollOffset", "(", "state", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "computeVerticalScrollExtent", "(", "RecyclerView", ".", "State", "state", ")", "{", "return", "computeScrollExtent", "(", "state", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "computeHorizontalScrollRange", "(", "RecyclerView", ".", "State", "state", ")", "{", "return", "computeScrollRange", "(", "state", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "computeHorizontalScrollOffset", "(", "RecyclerView", ".", "State", "state", ")", "{", "return", "computeScrollOffset", "(", "state", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "computeHorizontalScrollExtent", "(", "RecyclerView", ".", "State", "state", ")", "{", "return", "computeScrollExtent", "(", "state", ")", ";", "}", "</s>"]
["<s>", "private", "int", "computeScrollOffset", "(", "RecyclerView", ".", "State", "state", ")", "{", "int", "scrollbarSize", "=", "computeScrollExtent", "(", "state", ")", ";", "int", "offset", "=", "(", "int", ")", "(", "(", "scrolled", "/", "(", "float", ")", "scrollToChangeCurrent", ")", "*", "scrollbarSize", ")", ";", "return", "(", "currentPosition", "*", "scrollbarSize", ")", "+", "offset", ";", "}", "</s>"]
["<s>", "private", "int", "computeScrollExtent", "(", "RecyclerView", ".", "State", "state", ")", "{", "if", "(", "getItemCount", "(", ")", "=", "=", "0", ")", "{", "return", "0", ";", "}", "else", "{", "return", "(", "int", ")", "(", "computeScrollRange", "(", "state", ")", "/", "(", "float", ")", "getItemCount", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "int", "computeScrollRange", "(", "RecyclerView", ".", "State", "state", ")", "{", "if", "(", "getItemCount", "(", ")", "=", "=", "0", ")", "{", "return", "0", ";", "}", "else", "{", "return", "scrollToChangeCurrent", "*", "(", "getItemCount", "(", ")", "-", "1", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAdapterChanged", "(", "RecyclerView", ".", "Adapter", "oldAdapter", ",", "RecyclerView", ".", "Adapter", "newAdapter", ")", "{", "pendingPosition", "=", "NO_POSITION", ";", "scrolled", "=", "pendingScroll", "=", "0", ";", "currentPosition", "=", "0", ";", "recyclerViewProxy", ".", "removeAllViews", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Parcelable", "onSaveInstanceState", "(", ")", "{", "Bundle", "bundle", "=", "new", "Bundle", "(", ")", ";", "if", "(", "pendingPosition", "!", "=", "NO_POSITION", ")", "{", "currentPosition", "=", "pendingPosition", ";", "}", "bundle", ".", "putInt", "(", "EXTRA_POSITION", ",", "currentPosition", ")", ";", "return", "bundle", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onRestoreInstanceState", "(", "Parcelable", "state", ")", "{", "Bundle", "bundle", "=", "(", "Bundle", ")", "state", ";", "currentPosition", "=", "bundle", ".", "getInt", "(", "EXTRA_POSITION", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "RecyclerView", ".", "LayoutParams", "generateDefaultLayoutParams", "(", ")", "{", "return", "new", "RecyclerView", ".", "LayoutParams", "(", "ViewGroup", ".", "LayoutParams", ".", "WRAP_CONTENT", ",", "ViewGroup", ".", "LayoutParams", ".", "WRAP_CONTENT", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getNextPosition", "(", ")", "{", "if", "(", "scrolled", "=", "=", "0", ")", "{", "return", "currentPosition", ";", "}", "else", "if", "(", "pendingPosition", "!", "=", "NO_POSITION", ")", "{", "return", "pendingPosition", ";", "}", "else", "{", "return", "currentPosition", "+", "Direction", ".", "fromDelta", "(", "scrolled", ")", ".", "applyTo", "(", "1", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setItemTransformer", "(", "DiscreteScrollItemTransformer", "itemTransformer", ")", "{", "this", ".", "itemTransformer", "=", "itemTransformer", ";", "}", "</s>"]
["<s>", "public", "void", "setTimeForItemSettle", "(", "int", "timeForItemSettle", ")", "{", "this", ".", "timeForItemSettle", "=", "timeForItemSettle", ";", "}", "</s>"]
["<s>", "public", "void", "setOffscreenItems", "(", "int", "offscreenItems", ")", "{", "this", ".", "offscreenItems", "=", "offscreenItems", ";", "extraLayoutSpace", "=", "scrollToChangeCurrent", "*", "offscreenItems", ";", "recyclerViewProxy", ".", "requestLayout", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setOrientation", "(", "DSVOrientation", "orientation", ")", "{", "orientationHelper", "=", "orientation", ".", "createHelper", "(", ")", ";", "recyclerViewProxy", ".", "removeAllViews", "(", ")", ";", "recyclerViewProxy", ".", "requestLayout", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setShouldSlideOnFling", "(", "boolean", "result", ")", "{", "shouldSlideOnFling", "=", "result", ";", "}", "</s>"]
["<s>", "public", "void", "setSlideOnFlingThreshold", "(", "int", "threshold", ")", "{", "flingThreshold", "=", "threshold", ";", "}", "</s>"]
["<s>", "public", "int", "getCurrentPosition", "(", ")", "{", "return", "currentPosition", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onInitializeAccessibilityEvent", "(", "AccessibilityEvent", "event", ")", "{", "super", ".", "onInitializeAccessibilityEvent", "(", "event", ")", ";", "if", "(", "recyclerViewProxy", ".", "getChildCount", "(", ")", ">", "0", ")", "{", "final", "AccessibilityRecordCompat", "record", "=", "AccessibilityEventCompat", ".", "asRecord", "(", "event", ")", ";", "record", ".", "setFromIndex", "(", "getPosition", "(", "getFirstChild", "(", ")", ")", ")", ";", "record", ".", "setToIndex", "(", "getPosition", "(", "getLastChild", "(", ")", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "float", "getCenterRelativePositionOf", "(", "View", "v", ")", "{", "float", "distanceFromCenter", "=", "orientationHelper", ".", "getDistanceFromCenter", "(", "recyclerCenter", ",", "getDecoratedLeft", "(", "v", ")", "+", "childHalfWidth", ",", "getDecoratedTop", "(", "v", ")", "+", "childHalfHeight", ")", ";", "return", "Math", ".", "min", "(", "Math", ".", "max", "(", "-", "<NUM_LIT>", ",", "distanceFromCenter", "/", "scrollToChangeCurrent", ")", ",", "<NUM_LIT>", ")", ";", "}", "</s>"]
["<s>", "private", "int", "checkNewOnFlingPositionIsInBounds", "(", "int", "position", ")", "{", "final", "int", "itemCount", "=", "recyclerViewProxy", ".", "getItemCount", "(", ")", ";", "if", "(", "currentPosition", "!", "=", "0", "&", "&", "position", "<", "0", ")", "{", "return", "0", ";", "}", "else", "if", "(", "currentPosition", "!", "=", "itemCount", "-", "1", "&", "&", "position", ">", "=", "itemCount", ")", "{", "return", "itemCount", "-", "1", ";", "}", "return", "position", ";", "}", "</s>"]
["<s>", "private", "int", "getHowMuchIsLeftToScroll", "(", "int", "dx", ")", "{", "return", "Direction", ".", "fromDelta", "(", "dx", ")", ".", "applyTo", "(", "scrollToChangeCurrent", "-", "Math", ".", "abs", "(", "scrolled", ")", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isAnotherItemCloserThanCurrent", "(", ")", "{", "return", "Math", ".", "abs", "(", "scrolled", ")", ">", "=", "scrollToChangeCurrent", "*", "SCROLL_TO_SNAP_TO_ANOTHER_ITEM", ";", "}", "</s>"]
["<s>", "public", "View", "getFirstChild", "(", ")", "{", "return", "recyclerViewProxy", ".", "getChildAt", "(", "0", ")", ";", "}", "</s>"]
["<s>", "public", "View", "getLastChild", "(", ")", "{", "return", "recyclerViewProxy", ".", "getChildAt", "(", "recyclerViewProxy", ".", "getChildCount", "(", ")", "-", "1", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getExtraLayoutSpace", "(", ")", "{", "return", "extraLayoutSpace", ";", "}", "</s>"]
["<s>", "private", "void", "notifyScroll", "(", ")", "{", "float", "amountToScroll", "=", "pendingPosition", "!", "=", "NO_POSITION", "?", "Math", ".", "abs", "(", "scrolled", "+", "pendingScroll", ")", ":", "scrollToChangeCurrent", ";", "float", "position", "=", "-", "Math", ".", "min", "(", "Math", ".", "max", "(", "-", "<NUM_LIT>", ",", "scrolled", "/", "amountToScroll", ")", ",", "<NUM_LIT>", ")", ";", "scrollStateListener", ".", "onScroll", "(", "position", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isInBounds", "(", "int", "itemPosition", ")", "{", "return", "itemPosition", ">", "=", "0", "&", "&", "itemPosition", "<", "recyclerViewProxy", ".", "getItemCount", "(", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isViewVisible", "(", "Point", "viewCenter", ",", "int", "endBound", ")", "{", "return", "orientationHelper", ".", "isViewVisible", "(", "viewCenter", ",", "childHalfWidth", ",", "childHalfHeight", ",", "endBound", ",", "extraLayoutSpace", ")", ";", "}", "</s>"]
["<s>", "protected", "void", "setRecyclerViewProxy", "(", "RecyclerViewProxy", "recyclerViewProxy", ")", "{", "this", ".", "recyclerViewProxy", "=", "recyclerViewProxy", ";", "}", "</s>"]
["<s>", "protected", "void", "setOrientationHelper", "(", "DSVOrientation", ".", "Helper", "orientationHelper", ")", "{", "this", ".", "orientationHelper", "=", "orientationHelper", ";", "}", "</s>"]
["<s>", "public", "DiscreteLinearSmoothScroller", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "calculateDxToMakeVisible", "(", "View", "view", ",", "int", "snapPreference", ")", "{", "return", "orientationHelper", ".", "getPendingDx", "(", "-", "pendingScroll", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "calculateDyToMakeVisible", "(", "View", "view", ",", "int", "snapPreference", ")", "{", "return", "orientationHelper", ".", "getPendingDy", "(", "-", "pendingScroll", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "int", "calculateTimeForScrolling", "(", "int", "dx", ")", "{", "float", "dist", "=", "Math", ".", "min", "(", "Math", ".", "abs", "(", "dx", ")", ",", "scrollToChangeCurrent", ")", ";", "return", "(", "int", ")", "(", "Math", ".", "max", "(", "<NUM_LIT>", ",", "dist", "/", "scrollToChangeCurrent", ")", "*", "timeForItemSettle", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "PointF", "computeScrollVectorForPosition", "(", "int", "targetPosition", ")", "{", "return", "new", "PointF", "(", "orientationHelper", ".", "getPendingDx", "(", "pendingScroll", ")", ",", "orientationHelper", ".", "getPendingDy", "(", "pendingScroll", ")", ")", ";", "}", "</s>"]
["<s>", "void", "onIsBoundReachedFlagChange", "(", "boolean", "isBoundReached", ")", ";", "</s>"]
["<s>", "void", "onScrollStart", "(", ")", ";", "</s>"]
["<s>", "void", "onScrollEnd", "(", ")", ";", "</s>"]
["<s>", "void", "onScroll", "(", "float", "currentViewPosition", ")", ";", "</s>"]
["<s>", "void", "onCurrentViewFirstLayout", "(", ")", ";", "</s>"]
["<s>", "void", "onDataSetChangeChangedPosition", "(", ")", ";", "</s>"]
["<s>", "public", "static", "<", "T", "extends", "RecyclerView", ".", "ViewHolder", ">", "InfiniteScrollAdapter", "<", "T", ">", "wrap", "(", "@", "NonNull", "RecyclerView", ".", "Adapter", "<", "T", ">", "adapter", ")", "{", "return", "new", "InfiniteScrollAdapter", "<", ">", "(", "adapter", ")", ";", "}", "</s>"]
["<s>", "public", "InfiniteScrollAdapter", "(", "@", "NonNull", "RecyclerView", ".", "Adapter", "<", "T", ">", "wrapped", ")", "{", "this", ".", "wrapped", "=", "wrapped", ";", "this", ".", "wrapped", ".", "registerAdapterDataObserver", "(", "new", "DataSetChangeDelegate", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAttachedToRecyclerView", "(", "RecyclerView", "recyclerView", ")", "{", "wrapped", ".", "onAttachedToRecyclerView", "(", "recyclerView", ")", ";", "if", "(", "recyclerView", "instanceof", "DiscreteScrollView", ")", "{", "layoutManager", "=", "(", "DiscreteScrollLayoutManager", ")", "recyclerView", ".", "getLayoutManager", "(", ")", ";", "currentRangeStart", "=", "NOT_INITIALIZED", ";", "}", "else", "{", "String", "msg", "=", "recyclerView", ".", "getContext", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "dsv_ex_msg_adapter_wrong_recycler", ")", ";", "throw", "new", "RuntimeException", "(", "msg", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDetachedFromRecyclerView", "(", "RecyclerView", "recyclerView", ")", "{", "wrapped", ".", "onDetachedFromRecyclerView", "(", "recyclerView", ")", ";", "layoutManager", "=", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "T", "onCreateViewHolder", "(", "ViewGroup", "parent", ",", "int", "viewType", ")", "{", "if", "(", "currentRangeStart", "=", "=", "NOT_INITIALIZED", ")", "{", "resetRange", "(", "0", ")", ";", "}", "return", "wrapped", ".", "onCreateViewHolder", "(", "parent", ",", "viewType", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "T", "holder", ",", "int", "position", ")", "{", "wrapped", ".", "onBindViewHolder", "(", "holder", ",", "mapPositionToReal", "(", "position", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemViewType", "(", "int", "position", ")", "{", "return", "wrapped", ".", "getItemViewType", "(", "mapPositionToReal", "(", "position", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "return", "wrapped", ".", "getItemCount", "(", ")", "=", "=", "0", "?", "0", ":", "Integer", ".", "MAX_VALUE", ";", "}", "</s>"]
["<s>", "public", "int", "getRealItemCount", "(", ")", "{", "return", "wrapped", ".", "getItemCount", "(", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getRealCurrentPosition", "(", ")", "{", "return", "getRealPosition", "(", "layoutManager", ".", "getCurrentPosition", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getRealPosition", "(", "int", "position", ")", "{", "return", "mapPositionToReal", "(", "position", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getClosestPosition", "(", "int", "position", ")", "{", "int", "adapterTarget", "=", "currentRangeStart", "+", "position", ";", "int", "adapterCurrent", "=", "layoutManager", ".", "getCurrentPosition", "(", ")", ";", "if", "(", "adapterTarget", "=", "=", "adapterCurrent", ")", "{", "return", "adapterCurrent", ";", "}", "else", "if", "(", "adapterTarget", "<", "adapterCurrent", ")", "{", "int", "adapterTargetNextSet", "=", "currentRangeStart", "+", "wrapped", ".", "getItemCount", "(", ")", "+", "position", ";", "return", "adapterCurrent", "-", "adapterTarget", "<", "adapterTargetNextSet", "-", "adapterCurrent", "?", "adapterTarget", ":", "adapterTargetNextSet", ";", "}", "else", "{", "int", "adapterTargetPrevSet", "=", "currentRangeStart", "-", "wrapped", ".", "getItemCount", "(", ")", "+", "position", ";", "return", "adapterCurrent", "-", "adapterTargetPrevSet", "<", "adapterTarget", "-", "adapterCurrent", "?", "adapterTargetPrevSet", ":", "adapterTarget", ";", "}", "}", "</s>"]
["<s>", "private", "int", "mapPositionToReal", "(", "int", "position", ")", "{", "int", "newPosition", "=", "position", "-", "currentRangeStart", ";", "if", "(", "newPosition", ">", "=", "wrapped", ".", "getItemCount", "(", ")", ")", "{", "currentRangeStart", "+", "=", "wrapped", ".", "getItemCount", "(", ")", ";", "if", "(", "Integer", ".", "MAX_VALUE", "-", "currentRangeStart", "<", "=", "RESET_BOUND", ")", "{", "resetRange", "(", "0", ")", ";", "}", "return", "0", ";", "}", "else", "if", "(", "newPosition", "<", "0", ")", "{", "currentRangeStart", "-", "=", "wrapped", ".", "getItemCount", "(", ")", ";", "if", "(", "currentRangeStart", "<", "=", "RESET_BOUND", ")", "{", "resetRange", "(", "wrapped", ".", "getItemCount", "(", ")", "-", "1", ")", ";", "}", "return", "wrapped", ".", "getItemCount", "(", ")", "-", "1", ";", "}", "else", "{", "return", "newPosition", ";", "}", "}", "</s>"]
["<s>", "private", "void", "resetRange", "(", "int", "newPosition", ")", "{", "currentRangeStart", "=", "Integer", ".", "MAX_VALUE", "/", "<NUM_LIT:2>", ";", "layoutManager", ".", "scrollToPosition", "(", "currentRangeStart", "+", "newPosition", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onChanged", "(", ")", "{", "resetRange", "(", "0", ")", ";", "notifyDataSetChanged", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onItemRangeRemoved", "(", "int", "positionStart", ",", "int", "itemCount", ")", "{", "onChanged", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onItemRangeChanged", "(", "int", "positionStart", ",", "int", "itemCount", ")", "{", "onChanged", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onItemRangeChanged", "(", "int", "positionStart", ",", "int", "itemCount", ",", "Object", "payload", ")", "{", "onChanged", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onItemRangeInserted", "(", "int", "positionStart", ",", "int", "itemCount", ")", "{", "onChanged", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onItemRangeMoved", "(", "int", "fromPosition", ",", "int", "toPosition", ",", "int", "itemCount", ")", "{", "onChanged", "(", ")", ";", "}", "</s>"]
["<s>", "public", "RecyclerViewProxy", "(", "@", "NonNull", "RecyclerView", ".", "LayoutManager", "layoutManager", ")", "{", "this", ".", "layoutManager", "=", "layoutManager", ";", "}", "</s>"]
["<s>", "public", "void", "attachView", "(", "View", "view", ")", "{", "layoutManager", ".", "attachView", "(", "view", ")", ";", "}", "</s>"]
["<s>", "public", "void", "detachView", "(", "View", "view", ")", "{", "layoutManager", ".", "detachView", "(", "view", ")", ";", "}", "</s>"]
["<s>", "public", "void", "detachAndScrapView", "(", "View", "view", ",", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "layoutManager", ".", "detachAndScrapView", "(", "view", ",", "recycler", ")", ";", "}", "</s>"]
["<s>", "public", "void", "detachAndScrapAttachedViews", "(", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "layoutManager", ".", "detachAndScrapAttachedViews", "(", "recycler", ")", ";", "}", "</s>"]
["<s>", "public", "void", "recycleView", "(", "View", "view", ",", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "recycler", ".", "recycleView", "(", "view", ")", ";", "}", "</s>"]
["<s>", "public", "void", "removeAndRecycleAllViews", "(", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "layoutManager", ".", "removeAndRecycleAllViews", "(", "recycler", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getChildCount", "(", ")", "{", "return", "layoutManager", ".", "getChildCount", "(", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getItemCount", "(", ")", "{", "return", "layoutManager", ".", "getItemCount", "(", ")", ";", "}", "</s>"]
["<s>", "public", "View", "getMeasuredChildForAdapterPosition", "(", "int", "position", ",", "RecyclerView", ".", "Recycler", "recycler", ")", "{", "View", "view", "=", "recycler", ".", "getViewForPosition", "(", "position", ")", ";", "layoutManager", ".", "addView", "(", "view", ")", ";", "layoutManager", ".", "measureChildWithMargins", "(", "view", ",", "0", ",", "0", ")", ";", "return", "view", ";", "}", "</s>"]
["<s>", "public", "void", "layoutDecoratedWithMargins", "(", "View", "v", ",", "int", "left", ",", "int", "top", ",", "int", "right", ",", "int", "bottom", ")", "{", "layoutManager", ".", "layoutDecoratedWithMargins", "(", "v", ",", "left", ",", "top", ",", "right", ",", "bottom", ")", ";", "}", "</s>"]
["<s>", "public", "View", "getChildAt", "(", "int", "index", ")", "{", "return", "layoutManager", ".", "getChildAt", "(", "index", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getPosition", "(", "View", "view", ")", "{", "return", "layoutManager", ".", "getPosition", "(", "view", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getMeasuredWidth", "(", "View", "child", ")", "{", "return", "layoutManager", ".", "getDecoratedMeasuredWidth", "(", "child", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getMeasuredHeight", "(", "View", "child", ")", "{", "return", "layoutManager", ".", "getDecoratedMeasuredHeight", "(", "child", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getWidth", "(", ")", "{", "return", "layoutManager", ".", "getWidth", "(", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getHeight", "(", ")", "{", "return", "layoutManager", ".", "getHeight", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "offsetChildrenHorizontal", "(", "int", "amount", ")", "{", "layoutManager", ".", "offsetChildrenHorizontal", "(", "amount", ")", ";", "}", "</s>"]
["<s>", "public", "void", "offsetChildrenVertical", "(", "int", "amount", ")", "{", "layoutManager", ".", "offsetChildrenVertical", "(", "amount", ")", ";", "}", "</s>"]
["<s>", "public", "void", "requestLayout", "(", ")", "{", "layoutManager", ".", "requestLayout", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "startSmoothScroll", "(", "RecyclerView", ".", "SmoothScroller", "smoothScroller", ")", "{", "layoutManager", ".", "startSmoothScroll", "(", "smoothScroller", ")", ";", "}", "</s>"]
["<s>", "public", "void", "removeAllViews", "(", ")", "{", "layoutManager", ".", "removeAllViews", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "applyTo", "(", "int", "delta", ")", "{", "return", "delta", "*", "-", "1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "sameAs", "(", "int", "direction", ")", "{", "return", "direction", "<", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "applyTo", "(", "int", "delta", ")", "{", "return", "delta", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "sameAs", "(", "int", "direction", ")", "{", "return", "direction", ">", "0", ";", "}", "</s>"]
["<s>", "public", "abstract", "int", "applyTo", "(", "int", "delta", ")", ";", "</s>"]
["<s>", "public", "abstract", "boolean", "sameAs", "(", "int", "direction", ")", ";", "</s>"]
["<s>", "public", "static", "Direction", "fromDelta", "(", "int", "delta", ")", "{", "return", "delta", ">", "0", "?", "END", ":", "START", ";", "}", "</s>"]
["<s>", "public", "ScrollListenerAdapter", "(", "@", "NonNull", "DiscreteScrollView", ".", "ScrollListener", "<", "T", ">", "adaptee", ")", "{", "this", ".", "adaptee", "=", "adaptee", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScrollStart", "(", "@", "NonNull", "T", "currentItemHolder", ",", "int", "adapterPosition", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScrollEnd", "(", "@", "NonNull", "T", "currentItemHolder", ",", "int", "adapterPosition", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScroll", "(", "float", "scrollPosition", ",", "int", "currentIndex", ",", "int", "newIndex", ",", "@", "Nullable", "T", "currentHolder", ",", "@", "Nullable", "T", "newCurrentHolder", ")", "{", "adaptee", ".", "onScroll", "(", "scrollPosition", ",", "currentIndex", ",", "newIndex", ",", "currentHolder", ",", "newCurrentHolder", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "ScrollListenerAdapter", ")", "{", "return", "adaptee", ".", "equals", "(", "(", "(", "ScrollListenerAdapter", ")", "obj", ")", ".", "adaptee", ")", ";", "}", "else", "{", "return", "super", ".", "equals", "(", "obj", ")", ";", "}", "}", "</s>"]
["<s>", "public", "ScaleTransformer", "(", ")", "{", "pivotX", "=", "Pivot", ".", "X", ".", "CENTER", ".", "create", "(", ")", ";", "pivotY", "=", "Pivot", ".", "Y", ".", "CENTER", ".", "create", "(", ")", ";", "minScale", "=", "<NUM_LIT>", ";", "maxMinDiff", "=", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "transformItem", "(", "View", "item", ",", "float", "position", ")", "{", "pivotX", ".", "setOn", "(", "item", ")", ";", "pivotY", ".", "setOn", "(", "item", ")", ";", "float", "closenessToCenter", "=", "<NUM_LIT>", "-", "Math", ".", "abs", "(", "position", ")", ";", "float", "scale", "=", "minScale", "+", "maxMinDiff", "*", "closenessToCenter", ";", "item", ".", "setScaleX", "(", "scale", ")", ";", "item", ".", "setScaleY", "(", "scale", ")", ";", "}", "</s>"]
["<s>", "public", "Builder", "(", ")", "{", "transformer", "=", "new", "ScaleTransformer", "(", ")", ";", "maxScale", "=", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "public", "Builder", "setMinScale", "(", "@", "FloatRange", "(", "from", "=", "<NUM_LIT>", ")", "float", "scale", ")", "{", "transformer", ".", "minScale", "=", "scale", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "Builder", "setMaxScale", "(", "@", "FloatRange", "(", "from", "=", "<NUM_LIT>", ")", "float", "scale", ")", "{", "maxScale", "=", "scale", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "Builder", "setPivotX", "(", "Pivot", ".", "X", "pivotX", ")", "{", "return", "setPivotX", "(", "pivotX", ".", "create", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "Builder", "setPivotX", "(", "Pivot", "pivot", ")", "{", "assertAxis", "(", "pivot", ",", "Pivot", ".", "AXIS_X", ")", ";", "transformer", ".", "pivotX", "=", "pivot", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "Builder", "setPivotY", "(", "Pivot", ".", "Y", "pivotY", ")", "{", "return", "setPivotY", "(", "pivotY", ".", "create", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "Builder", "setPivotY", "(", "Pivot", "pivot", ")", "{", "assertAxis", "(", "pivot", ",", "Pivot", ".", "AXIS_Y", ")", ";", "transformer", ".", "pivotY", "=", "pivot", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ScaleTransformer", "build", "(", ")", "{", "transformer", ".", "maxMinDiff", "=", "maxScale", "-", "transformer", ".", "minScale", ";", "return", "transformer", ";", "}", "</s>"]
["<s>", "private", "void", "assertAxis", "(", "Pivot", "pivot", ",", "@", "Pivot", ".", "Axis", "int", "axis", ")", "{", "if", "(", "pivot", ".", "getAxis", "(", ")", "!", "=", "axis", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "public", "Pivot", "(", "@", "Axis", "int", "axis", ",", "int", "pivotPoint", ")", "{", "this", ".", "axis", "=", "axis", ";", "this", ".", "pivotPoint", "=", "pivotPoint", ";", "}", "</s>"]
["<s>", "public", "void", "setOn", "(", "View", "view", ")", "{", "if", "(", "axis", "=", "=", "AXIS_X", ")", "{", "switch", "(", "pivotPoint", ")", "{", "case", "PIVOT_CENTER", ":", "view", ".", "setPivotX", "(", "view", ".", "getWidth", "(", ")", "*", "<NUM_LIT>", ")", ";", "break", ";", "case", "PIVOT_MAX", ":", "view", ".", "setPivotX", "(", "view", ".", "getWidth", "(", ")", ")", ";", "break", ";", "default", ":", "view", ".", "setPivotX", "(", "pivotPoint", ")", ";", "break", ";", "}", "return", ";", "}", "if", "(", "axis", "=", "=", "AXIS_Y", ")", "{", "switch", "(", "pivotPoint", ")", "{", "case", "PIVOT_CENTER", ":", "view", ".", "setPivotY", "(", "view", ".", "getHeight", "(", ")", "*", "<NUM_LIT>", ")", ";", "break", ";", "case", "PIVOT_MAX", ":", "view", ".", "setPivotY", "(", "view", ".", "getHeight", "(", ")", ")", ";", "break", ";", "default", ":", "view", ".", "setPivotY", "(", "pivotPoint", ")", ";", "break", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Axis", "public", "int", "getAxis", "(", ")", "{", "return", "axis", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Pivot", "create", "(", ")", "{", "return", "new", "Pivot", "(", "AXIS_X", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Pivot", "create", "(", ")", "{", "return", "new", "Pivot", "(", "AXIS_X", ",", "PIVOT_CENTER", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Pivot", "create", "(", ")", "{", "return", "new", "Pivot", "(", "AXIS_X", ",", "PIVOT_MAX", ")", ";", "}", "</s>"]
["<s>", "public", "abstract", "Pivot", "create", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "Pivot", "create", "(", ")", "{", "return", "new", "Pivot", "(", "AXIS_Y", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Pivot", "create", "(", ")", "{", "return", "new", "Pivot", "(", "AXIS_Y", ",", "PIVOT_CENTER", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Pivot", "create", "(", ")", "{", "return", "new", "Pivot", "(", "AXIS_Y", ",", "PIVOT_MAX", ")", ";", "}", "</s>"]
["<s>", "public", "abstract", "Pivot", "create", "(", ")", ";", "</s>"]
["<s>", "void", "transformItem", "(", "View", "item", ",", "float", "position", ")", ";", "</s>"]
["<s>", "public", "static", "void", "init", "(", "Context", "context", ")", "{", "instance", "=", "new", "DiscreteScrollViewOptions", "(", "context", ")", ";", "}", "</s>"]
["<s>", "private", "DiscreteScrollViewOptions", "(", "Context", "context", ")", "{", "KEY_TRANSITION_TIME", "=", "context", ".", "getString", "(", "R", ".", "string", ".", "pref_key_transition_time", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "configureTransitionTime", "(", "DiscreteScrollView", "scrollView", ")", "{", "final", "BottomSheetDialog", "bsd", "=", "new", "BottomSheetDialog", "(", "scrollView", ".", "getContext", "(", ")", ")", ";", "final", "TransitionTimeChangeListener", "timeChangeListener", "=", "new", "TransitionTimeChangeListener", "(", "scrollView", ")", ";", "bsd", ".", "setContentView", "(", "R", ".", "layout", ".", "dialog_transition_time", ")", ";", "defaultPrefs", "(", ")", ".", "registerOnSharedPreferenceChangeListener", "(", "timeChangeListener", ")", ";", "bsd", ".", "setOnDismissListener", "(", "new", "DialogInterface", ".", "OnDismissListener", "(", ")", "{", "@", "Override", "public", "void", "onDismiss", "(", "DialogInterface", "dialog", ")", "{", "defaultPrefs", "(", ")", ".", "unregisterOnSharedPreferenceChangeListener", "(", "timeChangeListener", ")", ";", "}", "}", ")", ";", "bsd", ".", "findViewById", "(", "R", ".", "id", ".", "dialog_btn_dismiss", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "bsd", ".", "dismiss", "(", ")", ";", "}", "}", ")", ";", "bsd", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDismiss", "(", "DialogInterface", "dialog", ")", "{", "defaultPrefs", "(", ")", ".", "unregisterOnSharedPreferenceChangeListener", "(", "timeChangeListener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "bsd", ".", "dismiss", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "smoothScrollToUserSelectedPosition", "(", "final", "DiscreteScrollView", "scrollView", ",", "View", "anchor", ")", "{", "PopupMenu", "popupMenu", "=", "new", "PopupMenu", "(", "scrollView", ".", "getContext", "(", ")", ",", "anchor", ")", ";", "Menu", "menu", "=", "popupMenu", ".", "getMenu", "(", ")", ";", "final", "RecyclerView", ".", "Adapter", "adapter", "=", "scrollView", ".", "getAdapter", "(", ")", ";", "int", "itemCount", "=", "(", "adapter", "instanceof", "InfiniteScrollAdapter", ")", "?", "(", "(", "InfiniteScrollAdapter", ")", "adapter", ")", ".", "getRealItemCount", "(", ")", ":", "adapter", ".", "getItemCount", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "itemCount", ";", "i", "+", "+", ")", "{", "menu", ".", "add", "(", "String", ".", "valueOf", "(", "i", "+", "1", ")", ")", ";", "}", "popupMenu", ".", "setOnMenuItemClickListener", "(", "new", "PopupMenu", ".", "OnMenuItemClickListener", "(", ")", "{", "@", "Override", "public", "boolean", "onMenuItemClick", "(", "MenuItem", "item", ")", "{", "int", "destination", "=", "Integer", ".", "parseInt", "(", "String", ".", "valueOf", "(", "item", ".", "getTitle", "(", ")", ")", ")", "-", "1", ";", "if", "(", "adapter", "instanceof", "InfiniteScrollAdapter", ")", "{", "destination", "=", "(", "(", "InfiniteScrollAdapter", ")", "adapter", ")", ".", "getClosestPosition", "(", "destination", ")", ";", "}", "scrollView", ".", "smoothScrollToPosition", "(", "destination", ")", ";", "return", "true", ";", "}", "}", ")", ";", "popupMenu", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onMenuItemClick", "(", "MenuItem", "item", ")", "{", "int", "destination", "=", "Integer", ".", "parseInt", "(", "String", ".", "valueOf", "(", "item", ".", "getTitle", "(", ")", ")", ")", "-", "1", ";", "if", "(", "adapter", "instanceof", "InfiniteScrollAdapter", ")", "{", "destination", "=", "(", "(", "InfiniteScrollAdapter", ")", "adapter", ")", ".", "getClosestPosition", "(", "destination", ")", ";", "}", "scrollView", ".", "smoothScrollToPosition", "(", "destination", ")", ";", "return", "true", ";", "}", "</s>"]
["<s>", "public", "static", "int", "getTransitionTime", "(", ")", "{", "return", "defaultPrefs", "(", ")", ".", "getInt", "(", "instance", ".", "KEY_TRANSITION_TIME", ",", "<NUM_LIT>", ")", ";", "}", "</s>"]
["<s>", "private", "static", "SharedPreferences", "defaultPrefs", "(", ")", "{", "return", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "App", ".", "getInstance", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "TransitionTimeChangeListener", "(", "DiscreteScrollView", "scrollView", ")", "{", "this", ".", "scrollView", "=", "new", "WeakReference", "<", ">", "(", "scrollView", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onSharedPreferenceChanged", "(", "SharedPreferences", "sharedPreferences", ",", "String", "key", ")", "{", "if", "(", "key", ".", "equals", "(", "instance", ".", "KEY_TRANSITION_TIME", ")", ")", "{", "DiscreteScrollView", "scrollView", "=", "this", ".", "scrollView", ".", "get", "(", ")", ";", "if", "(", "scrollView", "!", "=", "null", ")", "{", "scrollView", ".", "setItemTransitionTimeMillis", "(", "sharedPreferences", ".", "getInt", "(", "key", ",", "<NUM_LIT>", ")", ")", ";", "}", "else", "{", "sharedPreferences", ".", "unregisterOnSharedPreferenceChangeListener", "(", "this", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_main", ")", ";", "root", "=", "findViewById", "(", "R", ".", "id", ".", "screen", ")", ";", "Toolbar", "toolbar", "=", "(", "Toolbar", ")", "findViewById", "(", "R", ".", "id", ".", "toolbar", ")", ";", "setSupportActionBar", "(", "toolbar", ")", ";", "findViewById", "(", "R", ".", "id", ".", "preview_shop", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "preview_weather", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "preview_vertical", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "credit_city_icons", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "credit_shop_photos", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "credit_taya", ")", ".", "setOnClickListener", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onCreateOptionsMenu", "(", "Menu", "menu", ")", "{", "getMenuInflater", "(", ")", ".", "inflate", "(", "R", ".", "menu", ".", "main", ",", "menu", ")", ";", "return", "super", ".", "onCreateOptionsMenu", "(", "menu", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onOptionsItemSelected", "(", "MenuItem", "item", ")", "{", "switch", "(", "item", ".", "getItemId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "mi_github", ":", "open", "(", "URL_APP_REPO", ")", ";", "return", "true", ";", "}", "return", "super", ".", "onOptionsItemSelected", "(", "item", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "switch", "(", "v", ".", "getId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "preview_shop", ":", "start", "(", "ShopActivity", ".", "class", ")", ";", "break", ";", "case", "R", ".", "id", ".", "preview_weather", ":", "start", "(", "WeatherActivity", ".", "class", ")", ";", "break", ";", "case", "R", ".", "id", ".", "preview_vertical", ":", "start", "(", "GalleryActivity", ".", "class", ")", ";", "break", ";", "case", "R", ".", "id", ".", "credit_city_icons", ":", "open", "(", "URL_CITY_ICONS", ")", ";", "break", ";", "case", "R", ".", "id", ".", "credit_shop_photos", ":", "open", "(", "URL_SHOP_PHOTOS", ")", ";", "break", ";", "case", "R", ".", "id", ".", "credit_taya", ":", "open", "(", "URL_TAYA_BEHANCE", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "private", "void", "open", "(", "Uri", "url", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "intent", ".", "setData", "(", "url", ")", ";", "if", "(", "intent", ".", "resolveActivity", "(", "getPackageManager", "(", ")", ")", "!", "=", "null", ")", "{", "startActivity", "(", "intent", ")", ";", "}", "else", "{", "Snackbar", ".", "make", "(", "root", ",", "R", ".", "string", ".", "msg_no_browser", ",", "Snackbar", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "start", "(", "Class", "<", "?", "extends", "Activity", ">", "token", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "this", ",", "token", ")", ";", "startActivity", "(", "intent", ")", ";", "}", "</s>"]
["<s>", "public", "static", "App", "getInstance", "(", ")", "{", "return", "instance", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "instance", "=", "this", ";", "DiscreteScrollViewOptions", ".", "init", "(", "this", ")", ";", "}", "</s>"]
["<s>", "public", "Image", "(", "int", "res", ")", "{", "this", ".", "res", "=", "res", ";", "}", "</s>"]
["<s>", "public", "int", "getResource", "(", ")", "{", "return", "res", ";", "}", "</s>"]
["<s>", "public", "GalleryAdapter", "(", "List", "<", "Image", ">", "data", ")", "{", "this", ".", "data", "=", "data", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAttachedToRecyclerView", "(", "RecyclerView", "recyclerView", ")", "{", "super", ".", "onAttachedToRecyclerView", "(", "recyclerView", ")", ";", "Activity", "context", "=", "(", "Activity", ")", "recyclerView", ".", "getContext", "(", ")", ";", "Point", "windowDimensions", "=", "new", "Point", "(", ")", ";", "context", ".", "getWindowManager", "(", ")", ".", "getDefaultDisplay", "(", ")", ".", "getSize", "(", "windowDimensions", ")", ";", "itemHeight", "=", "Math", ".", "round", "(", "windowDimensions", ".", "y", "*", "<NUM_LIT>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ViewHolder", "onCreateViewHolder", "(", "ViewGroup", "parent", ",", "int", "viewType", ")", "{", "LayoutInflater", "inflater", "=", "LayoutInflater", ".", "from", "(", "parent", ".", "getContext", "(", ")", ")", ";", "View", "v", "=", "inflater", ".", "inflate", "(", "R", ".", "layout", ".", "item_gallery", ",", "parent", ",", "false", ")", ";", "ViewGroup", ".", "LayoutParams", "params", "=", "new", "ViewGroup", ".", "LayoutParams", "(", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "itemHeight", ")", ";", "v", ".", "setLayoutParams", "(", "params", ")", ";", "return", "new", "ViewHolder", "(", "v", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "ViewHolder", "holder", ",", "int", "position", ")", "{", "Glide", ".", "with", "(", "holder", ".", "itemView", ".", "getContext", "(", ")", ")", ".", "load", "(", "data", ".", "get", "(", "position", ")", ".", "getResource", "(", ")", ")", ".", "into", "(", "holder", ".", "image", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "return", "data", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ViewHolder", "(", "View", "itemView", ")", "{", "super", "(", "itemView", ")", ";", "image", "=", "(", "ImageView", ")", "itemView", ".", "findViewById", "(", "R", ".", "id", ".", "image", ")", ";", "overlay", "=", "itemView", ".", "findViewById", "(", "R", ".", "id", ".", "overlay", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setOverlayColor", "(", "@", "ColorInt", "int", "color", ")", "{", "overlay", ".", "setBackgroundColor", "(", "color", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_gallery", ")", ";", "evaluator", "=", "new", "ArgbEvaluator", "(", ")", ";", "currentOverlayColor", "=", "ContextCompat", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "galleryCurrentItemOverlay", ")", ";", "overlayColor", "=", "ContextCompat", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "galleryItemOverlay", ")", ";", "Gallery", "gallery", "=", "Gallery", ".", "get", "(", ")", ";", "List", "<", "Image", ">", "data", "=", "gallery", ".", "getData", "(", ")", ";", "DiscreteScrollView", "itemPicker", "=", "(", "DiscreteScrollView", ")", "findViewById", "(", "R", ".", "id", ".", "item_picker", ")", ";", "itemPicker", ".", "setAdapter", "(", "new", "GalleryAdapter", "(", "data", ")", ")", ";", "itemPicker", ".", "addScrollListener", "(", "this", ")", ";", "itemPicker", ".", "addOnItemChangedListener", "(", "this", ")", ";", "itemPicker", ".", "scrollToPosition", "(", "1", ")", ";", "findViewById", "(", "R", ".", "id", ".", "home", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "fab_share", ")", ".", "setOnClickListener", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "switch", "(", "v", ".", "getId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "home", ":", "finish", "(", ")", ";", "break", ";", "case", "R", ".", "id", ".", "fab_share", ":", "share", "(", "v", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScroll", "(", "float", "currentPosition", ",", "int", "currentIndex", ",", "int", "newIndex", ",", "@", "Nullable", "GalleryAdapter", ".", "ViewHolder", "currentHolder", ",", "@", "Nullable", "GalleryAdapter", ".", "ViewHolder", "newCurrent", ")", "{", "if", "(", "currentHolder", "!", "=", "null", "&", "&", "newCurrent", "!", "=", "null", ")", "{", "float", "position", "=", "Math", ".", "abs", "(", "currentPosition", ")", ";", "currentHolder", ".", "setOverlayColor", "(", "interpolate", "(", "position", ",", "currentOverlayColor", ",", "overlayColor", ")", ")", ";", "newCurrent", ".", "setOverlayColor", "(", "interpolate", "(", "position", ",", "overlayColor", ",", "currentOverlayColor", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCurrentItemChanged", "(", "@", "Nullable", "GalleryAdapter", ".", "ViewHolder", "viewHolder", ",", "int", "adapterPosition", ")", "{", "if", "(", "viewHolder", "!", "=", "null", ")", "{", "viewHolder", ".", "setOverlayColor", "(", "currentOverlayColor", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "share", "(", "View", "view", ")", "{", "Snackbar", ".", "make", "(", "view", ",", "R", ".", "string", ".", "msg_unsupported_op", ",", "Snackbar", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "private", "int", "interpolate", "(", "float", "fraction", ",", "int", "c1", ",", "int", "c2", ")", "{", "return", "(", "int", ")", "evaluator", ".", "evaluate", "(", "fraction", ",", "c1", ",", "c2", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Gallery", "get", "(", ")", "{", "return", "new", "Gallery", "(", ")", ";", "}", "</s>"]
["<s>", "private", "Gallery", "(", ")", "{", "}", "</s>"]
["<s>", "public", "List", "<", "Image", ">", "getData", "(", ")", "{", "return", "Arrays", ".", "asList", "(", "new", "Image", "(", "R", ".", "drawable", ".", "shop1", ")", ",", "new", "Image", "(", "R", ".", "drawable", ".", "shop2", ")", ",", "new", "Image", "(", "R", ".", "drawable", ".", "shop3", ")", ",", "new", "Image", "(", "R", ".", "drawable", ".", "shop4", ")", ",", "new", "Image", "(", "R", ".", "drawable", ".", "shop5", ")", ",", "new", "Image", "(", "R", ".", "drawable", ".", "shop6", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "@", "Nullable", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_shop", ")", ";", "currentItemName", "=", "(", "TextView", ")", "findViewById", "(", "R", ".", "id", ".", "item_name", ")", ";", "currentItemPrice", "=", "(", "TextView", ")", "findViewById", "(", "R", ".", "id", ".", "item_price", ")", ";", "rateItemButton", "=", "(", "ImageView", ")", "findViewById", "(", "R", ".", "id", ".", "item_btn_rate", ")", ";", "shop", "=", "Shop", ".", "get", "(", ")", ";", "data", "=", "shop", ".", "getData", "(", ")", ";", "itemPicker", "=", "(", "DiscreteScrollView", ")", "findViewById", "(", "R", ".", "id", ".", "item_picker", ")", ";", "itemPicker", ".", "setOrientation", "(", "DSVOrientation", ".", "HORIZONTAL", ")", ";", "itemPicker", ".", "addOnItemChangedListener", "(", "this", ")", ";", "infiniteAdapter", "=", "InfiniteScrollAdapter", ".", "wrap", "(", "new", "ShopAdapter", "(", "data", ")", ")", ";", "itemPicker", ".", "setAdapter", "(", "infiniteAdapter", ")", ";", "itemPicker", ".", "setItemTransitionTimeMillis", "(", "DiscreteScrollViewOptions", ".", "getTransitionTime", "(", ")", ")", ";", "itemPicker", ".", "setItemTransformer", "(", "new", "ScaleTransformer", ".", "Builder", "(", ")", ".", "setMinScale", "(", "<NUM_LIT>", ")", ".", "build", "(", ")", ")", ";", "onItemChanged", "(", "data", ".", "get", "(", "0", ")", ")", ";", "findViewById", "(", "R", ".", "id", ".", "item_btn_rate", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "item_btn_buy", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "item_btn_comment", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "home", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "btn_smooth_scroll", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "btn_transition_time", ")", ".", "setOnClickListener", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "switch", "(", "v", ".", "getId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "item_btn_rate", ":", "int", "realPosition", "=", "infiniteAdapter", ".", "getRealPosition", "(", "itemPicker", ".", "getCurrentItem", "(", ")", ")", ";", "Item", "current", "=", "data", ".", "get", "(", "realPosition", ")", ";", "shop", ".", "setRated", "(", "current", ".", "getId", "(", ")", ",", "!", "shop", ".", "isRated", "(", "current", ".", "getId", "(", ")", ")", ")", ";", "changeRateButtonState", "(", "current", ")", ";", "break", ";", "case", "R", ".", "id", ".", "home", ":", "finish", "(", ")", ";", "break", ";", "case", "R", ".", "id", ".", "btn_transition_time", ":", "DiscreteScrollViewOptions", ".", "configureTransitionTime", "(", "itemPicker", ")", ";", "break", ";", "case", "R", ".", "id", ".", "btn_smooth_scroll", ":", "DiscreteScrollViewOptions", ".", "smoothScrollToUserSelectedPosition", "(", "itemPicker", ",", "v", ")", ";", "break", ";", "default", ":", "showUnsupportedSnackBar", "(", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "private", "void", "onItemChanged", "(", "Item", "item", ")", "{", "currentItemName", ".", "setText", "(", "item", ".", "getName", "(", ")", ")", ";", "currentItemPrice", ".", "setText", "(", "item", ".", "getPrice", "(", ")", ")", ";", "changeRateButtonState", "(", "item", ")", ";", "}", "</s>"]
["<s>", "private", "void", "changeRateButtonState", "(", "Item", "item", ")", "{", "if", "(", "shop", ".", "isRated", "(", "item", ".", "getId", "(", ")", ")", ")", "{", "rateItemButton", ".", "setImageResource", "(", "R", ".", "drawable", ".", "ic_star_black_24dp", ")", ";", "rateItemButton", ".", "setColorFilter", "(", "ContextCompat", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "shopRatedStar", ")", ")", ";", "}", "else", "{", "rateItemButton", ".", "setImageResource", "(", "R", ".", "drawable", ".", "ic_star_border_black_24dp", ")", ";", "rateItemButton", ".", "setColorFilter", "(", "ContextCompat", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "shopSecondary", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCurrentItemChanged", "(", "@", "Nullable", "RecyclerView", ".", "ViewHolder", "viewHolder", ",", "int", "position", ")", "{", "int", "positionInDataSet", "=", "infiniteAdapter", ".", "getRealPosition", "(", "position", ")", ";", "onItemChanged", "(", "data", ".", "get", "(", "positionInDataSet", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "showUnsupportedSnackBar", "(", ")", "{", "Snackbar", ".", "make", "(", "itemPicker", ",", "R", ".", "string", ".", "msg_unsupported_op", ",", "Snackbar", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Shop", "get", "(", ")", "{", "return", "new", "Shop", "(", ")", ";", "}", "</s>"]
["<s>", "private", "Shop", "(", ")", "{", "storage", "=", "App", ".", "getInstance", "(", ")", ".", "getSharedPreferences", "(", "STORAGE", ",", "Context", ".", "MODE_PRIVATE", ")", ";", "}", "</s>"]
["<s>", "public", "List", "<", "Item", ">", "getData", "(", ")", "{", "return", "Arrays", ".", "asList", "(", "new", "Item", "(", "1", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "R", ".", "drawable", ".", "shop1", ")", ",", "new", "Item", "(", "<NUM_LIT:2>", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "R", ".", "drawable", ".", "shop2", ")", ",", "new", "Item", "(", "<NUM_LIT:3>", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "R", ".", "drawable", ".", "shop3", ")", ",", "new", "Item", "(", "<NUM_LIT:4>", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "R", ".", "drawable", ".", "shop4", ")", ",", "new", "Item", "(", "<NUM_LIT:5>", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "R", ".", "drawable", ".", "shop5", ")", ",", "new", "Item", "(", "<NUM_LIT:6>", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "R", ".", "drawable", ".", "shop6", ")", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "isRated", "(", "int", "itemId", ")", "{", "return", "storage", ".", "getBoolean", "(", "String", ".", "valueOf", "(", "itemId", ")", ",", "false", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setRated", "(", "int", "itemId", ",", "boolean", "isRated", ")", "{", "storage", ".", "edit", "(", ")", ".", "putBoolean", "(", "String", ".", "valueOf", "(", "itemId", ")", ",", "isRated", ")", ".", "apply", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ShopAdapter", "(", "List", "<", "Item", ">", "data", ")", "{", "this", ".", "data", "=", "data", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ViewHolder", "onCreateViewHolder", "(", "ViewGroup", "parent", ",", "int", "viewType", ")", "{", "LayoutInflater", "inflater", "=", "LayoutInflater", ".", "from", "(", "parent", ".", "getContext", "(", ")", ")", ";", "View", "v", "=", "inflater", ".", "inflate", "(", "R", ".", "layout", ".", "item_shop_card", ",", "parent", ",", "false", ")", ";", "return", "new", "ViewHolder", "(", "v", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "ViewHolder", "holder", ",", "int", "position", ")", "{", "Glide", ".", "with", "(", "holder", ".", "itemView", ".", "getContext", "(", ")", ")", ".", "load", "(", "data", ".", "get", "(", "position", ")", ".", "getImage", "(", ")", ")", ".", "into", "(", "holder", ".", "image", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "return", "data", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ViewHolder", "(", "View", "itemView", ")", "{", "super", "(", "itemView", ")", ";", "image", "=", "(", "ImageView", ")", "itemView", ".", "findViewById", "(", "R", ".", "id", ".", "image", ")", ";", "}", "</s>"]
["<s>", "public", "Item", "(", "int", "id", ",", "String", "name", ",", "String", "price", ",", "int", "image", ")", "{", "this", ".", "id", "=", "id", ";", "this", ".", "name", "=", "name", ";", "this", ".", "price", "=", "price", ";", "this", ".", "image", "=", "image", ";", "}", "</s>"]
["<s>", "public", "int", "getId", "(", ")", "{", "return", "id", ";", "}", "</s>"]
["<s>", "public", "String", "getName", "(", ")", "{", "return", "name", ";", "}", "</s>"]
["<s>", "public", "String", "getPrice", "(", ")", "{", "return", "price", ";", "}", "</s>"]
["<s>", "public", "int", "getImage", "(", ")", "{", "return", "image", ";", "}", "</s>"]
["<s>", "public", "ForecastAdapter", "(", "List", "<", "Forecast", ">", "data", ")", "{", "this", ".", "data", "=", "data", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAttachedToRecyclerView", "(", "RecyclerView", "recyclerView", ")", "{", "super", ".", "onAttachedToRecyclerView", "(", "recyclerView", ")", ";", "parentRecycler", "=", "recyclerView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ViewHolder", "onCreateViewHolder", "(", "ViewGroup", "parent", ",", "int", "viewType", ")", "{", "LayoutInflater", "inflater", "=", "LayoutInflater", ".", "from", "(", "parent", ".", "getContext", "(", ")", ")", ";", "View", "v", "=", "inflater", ".", "inflate", "(", "R", ".", "layout", ".", "item_city_card", ",", "parent", ",", "false", ")", ";", "return", "new", "ViewHolder", "(", "v", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "ViewHolder", "holder", ",", "int", "position", ")", "{", "int", "iconTint", "=", "ContextCompat", ".", "getColor", "(", "holder", ".", "itemView", ".", "getContext", "(", ")", ",", "R", ".", "color", ".", "grayIconTint", ")", ";", "Forecast", "forecast", "=", "data", ".", "get", "(", "position", ")", ";", "Glide", ".", "with", "(", "holder", ".", "itemView", ".", "getContext", "(", ")", ")", ".", "load", "(", "forecast", ".", "getCityIcon", "(", ")", ")", ".", "listener", "(", "new", "TintOnLoad", "(", "holder", ".", "imageView", ",", "iconTint", ")", ")", ".", "into", "(", "holder", ".", "imageView", ")", ";", "holder", ".", "textView", ".", "setText", "(", "forecast", ".", "getCityName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "return", "data", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ViewHolder", "(", "View", "itemView", ")", "{", "super", "(", "itemView", ")", ";", "imageView", "=", "(", "ImageView", ")", "itemView", ".", "findViewById", "(", "R", ".", "id", ".", "city_image", ")", ";", "textView", "=", "(", "TextView", ")", "itemView", ".", "findViewById", "(", "R", ".", "id", ".", "city_name", ")", ";", "itemView", ".", "findViewById", "(", "R", ".", "id", ".", "container", ")", ".", "setOnClickListener", "(", "this", ")", ";", "}", "</s>"]
["<s>", "public", "void", "showText", "(", ")", "{", "int", "parentHeight", "=", "(", "(", "View", ")", "imageView", ".", "getParent", "(", ")", ")", ".", "getHeight", "(", ")", ";", "float", "scale", "=", "(", "parentHeight", "-", "textView", ".", "getHeight", "(", ")", ")", "/", "(", "float", ")", "imageView", ".", "getHeight", "(", ")", ";", "imageView", ".", "setPivotX", "(", "imageView", ".", "getWidth", "(", ")", "*", "<NUM_LIT>", ")", ";", "imageView", ".", "setPivotY", "(", "0", ")", ";", "imageView", ".", "animate", "(", ")", ".", "scaleX", "(", "scale", ")", ".", "withEndAction", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "textView", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "imageView", ".", "setColorFilter", "(", "Color", ".", "BLACK", ")", ";", "}", "}", ")", ".", "scaleY", "(", "scale", ")", ".", "setDuration", "(", "<NUM_LIT>", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "textView", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "imageView", ".", "setColorFilter", "(", "Color", ".", "BLACK", ")", ";", "}", "</s>"]
["<s>", "public", "void", "hideText", "(", ")", "{", "imageView", ".", "setColorFilter", "(", "ContextCompat", ".", "getColor", "(", "imageView", ".", "getContext", "(", ")", ",", "R", ".", "color", ".", "grayIconTint", ")", ")", ";", "textView", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "imageView", ".", "animate", "(", ")", ".", "scaleX", "(", "<NUM_LIT>", ")", ".", "scaleY", "(", "<NUM_LIT>", ")", ".", "setDuration", "(", "<NUM_LIT>", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "parentRecycler", ".", "smoothScrollToPosition", "(", "getAdapterPosition", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "TintOnLoad", "(", "ImageView", "view", ",", "int", "tintColor", ")", "{", "this", ".", "imageView", "=", "view", ";", "this", ".", "tintColor", "=", "tintColor", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onException", "(", "Exception", "e", ",", "Integer", "model", ",", "Target", "<", "GlideDrawable", ">", "target", ",", "boolean", "isFirstResource", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onResourceReady", "(", "GlideDrawable", "resource", ",", "Integer", "model", ",", "Target", "<", "GlideDrawable", ">", "target", ",", "boolean", "isFromMemoryCache", ",", "boolean", "isFirstResource", ")", "{", "imageView", ".", "setColorFilter", "(", "tintColor", ")", ";", "return", "false", ";", "}", "</s>"]
["<s>", "public", "Forecast", "(", "String", "cityName", ",", "int", "cityIcon", ",", "String", "temperature", ",", "Weather", "weather", ")", "{", "this", ".", "cityName", "=", "cityName", ";", "this", ".", "cityIcon", "=", "cityIcon", ";", "this", ".", "temperature", "=", "temperature", ";", "this", ".", "weather", "=", "weather", ";", "}", "</s>"]
["<s>", "public", "String", "getCityName", "(", ")", "{", "return", "cityName", ";", "}", "</s>"]
["<s>", "public", "int", "getCityIcon", "(", ")", "{", "return", "cityIcon", ";", "}", "</s>"]
["<s>", "public", "String", "getTemperature", "(", ")", "{", "return", "temperature", ";", "}", "</s>"]
["<s>", "public", "Weather", "getWeather", "(", ")", "{", "return", "weather", ";", "}", "</s>"]
["<s>", "Weather", "(", "String", "displayName", ")", "{", "this", ".", "displayName", "=", "displayName", ";", "}", "</s>"]
["<s>", "public", "String", "getDisplayName", "(", ")", "{", "return", "displayName", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "@", "Nullable", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_weather", ")", ";", "forecastView", "=", "(", "ForecastView", ")", "findViewById", "(", "R", ".", "id", ".", "forecast_view", ")", ";", "forecasts", "=", "WeatherStation", ".", "get", "(", ")", ".", "getForecasts", "(", ")", ";", "cityPicker", "=", "(", "DiscreteScrollView", ")", "findViewById", "(", "R", ".", "id", ".", "forecast_city_picker", ")", ";", "cityPicker", ".", "setSlideOnFling", "(", "true", ")", ";", "cityPicker", ".", "setAdapter", "(", "new", "ForecastAdapter", "(", "forecasts", ")", ")", ";", "cityPicker", ".", "addOnItemChangedListener", "(", "this", ")", ";", "cityPicker", ".", "addScrollStateChangeListener", "(", "this", ")", ";", "cityPicker", ".", "scrollToPosition", "(", "<NUM_LIT:2>", ")", ";", "cityPicker", ".", "setItemTransitionTimeMillis", "(", "DiscreteScrollViewOptions", ".", "getTransitionTime", "(", ")", ")", ";", "cityPicker", ".", "setItemTransformer", "(", "new", "ScaleTransformer", ".", "Builder", "(", ")", ".", "setMinScale", "(", "<NUM_LIT>", ")", ".", "build", "(", ")", ")", ";", "forecastView", ".", "setForecast", "(", "forecasts", ".", "get", "(", "0", ")", ")", ";", "findViewById", "(", "R", ".", "id", ".", "home", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "btn_transition_time", ")", ".", "setOnClickListener", "(", "this", ")", ";", "findViewById", "(", "R", ".", "id", ".", "btn_smooth_scroll", ")", ".", "setOnClickListener", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCurrentItemChanged", "(", "@", "Nullable", "ForecastAdapter", ".", "ViewHolder", "holder", ",", "int", "position", ")", "{", "if", "(", "holder", "!", "=", "null", ")", "{", "forecastView", ".", "setForecast", "(", "forecasts", ".", "get", "(", "position", ")", ")", ";", "holder", ".", "showText", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScrollStart", "(", "@", "NonNull", "ForecastAdapter", ".", "ViewHolder", "holder", ",", "int", "position", ")", "{", "holder", ".", "hideText", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScroll", "(", "float", "position", ",", "int", "currentIndex", ",", "int", "newIndex", ",", "@", "Nullable", "ForecastAdapter", ".", "ViewHolder", "currentHolder", ",", "@", "Nullable", "ForecastAdapter", ".", "ViewHolder", "newHolder", ")", "{", "Forecast", "current", "=", "forecasts", ".", "get", "(", "currentIndex", ")", ";", "if", "(", "newIndex", ">", "=", "0", "&", "&", "newIndex", "<", "cityPicker", ".", "getAdapter", "(", ")", ".", "getItemCount", "(", ")", ")", "{", "Forecast", "next", "=", "forecasts", ".", "get", "(", "newIndex", ")", ";", "forecastView", ".", "onScroll", "(", "<NUM_LIT>", "-", "Math", ".", "abs", "(", "position", ")", ",", "current", ",", "next", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "switch", "(", "v", ".", "getId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "home", ":", "finish", "(", ")", ";", "break", ";", "case", "R", ".", "id", ".", "btn_transition_time", ":", "DiscreteScrollViewOptions", ".", "configureTransitionTime", "(", "cityPicker", ")", ";", "break", ";", "case", "R", ".", "id", ".", "btn_smooth_scroll", ":", "DiscreteScrollViewOptions", ".", "smoothScrollToUserSelectedPosition", "(", "cityPicker", ",", "v", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScrollEnd", "(", "@", "NonNull", "ForecastAdapter", ".", "ViewHolder", "holder", ",", "int", "position", ")", "{", "}", "</s>"]
["<s>", "public", "ForecastView", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "}", "</s>"]
["<s>", "public", "ForecastView", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "}", "</s>"]
["<s>", "public", "ForecastView", "(", "Context", "context", ",", "AttributeSet", "attrs", ",", "int", "defStyleAttr", ")", "{", "super", "(", "context", ",", "attrs", ",", "defStyleAttr", ")", ";", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "public", "ForecastView", "(", "Context", "context", ",", "AttributeSet", "attrs", ",", "int", "defStyleAttr", ",", "int", "defStyleRes", ")", "{", "super", "(", "context", ",", "attrs", ",", "defStyleAttr", ",", "defStyleRes", ")", ";", "}", "</s>"]
["<s>", "private", "void", "initGradient", "(", ")", "{", "float", "centerX", "=", "getWidth", "(", ")", "*", "<NUM_LIT>", ";", "Shader", "gradient", "=", "new", "LinearGradient", "(", "centerX", ",", "0", ",", "centerX", ",", "getHeight", "(", ")", ",", "currentGradient", ",", "null", ",", "Shader", ".", "TileMode", ".", "MIRROR", ")", ";", "gradientPaint", ".", "setShader", "(", "gradient", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onSizeChanged", "(", "int", "w", ",", "int", "h", ",", "int", "oldw", ",", "int", "oldh", ")", "{", "super", ".", "onSizeChanged", "(", "w", ",", "h", ",", "oldw", ",", "oldh", ")", ";", "if", "(", "currentGradient", "!", "=", "null", ")", "{", "initGradient", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDraw", "(", "Canvas", "canvas", ")", "{", "canvas", ".", "drawRect", "(", "0", ",", "0", ",", "getWidth", "(", ")", ",", "getHeight", "(", ")", ",", "gradientPaint", ")", ";", "super", ".", "onDraw", "(", "canvas", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setForecast", "(", "Forecast", "forecast", ")", "{", "Weather", "weather", "=", "forecast", ".", "getWeather", "(", ")", ";", "currentGradient", "=", "weatherToGradient", "(", "weather", ")", ";", "if", "(", "getWidth", "(", ")", "!", "=", "0", "&", "&", "getHeight", "(", ")", "!", "=", "0", ")", "{", "initGradient", "(", ")", ";", "}", "weatherDescription", ".", "setText", "(", "weather", ".", "getDisplayName", "(", ")", ")", ";", "weatherTemperature", ".", "setText", "(", "forecast", ".", "getTemperature", "(", ")", ")", ";", "Glide", ".", "with", "(", "getContext", "(", ")", ")", ".", "load", "(", "weatherToIcon", "(", "weather", ")", ")", ".", "into", "(", "weatherImage", ")", ";", "invalidate", "(", ")", ";", "weatherImage", ".", "animate", "(", ")", ".", "scaleX", "(", "<NUM_LIT>", ")", ".", "scaleY", "(", "<NUM_LIT>", ")", ".", "setInterpolator", "(", "new", "AccelerateDecelerateInterpolator", "(", ")", ")", ".", "setDuration", "(", "<NUM_LIT>", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "onScroll", "(", "float", "fraction", ",", "Forecast", "oldF", ",", "Forecast", "newF", ")", "{", "weatherImage", ".", "setScaleX", "(", "fraction", ")", ";", "weatherImage", ".", "setScaleY", "(", "fraction", ")", ";", "currentGradient", "=", "mix", "(", "fraction", ",", "weatherToGradient", "(", "newF", ".", "getWeather", "(", ")", ")", ",", "weatherToGradient", "(", "oldF", ".", "getWeather", "(", ")", ")", ")", ";", "initGradient", "(", ")", ";", "invalidate", "(", ")", ";", "}", "</s>"]
["<s>", "private", "int", "[", "]", "mix", "(", "float", "fraction", ",", "int", "[", "]", "c1", ",", "int", "[", "]", "c2", ")", "{", "return", "new", "int", "[", "]", "{", "(", "Integer", ")", "evaluator", ".", "evaluate", "(", "fraction", ",", "c1", "[", "0", "]", ",", "c2", "[", "0", "]", ")", ",", "(", "Integer", ")", "evaluator", ".", "evaluate", "(", "fraction", ",", "c1", "[", "1", "]", ",", "c2", "[", "1", "]", ")", ",", "(", "Integer", ")", "evaluator", ".", "evaluate", "(", "fraction", ",", "c1", "[", "<NUM_LIT:2>", "]", ",", "c2", "[", "<NUM_LIT:2>", "]", ")", "}", ";", "}", "</s>"]
["<s>", "private", "int", "[", "]", "weatherToGradient", "(", "Weather", "weather", ")", "{", "switch", "(", "weather", ")", "{", "case", "PERIODIC_CLOUDS", ":", "return", "colors", "(", "R", ".", "array", ".", "gradientPeriodicClouds", ")", ";", "case", "CLOUDY", ":", "return", "colors", "(", "R", ".", "array", ".", "gradientCloudy", ")", ";", "case", "MOSTLY_CLOUDY", ":", "return", "colors", "(", "R", ".", "array", ".", "gradientMostlyCloudy", ")", ";", "case", "PARTLY_CLOUDY", ":", "return", "colors", "(", "R", ".", "array", ".", "gradientPartlyCloudy", ")", ";", "case", "CLEAR", ":", "return", "colors", "(", "R", ".", "array", ".", "gradientClear", ")", ";", "default", ":", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "int", "weatherToIcon", "(", "Weather", "weather", ")", "{", "switch", "(", "weather", ")", "{", "case", "PERIODIC_CLOUDS", ":", "return", "R", ".", "drawable", ".", "periodic_clouds", ";", "case", "CLOUDY", ":", "return", "R", ".", "drawable", ".", "cloudy", ";", "case", "MOSTLY_CLOUDY", ":", "return", "R", ".", "drawable", ".", "mostly_cloudy", ";", "case", "PARTLY_CLOUDY", ":", "return", "R", ".", "drawable", ".", "partly_cloudy", ";", "case", "CLEAR", ":", "return", "R", ".", "drawable", ".", "clear", ";", "default", ":", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "int", "[", "]", "colors", "(", "@", "ArrayRes", "int", "res", ")", "{", "return", "getContext", "(", ")", ".", "getResources", "(", ")", ".", "getIntArray", "(", "res", ")", ";", "}", "</s>"]
["<s>", "public", "static", "WeatherStation", "get", "(", ")", "{", "return", "new", "WeatherStation", "(", ")", ";", "}", "</s>"]
["<s>", "private", "WeatherStation", "(", ")", "{", "}", "</s>"]
["<s>", "public", "List", "<", "Forecast", ">", "getForecasts", "(", ")", "{", "return", "Arrays", ".", "asList", "(", "new", "Forecast", "(", "\"", "<STR_LIT>", "\"", ",", "R", ".", "drawable", ".", "pisa", ",", "\"", "<STR_LIT>", "\"", ",", "Weather", ".", "PARTLY_CLOUDY", ")", ",", "new", "Forecast", "(", "\"", "<STR_LIT>", "\"", ",", "R", ".", "drawable", ".", "paris", ",", "\"", "<STR_LIT>", "\"", ",", "Weather", ".", "CLEAR", ")", ",", "new", "Forecast", "(", "\"", "<STR_LIT>", "\"", ",", "R", ".", "drawable", ".", "new_york", ",", "\"", "<STR_LIT>", "\"", ",", "Weather", ".", "MOSTLY_CLOUDY", ")", ",", "new", "Forecast", "(", "\"", "<STR_LIT>", "\"", ",", "R", ".", "drawable", ".", "rome", ",", "\"", "<STR_LIT>", "\"", ",", "Weather", ".", "PARTLY_CLOUDY", ")", ",", "new", "Forecast", "(", "\"", "<STR_LIT>", "\"", ",", "R", ".", "drawable", ".", "london", ",", "\"", "<STR_LIT:6>", "\"", ",", "Weather", ".", "PERIODIC_CLOUDS", ")", ",", "new", "Forecast", "(", "\"", "<STR_LIT>", "\"", ",", "R", ".", "drawable", ".", "washington", ",", "\"", "<STR_LIT>", "\"", ",", "Weather", ".", "CLEAR", ")", ")", ";", "}", "</s>"]
