["<s>", "@", "Test", "public", "void", "useAppContext", "(", ")", "throws", "Exception", "{", "Context", "appContext", "=", "InstrumentationRegistry", ".", "getTargetContext", "(", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "appContext", ".", "getPackageName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "addition_isCorrect", "(", ")", "throws", "Exception", "{", "assertEquals", "(", "<NUM_LIT:4>", ",", "<NUM_LIT:2>", "+", "<NUM_LIT:2>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_main", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button_launch_menu", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "DemoHoverMenuService", ".", "showFloatingMenu", "(", "getApplicationContext", "(", ")", ")", ";", "}", "}", ")", ";", "if", "(", "!", "mPermissionsRequested", "&", "&", "!", "OverlayPermission", ".", "hasRuntimePermissionToDrawOverlay", "(", "this", ")", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Intent", "myIntent", "=", "OverlayPermission", ".", "createIntentToRequestOverlayPermission", "(", "this", ")", ";", "startActivityForResult", "(", "myIntent", ",", "REQUEST_CODE_HOVER_PERMISSION", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "DemoHoverMenuService", ".", "showFloatingMenu", "(", "getApplicationContext", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onActivityResult", "(", "int", "requestCode", ",", "int", "resultCode", ",", "Intent", "data", ")", "{", "if", "(", "REQUEST_CODE_HOVER_PERMISSION", "=", "=", "requestCode", ")", "{", "mPermissionsRequested", "=", "true", ";", "}", "else", "{", "super", ".", "onActivityResult", "(", "requestCode", ",", "resultCode", ",", "data", ")", ";", "}", "}", "</s>"]
["<s>", "public", "NonFullscreenContent", "(", "@", "NonNull", "Context", "context", ")", "{", "mContext", "=", "context", ".", "getApplicationContext", "(", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "View", "getView", "(", ")", "{", "if", "(", "null", "=", "=", "mContent", ")", "{", "mContent", "=", "LayoutInflater", ".", "from", "(", "mContext", ")", ".", "inflate", "(", "R", ".", "layout", ".", "content_non_fullscreen", ",", "null", ")", ";", "mContent", ".", "setLayoutParams", "(", "new", "ViewGroup", ".", "LayoutParams", "(", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "ViewGroup", ".", "LayoutParams", ".", "WRAP_CONTENT", ")", ")", ";", "}", "return", "mContent", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isFullscreen", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onShown", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onHidden", "(", ")", "{", "}", "</s>"]
["<s>", "public", "DemoHoverMenu", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "menuId", ")", "{", "mContext", "=", "context", ".", "getApplicationContext", "(", ")", ";", "mMenuId", "=", "menuId", ";", "mSection", "=", "new", "Section", "(", "new", "SectionId", "(", "\"", "<STR_LIT:0>", "\"", ")", ",", "createTabView", "(", ")", ",", "new", "NonFullscreenContent", "(", "context", ")", ")", ";", "}", "</s>"]
["<s>", "private", "View", "createTabView", "(", ")", "{", "Resources", "resources", "=", "mContext", ".", "getResources", "(", ")", ";", "DemoTabView", "view", "=", "new", "DemoTabView", "(", "mContext", ",", "resources", ".", "getDrawable", "(", "R", ".", "drawable", ".", "tab_background", ")", ",", "resources", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_orange_circle", ")", ")", ";", "view", ".", "setTabBackgroundColor", "(", "<NUM_LIT>", ")", ";", "view", ".", "setTabForegroundColor", "(", "null", ")", ";", "return", "view", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getId", "(", ")", "{", "return", "mMenuId", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSectionCount", "(", ")", "{", "return", "1", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "int", "index", ")", "{", "return", "mSection", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "@", "NonNull", "SectionId", "sectionId", ")", "{", "return", "mSection", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "List", "<", "Section", ">", "getSections", "(", ")", "{", "return", "Collections", ".", "singletonList", "(", "mSection", ")", ";", "}", "</s>"]
["<s>", "public", "DemoTabView", "(", "Context", "context", ",", "Drawable", "backgroundDrawable", ",", "Drawable", "iconDrawable", ")", "{", "super", "(", "context", ")", ";", "mCircleDrawable", "=", "backgroundDrawable", ";", "mIconDrawable", "=", "iconDrawable", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "int", "insetsDp", "=", "(", "int", ")", "TypedValue", ".", "applyDimension", "(", "TypedValue", ".", "COMPLEX_UNIT_DIP", ",", "<NUM_LIT:10>", ",", "getContext", "(", ")", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ")", ";", "mIconInsetLeft", "=", "mIconInsetTop", "=", "mIconInsetRight", "=", "mIconInsetBottom", "=", "insetsDp", ";", "}", "</s>"]
["<s>", "public", "void", "setTabBackgroundColor", "(", "@", "ColorInt", "int", "backgroundColor", ")", "{", "mBackgroundColor", "=", "backgroundColor", ";", "mCircleDrawable", ".", "setColorFilter", "(", "mBackgroundColor", ",", "PorterDuff", ".", "Mode", ".", "SRC_ATOP", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setTabForegroundColor", "(", "@", "ColorInt", "Integer", "foregroundColor", ")", "{", "mForegroundColor", "=", "foregroundColor", ";", "if", "(", "null", "!", "=", "mForegroundColor", ")", "{", "mIconDrawable", ".", "setColorFilter", "(", "mForegroundColor", ",", "PorterDuff", ".", "Mode", ".", "SRC_ATOP", ")", ";", "}", "else", "{", "mIconDrawable", ".", "setColorFilter", "(", "null", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setIcon", "(", "@", "Nullable", "Drawable", "icon", ")", "{", "mIconDrawable", "=", "icon", ";", "if", "(", "null", "!", "=", "mForegroundColor", "&", "&", "null", "!", "=", "mIconDrawable", ")", "{", "mIconDrawable", ".", "setColorFilter", "(", "mForegroundColor", ",", "PorterDuff", ".", "Mode", ".", "SRC_ATOP", ")", ";", "}", "updateIconBounds", "(", ")", ";", "invalidate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onSizeChanged", "(", "int", "w", ",", "int", "h", ",", "int", "oldw", ",", "int", "oldh", ")", "{", "super", ".", "onSizeChanged", "(", "w", ",", "h", ",", "oldw", ",", "oldh", ")", ";", "mCircleDrawable", ".", "setBounds", "(", "getPaddingLeft", "(", ")", ",", "getPaddingTop", "(", ")", ",", "w", "-", "getPaddingRight", "(", ")", ",", "h", "-", "getPaddingBottom", "(", ")", ")", ";", "updateIconBounds", "(", ")", ";", "invalidate", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "updateIconBounds", "(", ")", "{", "if", "(", "null", "!", "=", "mIconDrawable", ")", "{", "Rect", "bounds", "=", "new", "Rect", "(", "mCircleDrawable", ".", "getBounds", "(", ")", ")", ";", "bounds", ".", "set", "(", "bounds", ".", "left", "+", "mIconInsetLeft", ",", "bounds", ".", "top", "+", "mIconInsetTop", ",", "bounds", ".", "right", "-", "mIconInsetRight", ",", "bounds", ".", "bottom", "-", "mIconInsetBottom", ")", ";", "mIconDrawable", ".", "setBounds", "(", "bounds", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDraw", "(", "Canvas", "canvas", ")", "{", "mCircleDrawable", ".", "draw", "(", "canvas", ")", ";", "if", "(", "null", "!", "=", "mIconDrawable", ")", "{", "mIconDrawable", ".", "draw", "(", "canvas", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "showFloatingMenu", "(", "Context", "context", ")", "{", "context", ".", "startService", "(", "new", "Intent", "(", "context", ",", "DemoHoverMenuService", ".", "class", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroy", "(", ")", "{", "super", ".", "onDestroy", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Context", "getContextForHoverMenu", "(", ")", "{", "return", "new", "ContextThemeWrapper", "(", "this", ",", "R", ".", "style", ".", "AppTheme", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuLaunched", "(", "@", "NonNull", "Intent", "intent", ",", "@", "NonNull", "HoverView", "hoverView", ")", "{", "hoverView", ".", "setMenu", "(", "createHoverMenu", "(", ")", ")", ";", "hoverView", ".", "collapse", "(", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "private", "HoverMenu", "createHoverMenu", "(", ")", "{", "return", "new", "DemoHoverMenu", "(", "getApplicationContext", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ApplicationTest", "(", ")", "{", "super", "(", "Application", ".", "class", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "addition_isCorrect", "(", ")", "throws", "Exception", "{", "assertEquals", "(", "<NUM_LIT:4>", ",", "<NUM_LIT:2>", "+", "<NUM_LIT:2>", ")", ";", "}", "</s>"]
["<s>", "PositionDock", "(", "@", "NonNull", "Point", "position", ")", "{", "mPosition", "=", "position", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "Point", "position", "(", ")", "{", "return", "mPosition", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "mHoverView", ".", "mScreen", ".", "getShadeView", "(", ")", ".", "show", "(", ")", ";", "mHoverView", ".", "mScreen", ".", "getContentDisplay", "(", ")", ".", "selectedTabIs", "(", "mSelectedTab", ")", ";", "HoverMenu", ".", "Section", "selectedSection", "=", "null", "!", "=", "mHoverView", ".", "mSelectedSectionId", "?", "mHoverView", ".", "mMenu", ".", "getSection", "(", "mHoverView", ".", "mSelectedSectionId", ")", ":", "mHoverView", ".", "mMenu", ".", "getSection", "(", "0", ")", ";", "mHoverView", ".", "mScreen", ".", "getContentDisplay", "(", ")", ".", "displayContent", "(", "selectedSection", ".", "getContent", "(", ")", ")", ";", "mHoverView", ".", "mScreen", ".", "getContentDisplay", "(", ")", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "mHoverView", ".", "notifyListenersExpanded", "(", ")", ";", "if", "(", "null", "!", "=", "mListener", ")", "{", "mListener", ".", "onExpanded", "(", ")", ";", "}", "}", "</s>"]
["<s>", "HoverViewStateExpanded", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "takeControl", "(", "@", "NonNull", "HoverView", "hoverView", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "super", ".", "takeControl", "(", "hoverView", ")", ";", "if", "(", "mHasControl", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "mHasControl", "=", "true", ";", "mHoverView", "=", "hoverView", ";", "mHoverView", ".", "mState", "=", "this", ";", "mHoverView", ".", "makeTouchableInWindow", "(", ")", ";", "mHoverView", ".", "requestFocus", "(", ")", ";", "mDock", "=", "new", "Point", "(", "mHoverView", ".", "mScreen", ".", "getWidth", "(", ")", "-", "ANCHOR_TAB_X_OFFSET_IN_PX", ",", "ANCHOR_TAB_Y_OFFSET_IN_PX", ")", ";", "if", "(", "null", "!", "=", "mHoverView", ".", "mMenu", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "setMenu", "(", "mHoverView", ".", "mMenu", ")", ";", "}", "mHoverView", ".", "makeTouchableInWindow", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "expandMenu", "(", ")", "{", "boolean", "dockSelectedTabImmediately", "=", "null", "=", "=", "mHoverView", ".", "mScreen", ".", "getChainedTab", "(", "mHoverView", ".", "mSelectedSectionId", ")", ";", "createChainedTabs", "(", ")", ";", "chainTabs", "(", "!", "dockSelectedTabImmediately", ")", ";", "if", "(", "dockSelectedTabImmediately", ")", "{", "mSelectedTab", ".", "dockImmediately", "(", ")", ";", "mHoverView", ".", "post", "(", "mShowTabsRunnable", ")", ";", "}", "else", "{", "mSelectedTab", ".", "dock", "(", "mShowTabsRunnable", ")", ";", "}", "mHoverView", ".", "notifyListenersExpanding", "(", ")", ";", "if", "(", "null", "!", "=", "mListener", ")", "{", "mListener", ".", "onExpanding", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "createChainedTabs", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "null", "!", "=", "mHoverView", ".", "mMenu", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "mHoverView", ".", "mMenu", ".", "getSectionCount", "(", ")", ";", "+", "+", "i", ")", "{", "HoverMenu", ".", "Section", "section", "=", "mHoverView", ".", "mMenu", ".", "getSection", "(", "i", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "section", ".", "getId", "(", ")", ")", ";", "final", "FloatingTab", "chainedTab", "=", "mHoverView", ".", "mScreen", ".", "createChainedTab", "(", "section", ".", "getId", "(", ")", ",", "section", ".", "getTabView", "(", ")", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "section", ".", "getId", "(", ")", ")", ";", "if", "(", "!", "mHoverView", ".", "mSelectedSectionId", ".", "equals", "(", "section", ".", "getId", "(", ")", ")", ")", "{", "chainedTab", ".", "disappearImmediate", "(", ")", ";", "}", "else", "{", "mSelectedTab", "=", "chainedTab", ";", "}", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "section", ".", "getTabView", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "section", ".", "getTabView", "(", ")", ".", "getParent", "(", ")", ")", ";", "mChainedTabs", ".", "add", "(", "chainedTab", ")", ";", "mSections", ".", "put", "(", "chainedTab", ",", "section", ")", ";", "mTabChains", ".", "add", "(", "new", "TabChain", "(", "chainedTab", ",", "TAB_SPACING_IN_PX", ")", ")", ";", "chainedTab", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "onTabSelected", "(", "chainedTab", ")", ";", "}", "}", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "onTabSelected", "(", "chainedTab", ")", ";", "}", "</s>"]
["<s>", "private", "void", "chainTabs", "(", "boolean", "animateSelectedTab", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "FloatingTab", "predecessorTab", "=", "mChainedTabs", ".", "get", "(", "0", ")", ";", "int", "selectedTabIndex", "=", "0", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "mChainedTabs", ".", "size", "(", ")", ";", "+", "+", "i", ")", "{", "if", "(", "mSelectedTab", "=", "=", "mChainedTabs", ".", "get", "(", "i", ")", ")", "{", "selectedTabIndex", "=", "i", ";", "break", ";", "}", "}", "for", "(", "int", "i", "=", "0", ";", "i", "<", "mChainedTabs", ".", "size", "(", ")", ";", "+", "+", "i", ")", "{", "final", "FloatingTab", "chainedTab", "=", "mChainedTabs", ".", "get", "(", "i", ")", ";", "final", "TabChain", "tabChain", "=", "mTabChains", ".", "get", "(", "i", ")", ";", "if", "(", "i", "=", "=", "0", ")", "{", "tabChain", ".", "chainTo", "(", "mDock", ")", ";", "tabChain", ".", "tightenChain", "(", "!", "animateSelectedTab", ")", ";", "}", "else", "{", "final", "FloatingTab", "currentPredecessor", "=", "predecessorTab", ";", "int", "displayDelayInMillis", "=", "(", "int", ")", "(", "Math", ".", "abs", "(", "selectedTabIndex", "-", "i", ")", "*", "<NUM_LIT:100>", ")", ";", "tabChain", ".", "chainTo", "(", "currentPredecessor", ")", ";", "chainedTab", ".", "postDelayed", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "chainedTab", ".", "getTabId", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "currentPredecessor", ".", "getTabId", "(", ")", ")", ";", "tabChain", ".", "tightenChain", "(", ")", ";", "}", "}", ",", "displayDelayInMillis", ")", ";", "}", "predecessorTab", "=", "chainedTab", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "chainedTab", ".", "getTabId", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "currentPredecessor", ".", "getTabId", "(", ")", ")", ";", "tabChain", ".", "tightenChain", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "expand", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "collapse", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "changeState", "(", "mHoverView", ".", "mCollapsed", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "changeState", "(", "mHoverView", ".", "mClosed", ")", ";", "}", "</s>"]
["<s>", "private", "void", "changeState", "(", "@", "NonNull", "final", "HoverViewState", "nextState", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "!", "mHasControl", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "null", "!", "=", "mHoverView", ".", "mMenu", ")", "{", "mHoverView", ".", "mMenu", ".", "setUpdatedCallback", "(", "null", ")", ";", "}", "mHasControl", "=", "false", ";", "mHasMenu", "=", "false", ";", "mHoverView", ".", "mScreen", ".", "getContentDisplay", "(", ")", ".", "selectedTabIs", "(", "null", ")", ";", "mHoverView", ".", "mScreen", ".", "getContentDisplay", "(", ")", ".", "displayContent", "(", "null", ")", ";", "mHoverView", ".", "mScreen", ".", "getContentDisplay", "(", ")", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "mHoverView", ".", "mScreen", ".", "getShadeView", "(", ")", ".", "hide", "(", ")", ";", "mHoverView", ".", "setState", "(", "nextState", ")", ";", "unchainTabs", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mHoverView", "=", "null", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mHoverView", "=", "null", ";", "}", "</s>"]
["<s>", "private", "void", "unchainTabs", "(", "@", "Nullable", "final", "Runnable", "onUnChained", ")", "{", "int", "selectedTabIndex", "=", "0", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "mChainedTabs", ".", "size", "(", ")", ";", "+", "+", "i", ")", "{", "if", "(", "mSelectedTab", "=", "=", "mChainedTabs", ".", "get", "(", "i", ")", ")", "{", "selectedTabIndex", "=", "i", ";", "break", ";", "}", "}", "int", "unchainCompletionTime", "=", "0", ";", "mTabsToUnchainCount", "=", "mChainedTabs", ".", "size", "(", ")", "-", "1", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "mChainedTabs", ".", "size", "(", ")", ";", "+", "+", "i", ")", "{", "final", "FloatingTab", "chainedTab", "=", "mChainedTabs", ".", "get", "(", "i", ")", ";", "final", "TabChain", "tabChain", "=", "mTabChains", ".", "get", "(", "i", ")", ";", "if", "(", "mSelectedTab", "!", "=", "chainedTab", ")", "{", "int", "displayDelayInMillis", "=", "Math", ".", "abs", "(", "selectedTabIndex", "-", "i", ")", "*", "TAB_APPEARANCE_DELAY_IN_MS", ";", "unchainCompletionTime", "=", "Math", ".", "max", "(", "unchainCompletionTime", ",", "displayDelayInMillis", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "displayDelayInMillis", ")", ";", "chainedTab", ".", "postDelayed", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "tabChain", ".", "unchain", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "chainedTab", ")", ";", "mHoverView", ".", "mScreen", ".", "destroyChainedTab", "(", "chainedTab", ")", ";", "-", "-", "mTabsToUnchainCount", ";", "if", "(", "0", "=", "=", "mTabsToUnchainCount", "&", "&", "null", "!", "=", "onUnChained", ")", "{", "onUnChained", ".", "run", "(", ")", ";", "}", "}", "}", ")", ";", "}", "}", ",", "displayDelayInMillis", ")", ";", "}", "}", "mChainedTabs", ".", "clear", "(", ")", ";", "mTabChains", ".", "clear", "(", ")", ";", "if", "(", "0", "=", "=", "mTabsToUnchainCount", "&", "&", "null", "!", "=", "onUnChained", ")", "{", "onUnChained", ".", "run", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "tabChain", ".", "unchain", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "chainedTab", ")", ";", "mHoverView", ".", "mScreen", ".", "destroyChainedTab", "(", "chainedTab", ")", ";", "-", "-", "mTabsToUnchainCount", ";", "if", "(", "0", "=", "=", "mTabsToUnchainCount", "&", "&", "null", "!", "=", "onUnChained", ")", "{", "onUnChained", ".", "run", "(", ")", ";", "}", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "chainedTab", ")", ";", "mHoverView", ".", "mScreen", ".", "destroyChainedTab", "(", "chainedTab", ")", ";", "-", "-", "mTabsToUnchainCount", ";", "if", "(", "0", "=", "=", "mTabsToUnchainCount", "&", "&", "null", "!", "=", "onUnChained", ")", "{", "onUnChained", ".", "run", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setMenu", "(", "@", "Nullable", "HoverMenu", "menu", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mHoverView", ".", "mMenu", "=", "menu", ";", "if", "(", "null", "=", "=", "mHoverView", ".", "mMenu", "|", "|", "mHoverView", ".", "mMenu", ".", "getSectionCount", "(", ")", "=", "=", "0", ")", "{", "close", "(", ")", ";", "return", ";", "}", "mHoverView", ".", "restoreVisualState", "(", ")", ";", "if", "(", "null", "=", "=", "mHoverView", ".", "mSelectedSectionId", "|", "|", "null", "=", "=", "mHoverView", ".", "mMenu", ".", "getSection", "(", "mHoverView", ".", "mSelectedSectionId", ")", ")", "{", "mHoverView", ".", "mSelectedSectionId", "=", "mHoverView", ".", "mMenu", ".", "getSection", "(", "0", ")", ".", "getId", "(", ")", ";", "}", "mHoverView", ".", "mMenu", ".", "setUpdatedCallback", "(", "new", "ListUpdateCallback", "(", ")", "{", "@", "Override", "public", "void", "onInserted", "(", "int", "position", ",", "int", "count", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "position", "+", "\"", "<STR_LIT>", "\"", "+", "count", ")", ";", "int", "[", "]", "sectionIndices", "=", "new", "int", "[", "count", "]", ";", "for", "(", "int", "i", "=", "position", ";", "i", "<", "position", "+", "count", ";", "+", "+", "i", ")", "{", "sectionIndices", "[", "i", "-", "position", "]", "=", "i", ";", "}", "createTabsForIndices", "(", "sectionIndices", ")", ";", "}", "@", "Override", "public", "void", "onRemoved", "(", "int", "position", ",", "int", "count", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "position", "+", "\"", "<STR_LIT>", "\"", "+", "count", ")", ";", "int", "[", "]", "sectionIndices", "=", "new", "int", "[", "count", "]", ";", "for", "(", "int", "i", "=", "position", ";", "i", "<", "position", "+", "count", ";", "+", "+", "i", ")", "{", "sectionIndices", "[", "i", "-", "position", "]", "=", "i", ";", "}", "removeSections", "(", "sectionIndices", ")", ";", "}", "@", "Override", "public", "void", "onMoved", "(", "int", "fromPosition", ",", "int", "toPosition", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "fromPosition", "+", "\"", "<STR_LIT>", "\"", "+", "toPosition", ")", ";", "reorderSection", "(", "fromPosition", ",", "toPosition", ")", ";", "}", "@", "Override", "public", "void", "onChanged", "(", "int", "position", ",", "int", "count", ",", "Object", "payload", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "position", "+", "\"", "<STR_LIT>", "\"", "+", "count", ")", ";", "int", "[", "]", "sectionIndices", "=", "new", "int", "[", "count", "]", ";", "for", "(", "int", "i", "=", "position", ";", "i", "<", "position", "+", "count", ";", "+", "+", "i", ")", "{", "sectionIndices", "[", "i", "-", "position", "]", "=", "i", ";", "}", "updateSections", "(", "sectionIndices", ")", ";", "}", "}", ")", ";", "if", "(", "mHasControl", "&", "&", "!", "mHasMenu", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "expandMenu", "(", ")", ";", "}", "else", "if", "(", "mHasControl", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "transitionDisplayFromOldMenuToNew", "(", ")", ";", "}", "mHasMenu", "=", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onInserted", "(", "int", "position", ",", "int", "count", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "position", "+", "\"", "<STR_LIT>", "\"", "+", "count", ")", ";", "int", "[", "]", "sectionIndices", "=", "new", "int", "[", "count", "]", ";", "for", "(", "int", "i", "=", "position", ";", "i", "<", "position", "+", "count", ";", "+", "+", "i", ")", "{", "sectionIndices", "[", "i", "-", "position", "]", "=", "i", ";", "}", "createTabsForIndices", "(", "sectionIndices", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onRemoved", "(", "int", "position", ",", "int", "count", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "position", "+", "\"", "<STR_LIT>", "\"", "+", "count", ")", ";", "int", "[", "]", "sectionIndices", "=", "new", "int", "[", "count", "]", ";", "for", "(", "int", "i", "=", "position", ";", "i", "<", "position", "+", "count", ";", "+", "+", "i", ")", "{", "sectionIndices", "[", "i", "-", "position", "]", "=", "i", ";", "}", "removeSections", "(", "sectionIndices", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onMoved", "(", "int", "fromPosition", ",", "int", "toPosition", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "fromPosition", "+", "\"", "<STR_LIT>", "\"", "+", "toPosition", ")", ";", "reorderSection", "(", "fromPosition", ",", "toPosition", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onChanged", "(", "int", "position", ",", "int", "count", ",", "Object", "payload", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "position", "+", "\"", "<STR_LIT>", "\"", "+", "count", ")", ";", "int", "[", "]", "sectionIndices", "=", "new", "int", "[", "count", "]", ";", "for", "(", "int", "i", "=", "position", ";", "i", "<", "position", "+", "count", ";", "+", "+", "i", ")", "{", "sectionIndices", "[", "i", "-", "position", "]", "=", "i", ";", "}", "updateSections", "(", "sectionIndices", ")", ";", "}", "</s>"]
["<s>", "private", "void", "transitionDisplayFromOldMenuToNew", "(", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "mHoverView", ".", "mMenu", ".", "getSectionCount", "(", ")", ";", "+", "+", "i", ")", "{", "if", "(", "i", "<", "mChainedTabs", ".", "size", "(", ")", ")", "{", "updateSection", "(", "i", ")", ";", "}", "else", "{", "createTabsForIndices", "(", "i", ")", ";", "}", "}", "if", "(", "mChainedTabs", ".", "size", "(", ")", ">", "mHoverView", ".", "mMenu", ".", "getSectionCount", "(", ")", ")", "{", "int", "[", "]", "removedSections", "=", "new", "int", "[", "mChainedTabs", ".", "size", "(", ")", "-", "mHoverView", ".", "mMenu", ".", "getSectionCount", "(", ")", "]", ";", "for", "(", "int", "i", "=", "mHoverView", ".", "mMenu", ".", "getSectionCount", "(", ")", ";", "i", "<", "mChainedTabs", ".", "size", "(", ")", ";", "+", "+", "i", ")", "{", "removedSections", "[", "i", "-", "mHoverView", ".", "mMenu", ".", "getSectionCount", "(", ")", "]", "=", "i", ";", "}", "removeSections", "(", "removedSections", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "respondsToBackButton", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBackPressed", "(", ")", "{", "collapse", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "createTabsForIndices", "(", "int", ".", ".", ".", "sectionIndices", ")", "{", "for", "(", "int", "sectionIndex", ":", "sectionIndices", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "sectionIndex", ")", ";", "HoverMenu", ".", "Section", "section", "=", "mHoverView", ".", "mMenu", ".", "getSection", "(", "sectionIndex", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "sectionIndex", "+", "\"", "<STR_LIT>", "\"", "+", "section", ".", "getId", "(", ")", ")", ";", "FloatingTab", "newTab", "=", "addTab", "(", "section", ".", "getId", "(", ")", ",", "section", ".", "getTabView", "(", ")", ",", "sectionIndex", ")", ";", "mSections", ".", "put", "(", "newTab", ",", "section", ")", ";", "}", "updateChainedPositions", "(", ")", ";", "}", "</s>"]
["<s>", "private", "FloatingTab", "addTab", "(", "@", "NonNull", "HoverMenu", ".", "SectionId", "sectionId", ",", "@", "NonNull", "View", "tabView", ",", "int", "position", ")", "{", "final", "FloatingTab", "newTab", "=", "mHoverView", ".", "mScreen", ".", "createChainedTab", "(", "sectionId", ",", "tabView", ")", ";", "newTab", ".", "disappearImmediate", "(", ")", ";", "if", "(", "mChainedTabs", ".", "size", "(", ")", "<", "=", "position", ")", "{", "mChainedTabs", ".", "add", "(", "newTab", ")", ";", "mTabChains", ".", "add", "(", "new", "TabChain", "(", "newTab", ",", "TAB_SPACING_IN_PX", ")", ")", ";", "}", "else", "{", "mChainedTabs", ".", "add", "(", "position", ",", "newTab", ")", ";", "mTabChains", ".", "add", "(", "position", ",", "new", "TabChain", "(", "newTab", ",", "TAB_SPACING_IN_PX", ")", ")", ";", "}", "newTab", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "onTabSelected", "(", "newTab", ")", ";", "}", "}", ")", ";", "return", "newTab", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "onTabSelected", "(", "newTab", ")", ";", "}", "</s>"]
["<s>", "private", "void", "reorderSection", "(", "int", "fromPosition", ",", "int", "toPosition", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "fromPosition", "+", "\"", "<STR_LIT>", "\"", "+", "toPosition", ")", ";", "FloatingTab", "chainedTab", "=", "mChainedTabs", ".", "remove", "(", "fromPosition", ")", ";", "mChainedTabs", ".", "add", "(", "toPosition", ",", "chainedTab", ")", ";", "TabChain", "tabChain", "=", "mTabChains", ".", "remove", "(", "fromPosition", ")", ";", "mTabChains", ".", "add", "(", "toPosition", ",", "tabChain", ")", ";", "updateChainedPositions", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "updateSections", "(", "int", ".", ".", ".", "sectionIndices", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "Arrays", ".", "toString", "(", "sectionIndices", ")", ")", ";", "for", "(", "int", "sectionIndex", ":", "sectionIndices", ")", "{", "updateSection", "(", "sectionIndex", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "updateSection", "(", "int", "sectionIndex", ")", "{", "HoverMenu", ".", "Section", "section", "=", "mHoverView", ".", "mMenu", ".", "getSection", "(", "sectionIndex", ")", ";", "if", "(", "null", "=", "=", "section", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "sectionIndex", "+", "\"", "<STR_LIT>", "\"", ")", ";", "return", ";", "}", "FloatingTab", "chainedTab", "=", "mChainedTabs", ".", "get", "(", "sectionIndex", ")", ";", "chainedTab", ".", "setTabView", "(", "section", ".", "getTabView", "(", ")", ")", ";", "if", "(", "mHoverView", ".", "mSelectedSectionId", ".", "equals", "(", "mHoverView", ".", "mMenu", ".", "getSection", "(", "sectionIndex", ")", ".", "getId", "(", ")", ")", ")", "{", "mHoverView", ".", "mScreen", ".", "getContentDisplay", "(", ")", ".", "displayContent", "(", "section", ".", "getContent", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "removeSections", "(", "int", ".", ".", ".", "sectionIndices", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "Arrays", ".", "toString", "(", "sectionIndices", ")", ")", ";", "Arrays", ".", "sort", "(", "sectionIndices", ")", ";", "for", "(", "int", "i", "=", "sectionIndices", ".", "length", "-", "1", ";", "i", ">", "=", "0", ";", "-", "-", "i", ")", "{", "removeSection", "(", "sectionIndices", "[", "i", "]", ")", ";", "}", "updateChainedPositions", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "removeSection", "(", "int", "sectionIndex", ")", "{", "final", "FloatingTab", "chainedTab", "=", "mChainedTabs", ".", "remove", "(", "sectionIndex", ")", ";", "TabChain", "tabChain", "=", "mTabChains", ".", "remove", "(", "sectionIndex", ")", ";", "tabChain", ".", "unchain", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "mHoverView", ".", "mScreen", ".", "destroyChainedTab", "(", "chainedTab", ")", ";", "}", "}", ")", ";", "HoverMenu", ".", "Section", "removedSection", "=", "mSections", ".", "get", "(", "chainedTab", ")", ";", "if", "(", "removedSection", ".", "getId", "(", ")", ".", "equals", "(", "mHoverView", ".", "mSelectedSectionId", ")", ")", "{", "int", "newSelectionIndex", "=", "0", ";", "if", "(", "sectionIndex", "-", "1", "<", "mHoverView", ".", "mMenu", ".", "getSectionCount", "(", ")", "-", "1", ")", "{", "newSelectionIndex", "=", "sectionIndex", "-", "1", ";", "}", "else", "{", "newSelectionIndex", "=", "mHoverView", ".", "mMenu", ".", "getSectionCount", "(", ")", "-", "1", ";", "}", "selectSection", "(", "mHoverView", ".", "mMenu", ".", "getSection", "(", "newSelectionIndex", ")", ")", ";", "}", "chainedTab", ".", "setOnClickListener", "(", "null", ")", ";", "mSections", ".", "remove", "(", "chainedTab", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "mHoverView", ".", "mScreen", ".", "destroyChainedTab", "(", "chainedTab", ")", ";", "}", "</s>"]
["<s>", "private", "void", "updateChainedPositions", "(", ")", "{", "TabChain", "firstChain", "=", "mTabChains", ".", "get", "(", "0", ")", ";", "firstChain", ".", "chainTo", "(", "mDock", ")", ";", "firstChain", ".", "tightenChain", "(", ")", ";", "FloatingTab", "predecessor", "=", "mChainedTabs", ".", "get", "(", "0", ")", ";", "for", "(", "int", "i", "=", "1", ";", "i", "<", "mChainedTabs", ".", "size", "(", ")", ";", "+", "+", "i", ")", "{", "FloatingTab", "chainedTab", "=", "mChainedTabs", ".", "get", "(", "i", ")", ";", "TabChain", "tabChain", "=", "mTabChains", ".", "get", "(", "i", ")", ";", "tabChain", ".", "chainTo", "(", "predecessor", ")", ";", "tabChain", ".", "tightenChain", "(", ")", ";", "predecessor", "=", "chainedTab", ";", "}", "}", "</s>"]
["<s>", "private", "void", "onTabSelected", "(", "@", "NonNull", "FloatingTab", "selectedTab", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "mSections", ".", "get", "(", "selectedTab", ")", ".", "getId", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "mHoverView", ".", "mSelectedSectionId", ")", ";", "HoverMenu", ".", "Section", "section", "=", "mSections", ".", "get", "(", "selectedTab", ")", ";", "if", "(", "!", "section", ".", "getId", "(", ")", ".", "equals", "(", "mHoverView", ".", "mSelectedSectionId", ")", ")", "{", "selectSection", "(", "section", ")", ";", "}", "else", "{", "collapse", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "selectSection", "(", "@", "NonNull", "HoverMenu", ".", "Section", "section", ")", "{", "mHoverView", ".", "mSelectedSectionId", "=", "section", ".", "getId", "(", ")", ";", "mSelectedTab", "=", "mHoverView", ".", "mScreen", ".", "getChainedTab", "(", "mHoverView", ".", "mSelectedSectionId", ")", ";", "ContentDisplay", "contentDisplay", "=", "mHoverView", ".", "mScreen", ".", "getContentDisplay", "(", ")", ";", "contentDisplay", ".", "selectedTabIs", "(", "mSelectedTab", ")", ";", "contentDisplay", ".", "displayContent", "(", "section", ".", "getContent", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setListener", "(", "@", "NonNull", "Listener", "listener", ")", "{", "mListener", "=", "listener", ";", "}", "</s>"]
["<s>", "void", "onExpanding", "(", ")", ";", "</s>"]
["<s>", "void", "onExpanded", "(", ")", ";", "</s>"]
["<s>", "void", "onCollapseRequested", "(", ")", ";", "</s>"]
["<s>", "void", "takeControl", "(", "@", "NonNull", "HoverView", "hoverView", ")", ";", "</s>"]
["<s>", "void", "expand", "(", ")", ";", "</s>"]
["<s>", "void", "collapse", "(", ")", ";", "</s>"]
["<s>", "void", "close", "(", ")", ";", "</s>"]
["<s>", "void", "setMenu", "(", "@", "Nullable", "HoverMenu", "menu", ")", ";", "</s>"]
["<s>", "boolean", "respondsToBackButton", "(", ")", ";", "</s>"]
["<s>", "void", "onBackPressed", "(", ")", ";", "</s>"]
["<s>", "void", "addToWindow", "(", ")", ";", "</s>"]
["<s>", "void", "removeFromWindow", "(", ")", ";", "</s>"]
["<s>", "void", "makeTouchableInWindow", "(", ")", ";", "</s>"]
["<s>", "void", "makeUntouchableInWindow", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "void", "onPositionChange", "(", "@", "NonNull", "Point", "position", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDockChange", "(", "@", "NonNull", "Point", "dock", ")", "{", "Log", ".", "d", "(", "TAG", ",", "hashCode", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "dock", ")", ";", "moveToChainedPosition", "(", "false", ")", ";", "}", "</s>"]
["<s>", "TabChain", "(", "@", "NonNull", "FloatingTab", "tab", ",", "int", "tabSpacingInPx", ")", "{", "mTab", "=", "tab", ";", "mTabSpacingInPx", "=", "tabSpacingInPx", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "FloatingTab", "getTab", "(", ")", "{", "return", "mTab", ";", "}", "</s>"]
["<s>", "public", "void", "chainTo", "(", "@", "NonNull", "FloatingTab", "tab", ")", "{", "chainTo", "(", "tab", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "void", "chainTo", "(", "@", "NonNull", "FloatingTab", "tab", ",", "@", "Nullable", "final", "Runnable", "onChained", ")", "{", "if", "(", "null", "!", "=", "mPredecessorTab", ")", "{", "mPredecessorTab", ".", "removeOnPositionChangeListener", "(", "mOnPredecessorPositionChange", ")", ";", "}", "Log", ".", "d", "(", "TAG", ",", "mTab", ".", "getTabId", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "tab", ".", "getTabId", "(", ")", ")", ";", "mPredecessorTab", "=", "tab", ";", "mLockedPosition", "=", "null", ";", "Point", "myPosition", "=", "getMyChainPositionRelativeTo", "(", "mPredecessorTab", ")", ";", "mTab", ".", "setDock", "(", "new", "PositionDock", "(", "myPosition", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "chainTo", "(", "@", "NonNull", "Point", "lockedPosition", ")", "{", "chainTo", "(", "lockedPosition", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "void", "chainTo", "(", "@", "NonNull", "Point", "lockedPosition", ",", "@", "Nullable", "Runnable", "onChained", ")", "{", "if", "(", "null", "!", "=", "mPredecessorTab", ")", "{", "mPredecessorTab", ".", "removeOnPositionChangeListener", "(", "mOnPredecessorPositionChange", ")", ";", "}", "Log", ".", "d", "(", "TAG", ",", "mTab", ".", "getTabId", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "lockedPosition", ")", ";", "mPredecessorTab", "=", "null", ";", "mLockedPosition", "=", "lockedPosition", ";", "mTab", ".", "setDock", "(", "new", "PositionDock", "(", "mLockedPosition", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "tightenChain", "(", ")", "{", "tightenChain", "(", "false", ")", ";", "}", "</s>"]
["<s>", "public", "void", "tightenChain", "(", "boolean", "immediate", ")", "{", "moveToChainedPosition", "(", "immediate", ")", ";", "if", "(", "null", "!", "=", "mPredecessorTab", ")", "{", "mPredecessorTab", ".", "addOnPositionChangeListener", "(", "mOnPredecessorPositionChange", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "moveToChainedPosition", "(", "boolean", "immediate", ")", "{", "if", "(", "View", ".", "VISIBLE", "=", "=", "mTab", ".", "getVisibility", "(", ")", ")", "{", "if", "(", "immediate", ")", "{", "mTab", ".", "dockImmediately", "(", ")", ";", "}", "else", "{", "mTab", ".", "dock", "(", ")", ";", "}", "}", "else", "{", "mTab", ".", "moveTo", "(", "mTab", ".", "getDockPosition", "(", ")", ")", ";", "mTab", ".", "appear", "(", "null", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Point", "getMyChainPositionRelativeTo", "(", "@", "NonNull", "FloatingTab", "tab", ")", "{", "Point", "predecessorTabPosition", "=", "tab", ".", "getDockPosition", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "predecessorTabPosition", ")", ";", "return", "new", "Point", "(", "predecessorTabPosition", ".", "x", "-", "mTabSpacingInPx", ",", "predecessorTabPosition", ".", "y", ")", ";", "}", "</s>"]
["<s>", "public", "void", "unchain", "(", ")", "{", "unchain", "(", "null", ")", ";", "}", "</s>"]
["<s>", "public", "void", "unchain", "(", "@", "Nullable", "final", "Runnable", "onUnchained", ")", "{", "if", "(", "null", "!", "=", "mPredecessorTab", ")", "{", "mPredecessorTab", ".", "removeOnPositionChangeListener", "(", "mOnPredecessorPositionChange", ")", ";", "}", "mTab", ".", "disappear", "(", "onUnchained", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onLayoutChange", "(", "View", "v", ",", "int", "left", ",", "int", "top", ",", "int", "right", ",", "int", "bottom", ",", "int", "oldLeft", ",", "int", "oldTop", ",", "int", "oldRight", ",", "int", "oldBottom", ")", "{", "if", "(", "mHasControl", "&", "&", "mIsDocked", ")", "{", "moveToDock", "(", ")", ";", "}", "}", "</s>"]
["<s>", "HoverViewStateCollapsed", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "takeControl", "(", "@", "NonNull", "HoverView", "hoverView", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "super", ".", "takeControl", "(", "hoverView", ")", ";", "if", "(", "mHasControl", ")", "{", "Log", ".", "w", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "return", ";", "}", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mHasControl", "=", "true", ";", "mHoverView", "=", "hoverView", ";", "mHoverView", ".", "mState", "=", "this", ";", "mHoverView", ".", "clearFocus", "(", ")", ";", "mHoverView", ".", "mScreen", ".", "getContentDisplay", "(", ")", ".", "setVisibility", "(", "GONE", ")", ";", "mHoverView", ".", "makeUntouchableInWindow", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "mHoverView", ".", "mSelectedSectionId", ")", ";", "mSelectedSection", "=", "mHoverView", ".", "mMenu", ".", "getSection", "(", "mHoverView", ".", "mSelectedSectionId", ")", ";", "mSelectedSection", "=", "null", "!", "=", "mSelectedSection", "?", "mSelectedSection", ":", "mHoverView", ".", "mMenu", ".", "getSection", "(", "0", ")", ";", "mSelectedSectionIndex", "=", "mHoverView", ".", "mMenu", ".", "getSectionIndex", "(", "mSelectedSection", ")", ";", "mFloatingTab", "=", "mHoverView", ".", "mScreen", ".", "getChainedTab", "(", "mHoverView", ".", "mSelectedSectionId", ")", ";", "final", "boolean", "wasFloatingTabVisible", ";", "if", "(", "null", "=", "=", "mFloatingTab", ")", "{", "wasFloatingTabVisible", "=", "false", ";", "mFloatingTab", "=", "mHoverView", ".", "mScreen", ".", "createChainedTab", "(", "mHoverView", ".", "mSelectedSectionId", ",", "mSelectedSection", ".", "getTabView", "(", ")", ")", ";", "}", "else", "{", "wasFloatingTabVisible", "=", "true", ";", "}", "mDragListener", "=", "new", "FloatingTabDragListener", "(", "this", ")", ";", "mIsCollapsed", "=", "false", ";", "if", "(", "null", "!", "=", "mListener", ")", "{", "mHoverView", ".", "notifyListenersCollapsing", "(", ")", ";", "mListener", ".", "onCollapsing", "(", ")", ";", "}", "initDockPosition", "(", ")", ";", "if", "(", "!", "wasFloatingTabVisible", ")", "{", "mFloatingTab", ".", "setVisibility", "(", "INVISIBLE", ")", ";", "}", "mHoverView", ".", "post", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "wasFloatingTabVisible", ")", "{", "sendToDock", "(", ")", ";", "}", "else", "{", "mFloatingTab", ".", "setVisibility", "(", "VISIBLE", ")", ";", "moveToDock", "(", ")", ";", "onDocked", "(", ")", ";", "}", "}", "}", ")", ";", "mFloatingTab", ".", "addOnLayoutChangeListener", "(", "mOnLayoutChangeListener", ")", ";", "if", "(", "null", "!", "=", "mHoverView", ".", "mMenu", ")", "{", "listenForMenuChanges", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "wasFloatingTabVisible", ")", "{", "sendToDock", "(", ")", ";", "}", "else", "{", "mFloatingTab", ".", "setVisibility", "(", "VISIBLE", ")", ";", "moveToDock", "(", ")", ";", "onDocked", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "expand", "(", ")", "{", "changeState", "(", "mHoverView", ".", "mExpanded", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "collapse", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "changeState", "(", "mHoverView", ".", "mClosed", ")", ";", "}", "</s>"]
["<s>", "private", "void", "changeState", "(", "@", "NonNull", "HoverViewState", "nextState", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "!", "mHasControl", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "mFloatingTab", ".", "removeOnLayoutChangeListener", "(", "mOnLayoutChangeListener", ")", ";", "if", "(", "null", "!", "=", "mHoverView", ".", "mMenu", ")", "{", "mHoverView", ".", "mMenu", ".", "setUpdatedCallback", "(", "null", ")", ";", "}", "mHasControl", "=", "false", ";", "mIsDocked", "=", "false", ";", "deactivateDragger", "(", ")", ";", "mDragListener", "=", "null", ";", "mFloatingTab", "=", "null", ";", "mHoverView", ".", "setState", "(", "nextState", ")", ";", "mHoverView", "=", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setMenu", "(", "@", "Nullable", "final", "HoverMenu", "menu", ")", "{", "mHoverView", ".", "mMenu", "=", "menu", ";", "if", "(", "null", "=", "=", "menu", "|", "|", "menu", ".", "getSectionCount", "(", ")", "=", "=", "0", ")", "{", "close", "(", ")", ";", "return", ";", "}", "mHoverView", ".", "restoreVisualState", "(", ")", ";", "if", "(", "null", "=", "=", "mHoverView", ".", "mSelectedSectionId", "|", "|", "null", "=", "=", "mHoverView", ".", "mMenu", ".", "getSection", "(", "mHoverView", ".", "mSelectedSectionId", ")", ")", "{", "mHoverView", ".", "mSelectedSectionId", "=", "mHoverView", ".", "mMenu", ".", "getSection", "(", "0", ")", ".", "getId", "(", ")", ";", "}", "listenForMenuChanges", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "listenForMenuChanges", "(", ")", "{", "mHoverView", ".", "mMenu", ".", "setUpdatedCallback", "(", "new", "ListUpdateCallback", "(", ")", "{", "@", "Override", "public", "void", "onInserted", "(", "int", "position", ",", "int", "count", ")", "{", "}", "@", "Override", "public", "void", "onRemoved", "(", "int", "position", ",", "int", "count", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "position", "+", "\"", "<STR_LIT>", "\"", "+", "count", ")", ";", "if", "(", "mSelectedSectionIndex", "=", "=", "position", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mFloatingTab", ".", "removeOnLayoutChangeListener", "(", "mOnLayoutChangeListener", ")", ";", "mHoverView", ".", "mScreen", ".", "destroyChainedTab", "(", "mFloatingTab", ")", ";", "mSelectedSectionIndex", "=", "mSelectedSectionIndex", ">", "0", "?", "mSelectedSectionIndex", "-", "1", ":", "0", ";", "mSelectedSection", "=", "mHoverView", ".", "mMenu", ".", "getSection", "(", "mSelectedSectionIndex", ")", ";", "mHoverView", ".", "mSelectedSectionId", "=", "mSelectedSection", ".", "getId", "(", ")", ";", "mFloatingTab", "=", "mHoverView", ".", "mScreen", ".", "createChainedTab", "(", "mSelectedSection", ".", "getId", "(", ")", ",", "mSelectedSection", ".", "getTabView", "(", ")", ")", ";", "mFloatingTab", ".", "addOnLayoutChangeListener", "(", "mOnLayoutChangeListener", ")", ";", "}", "}", "@", "Override", "public", "void", "onMoved", "(", "int", "fromPosition", ",", "int", "toPosition", ")", "{", "}", "@", "Override", "public", "void", "onChanged", "(", "int", "position", ",", "int", "count", ",", "Object", "payload", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "position", "+", "\"", "<STR_LIT>", "\"", "+", "count", ")", ";", "for", "(", "int", "i", "=", "position", ";", "i", "<", "position", "+", "count", ";", "+", "+", "i", ")", "{", "if", "(", "i", "=", "=", "mSelectedSectionIndex", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mFloatingTab", ".", "setTabView", "(", "mHoverView", ".", "mMenu", ".", "getSection", "(", "position", ")", ".", "getTabView", "(", ")", ")", ";", "}", "}", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onInserted", "(", "int", "position", ",", "int", "count", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onRemoved", "(", "int", "position", ",", "int", "count", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "position", "+", "\"", "<STR_LIT>", "\"", "+", "count", ")", ";", "if", "(", "mSelectedSectionIndex", "=", "=", "position", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mFloatingTab", ".", "removeOnLayoutChangeListener", "(", "mOnLayoutChangeListener", ")", ";", "mHoverView", ".", "mScreen", ".", "destroyChainedTab", "(", "mFloatingTab", ")", ";", "mSelectedSectionIndex", "=", "mSelectedSectionIndex", ">", "0", "?", "mSelectedSectionIndex", "-", "1", ":", "0", ";", "mSelectedSection", "=", "mHoverView", ".", "mMenu", ".", "getSection", "(", "mSelectedSectionIndex", ")", ";", "mHoverView", ".", "mSelectedSectionId", "=", "mSelectedSection", ".", "getId", "(", ")", ";", "mFloatingTab", "=", "mHoverView", ".", "mScreen", ".", "createChainedTab", "(", "mSelectedSection", ".", "getId", "(", ")", ",", "mSelectedSection", ".", "getTabView", "(", ")", ")", ";", "mFloatingTab", ".", "addOnLayoutChangeListener", "(", "mOnLayoutChangeListener", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onMoved", "(", "int", "fromPosition", ",", "int", "toPosition", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onChanged", "(", "int", "position", ",", "int", "count", ",", "Object", "payload", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "position", "+", "\"", "<STR_LIT>", "\"", "+", "count", ")", ";", "for", "(", "int", "i", "=", "position", ";", "i", "<", "position", "+", "count", ";", "+", "+", "i", ")", "{", "if", "(", "i", "=", "=", "mSelectedSectionIndex", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mFloatingTab", ".", "setTabView", "(", "mHoverView", ".", "mMenu", ".", "getSection", "(", "position", ")", ".", "getTabView", "(", ")", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "respondsToBackButton", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBackPressed", "(", ")", "{", "}", "</s>"]
["<s>", "public", "void", "setListener", "(", "@", "Nullable", "Listener", "listener", ")", "{", "mListener", "=", "listener", ";", "}", "</s>"]
["<s>", "private", "void", "onPickedUpByUser", "(", ")", "{", "mIsDocked", "=", "false", ";", "mHoverView", ".", "mScreen", ".", "getExitView", "(", ")", ".", "setVisibility", "(", "VISIBLE", ")", ";", "if", "(", "null", "!", "=", "mListener", ")", "{", "mListener", ".", "onDragStart", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "onDroppedByUser", "(", ")", "{", "mHoverView", ".", "mScreen", ".", "getExitView", "(", ")", ".", "setVisibility", "(", "GONE", ")", ";", "if", "(", "null", "!", "=", "mListener", ")", "{", "mListener", ".", "onDragEnd", "(", ")", ";", "}", "boolean", "droppedOnExit", "=", "mHoverView", ".", "mScreen", ".", "getExitView", "(", ")", ".", "isInExitZone", "(", "mFloatingTab", ".", "getPosition", "(", ")", ")", ";", "if", "(", "droppedOnExit", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "closeMenu", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "null", "!", "=", "mHoverView", ".", "mOnExitListener", ")", "{", "mHoverView", ".", "mOnExitListener", ".", "onExit", "(", ")", ";", "}", "}", "}", ")", ";", "}", "else", "{", "int", "tabSize", "=", "mHoverView", ".", "getResources", "(", ")", ".", "getDimensionPixelSize", "(", "R", ".", "dimen", ".", "hover_tab_size", ")", ";", "Point", "screenSize", "=", "new", "Point", "(", "mHoverView", ".", "mScreen", ".", "getWidth", "(", ")", ",", "mHoverView", ".", "mScreen", ".", "getHeight", "(", ")", ")", ";", "float", "tabHorizontalPositionPercent", "=", "(", "float", ")", "mFloatingTab", ".", "getPosition", "(", ")", ".", "x", "/", "screenSize", ".", "x", ";", "float", "tabVerticalPosition", "=", "(", "float", ")", "mFloatingTab", ".", "getPosition", "(", ")", ".", "y", "/", "screenSize", ".", "y", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "tabHorizontalPositionPercent", "+", "\"", "<STR_LIT>", "\"", "+", "tabVerticalPosition", ")", ";", "SideDock", ".", "SidePosition", "sidePosition", "=", "new", "SideDock", ".", "SidePosition", "(", "tabHorizontalPositionPercent", "<", "=", "<NUM_LIT>", "?", "SideDock", ".", "SidePosition", ".", "LEFT", ":", "SideDock", ".", "SidePosition", ".", "RIGHT", ",", "tabVerticalPosition", ")", ";", "mHoverView", ".", "mCollapsedDock", "=", "new", "SideDock", "(", "mHoverView", ",", "tabSize", ",", "sidePosition", ")", ";", "mHoverView", ".", "saveVisualState", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "mHoverView", ".", "mCollapsedDock", ")", ";", "sendToDock", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "null", "!", "=", "mHoverView", ".", "mOnExitListener", ")", "{", "mHoverView", ".", "mOnExitListener", ".", "onExit", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "onTap", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "expand", "(", ")", ";", "if", "(", "null", "!", "=", "mListener", ")", "{", "mListener", ".", "onTap", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "sendToDock", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "deactivateDragger", "(", ")", ";", "mFloatingTab", ".", "setDock", "(", "mHoverView", ".", "mCollapsedDock", ")", ";", "mFloatingTab", ".", "dock", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "onDocked", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "onDocked", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "moveToDock", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Point", "dockPosition", "=", "mHoverView", ".", "mCollapsedDock", ".", "sidePosition", "(", ")", ".", "calculateDockPosition", "(", "new", "Point", "(", "mHoverView", ".", "mScreen", ".", "getWidth", "(", ")", ",", "mHoverView", ".", "mScreen", ".", "getHeight", "(", ")", ")", ",", "mFloatingTab", ".", "getTabSize", "(", ")", ")", ";", "mFloatingTab", ".", "moveTo", "(", "dockPosition", ")", ";", "}", "</s>"]
["<s>", "private", "void", "initDockPosition", "(", ")", "{", "if", "(", "null", "=", "=", "mHoverView", ".", "mCollapsedDock", ")", "{", "int", "tabSize", "=", "mHoverView", ".", "getResources", "(", ")", ".", "getDimensionPixelSize", "(", "R", ".", "dimen", ".", "hover_tab_size", ")", ";", "mHoverView", ".", "mCollapsedDock", "=", "new", "SideDock", "(", "mHoverView", ",", "tabSize", ",", "new", "SideDock", ".", "SidePosition", "(", "SideDock", ".", "SidePosition", ".", "LEFT", ",", "<NUM_LIT>", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "onDocked", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mIsDocked", "=", "true", ";", "activateDragger", "(", ")", ";", "boolean", "didJustCollapse", "=", "!", "mIsCollapsed", ";", "mIsCollapsed", "=", "true", ";", "mHoverView", ".", "saveVisualState", "(", ")", ";", "if", "(", "null", "!", "=", "mListener", ")", "{", "if", "(", "didJustCollapse", ")", "{", "mHoverView", ".", "notifyListenersCollapsed", "(", ")", ";", "mListener", ".", "onCollapsed", "(", ")", ";", "}", "mListener", ".", "onDocked", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "moveTabTo", "(", "@", "NonNull", "Point", "position", ")", "{", "mFloatingTab", ".", "moveTo", "(", "position", ")", ";", "}", "</s>"]
["<s>", "private", "void", "closeMenu", "(", "final", "@", "Nullable", "Runnable", "onClosed", ")", "{", "mFloatingTab", ".", "disappear", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "mHoverView", ".", "mScreen", ".", "destroyChainedTab", "(", "mFloatingTab", ")", ";", "if", "(", "null", "!", "=", "onClosed", ")", "{", "onClosed", ".", "run", "(", ")", ";", "}", "close", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "mHoverView", ".", "mScreen", ".", "destroyChainedTab", "(", "mFloatingTab", ")", ";", "if", "(", "null", "!", "=", "onClosed", ")", "{", "onClosed", ".", "run", "(", ")", ";", "}", "close", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "activateDragger", "(", ")", "{", "mHoverView", ".", "mDragger", ".", "activate", "(", "mDragListener", ",", "mFloatingTab", ".", "getPosition", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "deactivateDragger", "(", ")", "{", "mHoverView", ".", "mDragger", ".", "deactivate", "(", ")", ";", "}", "</s>"]
["<s>", "void", "onCollapsing", "(", ")", ";", "</s>"]
["<s>", "void", "onCollapsed", "(", ")", ";", "</s>"]
["<s>", "void", "onDragStart", "(", ")", ";", "</s>"]
["<s>", "void", "onDragEnd", "(", ")", ";", "</s>"]
["<s>", "void", "onDocked", "(", ")", ";", "</s>"]
["<s>", "void", "onTap", "(", ")", ";", "</s>"]
["<s>", "void", "onExited", "(", ")", ";", "</s>"]
["<s>", "private", "FloatingTabDragListener", "(", "@", "NonNull", "HoverViewStateCollapsed", "owner", ")", "{", "mOwner", "=", "owner", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPress", "(", "float", "x", ",", "float", "y", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDragStart", "(", "float", "x", ",", "float", "y", ")", "{", "mOwner", ".", "onPickedUpByUser", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDragTo", "(", "float", "x", ",", "float", "y", ")", "{", "mOwner", ".", "moveTabTo", "(", "new", "Point", "(", "(", "int", ")", "x", ",", "(", "int", ")", "y", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReleasedAt", "(", "float", "x", ",", "float", "y", ")", "{", "mOwner", ".", "onDroppedByUser", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onTap", "(", ")", "{", "mOwner", ".", "onTap", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onLayoutChange", "(", "View", "v", ",", "int", "left", ",", "int", "top", ",", "int", "right", ",", "int", "bottom", ",", "int", "oldLeft", ",", "int", "oldTop", ",", "int", "oldRight", ",", "int", "oldBottom", ")", "{", "notifyListenersOfPositionChange", "(", ")", ";", "}", "</s>"]
["<s>", "public", "FloatingTab", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "tabId", ")", "{", "super", "(", "context", ")", ";", "mId", "=", "tabId", ";", "mTabSize", "=", "getResources", "(", ")", ".", "getDimensionPixelSize", "(", "R", ".", "dimen", ".", "hover_tab_size", ")", ";", "int", "padding", "=", "getResources", "(", ")", ".", "getDimensionPixelSize", "(", "R", ".", "dimen", ".", "hover_tab_margin", ")", ";", "setPadding", "(", "padding", ",", "padding", ",", "padding", ",", "padding", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onAttachedToWindow", "(", ")", "{", "super", ".", "onAttachedToWindow", "(", ")", ";", "ViewGroup", ".", "LayoutParams", "layoutParams", "=", "getLayoutParams", "(", ")", ";", "layoutParams", ".", "width", "=", "mTabSize", ";", "layoutParams", ".", "height", "=", "mTabSize", ";", "setLayoutParams", "(", "layoutParams", ")", ";", "addOnLayoutChangeListener", "(", "mOnLayoutChangeListener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDetachedFromWindow", "(", ")", "{", "super", ".", "onDetachedFromWindow", "(", ")", ";", "removeOnLayoutChangeListener", "(", "mOnLayoutChangeListener", ")", ";", "}", "</s>"]
["<s>", "public", "void", "enableDebugMode", "(", "boolean", "debugMode", ")", "{", "if", "(", "debugMode", ")", "{", "setBackgroundColor", "(", "<NUM_LIT>", ")", ";", "}", "else", "{", "setBackgroundColor", "(", "Color", ".", "TRANSPARENT", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "appear", "(", "@", "Nullable", "final", "Runnable", "onAppeared", ")", "{", "AnimatorSet", "animatorSet", "=", "new", "AnimatorSet", "(", ")", ";", "ObjectAnimator", "scaleX", "=", "ObjectAnimator", ".", "ofFloat", "(", "this", ",", "\"", "<STR_LIT:X>", "\"", ",", "<NUM_LIT:0.0f>", ",", "<NUM_LIT:1.0f>", ")", ";", "scaleX", ".", "setDuration", "(", "<NUM_LIT>", ")", ";", "ObjectAnimator", "scaleY", "=", "ObjectAnimator", ".", "ofFloat", "(", "this", ",", "\"", "<STR_LIT:Y>", "\"", ",", "<NUM_LIT:0.0f>", ",", "<NUM_LIT:1.0f>", ")", ";", "scaleY", ".", "setDuration", "(", "<NUM_LIT>", ")", ";", "animatorSet", ".", "playTogether", "(", "scaleX", ",", "scaleY", ")", ";", "animatorSet", ".", "start", "(", ")", ";", "animatorSet", ".", "addListener", "(", "new", "Animator", ".", "AnimatorListener", "(", ")", "{", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "}", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "if", "(", "null", "!", "=", "onAppeared", ")", "{", "onAppeared", ".", "run", "(", ")", ";", "}", "}", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "}", "@", "Override", "public", "void", "onAnimationRepeat", "(", "Animator", "animation", ")", "{", "}", "}", ")", ";", "setVisibility", "(", "VISIBLE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "if", "(", "null", "!", "=", "onAppeared", ")", "{", "onAppeared", ".", "run", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationRepeat", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "public", "void", "appearImmediate", "(", ")", "{", "setVisibility", "(", "VISIBLE", ")", ";", "}", "</s>"]
["<s>", "public", "void", "disappear", "(", "@", "Nullable", "final", "Runnable", "onDisappeared", ")", "{", "AnimatorSet", "animatorSet", "=", "new", "AnimatorSet", "(", ")", ";", "ObjectAnimator", "scaleX", "=", "ObjectAnimator", ".", "ofFloat", "(", "this", ",", "\"", "<STR_LIT:X>", "\"", ",", "<NUM_LIT:0.0f>", ")", ";", "scaleX", ".", "setDuration", "(", "<NUM_LIT>", ")", ";", "ObjectAnimator", "scaleY", "=", "ObjectAnimator", ".", "ofFloat", "(", "this", ",", "\"", "<STR_LIT:Y>", "\"", ",", "<NUM_LIT:0.0f>", ")", ";", "scaleY", ".", "setDuration", "(", "<NUM_LIT>", ")", ";", "animatorSet", ".", "playTogether", "(", "scaleX", ",", "scaleY", ")", ";", "animatorSet", ".", "start", "(", ")", ";", "animatorSet", ".", "addListener", "(", "new", "Animator", ".", "AnimatorListener", "(", ")", "{", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "}", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "setVisibility", "(", "GONE", ")", ";", "if", "(", "null", "!", "=", "onDisappeared", ")", "{", "onDisappeared", ".", "run", "(", ")", ";", "}", "}", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "}", "@", "Override", "public", "void", "onAnimationRepeat", "(", "Animator", "animation", ")", "{", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "setVisibility", "(", "GONE", ")", ";", "if", "(", "null", "!", "=", "onDisappeared", ")", "{", "onDisappeared", ".", "run", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationRepeat", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "public", "void", "disappearImmediate", "(", ")", "{", "setVisibility", "(", "GONE", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "String", "getTabId", "(", ")", "{", "return", "mId", ";", "}", "</s>"]
["<s>", "public", "int", "getTabSize", "(", ")", "{", "return", "mTabSize", ";", "}", "</s>"]
["<s>", "public", "void", "setTabView", "(", "@", "Nullable", "View", "view", ")", "{", "if", "(", "view", "=", "=", "mTabView", ")", "{", "return", ";", "}", "removeAllViews", "(", ")", ";", "mTabView", "=", "view", ";", "if", "(", "null", "!", "=", "mTabView", ")", "{", "FrameLayout", ".", "LayoutParams", "layoutParams", "=", "new", "FrameLayout", ".", "LayoutParams", "(", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ")", ";", "addView", "(", "mTabView", ",", "layoutParams", ")", ";", "}", "}", "</s>"]
["<s>", "@", "NonNull", "public", "Point", "getPosition", "(", ")", "{", "return", "new", "Point", "(", "(", "int", ")", "(", "getX", "(", ")", "+", "(", "getTabSize", "(", ")", "/", "<NUM_LIT:2>", ")", ")", ",", "(", "int", ")", "(", "getY", "(", ")", "+", "(", "getTabSize", "(", ")", "/", "<NUM_LIT:2>", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "public", "Point", "getDockPosition", "(", ")", "{", "return", "mDock", ".", "position", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setDock", "(", "@", "NonNull", "Dock", "dock", ")", "{", "mDock", "=", "dock", ";", "notifyListenersOfDockChange", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "dock", "(", ")", "{", "dock", "(", "null", ")", ";", "}", "</s>"]
["<s>", "public", "void", "dock", "(", "@", "Nullable", "final", "Runnable", "onDocked", ")", "{", "Point", "destinationCornerPosition", "=", "convertCenterToCorner", "(", "mDock", ".", "position", "(", ")", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "destinationCornerPosition", ")", ";", "ObjectAnimator", "xAnimation", "=", "ObjectAnimator", ".", "ofFloat", "(", "this", ",", "\"", "<STR_LIT>", "\"", ",", "destinationCornerPosition", ".", "x", ")", ";", "xAnimation", ".", "setDuration", "(", "<NUM_LIT>", ")", ";", "xAnimation", ".", "setInterpolator", "(", "new", "OvershootInterpolator", "(", ")", ")", ";", "ObjectAnimator", "yAnimation", "=", "ObjectAnimator", ".", "ofFloat", "(", "this", ",", "\"", "<STR_LIT>", "\"", ",", "destinationCornerPosition", ".", "y", ")", ";", "yAnimation", ".", "setDuration", "(", "<NUM_LIT>", ")", ";", "yAnimation", ".", "setInterpolator", "(", "new", "OvershootInterpolator", "(", ")", ")", ";", "AnimatorSet", "animatorSet", "=", "new", "AnimatorSet", "(", ")", ";", "animatorSet", ".", "play", "(", "xAnimation", ")", ".", "with", "(", "yAnimation", ")", ";", "animatorSet", ".", "start", "(", ")", ";", "animatorSet", ".", "addListener", "(", "new", "Animator", ".", "AnimatorListener", "(", ")", "{", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "}", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "if", "(", "null", "!", "=", "onDocked", ")", "{", "onDocked", ".", "run", "(", ")", ";", "}", "notifyListenersOfPositionChange", "(", ")", ";", "}", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "}", "@", "Override", "public", "void", "onAnimationRepeat", "(", "Animator", "animation", ")", "{", "}", "}", ")", ";", "xAnimation", ".", "addUpdateListener", "(", "new", "ValueAnimator", ".", "AnimatorUpdateListener", "(", ")", "{", "@", "Override", "public", "void", "onAnimationUpdate", "(", "ValueAnimator", "animation", ")", "{", "notifyListenersOfPositionChange", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "if", "(", "null", "!", "=", "onDocked", ")", "{", "onDocked", ".", "run", "(", ")", ";", "}", "notifyListenersOfPositionChange", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationRepeat", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationUpdate", "(", "ValueAnimator", "animation", ")", "{", "notifyListenersOfPositionChange", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "dockImmediately", "(", ")", "{", "moveTo", "(", "mDock", ".", "position", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "moveTo", "(", "@", "NonNull", "Point", "floatPosition", ")", "{", "Point", "cornerPosition", "=", "convertCenterToCorner", "(", "floatPosition", ")", ";", "setX", "(", "cornerPosition", ".", "x", ")", ";", "setY", "(", "cornerPosition", ".", "y", ")", ";", "}", "</s>"]
["<s>", "private", "Point", "convertCenterToCorner", "(", "@", "NonNull", "Point", "centerPosition", ")", "{", "return", "new", "Point", "(", "centerPosition", ".", "x", "-", "(", "getTabSize", "(", ")", "/", "<NUM_LIT:2>", ")", ",", "centerPosition", ".", "y", "-", "(", "getTabSize", "(", ")", "/", "<NUM_LIT:2>", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addOnPositionChangeListener", "(", "@", "Nullable", "OnPositionChangeListener", "listener", ")", "{", "mOnPositionChangeListeners", ".", "add", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "public", "void", "removeOnPositionChangeListener", "(", "@", "NonNull", "OnPositionChangeListener", "listener", ")", "{", "mOnPositionChangeListeners", ".", "remove", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "private", "void", "notifyListenersOfPositionChange", "(", ")", "{", "Point", "position", "=", "getPosition", "(", ")", ";", "for", "(", "OnPositionChangeListener", "listener", ":", "mOnPositionChangeListeners", ")", "{", "listener", ".", "onPositionChange", "(", "position", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "notifyListenersOfDockChange", "(", ")", "{", "for", "(", "OnPositionChangeListener", "listener", ":", "mOnPositionChangeListeners", ")", "{", "listener", ".", "onDockChange", "(", "mDock", ".", "position", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setOnClickListener", "(", "@", "Nullable", "View", ".", "OnClickListener", "onClickListener", ")", "{", "super", ".", "setOnClickListener", "(", "onClickListener", ")", ";", "}", "</s>"]
["<s>", "void", "onPositionChange", "(", "@", "NonNull", "Point", "tabPosition", ")", ";", "</s>"]
["<s>", "void", "onDockChange", "(", "@", "NonNull", "Point", "dockPosition", ")", ";", "</s>"]
["<s>", "SideDock", "(", "@", "NonNull", "ViewGroup", "containerView", ",", "int", "tabSize", ",", "@", "NonNull", "SidePosition", "sidePosition", ")", "{", "mContainerView", "=", "containerView", ";", "mTabSize", "=", "tabSize", ";", "mSidePosition", "=", "sidePosition", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "Point", "position", "(", ")", "{", "Point", "screenSize", "=", "new", "Point", "(", "mContainerView", ".", "getWidth", "(", ")", ",", "mContainerView", ".", "getHeight", "(", ")", ")", ";", "return", "mSidePosition", ".", "calculateDockPosition", "(", "screenSize", ",", "mTabSize", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "SidePosition", "sidePosition", "(", ")", "{", "return", "mSidePosition", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "mSidePosition", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "public", "SidePosition", "(", "@", "Side", "int", "side", ",", "float", "verticalDockPositionPercentage", ")", "{", "mSide", "=", "side", ";", "mVerticalDockPositionPercentage", "=", "verticalDockPositionPercentage", ";", "}", "</s>"]
["<s>", "public", "Point", "calculateDockPosition", "(", "@", "NonNull", "Point", "screenSize", ",", "int", "tabSize", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "screenSize", "+", "\"", "<STR_LIT>", "\"", "+", "tabSize", ")", ";", "int", "x", "=", "LEFT", "=", "=", "mSide", "?", "(", "(", "int", ")", "(", "tabSize", "*", "<NUM_LIT>", ")", ")", ":", "screenSize", ".", "x", "-", "(", "(", "int", ")", "(", "tabSize", "*", "<NUM_LIT>", ")", ")", ";", "int", "y", "=", "(", "int", ")", "(", "screenSize", ".", "y", "*", "mVerticalDockPositionPercentage", ")", ";", "return", "new", "Point", "(", "x", ",", "y", ")", ";", "}", "</s>"]
["<s>", "public", "float", "getVerticalDockPositionPercentage", "(", ")", "{", "return", "mVerticalDockPositionPercentage", ";", "}", "</s>"]
["<s>", "@", "Side", "public", "int", "getSide", "(", ")", "{", "return", "mSide", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "String", "side", "=", "LEFT", "=", "=", "mSide", "?", "\"", "<STR_LIT>", "\"", ":", "\"", "<STR_LIT>", "\"", ";", "int", "percent", "=", "(", "int", ")", "Math", ".", "floor", "(", "mVerticalDockPositionPercentage", "*", "<NUM_LIT:100>", ")", ";", "return", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "side", ",", "percent", ")", ";", "}", "</s>"]
["<s>", "void", "onExit", "(", ")", ";", "</s>"]
["<s>", "@", "NonNull", "public", "static", "HoverView", "createForWindow", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "WindowViewController", "windowViewController", ")", "{", "return", "createForWindow", "(", "context", ",", "windowViewController", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "static", "HoverView", "createForWindow", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "WindowViewController", "windowViewController", ",", "@", "Nullable", "SideDock", ".", "SidePosition", "initialDockPosition", ")", "{", "Dragger", "dragger", "=", "createWindowDragger", "(", "context", ",", "windowViewController", ")", ";", "return", "new", "HoverView", "(", "context", ",", "dragger", ",", "windowViewController", ",", "initialDockPosition", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "private", "static", "Dragger", "createWindowDragger", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "WindowViewController", "windowViewController", ")", "{", "int", "touchDiameter", "=", "context", ".", "getResources", "(", ")", ".", "getDimensionPixelSize", "(", "R", ".", "dimen", ".", "hover_exit_radius", ")", ";", "int", "slop", "=", "ViewConfiguration", ".", "get", "(", "context", ")", ".", "getScaledTouchSlop", "(", ")", ";", "return", "new", "InWindowDragger", "(", "context", ",", "windowViewController", ",", "touchDiameter", ",", "slop", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "static", "HoverView", "createForView", "(", "@", "NonNull", "Context", "context", ")", "{", "return", "new", "HoverView", "(", "context", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "HoverView", "(", "@", "NonNull", "Context", "context", ",", "@", "Nullable", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "mDragger", "=", "createInViewDragger", "(", "context", ")", ";", "mScreen", "=", "new", "Screen", "(", "this", ")", ";", "mWindowViewController", "=", "null", ";", "init", "(", ")", ";", "if", "(", "null", "!", "=", "attrs", ")", "{", "applyAttributes", "(", "attrs", ")", ";", "}", "}", "</s>"]
["<s>", "@", "NonNull", "private", "Dragger", "createInViewDragger", "(", "@", "NonNull", "Context", "context", ")", "{", "int", "touchDiameter", "=", "context", ".", "getResources", "(", ")", ".", "getDimensionPixelSize", "(", "R", ".", "dimen", ".", "hover_exit_radius", ")", ";", "int", "slop", "=", "ViewConfiguration", ".", "get", "(", "context", ")", ".", "getScaledTouchSlop", "(", ")", ";", "return", "new", "InViewDragger", "(", "this", ",", "touchDiameter", ",", "slop", ")", ";", "}", "</s>"]
["<s>", "private", "HoverView", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "Dragger", "dragger", ",", "@", "Nullable", "WindowViewController", "windowViewController", ",", "@", "Nullable", "SideDock", ".", "SidePosition", "initialDockPosition", ")", "{", "super", "(", "context", ")", ";", "mDragger", "=", "dragger", ";", "mScreen", "=", "new", "Screen", "(", "this", ")", ";", "mWindowViewController", "=", "windowViewController", ";", "init", "(", ")", ";", "if", "(", "null", "!", "=", "initialDockPosition", ")", "{", "mCollapsedDock", "=", "new", "SideDock", "(", "this", ",", "mTabSize", ",", "initialDockPosition", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "applyAttributes", "(", "@", "NonNull", "AttributeSet", "attrs", ")", "{", "TypedArray", "a", "=", "getContext", "(", ")", ".", "obtainStyledAttributes", "(", "attrs", ",", "R", ".", "styleable", ".", "HoverView", ")", ";", "try", "{", "createCollapsedDockFromAttrs", "(", "a", ")", ";", "}", "finally", "{", "a", ".", "recycle", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "createCollapsedDockFromAttrs", "(", "@", "NonNull", "TypedArray", "a", ")", "{", "int", "tabSize", "=", "getResources", "(", ")", ".", "getDimensionPixelSize", "(", "R", ".", "dimen", ".", "hover_tab_size", ")", ";", "@", "SideDock", ".", "SidePosition", ".", "Side", "int", "dockSide", "=", "a", ".", "getInt", "(", "R", ".", "styleable", ".", "HoverView_dockSide", ",", "LEFT", ")", ";", "float", "dockPosition", "=", "a", ".", "getFraction", "(", "R", ".", "styleable", ".", "HoverView_dockPosition", ",", "1", ",", "1", ",", "<NUM_LIT>", ")", ";", "SideDock", ".", "SidePosition", "sidePosition", "=", "new", "SideDock", ".", "SidePosition", "(", "dockSide", ",", "dockPosition", ")", ";", "mCollapsedDock", "=", "new", "SideDock", "(", "this", ",", "tabSize", ",", "sidePosition", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "mTabSize", "=", "getResources", "(", ")", ".", "getDimensionPixelSize", "(", "R", ".", "dimen", ".", "hover_tab_size", ")", ";", "restoreVisualState", "(", ")", ";", "setFocusableInTouchMode", "(", "true", ")", ";", "setState", "(", "new", "HoverViewStateClosed", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "dispatchKeyEventPreIme", "(", "KeyEvent", "event", ")", "{", "if", "(", "mState", ".", "respondsToBackButton", "(", ")", "&", "&", "KeyEvent", ".", "KEYCODE_BACK", "=", "=", "event", ".", "getKeyCode", "(", ")", ")", "{", "KeyEvent", ".", "DispatcherState", "state", "=", "getKeyDispatcherState", "(", ")", ";", "if", "(", "state", "!", "=", "null", ")", "{", "if", "(", "KeyEvent", ".", "ACTION_DOWN", "=", "=", "event", ".", "getAction", "(", ")", ")", "{", "state", ".", "startTracking", "(", "event", ",", "this", ")", ";", "return", "true", ";", "}", "else", "if", "(", "KeyEvent", ".", "ACTION_UP", "=", "=", "event", ".", "getAction", "(", ")", ")", "{", "onBackPressed", "(", ")", ";", "return", "true", ";", "}", "}", "}", "return", "super", ".", "dispatchKeyEventPreIme", "(", "event", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Parcelable", "onSaveInstanceState", "(", ")", "{", "Parcelable", "superState", "=", "super", ".", "onSaveInstanceState", "(", ")", ";", "VisualState", "visualState", "=", "new", "VisualState", "(", "superState", ")", ";", "visualState", ".", "save", "(", "this", ")", ";", "return", "visualState", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onRestoreInstanceState", "(", "Parcelable", "state", ")", "{", "VisualState", "visualState", "=", "(", "VisualState", ")", "state", ";", "super", ".", "onRestoreInstanceState", "(", "visualState", ".", "getSuperState", "(", ")", ")", ";", "visualState", ".", "restore", "(", "this", ")", ";", "}", "</s>"]
["<s>", "public", "void", "saveVisualState", "(", ")", "{", "if", "(", "null", "=", "=", "mMenu", ")", "{", "return", ";", "}", "SharedPreferences", "prefs", "=", "getContext", "(", ")", ".", "getSharedPreferences", "(", "PREFS_FILE", ",", "Context", ".", "MODE_PRIVATE", ")", ";", "PersistentState", "persistentState", "=", "new", "PersistentState", "(", "prefs", ")", ";", "persistentState", ".", "save", "(", "mMenu", ",", "mCollapsedDock", ".", "sidePosition", "(", ")", ",", "mSelectedSectionId", ")", ";", "}", "</s>"]
["<s>", "void", "restoreVisualState", "(", ")", "{", "if", "(", "null", "=", "=", "mMenu", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "return", ";", "}", "SharedPreferences", "prefs", "=", "getContext", "(", ")", ".", "getSharedPreferences", "(", "PREFS_FILE", ",", "Context", ".", "MODE_PRIVATE", ")", ";", "PersistentState", "persistentState", "=", "new", "PersistentState", "(", "prefs", ")", ";", "persistentState", ".", "restore", "(", "this", ",", "mMenu", ")", ";", "}", "</s>"]
["<s>", "public", "void", "release", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mDragger", ".", "deactivate", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "enableDebugMode", "(", "boolean", "debugMode", ")", "{", "mIsDebugMode", "=", "debugMode", ";", "mDragger", ".", "enableDebugMode", "(", "debugMode", ")", ";", "mScreen", ".", "enableDrugMode", "(", "debugMode", ")", ";", "}", "</s>"]
["<s>", "void", "setState", "(", "@", "NonNull", "HoverViewState", "state", ")", "{", "mState", "=", "state", ";", "mState", ".", "takeControl", "(", "this", ")", ";", "}", "</s>"]
["<s>", "private", "void", "onBackPressed", "(", ")", "{", "mState", ".", "onBackPressed", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setMenu", "(", "@", "Nullable", "HoverMenu", "menu", ")", "{", "mState", ".", "setMenu", "(", "menu", ")", ";", "}", "</s>"]
["<s>", "public", "void", "expand", "(", ")", "{", "mState", ".", "expand", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "collapse", "(", ")", "{", "mState", ".", "collapse", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "close", "(", ")", "{", "mState", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setOnExitListener", "(", "@", "Nullable", "OnExitListener", "listener", ")", "{", "mOnExitListener", "=", "listener", ";", "}", "</s>"]
["<s>", "public", "void", "addOnExpandAndCollapseListener", "(", "@", "NonNull", "Listener", "listener", ")", "{", "mListeners", ".", "add", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "public", "void", "removeOnExpandAndCollapseListener", "(", "@", "NonNull", "Listener", "listener", ")", "{", "mListeners", ".", "remove", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "void", "notifyListenersExpanding", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "for", "(", "Listener", "listener", ":", "mListeners", ")", "{", "listener", ".", "onExpanding", "(", ")", ";", "}", "}", "</s>"]
["<s>", "void", "notifyListenersExpanded", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "for", "(", "Listener", "listener", ":", "mListeners", ")", "{", "listener", ".", "onExpanded", "(", ")", ";", "}", "}", "</s>"]
["<s>", "void", "notifyListenersCollapsing", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "for", "(", "Listener", "listener", ":", "mListeners", ")", "{", "listener", ".", "onCollapsing", "(", ")", ";", "}", "}", "</s>"]
["<s>", "void", "notifyListenersCollapsed", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "for", "(", "Listener", "listener", ":", "mListeners", ")", "{", "listener", ".", "onCollapsed", "(", ")", ";", "}", "}", "</s>"]
["<s>", "void", "notifyListenersClosing", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "for", "(", "Listener", "listener", ":", "mListeners", ")", "{", "listener", ".", "onClosing", "(", ")", ";", "}", "}", "</s>"]
["<s>", "void", "notifyListenersClosed", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "for", "(", "Listener", "listener", ":", "mListeners", ")", "{", "listener", ".", "onClosed", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "addToWindow", "(", ")", "{", "mState", ".", "addToWindow", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "removeFromWindow", "(", ")", "{", "mState", ".", "removeFromWindow", "(", ")", ";", "}", "</s>"]
["<s>", "void", "makeTouchableInWindow", "(", ")", "{", "mState", ".", "makeTouchableInWindow", "(", ")", ";", "}", "</s>"]
["<s>", "void", "makeUntouchableInWindow", "(", ")", "{", "mState", ".", "makeUntouchableInWindow", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "VisualState", "createFromParcel", "(", "Parcel", "source", ")", "{", "return", "new", "VisualState", "(", "source", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "VisualState", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "VisualState", "[", "size", "]", ";", "}", "</s>"]
["<s>", "VisualState", "(", "Parcelable", "superState", ")", "{", "super", "(", "superState", ")", ";", "}", "</s>"]
["<s>", "VisualState", "(", "Parcel", "in", ")", "{", "super", "(", "in", ")", ";", "if", "(", "in", ".", "dataAvail", "(", ")", ">", "0", ")", "{", "int", "side", "=", "in", ".", "readInt", "(", ")", ";", "float", "dockVerticalPositionPercent", "=", "in", ".", "readFloat", "(", ")", ";", "mSidePosition", "=", "new", "SideDock", ".", "SidePosition", "(", "side", ",", "dockVerticalPositionPercent", ")", ";", "}", "if", "(", "in", ".", "dataAvail", "(", ")", ">", "0", ")", "{", "mSelectedSectionId", "=", "new", "HoverMenu", ".", "SectionId", "(", "in", ".", "readString", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "save", "(", "@", "NonNull", "HoverView", "hoverView", ")", "{", "setSidePosition", "(", "hoverView", ".", "mCollapsedDock", ".", "sidePosition", "(", ")", ")", ";", "setSelectedSectionId", "(", "hoverView", ".", "mSelectedSectionId", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "mSidePosition", "+", "\"", "<STR_LIT>", "\"", "+", "mSelectedSectionId", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setSidePosition", "(", "@", "Nullable", "SideDock", ".", "SidePosition", "sidePosition", ")", "{", "mSidePosition", "=", "sidePosition", ";", "}", "</s>"]
["<s>", "private", "void", "setSelectedSectionId", "(", "@", "Nullable", "HoverMenu", ".", "SectionId", "selectedSectionId", ")", "{", "mSelectedSectionId", "=", "selectedSectionId", ";", "}", "</s>"]
["<s>", "public", "void", "restore", "(", "@", "NonNull", "HoverView", "hoverView", ")", "{", "SideDock", ".", "SidePosition", "sidePosition", "=", "getSidePosition", "(", ")", ";", "hoverView", ".", "mCollapsedDock", "=", "new", "SideDock", "(", "hoverView", ",", "hoverView", ".", "mTabSize", ",", "sidePosition", ")", ";", "HoverMenu", ".", "SectionId", "savedSelectedSectionId", "=", "getSelectedSectionId", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "hoverView", ".", "mCollapsedDock", "+", "\"", "<STR_LIT>", "\"", "+", "savedSelectedSectionId", ")", ";", "if", "(", "null", "=", "=", "hoverView", ".", "mMenu", "|", "|", "(", "null", "!", "=", "savedSelectedSectionId", "&", "&", "null", "!", "=", "hoverView", ".", "mMenu", ".", "getSection", "(", "savedSelectedSectionId", ")", ")", ")", "{", "mSelectedSectionId", "=", "savedSelectedSectionId", ";", "}", "}", "</s>"]
["<s>", "@", "Nullable", "private", "SideDock", ".", "SidePosition", "getSidePosition", "(", ")", "{", "return", "mSidePosition", ";", "}", "</s>"]
["<s>", "@", "Nullable", "private", "HoverMenu", ".", "SectionId", "getSelectedSectionId", "(", ")", "{", "return", "mSelectedSectionId", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeToParcel", "(", "Parcel", "out", ",", "int", "flags", ")", "{", "super", ".", "writeToParcel", "(", "out", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "mSidePosition", ")", "{", "out", ".", "writeInt", "(", "mSidePosition", ".", "getSide", "(", ")", ")", ";", "out", ".", "writeFloat", "(", "mSidePosition", ".", "getVerticalDockPositionPercentage", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "PersistentState", "(", "@", "NonNull", "SharedPreferences", "prefs", ")", "{", "mPrefs", "=", "prefs", ";", "}", "</s>"]
["<s>", "public", "void", "restore", "(", "@", "NonNull", "HoverView", "hoverView", ",", "@", "NonNull", "HoverMenu", "menu", ")", "{", "SideDock", ".", "SidePosition", "sidePosition", "=", "getSidePosition", "(", "menu", ".", "getId", "(", ")", ")", ";", "hoverView", ".", "mCollapsedDock", "=", "new", "SideDock", "(", "hoverView", ",", "hoverView", ".", "mTabSize", ",", "sidePosition", ")", ";", "HoverMenu", ".", "SectionId", "selectedSectionId", "=", "getSelectedSectionId", "(", "menu", ".", "getId", "(", ")", ")", ";", "hoverView", ".", "mSelectedSectionId", "=", "selectedSectionId", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "sidePosition", ".", "getVerticalDockPositionPercentage", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "sidePosition", "+", "\"", "<STR_LIT>", "\"", "+", "selectedSectionId", ")", ";", "}", "</s>"]
["<s>", "private", "SideDock", ".", "SidePosition", "getSidePosition", "(", "@", "NonNull", "String", "menuId", ")", "{", "return", "new", "SideDock", ".", "SidePosition", "(", "mPrefs", ".", "getInt", "(", "menuId", "+", "SAVED_STATE_DOCKS_SIDE", ",", "LEFT", ")", ",", "mPrefs", ".", "getFloat", "(", "menuId", "+", "SAVED_STATE_DOCK_POSITION", ",", "<NUM_LIT>", ")", ")", ";", "}", "</s>"]
["<s>", "private", "HoverMenu", ".", "SectionId", "getSelectedSectionId", "(", "@", "NonNull", "String", "menuId", ")", "{", "return", "mPrefs", ".", "contains", "(", "menuId", "+", "SAVED_STATE_SELECTED_SECTION", ")", "?", "new", "HoverMenu", ".", "SectionId", "(", "mPrefs", ".", "getString", "(", "menuId", "+", "SAVED_STATE_SELECTED_SECTION", ",", "null", ")", ")", ":", "null", ";", "}", "</s>"]
["<s>", "public", "void", "save", "(", "@", "NonNull", "HoverMenu", "menu", ",", "@", "NonNull", "SideDock", ".", "SidePosition", "sidePosition", ",", "@", "Nullable", "HoverMenu", ".", "SectionId", "sectionId", ")", "{", "String", "menuId", "=", "menu", ".", "getId", "(", ")", ";", "SharedPreferences", ".", "Editor", "editor", "=", "mPrefs", ".", "edit", "(", ")", ";", "editor", ".", "putFloat", "(", "menuId", "+", "SAVED_STATE_DOCK_POSITION", ",", "sidePosition", ".", "getVerticalDockPositionPercentage", "(", ")", ")", ";", "editor", ".", "putInt", "(", "menuId", "+", "SAVED_STATE_DOCKS_SIDE", ",", "sidePosition", ".", "getSide", "(", ")", ")", ";", "editor", ".", "putString", "(", "menuId", "+", "SAVED_STATE_SELECTED_SECTION", ",", "null", "!", "=", "sectionId", "?", "sectionId", ".", "toString", "(", ")", ":", "null", ")", ";", "editor", ".", "apply", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "sidePosition", ".", "getVerticalDockPositionPercentage", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "sidePosition", ".", "getSide", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "sectionId", ")", ";", "}", "</s>"]
["<s>", "void", "onExpanding", "(", ")", ";", "</s>"]
["<s>", "void", "onExpanded", "(", ")", ";", "</s>"]
["<s>", "void", "onCollapsing", "(", ")", ";", "</s>"]
["<s>", "void", "onCollapsed", "(", ")", ";", "</s>"]
["<s>", "void", "onClosing", "(", ")", ";", "</s>"]
["<s>", "void", "onClosed", "(", ")", ";", "</s>"]
["<s>", "public", "ShadeView", "(", "@", "NonNull", "Context", "context", ")", "{", "this", "(", "context", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "ShadeView", "(", "@", "NonNull", "Context", "context", ",", "@", "Nullable", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "LayoutInflater", ".", "from", "(", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_shade", ",", "this", ",", "true", ")", ";", "}", "</s>"]
["<s>", "public", "void", "show", "(", ")", "{", "ObjectAnimator", "fadeOut", "=", "ObjectAnimator", ".", "ofFloat", "(", "this", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT:1.0f>", ")", ";", "fadeOut", ".", "setDuration", "(", "FADE_DURATION", ")", ";", "fadeOut", ".", "start", "(", ")", ";", "setVisibility", "(", "VISIBLE", ")", ";", "}", "</s>"]
["<s>", "public", "void", "showImmediate", "(", ")", "{", "setVisibility", "(", "VISIBLE", ")", ";", "}", "</s>"]
["<s>", "public", "void", "hide", "(", ")", "{", "ObjectAnimator", "fadeOut", "=", "ObjectAnimator", ".", "ofFloat", "(", "this", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT:0.0f>", ")", ";", "fadeOut", ".", "setDuration", "(", "FADE_DURATION", ")", ";", "fadeOut", ".", "start", "(", ")", ";", "fadeOut", ".", "addListener", "(", "new", "Animator", ".", "AnimatorListener", "(", ")", "{", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "}", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "setVisibility", "(", "GONE", ")", ";", "}", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "}", "@", "Override", "public", "void", "onAnimationRepeat", "(", "Animator", "animation", ")", "{", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "setVisibility", "(", "GONE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationRepeat", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "public", "void", "hideImmediate", "(", ")", "{", "setVisibility", "(", "GONE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "takeControl", "(", "@", "NonNull", "HoverView", "hoverView", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "super", ".", "takeControl", "(", "hoverView", ")", ";", "mHoverView", "=", "hoverView", ";", "mHoverView", ".", "notifyListenersClosing", "(", ")", ";", "mHoverView", ".", "mState", "=", "this", ";", "mHoverView", ".", "clearFocus", "(", ")", ";", "mHoverView", ".", "mScreen", ".", "getContentDisplay", "(", ")", ".", "setVisibility", "(", "GONE", ")", ";", "final", "FloatingTab", "selectedTab", "=", "mHoverView", ".", "mScreen", ".", "getChainedTab", "(", "mHoverView", ".", "mSelectedSectionId", ")", ";", "if", "(", "null", "!", "=", "selectedTab", ")", "{", "selectedTab", ".", "disappear", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "mHoverView", ".", "mScreen", ".", "destroyChainedTab", "(", "selectedTab", ")", ";", "mHoverView", ".", "notifyListenersClosed", "(", ")", ";", "}", "}", ")", ";", "}", "else", "{", "mHoverView", ".", "notifyListenersClosed", "(", ")", ";", "}", "mHoverView", ".", "makeUntouchableInWindow", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "mHoverView", ".", "mScreen", ".", "destroyChainedTab", "(", "selectedTab", ")", ";", "mHoverView", ".", "notifyListenersClosed", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "changeState", "(", "@", "NonNull", "HoverViewState", "nextState", ")", "{", "mHoverView", ".", "setState", "(", "nextState", ")", ";", "mHoverView", "=", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "expand", "(", ")", "{", "if", "(", "null", "!", "=", "mHoverView", ".", "mMenu", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "changeState", "(", "mHoverView", ".", "mExpanded", ")", ";", "}", "else", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "collapse", "(", ")", "{", "if", "(", "null", "!", "=", "mHoverView", ".", "mMenu", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "changeState", "(", "mHoverView", ".", "mCollapsed", ")", ";", "}", "else", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setMenu", "(", "@", "Nullable", "final", "HoverMenu", "menu", ")", "{", "mHoverView", ".", "mMenu", "=", "menu", ";", "if", "(", "null", "=", "=", "menu", ")", "{", "return", ";", "}", "mHoverView", ".", "restoreVisualState", "(", ")", ";", "if", "(", "null", "=", "=", "mHoverView", ".", "mSelectedSectionId", "|", "|", "null", "=", "=", "mHoverView", ".", "mMenu", ".", "getSection", "(", "mHoverView", ".", "mSelectedSectionId", ")", ")", "{", "mHoverView", ".", "mSelectedSectionId", "=", "mHoverView", ".", "mMenu", ".", "getSection", "(", "0", ")", ".", "getId", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "respondsToBackButton", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBackPressed", "(", ")", "{", "}", "</s>"]
["<s>", "public", "TabSelectorView", "(", "Context", "context", ")", "{", "this", "(", "context", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "TabSelectorView", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "mSelectorWidthPx", "=", "(", "int", ")", "TypedValue", ".", "applyDimension", "(", "TypedValue", ".", "COMPLEX_UNIT_DIP", ",", "DEFAULT_SELECTOR_WIDTH_DP", ",", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ")", ";", "mSelectorHeightPx", "=", "(", "int", ")", "TypedValue", ".", "applyDimension", "(", "TypedValue", ".", "COMPLEX_UNIT_DIP", ",", "DEFAULT_SELECTOR_HEIGHT_DP", ",", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ")", ";", "setSelectorPosition", "(", "mSelectorWidthPx", "/", "<NUM_LIT:2>", ")", ";", "mSelectorPaint", "=", "new", "Paint", "(", ")", ";", "mSelectorPaint", ".", "setColor", "(", "getResources", "(", ")", ".", "getColor", "(", "R", ".", "color", ".", "hover_navigator_color", ")", ")", ";", "mSelectorPaint", ".", "setStyle", "(", "Paint", ".", "Style", ".", "FILL", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setSelectorColor", "(", "@", "ColorInt", "int", "color", ")", "{", "mSelectorPaint", ".", "setColor", "(", "color", ")", ";", "invalidate", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setSelectorPosition", "(", "int", "position", ")", "{", "mDesiredSelectorCenterLocationPx", "=", "position", ";", "invalidateSelectorPath", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onMeasure", "(", "int", "widthMeasureSpec", ",", "int", "heightMeasureSpec", ")", "{", "setMeasuredDimension", "(", "MeasureSpec", ".", "getSize", "(", "widthMeasureSpec", ")", ",", "mSelectorHeightPx", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onLayout", "(", "boolean", "changed", ",", "int", "left", ",", "int", "top", ",", "int", "right", ",", "int", "bottom", ")", "{", "super", ".", "onLayout", "(", "changed", ",", "left", ",", "top", ",", "right", ",", "bottom", ")", ";", "if", "(", "changed", ")", "{", "invalidateSelectorPath", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDraw", "(", "Canvas", "canvas", ")", "{", "canvas", ".", "drawPath", "(", "mSelectorPaintPath", ",", "mSelectorPaint", ")", ";", "}", "</s>"]
["<s>", "private", "void", "invalidateSelectorPath", "(", ")", "{", "mLeftMostSelectorLocationPx", "=", "getPaddingLeft", "(", ")", "+", "(", "mSelectorWidthPx", "/", "<NUM_LIT:2>", ")", ";", "mRightMostSelectorLocationPx", "=", "getWidth", "(", ")", "-", "getPaddingRight", "(", ")", "-", "(", "mSelectorWidthPx", "/", "<NUM_LIT:2>", ")", ";", "int", "selectorCenterLocationPx", "=", "clampSelectorPosition", "(", "mDesiredSelectorCenterLocationPx", ")", ";", "mSelectorPaintPath", "=", "new", "Path", "(", ")", ";", "mSelectorPaintPath", ".", "moveTo", "(", "selectorCenterLocationPx", ",", "0", ")", ";", "mSelectorPaintPath", ".", "lineTo", "(", "selectorCenterLocationPx", "+", "(", "mSelectorWidthPx", "/", "<NUM_LIT:2>", ")", ",", "mSelectorHeightPx", ")", ";", "mSelectorPaintPath", ".", "lineTo", "(", "selectorCenterLocationPx", "-", "(", "mSelectorWidthPx", "/", "<NUM_LIT:2>", ")", ",", "mSelectorHeightPx", ")", ";", "mSelectorPaintPath", ".", "lineTo", "(", "selectorCenterLocationPx", ",", "0", ")", ";", "invalidate", "(", ")", ";", "}", "</s>"]
["<s>", "private", "int", "clampSelectorPosition", "(", "int", "position", ")", "{", "if", "(", "position", "<", "mLeftMostSelectorLocationPx", ")", "{", "return", "mLeftMostSelectorLocationPx", ";", "}", "else", "if", "(", "position", ">", "mRightMostSelectorLocationPx", ")", "{", "return", "mRightMostSelectorLocationPx", ";", "}", "else", "{", "return", "position", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "takeControl", "(", "@", "NonNull", "HoverView", "hoverView", ")", "{", "mHoverView", "=", "hoverView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addToWindow", "(", ")", "{", "if", "(", "!", "mHoverView", ".", "mIsAddedToWindow", ")", "{", "mHoverView", ".", "mWindowViewController", ".", "addView", "(", "WindowManager", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "WindowManager", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "false", ",", "mHoverView", ")", ";", "mHoverView", ".", "mIsAddedToWindow", "=", "true", ";", "if", "(", "mHoverView", ".", "mIsTouchableInWindow", ")", "{", "mHoverView", ".", "makeTouchableInWindow", "(", ")", ";", "}", "else", "{", "mHoverView", ".", "makeUntouchableInWindow", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "removeFromWindow", "(", ")", "{", "if", "(", "mHoverView", ".", "mIsAddedToWindow", ")", "{", "mHoverView", ".", "mWindowViewController", ".", "removeView", "(", "mHoverView", ")", ";", "mHoverView", ".", "mIsAddedToWindow", "=", "false", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "makeTouchableInWindow", "(", ")", "{", "mHoverView", ".", "mIsTouchableInWindow", "=", "true", ";", "if", "(", "mHoverView", ".", "mIsAddedToWindow", ")", "{", "mHoverView", ".", "mWindowViewController", ".", "makeTouchable", "(", "mHoverView", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "makeUntouchableInWindow", "(", ")", "{", "mHoverView", ".", "mIsTouchableInWindow", "=", "false", ";", "if", "(", "mHoverView", ".", "mIsAddedToWindow", ")", "{", "mHoverView", ".", "mWindowViewController", ".", "makeUntouchable", "(", "mHoverView", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onGlobalLayout", "(", ")", "{", "if", "(", "mIsVisible", "&", "&", "VISIBLE", "!", "=", "getVisibility", "(", ")", ")", "{", "mIsVisible", "=", "false", ";", "mTabSelectorView", ".", "setVisibility", "(", "INVISIBLE", ")", ";", "}", "else", "{", "mIsVisible", "=", "true", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPositionChange", "(", "@", "NonNull", "Point", "position", ")", "{", "Log", ".", "d", "(", "TAG", ",", "mSelectedTab", "+", "\"", "<STR_LIT>", "\"", "+", "position", ")", ";", "updateTabSelectorPosition", "(", ")", ";", "setPadding", "(", "0", ",", "position", ".", "y", "+", "(", "mSelectedTab", ".", "getTabSize", "(", ")", "/", "<NUM_LIT:2>", ")", ",", "0", ",", "0", ")", ";", "mTabSelectorView", ".", "setVisibility", "(", "VISIBLE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDockChange", "(", "@", "NonNull", "Point", "dock", ")", "{", "}", "</s>"]
["<s>", "public", "ContentDisplay", "(", "@", "NonNull", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "LayoutInflater", ".", "from", "(", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_hover_menu_content", ",", "this", ",", "true", ")", ";", "mContainer", "=", "findViewById", "(", "R", ".", "id", ".", "container", ")", ";", "expandToScreenBounds", "(", ")", ";", "int", "backgroundCornerRadiusPx", "=", "(", "int", ")", "getResources", "(", ")", ".", "getDimension", "(", "R", ".", "dimen", ".", "hover_navigator_corner_radius", ")", ";", "mTabSelectorView", "=", "(", "TabSelectorView", ")", "findViewById", "(", "R", ".", "id", ".", "tabselector", ")", ";", "mTabSelectorView", ".", "setPadding", "(", "backgroundCornerRadiusPx", ",", "0", ",", "backgroundCornerRadiusPx", ",", "0", ")", ";", "mContentView", "=", "(", "FrameLayout", ")", "findViewById", "(", "R", ".", "id", ".", "view_content_container", ")", ";", "mContentBackground", "=", "ContextCompat", ".", "getDrawable", "(", "getContext", "(", ")", ",", "R", ".", "drawable", ".", "round_rect_white", ")", ";", "mContentView", ".", "setBackgroundDrawable", "(", "mContentBackground", ")", ";", "getViewTreeObserver", "(", ")", ".", "addOnGlobalLayoutListener", "(", "mMyVisibilityWatcher", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onAttachedToWindow", "(", ")", "{", "super", ".", "onAttachedToWindow", "(", ")", ";", "ViewGroup", ".", "LayoutParams", "layoutParams", "=", "getLayoutParams", "(", ")", ";", "layoutParams", ".", "width", "=", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ";", "layoutParams", ".", "height", "=", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ";", "setLayoutParams", "(", "layoutParams", ")", ";", "}", "</s>"]
["<s>", "public", "void", "enableDebugMode", "(", "boolean", "debugMode", ")", "{", "if", "(", "debugMode", ")", "{", "setBackgroundColor", "(", "<NUM_LIT>", ")", ";", "}", "else", "{", "setBackgroundColor", "(", "Color", ".", "TRANSPARENT", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "selectedTabIs", "(", "@", "Nullable", "FloatingTab", "tab", ")", "{", "if", "(", "null", "!", "=", "mSelectedTab", ")", "{", "mSelectedTab", ".", "removeOnPositionChangeListener", "(", "mOnTabPositionChangeListener", ")", ";", "}", "mSelectedTab", "=", "tab", ";", "if", "(", "null", "!", "=", "mSelectedTab", ")", "{", "updateTabSelectorPosition", "(", ")", ";", "mSelectedTab", ".", "addOnPositionChangeListener", "(", "mOnTabPositionChangeListener", ")", ";", "}", "else", "{", "mTabSelectorView", ".", "setVisibility", "(", "INVISIBLE", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "updateTabSelectorPosition", "(", ")", "{", "Point", "tabPosition", "=", "mSelectedTab", ".", "getPosition", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "tabPosition", ".", "x", ")", ";", "mTabSelectorView", ".", "setSelectorPosition", "(", "tabPosition", ".", "x", ")", ";", "}", "</s>"]
["<s>", "public", "void", "displayContent", "(", "@", "Nullable", "Content", "content", ")", "{", "if", "(", "content", "=", "=", "mContent", ")", "{", "return", ";", "}", "if", "(", "null", "!", "=", "mContent", ")", "{", "mContentView", ".", "removeView", "(", "mContent", ".", "getView", "(", ")", ")", ";", "mContent", ".", "onHidden", "(", ")", ";", "}", "mContent", "=", "content", ";", "if", "(", "null", "!", "=", "mContent", ")", "{", "mContentView", ".", "addView", "(", "mContent", ".", "getView", "(", ")", ")", ";", "mContent", ".", "onShown", "(", ")", ";", "if", "(", "content", ".", "isFullscreen", "(", ")", ")", "{", "expandToScreenBounds", "(", ")", ";", "}", "else", "{", "wrapContent", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "void", "expandToScreenBounds", "(", ")", "{", "RelativeLayout", ".", "LayoutParams", "layoutParams", "=", "(", "LayoutParams", ")", "mContainer", ".", "getLayoutParams", "(", ")", ";", "layoutParams", ".", "height", "=", "0", ";", "layoutParams", ".", "addRule", "(", "ALIGN_PARENT_TOP", ")", ";", "layoutParams", ".", "addRule", "(", "ALIGN_PARENT_BOTTOM", ")", ";", "mContainer", ".", "setLayoutParams", "(", "layoutParams", ")", ";", "}", "</s>"]
["<s>", "public", "void", "wrapContent", "(", ")", "{", "RelativeLayout", ".", "LayoutParams", "layoutParams", "=", "(", "LayoutParams", ")", "mContainer", ".", "getLayoutParams", "(", ")", ";", "layoutParams", ".", "height", "=", "LayoutParams", ".", "WRAP_CONTENT", ";", "layoutParams", ".", "addRule", "(", "ALIGN_PARENT_TOP", ")", ";", "layoutParams", ".", "addRule", "(", "ALIGN_PARENT_BOTTOM", ",", "0", ")", ";", "mContainer", ".", "setLayoutParams", "(", "layoutParams", ")", ";", "}", "</s>"]
["<s>", "public", "ExitView", "(", "@", "NonNull", "Context", "context", ")", "{", "this", "(", "context", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "ExitView", "(", "@", "NonNull", "Context", "context", ",", "@", "Nullable", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "LayoutInflater", ".", "from", "(", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_hover_menu_exit", ",", "this", ",", "true", ")", ";", "mExitIcon", "=", "findViewById", "(", "R", ".", "id", ".", "view_exit", ")", ";", "mExitRadiusInPx", "=", "getResources", "(", ")", ".", "getDimensionPixelSize", "(", "R", ".", "dimen", ".", "hover_exit_radius", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "isInExitZone", "(", "@", "NonNull", "Point", "position", ")", "{", "Point", "exitCenter", "=", "getExitZoneCenter", "(", ")", ";", "double", "distanceToExit", "=", "calculateDistance", "(", "position", ",", "exitCenter", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "position", "+", "\"", "<STR_LIT>", "\"", "+", "exitCenter", "+", "\"", "<STR_LIT>", "\"", "+", "distanceToExit", ")", ";", "return", "distanceToExit", "<", "=", "mExitRadiusInPx", ";", "}", "</s>"]
["<s>", "private", "Point", "getExitZoneCenter", "(", ")", "{", "return", "new", "Point", "(", "(", "int", ")", "(", "mExitIcon", ".", "getX", "(", ")", "+", "(", "mExitIcon", ".", "getWidth", "(", ")", "/", "<NUM_LIT:2>", ")", ")", ",", "(", "int", ")", "(", "mExitIcon", ".", "getY", "(", ")", "+", "(", "mExitIcon", ".", "getHeight", "(", ")", "/", "<NUM_LIT:2>", ")", ")", ")", ";", "}", "</s>"]
["<s>", "private", "double", "calculateDistance", "(", "@", "NonNull", "Point", "p1", ",", "@", "NonNull", "Point", "p2", ")", "{", "return", "Math", ".", "sqrt", "(", "Math", ".", "pow", "(", "p2", ".", "x", "-", "p1", ".", "x", ",", "<NUM_LIT:2>", ")", "+", "Math", ".", "pow", "(", "p2", ".", "y", "-", "p1", ".", "y", ",", "<NUM_LIT:2>", ")", ")", ";", "}", "</s>"]
["<s>", "Screen", "(", "@", "NonNull", "ViewGroup", "hoverMenuContainer", ")", "{", "mContainer", "=", "hoverMenuContainer", ";", "mShadeView", "=", "new", "ShadeView", "(", "mContainer", ".", "getContext", "(", ")", ")", ";", "mContainer", ".", "addView", "(", "mShadeView", ",", "new", "WindowManager", ".", "LayoutParams", "(", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ")", ")", ";", "mShadeView", ".", "hideImmediate", "(", ")", ";", "mExitView", "=", "new", "ExitView", "(", "mContainer", ".", "getContext", "(", ")", ")", ";", "mContainer", ".", "addView", "(", "mExitView", ",", "new", "WindowManager", ".", "LayoutParams", "(", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ")", ")", ";", "mExitView", ".", "setVisibility", "(", "GONE", ")", ";", "mContentDisplay", "=", "new", "ContentDisplay", "(", "mContainer", ".", "getContext", "(", ")", ")", ";", "mContainer", ".", "addView", "(", "mContentDisplay", ")", ";", "mContentDisplay", ".", "setVisibility", "(", "GONE", ")", ";", "}", "</s>"]
["<s>", "public", "void", "enableDrugMode", "(", "boolean", "debugMode", ")", "{", "mIsDebugMode", "=", "debugMode", ";", "mContentDisplay", ".", "enableDebugMode", "(", "debugMode", ")", ";", "for", "(", "FloatingTab", "tab", ":", "mTabs", ".", "values", "(", ")", ")", "{", "tab", ".", "enableDebugMode", "(", "debugMode", ")", ";", "}", "}", "</s>"]
["<s>", "public", "int", "getWidth", "(", ")", "{", "return", "mContainer", ".", "getWidth", "(", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getHeight", "(", ")", "{", "return", "mContainer", ".", "getHeight", "(", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "FloatingTab", "createChainedTab", "(", "@", "NonNull", "HoverMenu", ".", "SectionId", "sectionId", ",", "@", "NonNull", "View", "tabView", ")", "{", "String", "tabId", "=", "sectionId", ".", "toString", "(", ")", ";", "return", "createChainedTab", "(", "tabId", ",", "tabView", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "FloatingTab", "createChainedTab", "(", "@", "NonNull", "String", "tabId", ",", "@", "NonNull", "View", "tabView", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "for", "(", "String", "existingTabId", ":", "mTabs", ".", "keySet", "(", ")", ")", "{", "Log", ".", "d", "(", "TAG", ",", "existingTabId", ")", ";", "}", "if", "(", "mTabs", ".", "containsKey", "(", "tabId", ")", ")", "{", "return", "mTabs", ".", "get", "(", "tabId", ")", ";", "}", "else", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "tabId", ")", ";", "FloatingTab", "chainedTab", "=", "new", "FloatingTab", "(", "mContainer", ".", "getContext", "(", ")", ",", "tabId", ")", ";", "chainedTab", ".", "setTabView", "(", "tabView", ")", ";", "chainedTab", ".", "enableDebugMode", "(", "mIsDebugMode", ")", ";", "mContainer", ".", "addView", "(", "chainedTab", ")", ";", "mTabs", ".", "put", "(", "tabId", ",", "chainedTab", ")", ";", "return", "chainedTab", ";", "}", "}", "</s>"]
["<s>", "@", "Nullable", "public", "FloatingTab", "getChainedTab", "(", "@", "Nullable", "HoverMenu", ".", "SectionId", "sectionId", ")", "{", "String", "tabId", "=", "null", "!", "=", "sectionId", "?", "sectionId", ".", "toString", "(", ")", ":", "null", ";", "return", "getChainedTab", "(", "tabId", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "public", "FloatingTab", "getChainedTab", "(", "@", "Nullable", "String", "tabId", ")", "{", "return", "mTabs", ".", "get", "(", "tabId", ")", ";", "}", "</s>"]
["<s>", "public", "void", "destroyChainedTab", "(", "@", "NonNull", "FloatingTab", "chainedTab", ")", "{", "mTabs", ".", "remove", "(", "chainedTab", ".", "getTabId", "(", ")", ")", ";", "chainedTab", ".", "setTabView", "(", "null", ")", ";", "mContainer", ".", "removeView", "(", "chainedTab", ")", ";", "}", "</s>"]
["<s>", "public", "ContentDisplay", "getContentDisplay", "(", ")", "{", "return", "mContentDisplay", ";", "}", "</s>"]
["<s>", "public", "ExitView", "getExitView", "(", ")", "{", "return", "mExitView", ";", "}", "</s>"]
["<s>", "public", "ShadeView", "getShadeView", "(", ")", "{", "return", "mShadeView", ";", "}", "</s>"]
["<s>", "public", "abstract", "String", "getId", "(", ")", ";", "</s>"]
["<s>", "public", "abstract", "int", "getSectionCount", "(", ")", ";", "</s>"]
["<s>", "@", "Nullable", "public", "abstract", "Section", "getSection", "(", "int", "index", ")", ";", "</s>"]
["<s>", "@", "Nullable", "public", "abstract", "Section", "getSection", "(", "@", "NonNull", "SectionId", "sectionId", ")", ";", "</s>"]
["<s>", "public", "int", "getSectionIndex", "(", "@", "NonNull", "Section", "section", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "mSections", ".", "size", "(", ")", ";", "+", "+", "i", ")", "{", "if", "(", "section", ".", "equals", "(", "mSections", ".", "get", "(", "i", ")", ")", ")", "{", "return", "i", ";", "}", "}", "return", "-", "1", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "abstract", "List", "<", "Section", ">", "getSections", "(", ")", ";", "</s>"]
["<s>", "void", "setUpdatedCallback", "(", "@", "Nullable", "ListUpdateCallback", "listUpdatedCallback", ")", "{", "mListUpdateCallback", "=", "listUpdatedCallback", ";", "}", "</s>"]
["<s>", "public", "void", "notifyMenuChanged", "(", ")", "{", "List", "<", "Section", ">", "oldSections", "=", "mSections", ";", "List", "<", "Section", ">", "newSections", "=", "getSections", "(", ")", ";", "mSections", "=", "newSections", ";", "if", "(", "null", "!", "=", "mListUpdateCallback", ")", "{", "DiffUtil", ".", "Callback", "diffCallback", "=", "new", "MenuDiffCallback", "(", "oldSections", ",", "newSections", ")", ";", "DiffUtil", ".", "DiffResult", "result", "=", "DiffUtil", ".", "calculateDiff", "(", "diffCallback", ",", "true", ")", ";", "result", ".", "dispatchUpdatesTo", "(", "mListUpdateCallback", ")", ";", "}", "}", "</s>"]
["<s>", "public", "SectionId", "(", "@", "NonNull", "String", "id", ")", "{", "mId", "=", "id", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "o", ")", "{", "if", "(", "this", "=", "=", "o", ")", "return", "true", ";", "if", "(", "o", "=", "=", "null", "|", "|", "getClass", "(", ")", "!", "=", "o", ".", "getClass", "(", ")", ")", "return", "false", ";", "SectionId", "sectionId", "=", "(", "SectionId", ")", "o", ";", "return", "mId", ".", "equals", "(", "sectionId", ".", "mId", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "mId", ".", "hashCode", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "mId", ";", "}", "</s>"]
["<s>", "public", "Section", "(", "@", "NonNull", "SectionId", "id", ",", "@", "NonNull", "View", "tabView", ",", "@", "NonNull", "Content", "content", ")", "{", "mId", "=", "id", ";", "mTabView", "=", "tabView", ";", "mContent", "=", "content", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "SectionId", "getId", "(", ")", "{", "return", "mId", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "View", "getTabView", "(", ")", "{", "return", "mTabView", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "Content", "getContent", "(", ")", "{", "return", "mContent", ";", "}", "</s>"]
["<s>", "private", "MenuDiffCallback", "(", "@", "NonNull", "List", "<", "Section", ">", "oldList", ",", "@", "NonNull", "List", "<", "Section", ">", "newList", ")", "{", "mOldList", "=", "oldList", ";", "mNewList", "=", "newList", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getOldListSize", "(", ")", "{", "return", "mOldList", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getNewListSize", "(", ")", "{", "return", "mNewList", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "areItemsTheSame", "(", "int", "oldItemPosition", ",", "int", "newItemPosition", ")", "{", "return", "mOldList", ".", "get", "(", "oldItemPosition", ")", ".", "getId", "(", ")", ".", "equals", "(", "mNewList", ".", "get", "(", "newItemPosition", ")", ".", "getId", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "areContentsTheSame", "(", "int", "oldItemPosition", ",", "int", "newItemPosition", ")", "{", "Section", "oldSection", "=", "mOldList", ".", "get", "(", "oldItemPosition", ")", ";", "Section", "newSection", "=", "mNewList", ".", "get", "(", "newItemPosition", ")", ";", "return", "oldSection", ".", "mTabView", ".", "equals", "(", "newSection", ".", "getTabView", "(", ")", ")", "&", "&", "oldSection", ".", "getContent", "(", ")", ".", "equals", "(", "newSection", ".", "getContent", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "abstract", "Point", "position", "(", ")", ";", "</s>"]
["<s>", "public", "void", "addListener", "(", "@", "NonNull", "Listener", "listener", ")", "{", "mListeners", ".", "add", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "public", "void", "removeListener", "(", "@", "NonNull", "Listener", "listener", ")", "{", "mListeners", ".", "remove", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "public", "void", "clearListeners", "(", ")", "{", "mListeners", ".", "clear", "(", ")", ";", "}", "</s>"]
["<s>", "protected", "void", "notifyListeners", "(", ")", "{", "for", "(", "Listener", "listener", ":", "mListeners", ")", "{", "listener", ".", "onDockChange", "(", "this", ")", ";", "}", "}", "</s>"]
["<s>", "void", "onDockChange", "(", "@", "NonNull", "Dock", "dock", ")", ";", "</s>"]
["<s>", "@", "NonNull", "View", "getView", "(", ")", ";", "</s>"]
["<s>", "boolean", "isFullscreen", "(", ")", ";", "</s>"]
["<s>", "void", "onShown", "(", ")", ";", "</s>"]
["<s>", "void", "onHidden", "(", ")", ";", "</s>"]
["<s>", "void", "activate", "(", "@", "NonNull", "DragListener", "dragListener", ",", "@", "NonNull", "Point", "dragStartCenterPosition", ")", ";", "</s>"]
["<s>", "void", "deactivate", "(", ")", ";", "</s>"]
["<s>", "void", "enableDebugMode", "(", "boolean", "debugMode", ")", ";", "</s>"]
["<s>", "void", "onPress", "(", "float", "x", ",", "float", "y", ")", ";", "</s>"]
["<s>", "void", "onDragStart", "(", "float", "x", ",", "float", "y", ")", ";", "</s>"]
["<s>", "void", "onDragTo", "(", "float", "x", ",", "float", "y", ")", ";", "</s>"]
["<s>", "void", "onReleasedAt", "(", "float", "x", ",", "float", "y", ")", ";", "</s>"]
["<s>", "void", "onTap", "(", ")", ";", "</s>"]
["<s>", "@", "NonNull", "View", "getView", "(", ")", ";", "</s>"]
["<s>", "void", "onShown", "(", "@", "NonNull", "Navigator", "navigator", ")", ";", "</s>"]
["<s>", "void", "onHidden", "(", ")", ";", "</s>"]
["<s>", "public", "Navigator", "(", "@", "NonNull", "Context", "context", ")", "{", "this", "(", "context", ",", "true", ")", ";", "}", "</s>"]
["<s>", "public", "Navigator", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "mIsFullscreen", "=", "false", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "public", "Navigator", "(", "@", "NonNull", "Context", "context", ",", "boolean", "isFullscreen", ")", "{", "super", "(", "context", ")", ";", "mIsFullscreen", "=", "isFullscreen", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "int", "heightMode", "=", "mIsFullscreen", "?", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ":", "ViewGroup", ".", "LayoutParams", ".", "WRAP_CONTENT", ";", "mContentStack", "=", "new", "Stack", "<", ">", "(", ")", ";", "mContentLayoutParams", "=", "new", "FrameLayout", ".", "LayoutParams", "(", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "heightMode", ")", ";", "setLayoutParams", "(", "new", "ViewGroup", ".", "LayoutParams", "(", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "heightMode", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "pushContent", "(", "@", "NonNull", "NavigatorContent", "content", ")", "{", "if", "(", "!", "mContentStack", ".", "isEmpty", "(", ")", ")", "{", "removeView", "(", "mContentStack", ".", "peek", "(", ")", ".", "getView", "(", ")", ")", ";", "mContentStack", ".", "peek", "(", ")", ".", "onHidden", "(", ")", ";", "}", "mContentStack", ".", "push", "(", "content", ")", ";", "showContent", "(", "content", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "popContent", "(", ")", "{", "if", "(", "mContentStack", ".", "size", "(", ")", ">", "1", ")", "{", "removeCurrentContent", "(", ")", ";", "if", "(", "!", "mContentStack", ".", "isEmpty", "(", ")", ")", "{", "showContent", "(", "mContentStack", ".", "peek", "(", ")", ")", ";", "}", "return", "true", ";", "}", "else", "{", "return", "false", ";", "}", "}", "</s>"]
["<s>", "public", "void", "clearContent", "(", ")", "{", "if", "(", "mContentStack", ".", "isEmpty", "(", ")", ")", "{", "return", ";", "}", "boolean", "didPopContent", "=", "popContent", "(", ")", ";", "while", "(", "didPopContent", ")", "{", "didPopContent", "=", "popContent", "(", ")", ";", "}", "removeCurrentContent", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "showContent", "(", "@", "NonNull", "NavigatorContent", "content", ")", "{", "addView", "(", "content", ".", "getView", "(", ")", ",", "mContentLayoutParams", ")", ";", "content", ".", "onShown", "(", "this", ")", ";", "}", "</s>"]
["<s>", "private", "void", "removeCurrentContent", "(", ")", "{", "NavigatorContent", "visibleContent", "=", "mContentStack", ".", "pop", "(", ")", ";", "removeView", "(", "visibleContent", ".", "getView", "(", ")", ")", ";", "visibleContent", ".", "onHidden", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ToolbarNavigator", "(", "Context", "context", ")", "{", "this", "(", "context", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "ToolbarNavigator", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "LayoutInflater", ".", "from", "(", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_toolbar_navigator", ",", "this", ",", "true", ")", ";", "mToolbar", "=", "(", "Toolbar", ")", "findViewById", "(", "R", ".", "id", ".", "toolbar", ")", ";", "mToolbar", ".", "setNavigationOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "popContent", "(", ")", ";", "}", "}", ")", ";", "mBackArrowDrawable", "=", "createBackArrowDrawable", "(", ")", ";", "mContentContainer", "=", "(", "FrameLayout", ")", "findViewById", "(", "R", ".", "id", ".", "content_container", ")", ";", "mContentLayoutParams", "=", "new", "LinearLayout", ".", "LayoutParams", "(", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ")", ";", "mContentStack", "=", "new", "Stack", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "popContent", "(", ")", ";", "}", "</s>"]
["<s>", "private", "Drawable", "createBackArrowDrawable", "(", ")", "{", "int", "[", "]", "attrIds", "=", "new", "int", "[", "]", "{", "R", ".", "attr", ".", "colorControlNormal", "}", ";", "TypedArray", "attrs", "=", "getContext", "(", ")", ".", "obtainStyledAttributes", "(", "attrIds", ")", ";", "int", "backArrowColor", "=", "attrs", ".", "getColor", "(", "attrs", ".", "getIndex", "(", "0", ")", ",", "<NUM_LIT>", ")", ";", "attrs", ".", "recycle", "(", ")", ";", "Drawable", "backArrowDrawable", "=", "ContextCompat", ".", "getDrawable", "(", "getContext", "(", ")", ",", "R", ".", "drawable", ".", "ic_arrow_back", ")", ";", "backArrowDrawable", ".", "setColorFilter", "(", "backArrowColor", ",", "PorterDuff", ".", "Mode", ".", "SRC_ATOP", ")", ";", "return", "backArrowDrawable", ";", "}", "</s>"]
["<s>", "public", "Toolbar", "getToolbar", "(", ")", "{", "return", "mToolbar", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "pushContent", "(", "@", "NonNull", "NavigatorContent", "content", ")", "{", "if", "(", "!", "mContentStack", ".", "isEmpty", "(", ")", ")", "{", "mContentContainer", ".", "removeView", "(", "mContentStack", ".", "peek", "(", ")", ".", "getView", "(", ")", ")", ";", "mContentStack", ".", "peek", "(", ")", ".", "onHidden", "(", ")", ";", "}", "mContentStack", ".", "push", "(", "content", ")", ";", "showContent", "(", "content", ")", ";", "updateToolbarBackButton", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "popContent", "(", ")", "{", "if", "(", "mContentStack", ".", "size", "(", ")", ">", "1", ")", "{", "removeCurrentContent", "(", ")", ";", "if", "(", "!", "mContentStack", ".", "isEmpty", "(", ")", ")", "{", "showContent", "(", "mContentStack", ".", "peek", "(", ")", ")", ";", "}", "updateToolbarBackButton", "(", ")", ";", "return", "true", ";", "}", "else", "{", "return", "false", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearContent", "(", ")", "{", "if", "(", "mContentStack", ".", "isEmpty", "(", ")", ")", "{", "return", ";", "}", "boolean", "didPopContent", "=", "popContent", "(", ")", ";", "while", "(", "didPopContent", ")", "{", "didPopContent", "=", "popContent", "(", ")", ";", "}", "removeCurrentContent", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "showContent", "(", "@", "NonNull", "NavigatorContent", "content", ")", "{", "mContentContainer", ".", "addView", "(", "content", ".", "getView", "(", ")", ",", "mContentLayoutParams", ")", ";", "content", ".", "onShown", "(", "this", ")", ";", "}", "</s>"]
["<s>", "private", "void", "removeCurrentContent", "(", ")", "{", "NavigatorContent", "visibleContent", "=", "mContentStack", ".", "pop", "(", ")", ";", "mContentContainer", ".", "removeView", "(", "visibleContent", ".", "getView", "(", ")", ")", ";", "visibleContent", ".", "onHidden", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "updateToolbarBackButton", "(", ")", "{", "if", "(", "mContentStack", ".", "size", "(", ")", ">", "=", "<NUM_LIT:2>", ")", "{", "mToolbar", ".", "setNavigationIcon", "(", "mBackArrowDrawable", ")", ";", "}", "else", "{", "mToolbar", ".", "setNavigationIcon", "(", "null", ")", ";", "}", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "View", "getView", "(", ")", "{", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isFullscreen", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onShown", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onHidden", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "execute", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "Navigator", "navigator", ")", "{", "}", "</s>"]
["<s>", "void", "execute", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "Navigator", "navigator", ")", ";", "</s>"]
["<s>", "public", "MenuListContent", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "final", "Menu", "menu", ")", "{", "this", "(", "context", ",", "menu", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "MenuListContent", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "final", "Menu", "menu", ",", "@", "Nullable", "View", "emptyView", ")", "{", "mMenu", "=", "menu", ";", "mMenuListView", "=", "new", "MenuListView", "(", "context", ")", ";", "mMenuListView", ".", "setMenu", "(", "menu", ")", ";", "mMenuListView", ".", "setMenuItemSelectionListener", "(", "new", "MenuListView", ".", "MenuItemSelectionListener", "(", ")", "{", "@", "Override", "public", "void", "onMenuItemSelected", "(", "@", "NonNull", "MenuItem", "menuItem", ")", "{", "menuItem", ".", "getMenuAction", "(", ")", ".", "execute", "(", "getView", "(", ")", ".", "getContext", "(", ")", ",", "mNavigator", ")", ";", "}", "}", ")", ";", "setEmptyView", "(", "emptyView", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onMenuItemSelected", "(", "@", "NonNull", "MenuItem", "menuItem", ")", "{", "menuItem", ".", "getMenuAction", "(", ")", ".", "execute", "(", "getView", "(", ")", ".", "getContext", "(", ")", ",", "mNavigator", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setEmptyView", "(", "@", "Nullable", "View", "emptyView", ")", "{", "mMenuListView", ".", "setEmptyView", "(", "emptyView", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "View", "getView", "(", ")", "{", "return", "mMenuListView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onShown", "(", "@", "NonNull", "Navigator", "navigator", ")", "{", "mNavigator", "=", "navigator", ";", "if", "(", "navigator", "instanceof", "ToolbarNavigator", ")", "{", "(", "(", "ToolbarNavigator", ")", "navigator", ")", ".", "getToolbar", "(", ")", ".", "setTitle", "(", "mMenu", ".", "getTitle", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onHidden", "(", ")", "{", "mNavigator", "=", "null", ";", "}", "</s>"]
["<s>", "public", "ShowSubmenuMenuAction", "(", "@", "NonNull", "Menu", "menu", ")", "{", "this", "(", "menu", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "ShowSubmenuMenuAction", "(", "@", "NonNull", "Menu", "menu", ",", "@", "Nullable", "View", "emptyView", ")", "{", "mMenu", "=", "menu", ";", "mEmptyView", "=", "emptyView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "execute", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "Navigator", "navigator", ")", "{", "if", "(", "null", "=", "=", "mNavigatorContent", ")", "{", "mNavigatorContent", "=", "new", "MenuListContent", "(", "context", ",", "mMenu", ",", "mEmptyView", ")", ";", "}", "navigator", ".", "pushContent", "(", "mNavigatorContent", ")", ";", "}", "</s>"]
["<s>", "public", "Menu", "(", "@", "NonNull", "String", "title", ",", "@", "NonNull", "List", "<", "MenuItem", ">", "menuItemList", ")", "{", "mTitle", "=", "title", ";", "mMenuItemList", "=", "menuItemList", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "String", "getTitle", "(", ")", "{", "return", "mTitle", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "List", "<", "MenuItem", ">", "getMenuItemList", "(", ")", "{", "return", "mMenuItemList", ";", "}", "</s>"]
["<s>", "public", "void", "setMenu", "(", "@", "Nullable", "Menu", "menu", ")", "{", "mMenu", "=", "menu", ";", "notifyDataSetChanged", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getCount", "(", ")", "{", "return", "null", "=", "=", "mMenu", "?", "0", ":", "mMenu", ".", "getMenuItemList", "(", ")", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "MenuItem", "getItem", "(", "int", "index", ")", "{", "return", "mMenu", ".", "getMenuItemList", "(", ")", ".", "get", "(", "index", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "getItemId", "(", "int", "i", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "View", "getView", "(", "int", "i", ",", "View", "view", ",", "ViewGroup", "parent", ")", "{", "if", "(", "null", "=", "=", "view", ")", "{", "view", "=", "new", "MenuItemView", "(", "parent", ".", "getContext", "(", ")", ")", ";", "}", "(", "(", "MenuItemView", ")", "view", ")", ".", "setTitle", "(", "getItem", "(", "i", ")", ".", "getTitle", "(", ")", ")", ";", "return", "view", ";", "}", "</s>"]
["<s>", "public", "MenuItemView", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "public", "MenuItemView", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "LayoutInflater", ".", "from", "(", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_menu_item", ",", "this", ",", "true", ")", ";", "mTitleTextView", "=", "(", "TextView", ")", "findViewById", "(", "R", ".", "id", ".", "textview_title", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setTitle", "(", "String", "title", ")", "{", "mTitle", "=", "title", ";", "updateView", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "updateView", "(", ")", "{", "mTitleTextView", ".", "setText", "(", "mTitle", ")", ";", "}", "</s>"]
["<s>", "public", "MenuItem", "(", "@", "NonNull", "String", "id", ",", "@", "NonNull", "String", "title", ",", "@", "NonNull", "MenuAction", "menuAction", ")", "{", "mId", "=", "id", ";", "mTitle", "=", "title", ";", "mMenuAction", "=", "menuAction", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "String", "getId", "(", ")", "{", "return", "mId", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "String", "getTitle", "(", ")", "{", "return", "mTitle", ";", "}", "</s>"]
["<s>", "@", "NonNull", "public", "MenuAction", "getMenuAction", "(", ")", "{", "return", "mMenuAction", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "o", ")", "{", "if", "(", "this", "=", "=", "o", ")", "return", "true", ";", "if", "(", "o", "=", "=", "null", "|", "|", "getClass", "(", ")", "!", "=", "o", ".", "getClass", "(", ")", ")", "return", "false", ";", "MenuItem", "menuItem", "=", "(", "MenuItem", ")", "o", ";", "return", "mId", ".", "equals", "(", "menuItem", ".", "mId", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "mId", ".", "hashCode", "(", ")", ";", "}", "</s>"]
["<s>", "public", "MenuListView", "(", "Context", "context", ")", "{", "this", "(", "context", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "MenuListView", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "mMenuListAdapter", "=", "new", "MenuListAdapter", "(", ")", ";", "mListView", "=", "new", "ListView", "(", "getContext", "(", ")", ")", ";", "mListView", ".", "setAdapter", "(", "mMenuListAdapter", ")", ";", "mListView", ".", "setOnItemClickListener", "(", "new", "AdapterView", ".", "OnItemClickListener", "(", ")", "{", "@", "Override", "public", "void", "onItemClick", "(", "AdapterView", "<", "?", ">", "parent", ",", "View", "view", ",", "int", "position", ",", "long", "id", ")", "{", "if", "(", "null", "!", "=", "mMenuItemSelectionListener", ")", "{", "mMenuItemSelectionListener", ".", "onMenuItemSelected", "(", "mMenuListAdapter", ".", "getItem", "(", "position", ")", ")", ";", "}", "}", "}", ")", ";", "addView", "(", "mListView", ",", "new", "ViewGroup", ".", "LayoutParams", "(", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onItemClick", "(", "AdapterView", "<", "?", ">", "parent", ",", "View", "view", ",", "int", "position", ",", "long", "id", ")", "{", "if", "(", "null", "!", "=", "mMenuItemSelectionListener", ")", "{", "mMenuItemSelectionListener", ".", "onMenuItemSelected", "(", "mMenuListAdapter", ".", "getItem", "(", "position", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setEmptyView", "(", "@", "Nullable", "View", "emptyView", ")", "{", "if", "(", "null", "!", "=", "mEmptyView", ")", "{", "removeView", "(", "mEmptyView", ")", ";", "}", "mEmptyView", "=", "emptyView", ";", "if", "(", "null", "!", "=", "mEmptyView", ")", "{", "addView", "(", "mEmptyView", ",", "new", "ViewGroup", ".", "LayoutParams", "(", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "ViewGroup", ".", "LayoutParams", ".", "MATCH_PARENT", ")", ")", ";", "}", "updateEmptyViewVisibility", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setMenu", "(", "@", "Nullable", "Menu", "menu", ")", "{", "mMenuListAdapter", ".", "setMenu", "(", "menu", ")", ";", "updateEmptyViewVisibility", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setMenuItemSelectionListener", "(", "@", "Nullable", "MenuItemSelectionListener", "listener", ")", "{", "mMenuItemSelectionListener", "=", "listener", ";", "}", "</s>"]
["<s>", "private", "void", "updateEmptyViewVisibility", "(", ")", "{", "boolean", "isEmpty", "=", "null", "=", "=", "mMenuListAdapter", "|", "|", "0", "=", "=", "mMenuListAdapter", ".", "getCount", "(", ")", ";", "if", "(", "null", "!", "=", "mEmptyView", ")", "{", "mEmptyView", ".", "setVisibility", "(", "isEmpty", "?", "VISIBLE", ":", "GONE", ")", ";", "mListView", ".", "setVisibility", "(", "isEmpty", "?", "GONE", ":", "VISIBLE", ")", ";", "}", "else", "{", "mListView", ".", "setVisibility", "(", "VISIBLE", ")", ";", "}", "}", "</s>"]
["<s>", "void", "onMenuItemSelected", "(", "@", "NonNull", "MenuItem", "menuItem", ")", ";", "</s>"]
["<s>", "public", "MenuDeserializer", "(", "@", "NonNull", "MenuActionFactory", "menuActionFactory", ")", "{", "mMenuActionFactory", "=", "menuActionFactory", ";", "}", "</s>"]
["<s>", "public", "Menu", "deserializeMenu", "(", "InputStream", "in", ")", "throws", "IOException", "{", "return", "doDeserialization", "(", "new", "BufferedReader", "(", "new", "InputStreamReader", "(", "in", ")", ")", ")", ";", "}", "</s>"]
["<s>", "public", "Menu", "deserializeMenu", "(", "@", "NonNull", "String", "json", ")", "throws", "IOException", "{", "try", "{", "JSONArray", "jsonArray", "=", "new", "JSONArray", "(", "json", ")", ";", "return", "createMenuFromJson", "(", "jsonArray", ")", ";", "}", "catch", "(", "JSONException", "e", ")", "{", "throw", "new", "IOException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Menu", "doDeserialization", "(", "@", "NonNull", "BufferedReader", "br", ")", "throws", "IOException", "{", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", ")", ";", "String", "line", ";", "while", "(", "(", "line", "=", "br", ".", "readLine", "(", ")", ")", "!", "=", "null", ")", "{", "sb", ".", "append", "(", "line", ")", ";", "}", "String", "jsonContent", "=", "sb", ".", "toString", "(", ")", ";", "try", "{", "JSONArray", "menuJson", "=", "new", "JSONArray", "(", "jsonContent", ")", ";", "return", "createMenuFromJson", "(", "menuJson", ")", ";", "}", "catch", "(", "JSONException", "e", ")", "{", "throw", "new", "IOException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Menu", "createMenuFromJson", "(", "@", "NonNull", "JSONArray", "menuJson", ")", "throws", "JSONException", "{", "List", "<", "MenuItem", ">", "menuItemList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "JSONObject", "menuItemJson", ";", "MenuItem", "menuItem", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "menuJson", ".", "length", "(", ")", ";", "+", "+", "i", ")", "{", "menuItemJson", "=", "menuJson", ".", "getJSONObject", "(", "i", ")", ";", "menuItem", "=", "recursivelyConstructMenuItem", "(", "menuItemJson", ")", ";", "menuItemList", ".", "add", "(", "menuItem", ")", ";", "}", "return", "new", "Menu", "(", "\"", "\"", ",", "menuItemList", ")", ";", "}", "</s>"]
["<s>", "private", "MenuItem", "recursivelyConstructMenuItem", "(", "@", "NonNull", "JSONObject", "menuItemJson", ")", "throws", "JSONException", "{", "MenuItem", "menuItem", ";", "if", "(", "menuItemJson", ".", "has", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "JSONArray", "submenuItemsJson", "=", "menuItemJson", ".", "getJSONArray", "(", "\"", "<STR_LIT>", "\"", ")", ";", "List", "<", "MenuItem", ">", "submenuItems", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "MenuItem", "submenuItem", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "submenuItemsJson", ".", "length", "(", ")", ";", "+", "+", "i", ")", "{", "submenuItem", "=", "recursivelyConstructMenuItem", "(", "submenuItemsJson", ".", "getJSONObject", "(", "i", ")", ")", ";", "submenuItems", ".", "add", "(", "submenuItem", ")", ";", "}", "String", "id", "=", "menuItemJson", ".", "has", "(", "\"", "<STR_LIT>", "\"", ")", "?", "menuItemJson", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ":", "UUID", ".", "randomUUID", "(", ")", ".", "toString", "(", ")", ";", "String", "title", "=", "menuItemJson", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Menu", "submenu", "=", "new", "Menu", "(", "title", ",", "submenuItems", ")", ";", "MenuAction", "showMenuAction", "=", "mMenuActionFactory", ".", "createShowSubmenuMenuAction", "(", "submenu", ")", ";", "menuItem", "=", "new", "MenuItem", "(", "id", ",", "title", ",", "showMenuAction", ")", ";", "}", "else", "if", "(", "menuItemJson", ".", "has", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "String", "id", "=", "menuItemJson", ".", "has", "(", "\"", "<STR_LIT>", "\"", ")", "?", "menuItemJson", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ":", "UUID", ".", "randomUUID", "(", ")", ".", "toString", "(", ")", ";", "String", "title", "=", "menuItemJson", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "String", "menuActionId", "=", "menuItemJson", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "MenuAction", "menuAction", "=", "mMenuActionFactory", ".", "createMenuActionForId", "(", "menuActionId", ")", ";", "menuItem", "=", "new", "MenuItem", "(", "id", ",", "title", ",", "menuAction", ")", ";", "}", "else", "{", "String", "id", "=", "menuItemJson", ".", "has", "(", "\"", "<STR_LIT>", "\"", ")", "?", "menuItemJson", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ":", "UUID", ".", "randomUUID", "(", ")", ".", "toString", "(", ")", ";", "String", "title", "=", "menuItemJson", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "menuItem", "=", "new", "MenuItem", "(", "id", ",", "title", ",", "new", "DoNothingMenuAction", "(", ")", ")", ";", "}", "return", "menuItem", ";", "}", "</s>"]
["<s>", "MenuAction", "createShowSubmenuMenuAction", "(", "@", "NonNull", "Menu", "menu", ")", ";", "</s>"]
["<s>", "MenuAction", "createMenuActionForId", "(", "@", "NonNull", "String", "actionId", ")", ";", "</s>"]
["<s>", "public", "WindowViewController", "(", "@", "NonNull", "WindowManager", "windowManager", ")", "{", "mWindowManager", "=", "windowManager", ";", "}", "</s>"]
["<s>", "public", "void", "addView", "(", "int", "width", ",", "int", "height", ",", "boolean", "isTouchable", ",", "@", "NonNull", "View", "view", ")", "{", "int", "touchableFlag", "=", "isTouchable", "?", "0", ":", "WindowManager", ".", "LayoutParams", ".", "FLAG_NOT_TOUCHABLE", ";", "int", "windowType", "=", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "O", "?", "WindowManager", ".", "LayoutParams", ".", "TYPE_APPLICATION_OVERLAY", ":", "WindowManager", ".", "LayoutParams", ".", "TYPE_SYSTEM_ALERT", ";", "WindowManager", ".", "LayoutParams", "params", "=", "new", "WindowManager", ".", "LayoutParams", "(", "width", ",", "height", ",", "windowType", ",", "WindowManager", ".", "LayoutParams", ".", "FLAG_NOT_FOCUSABLE", "|", "WindowManager", ".", "LayoutParams", ".", "FLAG_LAYOUT_NO_LIMITS", "|", "touchableFlag", ",", "PixelFormat", ".", "TRANSLUCENT", ")", ";", "params", ".", "gravity", "=", "Gravity", ".", "TOP", "|", "Gravity", ".", "LEFT", ";", "params", ".", "x", "=", "0", ";", "params", ".", "y", "=", "0", ";", "mWindowManager", ".", "addView", "(", "view", ",", "params", ")", ";", "}", "</s>"]
["<s>", "public", "void", "removeView", "(", "@", "NonNull", "View", "view", ")", "{", "if", "(", "null", "!", "=", "view", ".", "getParent", "(", ")", ")", "{", "mWindowManager", ".", "removeView", "(", "view", ")", ";", "}", "}", "</s>"]
["<s>", "public", "Point", "getViewPosition", "(", "@", "NonNull", "View", "view", ")", "{", "WindowManager", ".", "LayoutParams", "params", "=", "(", "WindowManager", ".", "LayoutParams", ")", "view", ".", "getLayoutParams", "(", ")", ";", "return", "new", "Point", "(", "params", ".", "x", ",", "params", ".", "y", ")", ";", "}", "</s>"]
["<s>", "public", "void", "moveViewTo", "(", "View", "view", ",", "int", "x", ",", "int", "y", ")", "{", "WindowManager", ".", "LayoutParams", "params", "=", "(", "WindowManager", ".", "LayoutParams", ")", "view", ".", "getLayoutParams", "(", ")", ";", "params", ".", "x", "=", "x", ";", "params", ".", "y", "=", "y", ";", "mWindowManager", ".", "updateViewLayout", "(", "view", ",", "params", ")", ";", "}", "</s>"]
["<s>", "public", "void", "showView", "(", "View", "view", ")", "{", "try", "{", "WindowManager", ".", "LayoutParams", "params", "=", "(", "WindowManager", ".", "LayoutParams", ")", "view", ".", "getLayoutParams", "(", ")", ";", "mWindowManager", ".", "addView", "(", "view", ",", "params", ")", ";", "}", "catch", "(", "IllegalStateException", "e", ")", "{", "}", "}", "</s>"]
["<s>", "public", "void", "hideView", "(", "View", "view", ")", "{", "try", "{", "mWindowManager", ".", "removeView", "(", "view", ")", ";", "}", "catch", "(", "IllegalArgumentException", "e", ")", "{", "}", "}", "</s>"]
["<s>", "public", "void", "makeTouchable", "(", "View", "view", ")", "{", "WindowManager", ".", "LayoutParams", "params", "=", "(", "WindowManager", ".", "LayoutParams", ")", "view", ".", "getLayoutParams", "(", ")", ";", "params", ".", "flags", "=", "params", ".", "flags", "&", "~", "WindowManager", ".", "LayoutParams", ".", "FLAG_NOT_TOUCHABLE", "&", "~", "WindowManager", ".", "LayoutParams", ".", "FLAG_NOT_FOCUSABLE", ";", "mWindowManager", ".", "updateViewLayout", "(", "view", ",", "params", ")", ";", "}", "</s>"]
["<s>", "public", "void", "makeUntouchable", "(", "View", "view", ")", "{", "WindowManager", ".", "LayoutParams", "params", "=", "(", "WindowManager", ".", "LayoutParams", ")", "view", ".", "getLayoutParams", "(", ")", ";", "params", ".", "flags", "=", "params", ".", "flags", "|", "WindowManager", ".", "LayoutParams", ".", "FLAG_NOT_TOUCHABLE", "|", "WindowManager", ".", "LayoutParams", ".", "FLAG_NOT_FOCUSABLE", ";", "mWindowManager", ".", "updateViewLayout", "(", "view", ",", "params", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onExit", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mHoverView", ".", "removeFromWindow", "(", ")", ";", "onHoverMenuExitingByUserRequest", "(", ")", ";", "stopSelf", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Notification", "foregroundNotification", "=", "getForegroundNotification", "(", ")", ";", "if", "(", "null", "!", "=", "foregroundNotification", ")", "{", "int", "notificationId", "=", "getForegroundNotificationId", "(", ")", ";", "startForeground", "(", "notificationId", ",", "foregroundNotification", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "onStartCommand", "(", "Intent", "intent", ",", "int", "flags", ",", "int", "startId", ")", "{", "if", "(", "!", "OverlayPermission", ".", "hasRuntimePermissionToDrawOverlay", "(", "getApplicationContext", "(", ")", ")", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "stopSelf", "(", ")", ";", "return", "START_NOT_STICKY", ";", "}", "if", "(", "null", "=", "=", "intent", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "stopSelf", "(", ")", ";", "return", "START_NOT_STICKY", ";", "}", "if", "(", "!", "mIsRunning", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mIsRunning", "=", "true", ";", "initHoverMenu", "(", "intent", ")", ";", "}", "return", "START_STICKY", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroy", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "mIsRunning", ")", "{", "mHoverView", ".", "removeFromWindow", "(", ")", ";", "mIsRunning", "=", "false", ";", "}", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "intent", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "private", "void", "initHoverMenu", "(", "@", "NonNull", "Intent", "intent", ")", "{", "mHoverView", "=", "HoverView", ".", "createForWindow", "(", "this", ",", "new", "WindowViewController", "(", "(", "WindowManager", ")", "getSystemService", "(", "Context", ".", "WINDOW_SERVICE", ")", ")", ",", "new", "SideDock", ".", "SidePosition", "(", "SideDock", ".", "SidePosition", ".", "RIGHT", ",", "<NUM_LIT>", ")", ")", ";", "mHoverView", ".", "setOnExitListener", "(", "mOnMenuOnExitListener", ")", ";", "mHoverView", ".", "addToWindow", "(", ")", ";", "onHoverMenuLaunched", "(", "intent", ",", "mHoverView", ")", ";", "}", "</s>"]
["<s>", "protected", "Context", "getContextForHoverMenu", "(", ")", "{", "return", "this", ";", "}", "</s>"]
["<s>", "@", "NonNull", "protected", "HoverView", "getHoverView", "(", ")", "{", "return", "mHoverView", ";", "}", "</s>"]
["<s>", "protected", "int", "getForegroundNotificationId", "(", ")", "{", "return", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "@", "Nullable", "protected", "Notification", "getForegroundNotification", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "protected", "void", "onHoverMenuLaunched", "(", "@", "NonNull", "Intent", "intent", ",", "@", "NonNull", "HoverView", "hoverView", ")", "{", "}", "</s>"]
["<s>", "protected", "void", "onHoverMenuExitingByUserRequest", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onTouch", "(", "View", "view", ",", "MotionEvent", "motionEvent", ")", "{", "switch", "(", "motionEvent", ".", "getAction", "(", ")", ")", "{", "case", "MotionEvent", ".", "ACTION_DOWN", ":", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mIsDragging", "=", "false", ";", "mOriginalViewPosition", "=", "getDragViewCenterPosition", "(", ")", ";", "mCurrentViewPosition", "=", "new", "PointF", "(", "mOriginalViewPosition", ".", "x", ",", "mOriginalViewPosition", ".", "y", ")", ";", "mOriginalTouchPosition", ".", "set", "(", "motionEvent", ".", "getRawX", "(", ")", ",", "motionEvent", ".", "getRawY", "(", ")", ")", ";", "mDragListener", ".", "onPress", "(", "mCurrentViewPosition", ".", "x", ",", "mCurrentViewPosition", ".", "y", ")", ";", "return", "true", ";", "case", "MotionEvent", ".", "ACTION_MOVE", ":", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "motionEvent", ".", "getRawX", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "motionEvent", ".", "getRawY", "(", ")", ")", ";", "float", "dragDeltaX", "=", "motionEvent", ".", "getRawX", "(", ")", "-", "mOriginalTouchPosition", ".", "x", ";", "float", "dragDeltaY", "=", "motionEvent", ".", "getRawY", "(", ")", "-", "mOriginalTouchPosition", ".", "y", ";", "mCurrentViewPosition", "=", "new", "PointF", "(", "mOriginalViewPosition", ".", "x", "+", "dragDeltaX", ",", "mOriginalViewPosition", ".", "y", "+", "dragDeltaY", ")", ";", "if", "(", "mIsDragging", "|", "|", "!", "isTouchWithinSlopOfOriginalTouch", "(", "dragDeltaX", ",", "dragDeltaY", ")", ")", "{", "if", "(", "!", "mIsDragging", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mIsDragging", "=", "true", ";", "mDragListener", ".", "onDragStart", "(", "mCurrentViewPosition", ".", "x", ",", "mCurrentViewPosition", ".", "y", ")", ";", "}", "else", "{", "moveDragViewTo", "(", "mCurrentViewPosition", ")", ";", "mDragListener", ".", "onDragTo", "(", "mCurrentViewPosition", ".", "x", ",", "mCurrentViewPosition", ".", "y", ")", ";", "}", "}", "return", "true", ";", "case", "MotionEvent", ".", "ACTION_UP", ":", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "!", "mIsDragging", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mDragListener", ".", "onTap", "(", ")", ";", "}", "else", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "mCurrentViewPosition", ")", ";", "mDragListener", ".", "onReleasedAt", "(", "mCurrentViewPosition", ".", "x", ",", "mCurrentViewPosition", ".", "y", ")", ";", "}", "return", "true", ";", "default", ":", "return", "false", ";", "}", "}", "</s>"]
["<s>", "public", "InWindowDragger", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "WindowViewController", "windowViewController", ",", "int", "touchAreaDiameter", ",", "float", "tapTouchSlop", ")", "{", "mContext", "=", "context", ";", "mWindowViewController", "=", "windowViewController", ";", "mTouchAreaDiameter", "=", "touchAreaDiameter", ";", "mTapTouchSlop", "=", "tapTouchSlop", ";", "}", "</s>"]
["<s>", "public", "void", "activate", "(", "@", "NonNull", "DragListener", "dragListener", ",", "@", "NonNull", "Point", "dragStartCenterPosition", ")", "{", "if", "(", "!", "mIsActivated", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "createTouchControlView", "(", "dragStartCenterPosition", ")", ";", "mDragListener", "=", "dragListener", ";", "mDragView", ".", "setOnTouchListener", "(", "mDragTouchListener", ")", ";", "mIsActivated", "=", "true", ";", "}", "}", "</s>"]
["<s>", "public", "void", "deactivate", "(", ")", "{", "if", "(", "mIsActivated", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mDragView", ".", "setOnTouchListener", "(", "null", ")", ";", "destroyTouchControlView", "(", ")", ";", "mIsActivated", "=", "false", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "enableDebugMode", "(", "boolean", "isDebugMode", ")", "{", "mIsDebugMode", "=", "isDebugMode", ";", "updateTouchControlViewAppearance", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "createTouchControlView", "(", "@", "NonNull", "final", "Point", "dragStartCenterPosition", ")", "{", "mDragView", "=", "new", "View", "(", "mContext", ")", ";", "mWindowViewController", ".", "addView", "(", "mTouchAreaDiameter", ",", "mTouchAreaDiameter", ",", "true", ",", "mDragView", ")", ";", "mWindowViewController", ".", "moveViewTo", "(", "mDragView", ",", "dragStartCenterPosition", ".", "x", "-", "(", "mTouchAreaDiameter", "/", "<NUM_LIT:2>", ")", ",", "dragStartCenterPosition", ".", "y", "-", "(", "mTouchAreaDiameter", "/", "<NUM_LIT:2>", ")", ")", ";", "mDragView", ".", "setOnTouchListener", "(", "mDragTouchListener", ")", ";", "updateTouchControlViewAppearance", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "destroyTouchControlView", "(", ")", "{", "mWindowViewController", ".", "removeView", "(", "mDragView", ")", ";", "mDragView", "=", "null", ";", "}", "</s>"]
["<s>", "private", "void", "updateTouchControlViewAppearance", "(", ")", "{", "if", "(", "null", "!", "=", "mDragView", ")", "{", "if", "(", "mIsDebugMode", ")", "{", "mDragView", ".", "setBackgroundColor", "(", "<NUM_LIT>", ")", ";", "}", "else", "{", "mDragView", ".", "setBackgroundColor", "(", "<NUM_LIT>", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "boolean", "isTouchWithinSlopOfOriginalTouch", "(", "float", "dx", ",", "float", "dy", ")", "{", "double", "distance", "=", "Math", ".", "sqrt", "(", "Math", ".", "pow", "(", "dx", ",", "<NUM_LIT:2>", ")", "+", "Math", ".", "pow", "(", "dy", ",", "<NUM_LIT:2>", ")", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "distance", "+", "\"", "<STR_LIT>", "\"", "+", "mTapTouchSlop", ")", ";", "return", "distance", "<", "mTapTouchSlop", ";", "}", "</s>"]
["<s>", "private", "PointF", "getDragViewCenterPosition", "(", ")", "{", "Point", "cornerPosition", "=", "mWindowViewController", ".", "getViewPosition", "(", "mDragView", ")", ";", "return", "convertCornerToCenter", "(", "new", "PointF", "(", "cornerPosition", ".", "x", ",", "cornerPosition", ".", "y", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "moveDragViewTo", "(", "PointF", "centerPosition", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "centerPosition", ")", ";", "PointF", "cornerPosition", "=", "convertCenterToCorner", "(", "centerPosition", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "cornerPosition", ")", ";", "mWindowViewController", ".", "moveViewTo", "(", "mDragView", ",", "(", "int", ")", "cornerPosition", ".", "x", ",", "(", "int", ")", "cornerPosition", ".", "y", ")", ";", "}", "</s>"]
["<s>", "private", "PointF", "convertCornerToCenter", "(", "@", "NonNull", "PointF", "cornerPosition", ")", "{", "return", "new", "PointF", "(", "cornerPosition", ".", "x", "+", "(", "mDragView", ".", "getWidth", "(", ")", "/", "<NUM_LIT:2>", ")", ",", "cornerPosition", ".", "y", "+", "(", "mDragView", ".", "getHeight", "(", ")", "/", "<NUM_LIT:2>", ")", ")", ";", "}", "</s>"]
["<s>", "private", "PointF", "convertCenterToCorner", "(", "@", "NonNull", "PointF", "centerPosition", ")", "{", "return", "new", "PointF", "(", "centerPosition", ".", "x", "-", "(", "mDragView", ".", "getWidth", "(", ")", "/", "<NUM_LIT:2>", ")", ",", "centerPosition", ".", "y", "-", "(", "mDragView", ".", "getHeight", "(", ")", "/", "<NUM_LIT:2>", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onTouch", "(", "View", "view", ",", "MotionEvent", "motionEvent", ")", "{", "switch", "(", "motionEvent", ".", "getAction", "(", ")", ")", "{", "case", "MotionEvent", ".", "ACTION_DOWN", ":", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mIsDragging", "=", "false", ";", "mOriginalViewPosition", "=", "getDragViewCenterPosition", "(", ")", ";", "mCurrentViewPosition", "=", "new", "PointF", "(", "mOriginalViewPosition", ".", "x", ",", "mOriginalViewPosition", ".", "y", ")", ";", "mOriginalTouchPosition", ".", "set", "(", "motionEvent", ".", "getRawX", "(", ")", ",", "motionEvent", ".", "getRawY", "(", ")", ")", ";", "mDragListener", ".", "onPress", "(", "mCurrentViewPosition", ".", "x", ",", "mCurrentViewPosition", ".", "y", ")", ";", "return", "true", ";", "case", "MotionEvent", ".", "ACTION_MOVE", ":", "Log", ".", "v", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "motionEvent", ".", "getRawX", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "motionEvent", ".", "getRawY", "(", ")", ")", ";", "float", "dragDeltaX", "=", "motionEvent", ".", "getRawX", "(", ")", "-", "mOriginalTouchPosition", ".", "x", ";", "float", "dragDeltaY", "=", "motionEvent", ".", "getRawY", "(", ")", "-", "mOriginalTouchPosition", ".", "y", ";", "mCurrentViewPosition", "=", "new", "PointF", "(", "mOriginalViewPosition", ".", "x", "+", "dragDeltaX", ",", "mOriginalViewPosition", ".", "y", "+", "dragDeltaY", ")", ";", "if", "(", "mIsDragging", "|", "|", "!", "isTouchWithinSlopOfOriginalTouch", "(", "dragDeltaX", ",", "dragDeltaY", ")", ")", "{", "if", "(", "!", "mIsDragging", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mIsDragging", "=", "true", ";", "mDragListener", ".", "onDragStart", "(", "mCurrentViewPosition", ".", "x", ",", "mCurrentViewPosition", ".", "y", ")", ";", "}", "else", "{", "moveDragViewTo", "(", "mCurrentViewPosition", ")", ";", "mDragListener", ".", "onDragTo", "(", "mCurrentViewPosition", ".", "x", ",", "mCurrentViewPosition", ".", "y", ")", ";", "}", "}", "return", "true", ";", "case", "MotionEvent", ".", "ACTION_UP", ":", "if", "(", "!", "mIsDragging", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mDragListener", ".", "onTap", "(", ")", ";", "}", "else", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mDragListener", ".", "onReleasedAt", "(", "mCurrentViewPosition", ".", "x", ",", "mCurrentViewPosition", ".", "y", ")", ";", "}", "return", "true", ";", "default", ":", "return", "false", ";", "}", "}", "</s>"]
["<s>", "public", "InViewDragger", "(", "@", "NonNull", "ViewGroup", "container", ",", "int", "touchAreaDiameter", ",", "int", "touchSlop", ")", "{", "mContainer", "=", "container", ";", "mTouchAreaDiameter", "=", "touchAreaDiameter", ";", "mTapTouchSlop", "=", "touchSlop", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "enableDebugMode", "(", "boolean", "isDebugMode", ")", "{", "mIsDebugMode", "=", "isDebugMode", ";", "updateTouchControlViewAppearance", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "activate", "(", "@", "NonNull", "DragListener", "dragListener", ",", "@", "NonNull", "Point", "dragStartCenterPosition", ")", "{", "if", "(", "!", "mIsActivated", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mIsActivated", "=", "true", ";", "mDragListener", "=", "dragListener", ";", "createTouchControlView", "(", "dragStartCenterPosition", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "deactivate", "(", ")", "{", "if", "(", "mIsActivated", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mIsActivated", "=", "false", ";", "destroyTouchControlView", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "createTouchControlView", "(", "@", "NonNull", "Point", "dragStartCenterPosition", ")", "{", "mDragView", "=", "new", "View", "(", "mContainer", ".", "getContext", "(", ")", ")", ";", "mDragView", ".", "setId", "(", "R", ".", "id", ".", "hover_drag_view", ")", ";", "mDragView", ".", "setLayoutParams", "(", "new", "ViewGroup", ".", "LayoutParams", "(", "mTouchAreaDiameter", ",", "mTouchAreaDiameter", ")", ")", ";", "mDragView", ".", "setOnTouchListener", "(", "mDragTouchListener", ")", ";", "mContainer", ".", "addView", "(", "mDragView", ")", ";", "moveDragViewTo", "(", "new", "PointF", "(", "dragStartCenterPosition", ".", "x", ",", "dragStartCenterPosition", ".", "y", ")", ")", ";", "updateTouchControlViewAppearance", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "destroyTouchControlView", "(", ")", "{", "mContainer", ".", "removeView", "(", "mDragView", ")", ";", "mDragView", ".", "setOnTouchListener", "(", "null", ")", ";", "mDragView", "=", "null", ";", "}", "</s>"]
["<s>", "private", "void", "updateTouchControlViewAppearance", "(", ")", "{", "if", "(", "null", "!", "=", "mDragView", ")", "{", "if", "(", "mIsDebugMode", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "mDragView", ".", "hashCode", "(", ")", ")", ";", "mDragView", ".", "setBackgroundColor", "(", "<NUM_LIT>", ")", ";", "}", "else", "{", "mDragView", ".", "setBackgroundColor", "(", "<NUM_LIT>", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "boolean", "isTouchWithinSlopOfOriginalTouch", "(", "float", "dx", ",", "float", "dy", ")", "{", "double", "distance", "=", "Math", ".", "sqrt", "(", "Math", ".", "pow", "(", "dx", ",", "<NUM_LIT:2>", ")", "+", "Math", ".", "pow", "(", "dy", ",", "<NUM_LIT:2>", ")", ")", ";", "return", "distance", "<", "mTapTouchSlop", ";", "}", "</s>"]
["<s>", "private", "PointF", "getDragViewCenterPosition", "(", ")", "{", "return", "convertCornerToCenter", "(", "new", "PointF", "(", "mDragView", ".", "getX", "(", ")", ",", "mDragView", ".", "getY", "(", ")", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "moveDragViewTo", "(", "PointF", "centerPosition", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "mDragView", ".", "hashCode", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "centerPosition", ")", ";", "PointF", "cornerPosition", "=", "convertCenterToCorner", "(", "centerPosition", ")", ";", "mDragView", ".", "setX", "(", "cornerPosition", ".", "x", ")", ";", "mDragView", ".", "setY", "(", "cornerPosition", ".", "y", ")", ";", "}", "</s>"]
["<s>", "private", "PointF", "convertCornerToCenter", "(", "@", "NonNull", "PointF", "cornerPosition", ")", "{", "return", "new", "PointF", "(", "cornerPosition", ".", "x", "+", "(", "mTouchAreaDiameter", "/", "<NUM_LIT:2>", ")", ",", "cornerPosition", ".", "y", "+", "(", "mTouchAreaDiameter", "/", "<NUM_LIT:2>", ")", ")", ";", "}", "</s>"]
["<s>", "private", "PointF", "convertCenterToCorner", "(", "@", "NonNull", "PointF", "centerPosition", ")", "{", "return", "new", "PointF", "(", "centerPosition", ".", "x", "-", "(", "mTouchAreaDiameter", "/", "<NUM_LIT:2>", ")", ",", "centerPosition", ".", "y", "-", "(", "mTouchAreaDiameter", "/", "<NUM_LIT:2>", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "hasRuntimePermissionToDrawOverlay", "(", "@", "NonNull", "Context", "context", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "{", "return", "Settings", ".", "canDrawOverlays", "(", "context", ")", ";", "}", "else", "{", "return", "true", ";", "}", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "Build", ".", "VERSION_CODES", ".", "M", ")", "@", "NonNull", "public", "static", "Intent", "createIntentToRequestOverlayPermission", "(", "@", "NonNull", "Context", "context", ")", "{", "return", "new", "Intent", "(", "Settings", ".", "ACTION_MANAGE_OVERLAY_PERMISSION", ",", "Uri", ".", "parse", "(", "\"", "<STR_LIT::>", "\"", "+", "context", ".", "getPackageName", "(", ")", ")", ")", ";", "}", "</s>"]
["<s>", "private", "OverlayPermission", "(", ")", "{", "}", "</s>"]
["<s>", "public", "ApplicationTest", "(", ")", "{", "super", "(", "Application", ".", "class", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "addition_isCorrect", "(", ")", "throws", "Exception", "{", "assertEquals", "(", "<NUM_LIT:4>", ",", "<NUM_LIT:2>", "+", "<NUM_LIT:2>", ")", ";", "}", "</s>"]
["<s>", "public", "DemoHoverMenu", "createDemoMenuFromCode", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "EventBus", "bus", ")", "throws", "IOException", "{", "Menu", "drillDownMenuLevelTwo", "=", "new", "Menu", "(", "\"", "<STR_LIT>", "\"", ",", "Arrays", ".", "asList", "(", "new", "MenuItem", "(", "UUID", ".", "randomUUID", "(", ")", ".", "toString", "(", ")", ",", "\"", "<STR_LIT>", "\"", ",", "new", "DoNothingMenuAction", "(", ")", ")", ",", "new", "MenuItem", "(", "UUID", ".", "randomUUID", "(", ")", ".", "toString", "(", ")", ",", "\"", "<STR_LIT>", "\"", ",", "new", "DoNothingMenuAction", "(", ")", ")", ")", ")", ";", "ShowSubmenuMenuAction", "showLevelTwoMenuAction", "=", "new", "ShowSubmenuMenuAction", "(", "drillDownMenuLevelTwo", ")", ";", "Menu", "drillDownMenu", "=", "new", "Menu", "(", "\"", "<STR_LIT>", "\"", ",", "Arrays", ".", "asList", "(", "new", "MenuItem", "(", "UUID", ".", "randomUUID", "(", ")", ".", "toString", "(", ")", ",", "\"", "<STR_LIT>", "\"", ",", "new", "DoNothingMenuAction", "(", ")", ")", ",", "new", "MenuItem", "(", "UUID", ".", "randomUUID", "(", ")", ".", "toString", "(", ")", ",", "\"", "<STR_LIT>", "\"", ",", "new", "DoNothingMenuAction", "(", ")", ")", ",", "new", "MenuItem", "(", "UUID", ".", "randomUUID", "(", ")", ".", "toString", "(", ")", ",", "\"", "<STR_LIT>", "\"", ",", "showLevelTwoMenuAction", ")", ")", ")", ";", "MenuListContent", "drillDownMenuNavigatorContent", "=", "new", "MenuListContent", "(", "context", ",", "drillDownMenu", ")", ";", "ToolbarNavigator", "toolbarNavigator", "=", "new", "ToolbarNavigator", "(", "context", ")", ";", "toolbarNavigator", ".", "pushContent", "(", "drillDownMenuNavigatorContent", ")", ";", "Map", "<", "String", ",", "Content", ">", "demoMenu", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "demoMenu", ".", "put", "(", "DemoHoverMenu", ".", "INTRO_ID", ",", "new", "HoverIntroductionContent", "(", "context", ",", "Bus", ".", "getInstance", "(", ")", ")", ")", ";", "demoMenu", ".", "put", "(", "DemoHoverMenu", ".", "SELECT_COLOR_ID", ",", "new", "ColorSelectionContent", "(", "context", ",", "Bus", ".", "getInstance", "(", ")", ",", "HoverThemeManager", ".", "getInstance", "(", ")", ",", "HoverThemeManager", ".", "getInstance", "(", ")", ".", "getTheme", "(", ")", ")", ")", ";", "demoMenu", ".", "put", "(", "DemoHoverMenu", ".", "APP_STATE_ID", ",", "new", "AppStateContent", "(", "context", ")", ")", ";", "demoMenu", ".", "put", "(", "DemoHoverMenu", ".", "MENU_ID", ",", "toolbarNavigator", ")", ";", "demoMenu", ".", "put", "(", "DemoHoverMenu", ".", "PLACEHOLDER_ID", ",", "new", "PlaceholderContent", "(", "context", ",", "bus", ")", ")", ";", "return", "new", "DemoHoverMenu", "(", "context", ",", "\"", "<STR_LIT>", "\"", ",", "demoMenu", ",", "HoverThemeManager", ".", "getInstance", "(", ")", ".", "getTheme", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_main", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button_launch_menu", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "DemoHoverMenuService", ".", "showFloatingMenu", "(", "MainActivity", ".", "this", ")", ";", "}", "}", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button_launch_hover_menu_activity", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "startActivity", "(", "new", "Intent", "(", "MainActivity", ".", "this", ",", "DemoHoverMenuActivity", ".", "class", ")", ")", ";", "}", "}", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button_launch_activity", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "startActivity", "(", "new", "Intent", "(", "MainActivity", ".", "this", ",", "MainActivity", ".", "class", ")", ")", ";", "}", "}", ")", ";", "if", "(", "!", "mPermissionsRequested", "&", "&", "!", "OverlayPermission", ".", "hasRuntimePermissionToDrawOverlay", "(", "this", ")", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Intent", "myIntent", "=", "OverlayPermission", ".", "createIntentToRequestOverlayPermission", "(", "this", ")", ";", "startActivityForResult", "(", "myIntent", ",", "REQUEST_CODE_HOVER_PERMISSION", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "DemoHoverMenuService", ".", "showFloatingMenu", "(", "MainActivity", ".", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "startActivity", "(", "new", "Intent", "(", "MainActivity", ".", "this", ",", "DemoHoverMenuActivity", ".", "class", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "startActivity", "(", "new", "Intent", "(", "MainActivity", ".", "this", ",", "MainActivity", ".", "class", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onActivityResult", "(", "int", "requestCode", ",", "int", "resultCode", ",", "Intent", "data", ")", "{", "if", "(", "REQUEST_CODE_HOVER_PERMISSION", "=", "=", "requestCode", ")", "{", "mPermissionsRequested", "=", "true", ";", "}", "else", "{", "super", ".", "onActivityResult", "(", "requestCode", ",", "resultCode", ",", "data", ")", ";", "}", "}", "</s>"]
["<s>", "public", "DemoHoverMenu", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "menuId", ",", "@", "NonNull", "Map", "<", "String", ",", "Content", ">", "data", ",", "@", "NonNull", "HoverTheme", "theme", ")", "throws", "IOException", "{", "mContext", "=", "context", ";", "mMenuId", "=", "menuId", ";", "mTheme", "=", "theme", ";", "for", "(", "String", "tabId", ":", "data", ".", "keySet", "(", ")", ")", "{", "mSections", ".", "add", "(", "new", "Section", "(", "new", "SectionId", "(", "tabId", ")", ",", "createTabView", "(", "tabId", ")", ",", "data", ".", "get", "(", "tabId", ")", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setTheme", "(", "@", "NonNull", "HoverTheme", "theme", ")", "{", "mTheme", "=", "theme", ";", "notifyMenuChanged", "(", ")", ";", "}", "</s>"]
["<s>", "private", "View", "createTabView", "(", "String", "sectionId", ")", "{", "if", "(", "INTRO_ID", ".", "equals", "(", "sectionId", ")", ")", "{", "return", "createTabView", "(", "R", ".", "drawable", ".", "ic_orange_circle", ",", "mTheme", ".", "getAccentColor", "(", ")", ",", "null", ")", ";", "}", "else", "if", "(", "SELECT_COLOR_ID", ".", "equals", "(", "sectionId", ")", ")", "{", "return", "createTabView", "(", "R", ".", "drawable", ".", "ic_paintbrush", ",", "mTheme", ".", "getAccentColor", "(", ")", ",", "mTheme", ".", "getBaseColor", "(", ")", ")", ";", "}", "else", "if", "(", "APP_STATE_ID", ".", "equals", "(", "sectionId", ")", ")", "{", "return", "createTabView", "(", "R", ".", "drawable", ".", "ic_stack", ",", "mTheme", ".", "getAccentColor", "(", ")", ",", "mTheme", ".", "getBaseColor", "(", ")", ")", ";", "}", "else", "if", "(", "MENU_ID", ".", "equals", "(", "sectionId", ")", ")", "{", "return", "createTabView", "(", "R", ".", "drawable", ".", "ic_menu", ",", "mTheme", ".", "getAccentColor", "(", ")", ",", "mTheme", ".", "getBaseColor", "(", ")", ")", ";", "}", "else", "if", "(", "PLACEHOLDER_ID", ".", "equals", "(", "sectionId", ")", ")", "{", "return", "createTabView", "(", "R", ".", "drawable", ".", "ic_pen", ",", "mTheme", ".", "getAccentColor", "(", ")", ",", "mTheme", ".", "getBaseColor", "(", ")", ")", ";", "}", "else", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", "+", "sectionId", ")", ";", "}", "}", "</s>"]
["<s>", "private", "View", "createTabView", "(", "@", "DrawableRes", "int", "tabBitmapRes", ",", "@", "ColorInt", "int", "backgroundColor", ",", "@", "ColorInt", "Integer", "iconColor", ")", "{", "Resources", "resources", "=", "mContext", ".", "getResources", "(", ")", ";", "int", "elevation", "=", "(", "int", ")", "TypedValue", ".", "applyDimension", "(", "TypedValue", ".", "COMPLEX_UNIT_DIP", ",", "<NUM_LIT:8>", ",", "resources", ".", "getDisplayMetrics", "(", ")", ")", ";", "DemoTabView", "view", "=", "new", "DemoTabView", "(", "mContext", ",", "resources", ".", "getDrawable", "(", "R", ".", "drawable", ".", "tab_background", ")", ",", "resources", ".", "getDrawable", "(", "tabBitmapRes", ")", ")", ";", "view", ".", "setTabBackgroundColor", "(", "backgroundColor", ")", ";", "view", ".", "setTabForegroundColor", "(", "iconColor", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "view", ".", "setElevation", "(", "elevation", ")", ";", "}", "return", "view", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getId", "(", ")", "{", "return", "mMenuId", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSectionCount", "(", ")", "{", "return", "mSections", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "int", "index", ")", "{", "return", "mSections", ".", "get", "(", "index", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "@", "NonNull", "SectionId", "sectionId", ")", "{", "for", "(", "Section", "section", ":", "mSections", ")", "{", "if", "(", "section", ".", "getId", "(", ")", ".", "equals", "(", "sectionId", ")", ")", "{", "return", "section", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "List", "<", "Section", ">", "getSections", "(", ")", "{", "return", "new", "ArrayList", "<", ">", "(", "mSections", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "setupTheme", "(", ")", ";", "setupAppStateTracking", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setupTheme", "(", ")", "{", "HoverTheme", "defaultTheme", "=", "new", "HoverTheme", "(", "ContextCompat", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "hover_accent", ")", ",", "ContextCompat", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "hover_base", ")", ")", ";", "HoverThemeManager", ".", "init", "(", "Bus", ".", "getInstance", "(", ")", ",", "defaultTheme", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setupAppStateTracking", "(", ")", "{", "ActivityManager", "activityManager", "=", "(", "ActivityManager", ")", "getSystemService", "(", "ACTIVITY_SERVICE", ")", ";", "AppStateTracker", ".", "init", "(", "this", ",", "Bus", ".", "getInstance", "(", ")", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "if", "(", "activityManager", ".", "getAppTasks", "(", ")", ".", "size", "(", ")", ">", "0", ")", "{", "AppStateTracker", ".", "getInstance", "(", ")", ".", "trackTask", "(", "activityManager", ".", "getAppTasks", "(", ")", ".", "get", "(", "0", ")", ".", "getTaskInfo", "(", ")", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "static", "void", "showFloatingMenu", "(", "Context", "context", ")", "{", "context", ".", "startService", "(", "new", "Intent", "(", "context", ",", "DemoHoverMenuService", ".", "class", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "Bus", ".", "getInstance", "(", ")", ".", "register", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroy", "(", ")", "{", "Bus", ".", "getInstance", "(", ")", ".", "unregister", "(", "this", ")", ";", "super", ".", "onDestroy", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Context", "getContextForHoverMenu", "(", ")", "{", "return", "new", "ContextThemeWrapper", "(", "this", ",", "R", ".", "style", ".", "AppTheme", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuLaunched", "(", "@", "NonNull", "Intent", "intent", ",", "@", "NonNull", "HoverView", "hoverView", ")", "{", "hoverView", ".", "setMenu", "(", "createHoverMenu", "(", ")", ")", ";", "hoverView", ".", "collapse", "(", ")", ";", "}", "</s>"]
["<s>", "private", "HoverMenu", "createHoverMenu", "(", ")", "{", "try", "{", "mDemoHoverMenu", "=", "new", "DemoHoverMenuFactory", "(", ")", ".", "createDemoMenuFromCode", "(", "getContextForHoverMenu", "(", ")", ",", "Bus", ".", "getInstance", "(", ")", ")", ";", "return", "mDemoHoverMenu", ";", "}", "catch", "(", "IOException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "onEventMainThread", "(", "@", "NonNull", "HoverTheme", "newTheme", ")", "{", "mDemoHoverMenu", ".", "setTheme", "(", "newTheme", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_hover_menu", ")", ";", "try", "{", "final", "ContextThemeWrapper", "contextThemeWrapper", "=", "new", "ContextThemeWrapper", "(", "this", ",", "R", ".", "style", ".", "AppTheme", ")", ";", "DemoHoverMenu", "hoverMenu", "=", "new", "DemoHoverMenuFactory", "(", ")", ".", "createDemoMenuFromCode", "(", "contextThemeWrapper", ",", "Bus", ".", "getInstance", "(", ")", ")", ";", "mHoverView", "=", "findViewById", "(", "R", ".", "id", ".", "hovermenu", ")", ";", "mHoverView", ".", "setMenu", "(", "hoverMenu", ")", ";", "mHoverView", ".", "collapse", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "EventBus", "getInstance", "(", ")", "{", "return", "sBus", ";", "}", "</s>"]
["<s>", "public", "EmptyListView", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "public", "EmptyListView", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "LayoutInflater", ".", "from", "(", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_emptylist", ",", "this", ",", "true", ")", ";", "}", "</s>"]
["<s>", "public", "DemoTabView", "(", "Context", "context", ",", "Drawable", "backgroundDrawable", ",", "Drawable", "iconDrawable", ")", "{", "super", "(", "context", ")", ";", "mCircleDrawable", "=", "backgroundDrawable", ";", "mIconDrawable", "=", "iconDrawable", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "int", "insetsDp", "=", "(", "int", ")", "TypedValue", ".", "applyDimension", "(", "TypedValue", ".", "COMPLEX_UNIT_DIP", ",", "<NUM_LIT:10>", ",", "getContext", "(", ")", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ")", ";", "mIconInsetLeft", "=", "mIconInsetTop", "=", "mIconInsetRight", "=", "mIconInsetBottom", "=", "insetsDp", ";", "}", "</s>"]
["<s>", "public", "void", "setTabBackgroundColor", "(", "@", "ColorInt", "int", "backgroundColor", ")", "{", "mBackgroundColor", "=", "backgroundColor", ";", "mCircleDrawable", ".", "setColorFilter", "(", "mBackgroundColor", ",", "PorterDuff", ".", "Mode", ".", "SRC_ATOP", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setTabForegroundColor", "(", "@", "ColorInt", "Integer", "foregroundColor", ")", "{", "mForegroundColor", "=", "foregroundColor", ";", "if", "(", "null", "!", "=", "mForegroundColor", ")", "{", "mIconDrawable", ".", "setColorFilter", "(", "mForegroundColor", ",", "PorterDuff", ".", "Mode", ".", "SRC_ATOP", ")", ";", "}", "else", "{", "mIconDrawable", ".", "setColorFilter", "(", "null", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setIcon", "(", "@", "Nullable", "Drawable", "icon", ")", "{", "mIconDrawable", "=", "icon", ";", "if", "(", "null", "!", "=", "mForegroundColor", "&", "&", "null", "!", "=", "mIconDrawable", ")", "{", "mIconDrawable", ".", "setColorFilter", "(", "mForegroundColor", ",", "PorterDuff", ".", "Mode", ".", "SRC_ATOP", ")", ";", "}", "updateIconBounds", "(", ")", ";", "invalidate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onSizeChanged", "(", "int", "w", ",", "int", "h", ",", "int", "oldw", ",", "int", "oldh", ")", "{", "super", ".", "onSizeChanged", "(", "w", ",", "h", ",", "oldw", ",", "oldh", ")", ";", "mCircleDrawable", ".", "setBounds", "(", "getPaddingLeft", "(", ")", ",", "getPaddingTop", "(", ")", ",", "w", "-", "getPaddingRight", "(", ")", ",", "h", "-", "getPaddingBottom", "(", ")", ")", ";", "updateIconBounds", "(", ")", ";", "invalidate", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "updateIconBounds", "(", ")", "{", "if", "(", "null", "!", "=", "mIconDrawable", ")", "{", "Rect", "bounds", "=", "new", "Rect", "(", "mCircleDrawable", ".", "getBounds", "(", ")", ")", ";", "bounds", ".", "set", "(", "bounds", ".", "left", "+", "mIconInsetLeft", ",", "bounds", ".", "top", "+", "mIconInsetTop", ",", "bounds", ".", "right", "-", "mIconInsetRight", ",", "bounds", ".", "bottom", "-", "mIconInsetBottom", ")", ";", "mIconDrawable", ".", "setBounds", "(", "bounds", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDraw", "(", "Canvas", "canvas", ")", "{", "mCircleDrawable", ".", "draw", "(", "canvas", ")", ";", "if", "(", "null", "!", "=", "mIconDrawable", ")", "{", "mIconDrawable", ".", "draw", "(", "canvas", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "mIsRunning", ")", "{", "mDtInMillis", "=", "(", "int", ")", "(", "SystemClock", ".", "elapsedRealtime", "(", ")", "-", "mTimeOfLastUpdate", ")", ";", "updatePosition", "(", ")", ";", "updateGrowth", "(", ")", ";", "mTimeOfLastUpdate", "=", "SystemClock", ".", "elapsedRealtime", "(", ")", ";", "mView", ".", "postDelayed", "(", "this", ",", "RENDER_CYCLE_IN_MILLIS", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "start", "(", "@", "NonNull", "View", "view", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mView", "=", "view", ";", "mIsRunning", "=", "true", ";", "mTimeOfLastUpdate", "=", "SystemClock", ".", "elapsedRealtime", "(", ")", ";", "mView", ".", "post", "(", "mStateUpdateRunnable", ")", ";", "}", "</s>"]
["<s>", "public", "void", "stop", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mIsRunning", "=", "false", ";", "}", "</s>"]
["<s>", "private", "void", "updatePosition", "(", ")", "{", "PointF", "mPositionOffset", "=", "mBrownianMotionGenerator", ".", "applyMotion", "(", "mDtInMillis", ")", ";", "mView", ".", "setTranslationX", "(", "mPositionOffset", ".", "x", ")", ";", "mView", ".", "setTranslationY", "(", "mPositionOffset", ".", "y", ")", ";", "}", "</s>"]
["<s>", "private", "void", "updateGrowth", "(", ")", "{", "float", "scale", "=", "mGrowAndShrinkGenerator", ".", "applyGrowth", "(", "mDtInMillis", ")", ";", "mView", ".", "setScaleX", "(", "scale", ")", ";", "mView", ".", "setScaleY", "(", "scale", ")", ";", "int", "baseElevation", "=", "<NUM_LIT>", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "mView", ".", "setElevation", "(", "baseElevation", "*", "scale", ")", ";", "}", "}", "</s>"]
["<s>", "public", "PointF", "applyMotion", "(", "int", "dtInMillis", ")", "{", "float", "xConstraintAdditive", "=", "mPosition", ".", "x", "/", "mMaxDisplacementInPixels", ";", "float", "yConstraintAdditive", "=", "mPosition", ".", "y", "/", "mMaxDisplacementInPixels", ";", "float", "velocityXAdjustment", "=", "(", "float", ")", "(", "Math", ".", "random", "(", ")", "*", "<NUM_LIT:1.0>", "-", "<NUM_LIT>", ")", "-", "xConstraintAdditive", ";", "float", "velocityYAdjustment", "=", "(", "float", ")", "(", "Math", ".", "random", "(", ")", "*", "<NUM_LIT:1.0>", "-", "<NUM_LIT>", ")", "-", "yConstraintAdditive", ";", "mVelocity", ".", "offset", "(", "velocityXAdjustment", ",", "velocityYAdjustment", ")", ";", "mPosition", ".", "offset", "(", "mVelocity", ".", "x", ",", "mVelocity", ".", "y", ")", ";", "mVelocity", ".", "set", "(", "mVelocity", ".", "x", "*", "FRICTION", ",", "mVelocity", ".", "y", "*", "FRICTION", ")", ";", "return", "mPosition", ";", "}", "</s>"]
["<s>", "public", "GrowAndShrinkGenerator", "(", "float", "growthFactor", ")", "{", "mGrowthFactor", "=", "growthFactor", ";", "}", "</s>"]
["<s>", "public", "float", "applyGrowth", "(", "int", "dtInMillis", ")", "{", "mLastTimeInMillis", "+", "=", "dtInMillis", ";", "return", "<NUM_LIT:1.0f>", "+", "(", "float", ")", "(", "Math", ".", "sin", "(", "Math", ".", "PI", "*", "(", "(", "float", ")", "mLastTimeInMillis", "/", "GROWTH_CYCLE_IN_MILLIS", ")", ")", "*", "mGrowthFactor", ")", ";", "}", "</s>"]
["<s>", "public", "HoverIntroductionContent", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "EventBus", "bus", ")", "{", "super", "(", "context", ")", ";", "mBus", "=", "bus", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "LayoutInflater", ".", "from", "(", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_content_introduction", ",", "this", ",", "true", ")", ";", "mLogo", "=", "findViewById", "(", "R", ".", "id", ".", "imageview_logo", ")", ";", "mHoverMotion", "=", "new", "HoverMotion", "(", ")", ";", "mHoverTitleTextView", "=", "(", "TextView", ")", "findViewById", "(", "R", ".", "id", ".", "textview_hover_title", ")", ";", "mGoalsTitleTextView", "=", "(", "TextView", ")", "findViewById", "(", "R", ".", "id", ".", "textview_goals_title", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onAttachedToWindow", "(", ")", "{", "super", ".", "onAttachedToWindow", "(", ")", ";", "mBus", ".", "registerSticky", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDetachedFromWindow", "(", ")", "{", "mBus", ".", "unregister", "(", "this", ")", ";", "super", ".", "onDetachedFromWindow", "(", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "View", "getView", "(", ")", "{", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isFullscreen", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onShown", "(", ")", "{", "mHoverMotion", ".", "start", "(", "mLogo", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onHidden", "(", ")", "{", "mHoverMotion", ".", "stop", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "onEventMainThread", "(", "@", "NonNull", "HoverTheme", "newTheme", ")", "{", "mHoverTitleTextView", ".", "setTextColor", "(", "newTheme", ".", "getAccentColor", "(", ")", ")", ";", "mGoalsTitleTextView", ".", "setTextColor", "(", "newTheme", ".", "getAccentColor", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "HoverTheme", "(", "@", "ColorInt", "int", "accentColor", ",", "@", "ColorInt", "int", "baseColor", ")", "{", "mAccentColor", "=", "accentColor", ";", "mBaseColor", "=", "baseColor", ";", "}", "</s>"]
["<s>", "@", "ColorInt", "public", "int", "getAccentColor", "(", ")", "{", "return", "mAccentColor", ";", "}", "</s>"]
["<s>", "@", "ColorInt", "public", "int", "getBaseColor", "(", ")", "{", "return", "mBaseColor", ";", "}", "</s>"]
["<s>", "void", "setTheme", "(", "@", "NonNull", "HoverTheme", "theme", ")", ";", "</s>"]
["<s>", "public", "static", "synchronized", "void", "init", "(", "@", "NonNull", "EventBus", "bus", ",", "@", "NonNull", "HoverTheme", "theme", ")", "{", "if", "(", "null", "=", "=", "sInstance", ")", "{", "sInstance", "=", "new", "HoverThemeManager", "(", "bus", ",", "theme", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "synchronized", "HoverThemeManager", "getInstance", "(", ")", "{", "if", "(", "null", "=", "=", "sInstance", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "return", "sInstance", ";", "}", "</s>"]
["<s>", "public", "HoverThemeManager", "(", "@", "NonNull", "EventBus", "bus", ",", "@", "NonNull", "HoverTheme", "theme", ")", "{", "mBus", "=", "bus", ";", "setTheme", "(", "theme", ")", ";", "}", "</s>"]
["<s>", "public", "HoverTheme", "getTheme", "(", ")", "{", "return", "mTheme", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTheme", "(", "@", "NonNull", "HoverTheme", "theme", ")", "{", "mTheme", "=", "theme", ";", "mBus", ".", "postSticky", "(", "theme", ")", ";", "}", "</s>"]
["<s>", "public", "AppStateContent", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "LayoutInflater", ".", "from", "(", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_app_state_content", ",", "this", ",", "true", ")", ";", "mAppStateAdapter", "=", "new", "AppStateAdapter", "(", "HoverThemeManager", ".", "getInstance", "(", ")", ".", "getTheme", "(", ")", ")", ";", "RecyclerView", "recyclerView", "=", "(", "RecyclerView", ")", "findViewById", "(", "R", ".", "id", ".", "recyclerview", ")", ";", "recyclerView", ".", "setLayoutManager", "(", "new", "LinearLayoutManager", "(", "getContext", "(", ")", ")", ")", ";", "recyclerView", ".", "setAdapter", "(", "mAppStateAdapter", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onAttachedToWindow", "(", ")", "{", "super", ".", "onAttachedToWindow", "(", ")", ";", "Bus", ".", "getInstance", "(", ")", ".", "registerSticky", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDetachedFromWindow", "(", ")", "{", "Bus", ".", "getInstance", "(", ")", ".", "unregister", "(", "this", ")", ";", "super", ".", "onDetachedFromWindow", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "onEventMainThread", "(", "@", "NonNull", "HoverTheme", "newTheme", ")", "{", "mAppStateAdapter", ".", "setTheme", "(", "newTheme", ")", ";", "}", "</s>"]
["<s>", "public", "void", "onEventMainThread", "(", "@", "NonNull", "AppStateTracker", ".", "ActivityStackChangeEvent", "event", ")", "{", "mAppStateAdapter", ".", "setActivityStates", "(", "event", ".", "getActivityStack", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "View", "getView", "(", ")", "{", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isFullscreen", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onShown", "(", ")", "{", "mAppStateAdapter", ".", "setServiceStates", "(", "AppStateTracker", ".", "getInstance", "(", ")", ".", "getServiceStates", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onHidden", "(", ")", "{", "}", "</s>"]
["<s>", "public", "static", "synchronized", "void", "init", "(", "@", "NonNull", "Application", "application", ",", "@", "NonNull", "EventBus", "bus", ")", "{", "sInstance", "=", "new", "AppStateTracker", "(", "application", ",", "bus", ")", ";", "}", "</s>"]
["<s>", "public", "static", "AppStateTracker", "getInstance", "(", ")", "{", "if", "(", "null", "=", "=", "sInstance", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "return", "sInstance", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityCreated", "(", "Activity", "activity", ",", "Bundle", "savedInstanceState", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "activity", ".", "getLocalClassName", "(", ")", ")", ";", "if", "(", "activity", ".", "getTaskId", "(", ")", "=", "=", "mTaskToTrack", ".", "id", ")", "{", "if", "(", "null", "=", "=", "savedInstanceState", ")", "{", "mActivityStates", ".", "add", "(", "new", "ActivityState", "(", "activity", ".", "getLocalClassName", "(", ")", ",", "ActivityState", ".", "State", ".", "CREATED", ")", ")", ";", "}", "else", "{", "int", "correspondingBackstackIndex", "=", "findFirstInBackStack", "(", "activity", ".", "getLocalClassName", "(", ")", ",", "ActivityState", ".", "State", ".", "DESTROYED", ")", ";", "if", "(", "correspondingBackstackIndex", ">", "=", "0", ")", "{", "updateActivityState", "(", "correspondingBackstackIndex", ",", "ActivityState", ".", "State", ".", "CREATED", ")", ";", "}", "}", "onActivityStackChanged", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityStarted", "(", "Activity", "activity", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "activity", ".", "getLocalClassName", "(", ")", ")", ";", "if", "(", "activity", ".", "getTaskId", "(", ")", "=", "=", "mTaskToTrack", ".", "id", ")", "{", "int", "correspondingBackstackIndex", "=", "findFirstInBackStack", "(", "activity", ".", "getLocalClassName", "(", ")", ",", "ActivityState", ".", "State", ".", "CREATED", ",", "ActivityState", ".", "State", ".", "STOPPED", ",", "ActivityState", ".", "State", ".", "DESTROYED", ")", ";", "if", "(", "correspondingBackstackIndex", ">", "=", "0", ")", "{", "updateActivityState", "(", "correspondingBackstackIndex", ",", "ActivityState", ".", "State", ".", "STARTED", ")", ";", "}", "onActivityStackChanged", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityResumed", "(", "Activity", "activity", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "activity", ".", "getLocalClassName", "(", ")", ")", ";", "if", "(", "activity", ".", "getTaskId", "(", ")", "=", "=", "mTaskToTrack", ".", "id", ")", "{", "int", "correspondingBackstackIndex", "=", "findFirstInBackStack", "(", "activity", ".", "getLocalClassName", "(", ")", ",", "ActivityState", ".", "State", ".", "STARTED", ",", "ActivityState", ".", "State", ".", "PAUSED", ")", ";", "if", "(", "correspondingBackstackIndex", ">", "=", "0", ")", "{", "updateActivityState", "(", "correspondingBackstackIndex", ",", "ActivityState", ".", "State", ".", "RESUMED", ")", ";", "}", "onActivityStackChanged", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityPaused", "(", "Activity", "activity", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "activity", ".", "getLocalClassName", "(", ")", ")", ";", "if", "(", "activity", ".", "getTaskId", "(", ")", "=", "=", "mTaskToTrack", ".", "id", ")", "{", "int", "correspondingBackstackIndex", "=", "findLastInBackStack", "(", "activity", ".", "getLocalClassName", "(", ")", ",", "ActivityState", ".", "State", ".", "RESUMED", ")", ";", "if", "(", "correspondingBackstackIndex", ">", "=", "0", ")", "{", "updateActivityState", "(", "correspondingBackstackIndex", ",", "ActivityState", ".", "State", ".", "PAUSED", ")", ";", "}", "onActivityStackChanged", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityStopped", "(", "Activity", "activity", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "activity", ".", "getLocalClassName", "(", ")", ")", ";", "if", "(", "activity", ".", "getTaskId", "(", ")", "=", "=", "mTaskToTrack", ".", "id", ")", "{", "int", "correspondingBackstackIndex", "=", "findLastInBackStack", "(", "activity", ".", "getLocalClassName", "(", ")", ",", "ActivityState", ".", "State", ".", "PAUSED", ",", "ActivityState", ".", "State", ".", "STARTED", ")", ";", "if", "(", "correspondingBackstackIndex", ">", "=", "0", ")", "{", "updateActivityState", "(", "correspondingBackstackIndex", ",", "ActivityState", ".", "State", ".", "STOPPED", ")", ";", "}", "onActivityStackChanged", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivitySaveInstanceState", "(", "Activity", "activity", ",", "Bundle", "outState", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityDestroyed", "(", "Activity", "activity", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "activity", ".", "getLocalClassName", "(", ")", ")", ";", "if", "(", "activity", ".", "getTaskId", "(", ")", "=", "=", "mTaskToTrack", ".", "id", ")", "{", "int", "correspondingBackstackIndex", "=", "findLastInBackStack", "(", "activity", ".", "getLocalClassName", "(", ")", ",", "ActivityState", ".", "State", ".", "STOPPED", ")", ";", "if", "(", "correspondingBackstackIndex", ">", "=", "0", ")", "{", "if", "(", "!", "activity", ".", "isFinishing", "(", ")", ")", "{", "updateActivityState", "(", "correspondingBackstackIndex", ",", "ActivityState", ".", "State", ".", "DESTROYED", ")", ";", "}", "else", "{", "mActivityStates", ".", "remove", "(", "correspondingBackstackIndex", ")", ";", "}", "}", "onActivityStackChanged", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "AppStateTracker", "(", "@", "NonNull", "Application", "application", ",", "@", "NonNull", "EventBus", "bus", ")", "{", "mApplication", "=", "application", ";", "mBus", "=", "bus", ";", "}", "</s>"]
["<s>", "public", "void", "trackTask", "(", "@", "NonNull", "ActivityManager", ".", "RecentTaskInfo", "taskToTrack", ")", "{", "mTaskToTrack", "=", "taskToTrack", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "taskToTrack", ".", "id", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "taskToTrack", ".", "origActivity", ")", ";", "if", "(", "null", "!", "=", "mTaskToTrack", ".", "origActivity", ")", "{", "mActivityStates", ".", "add", "(", "new", "ActivityState", "(", "mTaskToTrack", ".", "origActivity", ".", "getClassName", "(", ")", ",", "ActivityState", ".", "State", ".", "CREATED", ")", ")", ";", "}", "mApplication", ".", "registerActivityLifecycleCallbacks", "(", "mActivityLifecycleCallback", ")", ";", "}", "</s>"]
["<s>", "public", "List", "<", "ActivityState", ">", "getActivityStates", "(", ")", "{", "return", "mActivityStates", ";", "}", "</s>"]
["<s>", "public", "List", "<", "ServiceState", ">", "getServiceStates", "(", ")", "{", "ActivityManager", "activityManager", "=", "(", "ActivityManager", ")", "mApplication", ".", "getSystemService", "(", "Context", ".", "ACTIVITY_SERVICE", ")", ";", "List", "<", "ActivityManager", ".", "RunningServiceInfo", ">", "runningServices", "=", "activityManager", ".", "getRunningServices", "(", "<NUM_LIT:100>", ")", ";", "List", "<", "ServiceState", ">", "serviceStates", "=", "new", "ArrayList", "<", ">", "(", "runningServices", ".", "size", "(", ")", ")", ";", "for", "(", "ActivityManager", ".", "RunningServiceInfo", "runningServiceInfo", ":", "runningServices", ")", "{", "if", "(", "runningServiceInfo", ".", "pid", "=", "=", "android", ".", "os", ".", "Process", ".", "myPid", "(", ")", ")", "{", "serviceStates", ".", "add", "(", "new", "ServiceState", "(", "runningServiceInfo", ".", "service", ".", "getShortClassName", "(", ")", ")", ")", ";", "}", "}", "return", "serviceStates", ";", "}", "</s>"]
["<s>", "private", "int", "findFirstInBackStack", "(", "@", "NonNull", "String", "activityName", ",", "@", "NonNull", "ActivityState", ".", "State", ".", ".", ".", "statesToFind", ")", "{", "ActivityState", "activityState", ";", "for", "(", "int", "i", "=", "mActivityStates", ".", "size", "(", ")", "-", "1", ";", "i", ">", "=", "0", ";", "-", "-", "i", ")", "{", "activityState", "=", "mActivityStates", ".", "get", "(", "i", ")", ";", "if", "(", "activityState", ".", "getActivityName", "(", ")", ".", "equals", "(", "activityName", ")", ")", "{", "for", "(", "int", "j", "=", "0", ";", "j", "<", "statesToFind", ".", "length", ";", "+", "+", "j", ")", "{", "if", "(", "statesToFind", "[", "j", "]", "=", "=", "activityState", ".", "getState", "(", ")", ")", "{", "return", "i", ";", "}", "}", "}", "}", "return", "-", "1", ";", "}", "</s>"]
["<s>", "private", "int", "findLastInBackStack", "(", "@", "NonNull", "String", "activityName", ",", "@", "NonNull", "ActivityState", ".", "State", ".", ".", ".", "statesToFind", ")", "{", "ActivityState", "activityState", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "mActivityStates", ".", "size", "(", ")", ";", "+", "+", "i", ")", "{", "activityState", "=", "mActivityStates", ".", "get", "(", "i", ")", ";", "if", "(", "activityState", ".", "getActivityName", "(", ")", ".", "equals", "(", "activityName", ")", ")", "{", "for", "(", "int", "j", "=", "0", ";", "j", "<", "statesToFind", ".", "length", ";", "+", "+", "j", ")", "{", "if", "(", "statesToFind", "[", "j", "]", "=", "=", "activityState", ".", "getState", "(", ")", ")", "{", "return", "i", ";", "}", "}", "}", "}", "return", "-", "1", ";", "}", "</s>"]
["<s>", "private", "void", "updateActivityState", "(", "int", "index", ",", "ActivityState", ".", "State", "newState", ")", "{", "ActivityState", "activityState", "=", "mActivityStates", ".", "remove", "(", "index", ")", ";", "mActivityStates", ".", "add", "(", "index", ",", "new", "ActivityState", "(", "activityState", ".", "getActivityName", "(", ")", ",", "newState", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "onActivityStackChanged", "(", ")", "{", "logStack", "(", ")", ";", "mBus", ".", "postSticky", "(", "new", "ActivityStackChangeEvent", "(", "mActivityStates", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "logStack", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "ActivityState", "activityState", ";", "for", "(", "int", "i", "=", "mActivityStates", ".", "size", "(", ")", "-", "1", ";", "i", ">", "=", "0", ";", "-", "-", "i", ")", "{", "activityState", "=", "mActivityStates", ".", "get", "(", "i", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "\"", "+", "i", "+", "\"", "<STR_LIT>", "\"", "+", "activityState", ".", "getActivityName", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "activityState", ".", "getState", "(", ")", ")", ";", "}", "Log", ".", "d", "(", "TAG", ",", "\"", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "ActivityState", "(", "@", "NonNull", "String", "name", ",", "@", "NonNull", "State", "state", ")", "{", "mActivityName", "=", "name", ";", "mState", "=", "state", ";", "}", "</s>"]
["<s>", "public", "String", "getActivityName", "(", ")", "{", "return", "mActivityName", ";", "}", "</s>"]
["<s>", "public", "State", "getState", "(", ")", "{", "return", "mState", ";", "}", "</s>"]
["<s>", "public", "ServiceState", "(", "@", "NonNull", "String", "serviceName", ")", "{", "mServiceName", "=", "serviceName", ";", "}", "</s>"]
["<s>", "public", "String", "getServiceName", "(", ")", "{", "return", "mServiceName", ";", "}", "</s>"]
["<s>", "public", "ActivityStackChangeEvent", "(", "List", "<", "ActivityState", ">", "backstack", ")", "{", "mBackstack", "=", "backstack", ";", "}", "</s>"]
["<s>", "public", "List", "<", "ActivityState", ">", "getActivityStack", "(", ")", "{", "return", "mBackstack", ";", "}", "</s>"]
["<s>", "public", "AppStateAdapter", "(", "@", "NonNull", "HoverTheme", "theme", ")", "{", "mTheme", "=", "theme", ";", "}", "</s>"]
["<s>", "public", "void", "setTheme", "(", "@", "NonNull", "HoverTheme", "theme", ")", "{", "mTheme", "=", "theme", ";", "notifyDataSetChanged", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setActivityStates", "(", "List", "<", "AppStateTracker", ".", "ActivityState", ">", "activityStates", ")", "{", "mActivityStates", ".", "clear", "(", ")", ";", "mActivityStates", ".", "addAll", "(", "activityStates", ")", ";", "notifyDataSetChanged", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setServiceStates", "(", "List", "<", "AppStateTracker", ".", "ServiceState", ">", "serviceStates", ")", "{", "mServiceStates", ".", "clear", "(", ")", ";", "mServiceStates", ".", "addAll", "(", "serviceStates", ")", ";", "notifyDataSetChanged", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemViewType", "(", "int", "position", ")", "{", "if", "(", "0", "=", "=", "position", ")", "{", "return", "VIEW_TYPE_HEADER", ";", "}", "else", "if", "(", "position", "<", "=", "mActivityStates", ".", "size", "(", ")", ")", "{", "return", "VIEW_TYPE_ACTIVITY", ";", "}", "else", "if", "(", "position", "=", "=", "mActivityStates", ".", "size", "(", ")", "+", "1", ")", "{", "return", "VIEW_TYPE_HEADER", ";", "}", "else", "{", "return", "VIEW_TYPE_SERVICE", ";", "}", "}", "</s>"]
["<s>", "public", "Object", "getItem", "(", "int", "position", ")", "{", "if", "(", "0", "=", "=", "position", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "else", "if", "(", "position", "<", "=", "mActivityStates", ".", "size", "(", ")", ")", "{", "return", "mActivityStates", ".", "get", "(", "mActivityStates", ".", "size", "(", ")", "-", "(", "position", "-", "1", ")", "-", "1", ")", ";", "}", "else", "if", "(", "position", "=", "=", "mActivityStates", ".", "size", "(", ")", "+", "1", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "else", "{", "int", "index", "=", "position", "-", "mActivityStates", ".", "size", "(", ")", "-", "<NUM_LIT:2>", ";", "return", "mServiceStates", ".", "get", "(", "index", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "return", "<NUM_LIT:2>", "+", "mActivityStates", ".", "size", "(", ")", "+", "mServiceStates", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "RecyclerView", ".", "ViewHolder", "onCreateViewHolder", "(", "ViewGroup", "parent", ",", "int", "viewType", ")", "{", "TextView", "view", ";", "switch", "(", "viewType", ")", "{", "case", "VIEW_TYPE_HEADER", ":", "view", "=", "(", "TextView", ")", "LayoutInflater", ".", "from", "(", "parent", ".", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_app_state_header", ",", "parent", ",", "false", ")", ".", "findViewById", "(", "R", ".", "id", ".", "textview_header", ")", ";", "return", "new", "HeaderViewHolder", "(", "view", ")", ";", "case", "VIEW_TYPE_ACTIVITY", ":", "view", "=", "(", "TextView", ")", "LayoutInflater", ".", "from", "(", "parent", ".", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_activity_state", ",", "parent", ",", "false", ")", ".", "findViewById", "(", "R", ".", "id", ".", "textview_activity_state", ")", ";", "return", "new", "ActivityStateViewHolder", "(", "view", ")", ";", "case", "VIEW_TYPE_SERVICE", ":", "view", "=", "(", "TextView", ")", "LayoutInflater", ".", "from", "(", "parent", ".", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_activity_state", ",", "parent", ",", "false", ")", ".", "findViewById", "(", "R", ".", "id", ".", "textview_activity_state", ")", ";", "return", "new", "ServiceStateViewHolder", "(", "view", ")", ";", "default", ":", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "RecyclerView", ".", "ViewHolder", "holder", ",", "int", "position", ")", "{", "switch", "(", "getItemViewType", "(", "position", ")", ")", "{", "case", "VIEW_TYPE_HEADER", ":", "(", "(", "HeaderViewHolder", ")", "holder", ")", ".", "setHeader", "(", "(", "String", ")", "getItem", "(", "position", ")", ",", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "break", ";", "case", "VIEW_TYPE_ACTIVITY", ":", "(", "(", "ActivityStateViewHolder", ")", "holder", ")", ".", "setActivityState", "(", "(", "AppStateTracker", ".", "ActivityState", ")", "getItem", "(", "position", ")", ")", ";", "break", ";", "case", "VIEW_TYPE_SERVICE", ":", "(", "(", "ServiceStateViewHolder", ")", "holder", ")", ".", "setServiceState", "(", "(", "AppStateTracker", ".", "ServiceState", ")", "getItem", "(", "position", ")", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "public", "HeaderViewHolder", "(", "TextView", "itemView", ")", "{", "super", "(", "itemView", ")", ";", "mView", "=", "itemView", ";", "}", "</s>"]
["<s>", "public", "void", "setHeader", "(", "@", "NonNull", "String", "header", ",", "@", "ColorInt", "int", "textColor", ")", "{", "mView", ".", "setText", "(", "header", ")", ";", "mView", ".", "setTextColor", "(", "textColor", ")", ";", "}", "</s>"]
["<s>", "public", "ActivityStateViewHolder", "(", "TextView", "itemView", ")", "{", "super", "(", "itemView", ")", ";", "mView", "=", "itemView", ";", "}", "</s>"]
["<s>", "public", "void", "setActivityState", "(", "@", "NonNull", "AppStateTracker", ".", "ActivityState", "activityState", ")", "{", "switch", "(", "activityState", ".", "getState", "(", ")", ")", "{", "case", "CREATED", ":", "case", "STOPPED", ":", "mView", ".", "setBackgroundDrawable", "(", "ContextCompat", ".", "getDrawable", "(", "mView", ".", "getContext", "(", ")", ",", "R", ".", "drawable", ".", "rounded_rect_red", ")", ")", ";", "break", ";", "case", "STARTED", ":", "case", "PAUSED", ":", "mView", ".", "setBackgroundDrawable", "(", "ContextCompat", ".", "getDrawable", "(", "mView", ".", "getContext", "(", ")", ",", "R", ".", "drawable", ".", "rounded_rect_yellow", ")", ")", ";", "break", ";", "case", "RESUMED", ":", "mView", ".", "setBackgroundDrawable", "(", "ContextCompat", ".", "getDrawable", "(", "mView", ".", "getContext", "(", ")", ",", "R", ".", "drawable", ".", "rounded_rect_green", ")", ")", ";", "break", ";", "case", "DESTROYED", ":", "mView", ".", "setBackgroundDrawable", "(", "ContextCompat", ".", "getDrawable", "(", "mView", ".", "getContext", "(", ")", ",", "R", ".", "drawable", ".", "rounded_rect_dark_gray", ")", ")", ";", "break", ";", "}", "mView", ".", "setText", "(", "activityState", ".", "getActivityName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "ServiceStateViewHolder", "(", "TextView", "itemView", ")", "{", "super", "(", "itemView", ")", ";", "mView", "=", "itemView", ";", "}", "</s>"]
["<s>", "public", "void", "setServiceState", "(", "@", "NonNull", "AppStateTracker", ".", "ServiceState", "serviceState", ")", "{", "mView", ".", "setBackgroundDrawable", "(", "ContextCompat", ".", "getDrawable", "(", "mView", ".", "getContext", "(", ")", ",", "R", ".", "drawable", ".", "rounded_rect_green", ")", ")", ";", "mView", ".", "setText", "(", "serviceState", ".", "getServiceName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "PlaceholderContent", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "EventBus", "bus", ")", "{", "super", "(", "context", ")", ";", "mBus", "=", "bus", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "LayoutInflater", ".", "from", "(", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_placeholder_content", ",", "this", ",", "true", ")", ";", "mTitleTextView", "=", "(", "TextView", ")", "findViewById", "(", "R", ".", "id", ".", "textview_title", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onAttachedToWindow", "(", ")", "{", "super", ".", "onAttachedToWindow", "(", ")", ";", "mBus", ".", "registerSticky", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDetachedFromWindow", "(", ")", "{", "mBus", ".", "unregister", "(", "this", ")", ";", "super", ".", "onDetachedFromWindow", "(", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "View", "getView", "(", ")", "{", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isFullscreen", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onShown", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onHidden", "(", ")", "{", "}", "</s>"]
["<s>", "public", "void", "onEventMainThread", "(", "@", "NonNull", "HoverTheme", "newTheme", ")", "{", "mTitleTextView", ".", "setTextColor", "(", "newTheme", ".", "getAccentColor", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "ColorSelectionContent", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "EventBus", "bus", ",", "@", "NonNull", "HoverThemer", "hoverThemer", ",", "@", "NonNull", "HoverTheme", "theme", ")", "{", "super", "(", "context", ")", ";", "mBus", "=", "bus", ";", "mHoverThemer", "=", "hoverThemer", ";", "mTheme", "=", "theme", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "LayoutInflater", ".", "from", "(", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "view_color_selection_content", ",", "this", ",", "true", ")", ";", "mTabLayout", "=", "(", "TabLayout", ")", "findViewById", "(", "R", ".", "id", ".", "tablayout", ")", ";", "mColorPicker", "=", "(", "ColorPicker", ")", "findViewById", "(", "R", ".", "id", ".", "colorpicker", ")", ";", "mAttributionTextView", "=", "(", "TextView", ")", "findViewById", "(", "R", ".", "id", ".", "textview_attribution", ")", ";", "mTabLayout", ".", "addTab", "(", "mTabLayout", ".", "newTab", "(", ")", ".", "setText", "(", "\"", "<STR_LIT>", "\"", ")", ",", "true", ")", ";", "mTabLayout", ".", "addTab", "(", "mTabLayout", ".", "newTab", "(", ")", ".", "setText", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "mTabLayout", ".", "setOnTabSelectedListener", "(", "new", "TabLayout", ".", "OnTabSelectedListener", "(", ")", "{", "@", "Override", "public", "void", "onTabSelected", "(", "TabLayout", ".", "Tab", "tab", ")", "{", "switch", "(", "tab", ".", "getPosition", "(", ")", ")", "{", "case", "0", ":", "mMode", "=", "MODE_ACCENT", ";", "mColorPicker", ".", "setColor", "(", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "mColorPicker", ".", "setNewCenterColor", "(", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "mColorPicker", ".", "setOldCenterColor", "(", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "break", ";", "case", "1", ":", "mMode", "=", "MODE_BASE", ";", "mColorPicker", ".", "setColor", "(", "mTheme", ".", "getBaseColor", "(", ")", ")", ";", "mColorPicker", ".", "setNewCenterColor", "(", "mTheme", ".", "getBaseColor", "(", ")", ")", ";", "mColorPicker", ".", "setOldCenterColor", "(", "mTheme", ".", "getBaseColor", "(", ")", ")", ";", "break", ";", "}", "}", "@", "Override", "public", "void", "onTabUnselected", "(", "TabLayout", ".", "Tab", "tab", ")", "{", "}", "@", "Override", "public", "void", "onTabReselected", "(", "TabLayout", ".", "Tab", "tab", ")", "{", "}", "}", ")", ";", "mColorPicker", ".", "setColor", "(", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "mColorPicker", ".", "setNewCenterColor", "(", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "mColorPicker", ".", "setOldCenterColor", "(", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "mColorPicker", ".", "addSaturationBar", "(", "(", "SaturationBar", ")", "findViewById", "(", "R", ".", "id", ".", "saturationbar", ")", ")", ";", "mColorPicker", ".", "addValueBar", "(", "(", "ValueBar", ")", "findViewById", "(", "R", ".", "id", ".", "valuebar", ")", ")", ";", "mColorPicker", ".", "setOnColorChangedListener", "(", "new", "ColorPicker", ".", "OnColorChangedListener", "(", ")", "{", "@", "Override", "public", "void", "onColorChanged", "(", "int", "color", ")", "{", "HoverTheme", "theme", ";", "if", "(", "MODE_ACCENT", "=", "=", "mMode", ")", "{", "theme", "=", "new", "HoverTheme", "(", "color", ",", "mTheme", ".", "getBaseColor", "(", ")", ")", ";", "}", "else", "{", "theme", "=", "new", "HoverTheme", "(", "mTheme", ".", "getAccentColor", "(", ")", ",", "color", ")", ";", "}", "mHoverThemer", ".", "setTheme", "(", "theme", ")", ";", "}", "}", ")", ";", "updateView", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onTabSelected", "(", "TabLayout", ".", "Tab", "tab", ")", "{", "switch", "(", "tab", ".", "getPosition", "(", ")", ")", "{", "case", "0", ":", "mMode", "=", "MODE_ACCENT", ";", "mColorPicker", ".", "setColor", "(", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "mColorPicker", ".", "setNewCenterColor", "(", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "mColorPicker", ".", "setOldCenterColor", "(", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "break", ";", "case", "1", ":", "mMode", "=", "MODE_BASE", ";", "mColorPicker", ".", "setColor", "(", "mTheme", ".", "getBaseColor", "(", ")", ")", ";", "mColorPicker", ".", "setNewCenterColor", "(", "mTheme", ".", "getBaseColor", "(", ")", ")", ";", "mColorPicker", ".", "setOldCenterColor", "(", "mTheme", ".", "getBaseColor", "(", ")", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onTabUnselected", "(", "TabLayout", ".", "Tab", "tab", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onTabReselected", "(", "TabLayout", ".", "Tab", "tab", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onColorChanged", "(", "int", "color", ")", "{", "HoverTheme", "theme", ";", "if", "(", "MODE_ACCENT", "=", "=", "mMode", ")", "{", "theme", "=", "new", "HoverTheme", "(", "color", ",", "mTheme", ".", "getBaseColor", "(", ")", ")", ";", "}", "else", "{", "theme", "=", "new", "HoverTheme", "(", "mTheme", ".", "getAccentColor", "(", ")", ",", "color", ")", ";", "}", "mHoverThemer", ".", "setTheme", "(", "theme", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onAttachedToWindow", "(", ")", "{", "super", ".", "onAttachedToWindow", "(", ")", ";", "mBus", ".", "register", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDetachedFromWindow", "(", ")", "{", "mBus", ".", "unregister", "(", "this", ")", ";", "super", ".", "onDetachedFromWindow", "(", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "View", "getView", "(", ")", "{", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isFullscreen", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onShown", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onHidden", "(", ")", "{", "}", "</s>"]
["<s>", "public", "void", "onEventMainThread", "(", "@", "NonNull", "HoverTheme", "newTheme", ")", "{", "mTheme", "=", "newTheme", ";", "updateView", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "updateView", "(", ")", "{", "mTabLayout", ".", "setSelectedTabIndicatorColor", "(", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "mTabLayout", ".", "setTabTextColors", "(", "<NUM_LIT>", ",", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "mAttributionTextView", ".", "setTextColor", "(", "mTheme", ".", "getAccentColor", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuLaunched", "(", "@", "NonNull", "Intent", "intent", ",", "@", "NonNull", "HoverView", "hoverView", ")", "{", "hoverView", ".", "setMenu", "(", "createHoverMenu", "(", ")", ")", ";", "hoverView", ".", "collapse", "(", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "private", "HoverMenu", "createHoverMenu", "(", ")", "{", "return", "new", "ReorderingSectionHoverMenu", "(", "getApplicationContext", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "moveTab", "(", "1", ",", "<NUM_LIT:2>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "moveTab", "(", "<NUM_LIT:3>", ",", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "moveTab", "(", "<NUM_LIT:2>", ",", "<NUM_LIT:3>", ")", ";", "}", "</s>"]
["<s>", "ReorderingSectionHoverMenu", "(", "@", "NonNull", "Context", "context", ")", "{", "mContext", "=", "context", ";", "insertTab", "(", "0", ")", ";", "insertTab", "(", "1", ")", ";", "insertTab", "(", "<NUM_LIT:2>", ")", ";", "insertTab", "(", "<NUM_LIT:3>", ")", ";", "new", "Handler", "(", "Looper", ".", "getMainLooper", "(", ")", ")", ".", "postDelayed", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "mMutationSteps", ".", "get", "(", "mNextStep", ")", ".", "run", "(", ")", ";", "+", "+", "mNextStep", ";", "if", "(", "mNextStep", "<", "mMutationSteps", ".", "size", "(", ")", ")", "{", "new", "Handler", "(", "Looper", ".", "getMainLooper", "(", ")", ")", ".", "postDelayed", "(", "this", ",", "<NUM_LIT:1000>", ")", ";", "}", "}", "}", ",", "<NUM_LIT>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "mMutationSteps", ".", "get", "(", "mNextStep", ")", ".", "run", "(", ")", ";", "+", "+", "mNextStep", ";", "if", "(", "mNextStep", "<", "mMutationSteps", ".", "size", "(", ")", ")", "{", "new", "Handler", "(", "Looper", ".", "getMainLooper", "(", ")", ")", ".", "postDelayed", "(", "this", ",", "<NUM_LIT:1000>", ")", ";", "}", "}", "</s>"]
["<s>", "private", "View", "createTabView", "(", ")", "{", "ImageView", "imageView", "=", "new", "ImageView", "(", "mContext", ")", ";", "imageView", ".", "setImageResource", "(", "R", ".", "drawable", ".", "tab_background", ")", ";", "imageView", ".", "setScaleType", "(", "ImageView", ".", "ScaleType", ".", "FIT_CENTER", ")", ";", "return", "imageView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getId", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSectionCount", "(", ")", "{", "return", "mSections", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "int", "index", ")", "{", "return", "mSections", ".", "get", "(", "index", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "@", "NonNull", "SectionId", "sectionId", ")", "{", "for", "(", "Section", "section", ":", "mSections", ")", "{", "if", "(", "section", ".", "getId", "(", ")", ".", "equals", "(", "sectionId", ")", ")", "{", "return", "section", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "List", "<", "Section", ">", "getSections", "(", ")", "{", "return", "new", "ArrayList", "<", ">", "(", "mSections", ")", ";", "}", "</s>"]
["<s>", "private", "void", "insertTab", "(", "int", "position", ")", "{", "String", "id", "=", "Integer", ".", "toString", "(", "mSections", ".", "size", "(", ")", ")", ";", "mSections", ".", "add", "(", "position", ",", "new", "Section", "(", "new", "SectionId", "(", "id", ")", ",", "createTabView", "(", ")", ",", "new", "HoverMenuScreen", "(", "mContext", ",", "\"", "<STR_LIT>", "\"", "+", "id", ")", ")", ")", ";", "notifyMenuChanged", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "moveTab", "(", "int", "startPosition", ",", "int", "endPosition", ")", "{", "Section", "section", "=", "mSections", ".", "remove", "(", "startPosition", ")", ";", "mSections", ".", "add", "(", "endPosition", ",", "section", ")", ";", "notifyMenuChanged", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "setMenu", "(", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "setMenu", "(", "mMenu", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "expand", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "setMenu", "(", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "setMenu", "(", "mMenu", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "collapse", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "expand", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuLaunched", "(", "@", "NonNull", "Intent", "intent", ",", "@", "NonNull", "HoverView", "hoverView", ")", "{", "hoverView", ".", "setMenu", "(", "createHoverMenu", "(", ")", ")", ";", "hoverView", ".", "collapse", "(", ")", ";", "mHandler", ".", "postDelayed", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "transitionToNextState", "(", ")", ";", "mHandler", ".", "postDelayed", "(", "this", ",", "<NUM_LIT>", ")", ";", "}", "}", ",", "<NUM_LIT>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "transitionToNextState", "(", ")", ";", "mHandler", ".", "postDelayed", "(", "this", ",", "<NUM_LIT>", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "private", "HoverMenu", "createHoverMenu", "(", ")", "{", "mMenu", "=", "new", "SingleSectionHoverMenu", "(", "getApplicationContext", "(", ")", ")", ";", "return", "mMenu", ";", "}", "</s>"]
["<s>", "private", "void", "transitionToNextState", "(", ")", "{", "mStateTransitions", ".", "get", "(", "mNextStateTransition", ")", ".", "run", "(", ")", ";", "mNextStateTransition", "=", "mNextStateTransition", "<", "mStateTransitions", ".", "size", "(", ")", "-", "1", "?", "mNextStateTransition", "+", "1", ":", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuExitingByUserRequest", "(", ")", "{", "mHandler", ".", "removeCallbacksAndMessages", "(", "null", ")", ";", "}", "</s>"]
["<s>", "private", "SingleSectionHoverMenu", "(", "@", "NonNull", "Context", "context", ")", "{", "mContext", "=", "context", ";", "mSection", "=", "new", "Section", "(", "new", "SectionId", "(", "\"", "<STR_LIT:1>", "\"", ")", ",", "createTabView", "(", ")", ",", "createScreen", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "View", "createTabView", "(", ")", "{", "ImageView", "imageView", "=", "new", "ImageView", "(", "mContext", ")", ";", "imageView", ".", "setImageResource", "(", "R", ".", "drawable", ".", "tab_background", ")", ";", "imageView", ".", "setScaleType", "(", "ImageView", ".", "ScaleType", ".", "CENTER_INSIDE", ")", ";", "return", "imageView", ";", "}", "</s>"]
["<s>", "private", "Content", "createScreen", "(", ")", "{", "return", "new", "HoverMenuScreen", "(", "mContext", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getId", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSectionCount", "(", ")", "{", "return", "1", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "int", "index", ")", "{", "if", "(", "0", "=", "=", "index", ")", "{", "return", "mSection", ";", "}", "else", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "@", "NonNull", "SectionId", "sectionId", ")", "{", "if", "(", "sectionId", ".", "equals", "(", "mSection", ".", "getId", "(", ")", ")", ")", "{", "return", "mSection", ";", "}", "else", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "List", "<", "Section", ">", "getSections", "(", ")", "{", "return", "Collections", ".", "singletonList", "(", "mSection", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_main", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button_launch_hover_single_section", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "SingleSectionHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "}", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button_launch_hover_multi_sections", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "MultipleSectionsHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "}", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button_launch_hover_foreground", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "SingleSectionNotificationHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "}", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button_launch_hover_changing_sections", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "MutatingSectionsHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "}", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button_launch_hover_reordering_sections", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "ReorderingHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "}", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button_launch_hover_all_states", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "AllStatesHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "}", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button_launch_hover_changing_menus", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "ChangingMenusHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "}", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button_launch_hover_menu_then_no_menu", ")", ".", "setOnClickListener", "(", "new", "View", ".", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "MenuThenNoMenuHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "SingleSectionHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "MultipleSectionsHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "SingleSectionNotificationHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "MutatingSectionsHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "ReorderingHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "AllStatesHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "ChangingMenusHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "view", ")", "{", "Intent", "startHoverIntent", "=", "new", "Intent", "(", "MainActivity", ".", "this", ",", "MenuThenNoMenuHoverMenuService", ".", "class", ")", ";", "startService", "(", "startHoverIntent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onResume", "(", ")", "{", "super", ".", "onResume", "(", ")", ";", "if", "(", "!", "mPermissionsRequested", "&", "&", "!", "OverlayPermission", ".", "hasRuntimePermissionToDrawOverlay", "(", "this", ")", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Intent", "myIntent", "=", "OverlayPermission", ".", "createIntentToRequestOverlayPermission", "(", "this", ")", ";", "startActivityForResult", "(", "myIntent", ",", "REQUEST_CODE_HOVER_PERMISSION", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onActivityResult", "(", "int", "requestCode", ",", "int", "resultCode", ",", "Intent", "data", ")", "{", "if", "(", "REQUEST_CODE_HOVER_PERMISSION", "=", "=", "requestCode", ")", "{", "mPermissionsRequested", "=", "true", ";", "}", "else", "{", "super", ".", "onActivityResult", "(", "requestCode", ",", "resultCode", ",", "data", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuLaunched", "(", "@", "NonNull", "Intent", "intent", ",", "@", "NonNull", "HoverView", "hoverView", ")", "{", "hoverView", ".", "setMenu", "(", "createHoverMenu", "(", ")", ")", ";", "hoverView", ".", "collapse", "(", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "private", "HoverMenu", "createHoverMenu", "(", ")", "{", "return", "new", "MutatingHoverMenu", "(", "getApplicationContext", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "insertTab", "(", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "insertTab", "(", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "insertTab", "(", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "insertTab", "(", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "insertTab", "(", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "removeTab", "(", "<NUM_LIT:3>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "removeTab", "(", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "removeTab", "(", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "changeTab", "(", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "removeTab", "(", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "changeTab", "(", "0", ")", ";", "}", "</s>"]
["<s>", "MutatingHoverMenu", "(", "@", "NonNull", "Context", "context", ")", "{", "mContext", "=", "context", ";", "insertTab", "(", "0", ")", ";", "new", "Handler", "(", "Looper", ".", "getMainLooper", "(", ")", ")", ".", "postDelayed", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "mMutationSteps", ".", "get", "(", "mNextStep", ")", ".", "run", "(", ")", ";", "+", "+", "mNextStep", ";", "if", "(", "mNextStep", "<", "mMutationSteps", ".", "size", "(", ")", ")", "{", "new", "Handler", "(", "Looper", ".", "getMainLooper", "(", ")", ")", ".", "postDelayed", "(", "this", ",", "<NUM_LIT:1000>", ")", ";", "}", "}", "}", ",", "<NUM_LIT>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "mMutationSteps", ".", "get", "(", "mNextStep", ")", ".", "run", "(", ")", ";", "+", "+", "mNextStep", ";", "if", "(", "mNextStep", "<", "mMutationSteps", ".", "size", "(", ")", ")", "{", "new", "Handler", "(", "Looper", ".", "getMainLooper", "(", ")", ")", ".", "postDelayed", "(", "this", ",", "<NUM_LIT:1000>", ")", ";", "}", "}", "</s>"]
["<s>", "private", "View", "createTabView", "(", ")", "{", "ImageView", "imageView", "=", "new", "ImageView", "(", "mContext", ")", ";", "imageView", ".", "setImageResource", "(", "R", ".", "drawable", ".", "tab_background", ")", ";", "imageView", ".", "setScaleType", "(", "ImageView", ".", "ScaleType", ".", "FIT_CENTER", ")", ";", "return", "imageView", ";", "}", "</s>"]
["<s>", "private", "View", "createDifferentTabView", "(", ")", "{", "ImageView", "imageView", "=", "new", "ImageView", "(", "mContext", ")", ";", "imageView", ".", "setImageResource", "(", "R", ".", "drawable", ".", "tab_background_blue", ")", ";", "imageView", ".", "setScaleType", "(", "ImageView", ".", "ScaleType", ".", "FIT_CENTER", ")", ";", "return", "imageView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getId", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSectionCount", "(", ")", "{", "return", "mSections", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "int", "index", ")", "{", "return", "mSections", ".", "get", "(", "index", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "@", "NonNull", "SectionId", "sectionId", ")", "{", "for", "(", "Section", "section", ":", "mSections", ")", "{", "if", "(", "section", ".", "getId", "(", ")", ".", "equals", "(", "sectionId", ")", ")", "{", "return", "section", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "List", "<", "Section", ">", "getSections", "(", ")", "{", "return", "new", "ArrayList", "<", ">", "(", "mSections", ")", ";", "}", "</s>"]
["<s>", "private", "void", "insertTab", "(", "int", "position", ")", "{", "String", "id", "=", "Integer", ".", "toString", "(", "mSections", ".", "size", "(", ")", ")", ";", "mSections", ".", "add", "(", "position", ",", "new", "Section", "(", "new", "SectionId", "(", "id", ")", ",", "createTabView", "(", ")", ",", "new", "HoverMenuScreen", "(", "mContext", ",", "\"", "<STR_LIT>", "\"", "+", "id", ")", ")", ")", ";", "notifyMenuChanged", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "changeTab", "(", "int", "position", ")", "{", "Section", "oldSection", "=", "mSections", ".", "get", "(", "position", ")", ";", "Section", "newSection", "=", "new", "Section", "(", "oldSection", ".", "getId", "(", ")", ",", "createDifferentTabView", "(", ")", ",", "new", "HoverMenuScreen", "(", "mContext", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "mSections", ".", "remove", "(", "position", ")", ";", "mSections", ".", "add", "(", "position", ",", "newSection", ")", ";", "notifyMenuChanged", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "removeTab", "(", "int", "position", ")", "{", "mSections", ".", "remove", "(", "position", ")", ";", "notifyMenuChanged", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuLaunched", "(", "@", "NonNull", "Intent", "intent", ",", "@", "NonNull", "HoverView", "hoverView", ")", "{", "hoverView", ".", "setMenu", "(", "createHoverMenu", "(", ")", ")", ";", "hoverView", ".", "collapse", "(", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "private", "HoverMenu", "createHoverMenu", "(", ")", "{", "return", "new", "SingleSectionHoverMenu", "(", "getApplicationContext", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "SingleSectionHoverMenu", "(", "@", "NonNull", "Context", "context", ")", "{", "mContext", "=", "context", ";", "mSection", "=", "new", "Section", "(", "new", "SectionId", "(", "\"", "<STR_LIT:1>", "\"", ")", ",", "createTabView", "(", ")", ",", "createScreen", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "View", "createTabView", "(", ")", "{", "ImageView", "imageView", "=", "new", "ImageView", "(", "mContext", ")", ";", "imageView", ".", "setImageResource", "(", "R", ".", "drawable", ".", "tab_background", ")", ";", "imageView", ".", "setScaleType", "(", "ImageView", ".", "ScaleType", ".", "CENTER_INSIDE", ")", ";", "return", "imageView", ";", "}", "</s>"]
["<s>", "private", "Content", "createScreen", "(", ")", "{", "return", "new", "HoverMenuScreen", "(", "mContext", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getId", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSectionCount", "(", ")", "{", "return", "1", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "int", "index", ")", "{", "if", "(", "0", "=", "=", "index", ")", "{", "return", "mSection", ";", "}", "else", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "@", "NonNull", "SectionId", "sectionId", ")", "{", "if", "(", "sectionId", ".", "equals", "(", "mSection", ".", "getId", "(", ")", ")", ")", "{", "return", "mSection", ";", "}", "else", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "List", "<", "Section", ">", "getSections", "(", ")", "{", "return", "Collections", ".", "singletonList", "(", "mSection", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "expand", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "collapse", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "collapse", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "expand", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "getHoverView", "(", ")", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuLaunched", "(", "@", "NonNull", "Intent", "intent", ",", "@", "NonNull", "HoverView", "hoverView", ")", "{", "hoverView", ".", "setMenu", "(", "createHoverMenu", "(", ")", ")", ";", "mHandler", ".", "postDelayed", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "transitionToNextState", "(", ")", ";", "mHandler", ".", "postDelayed", "(", "this", ",", "<NUM_LIT>", ")", ";", "}", "}", ",", "<NUM_LIT>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "transitionToNextState", "(", ")", ";", "mHandler", ".", "postDelayed", "(", "this", ",", "<NUM_LIT>", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "private", "HoverMenu", "createHoverMenu", "(", ")", "{", "return", "new", "SingleSectionHoverMenu", "(", "getApplicationContext", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "transitionToNextState", "(", ")", "{", "mStateTransitions", ".", "get", "(", "mNextStateTransition", ")", ".", "run", "(", ")", ";", "mNextStateTransition", "=", "mNextStateTransition", "<", "mStateTransitions", ".", "size", "(", ")", "-", "1", "?", "mNextStateTransition", "+", "1", ":", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuExitingByUserRequest", "(", ")", "{", "mHandler", ".", "removeCallbacksAndMessages", "(", "null", ")", ";", "}", "</s>"]
["<s>", "private", "SingleSectionHoverMenu", "(", "@", "NonNull", "Context", "context", ")", "{", "mContext", "=", "context", ";", "mSection", "=", "new", "Section", "(", "new", "SectionId", "(", "\"", "<STR_LIT:1>", "\"", ")", ",", "createTabView", "(", ")", ",", "createScreen", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "View", "createTabView", "(", ")", "{", "ImageView", "imageView", "=", "new", "ImageView", "(", "mContext", ")", ";", "imageView", ".", "setImageResource", "(", "R", ".", "drawable", ".", "tab_background", ")", ";", "imageView", ".", "setScaleType", "(", "ImageView", ".", "ScaleType", ".", "CENTER_INSIDE", ")", ";", "return", "imageView", ";", "}", "</s>"]
["<s>", "private", "Content", "createScreen", "(", ")", "{", "return", "new", "HoverMenuScreen", "(", "mContext", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getId", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSectionCount", "(", ")", "{", "return", "1", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "int", "index", ")", "{", "if", "(", "0", "=", "=", "index", ")", "{", "return", "mSection", ";", "}", "else", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "@", "NonNull", "SectionId", "sectionId", ")", "{", "if", "(", "sectionId", ".", "equals", "(", "mSection", ".", "getId", "(", ")", ")", ")", "{", "return", "mSection", ";", "}", "else", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "List", "<", "Section", ">", "getSections", "(", ")", "{", "return", "Collections", ".", "singletonList", "(", "mSection", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "mHoverMenu1", "=", "new", "SingleSectionHoverMenu", "(", "getApplicationContext", "(", ")", ",", "\"", "<STR_LIT>", "\"", ",", "1", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mHoverMenu2", "=", "new", "SingleSectionHoverMenu", "(", "getApplicationContext", "(", ")", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT:3>", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuLaunched", "(", "@", "NonNull", "Intent", "intent", ",", "@", "NonNull", "HoverView", "hoverView", ")", "{", "hoverView", ".", "setMenu", "(", "createHoverMenu", "(", ")", ")", ";", "hoverView", ".", "collapse", "(", ")", ";", "mHandler", ".", "postDelayed", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "switchMenus", "(", ")", ";", "mHandler", ".", "postDelayed", "(", "this", ",", "<NUM_LIT>", ")", ";", "}", "}", ",", "<NUM_LIT>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "switchMenus", "(", ")", ";", "mHandler", ".", "postDelayed", "(", "this", ",", "<NUM_LIT>", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "private", "HoverMenu", "createHoverMenu", "(", ")", "{", "return", "mHoverMenu1", ";", "}", "</s>"]
["<s>", "private", "void", "switchMenus", "(", ")", "{", "if", "(", "mShowingMenu1", ")", "{", "getHoverView", "(", ")", ".", "setMenu", "(", "mHoverMenu2", ")", ";", "}", "else", "{", "getHoverView", "(", ")", ".", "setMenu", "(", "mHoverMenu1", ")", ";", "}", "mShowingMenu1", "=", "!", "mShowingMenu1", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuExitingByUserRequest", "(", ")", "{", "mHandler", ".", "removeCallbacksAndMessages", "(", "null", ")", ";", "}", "</s>"]
["<s>", "private", "SingleSectionHoverMenu", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "menuId", ",", "int", "sectionCount", ",", "@", "NonNull", "String", "content", ")", "{", "mId", "=", "menuId", ";", "mContext", "=", "context", ";", "mSections", "=", "new", "ArrayList", "<", ">", "(", "sectionCount", ")", ";", "for", "(", "int", "i", "=", "1", ";", "i", "<", "=", "sectionCount", ";", "+", "+", "i", ")", "{", "mSections", ".", "add", "(", "new", "Section", "(", "new", "SectionId", "(", "Integer", ".", "toString", "(", "i", ")", ")", ",", "createTabView", "(", ")", ",", "createScreen", "(", "content", ")", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "View", "createTabView", "(", ")", "{", "ImageView", "imageView", "=", "new", "ImageView", "(", "mContext", ")", ";", "imageView", ".", "setImageResource", "(", "R", ".", "drawable", ".", "tab_background", ")", ";", "imageView", ".", "setScaleType", "(", "ImageView", ".", "ScaleType", ".", "CENTER_INSIDE", ")", ";", "return", "imageView", ";", "}", "</s>"]
["<s>", "private", "Content", "createScreen", "(", "@", "NonNull", "String", "content", ")", "{", "return", "new", "HoverMenuScreen", "(", "mContext", ",", "content", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getId", "(", ")", "{", "return", "mId", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSectionCount", "(", ")", "{", "return", "mSections", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "int", "index", ")", "{", "return", "mSections", ".", "get", "(", "index", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "@", "NonNull", "SectionId", "sectionId", ")", "{", "for", "(", "Section", "section", ":", "mSections", ")", "{", "if", "(", "sectionId", ".", "equals", "(", "section", ".", "getId", "(", ")", ")", ")", "{", "return", "section", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "List", "<", "Section", ">", "getSections", "(", ")", "{", "return", "new", "ArrayList", "<", ">", "(", "mSections", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuLaunched", "(", "@", "NonNull", "Intent", "intent", ",", "@", "NonNull", "HoverView", "hoverView", ")", "{", "hoverView", ".", "setMenu", "(", "createHoverMenu", "(", ")", ")", ";", "hoverView", ".", "collapse", "(", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "private", "HoverMenu", "createHoverMenu", "(", ")", "{", "return", "new", "MultiSectionHoverMenu", "(", "getApplicationContext", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "MultiSectionHoverMenu", "(", "@", "NonNull", "Context", "context", ")", "{", "mContext", "=", "context", ".", "getApplicationContext", "(", ")", ";", "mSections", "=", "Arrays", ".", "asList", "(", "new", "Section", "(", "new", "SectionId", "(", "\"", "<STR_LIT:1>", "\"", ")", ",", "createTabView", "(", ")", ",", "new", "HoverMenuScreen", "(", "mContext", ",", "\"", "<STR_LIT>", "\"", ")", ")", ",", "new", "Section", "(", "new", "SectionId", "(", "\"", "<STR_LIT:2>", "\"", ")", ",", "createTabView", "(", ")", ",", "new", "HoverMenuScreen", "(", "mContext", ",", "\"", "<STR_LIT>", "\"", ")", ")", ",", "new", "Section", "(", "new", "SectionId", "(", "\"", "<STR_LIT:3>", "\"", ")", ",", "createTabView", "(", ")", ",", "new", "HoverMenuScreen", "(", "mContext", ",", "\"", "<STR_LIT>", "\"", ")", ")", ")", ";", "}", "</s>"]
["<s>", "private", "View", "createTabView", "(", ")", "{", "ImageView", "imageView", "=", "new", "ImageView", "(", "mContext", ")", ";", "imageView", ".", "setImageResource", "(", "R", ".", "drawable", ".", "tab_background", ")", ";", "imageView", ".", "setScaleType", "(", "ImageView", ".", "ScaleType", ".", "CENTER_INSIDE", ")", ";", "return", "imageView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getId", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSectionCount", "(", ")", "{", "return", "mSections", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "int", "index", ")", "{", "return", "mSections", ".", "get", "(", "index", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "@", "NonNull", "SectionId", "sectionId", ")", "{", "for", "(", "Section", "section", ":", "mSections", ")", "{", "if", "(", "section", ".", "getId", "(", ")", ".", "equals", "(", "sectionId", ")", ")", "{", "return", "section", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "List", "<", "Section", ">", "getSections", "(", ")", "{", "return", "new", "ArrayList", "<", ">", "(", "mSections", ")", ";", "}", "</s>"]
["<s>", "public", "HoverMenuScreen", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "pageTitle", ")", "{", "mContext", "=", "context", ".", "getApplicationContext", "(", ")", ";", "mPageTitle", "=", "pageTitle", ";", "mWholeScreen", "=", "createScreenView", "(", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "private", "View", "createScreenView", "(", ")", "{", "TextView", "wholeScreen", "=", "new", "TextView", "(", "mContext", ")", ";", "wholeScreen", ".", "setText", "(", "\"", "<STR_LIT>", "\"", "+", "mPageTitle", ")", ";", "wholeScreen", ".", "setGravity", "(", "Gravity", ".", "CENTER", ")", ";", "return", "wholeScreen", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "View", "getView", "(", ")", "{", "return", "mWholeScreen", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isFullscreen", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onShown", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onHidden", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "protected", "int", "getForegroundNotificationId", "(", ")", "{", "return", "<NUM_LIT:1000>", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "protected", "Notification", "getForegroundNotification", "(", ")", "{", "return", "new", "NotificationCompat", ".", "Builder", "(", "this", ")", ".", "setSmallIcon", "(", "R", ".", "drawable", ".", "tab_background", ")", ".", "setContentTitle", "(", "\"", "<STR_LIT>", "\"", ")", ".", "setContentText", "(", "\"", "<STR_LIT>", "\"", ")", ".", "build", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onHoverMenuLaunched", "(", "@", "NonNull", "Intent", "intent", ",", "@", "NonNull", "HoverView", "hoverView", ")", "{", "hoverView", ".", "setMenu", "(", "createHoverMenu", "(", ")", ")", ";", "hoverView", ".", "collapse", "(", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "private", "HoverMenu", "createHoverMenu", "(", ")", "{", "return", "new", "SingleSectionHoverMenu", "(", "getApplicationContext", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "SingleSectionHoverMenu", "(", "@", "NonNull", "Context", "context", ")", "{", "mContext", "=", "context", ";", "mSection", "=", "new", "Section", "(", "new", "SectionId", "(", "\"", "<STR_LIT:1>", "\"", ")", ",", "createTabView", "(", ")", ",", "createScreen", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "View", "createTabView", "(", ")", "{", "ImageView", "imageView", "=", "new", "ImageView", "(", "mContext", ")", ";", "imageView", ".", "setImageResource", "(", "R", ".", "drawable", ".", "tab_background", ")", ";", "imageView", ".", "setScaleType", "(", "ImageView", ".", "ScaleType", ".", "CENTER_INSIDE", ")", ";", "return", "imageView", ";", "}", "</s>"]
["<s>", "private", "Content", "createScreen", "(", ")", "{", "return", "new", "HoverMenuScreen", "(", "mContext", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getId", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSectionCount", "(", ")", "{", "return", "1", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "int", "index", ")", "{", "if", "(", "0", "=", "=", "index", ")", "{", "return", "mSection", ";", "}", "else", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "Section", "getSection", "(", "@", "NonNull", "SectionId", "sectionId", ")", "{", "if", "(", "sectionId", ".", "equals", "(", "mSection", ".", "getId", "(", ")", ")", ")", "{", "return", "mSection", ";", "}", "else", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "List", "<", "Section", ">", "getSections", "(", ")", "{", "return", "Collections", ".", "singletonList", "(", "mSection", ")", ";", "}", "</s>"]
