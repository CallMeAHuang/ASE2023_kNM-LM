["<s>", "@", "Bean", "@", "Order", "(", "<NUM_LIT:2>", ")", "public", "MyInterceptor2", "myInterceptor2", "(", ")", "{", "return", "new", "MyInterceptor2", "(", ")", ";", "}", "</s>"]
["<s>", "private", "String", "getBeanNameForType", "(", "Class", "<", "?", ">", "type", ",", "ListableBeanFactory", "factory", ")", "{", "String", "[", "]", "beanNames", "=", "factory", ".", "getBeanNamesForType", "(", "type", ")", ";", "return", "beanNames", ".", "length", ">", "0", "?", "beanNames", "[", "0", "]", ":", "null", ";", "}", "</s>"]
["<s>", "@", "Test", "void", "testAutoScanWithDefault", "(", ")", "{", "this", ".", "context", ".", "register", "(", "EmbeddedDataSourceConfiguration", ".", "class", ",", "MybatisBootMapperScanAutoConfiguration", ".", "class", ",", "MybatisAutoConfiguration", ".", "class", ",", "PropertyPlaceholderAutoConfiguration", ".", "class", ")", ";", "this", ".", "context", ".", "refresh", "(", ")", ";", "SqlSessionFactory", "sqlSessionFactory", "=", "this", ".", "context", ".", "getBean", "(", "SqlSessionFactory", ".", "class", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBeanNamesForType", "(", "SqlSessionFactory", ".", "class", ")", ")", ".", "hasSize", "(", "1", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBeanNamesForType", "(", "SqlSessionTemplate", ".", "class", ")", ")", ".", "hasSize", "(", "1", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBeanNamesForType", "(", "CityMapper", ".", "class", ")", ")", ".", "hasSize", "(", "1", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBean", "(", "SqlSessionTemplate", ".", "class", ")", ".", "getExecutorType", "(", ")", ")", ".", "isEqualTo", "(", "ExecutorType", ".", "SIMPLE", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBean", "(", "SqlSessionFactory", ".", "class", ")", ".", "getConfiguration", "(", ")", ".", "isMapUnderscoreToCamelCase", "(", ")", ")", ".", "isFalse", "(", ")", ";", "this", ".", "context", ".", "getBean", "(", "CityMapper", ".", "class", ")", ";", "assertThat", "(", "sqlSessionFactory", ".", "getConfiguration", "(", ")", ".", "getMapperRegistry", "(", ")", ".", "getMappers", "(", ")", ")", ".", "hasSize", "(", "1", ")", ";", "assertThat", "(", "(", "(", "RuntimeBeanReference", ")", "this", ".", "context", ".", "getBeanDefinition", "(", "\"", "<STR_LIT>", "\"", ")", ".", "getPropertyValues", "(", ")", ".", "getPropertyValue", "(", "\"", "<STR_LIT>", "\"", ")", ".", "getValue", "(", ")", ")", ".", "getBeanName", "(", ")", ")", ".", "isEqualTo", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBeanDefinition", "(", "this", ".", "context", ".", "getBeanNamesForType", "(", "MapperScannerConfigurer", ".", "class", ")", "[", "0", "]", ")", ".", "getRole", "(", ")", ")", ".", "isEqualTo", "(", "BeanDefinition", ".", "ROLE_INFRASTRUCTURE", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "void", "testAutoScanWithInjectSqlSessionOnMapperScanIsFalse", "(", ")", "{", "TestPropertyValues", ".", "of", "(", "\"", "<STR_LIT>", "\"", ")", ".", "applyTo", "(", "this", ".", "context", ")", ";", "this", ".", "context", ".", "register", "(", "EmbeddedDataSourceConfiguration", ".", "class", ",", "MybatisBootMapperScanAutoConfiguration", ".", "class", ",", "MybatisAutoConfiguration", ".", "class", ",", "PropertyPlaceholderAutoConfiguration", ".", "class", ")", ";", "this", ".", "context", ".", "refresh", "(", ")", ";", "SqlSessionFactory", "sqlSessionFactory", "=", "this", ".", "context", ".", "getBean", "(", "SqlSessionFactory", ".", "class", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBeanNamesForType", "(", "SqlSessionFactory", ".", "class", ")", ")", ".", "hasSize", "(", "1", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBeanNamesForType", "(", "SqlSessionTemplate", ".", "class", ")", ")", ".", "hasSize", "(", "1", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBeanNamesForType", "(", "CityMapper", ".", "class", ")", ")", ".", "hasSize", "(", "1", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBean", "(", "SqlSessionTemplate", ".", "class", ")", ".", "getExecutorType", "(", ")", ")", ".", "isEqualTo", "(", "ExecutorType", ".", "SIMPLE", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBean", "(", "SqlSessionFactory", ".", "class", ")", ".", "getConfiguration", "(", ")", ".", "isMapUnderscoreToCamelCase", "(", ")", ")", ".", "isFalse", "(", ")", ";", "this", ".", "context", ".", "getBean", "(", "CityMapper", ".", "class", ")", ";", "assertThat", "(", "sqlSessionFactory", ".", "getConfiguration", "(", ")", ".", "getMapperRegistry", "(", ")", ".", "getMappers", "(", ")", ")", ".", "hasSize", "(", "1", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBeanDefinition", "(", "\"", "<STR_LIT>", "\"", ")", ".", "getPropertyValues", "(", ")", ".", "getPropertyValue", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "isNull", "(", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBeanDefinition", "(", "\"", "<STR_LIT>", "\"", ")", ".", "getPropertyValues", "(", ")", ".", "getPropertyValue", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "isNull", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "void", "testCustomSqlSessionTemplateAndSqlSessionFactory", "(", ")", "{", "this", ".", "context", ".", "register", "(", "EmbeddedDataSourceConfiguration", ".", "class", ",", "MybatisBootMapperScanAutoConfiguration", ".", "class", ",", "CustomSqlSessionFactoryConfiguration", ".", "class", ",", "CustomSqlSessionTemplateConfiguration", ".", "class", ",", "MybatisAutoConfiguration", ".", "class", ")", ";", "this", ".", "context", ".", "refresh", "(", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBeanNamesForType", "(", "SqlSessionTemplate", ".", "class", ")", ")", ".", "hasSize", "(", "1", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBean", "(", "SqlSessionTemplate", ".", "class", ")", ".", "getExecutorType", "(", ")", ")", ".", "isEqualTo", "(", "ExecutorType", ".", "BATCH", ")", ";", "assertThat", "(", "this", ".", "context", ".", "getBeanNamesForType", "(", "CityMapper", ".", "class", ")", ")", ".", "hasSize", "(", "1", ")", ";", "assertThat", "(", "(", "(", "RuntimeBeanReference", ")", "this", ".", "context", ".", "getBeanDefinition", "(", "\"", "<STR_LIT>", "\"", ")", ".", "getPropertyValues", "(", ")", ".", "getPropertyValue", "(", "\"", "<STR_LIT>", "\"", ")", ".", "getValue", "(", ")", ")", ".", "getBeanName", "(", ")", ")", ".", "isEqualTo", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Bean", "public", "SqlSessionTemplate", "customSqlSessionTemplate", "(", "SqlSessionFactory", "sqlSessionFactory", ")", "{", "return", "new", "SqlSessionTemplate", "(", "sqlSessionFactory", ",", "ExecutorType", ".", "BATCH", ")", ";", "}", "</s>"]
["<s>", "private", "void", "applySqlSessionFactoryBeanCustomizers", "(", "SqlSessionFactoryBean", "factory", ")", "{", "if", "(", "!", "CollectionUtils", ".", "isEmpty", "(", "this", ".", "sqlSessionFactoryBeanCustomizers", ")", ")", "{", "for", "(", "SqlSessionFactoryBeanCustomizer", "customizer", ":", "this", ".", "sqlSessionFactoryBeanCustomizers", ")", "{", "customizer", ".", "customize", "(", "factory", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Test", "void", "testWithSqlSessionFactoryBeanCustomizer", "(", ")", "{", "this", ".", "context", ".", "register", "(", "EmbeddedDataSourceConfiguration", ".", "class", ",", "MybatisAutoConfiguration", ".", "class", ",", "SqlSessionFactoryBeanCustomizerConfiguration", ".", "class", ")", ";", "this", ".", "context", ".", "refresh", "(", ")", ";", "SqlSessionFactory", "sqlSessionFactory", "=", "this", ".", "context", ".", "getBean", "(", "SqlSessionFactory", ".", "class", ")", ";", "assertThat", "(", "sqlSessionFactory", ".", "getConfiguration", "(", ")", ".", "getTypeHandlerRegistry", "(", ")", ".", "getTypeHandler", "(", "BigInteger", ".", "class", ")", ")", ".", "isInstanceOf", "(", "DummyTypeHandler", ".", "class", ")", ";", "assertThat", "(", "sqlSessionFactory", ".", "getConfiguration", "(", ")", ".", "getCache", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "isNotNull", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Bean", "SqlSessionFactoryBeanCustomizer", "typeHandlerSqlSessionFactoryBeanCustomizer", "(", ")", "{", "return", "factoryBean", "-", ">", "factoryBean", ".", "setTypeHandlers", "(", "new", "DummyTypeHandler", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Bean", "SqlSessionFactoryBeanCustomizer", "cacheSqlSessionFactoryBeanCustomizer", "(", ")", "{", "return", "factoryBean", "-", ">", "factoryBean", ".", "setCache", "(", "new", "PerpetualCache", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "void", "whenFlywayIsAutoConfiguredThenMybatisSqlSessionTemplateDependsOnFlywayBeans", "(", ")", "{", "ApplicationContextRunner", "contextRunner", "=", "new", "ApplicationContextRunner", "(", ")", ".", "withConfiguration", "(", "AutoConfigurations", ".", "of", "(", "FlywayAutoConfiguration", ".", "class", ",", "MybatisAutoConfiguration", ".", "class", ")", ")", ";", "contextRunner", ".", "withUserConfiguration", "(", "EmbeddedDataSourceConfiguration", ".", "class", ")", ".", "run", "(", "(", "context", ")", "-", ">", "{", "BeanDefinition", "beanDefinition", "=", "context", ".", "getBeanFactory", "(", ")", ".", "getBeanDefinition", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertThat", "(", "beanDefinition", ".", "getDependsOn", "(", ")", ")", ".", "containsExactlyInAnyOrder", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "void", "whenCustomMigrationInitializerIsDefinedThenMybatisSqlSessionTemplateDependsOnIt", "(", ")", "{", "ApplicationContextRunner", "contextRunner", "=", "new", "ApplicationContextRunner", "(", ")", ".", "withConfiguration", "(", "AutoConfigurations", ".", "of", "(", "FlywayAutoConfiguration", ".", "class", ",", "MybatisAutoConfiguration", ".", "class", ")", ")", ";", "contextRunner", ".", "withUserConfiguration", "(", "EmbeddedDataSourceConfiguration", ".", "class", ",", "CustomFlywayMigrationInitializer", ".", "class", ")", ".", "run", "(", "(", "context", ")", "-", ">", "{", "BeanDefinition", "beanDefinition", "=", "context", ".", "getBeanFactory", "(", ")", ".", "getBeanDefinition", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertThat", "(", "beanDefinition", ".", "getDependsOn", "(", ")", ")", ".", "containsExactlyInAnyOrder", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "void", "whenCustomFlywayIsDefinedThenMybatisSqlSessionTemplateDependsOnIt", "(", ")", "{", "ApplicationContextRunner", "contextRunner", "=", "new", "ApplicationContextRunner", "(", ")", ".", "withConfiguration", "(", "AutoConfigurations", ".", "of", "(", "FlywayAutoConfiguration", ".", "class", ",", "MybatisAutoConfiguration", ".", "class", ")", ")", ";", "contextRunner", ".", "withUserConfiguration", "(", "EmbeddedDataSourceConfiguration", ".", "class", ",", "CustomFlyway", ".", "class", ")", ".", "run", "(", "(", "context", ")", "-", ">", "{", "BeanDefinition", "beanDefinition", "=", "context", ".", "getBeanFactory", "(", ")", ".", "getBeanDefinition", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertThat", "(", "beanDefinition", ".", "getDependsOn", "(", ")", ")", ".", "containsExactlyInAnyOrder", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "void", "whenLiquibaseIsAutoConfiguredThenMybatisSqlSessionTemplateDependsOnSpringLiquibaseBeans", "(", ")", "{", "ApplicationContextRunner", "contextRunner", "=", "new", "ApplicationContextRunner", "(", ")", ".", "withConfiguration", "(", "AutoConfigurations", ".", "of", "(", "LiquibaseAutoConfiguration", ".", "class", ",", "MybatisAutoConfiguration", ".", "class", ")", ")", ";", "contextRunner", ".", "withUserConfiguration", "(", "EmbeddedDataSourceConfiguration", ".", "class", ")", ".", "run", "(", "(", "context", ")", "-", ">", "{", "BeanDefinition", "beanDefinition", "=", "context", ".", "getBeanFactory", "(", ")", ".", "getBeanDefinition", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertThat", "(", "beanDefinition", ".", "getDependsOn", "(", ")", ")", ".", "containsExactly", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "void", "whenCustomSpringLiquibaseIsDefinedThenMybatisSqlSessionTemplateDependsOnSpringLiquibaseBeans", "(", ")", "{", "ApplicationContextRunner", "contextRunner", "=", "new", "ApplicationContextRunner", "(", ")", ".", "withConfiguration", "(", "AutoConfigurations", ".", "of", "(", "LiquibaseAutoConfiguration", ".", "class", ",", "MybatisAutoConfiguration", ".", "class", ")", ")", ";", "contextRunner", ".", "withUserConfiguration", "(", "LiquibaseUserConfiguration", ".", "class", ",", "EmbeddedDataSourceConfiguration", ".", "class", ")", ".", "run", "(", "(", "context", ")", "-", ">", "{", "BeanDefinition", "beanDefinition", "=", "context", ".", "getBeanFactory", "(", ")", ".", "getBeanDefinition", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertThat", "(", "beanDefinition", ".", "getDependsOn", "(", ")", ")", ".", "containsExactly", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Bean", "FlywayMigrationInitializer", "flywayMigrationInitializer", "(", "Flyway", "flyway", ")", "{", "FlywayMigrationInitializer", "initializer", "=", "new", "FlywayMigrationInitializer", "(", "flyway", ")", ";", "initializer", ".", "setOrder", "(", "Ordered", ".", "HIGHEST_PRECEDENCE", ")", ";", "return", "initializer", ";", "}", "</s>"]
["<s>", "@", "Bean", "Flyway", "customFlyway", "(", ")", "{", "return", "Flyway", ".", "configure", "(", ")", ".", "load", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Bean", "SpringLiquibase", "springLiquibase", "(", "DataSource", "dataSource", ")", "{", "SpringLiquibase", "liquibase", "=", "new", "SpringLiquibase", "(", ")", ";", "liquibase", ".", "setChangeLog", "(", "\"", "<STR_LIT>", "\"", ")", ";", "liquibase", ".", "setShouldRun", "(", "true", ")", ";", "liquibase", ".", "setDataSource", "(", "dataSource", ")", ";", "return", "liquibase", ";", "}", "</s>"]
["<s>", "@", "BeforeEach", "@", "AfterEach", "void", "initializeVelocity", "(", ")", "{", "VelocityFacade", ".", "destroy", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "setUrlDecodingCharset", "(", "Charset", "charset", ")", "{", "urlDecodingCharset", "=", "charset", ";", "}", "</s>"]
["<s>", "@", "Test", "void", "testTypeAliasesWithMultiByteCharacterInPackageName", "(", ")", "{", "this", ".", "contextRunner", ".", "withUserConfiguration", "(", "EmbeddedDataSourceConfiguration", ".", "class", ",", "MybatisBootMapperScanAutoConfiguration", ".", "class", ")", ".", "withPropertyValues", "(", "\"", "<STR_LIT>", "\"", ")", ".", "run", "(", "context", "-", ">", "{", "org", ".", "apache", ".", "ibatis", ".", "session", ".", "Configuration", "configuration", "=", "context", ".", "getBean", "(", "SqlSessionFactory", ".", "class", ")", ".", "getConfiguration", "(", ")", ";", "assertThat", "(", "configuration", ".", "getTypeAliasRegistry", "(", ")", ".", "getTypeAliases", "(", ")", ")", ".", "containsKey", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", ")", ";", "}", "</s>"]
