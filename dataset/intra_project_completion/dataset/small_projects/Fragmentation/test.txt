["<s>", "public", "static", "ViewDragHelper", "create", "(", "@", "NonNull", "ViewGroup", "forParent", ",", "float", "sensitivity", ",", "@", "NonNull", "Callback", "cb", ")", "{", "final", "ViewDragHelper", "helper", "=", "create", "(", "forParent", ",", "cb", ")", ";", "helper", ".", "mTouchSlop", "=", "(", "int", ")", "(", "helper", ".", "mTouchSlop", "*", "(", "1", "/", "sensitivity", ")", ")", ";", "return", "helper", ";", "}", "</s>"]
["<s>", "public", "void", "setMinVelocity", "(", "float", "minVel", ")", "{", "mMinVelocity", "=", "minVel", ";", "}", "</s>"]
["<s>", "public", "float", "getMinVelocity", "(", ")", "{", "return", "mMinVelocity", ";", "}", "</s>"]
["<s>", "public", "int", "getViewDragState", "(", ")", "{", "return", "mDragState", ";", "}", "</s>"]
["<s>", "public", "void", "setEdgeTrackingEnabled", "(", "int", "edgeFlags", ")", "{", "mTrackingEdges", "=", "edgeFlags", ";", "}", "</s>"]
["<s>", "public", "int", "getEdgeSize", "(", ")", "{", "return", "mEdgeSize", ";", "}", "</s>"]
["<s>", "public", "void", "captureChildView", "(", "@", "NonNull", "View", "childView", ",", "int", "activePointerId", ")", "{", "if", "(", "childView", ".", "getParent", "(", ")", "!", "=", "mParentView", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", "+", "mParentView", "+", "\"", "<STR_LIT:)>", "\"", ")", ";", "}", "mCapturedView", "=", "childView", ";", "mActivePointerId", "=", "activePointerId", ";", "mCallback", ".", "onViewCaptured", "(", "childView", ",", "activePointerId", ")", ";", "setDragState", "(", "STATE_DRAGGING", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "public", "View", "getCapturedView", "(", ")", "{", "return", "mCapturedView", ";", "}", "</s>"]
["<s>", "public", "int", "getActivePointerId", "(", ")", "{", "return", "mActivePointerId", ";", "}", "</s>"]
["<s>", "public", "int", "getTouchSlop", "(", ")", "{", "return", "mTouchSlop", ";", "}", "</s>"]
["<s>", "public", "void", "cancel", "(", ")", "{", "mActivePointerId", "=", "INVALID_POINTER", ";", "clearMotionHistory", "(", ")", ";", "if", "(", "mVelocityTracker", "!", "=", "null", ")", "{", "mVelocityTracker", ".", "recycle", "(", ")", ";", "mVelocityTracker", "=", "null", ";", "}", "}", "</s>"]
["<s>", "public", "void", "abort", "(", ")", "{", "cancel", "(", ")", ";", "if", "(", "mDragState", "=", "=", "STATE_SETTLING", ")", "{", "final", "int", "oldX", "=", "mScroller", ".", "getCurrX", "(", ")", ";", "final", "int", "oldY", "=", "mScroller", ".", "getCurrY", "(", ")", ";", "mScroller", ".", "abortAnimation", "(", ")", ";", "final", "int", "newX", "=", "mScroller", ".", "getCurrX", "(", ")", ";", "final", "int", "newY", "=", "mScroller", ".", "getCurrY", "(", ")", ";", "mCallback", ".", "onViewPositionChanged", "(", "mCapturedView", ",", "newX", ",", "newY", ",", "newX", "-", "oldX", ",", "newY", "-", "oldY", ")", ";", "}", "setDragState", "(", "STATE_IDLE", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "smoothSlideViewTo", "(", "@", "NonNull", "View", "child", ",", "int", "finalLeft", ",", "int", "finalTop", ")", "{", "mCapturedView", "=", "child", ";", "mActivePointerId", "=", "INVALID_POINTER", ";", "boolean", "continueSliding", "=", "forceSettleCapturedViewAt", "(", "finalLeft", ",", "finalTop", ",", "0", ",", "0", ")", ";", "if", "(", "!", "continueSliding", "&", "&", "mDragState", "=", "=", "STATE_IDLE", "&", "&", "mCapturedView", "!", "=", "null", ")", "{", "mCapturedView", "=", "null", ";", "}", "return", "continueSliding", ";", "}", "</s>"]
["<s>", "public", "boolean", "settleCapturedViewAt", "(", "int", "finalLeft", ",", "int", "finalTop", ")", "{", "if", "(", "!", "mReleaseInProgress", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "return", "forceSettleCapturedViewAt", "(", "finalLeft", ",", "finalTop", ",", "(", "int", ")", "mVelocityTracker", ".", "getXVelocity", "(", "mActivePointerId", ")", ",", "(", "int", ")", "mVelocityTracker", ".", "getYVelocity", "(", "mActivePointerId", ")", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "forceSettleCapturedViewAt", "(", "int", "finalLeft", ",", "int", "finalTop", ",", "int", "xvel", ",", "int", "yvel", ")", "{", "final", "int", "startLeft", "=", "mCapturedView", ".", "getLeft", "(", ")", ";", "final", "int", "startTop", "=", "mCapturedView", ".", "getTop", "(", ")", ";", "final", "int", "dx", "=", "finalLeft", "-", "startLeft", ";", "final", "int", "dy", "=", "finalTop", "-", "startTop", ";", "if", "(", "dx", "=", "=", "0", "&", "&", "dy", "=", "=", "0", ")", "{", "mScroller", ".", "abortAnimation", "(", ")", ";", "setDragState", "(", "STATE_IDLE", ")", ";", "return", "false", ";", "}", "final", "int", "duration", "=", "computeSettleDuration", "(", "mCapturedView", ",", "dx", ",", "dy", ",", "xvel", ",", "yvel", ")", ";", "mScroller", ".", "startScroll", "(", "startLeft", ",", "startTop", ",", "dx", ",", "dy", ",", "duration", ")", ";", "setDragState", "(", "STATE_SETTLING", ")", ";", "return", "true", ";", "}", "</s>"]
["<s>", "private", "int", "computeSettleDuration", "(", "View", "child", ",", "int", "dx", ",", "int", "dy", ",", "int", "xvel", ",", "int", "yvel", ")", "{", "xvel", "=", "clampMag", "(", "xvel", ",", "(", "int", ")", "mMinVelocity", ",", "(", "int", ")", "mMaxVelocity", ")", ";", "yvel", "=", "clampMag", "(", "yvel", ",", "(", "int", ")", "mMinVelocity", ",", "(", "int", ")", "mMaxVelocity", ")", ";", "final", "int", "absDx", "=", "Math", ".", "abs", "(", "dx", ")", ";", "final", "int", "absDy", "=", "Math", ".", "abs", "(", "dy", ")", ";", "final", "int", "absXVel", "=", "Math", ".", "abs", "(", "xvel", ")", ";", "final", "int", "absYVel", "=", "Math", ".", "abs", "(", "yvel", ")", ";", "final", "int", "addedVel", "=", "absXVel", "+", "absYVel", ";", "final", "int", "addedDistance", "=", "absDx", "+", "absDy", ";", "final", "float", "xweight", "=", "xvel", "!", "=", "0", "?", "(", "float", ")", "absXVel", "/", "addedVel", ":", "(", "float", ")", "absDx", "/", "addedDistance", ";", "final", "float", "yweight", "=", "yvel", "!", "=", "0", "?", "(", "float", ")", "absYVel", "/", "addedVel", ":", "(", "float", ")", "absDy", "/", "addedDistance", ";", "int", "xduration", "=", "computeAxisDuration", "(", "dx", ",", "xvel", ",", "mCallback", ".", "getViewHorizontalDragRange", "(", "child", ")", ")", ";", "int", "yduration", "=", "computeAxisDuration", "(", "dy", ",", "yvel", ",", "mCallback", ".", "getViewVerticalDragRange", "(", "child", ")", ")", ";", "return", "(", "int", ")", "(", "xduration", "*", "xweight", "+", "yduration", "*", "yweight", ")", ";", "}", "</s>"]
["<s>", "private", "int", "computeAxisDuration", "(", "int", "delta", ",", "int", "velocity", ",", "int", "motionRange", ")", "{", "if", "(", "delta", "=", "=", "0", ")", "{", "return", "0", ";", "}", "final", "int", "width", "=", "mParentView", ".", "getWidth", "(", ")", ";", "final", "int", "halfWidth", "=", "width", "/", "<NUM_LIT:2>", ";", "final", "float", "distanceRatio", "=", "Math", ".", "min", "(", "<NUM_LIT>", ",", "(", "float", ")", "Math", ".", "abs", "(", "delta", ")", "/", "width", ")", ";", "final", "float", "distance", "=", "halfWidth", "+", "halfWidth", "*", "distanceInfluenceForSnapDuration", "(", "distanceRatio", ")", ";", "int", "duration", ";", "velocity", "=", "Math", ".", "abs", "(", "velocity", ")", ";", "if", "(", "velocity", ">", "0", ")", "{", "duration", "=", "<NUM_LIT:4>", "*", "Math", ".", "round", "(", "<NUM_LIT:1000>", "*", "Math", ".", "abs", "(", "distance", "/", "velocity", ")", ")", ";", "}", "else", "{", "final", "float", "range", "=", "(", "float", ")", "Math", ".", "abs", "(", "delta", ")", "/", "motionRange", ";", "duration", "=", "(", "int", ")", "(", "(", "range", "+", "1", ")", "*", "BASE_SETTLE_DURATION", ")", ";", "}", "return", "Math", ".", "min", "(", "duration", ",", "MAX_SETTLE_DURATION", ")", ";", "}", "</s>"]
["<s>", "private", "int", "clampMag", "(", "int", "value", ",", "int", "absMin", ",", "int", "absMax", ")", "{", "final", "int", "absValue", "=", "Math", ".", "abs", "(", "value", ")", ";", "if", "(", "absValue", "<", "absMin", ")", "return", "0", ";", "if", "(", "absValue", ">", "absMax", ")", "return", "value", ">", "0", "?", "absMax", ":", "-", "absMax", ";", "return", "value", ";", "}", "</s>"]
["<s>", "private", "float", "clampMag", "(", "float", "value", ",", "float", "absMin", ",", "float", "absMax", ")", "{", "final", "float", "absValue", "=", "Math", ".", "abs", "(", "value", ")", ";", "if", "(", "absValue", "<", "absMin", ")", "return", "0", ";", "if", "(", "absValue", ">", "absMax", ")", "return", "value", ">", "0", "?", "absMax", ":", "-", "absMax", ";", "return", "value", ";", "}", "</s>"]
["<s>", "private", "float", "distanceInfluenceForSnapDuration", "(", "float", "f", ")", "{", "f", "-", "=", "<NUM_LIT>", ";", "f", "*", "=", "<NUM_LIT>", "*", "(", "float", ")", "Math", ".", "PI", "/", "<NUM_LIT>", ";", "return", "(", "float", ")", "Math", ".", "sin", "(", "f", ")", ";", "}", "</s>"]
["<s>", "public", "void", "flingCapturedView", "(", "int", "minLeft", ",", "int", "minTop", ",", "int", "maxLeft", ",", "int", "maxTop", ")", "{", "if", "(", "!", "mReleaseInProgress", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "mScroller", ".", "fling", "(", "mCapturedView", ".", "getLeft", "(", ")", ",", "mCapturedView", ".", "getTop", "(", ")", ",", "(", "int", ")", "mVelocityTracker", ".", "getXVelocity", "(", "mActivePointerId", ")", ",", "(", "int", ")", "mVelocityTracker", ".", "getYVelocity", "(", "mActivePointerId", ")", ",", "minLeft", ",", "maxLeft", ",", "minTop", ",", "maxTop", ")", ";", "setDragState", "(", "STATE_SETTLING", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "continueSettling", "(", "boolean", "deferCallbacks", ")", "{", "if", "(", "mDragState", "=", "=", "STATE_SETTLING", ")", "{", "boolean", "keepGoing", "=", "mScroller", ".", "computeScrollOffset", "(", ")", ";", "final", "int", "x", "=", "mScroller", ".", "getCurrX", "(", ")", ";", "final", "int", "y", "=", "mScroller", ".", "getCurrY", "(", ")", ";", "final", "int", "dx", "=", "x", "-", "mCapturedView", ".", "getLeft", "(", ")", ";", "final", "int", "dy", "=", "y", "-", "mCapturedView", ".", "getTop", "(", ")", ";", "if", "(", "dx", "!", "=", "0", ")", "{", "ViewCompat", ".", "offsetLeftAndRight", "(", "mCapturedView", ",", "dx", ")", ";", "}", "if", "(", "dy", "!", "=", "0", ")", "{", "ViewCompat", ".", "offsetTopAndBottom", "(", "mCapturedView", ",", "dy", ")", ";", "}", "if", "(", "dx", "!", "=", "0", "|", "|", "dy", "!", "=", "0", ")", "{", "mCallback", ".", "onViewPositionChanged", "(", "mCapturedView", ",", "x", ",", "y", ",", "dx", ",", "dy", ")", ";", "}", "if", "(", "keepGoing", "&", "&", "x", "=", "=", "mScroller", ".", "getFinalX", "(", ")", "&", "&", "y", "=", "=", "mScroller", ".", "getFinalY", "(", ")", ")", "{", "mScroller", ".", "abortAnimation", "(", ")", ";", "keepGoing", "=", "false", ";", "}", "if", "(", "!", "keepGoing", ")", "{", "if", "(", "deferCallbacks", ")", "{", "mParentView", ".", "post", "(", "mSetIdleRunnable", ")", ";", "}", "else", "{", "setDragState", "(", "STATE_IDLE", ")", ";", "}", "}", "}", "return", "mDragState", "=", "=", "STATE_SETTLING", ";", "}", "</s>"]
["<s>", "private", "void", "dispatchViewReleased", "(", "float", "xvel", ",", "float", "yvel", ")", "{", "mReleaseInProgress", "=", "true", ";", "mCallback", ".", "onViewReleased", "(", "mCapturedView", ",", "xvel", ",", "yvel", ")", ";", "mReleaseInProgress", "=", "false", ";", "if", "(", "mDragState", "=", "=", "STATE_DRAGGING", ")", "{", "setDragState", "(", "STATE_IDLE", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "clearMotionHistory", "(", ")", "{", "if", "(", "mInitialMotionX", "=", "=", "null", ")", "{", "return", ";", "}", "Arrays", ".", "fill", "(", "mInitialMotionX", ",", "0", ")", ";", "Arrays", ".", "fill", "(", "mInitialMotionY", ",", "0", ")", ";", "Arrays", ".", "fill", "(", "mLastMotionX", ",", "0", ")", ";", "Arrays", ".", "fill", "(", "mLastMotionY", ",", "0", ")", ";", "Arrays", ".", "fill", "(", "mInitialEdgesTouched", ",", "0", ")", ";", "Arrays", ".", "fill", "(", "mEdgeDragsInProgress", ",", "0", ")", ";", "Arrays", ".", "fill", "(", "mEdgeDragsLocked", ",", "0", ")", ";", "mPointersDown", "=", "0", ";", "}", "</s>"]
["<s>", "private", "void", "clearMotionHistory", "(", "int", "pointerId", ")", "{", "if", "(", "mInitialMotionX", "=", "=", "null", "|", "|", "!", "isPointerDown", "(", "pointerId", ")", ")", "{", "return", ";", "}", "mInitialMotionX", "[", "pointerId", "]", "=", "0", ";", "mInitialMotionY", "[", "pointerId", "]", "=", "0", ";", "mLastMotionX", "[", "pointerId", "]", "=", "0", ";", "mLastMotionY", "[", "pointerId", "]", "=", "0", ";", "mInitialEdgesTouched", "[", "pointerId", "]", "=", "0", ";", "mEdgeDragsInProgress", "[", "pointerId", "]", "=", "0", ";", "mEdgeDragsLocked", "[", "pointerId", "]", "=", "0", ";", "mPointersDown", "&", "=", "~", "(", "1", "<", "<", "pointerId", ")", ";", "}", "</s>"]
["<s>", "private", "void", "ensureMotionHistorySizeForId", "(", "int", "pointerId", ")", "{", "if", "(", "mInitialMotionX", "=", "=", "null", "|", "|", "mInitialMotionX", ".", "length", "<", "=", "pointerId", ")", "{", "float", "[", "]", "imx", "=", "new", "float", "[", "pointerId", "+", "1", "]", ";", "float", "[", "]", "imy", "=", "new", "float", "[", "pointerId", "+", "1", "]", ";", "float", "[", "]", "lmx", "=", "new", "float", "[", "pointerId", "+", "1", "]", ";", "float", "[", "]", "lmy", "=", "new", "float", "[", "pointerId", "+", "1", "]", ";", "int", "[", "]", "iit", "=", "new", "int", "[", "pointerId", "+", "1", "]", ";", "int", "[", "]", "edip", "=", "new", "int", "[", "pointerId", "+", "1", "]", ";", "int", "[", "]", "edl", "=", "new", "int", "[", "pointerId", "+", "1", "]", ";", "if", "(", "mInitialMotionX", "!", "=", "null", ")", "{", "System", ".", "arraycopy", "(", "mInitialMotionX", ",", "0", ",", "imx", ",", "0", ",", "mInitialMotionX", ".", "length", ")", ";", "System", ".", "arraycopy", "(", "mInitialMotionY", ",", "0", ",", "imy", ",", "0", ",", "mInitialMotionY", ".", "length", ")", ";", "System", ".", "arraycopy", "(", "mLastMotionX", ",", "0", ",", "lmx", ",", "0", ",", "mLastMotionX", ".", "length", ")", ";", "System", ".", "arraycopy", "(", "mLastMotionY", ",", "0", ",", "lmy", ",", "0", ",", "mLastMotionY", ".", "length", ")", ";", "System", ".", "arraycopy", "(", "mInitialEdgesTouched", ",", "0", ",", "iit", ",", "0", ",", "mInitialEdgesTouched", ".", "length", ")", ";", "System", ".", "arraycopy", "(", "mEdgeDragsInProgress", ",", "0", ",", "edip", ",", "0", ",", "mEdgeDragsInProgress", ".", "length", ")", ";", "System", ".", "arraycopy", "(", "mEdgeDragsLocked", ",", "0", ",", "edl", ",", "0", ",", "mEdgeDragsLocked", ".", "length", ")", ";", "}", "mInitialMotionX", "=", "imx", ";", "mInitialMotionY", "=", "imy", ";", "mLastMotionX", "=", "lmx", ";", "mLastMotionY", "=", "lmy", ";", "mInitialEdgesTouched", "=", "iit", ";", "mEdgeDragsInProgress", "=", "edip", ";", "mEdgeDragsLocked", "=", "edl", ";", "}", "}", "</s>"]
["<s>", "private", "void", "saveInitialMotion", "(", "float", "x", ",", "float", "y", ",", "int", "pointerId", ")", "{", "ensureMotionHistorySizeForId", "(", "pointerId", ")", ";", "mInitialMotionX", "[", "pointerId", "]", "=", "mLastMotionX", "[", "pointerId", "]", "=", "x", ";", "mInitialMotionY", "[", "pointerId", "]", "=", "mLastMotionY", "[", "pointerId", "]", "=", "y", ";", "mInitialEdgesTouched", "[", "pointerId", "]", "=", "getEdgesTouched", "(", "(", "int", ")", "x", ",", "(", "int", ")", "y", ")", ";", "mPointersDown", "|", "=", "1", "<", "<", "pointerId", ";", "}", "</s>"]
["<s>", "private", "void", "saveLastMotion", "(", "MotionEvent", "ev", ")", "{", "final", "int", "pointerCount", "=", "ev", ".", "getPointerCount", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "pointerCount", ";", "i", "+", "+", ")", "{", "final", "int", "pointerId", "=", "ev", ".", "getPointerId", "(", "i", ")", ";", "if", "(", "!", "isValidPointerForActionMove", "(", "pointerId", ")", ")", "{", "continue", ";", "}", "final", "float", "x", "=", "ev", ".", "getX", "(", "i", ")", ";", "final", "float", "y", "=", "ev", ".", "getY", "(", "i", ")", ";", "mLastMotionX", "[", "pointerId", "]", "=", "x", ";", "mLastMotionY", "[", "pointerId", "]", "=", "y", ";", "}", "}", "</s>"]
["<s>", "public", "boolean", "isPointerDown", "(", "int", "pointerId", ")", "{", "return", "(", "mPointersDown", "&", "1", "<", "<", "pointerId", ")", "!", "=", "0", ";", "}", "</s>"]
["<s>", "void", "setDragState", "(", "int", "state", ")", "{", "mParentView", ".", "removeCallbacks", "(", "mSetIdleRunnable", ")", ";", "if", "(", "mDragState", "!", "=", "state", ")", "{", "mDragState", "=", "state", ";", "mCallback", ".", "onViewDragStateChanged", "(", "state", ")", ";", "if", "(", "mDragState", "=", "=", "STATE_IDLE", ")", "{", "mCapturedView", "=", "null", ";", "}", "}", "}", "</s>"]
["<s>", "boolean", "tryCaptureViewForDrag", "(", "View", "toCapture", ",", "int", "pointerId", ")", "{", "if", "(", "toCapture", "=", "=", "mCapturedView", "&", "&", "mActivePointerId", "=", "=", "pointerId", ")", "{", "return", "true", ";", "}", "if", "(", "toCapture", "!", "=", "null", "&", "&", "mCallback", ".", "tryCaptureView", "(", "toCapture", ",", "pointerId", ")", ")", "{", "mActivePointerId", "=", "pointerId", ";", "captureChildView", "(", "toCapture", ",", "pointerId", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "protected", "boolean", "canScroll", "(", "@", "NonNull", "View", "v", ",", "boolean", "checkV", ",", "int", "dx", ",", "int", "dy", ",", "int", "x", ",", "int", "y", ")", "{", "if", "(", "v", "instanceof", "ViewGroup", ")", "{", "final", "ViewGroup", "group", "=", "(", "ViewGroup", ")", "v", ";", "final", "int", "scrollX", "=", "v", ".", "getScrollX", "(", ")", ";", "final", "int", "scrollY", "=", "v", ".", "getScrollY", "(", ")", ";", "final", "int", "count", "=", "group", ".", "getChildCount", "(", ")", ";", "for", "(", "int", "i", "=", "count", "-", "1", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "final", "View", "child", "=", "group", ".", "getChildAt", "(", "i", ")", ";", "if", "(", "x", "+", "scrollX", ">", "=", "child", ".", "getLeft", "(", ")", "&", "&", "x", "+", "scrollX", "<", "child", ".", "getRight", "(", ")", "&", "&", "y", "+", "scrollY", ">", "=", "child", ".", "getTop", "(", ")", "&", "&", "y", "+", "scrollY", "<", "child", ".", "getBottom", "(", ")", "&", "&", "canScroll", "(", "child", ",", "true", ",", "dx", ",", "dy", ",", "x", "+", "scrollX", "-", "child", ".", "getLeft", "(", ")", ",", "y", "+", "scrollY", "-", "child", ".", "getTop", "(", ")", ")", ")", "{", "return", "true", ";", "}", "}", "}", "return", "checkV", "&", "&", "(", "v", ".", "canScrollHorizontally", "(", "-", "dx", ")", "|", "|", "v", ".", "canScrollVertically", "(", "-", "dy", ")", ")", ";", "}", "</s>"]
["<s>", "protected", "boolean", "canScrollHorizontally", "(", "@", "NonNull", "View", "v", ",", "boolean", "checkV", ",", "int", "dx", ",", "int", "x", ",", "int", "y", ")", "{", "if", "(", "v", "instanceof", "ViewGroup", ")", "{", "final", "ViewGroup", "group", "=", "(", "ViewGroup", ")", "v", ";", "final", "int", "scrollX", "=", "v", ".", "getScrollX", "(", ")", ";", "final", "int", "scrollY", "=", "v", ".", "getScrollY", "(", ")", ";", "final", "int", "count", "=", "group", ".", "getChildCount", "(", ")", ";", "for", "(", "int", "i", "=", "count", "-", "1", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "final", "View", "child", "=", "group", ".", "getChildAt", "(", "i", ")", ";", "if", "(", "x", "+", "scrollX", ">", "=", "child", ".", "getLeft", "(", ")", "&", "&", "x", "+", "scrollX", "<", "child", ".", "getRight", "(", ")", "&", "&", "y", "+", "scrollY", ">", "=", "child", ".", "getTop", "(", ")", "&", "&", "y", "+", "scrollY", "<", "child", ".", "getBottom", "(", ")", "&", "&", "canScrollHorizontally", "(", "child", ",", "true", ",", "dx", ",", "x", "+", "scrollX", "-", "child", ".", "getLeft", "(", ")", ",", "y", "+", "scrollY", "-", "child", ".", "getTop", "(", ")", ")", ")", "{", "return", "true", ";", "}", "}", "}", "return", "checkV", "&", "&", "(", "v", ".", "canScrollHorizontally", "(", "-", "dx", ")", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "shouldInterceptTouchEvent", "(", "@", "NonNull", "MotionEvent", "ev", ")", "{", "final", "int", "action", "=", "ev", ".", "getActionMasked", "(", ")", ";", "final", "int", "actionIndex", "=", "ev", ".", "getActionIndex", "(", ")", ";", "if", "(", "action", "=", "=", "MotionEvent", ".", "ACTION_DOWN", ")", "{", "cancel", "(", ")", ";", "}", "if", "(", "mVelocityTracker", "=", "=", "null", ")", "{", "mVelocityTracker", "=", "VelocityTracker", ".", "obtain", "(", ")", ";", "}", "mVelocityTracker", ".", "addMovement", "(", "ev", ")", ";", "switch", "(", "action", ")", "{", "case", "MotionEvent", ".", "ACTION_DOWN", ":", "{", "final", "float", "x", "=", "ev", ".", "getX", "(", ")", ";", "final", "float", "y", "=", "ev", ".", "getY", "(", ")", ";", "final", "int", "pointerId", "=", "ev", ".", "getPointerId", "(", "0", ")", ";", "saveInitialMotion", "(", "x", ",", "y", ",", "pointerId", ")", ";", "final", "View", "toCapture", "=", "findTopChildUnder", "(", "(", "int", ")", "x", ",", "(", "int", ")", "y", ")", ";", "if", "(", "toCapture", "=", "=", "mCapturedView", "&", "&", "mDragState", "=", "=", "STATE_SETTLING", ")", "{", "tryCaptureViewForDrag", "(", "toCapture", ",", "pointerId", ")", ";", "}", "final", "int", "edgesTouched", "=", "mInitialEdgesTouched", "[", "pointerId", "]", ";", "if", "(", "(", "edgesTouched", "&", "mTrackingEdges", ")", "!", "=", "0", ")", "{", "mCallback", ".", "onEdgeTouched", "(", "edgesTouched", "&", "mTrackingEdges", ",", "pointerId", ")", ";", "}", "break", ";", "}", "case", "MotionEvent", ".", "ACTION_POINTER_DOWN", ":", "{", "final", "int", "pointerId", "=", "ev", ".", "getPointerId", "(", "actionIndex", ")", ";", "final", "float", "x", "=", "ev", ".", "getX", "(", "actionIndex", ")", ";", "final", "float", "y", "=", "ev", ".", "getY", "(", "actionIndex", ")", ";", "saveInitialMotion", "(", "x", ",", "y", ",", "pointerId", ")", ";", "if", "(", "mDragState", "=", "=", "STATE_IDLE", ")", "{", "final", "int", "edgesTouched", "=", "mInitialEdgesTouched", "[", "pointerId", "]", ";", "if", "(", "(", "edgesTouched", "&", "mTrackingEdges", ")", "!", "=", "0", ")", "{", "mCallback", ".", "onEdgeTouched", "(", "edgesTouched", "&", "mTrackingEdges", ",", "pointerId", ")", ";", "}", "}", "else", "if", "(", "mDragState", "=", "=", "STATE_SETTLING", ")", "{", "final", "View", "toCapture", "=", "findTopChildUnder", "(", "(", "int", ")", "x", ",", "(", "int", ")", "y", ")", ";", "if", "(", "toCapture", "=", "=", "mCapturedView", ")", "{", "tryCaptureViewForDrag", "(", "toCapture", ",", "pointerId", ")", ";", "}", "}", "break", ";", "}", "case", "MotionEvent", ".", "ACTION_MOVE", ":", "{", "if", "(", "mInitialMotionX", "=", "=", "null", "|", "|", "mInitialMotionY", "=", "=", "null", ")", "break", ";", "final", "int", "pointerCount", "=", "ev", ".", "getPointerCount", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "pointerCount", ";", "i", "+", "+", ")", "{", "final", "int", "pointerId", "=", "ev", ".", "getPointerId", "(", "i", ")", ";", "if", "(", "!", "isValidPointerForActionMove", "(", "pointerId", ")", ")", "continue", ";", "final", "float", "x", "=", "ev", ".", "getX", "(", "i", ")", ";", "final", "float", "y", "=", "ev", ".", "getY", "(", "i", ")", ";", "final", "float", "dx", "=", "x", "-", "mInitialMotionX", "[", "pointerId", "]", ";", "final", "float", "dy", "=", "y", "-", "mInitialMotionY", "[", "pointerId", "]", ";", "final", "View", "toCapture", "=", "findTopChildUnder", "(", "(", "int", ")", "x", ",", "(", "int", ")", "y", ")", ";", "final", "boolean", "pastSlop", "=", "toCapture", "!", "=", "null", "&", "&", "checkTouchSlop", "(", "toCapture", ",", "dx", ",", "dy", ",", "x", ",", "y", ")", ";", "if", "(", "pastSlop", ")", "{", "final", "int", "oldLeft", "=", "toCapture", ".", "getLeft", "(", ")", ";", "final", "int", "targetLeft", "=", "oldLeft", "+", "(", "int", ")", "dx", ";", "final", "int", "newLeft", "=", "mCallback", ".", "clampViewPositionHorizontal", "(", "toCapture", ",", "targetLeft", ",", "(", "int", ")", "dx", ")", ";", "final", "int", "oldTop", "=", "toCapture", ".", "getTop", "(", ")", ";", "final", "int", "targetTop", "=", "oldTop", "+", "(", "int", ")", "dy", ";", "final", "int", "newTop", "=", "mCallback", ".", "clampViewPositionVertical", "(", "toCapture", ",", "targetTop", ",", "(", "int", ")", "dy", ")", ";", "final", "int", "hDragRange", "=", "mCallback", ".", "getViewHorizontalDragRange", "(", "toCapture", ")", ";", "final", "int", "vDragRange", "=", "mCallback", ".", "getViewVerticalDragRange", "(", "toCapture", ")", ";", "if", "(", "(", "hDragRange", "=", "=", "0", "|", "|", "(", "hDragRange", ">", "0", "&", "&", "newLeft", "=", "=", "oldLeft", ")", ")", "&", "&", "(", "vDragRange", "=", "=", "0", "|", "|", "(", "vDragRange", ">", "0", "&", "&", "newTop", "=", "=", "oldTop", ")", ")", ")", "{", "break", ";", "}", "}", "reportNewEdgeDrags", "(", "dx", ",", "dy", ",", "pointerId", ")", ";", "if", "(", "mDragState", "=", "=", "STATE_DRAGGING", ")", "{", "break", ";", "}", "if", "(", "pastSlop", "&", "&", "tryCaptureViewForDrag", "(", "toCapture", ",", "pointerId", ")", ")", "{", "break", ";", "}", "}", "saveLastMotion", "(", "ev", ")", ";", "break", ";", "}", "case", "MotionEvent", ".", "ACTION_POINTER_UP", ":", "{", "final", "int", "pointerId", "=", "ev", ".", "getPointerId", "(", "actionIndex", ")", ";", "clearMotionHistory", "(", "pointerId", ")", ";", "break", ";", "}", "case", "MotionEvent", ".", "ACTION_UP", ":", "case", "MotionEvent", ".", "ACTION_CANCEL", ":", "{", "cancel", "(", ")", ";", "break", ";", "}", "}", "return", "mDragState", "=", "=", "STATE_DRAGGING", ";", "}", "</s>"]
["<s>", "public", "void", "processTouchEvent", "(", "@", "NonNull", "MotionEvent", "ev", ")", "{", "final", "int", "action", "=", "ev", ".", "getActionMasked", "(", ")", ";", "final", "int", "actionIndex", "=", "ev", ".", "getActionIndex", "(", ")", ";", "if", "(", "action", "=", "=", "MotionEvent", ".", "ACTION_DOWN", ")", "{", "cancel", "(", ")", ";", "}", "if", "(", "mVelocityTracker", "=", "=", "null", ")", "{", "mVelocityTracker", "=", "VelocityTracker", ".", "obtain", "(", ")", ";", "}", "mVelocityTracker", ".", "addMovement", "(", "ev", ")", ";", "switch", "(", "action", ")", "{", "case", "MotionEvent", ".", "ACTION_DOWN", ":", "{", "final", "float", "x", "=", "ev", ".", "getX", "(", ")", ";", "final", "float", "y", "=", "ev", ".", "getY", "(", ")", ";", "final", "int", "pointerId", "=", "ev", ".", "getPointerId", "(", "0", ")", ";", "final", "View", "toCapture", "=", "findTopChildUnder", "(", "(", "int", ")", "x", ",", "(", "int", ")", "y", ")", ";", "saveInitialMotion", "(", "x", ",", "y", ",", "pointerId", ")", ";", "tryCaptureViewForDrag", "(", "toCapture", ",", "pointerId", ")", ";", "final", "int", "edgesTouched", "=", "mInitialEdgesTouched", "[", "pointerId", "]", ";", "if", "(", "(", "edgesTouched", "&", "mTrackingEdges", ")", "!", "=", "0", ")", "{", "mCallback", ".", "onEdgeTouched", "(", "edgesTouched", "&", "mTrackingEdges", ",", "pointerId", ")", ";", "}", "break", ";", "}", "case", "MotionEvent", ".", "ACTION_POINTER_DOWN", ":", "{", "final", "int", "pointerId", "=", "ev", ".", "getPointerId", "(", "actionIndex", ")", ";", "final", "float", "x", "=", "ev", ".", "getX", "(", "actionIndex", ")", ";", "final", "float", "y", "=", "ev", ".", "getY", "(", "actionIndex", ")", ";", "saveInitialMotion", "(", "x", ",", "y", ",", "pointerId", ")", ";", "if", "(", "mDragState", "=", "=", "STATE_IDLE", ")", "{", "final", "View", "toCapture", "=", "findTopChildUnder", "(", "(", "int", ")", "x", ",", "(", "int", ")", "y", ")", ";", "tryCaptureViewForDrag", "(", "toCapture", ",", "pointerId", ")", ";", "final", "int", "edgesTouched", "=", "mInitialEdgesTouched", "[", "pointerId", "]", ";", "if", "(", "(", "edgesTouched", "&", "mTrackingEdges", ")", "!", "=", "0", ")", "{", "mCallback", ".", "onEdgeTouched", "(", "edgesTouched", "&", "mTrackingEdges", ",", "pointerId", ")", ";", "}", "}", "else", "if", "(", "isCapturedViewUnder", "(", "(", "int", ")", "x", ",", "(", "int", ")", "y", ")", ")", "{", "tryCaptureViewForDrag", "(", "mCapturedView", ",", "pointerId", ")", ";", "}", "break", ";", "}", "case", "MotionEvent", ".", "ACTION_MOVE", ":", "{", "if", "(", "mDragState", "=", "=", "STATE_DRAGGING", ")", "{", "if", "(", "!", "isValidPointerForActionMove", "(", "mActivePointerId", ")", ")", "break", ";", "final", "int", "index", "=", "ev", ".", "findPointerIndex", "(", "mActivePointerId", ")", ";", "final", "float", "x", "=", "ev", ".", "getX", "(", "index", ")", ";", "final", "float", "y", "=", "ev", ".", "getY", "(", "index", ")", ";", "final", "int", "idx", "=", "(", "int", ")", "(", "x", "-", "mLastMotionX", "[", "mActivePointerId", "]", ")", ";", "final", "int", "idy", "=", "(", "int", ")", "(", "y", "-", "mLastMotionY", "[", "mActivePointerId", "]", ")", ";", "if", "(", "Math", ".", "abs", "(", "idx", ")", ">", "Math", ".", "abs", "(", "idy", ")", ")", "{", "dragTo", "(", "mCapturedView", ".", "getLeft", "(", ")", "+", "idx", ",", "mCapturedView", ".", "getTop", "(", ")", ",", "idx", ",", "idy", ")", ";", "}", "else", "{", "dragTo", "(", "mCapturedView", ".", "getLeft", "(", ")", ",", "mCapturedView", ".", "getTop", "(", ")", "+", "idy", ",", "idx", ",", "idy", ")", ";", "}", "saveLastMotion", "(", "ev", ")", ";", "}", "else", "{", "final", "int", "pointerCount", "=", "ev", ".", "getPointerCount", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "pointerCount", ";", "i", "+", "+", ")", "{", "final", "int", "pointerId", "=", "ev", ".", "getPointerId", "(", "i", ")", ";", "if", "(", "!", "isValidPointerForActionMove", "(", "pointerId", ")", ")", "continue", ";", "final", "float", "x", "=", "ev", ".", "getX", "(", "i", ")", ";", "final", "float", "y", "=", "ev", ".", "getY", "(", "i", ")", ";", "final", "float", "dx", "=", "x", "-", "mInitialMotionX", "[", "pointerId", "]", ";", "final", "float", "dy", "=", "y", "-", "mInitialMotionY", "[", "pointerId", "]", ";", "reportNewEdgeDrags", "(", "dx", ",", "dy", ",", "pointerId", ")", ";", "if", "(", "mDragState", "=", "=", "STATE_DRAGGING", ")", "{", "break", ";", "}", "final", "View", "toCapture", "=", "findTopChildUnder", "(", "(", "int", ")", "x", ",", "(", "int", ")", "y", ")", ";", "if", "(", "checkTouchSlop", "(", "toCapture", ",", "dx", ",", "dy", ",", "x", ",", "y", ")", "&", "&", "tryCaptureViewForDrag", "(", "toCapture", ",", "pointerId", ")", ")", "{", "break", ";", "}", "}", "saveLastMotion", "(", "ev", ")", ";", "}", "break", ";", "}", "case", "MotionEvent", ".", "ACTION_POINTER_UP", ":", "{", "final", "int", "pointerId", "=", "ev", ".", "getPointerId", "(", "actionIndex", ")", ";", "if", "(", "mDragState", "=", "=", "STATE_DRAGGING", "&", "&", "pointerId", "=", "=", "mActivePointerId", ")", "{", "int", "newActivePointer", "=", "INVALID_POINTER", ";", "final", "int", "pointerCount", "=", "ev", ".", "getPointerCount", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "pointerCount", ";", "i", "+", "+", ")", "{", "final", "int", "id", "=", "ev", ".", "getPointerId", "(", "i", ")", ";", "if", "(", "id", "=", "=", "mActivePointerId", ")", "{", "continue", ";", "}", "final", "float", "x", "=", "ev", ".", "getX", "(", "i", ")", ";", "final", "float", "y", "=", "ev", ".", "getY", "(", "i", ")", ";", "if", "(", "findTopChildUnder", "(", "(", "int", ")", "x", ",", "(", "int", ")", "y", ")", "=", "=", "mCapturedView", "&", "&", "tryCaptureViewForDrag", "(", "mCapturedView", ",", "id", ")", ")", "{", "newActivePointer", "=", "mActivePointerId", ";", "break", ";", "}", "}", "if", "(", "newActivePointer", "=", "=", "INVALID_POINTER", ")", "{", "releaseViewForPointerUp", "(", ")", ";", "}", "}", "clearMotionHistory", "(", "pointerId", ")", ";", "break", ";", "}", "case", "MotionEvent", ".", "ACTION_UP", ":", "{", "if", "(", "mDragState", "=", "=", "STATE_DRAGGING", ")", "{", "releaseViewForPointerUp", "(", ")", ";", "}", "cancel", "(", ")", ";", "break", ";", "}", "case", "MotionEvent", ".", "ACTION_CANCEL", ":", "{", "if", "(", "mDragState", "=", "=", "STATE_DRAGGING", ")", "{", "dispatchViewReleased", "(", "0", ",", "0", ")", ";", "}", "cancel", "(", ")", ";", "break", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "reportNewEdgeDrags", "(", "float", "dx", ",", "float", "dy", ",", "int", "pointerId", ")", "{", "int", "dragsStarted", "=", "0", ";", "if", "(", "checkNewEdgeDrag", "(", "dx", ",", "dy", ",", "pointerId", ",", "EDGE_LEFT", ")", ")", "{", "dragsStarted", "|", "=", "EDGE_LEFT", ";", "}", "if", "(", "checkNewEdgeDrag", "(", "dy", ",", "dx", ",", "pointerId", ",", "EDGE_TOP", ")", ")", "{", "dragsStarted", "|", "=", "EDGE_TOP", ";", "}", "if", "(", "checkNewEdgeDrag", "(", "dx", ",", "dy", ",", "pointerId", ",", "EDGE_RIGHT", ")", ")", "{", "dragsStarted", "|", "=", "EDGE_RIGHT", ";", "}", "if", "(", "checkNewEdgeDrag", "(", "dy", ",", "dx", ",", "pointerId", ",", "EDGE_BOTTOM", ")", ")", "{", "dragsStarted", "|", "=", "EDGE_BOTTOM", ";", "}", "if", "(", "dragsStarted", "!", "=", "0", ")", "{", "mEdgeDragsInProgress", "[", "pointerId", "]", "|", "=", "dragsStarted", ";", "mCallback", ".", "onEdgeDragStarted", "(", "dragsStarted", ",", "pointerId", ")", ";", "}", "}", "</s>"]
["<s>", "private", "boolean", "checkNewEdgeDrag", "(", "float", "delta", ",", "float", "odelta", ",", "int", "pointerId", ",", "int", "edge", ")", "{", "final", "float", "absDelta", "=", "Math", ".", "abs", "(", "delta", ")", ";", "final", "float", "absODelta", "=", "Math", ".", "abs", "(", "odelta", ")", ";", "if", "(", "(", "mInitialEdgesTouched", "[", "pointerId", "]", "&", "edge", ")", "!", "=", "edge", "|", "|", "(", "mTrackingEdges", "&", "edge", ")", "=", "=", "0", "|", "|", "(", "mEdgeDragsLocked", "[", "pointerId", "]", "&", "edge", ")", "=", "=", "edge", "|", "|", "(", "mEdgeDragsInProgress", "[", "pointerId", "]", "&", "edge", ")", "=", "=", "edge", "|", "|", "(", "absDelta", "<", "=", "mTouchSlop", "&", "&", "absODelta", "<", "=", "mTouchSlop", ")", ")", "{", "return", "false", ";", "}", "if", "(", "absDelta", "<", "absODelta", "*", "<NUM_LIT>", "&", "&", "mCallback", ".", "onEdgeLock", "(", "edge", ")", ")", "{", "mEdgeDragsLocked", "[", "pointerId", "]", "|", "=", "edge", ";", "return", "false", ";", "}", "return", "(", "mEdgeDragsInProgress", "[", "pointerId", "]", "&", "edge", ")", "=", "=", "0", "&", "&", "absDelta", ">", "mTouchSlop", ";", "}", "</s>"]
["<s>", "private", "boolean", "checkTouchSlop", "(", "View", "child", ",", "float", "dx", ",", "float", "dy", ")", "{", "if", "(", "child", "=", "=", "null", ")", "{", "return", "false", ";", "}", "final", "boolean", "checkHorizontal", "=", "mCallback", ".", "getViewHorizontalDragRange", "(", "child", ")", ">", "0", ";", "final", "boolean", "checkVertical", "=", "mCallback", ".", "getViewVerticalDragRange", "(", "child", ")", ">", "0", ";", "if", "(", "checkHorizontal", "&", "&", "checkVertical", ")", "{", "return", "dx", "*", "dx", "+", "dy", "*", "dy", ">", "mTouchSlop", "*", "mTouchSlop", ";", "}", "else", "if", "(", "checkHorizontal", ")", "{", "return", "Math", ".", "abs", "(", "dx", ")", ">", "mTouchSlop", ";", "}", "else", "if", "(", "checkVertical", ")", "{", "return", "Math", ".", "abs", "(", "dy", ")", ">", "mTouchSlop", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "private", "boolean", "checkTouchSlop", "(", "View", "child", ",", "float", "dx", ",", "float", "dy", ",", "float", "x", ",", "float", "y", ")", "{", "boolean", "checkTouchSlop", "=", "checkTouchSlop", "(", "child", ",", "dx", ",", "dy", ")", ";", "if", "(", "checkTouchSlop", ")", "{", "if", "(", "Math", ".", "abs", "(", "dx", ")", "<", "Math", ".", "abs", "(", "dy", ")", ")", "{", "return", "false", ";", "}", "if", "(", "canScrollHorizontally", "(", "child", ",", "false", ",", "(", "int", ")", "dx", ",", "(", "int", ")", "x", ",", "(", "int", ")", "y", ")", ")", "{", "return", "false", ";", "}", "}", "return", "checkTouchSlop", ";", "}", "</s>"]
["<s>", "public", "boolean", "checkTouchSlop", "(", "int", "directions", ")", "{", "final", "int", "count", "=", "mInitialMotionX", ".", "length", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "count", ";", "i", "+", "+", ")", "{", "if", "(", "checkTouchSlop", "(", "directions", ",", "i", ")", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "public", "boolean", "checkTouchSlop", "(", "int", "directions", ",", "int", "pointerId", ")", "{", "if", "(", "!", "isPointerDown", "(", "pointerId", ")", ")", "{", "return", "false", ";", "}", "final", "boolean", "checkHorizontal", "=", "(", "directions", "&", "DIRECTION_HORIZONTAL", ")", "=", "=", "DIRECTION_HORIZONTAL", ";", "final", "boolean", "checkVertical", "=", "(", "directions", "&", "DIRECTION_VERTICAL", ")", "=", "=", "DIRECTION_VERTICAL", ";", "final", "float", "dx", "=", "mLastMotionX", "[", "pointerId", "]", "-", "mInitialMotionX", "[", "pointerId", "]", ";", "final", "float", "dy", "=", "mLastMotionY", "[", "pointerId", "]", "-", "mInitialMotionY", "[", "pointerId", "]", ";", "if", "(", "checkHorizontal", "&", "&", "checkVertical", ")", "{", "return", "dx", "*", "dx", "+", "dy", "*", "dy", ">", "mTouchSlop", "*", "mTouchSlop", ";", "}", "else", "if", "(", "checkHorizontal", ")", "{", "return", "Math", ".", "abs", "(", "dx", ")", ">", "mTouchSlop", ";", "}", "else", "if", "(", "checkVertical", ")", "{", "return", "Math", ".", "abs", "(", "dy", ")", ">", "mTouchSlop", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "public", "boolean", "isEdgeTouched", "(", "int", "edges", ")", "{", "final", "int", "count", "=", "mInitialEdgesTouched", ".", "length", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "count", ";", "i", "+", "+", ")", "{", "if", "(", "isEdgeTouched", "(", "edges", ",", "i", ")", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "public", "boolean", "isEdgeTouched", "(", "int", "edges", ",", "int", "pointerId", ")", "{", "return", "isPointerDown", "(", "pointerId", ")", "&", "&", "(", "mInitialEdgesTouched", "[", "pointerId", "]", "&", "edges", ")", "!", "=", "0", ";", "}", "</s>"]
["<s>", "private", "void", "releaseViewForPointerUp", "(", ")", "{", "mVelocityTracker", ".", "computeCurrentVelocity", "(", "<NUM_LIT:1000>", ",", "mMaxVelocity", ")", ";", "final", "float", "xvel", "=", "clampMag", "(", "mVelocityTracker", ".", "getXVelocity", "(", "mActivePointerId", ")", ",", "mMinVelocity", ",", "mMaxVelocity", ")", ";", "final", "float", "yvel", "=", "clampMag", "(", "mVelocityTracker", ".", "getYVelocity", "(", "mActivePointerId", ")", ",", "mMinVelocity", ",", "mMaxVelocity", ")", ";", "if", "(", "Math", ".", "abs", "(", "xvel", ")", ">", "Math", ".", "abs", "(", "yvel", ")", ")", "{", "dispatchViewReleased", "(", "xvel", ",", "0", ")", ";", "}", "else", "{", "dispatchViewReleased", "(", "0", ",", "yvel", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "dragTo", "(", "int", "left", ",", "int", "top", ",", "int", "dx", ",", "int", "dy", ")", "{", "int", "clampedX", "=", "left", ";", "int", "clampedY", "=", "top", ";", "final", "int", "oldLeft", "=", "mCapturedView", ".", "getLeft", "(", ")", ";", "final", "int", "oldTop", "=", "mCapturedView", ".", "getTop", "(", ")", ";", "if", "(", "dx", "!", "=", "0", ")", "{", "clampedX", "=", "mCallback", ".", "clampViewPositionHorizontal", "(", "mCapturedView", ",", "left", ",", "dx", ")", ";", "ViewCompat", ".", "offsetLeftAndRight", "(", "mCapturedView", ",", "clampedX", "-", "oldLeft", ")", ";", "}", "if", "(", "dy", "!", "=", "0", ")", "{", "clampedY", "=", "mCallback", ".", "clampViewPositionVertical", "(", "mCapturedView", ",", "top", ",", "dy", ")", ";", "ViewCompat", ".", "offsetTopAndBottom", "(", "mCapturedView", ",", "clampedY", "-", "oldTop", ")", ";", "}", "if", "(", "dx", "!", "=", "0", "|", "|", "dy", "!", "=", "0", ")", "{", "final", "int", "clampedDx", "=", "clampedX", "-", "oldLeft", ";", "final", "int", "clampedDy", "=", "clampedY", "-", "oldTop", ";", "mCallback", ".", "onViewPositionChanged", "(", "mCapturedView", ",", "clampedX", ",", "clampedY", ",", "clampedDx", ",", "clampedDy", ")", ";", "}", "}", "</s>"]
["<s>", "public", "boolean", "isCapturedViewUnder", "(", "int", "x", ",", "int", "y", ")", "{", "return", "isViewUnder", "(", "mCapturedView", ",", "x", ",", "y", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "isViewUnder", "(", "@", "Nullable", "View", "view", ",", "int", "x", ",", "int", "y", ")", "{", "if", "(", "view", "=", "=", "null", ")", "{", "return", "false", ";", "}", "return", "x", ">", "=", "view", ".", "getLeft", "(", ")", "&", "&", "x", "<", "view", ".", "getRight", "(", ")", "&", "&", "y", ">", "=", "view", ".", "getTop", "(", ")", "&", "&", "y", "<", "view", ".", "getBottom", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "public", "View", "findTopChildUnder", "(", "int", "x", ",", "int", "y", ")", "{", "final", "int", "childCount", "=", "mParentView", ".", "getChildCount", "(", ")", ";", "for", "(", "int", "i", "=", "childCount", "-", "1", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "final", "View", "child", "=", "mParentView", ".", "getChildAt", "(", "mCallback", ".", "getOrderedChildIndex", "(", "i", ")", ")", ";", "if", "(", "x", ">", "=", "child", ".", "getLeft", "(", ")", "&", "&", "x", "<", "child", ".", "getRight", "(", ")", "&", "&", "y", ">", "=", "child", ".", "getTop", "(", ")", "&", "&", "y", "<", "child", ".", "getBottom", "(", ")", ")", "{", "return", "child", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "private", "int", "getEdgesTouched", "(", "int", "x", ",", "int", "y", ")", "{", "int", "result", "=", "0", ";", "if", "(", "x", "<", "mParentView", ".", "getLeft", "(", ")", "+", "mEdgeSize", ")", "result", "|", "=", "EDGE_LEFT", ";", "if", "(", "y", "<", "mParentView", ".", "getTop", "(", ")", "+", "mEdgeSize", ")", "result", "|", "=", "EDGE_TOP", ";", "if", "(", "x", ">", "mParentView", ".", "getRight", "(", ")", "-", "mEdgeSize", ")", "result", "|", "=", "EDGE_RIGHT", ";", "if", "(", "y", ">", "mParentView", ".", "getBottom", "(", ")", "-", "mEdgeSize", ")", "result", "|", "=", "EDGE_BOTTOM", ";", "return", "result", ";", "}", "</s>"]
["<s>", "private", "boolean", "isValidPointerForActionMove", "(", "int", "pointerId", ")", "{", "if", "(", "!", "isPointerDown", "(", "pointerId", ")", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "pointerId", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", ")", ";", "return", "false", ";", "}", "return", "true", ";", "}", "</s>"]
["<s>", "public", "ViewDragHelper", "getViewDragHelper", "(", ")", "{", "return", "mHelper", ";", "}", "</s>"]
["<s>", "private", "void", "onDragFinished", "(", ")", "{", "if", "(", "mListeners", "!", "=", "null", ")", "{", "for", "(", "OnSwipeListener", "listener", ":", "mListeners", ")", "{", "listener", ".", "onDragStateChange", "(", "STATE_FINISHED", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "long", "getPopExitAnimDuration", "(", ")", "{", "if", "(", "mCustomPopExitAnim", "=", "=", "Integer", ".", "MIN_VALUE", ")", "{", "if", "(", "mAnimHelper", "!", "=", "null", "&", "&", "mAnimHelper", ".", "popExitAnim", "!", "=", "null", ")", "{", "return", "mAnimHelper", ".", "popExitAnim", ".", "getDuration", "(", ")", ";", "}", "}", "else", "{", "try", "{", "return", "AnimationUtils", ".", "loadAnimation", "(", "_mActivity", ",", "mCustomPopExitAnim", ")", ".", "getDuration", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "return", "NOT_FOUND_ANIM_TIME", ";", "}", "</s>"]
["<s>", "private", "Animation", "getEnterAnim", "(", ")", "{", "if", "(", "mCustomEnterAnim", "=", "=", "Integer", ".", "MIN_VALUE", ")", "{", "if", "(", "mAnimHelper", "!", "=", "null", "&", "&", "mAnimHelper", ".", "enterAnim", "!", "=", "null", ")", "{", "return", "mAnimHelper", ".", "enterAnim", ";", "}", "}", "else", "{", "try", "{", "return", "AnimationUtils", ".", "loadAnimation", "(", "_mActivity", ",", "mCustomEnterAnim", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Nullable", "Animation", "getExitAnim", "(", ")", "{", "if", "(", "mCustomExitAnim", "=", "=", "Integer", ".", "MIN_VALUE", ")", "{", "if", "(", "mAnimHelper", "!", "=", "null", "&", "&", "mAnimHelper", ".", "exitAnim", "!", "=", "null", ")", "{", "return", "mAnimHelper", ".", "exitAnim", ";", "}", "}", "else", "{", "try", "{", "return", "AnimationUtils", ".", "loadAnimation", "(", "_mActivity", ",", "mCustomExitAnim", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "static", "ISupportFragment", "getBackStackTopFragment", "(", "FragmentManager", "fragmentManager", ")", "{", "return", "getBackStackTopFragment", "(", "fragmentManager", ",", "0", ")", ";", "}", "</s>"]
["<s>", "public", "static", "ISupportFragment", "getBackStackTopFragment", "(", "FragmentManager", "fragmentManager", ",", "int", "containerId", ")", "{", "int", "count", "=", "fragmentManager", ".", "getBackStackEntryCount", "(", ")", ";", "for", "(", "int", "i", "=", "count", "-", "1", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "FragmentManager", ".", "BackStackEntry", "entry", "=", "fragmentManager", ".", "getBackStackEntryAt", "(", "i", ")", ";", "Fragment", "fragment", "=", "fragmentManager", ".", "findFragmentByTag", "(", "entry", ".", "getName", "(", ")", ")", ";", "if", "(", "fragment", "instanceof", "ISupportFragment", ")", "{", "ISupportFragment", "supportFragment", "=", "(", "ISupportFragment", ")", "fragment", ";", "if", "(", "containerId", "=", "=", "0", ")", "return", "supportFragment", ";", "if", "(", "containerId", "=", "=", "supportFragment", ".", "getSupportDelegate", "(", ")", ".", "mContainerId", ")", "{", "return", "supportFragment", ";", "}", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "static", "<", "T", "extends", "ISupportFragment", ">", "T", "findBackStackFragment", "(", "Class", "<", "T", ">", "fragmentClass", ",", "String", "toFragmentTag", ",", "FragmentManager", "fragmentManager", ")", "{", "int", "count", "=", "fragmentManager", ".", "getBackStackEntryCount", "(", ")", ";", "if", "(", "toFragmentTag", "=", "=", "null", ")", "{", "toFragmentTag", "=", "fragmentClass", ".", "getName", "(", ")", ";", "}", "for", "(", "int", "i", "=", "count", "-", "1", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "FragmentManager", ".", "BackStackEntry", "entry", "=", "fragmentManager", ".", "getBackStackEntryAt", "(", "i", ")", ";", "if", "(", "toFragmentTag", ".", "equals", "(", "entry", ".", "getName", "(", ")", ")", ")", "{", "Fragment", "fragment", "=", "fragmentManager", ".", "findFragmentByTag", "(", "entry", ".", "getName", "(", ")", ")", ";", "if", "(", "fragment", "instanceof", "ISupportFragment", ")", "{", "return", "(", "T", ")", "fragment", ";", "}", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "static", "List", "<", "Fragment", ">", "getWillPopFragments", "(", "FragmentManager", "fm", ",", "String", "targetTag", ",", "boolean", "includeTarget", ")", "{", "Fragment", "target", "=", "fm", ".", "findFragmentByTag", "(", "targetTag", ")", ";", "List", "<", "Fragment", ">", "willPopFragments", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "List", "<", "Fragment", ">", "fragmentList", "=", "FragmentationMagician", ".", "getActiveFragments", "(", "fm", ")", ";", "if", "(", "fragmentList", "=", "=", "null", ")", "return", "willPopFragments", ";", "int", "size", "=", "fragmentList", ".", "size", "(", ")", ";", "int", "startIndex", "=", "-", "1", ";", "for", "(", "int", "i", "=", "size", "-", "1", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "if", "(", "target", "=", "=", "fragmentList", ".", "get", "(", "i", ")", ")", "{", "if", "(", "includeTarget", ")", "{", "startIndex", "=", "i", ";", "}", "else", "if", "(", "i", "+", "1", "<", "size", ")", "{", "startIndex", "=", "i", "+", "1", ";", "}", "break", ";", "}", "}", "if", "(", "startIndex", "=", "=", "-", "1", ")", "return", "willPopFragments", ";", "for", "(", "int", "i", "=", "size", "-", "1", ";", "i", ">", "=", "startIndex", ";", "i", "-", "-", ")", "{", "Fragment", "fragment", "=", "fragmentList", ".", "get", "(", "i", ")", ";", "if", "(", "fragment", "!", "=", "null", ")", "{", "willPopFragments", ".", "add", "(", "fragmentList", ".", "get", "(", "i", ")", ")", ";", "}", "}", "return", "willPopFragments", ";", "}", "</s>"]
["<s>", "private", "void", "removeTopFragment", "(", "FragmentManager", "fm", ")", "{", "ISupportFragment", "top", "=", "SupportHelper", ".", "getBackStackTopFragment", "(", "fm", ")", ";", "if", "(", "top", "!", "=", "null", ")", "{", "fm", ".", "beginTransaction", "(", ")", ".", "setTransition", "(", "FragmentTransaction", ".", "TRANSIT_FRAGMENT_CLOSE", ")", ".", "remove", "(", "(", "Fragment", ")", "top", ")", ".", "commitAllowingStateLoss", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "doPopTo", "(", "final", "String", "targetFragmentTag", ",", "boolean", "includeTargetFragment", ",", "FragmentManager", "fm", ",", "int", "popAnim", ")", "{", "handleAfterSaveInStateTransactionException", "(", "fm", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Fragment", "targetFragment", "=", "fm", ".", "findFragmentByTag", "(", "targetFragmentTag", ")", ";", "if", "(", "targetFragment", "=", "=", "null", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "targetFragmentTag", "+", "\"", "<STR_LIT>", "\"", ")", ";", "return", ";", "}", "int", "flag", "=", "0", ";", "if", "(", "includeTargetFragment", ")", "{", "flag", "=", "FragmentManager", ".", "POP_BACK_STACK_INCLUSIVE", ";", "}", "List", "<", "Fragment", ">", "willPopFragments", "=", "SupportHelper", ".", "getWillPopFragments", "(", "fm", ",", "targetFragmentTag", ",", "includeTargetFragment", ")", ";", "if", "(", "willPopFragments", ".", "size", "(", ")", "<", "=", "0", ")", "return", ";", "Fragment", "top", "=", "willPopFragments", ".", "get", "(", "willPopFragments", ".", "size", "(", ")", "-", "1", ")", ";", "mockPopToAnim", "(", "top", ",", "targetFragmentTag", ",", "fm", ",", "flag", ",", "willPopFragments", ",", "popAnim", ")", ";", "}", "</s>"]
["<s>", "private", "void", "safePopTo", "(", "String", "fragmentTag", ",", "final", "FragmentManager", "fm", ",", "int", "flag", ",", "List", "<", "Fragment", ">", "willPopFragments", ")", "{", "mSupport", ".", "getSupportDelegate", "(", ")", ".", "mPopMultipleNoAnim", "=", "true", ";", "FragmentTransaction", "transaction", "=", "fm", ".", "beginTransaction", "(", ")", ".", "setTransition", "(", "FragmentTransaction", ".", "TRANSIT_FRAGMENT_CLOSE", ")", ";", "for", "(", "Fragment", "fragment", ":", "willPopFragments", ")", "{", "transaction", ".", "remove", "(", "fragment", ")", ";", "}", "transaction", ".", "commitAllowingStateLoss", "(", ")", ";", "FragmentationMagician", ".", "popBackStackAllowingStateLoss", "(", "fm", ",", "fragmentTag", ",", "flag", ")", ";", "FragmentationMagician", ".", "executePendingTransactionsAllowingStateLoss", "(", "fm", ")", ";", "mSupport", ".", "getSupportDelegate", "(", ")", ".", "mPopMultipleNoAnim", "=", "false", ";", "if", "(", "FragmentationMagician", ".", "sSupportLessThan25dot4", ")", "{", "mHandler", ".", "post", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "FragmentationMagician", ".", "reorderIndices", "(", "fm", ")", ";", "}", "}", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "mockPopToAnim", "(", "Fragment", "from", ",", "String", "targetFragmentTag", ",", "FragmentManager", "fm", ",", "int", "flag", ",", "List", "<", "Fragment", ">", "willPopFragments", ",", "int", "popAnim", ")", "{", "if", "(", "!", "(", "from", "instanceof", "ISupportFragment", ")", ")", "{", "safePopTo", "(", "targetFragmentTag", ",", "fm", ",", "flag", ",", "willPopFragments", ")", ";", "return", ";", "}", "final", "ISupportFragment", "fromSupport", "=", "(", "ISupportFragment", ")", "from", ";", "final", "ViewGroup", "container", "=", "findContainerById", "(", "from", ",", "fromSupport", ".", "getSupportDelegate", "(", ")", ".", "mContainerId", ")", ";", "if", "(", "container", "=", "=", "null", ")", "return", ";", "final", "View", "fromView", "=", "from", ".", "getView", "(", ")", ";", "if", "(", "fromView", "=", "=", "null", ")", "return", ";", "container", ".", "removeViewInLayout", "(", "fromView", ")", ";", "final", "ViewGroup", "mock", "=", "addMockView", "(", "fromView", ",", "container", ")", ";", "safePopTo", "(", "targetFragmentTag", ",", "fm", ",", "flag", ",", "willPopFragments", ")", ";", "Animation", "animation", ";", "if", "(", "popAnim", "=", "=", "DEFAULT_POPTO_ANIM", ")", "{", "animation", "=", "fromSupport", ".", "getSupportDelegate", "(", ")", ".", "getExitAnim", "(", ")", ";", "if", "(", "animation", "=", "=", "null", ")", "{", "animation", "=", "new", "Animation", "(", ")", "{", "}", ";", "}", "}", "else", "if", "(", "popAnim", "=", "=", "0", ")", "{", "animation", "=", "new", "Animation", "(", ")", "{", "}", ";", "}", "else", "{", "animation", "=", "AnimationUtils", ".", "loadAnimation", "(", "mActivity", ",", "popAnim", ")", ";", "}", "fromView", ".", "startAnimation", "(", "animation", ")", ";", "mHandler", ".", "postDelayed", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "try", "{", "mock", ".", "removeViewInLayout", "(", "fromView", ")", ";", "container", ".", "removeViewInLayout", "(", "mock", ")", ";", "}", "catch", "(", "Exception", "ignored", ")", "{", "}", "}", "}", ",", "animation", ".", "getDuration", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "startWithPopTo", "(", "ISupportFragment", "toFragment", ",", "Class", "<", "?", ">", "targetFragmentClass", ",", "boolean", "includeTargetFragment", ")", "{", "mDelegate", ".", "startWithPopTo", "(", "toFragment", ",", "targetFragmentClass", ",", "includeTargetFragment", ")", ";", "}", "</s>"]
["<s>", "public", "void", "startWithPopTo", "(", "ISupportFragment", "toFragment", ",", "Class", "<", "?", ">", "targetFragmentClass", ",", "boolean", "includeTargetFragment", ")", "{", "mTransactionDelegate", ".", "startWithPopTo", "(", "getSupportFragmentManager", "(", ")", ",", "getTopFragment", "(", ")", ",", "toFragment", ",", "targetFragmentClass", ".", "getName", "(", ")", ",", "includeTargetFragment", ")", ";", "}", "</s>"]
["<s>", "public", "void", "startWithPopTo", "(", "ISupportFragment", "toFragment", ",", "Class", "<", "?", ">", "targetFragmentClass", ",", "boolean", "includeTargetFragment", ")", "{", "mTransactionDelegate", ".", "startWithPopTo", "(", "mFragment", ".", "getFragmentManager", "(", ")", ",", "mSupportF", ",", "toFragment", ",", "targetFragmentClass", ".", "getName", "(", ")", ",", "includeTargetFragment", ")", ";", "}", "</s>"]
["<s>", "void", "startWithPopTo", "(", "final", "FragmentManager", "fm", ",", "final", "ISupportFragment", "from", ",", "final", "ISupportFragment", "to", ",", "final", "String", "fragmentTag", ",", "final", "boolean", "includeTargetFragment", ")", "{", "enqueue", "(", "fm", ",", "new", "Action", "(", "Action", ".", "ACTION_POP_MOCK", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "int", "flag", "=", "0", ";", "if", "(", "includeTargetFragment", ")", "{", "flag", "=", "FragmentManager", ".", "POP_BACK_STACK_INCLUSIVE", ";", "}", "List", "<", "Fragment", ">", "willPopFragments", "=", "SupportHelper", ".", "getWillPopFragments", "(", "fm", ",", "fragmentTag", ",", "includeTargetFragment", ")", ";", "final", "ISupportFragment", "top", "=", "getTopFragmentForStart", "(", "from", ",", "fm", ")", ";", "if", "(", "top", "=", "=", "null", ")", "throw", "new", "NullPointerException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "int", "containerId", "=", "top", ".", "getSupportDelegate", "(", ")", ".", "mContainerId", ";", "bindContainerId", "(", "containerId", ",", "to", ")", ";", "if", "(", "willPopFragments", ".", "size", "(", ")", "<", "=", "0", ")", "return", ";", "handleAfterSaveInStateTransactionException", "(", "fm", ",", "\"", "<STR_LIT>", "\"", ")", ";", "FragmentationMagician", ".", "executePendingTransactionsAllowingStateLoss", "(", "fm", ")", ";", "if", "(", "!", "FragmentationMagician", ".", "isStateSaved", "(", "fm", ")", ")", "{", "mockStartWithPopAnim", "(", "SupportHelper", ".", "getTopFragment", "(", "fm", ")", ",", "to", ",", "top", ".", "getSupportDelegate", "(", ")", ".", "mAnimHelper", ".", "popExitAnim", ")", ";", "}", "safePopTo", "(", "fragmentTag", ",", "fm", ",", "flag", ",", "willPopFragments", ")", ";", "}", "}", ")", ";", "dispatchStartTransaction", "(", "fm", ",", "from", ",", "to", ",", "0", ",", "ISupportFragment", ".", "STANDARD", ",", "TransactionDelegate", ".", "TYPE_ADD", ")", ";", "}", "</s>"]
["<s>", "private", "static", "void", "compatRunAction", "(", "FragmentManagerImpl", "fragmentManagerImpl", ",", "Runnable", "runnable", ")", "{", "if", "(", "sSupportGreaterThan27dot1dot0", ")", "{", "fragmentManagerImpl", ".", "mStopped", "=", "false", ";", "runnable", ".", "run", "(", ")", ";", "fragmentManagerImpl", ".", "mStopped", "=", "true", ";", "}", "else", "{", "runnable", ".", "run", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "DemoDialogFragment", "newInstance", "(", ")", "{", "return", "new", "DemoDialogFragment", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setSwipeAlpha", "(", "@", "FloatRange", "(", "from", "=", "<NUM_LIT:0.0f>", ",", "to", "=", "<NUM_LIT:1.0f>", ")", "float", "alpha", ")", "{", "this", ".", "mSwipeAlpha", "=", "alpha", ";", "}", "</s>"]
["<s>", "private", "void", "initVisible", "(", ")", "{", "if", "(", "!", "mInvisibleWhenLeave", "&", "&", "!", "mFragment", ".", "isHidden", "(", ")", "&", "&", "mFragment", ".", "getUserVisibleHint", "(", ")", ")", "{", "if", "(", "(", "mFragment", ".", "getParentFragment", "(", ")", "!", "=", "null", "&", "&", "isFragmentVisible", "(", "mFragment", ".", "getParentFragment", "(", ")", ")", ")", "|", "|", "mFragment", ".", "getParentFragment", "(", ")", "=", "=", "null", ")", "{", "mNeedDispatch", "=", "false", ";", "safeDispatchUserVisibleHint", "(", "true", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "onFragmentShownWhenNotResumed", "(", ")", "{", "mInvisibleWhenLeave", "=", "false", ";", "dispatchChildOnFragmentShownWhenNotResumed", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "dispatchChildOnFragmentShownWhenNotResumed", "(", ")", "{", "FragmentManager", "fragmentManager", "=", "mFragment", ".", "getChildFragmentManager", "(", ")", ";", "List", "<", "Fragment", ">", "childFragments", "=", "FragmentationMagician", ".", "getActiveFragments", "(", "fragmentManager", ")", ";", "if", "(", "childFragments", "!", "=", "null", ")", "{", "for", "(", "Fragment", "child", ":", "childFragments", ")", "{", "if", "(", "child", "instanceof", "ISupportFragment", "&", "&", "!", "child", ".", "isHidden", "(", ")", "&", "&", "child", ".", "getUserVisibleHint", "(", ")", ")", "{", "(", "(", "ISupportFragment", ")", "child", ")", ".", "getSupportDelegate", "(", ")", ".", "getVisibleDelegate", "(", ")", ".", "onFragmentShownWhenNotResumed", "(", ")", ";", "}", "}", "}", "}", "</s>"]
