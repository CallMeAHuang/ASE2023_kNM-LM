["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_main", ")", ";", "UserManager", ".", "sUserId", "=", "<NUM_LIT:2>", ";", "findViewById", "(", "R", ".", "id", ".", "button1", ")", ".", "setOnClickListener", "(", "new", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setClass", "(", "MainActivity", ".", "this", ",", "SecondActivity", ".", "class", ")", ";", "User", "user", "=", "new", "User", "(", "0", ",", "\"", "<STR_LIT>", "\"", ",", "true", ")", ";", "user", ".", "book", "=", "new", "Book", "(", ")", ";", "intent", ".", "putExtra", "(", "\"", "<STR_LIT>", "\"", ",", "(", "Serializable", ")", "user", ")", ";", "startActivity", "(", "intent", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setClass", "(", "MainActivity", ".", "this", ",", "SecondActivity", ".", "class", ")", ";", "User", "user", "=", "new", "User", "(", "0", ",", "\"", "<STR_LIT>", "\"", ",", "true", ")", ";", "user", ".", "book", "=", "new", "Book", "(", ")", ";", "intent", ".", "putExtra", "(", "\"", "<STR_LIT>", "\"", ",", "(", "Serializable", ")", "user", ")", ";", "startActivity", "(", "intent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onResume", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "UserManager", ".", "sUserId", ")", ";", "persistToFile", "(", ")", ";", "super", ".", "onResume", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "persistToFile", "(", ")", "{", "new", "Thread", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "User", "user", "=", "new", "User", "(", "1", ",", "\"", "<STR_LIT>", "\"", ",", "false", ")", ";", "File", "dir", "=", "new", "File", "(", "MyConstants", ".", "CHAPTER_2_PATH", ")", ";", "if", "(", "!", "dir", ".", "exists", "(", ")", ")", "{", "dir", ".", "mkdirs", "(", ")", ";", "}", "File", "cachedFile", "=", "new", "File", "(", "MyConstants", ".", "CACHE_FILE_PATH", ")", ";", "ObjectOutputStream", "objectOutputStream", "=", "null", ";", "try", "{", "objectOutputStream", "=", "new", "ObjectOutputStream", "(", "new", "FileOutputStream", "(", "cachedFile", ")", ")", ";", "objectOutputStream", ".", "writeObject", "(", "user", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "user", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "finally", "{", "MyUtils", ".", "close", "(", "objectOutputStream", ")", ";", "}", "}", "}", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "User", "user", "=", "new", "User", "(", "1", ",", "\"", "<STR_LIT>", "\"", ",", "false", ")", ";", "File", "dir", "=", "new", "File", "(", "MyConstants", ".", "CHAPTER_2_PATH", ")", ";", "if", "(", "!", "dir", ".", "exists", "(", ")", ")", "{", "dir", ".", "mkdirs", "(", ")", ";", "}", "File", "cachedFile", "=", "new", "File", "(", "MyConstants", ".", "CACHE_FILE_PATH", ")", ";", "ObjectOutputStream", "objectOutputStream", "=", "null", ";", "try", "{", "objectOutputStream", "=", "new", "ObjectOutputStream", "(", "new", "FileOutputStream", "(", "cachedFile", ")", ")", ";", "objectOutputStream", ".", "writeObject", "(", "user", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "user", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "finally", "{", "MyUtils", ".", "close", "(", "objectOutputStream", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_third", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button1", ")", ".", "setOnClickListener", "(", "new", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setClass", "(", "ThirdActivity", ".", "this", ",", "SecondActivity", ".", "class", ")", ";", "intent", ".", "putExtra", "(", "\"", "<STR_LIT>", "\"", ",", "System", ".", "currentTimeMillis", "(", ")", ")", ";", "startActivity", "(", "intent", ")", ";", "}", "}", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setClass", "(", "ThirdActivity", ".", "this", ",", "SecondActivity", ".", "class", ")", ";", "intent", ".", "putExtra", "(", "\"", "<STR_LIT>", "\"", ",", "System", ".", "currentTimeMillis", "(", ")", ")", ";", "startActivity", "(", "intent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onStart", "(", ")", "{", "super", ".", "onStart", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onResume", "(", ")", "{", "super", ".", "onResume", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onSaveInstanceState", "(", "Bundle", "outState", ")", "{", "super", ".", "onSaveInstanceState", "(", "outState", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onRestoreInstanceState", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onRestoreInstanceState", "(", "savedInstanceState", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "String", "processName", "=", "MyUtils", ".", "getProcessName", "(", "getApplicationContext", "(", ")", ",", "Process", ".", "myPid", "(", ")", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "processName", ")", ";", "new", "Thread", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "doWorkInBackground", "(", ")", ";", "}", "}", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "doWorkInBackground", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "doWorkInBackground", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_second", ")", ";", "findViewById", "(", "R", ".", "id", ".", "button1", ")", ".", "setOnClickListener", "(", "new", "OnClickListener", "(", ")", "{", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setClass", "(", "SecondActivity", ".", "this", ",", "ThirdActivity", ".", "class", ")", ";", "intent", ".", "putExtra", "(", "\"", "<STR_LIT>", "\"", ",", "System", ".", "currentTimeMillis", "(", ")", ")", ";", "startActivity", "(", "intent", ")", ";", "}", "}", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setClass", "(", "SecondActivity", ".", "this", ",", "ThirdActivity", ".", "class", ")", ";", "intent", ".", "putExtra", "(", "\"", "<STR_LIT>", "\"", ",", "System", ".", "currentTimeMillis", "(", ")", ")", ";", "startActivity", "(", "intent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onNewIntent", "(", "Intent", "intent", ")", "{", "super", ".", "onNewIntent", "(", "intent", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onResume", "(", ")", "{", "super", ".", "onResume", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "recoverFromFile", "(", ")", "{", "new", "Thread", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "User", "user", "=", "null", ";", "File", "cachedFile", "=", "new", "File", "(", "MyConstants", ".", "CACHE_FILE_PATH", ")", ";", "if", "(", "cachedFile", ".", "exists", "(", ")", ")", "{", "ObjectInputStream", "objectInputStream", "=", "null", ";", "try", "{", "objectInputStream", "=", "new", "ObjectInputStream", "(", "new", "FileInputStream", "(", "cachedFile", ")", ")", ";", "user", "=", "(", "User", ")", "objectInputStream", ".", "readObject", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "user", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "ClassNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "finally", "{", "MyUtils", ".", "close", "(", "objectInputStream", ")", ";", "}", "}", "}", "}", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "User", "user", "=", "null", ";", "File", "cachedFile", "=", "new", "File", "(", "MyConstants", ".", "CACHE_FILE_PATH", ")", ";", "if", "(", "cachedFile", ".", "exists", "(", ")", ")", "{", "ObjectInputStream", "objectInputStream", "=", "null", ";", "try", "{", "objectInputStream", "=", "new", "ObjectInputStream", "(", "new", "FileInputStream", "(", "cachedFile", ")", ")", ";", "user", "=", "(", "User", ")", "objectInputStream", ".", "readObject", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "user", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "ClassNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "finally", "{", "MyUtils", ".", "close", "(", "objectInputStream", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "Book", "(", ")", "{", "}", "</s>"]
["<s>", "public", "Book", "(", "int", "bookId", ",", "String", "bookName", ")", "{", "this", ".", "bookId", "=", "bookId", ";", "this", ".", "bookName", "=", "bookName", ";", "}", "</s>"]
["<s>", "public", "int", "describeContents", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "public", "void", "writeToParcel", "(", "Parcel", "out", ",", "int", "flags", ")", "{", "out", ".", "writeInt", "(", "bookId", ")", ";", "out", ".", "writeString", "(", "bookName", ")", ";", "}", "</s>"]
["<s>", "public", "Book", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "Book", "(", "in", ")", ";", "}", "</s>"]
["<s>", "public", "Book", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "Book", "[", "size", "]", ";", "}", "</s>"]
["<s>", "private", "Book", "(", "Parcel", "in", ")", "{", "bookId", "=", "in", ".", "readInt", "(", ")", ";", "bookName", "=", "in", ".", "readString", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "bookId", ",", "bookName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "handleMessage", "(", "Message", "msg", ")", "{", "switch", "(", "msg", ".", "what", ")", "{", "case", "MESSAGE_NEW_BOOK_ARRIVED", ":", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "msg", ".", "obj", ")", ";", "mEditText", ".", "append", "(", "msg", ".", "obj", ".", "toString", "(", ")", "+", "\"", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "break", ";", "default", ":", "super", ".", "handleMessage", "(", "msg", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "binderDied", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "Thread", ".", "currentThread", "(", ")", ".", "getName", "(", ")", ")", ";", "if", "(", "mRemoteBookManager", "=", "=", "null", ")", "return", ";", "mRemoteBookManager", ".", "asBinder", "(", ")", ".", "unlinkToDeath", "(", "mDeathRecipient", ",", "0", ")", ";", "mRemoteBookManager", "=", "null", ";", "}", "</s>"]
["<s>", "public", "void", "onServiceConnected", "(", "ComponentName", "className", ",", "IBinder", "service", ")", "{", "IBookManager", "bookManager", "=", "IBookManager", ".", "Stub", ".", "asInterface", "(", "service", ")", ";", "mRemoteBookManager", "=", "bookManager", ";", "try", "{", "mRemoteBookManager", ".", "asBinder", "(", ")", ".", "linkToDeath", "(", "mDeathRecipient", ",", "0", ")", ";", "List", "<", "Book", ">", "list", "=", "bookManager", ".", "getBookList", "(", ")", ";", "Log", ".", "i", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "list", ".", "getClass", "(", ")", ".", "getCanonicalName", "(", ")", ")", ";", "Log", ".", "i", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "list", ".", "toString", "(", ")", ")", ";", "Book", "newBook", "=", "new", "Book", "(", "<NUM_LIT:3>", ",", "\"", "<STR_LIT>", "\"", ")", ";", "bookManager", ".", "addBook", "(", "newBook", ")", ";", "Log", ".", "i", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "newBook", ")", ";", "List", "<", "Book", ">", "newList", "=", "bookManager", ".", "getBookList", "(", ")", ";", "Log", ".", "i", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "newList", ".", "toString", "(", ")", ")", ";", "bookManager", ".", "registerListener", "(", "mOnNewBookArrivedListener", ")", ";", "}", "catch", "(", "RemoteException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "onServiceDisconnected", "(", "ComponentName", "className", ")", "{", "mRemoteBookManager", "=", "null", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "Thread", ".", "currentThread", "(", ")", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onNewBookArrived", "(", "Book", "newBook", ")", "throws", "RemoteException", "{", "mHandler", ".", "obtainMessage", "(", "MESSAGE_NEW_BOOK_ARRIVED", ",", "newBook", ")", ".", "sendToTarget", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_book_manager", ")", ";", "mEditText", "=", "(", "EditText", ")", "findViewById", "(", "R", ".", "id", ".", "editText", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "this", ",", "BookManagerService", ".", "class", ")", ";", "bindService", "(", "intent", ",", "mConnection", ",", "Context", ".", "BIND_AUTO_CREATE", ")", ";", "}", "</s>"]
["<s>", "public", "void", "onButton1Click", "(", "View", "view", ")", "{", "new", "Thread", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "mRemoteBookManager", "!", "=", "null", ")", "{", "try", "{", "List", "<", "Book", ">", "newList", "=", "mRemoteBookManager", ".", "getBookList", "(", ")", ";", "}", "catch", "(", "RemoteException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "}", ")", ".", "start", "(", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "this", ",", "TCPClientActivity", ".", "class", ")", ";", "startActivity", "(", "intent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "mRemoteBookManager", "!", "=", "null", ")", "{", "try", "{", "List", "<", "Book", ">", "newList", "=", "mRemoteBookManager", ".", "getBookList", "(", ")", ";", "}", "catch", "(", "RemoteException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDestroy", "(", ")", "{", "if", "(", "mRemoteBookManager", "!", "=", "null", "&", "&", "mRemoteBookManager", ".", "asBinder", "(", ")", ".", "isBinderAlive", "(", ")", ")", "{", "try", "{", "Log", ".", "i", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "mOnNewBookArrivedListener", ")", ";", "mRemoteBookManager", ".", "unregisterListener", "(", "mOnNewBookArrivedListener", ")", ";", "}", "catch", "(", "RemoteException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "unbindService", "(", "mConnection", ")", ";", "super", ".", "onDestroy", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "Book", ">", "getBookList", "(", ")", "throws", "RemoteException", "{", "return", "mBookList", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addBook", "(", "Book", "book", ")", "throws", "RemoteException", "{", "mBookList", ".", "add", "(", "book", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "onTransact", "(", "int", "code", ",", "Parcel", "data", ",", "Parcel", "reply", ",", "int", "flags", ")", "throws", "RemoteException", "{", "int", "check", "=", "checkCallingOrSelfPermission", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT:=>", "\"", "+", "check", ")", ";", "if", "(", "check", "=", "=", "PackageManager", ".", "PERMISSION_DENIED", ")", "{", "}", "String", "packageName", "=", "null", ";", "String", "[", "]", "packages", "=", "getPackageManager", "(", ")", ".", "getPackagesForUid", "(", "getCallingUid", "(", ")", ")", ";", "if", "(", "packages", "!", "=", "null", "&", "&", "packages", ".", "length", ">", "0", ")", "{", "packageName", "=", "packages", "[", "0", "]", ";", "}", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "packageName", ")", ";", "if", "(", "!", "packageName", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "}", "return", "super", ".", "onTransact", "(", "code", ",", "data", ",", "reply", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "registerListener", "(", "IOnNewBookArrivedListener", "listener", ")", "throws", "RemoteException", "{", "mListenerList", ".", "register", "(", "listener", ")", ";", "final", "int", "N", "=", "mListenerList", ".", "beginBroadcast", "(", ")", ";", "mListenerList", ".", "finishBroadcast", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "N", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "unregisterListener", "(", "IOnNewBookArrivedListener", "listener", ")", "throws", "RemoteException", "{", "boolean", "success", "=", "mListenerList", ".", "unregister", "(", "listener", ")", ";", "if", "(", "success", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "else", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "final", "int", "N", "=", "mListenerList", ".", "beginBroadcast", "(", ")", ";", "mListenerList", ".", "finishBroadcast", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "N", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "mBookList", ".", "add", "(", "new", "Book", "(", "1", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "mBookList", ".", "add", "(", "new", "Book", "(", "<NUM_LIT:2>", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "new", "Thread", "(", "new", "ServiceWorker", "(", ")", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "intent", ")", "{", "return", "mBinder", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroy", "(", ")", "{", "mIsServiceDestoryed", ".", "set", "(", "true", ")", ";", "super", ".", "onDestroy", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "onNewBookArrived", "(", "Book", "book", ")", "throws", "RemoteException", "{", "mBookList", ".", "add", "(", "book", ")", ";", "final", "int", "N", "=", "mListenerList", ".", "beginBroadcast", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "N", ";", "i", "+", "+", ")", "{", "IOnNewBookArrivedListener", "l", "=", "mListenerList", ".", "getBroadcastItem", "(", "i", ")", ";", "if", "(", "l", "!", "=", "null", ")", "{", "try", "{", "l", ".", "onNewBookArrived", "(", "book", ")", ";", "}", "catch", "(", "RemoteException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "mListenerList", ".", "finishBroadcast", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "while", "(", "!", "mIsServiceDestoryed", ".", "get", "(", ")", ")", "{", "try", "{", "Thread", ".", "sleep", "(", "<NUM_LIT>", ")", ";", "}", "catch", "(", "InterruptedException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "int", "bookId", "=", "mBookList", ".", "size", "(", ")", "+", "1", ";", "Book", "newBook", "=", "new", "Book", "(", "bookId", ",", "\"", "<STR_LIT>", "\"", "+", "bookId", ")", ";", "try", "{", "onNewBookArrived", "(", "newBook", ")", ";", "}", "catch", "(", "RemoteException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "List", "<", "Book", ">", "getBookList", "(", ")", "throws", "RemoteException", ";", "</s>"]
["<s>", "public", "void", "addBook", "(", "Book", "book", ")", "throws", "RemoteException", ";", "</s>"]
["<s>", "public", "Book", "(", ")", "{", "}", "</s>"]
["<s>", "public", "Book", "(", "int", "bookId", ",", "String", "bookName", ")", "{", "this", ".", "bookId", "=", "bookId", ";", "this", ".", "bookName", "=", "bookName", ";", "}", "</s>"]
["<s>", "public", "int", "describeContents", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "public", "void", "writeToParcel", "(", "Parcel", "out", ",", "int", "flags", ")", "{", "out", ".", "writeInt", "(", "bookId", ")", ";", "out", ".", "writeString", "(", "bookName", ")", ";", "}", "</s>"]
["<s>", "public", "Book", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "Book", "(", "in", ")", ";", "}", "</s>"]
["<s>", "public", "Book", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "Book", "[", "size", "]", ";", "}", "</s>"]
["<s>", "private", "Book", "(", "Parcel", "in", ")", "{", "bookId", "=", "in", ".", "readInt", "(", ")", ";", "bookName", "=", "in", ".", "readString", "(", ")", ";", "}", "</s>"]
["<s>", "public", "BookManagerImpl", "(", ")", "{", "this", ".", "attachInterface", "(", "this", ",", "DESCRIPTOR", ")", ";", "}", "</s>"]
["<s>", "public", "static", "IBookManager", "asInterface", "(", "IBinder", "obj", ")", "{", "if", "(", "(", "obj", "=", "=", "null", ")", ")", "{", "return", "null", ";", "}", "android", ".", "os", ".", "IInterface", "iin", "=", "obj", ".", "queryLocalInterface", "(", "DESCRIPTOR", ")", ";", "if", "(", "(", "(", "iin", "!", "=", "null", ")", "&", "&", "(", "iin", "instanceof", "IBookManager", ")", ")", ")", "{", "return", "(", "(", "IBookManager", ")", "iin", ")", ";", "}", "return", "new", "BookManagerImpl", ".", "Proxy", "(", "obj", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "asBinder", "(", ")", "{", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onTransact", "(", "int", "code", ",", "Parcel", "data", ",", "Parcel", "reply", ",", "int", "flags", ")", "throws", "RemoteException", "{", "switch", "(", "code", ")", "{", "case", "INTERFACE_TRANSACTION", ":", "{", "reply", ".", "writeString", "(", "DESCRIPTOR", ")", ";", "return", "true", ";", "}", "case", "TRANSACTION_getBookList", ":", "{", "data", ".", "enforceInterface", "(", "DESCRIPTOR", ")", ";", "List", "<", "Book", ">", "result", "=", "this", ".", "getBookList", "(", ")", ";", "reply", ".", "writeNoException", "(", ")", ";", "reply", ".", "writeTypedList", "(", "result", ")", ";", "return", "true", ";", "}", "case", "TRANSACTION_addBook", ":", "{", "data", ".", "enforceInterface", "(", "DESCRIPTOR", ")", ";", "Book", "arg0", ";", "if", "(", "(", "0", "!", "=", "data", ".", "readInt", "(", ")", ")", ")", "{", "arg0", "=", "Book", ".", "CREATOR", ".", "createFromParcel", "(", "data", ")", ";", "}", "else", "{", "arg0", "=", "null", ";", "}", "this", ".", "addBook", "(", "arg0", ")", ";", "reply", ".", "writeNoException", "(", ")", ";", "return", "true", ";", "}", "}", "return", "super", ".", "onTransact", "(", "code", ",", "data", ",", "reply", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "Book", ">", "getBookList", "(", ")", "throws", "RemoteException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addBook", "(", "Book", "book", ")", "throws", "RemoteException", "{", "}", "</s>"]
["<s>", "Proxy", "(", "IBinder", "remote", ")", "{", "mRemote", "=", "remote", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "asBinder", "(", ")", "{", "return", "mRemote", ";", "}", "</s>"]
["<s>", "public", "java", ".", "lang", ".", "String", "getInterfaceDescriptor", "(", ")", "{", "return", "DESCRIPTOR", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "Book", ">", "getBookList", "(", ")", "throws", "RemoteException", "{", "Parcel", "data", "=", "Parcel", ".", "obtain", "(", ")", ";", "Parcel", "reply", "=", "Parcel", ".", "obtain", "(", ")", ";", "List", "<", "Book", ">", "result", ";", "try", "{", "data", ".", "writeInterfaceToken", "(", "DESCRIPTOR", ")", ";", "mRemote", ".", "transact", "(", "TRANSACTION_getBookList", ",", "data", ",", "reply", ",", "0", ")", ";", "reply", ".", "readException", "(", ")", ";", "result", "=", "reply", ".", "createTypedArrayList", "(", "Book", ".", "CREATOR", ")", ";", "}", "finally", "{", "reply", ".", "recycle", "(", ")", ";", "data", ".", "recycle", "(", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addBook", "(", "Book", "book", ")", "throws", "RemoteException", "{", "Parcel", "data", "=", "Parcel", ".", "obtain", "(", ")", ";", "Parcel", "reply", "=", "Parcel", ".", "obtain", "(", ")", ";", "try", "{", "data", ".", "writeInterfaceToken", "(", "DESCRIPTOR", ")", ";", "if", "(", "(", "book", "!", "=", "null", ")", ")", "{", "data", ".", "writeInt", "(", "1", ")", ";", "book", ".", "writeToParcel", "(", "data", ",", "0", ")", ";", "}", "else", "{", "data", ".", "writeInt", "(", "0", ")", ";", "}", "mRemote", ".", "transact", "(", "TRANSACTION_addBook", ",", "data", ",", "reply", ",", "0", ")", ";", "reply", ".", "readException", "(", ")", ";", "}", "finally", "{", "reply", ".", "recycle", "(", ")", ";", "data", ".", "recycle", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onCreate", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "Thread", ".", "currentThread", "(", ")", ".", "getName", "(", ")", ")", ";", "mContext", "=", "getContext", "(", ")", ";", "initProviderData", "(", ")", ";", "return", "true", ";", "}", "</s>"]
["<s>", "private", "void", "initProviderData", "(", ")", "{", "mDb", "=", "new", "DbOpenHelper", "(", "mContext", ")", ".", "getWritableDatabase", "(", ")", ";", "mDb", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", "+", "DbOpenHelper", ".", "BOOK_TABLE_NAME", ")", ";", "mDb", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", "+", "DbOpenHelper", ".", "USER_TALBE_NAME", ")", ";", "mDb", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", ")", ";", "mDb", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", ")", ";", "mDb", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", ")", ";", "mDb", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", ")", ";", "mDb", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Cursor", "query", "(", "Uri", "uri", ",", "String", "[", "]", "projection", ",", "String", "selection", ",", "String", "[", "]", "selectionArgs", ",", "String", "sortOrder", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "Thread", ".", "currentThread", "(", ")", ".", "getName", "(", ")", ")", ";", "String", "table", "=", "getTableName", "(", "uri", ")", ";", "if", "(", "table", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "uri", ")", ";", "}", "return", "mDb", ".", "query", "(", "table", ",", "projection", ",", "selection", ",", "selectionArgs", ",", "null", ",", "null", ",", "sortOrder", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getType", "(", "Uri", "uri", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Uri", "insert", "(", "Uri", "uri", ",", "ContentValues", "values", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "String", "table", "=", "getTableName", "(", "uri", ")", ";", "if", "(", "table", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "uri", ")", ";", "}", "mDb", ".", "insert", "(", "table", ",", "null", ",", "values", ")", ";", "mContext", ".", "getContentResolver", "(", ")", ".", "notifyChange", "(", "uri", ",", "null", ")", ";", "return", "uri", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "delete", "(", "Uri", "uri", ",", "String", "selection", ",", "String", "[", "]", "selectionArgs", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "String", "table", "=", "getTableName", "(", "uri", ")", ";", "if", "(", "table", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "uri", ")", ";", "}", "int", "count", "=", "mDb", ".", "delete", "(", "table", ",", "selection", ",", "selectionArgs", ")", ";", "if", "(", "count", ">", "0", ")", "{", "getContext", "(", ")", ".", "getContentResolver", "(", ")", ".", "notifyChange", "(", "uri", ",", "null", ")", ";", "}", "return", "count", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "update", "(", "Uri", "uri", ",", "ContentValues", "values", ",", "String", "selection", ",", "String", "[", "]", "selectionArgs", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "String", "table", "=", "getTableName", "(", "uri", ")", ";", "if", "(", "table", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "uri", ")", ";", "}", "int", "row", "=", "mDb", ".", "update", "(", "table", ",", "values", ",", "selection", ",", "selectionArgs", ")", ";", "if", "(", "row", ">", "0", ")", "{", "getContext", "(", ")", ".", "getContentResolver", "(", ")", ".", "notifyChange", "(", "uri", ",", "null", ")", ";", "}", "return", "row", ";", "}", "</s>"]
["<s>", "private", "String", "getTableName", "(", "Uri", "uri", ")", "{", "String", "tableName", "=", "null", ";", "switch", "(", "sUriMatcher", ".", "match", "(", "uri", ")", ")", "{", "case", "BOOK_URI_CODE", ":", "tableName", "=", "DbOpenHelper", ".", "BOOK_TABLE_NAME", ";", "break", ";", "case", "USER_URI_CODE", ":", "tableName", "=", "DbOpenHelper", ".", "USER_TALBE_NAME", ";", "break", ";", "default", ":", "break", ";", "}", "return", "tableName", ";", "}", "</s>"]
["<s>", "public", "DbOpenHelper", "(", "Context", "context", ")", "{", "super", "(", "context", ",", "DB_NAME", ",", "null", ",", "DB_VERSION", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "SQLiteDatabase", "db", ")", "{", "db", ".", "execSQL", "(", "CREATE_BOOK_TABLE", ")", ";", "db", ".", "execSQL", "(", "CREATE_USER_TABLE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpgrade", "(", "SQLiteDatabase", "db", ",", "int", "oldVersion", ",", "int", "newVersion", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_provider", ")", ";", "Uri", "bookUri", "=", "Uri", ".", "parse", "(", "\"", "<STR_LIT>", "\"", ")", ";", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT:6>", ")", ";", "values", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "getContentResolver", "(", ")", ".", "insert", "(", "bookUri", ",", "values", ")", ";", "Cursor", "bookCursor", "=", "getContentResolver", "(", ")", ".", "query", "(", "bookUri", ",", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ",", "null", ",", "null", ",", "null", ")", ";", "while", "(", "bookCursor", ".", "moveToNext", "(", ")", ")", "{", "Book", "book", "=", "new", "Book", "(", ")", ";", "book", ".", "bookId", "=", "bookCursor", ".", "getInt", "(", "0", ")", ";", "book", ".", "bookName", "=", "bookCursor", ".", "getString", "(", "1", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "book", ".", "toString", "(", ")", ")", ";", "}", "bookCursor", ".", "close", "(", ")", ";", "Uri", "userUri", "=", "Uri", ".", "parse", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Cursor", "userCursor", "=", "getContentResolver", "(", ")", ".", "query", "(", "userUri", ",", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ",", "null", ",", "null", ",", "null", ")", ";", "while", "(", "userCursor", ".", "moveToNext", "(", ")", ")", "{", "User", "user", "=", "new", "User", "(", ")", ";", "user", ".", "userId", "=", "userCursor", ".", "getInt", "(", "0", ")", ";", "user", ".", "userName", "=", "userCursor", ".", "getString", "(", "1", ")", ";", "user", ".", "isMale", "=", "userCursor", ".", "getInt", "(", "<NUM_LIT:2>", ")", "=", "=", "1", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "user", ".", "toString", "(", ")", ")", ";", "}", "userCursor", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "getProcessName", "(", "Context", "cxt", ",", "int", "pid", ")", "{", "ActivityManager", "am", "=", "(", "ActivityManager", ")", "cxt", ".", "getSystemService", "(", "Context", ".", "ACTIVITY_SERVICE", ")", ";", "List", "<", "RunningAppProcessInfo", ">", "runningApps", "=", "am", ".", "getRunningAppProcesses", "(", ")", ";", "if", "(", "runningApps", "=", "=", "null", ")", "{", "return", "null", ";", "}", "for", "(", "RunningAppProcessInfo", "procInfo", ":", "runningApps", ")", "{", "if", "(", "procInfo", ".", "pid", "=", "=", "pid", ")", "{", "return", "procInfo", ".", "processName", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "static", "void", "close", "(", "Closeable", "closeable", ")", "{", "try", "{", "if", "(", "closeable", "!", "=", "null", ")", "{", "closeable", ".", "close", "(", ")", ";", "}", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "executeInThread", "(", "Runnable", "runnable", ")", "{", "new", "Thread", "(", "runnable", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "add", "(", "int", "a", ",", "int", "b", ")", "throws", "RemoteException", "{", "return", "a", "+", "b", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "encrypt", "(", "String", "content", ")", "throws", "RemoteException", "{", "char", "[", "]", "chars", "=", "content", ".", "toCharArray", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "chars", ".", "length", ";", "i", "+", "+", ")", "{", "chars", "[", "i", "]", "^", "=", "SECRET_CODE", ";", "}", "return", "new", "String", "(", "chars", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "decrypt", "(", "String", "password", ")", "throws", "RemoteException", "{", "return", "encrypt", "(", "password", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "intent", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "return", "mBinderPool", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroy", "(", ")", "{", "super", ".", "onDestroy", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_binder_pool", ")", ";", "new", "Thread", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "doWork", "(", ")", ";", "}", "}", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "doWork", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "doWork", "(", ")", "{", "BinderPool", "binderPool", "=", "BinderPool", ".", "getInsance", "(", "BinderPoolActivity", ".", "this", ")", ";", "IBinder", "securityBinder", "=", "binderPool", ".", "queryBinder", "(", "BinderPool", ".", "BINDER_SECURITY_CENTER", ")", ";", ";", "mSecurityCenter", "=", "(", "ISecurityCenter", ")", "SecurityCenterImpl", ".", "asInterface", "(", "securityBinder", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "String", "msg", "=", "\"", "<STR_LIT>", "\"", ";", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT::>", "\"", "+", "msg", ")", ";", "try", "{", "String", "password", "=", "mSecurityCenter", ".", "encrypt", "(", "msg", ")", ";", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT::>", "\"", "+", "password", ")", ";", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT::>", "\"", "+", "mSecurityCenter", ".", "decrypt", "(", "password", ")", ")", ";", "}", "catch", "(", "RemoteException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "IBinder", "computeBinder", "=", "binderPool", ".", "queryBinder", "(", "BinderPool", ".", "BINDER_COMPUTE", ")", ";", ";", "mCompute", "=", "ComputeImpl", ".", "asInterface", "(", "computeBinder", ")", ";", "try", "{", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT>", "\"", "+", "mCompute", ".", "add", "(", "<NUM_LIT:3>", ",", "<NUM_LIT:5>", ")", ")", ";", "}", "catch", "(", "RemoteException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "BinderPool", "(", "Context", "context", ")", "{", "mContext", "=", "context", ".", "getApplicationContext", "(", ")", ";", "connectBinderPoolService", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "BinderPool", "getInsance", "(", "Context", "context", ")", "{", "if", "(", "sInstance", "=", "=", "null", ")", "{", "synchronized", "(", "BinderPool", ".", "class", ")", "{", "if", "(", "sInstance", "=", "=", "null", ")", "{", "sInstance", "=", "new", "BinderPool", "(", "context", ")", ";", "}", "}", "}", "return", "sInstance", ";", "}", "</s>"]
["<s>", "private", "synchronized", "void", "connectBinderPoolService", "(", ")", "{", "mConnectBinderPoolCountDownLatch", "=", "new", "CountDownLatch", "(", "1", ")", ";", "Intent", "service", "=", "new", "Intent", "(", "mContext", ",", "BinderPoolService", ".", "class", ")", ";", "mContext", ".", "bindService", "(", "service", ",", "mBinderPoolConnection", ",", "Context", ".", "BIND_AUTO_CREATE", ")", ";", "try", "{", "mConnectBinderPoolCountDownLatch", ".", "await", "(", ")", ";", "}", "catch", "(", "InterruptedException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "IBinder", "queryBinder", "(", "int", "binderCode", ")", "{", "IBinder", "binder", "=", "null", ";", "try", "{", "if", "(", "mBinderPool", "!", "=", "null", ")", "{", "binder", "=", "mBinderPool", ".", "queryBinder", "(", "binderCode", ")", ";", "}", "}", "catch", "(", "RemoteException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "binder", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onServiceDisconnected", "(", "ComponentName", "name", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onServiceConnected", "(", "ComponentName", "name", ",", "IBinder", "service", ")", "{", "mBinderPool", "=", "IBinderPool", ".", "Stub", ".", "asInterface", "(", "service", ")", ";", "try", "{", "mBinderPool", ".", "asBinder", "(", ")", ".", "linkToDeath", "(", "mBinderPoolDeathRecipient", ",", "0", ")", ";", "}", "catch", "(", "RemoteException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "mConnectBinderPoolCountDownLatch", ".", "countDown", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "binderDied", "(", ")", "{", "Log", ".", "w", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mBinderPool", ".", "asBinder", "(", ")", ".", "unlinkToDeath", "(", "mBinderPoolDeathRecipient", ",", "0", ")", ";", "mBinderPool", "=", "null", ";", "connectBinderPoolService", "(", ")", ";", "}", "</s>"]
["<s>", "public", "BinderPoolImpl", "(", ")", "{", "super", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "queryBinder", "(", "int", "binderCode", ")", "throws", "RemoteException", "{", "IBinder", "binder", "=", "null", ";", "switch", "(", "binderCode", ")", "{", "case", "BINDER_SECURITY_CENTER", ":", "{", "binder", "=", "new", "SecurityCenterImpl", "(", ")", ";", "break", ";", "}", "case", "BINDER_COMPUTE", ":", "{", "binder", "=", "new", "ComputeImpl", "(", ")", ";", "break", ";", "}", "default", ":", "break", ";", "}", "return", "binder", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "binderDied", "(", ")", "{", "if", "(", "mBookManager", "=", "=", "null", ")", "return", ";", "mBookManager", ".", "asBinder", "(", ")", ".", "unlinkToDeath", "(", "mDeathRecipient", ",", "0", ")", ";", "mBookManager", "=", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "handleMessage", "(", "Message", "msg", ")", "{", "switch", "(", "msg", ".", "what", ")", "{", "case", "MyConstants", ".", "MSG_FROM_SERVICE", ":", "Log", ".", "i", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "msg", ".", "getData", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "break", ";", "default", ":", "super", ".", "handleMessage", "(", "msg", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "onServiceConnected", "(", "ComponentName", "className", ",", "IBinder", "service", ")", "{", "mService", "=", "new", "Messenger", "(", "service", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Message", "msg", "=", "Message", ".", "obtain", "(", "null", ",", "MyConstants", ".", "MSG_FROM_CLIENT", ")", ";", "Bundle", "data", "=", "new", "Bundle", "(", ")", ";", "data", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "msg", ".", "setData", "(", "data", ")", ";", "msg", ".", "replyTo", "=", "mGetReplyMessenger", ";", "try", "{", "mService", ".", "send", "(", "msg", ")", ";", "}", "catch", "(", "RemoteException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "onServiceDisconnected", "(", "ComponentName", "className", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_messenger", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "\"", "<STR_LIT>", "\"", ")", ";", "bindService", "(", "intent", ",", "mConnection", ",", "Context", ".", "BIND_AUTO_CREATE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDestroy", "(", ")", "{", "unbindService", "(", "mConnection", ")", ";", "super", ".", "onDestroy", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "handleMessage", "(", "Message", "msg", ")", "{", "switch", "(", "msg", ".", "what", ")", "{", "case", "MyConstants", ".", "MSG_FROM_CLIENT", ":", "Log", ".", "i", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "msg", ".", "getData", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "Messenger", "client", "=", "msg", ".", "replyTo", ";", "Message", "relpyMessage", "=", "Message", ".", "obtain", "(", "null", ",", "MyConstants", ".", "MSG_FROM_SERVICE", ")", ";", "Bundle", "bundle", "=", "new", "Bundle", "(", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "relpyMessage", ".", "setData", "(", "bundle", ")", ";", "try", "{", "client", ".", "send", "(", "relpyMessage", ")", ";", "}", "catch", "(", "RemoteException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "default", ":", "super", ".", "handleMessage", "(", "msg", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "intent", ")", "{", "return", "mMessenger", ".", "getBinder", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "onStartCommand", "(", "Intent", "intent", ",", "int", "flags", ",", "int", "startId", ")", "{", "return", "super", ".", "onStartCommand", "(", "intent", ",", "flags", ",", "startId", ")", ";", "}", "</s>"]
["<s>", "public", "User", "(", ")", "{", "}", "</s>"]
["<s>", "public", "User", "(", "int", "userId", ",", "String", "userName", ",", "boolean", "isMale", ")", "{", "this", ".", "userId", "=", "userId", ";", "this", ".", "userName", "=", "userName", ";", "this", ".", "isMale", "=", "isMale", ";", "}", "</s>"]
["<s>", "public", "int", "describeContents", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "public", "void", "writeToParcel", "(", "Parcel", "out", ",", "int", "flags", ")", "{", "out", ".", "writeInt", "(", "userId", ")", ";", "out", ".", "writeString", "(", "userName", ")", ";", "out", ".", "writeInt", "(", "isMale", "?", "1", ":", "0", ")", ";", "out", ".", "writeParcelable", "(", "book", ",", "0", ")", ";", "}", "</s>"]
["<s>", "public", "User", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "User", "(", "in", ")", ";", "}", "</s>"]
["<s>", "public", "User", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "User", "[", "size", "]", ";", "}", "</s>"]
["<s>", "private", "User", "(", "Parcel", "in", ")", "{", "userId", "=", "in", ".", "readInt", "(", ")", ";", "userName", "=", "in", ".", "readString", "(", ")", ";", "isMale", "=", "in", ".", "readInt", "(", ")", "=", "=", "1", ";", "book", "=", "in", ".", "readParcelable", "(", "Thread", ".", "currentThread", "(", ")", ".", "getContextClassLoader", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "userId", ",", "userName", ",", "isMale", ",", "book", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "new", "Thread", "(", "new", "TcpServer", "(", ")", ")", ".", "start", "(", ")", ";", "super", ".", "onCreate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "intent", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroy", "(", ")", "{", "mIsServiceDestoryed", "=", "true", ";", "super", ".", "onDestroy", "(", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "void", "run", "(", ")", "{", "ServerSocket", "serverSocket", "=", "null", ";", "try", "{", "serverSocket", "=", "new", "ServerSocket", "(", "<NUM_LIT>", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "System", ".", "err", ".", "println", "(", "\"", "<STR_LIT>", "\"", ")", ";", "e", ".", "printStackTrace", "(", ")", ";", "return", ";", "}", "while", "(", "!", "mIsServiceDestoryed", ")", "{", "try", "{", "final", "Socket", "client", "=", "serverSocket", ".", "accept", "(", ")", ";", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT>", "\"", ")", ";", "new", "Thread", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "try", "{", "responseClient", "(", "client", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", ";", "}", ".", "start", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "try", "{", "responseClient", "(", "client", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "responseClient", "(", "Socket", "client", ")", "throws", "IOException", "{", "BufferedReader", "in", "=", "new", "BufferedReader", "(", "new", "InputStreamReader", "(", "client", ".", "getInputStream", "(", ")", ")", ")", ";", "PrintWriter", "out", "=", "new", "PrintWriter", "(", "new", "BufferedWriter", "(", "new", "OutputStreamWriter", "(", "client", ".", "getOutputStream", "(", ")", ")", ")", ",", "true", ")", ";", "out", ".", "println", "(", "\"", "<STR_LIT>", "\"", ")", ";", "while", "(", "!", "mIsServiceDestoryed", ")", "{", "String", "str", "=", "in", ".", "readLine", "(", ")", ";", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT>", "\"", "+", "str", ")", ";", "if", "(", "str", "=", "=", "null", ")", "{", "break", ";", "}", "int", "i", "=", "new", "Random", "(", ")", ".", "nextInt", "(", "mDefinedMessages", ".", "length", ")", ";", "String", "msg", "=", "mDefinedMessages", "[", "i", "]", ";", "out", ".", "println", "(", "msg", ")", ";", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT>", "\"", "+", "msg", ")", ";", "}", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT>", "\"", ")", ";", "MyUtils", ".", "close", "(", "out", ")", ";", "MyUtils", ".", "close", "(", "in", ")", ";", "client", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "handleMessage", "(", "Message", "msg", ")", "{", "switch", "(", "msg", ".", "what", ")", "{", "case", "MESSAGE_RECEIVE_NEW_MSG", ":", "{", "mMessageTextView", ".", "setText", "(", "mMessageTextView", ".", "getText", "(", ")", "+", "(", "String", ")", "msg", ".", "obj", ")", ";", "break", ";", "}", "case", "MESSAGE_SOCKET_CONNECTED", ":", "{", "mSendButton", ".", "setEnabled", "(", "true", ")", ";", "break", ";", "}", "default", ":", "break", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_tcpclient", ")", ";", "mMessageTextView", "=", "(", "TextView", ")", "findViewById", "(", "R", ".", "id", ".", "msg_container", ")", ";", "mSendButton", "=", "(", "Button", ")", "findViewById", "(", "R", ".", "id", ".", "send", ")", ";", "mSendButton", ".", "setOnClickListener", "(", "this", ")", ";", "mMessageEditText", "=", "(", "EditText", ")", "findViewById", "(", "R", ".", "id", ".", "msg", ")", ";", "Intent", "service", "=", "new", "Intent", "(", "this", ",", "TCPServerService", ".", "class", ")", ";", "startService", "(", "service", ")", ";", "new", "Thread", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "connectTCPServer", "(", ")", ";", "}", "}", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "connectTCPServer", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDestroy", "(", ")", "{", "if", "(", "mClientSocket", "!", "=", "null", ")", "{", "try", "{", "mClientSocket", ".", "shutdownInput", "(", ")", ";", "mClientSocket", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "super", ".", "onDestroy", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "if", "(", "v", "=", "=", "mSendButton", ")", "{", "final", "String", "msg", "=", "mMessageEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "if", "(", "!", "TextUtils", ".", "isEmpty", "(", "msg", ")", "&", "&", "mPrintWriter", "!", "=", "null", ")", "{", "String", "time", "=", "formatDateTime", "(", "System", ".", "currentTimeMillis", "(", ")", ")", ";", "final", "String", "showedMsg", "=", "\"", "<STR_LIT>", "\"", "+", "time", "+", "\"", "<STR_LIT::>", "\"", "+", "msg", "+", "\"", "<STR_LIT>", "<STR_LIT>", "\"", ";", "mMessageEditText", ".", "setText", "(", "\"", "\"", ")", ";", "mMessageTextView", ".", "setText", "(", "mMessageTextView", ".", "getText", "(", ")", "+", "showedMsg", ")", ";", "new", "Thread", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "mPrintWriter", ".", "println", "(", "msg", ")", ";", "}", "}", ")", ".", "start", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "mPrintWriter", ".", "println", "(", "msg", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressLint", "(", "\"", "<STR_LIT>", "\"", ")", "private", "String", "formatDateTime", "(", "long", "time", ")", "{", "return", "new", "SimpleDateFormat", "(", "\"", "<STR_LIT>", "\"", ")", ".", "format", "(", "new", "Date", "(", "time", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "connectTCPServer", "(", ")", "{", "Socket", "socket", "=", "null", ";", "while", "(", "socket", "=", "=", "null", ")", "{", "try", "{", "socket", "=", "new", "Socket", "(", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ")", ";", "mClientSocket", "=", "socket", ";", "mPrintWriter", "=", "new", "PrintWriter", "(", "new", "BufferedWriter", "(", "new", "OutputStreamWriter", "(", "socket", ".", "getOutputStream", "(", ")", ")", ")", ",", "true", ")", ";", "mHandler", ".", "sendEmptyMessage", "(", "MESSAGE_SOCKET_CONNECTED", ")", ";", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "SystemClock", ".", "sleep", "(", "<NUM_LIT:1000>", ")", ";", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "try", "{", "BufferedReader", "br", "=", "new", "BufferedReader", "(", "new", "InputStreamReader", "(", "socket", ".", "getInputStream", "(", ")", ")", ")", ";", "while", "(", "!", "TCPClientActivity", ".", "this", ".", "isFinishing", "(", ")", ")", "{", "String", "msg", "=", "br", ".", "readLine", "(", ")", ";", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT>", "\"", "+", "msg", ")", ";", "if", "(", "msg", "!", "=", "null", ")", "{", "String", "time", "=", "formatDateTime", "(", "System", ".", "currentTimeMillis", "(", ")", ")", ";", "final", "String", "showedMsg", "=", "\"", "<STR_LIT>", "\"", "+", "time", "+", "\"", "<STR_LIT::>", "\"", "+", "msg", "+", "\"", "<STR_LIT>", "<STR_LIT>", "\"", ";", "mHandler", ".", "obtainMessage", "(", "MESSAGE_RECEIVE_NEW_MSG", ",", "showedMsg", ")", ".", "sendToTarget", "(", ")", ";", "}", "}", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT:...>", "\"", ")", ";", "MyUtils", ".", "close", "(", "mPrintWriter", ")", ";", "MyUtils", ".", "close", "(", "br", ")", ";", "socket", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "ApplicationTest", "(", ")", "{", "super", "(", "Application", ".", "class", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "addition_isCorrect", "(", ")", "throws", "Exception", "{", "assertEquals", "(", "<NUM_LIT:4>", ",", "<NUM_LIT:2>", "+", "<NUM_LIT:2>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "attachBaseContext", "(", "Context", "base", ")", "{", "super", ".", "attachBaseContext", "(", "base", ")", ";", "long", "start", "=", "System", ".", "currentTimeMillis", "(", ")", ";", "PluginManager", ".", "getInstance", "(", "base", ")", ".", "init", "(", ")", ";", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "(", "System", ".", "currentTimeMillis", "(", ")", "-", "start", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "activity_main", ")", ";", "TextView", "textView", "=", "(", "TextView", ")", "findViewById", "(", "R", ".", "id", ".", "textView", ")", ";", "String", "cpuArch", ";", "if", "(", "android", ".", "os", ".", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "android", ".", "os", ".", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "cpuArch", "=", "Build", ".", "SUPPORTED_ABIS", "[", "0", "]", ";", "}", "else", "{", "cpuArch", "=", "Build", ".", "CPU_ABI", ";", "}", "textView", ".", "setText", "(", "cpuArch", ")", ";", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "cpuArch", ")", ";", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "getClassLoader", "(", ")", ")", ";", "if", "(", "hasPermission", "(", ")", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "this", ".", "loadPlugin", "(", "this", ")", ";", "}", "else", "{", "requestPermission", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onRequestPermissionsResult", "(", "int", "requestCode", ",", "@", "NonNull", "String", "[", "]", "permissions", ",", "@", "NonNull", "int", "[", "]", "grantResults", ")", "{", "if", "(", "PERMISSION_REQUEST_CODE_STORAGE", "=", "=", "requestCode", ")", "{", "if", "(", "grantResults", "[", "0", "]", "!", "=", "PackageManager", ".", "PERMISSION_GRANTED", ")", "{", "requestPermission", "(", ")", ";", "}", "else", "{", "this", ".", "loadPlugin", "(", "this", ")", ";", "}", "return", ";", "}", "super", ".", "onRequestPermissionsResult", "(", "requestCode", ",", "permissions", ",", "grantResults", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "hasPermission", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "{", "return", "checkSelfPermission", "(", "Manifest", ".", "permission", ".", "WRITE_EXTERNAL_STORAGE", ")", "=", "=", "PackageManager", ".", "PERMISSION_GRANTED", ";", "}", "return", "true", ";", "}", "</s>"]
["<s>", "private", "void", "requestPermission", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "{", "requestPermissions", "(", "new", "String", "[", "]", "{", "Manifest", ".", "permission", ".", "WRITE_EXTERNAL_STORAGE", "}", ",", "PERMISSION_REQUEST_CODE_STORAGE", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "onButtonClick", "(", "View", "v", ")", "{", "if", "(", "v", ".", "getId", "(", ")", "=", "=", "R", ".", "id", ".", "button", ")", "{", "final", "String", "pkg", "=", "\"", "<STR_LIT>", "\"", ";", "if", "(", "PluginManager", ".", "getInstance", "(", "this", ")", ".", "getLoadedPlugin", "(", "pkg", ")", "=", "=", "null", ")", "{", "Toast", ".", "makeText", "(", "this", ",", "\"", "<STR_LIT>", "\"", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "return", ";", "}", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setClassName", "(", "this", ",", "\"", "<STR_LIT>", "\"", ")", ";", "startActivity", "(", "intent", ")", ";", "Uri", "bookUri", "=", "Uri", ".", "parse", "(", "\"", "<STR_LIT>", "\"", ")", ";", "LoadedPlugin", "plugin", "=", "PluginManager", ".", "getInstance", "(", "this", ")", ".", "getLoadedPlugin", "(", "pkg", ")", ";", "bookUri", "=", "PluginContentResolver", ".", "wrapperUri", "(", "plugin", ",", "bookUri", ")", ";", "Cursor", "bookCursor", "=", "getContentResolver", "(", ")", ".", "query", "(", "bookUri", ",", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ",", "null", ",", "null", ",", "null", ")", ";", "while", "(", "bookCursor", ".", "moveToNext", "(", ")", ")", "{", "int", "bookId", "=", "bookCursor", ".", "getInt", "(", "0", ")", ";", "String", "bookName", "=", "bookCursor", ".", "getString", "(", "1", ")", ";", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "bookId", "+", "\"", "<STR_LIT>", "\"", "+", "bookName", ")", ";", "}", "bookCursor", ".", "close", "(", ")", ";", "}", "else", "if", "(", "v", ".", "getId", "(", ")", "=", "=", "R", ".", "id", ".", "about", ")", "{", "showAbout", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "loadPlugin", "(", "Context", "base", ")", "{", "if", "(", "!", "Environment", ".", "MEDIA_MOUNTED", ".", "equals", "(", "Environment", ".", "getExternalStorageState", "(", ")", ")", ")", "{", "Toast", ".", "makeText", "(", "this", ",", "\"", "<STR_LIT>", "\"", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "PluginManager", "pluginManager", "=", "PluginManager", ".", "getInstance", "(", "base", ")", ";", "File", "apk", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "apk", ".", "exists", "(", ")", ")", "{", "try", "{", "pluginManager", ".", "loadPlugin", "(", "apk", ")", ";", "Log", ".", "i", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "apk", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "{", "try", "{", "File", "file", "=", "new", "File", "(", "base", ".", "getFilesDir", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "java", ".", "io", ".", "InputStream", "inputStream", "=", "base", ".", "getAssets", "(", ")", ".", "open", "(", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT:2>", ")", ";", "java", ".", "io", ".", "FileOutputStream", "outputStream", "=", "new", "java", ".", "io", ".", "FileOutputStream", "(", "file", ")", ";", "byte", "[", "]", "buf", "=", "new", "byte", "[", "<NUM_LIT>", "]", ";", "int", "len", ";", "while", "(", "(", "len", "=", "inputStream", ".", "read", "(", "buf", ")", ")", ">", "0", ")", "{", "outputStream", ".", "write", "(", "buf", ",", "0", ",", "len", ")", ";", "}", "outputStream", ".", "close", "(", ")", ";", "inputStream", ".", "close", "(", ")", ";", "pluginManager", ".", "loadPlugin", "(", "file", ")", ";", "Log", ".", "i", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "file", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "showAbout", "(", ")", "{", "AlertDialog", ".", "Builder", "builder", "=", "new", "AlertDialog", ".", "Builder", "(", "this", ")", ";", "builder", ".", "setMessage", "(", "R", ".", "string", ".", "about_detail", ")", ";", "builder", ".", "setTitle", "(", "\"", "<STR_LIT>", "\"", ")", ";", "builder", ".", "setNegativeButton", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "builder", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "IActivityManager", "getDefault", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isSystemReady", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "broadcastStickyIntent", "(", "final", "Intent", "intent", ",", "final", "String", "permission", ",", "final", "int", "userId", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "static", "public", "IActivityManager", "asInterface", "(", "IBinder", "obj", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ActivityManagerNative", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "String", "getPackageName", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ApplicationInfo", "getApplicationInfo", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ClassLoader", "getClassLoader", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "String", "getAppDir", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "String", "getLibDir", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "String", "getResDir", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "String", "[", "]", "getSplitAppDirs", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "String", "[", "]", "getSplitResDirs", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "String", "[", "]", "getOverlayDirs", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "String", "getDataDir", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "File", "getDataDirFile", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "AssetManager", "getAssets", "(", "final", "ActivityThread", "mainThread", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Resources", "getResources", "(", "final", "ActivityThread", "mainThread", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "IIntentReceiver", "getReceiverDispatcher", "(", "final", "BroadcastReceiver", "r", ",", "final", "Context", "context", ",", "final", "Handler", "handler", ",", "final", "Instrumentation", "instrumentation", ",", "final", "boolean", "registered", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "IIntentReceiver", "forgetReceiverDispatcher", "(", "final", "Context", "context", ",", "final", "BroadcastReceiver", "r", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "ActivityThread", "currentActivityThread", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isSystem", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "currentOpPackageName", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "currentPackageName", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "currentProcessName", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Application", "currentApplication", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ApplicationThread", "getApplicationThread", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Instrumentation", "getInstrumentation", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Looper", "getLooper", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Application", "getApplication", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "String", "getProcessName", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "final", "ActivityInfo", "resolveActivityInfo", "(", "final", "Intent", "intent", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "final", "Activity", "getActivity", "(", "final", "IBinder", "token", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "final", "Handler", "getHandler", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "asBinder", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Singleton", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "protected", "abstract", "T", "create", "(", ")", ";", "</s>"]
["<s>", "public", "T", "get", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "VerifierInfo", "createFromParcel", "(", "final", "Parcel", "source", ")", "{", "return", "new", "VerifierInfo", "(", "source", ")", ";", "}", "</s>"]
["<s>", "public", "VerifierInfo", "[", "]", "newArray", "(", "final", "int", "size", ")", "{", "return", "new", "VerifierInfo", "[", "size", "]", ";", "}", "</s>"]
["<s>", "public", "VerifierInfo", "(", "final", "String", "packageName", ",", "final", "PublicKey", "publicKey", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "VerifierInfo", "(", "final", "Parcel", "source", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "describeContents", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeToParcel", "(", "final", "Parcel", "dest", ",", "final", "int", "flags", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "PackageUserState", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "PackageUserState", "(", "final", "PackageUserState", "o", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "ManifestDigest", "(", "final", "byte", "[", "]", "digest", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "ManifestDigest", "(", "final", "Parcel", "source", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "static", "ManifestDigest", "fromAttributes", "(", "final", "Attributes", "attributes", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "describeContents", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "o", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeToParcel", "(", "final", "Parcel", "dest", ",", "final", "int", "flags", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ManifestDigest", "createFromParcel", "(", "Parcel", "source", ")", "{", "return", "new", "ManifestDigest", "(", "source", ")", ";", "}", "</s>"]
["<s>", "public", "ManifestDigest", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "ManifestDigest", "[", "size", "]", ";", "}", "</s>"]
["<s>", "public", "NewPermissionInfo", "(", "String", "name", ",", "int", "sdkVersion", ",", "int", "fileVersion", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "SplitPermissionInfo", "(", "String", "rootPerm", ",", "String", "[", "]", "newPerms", ",", "int", "targetSdk", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "ParsePackageItemArgs", "(", "final", "Package", "owner", ",", "final", "String", "[", "]", "outError", ",", "final", "int", "nameRes", ",", "final", "int", "labelRes", ",", "final", "int", "iconRes", ",", "final", "int", "logoRes", ",", "final", "int", "bannerRes", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "ParseComponentArgs", "(", "final", "Package", "owner", ",", "final", "String", "[", "]", "outError", ",", "final", "int", "nameRes", ",", "final", "int", "labelRes", ",", "final", "int", "iconRes", ",", "final", "int", "logoRes", ",", "final", "int", "bannerRes", ",", "final", "String", "[", "]", "sepProcesses", ",", "final", "int", "processRes", ",", "final", "int", "descriptionRes", ",", "final", "int", "enabledRes", ")", "{", "super", "(", "owner", ",", "outError", ",", "nameRes", ",", "labelRes", ",", "iconRes", ",", "logoRes", ",", "bannerRes", ")", ";", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "PackageLite", "(", "final", "String", "codePath", ",", "final", "ApkLite", "baseApk", ",", "final", "String", "[", "]", "splitNames", ",", "final", "String", "[", "]", "splitCodePaths", ",", "final", "int", "[", "]", "splitRevisionCodes", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "List", "<", "String", ">", "getAllCodePaths", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ApkLite", "(", "final", "String", "codePath", ",", "final", "String", "packageName", ",", "final", "String", "splitName", ",", "final", "int", "versionCode", ",", "final", "int", "revisionCode", ",", "final", "int", "installLocation", ",", "final", "List", "<", "VerifierInfo", ">", "verifiers", ",", "final", "Signature", "[", "]", "signatures", ",", "final", "boolean", "coreApp", ",", "final", "boolean", "multiArch", ",", "final", "boolean", "extractNativeLibs", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "PackageParser", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "PackageParser", "(", "final", "String", "archiveSourcePath", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setSeparateProcesses", "(", "final", "String", "[", "]", "procs", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setOnlyCoreApps", "(", "final", "boolean", "onlyCoreApps", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setDisplayMetrics", "(", "final", "DisplayMetrics", "metrics", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "boolean", "isApkFile", "(", "final", "File", "file", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "PackageInfo", "generatePackageInfo", "(", "final", "PackageParser", ".", "Package", "p", ",", "final", "int", "gids", "[", "]", ",", "final", "int", "flags", ",", "final", "long", "firstInstallTime", ",", "final", "long", "lastUpdateTime", ",", "final", "Set", "<", "String", ">", "grantedPermissions", ",", "final", "PackageUserState", "state", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isAvailable", "(", "final", "PackageUserState", "state", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "PackageInfo", "generatePackageInfo", "(", "final", "PackageParser", ".", "Package", "p", ",", "final", "int", "gids", "[", "]", ",", "final", "int", "flags", ",", "final", "long", "firstInstallTime", ",", "final", "long", "lastUpdateTime", ",", "final", "Set", "<", "String", ">", "grantedPermissions", ",", "final", "PackageUserState", "state", ",", "final", "int", "userId", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "PackageLite", "parsePackageLite", "(", "final", "File", "packageFile", ",", "final", "int", "flags", ")", "throws", "PackageParserException", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Package", "parsePackage", "(", "final", "File", "packageFile", ",", "final", "int", "flags", ")", "throws", "PackageParserException", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Package", "parsePackage", "(", "final", "File", "sourceFile", ",", "final", "String", "destCodePath", ",", "final", "DisplayMetrics", "metrics", ",", "final", "int", "flags", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "void", "collectManifestDigest", "(", "final", "Package", "pkg", ")", "throws", "PackageParserException", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "void", "collectCertificates", "(", "final", "Package", "pkg", ",", "final", "int", "flags", ")", "throws", "PackageParserException", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "ApkLite", "parseApkLite", "(", "final", "File", "apkFile", ",", "final", "int", "flags", ")", "throws", "PackageParserException", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "ApplicationInfo", "generateApplicationInfo", "(", "final", "Package", "p", ",", "final", "int", "flags", ",", "final", "PackageUserState", "state", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "ApplicationInfo", "generateApplicationInfo", "(", "final", "Package", "p", ",", "final", "int", "flags", ",", "final", "PackageUserState", "state", ",", "final", "int", "userId", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "ApplicationInfo", "generateApplicationInfo", "(", "final", "ApplicationInfo", "ai", ",", "final", "int", "flags", ",", "final", "PackageUserState", "state", ",", "final", "int", "userId", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "PermissionInfo", "generatePermissionInfo", "(", "final", "Permission", "p", ",", "final", "int", "flags", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "PermissionGroupInfo", "generatePermissionGroupInfo", "(", "final", "PermissionGroup", "pg", ",", "final", "int", "flags", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "InstrumentationInfo", "generateInstrumentationInfo", "(", "final", "Instrumentation", "i", ",", "final", "int", "flags", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "ServiceInfo", "generateServiceInfo", "(", "final", "Service", "s", ",", "final", "int", "flags", ",", "final", "PackageUserState", "state", ",", "final", "int", "userId", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "ProviderInfo", "generateProviderInfo", "(", "final", "Provider", "p", ",", "final", "int", "flags", ",", "final", "PackageUserState", "state", ",", "final", "int", "userId", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "ActivityInfo", "generateActivityInfo", "(", "final", "Activity", "a", ",", "final", "int", "flags", ",", "final", "PackageUserState", "state", ",", "final", "int", "userId", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "ActivityInfo", "generateActivityInfo", "(", "final", "ActivityInfo", "ai", ",", "final", "int", "flags", ",", "final", "PackageUserState", "state", ",", "final", "int", "userId", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Package", "(", "String", "packageName", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "List", "<", "String", ">", "getAllCodePaths", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "List", "<", "String", ">", "getAllCodePathsExcludingResourceOnly", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setPackageName", "(", "final", "String", "newName", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "hasComponentClassName", "(", "final", "String", "name", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "isForwardLocked", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "isSystemApp", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "isPrivilegedApp", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "isUpdatedSystemApp", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "canHaveOatDir", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Component", "(", "final", "Package", "owner", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Component", "(", "final", "ParsePackageItemArgs", "args", ",", "final", "PackageItemInfo", "outInfo", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Component", "(", "final", "ParseComponentArgs", "args", ",", "final", "ComponentInfo", "outInfo", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Component", "(", "final", "Component", "<", "II", ">", "clone", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ComponentName", "getComponentName", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "void", "appendComponentShortName", "(", "final", "StringBuilder", "sb", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "void", "printComponentShortName", "(", "final", "PrintWriter", "pw", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setPackageName", "(", "final", "String", "packageName", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Permission", "(", "final", "Package", "owner", ")", "{", "super", "(", "owner", ")", ";", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Permission", "(", "final", "Package", "owner", ",", "final", "PermissionInfo", "info", ")", "{", "super", "(", "owner", ")", ";", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setPackageName", "(", "final", "String", "packageName", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "PermissionGroup", "(", "final", "Package", "owner", ")", "{", "super", "(", "owner", ")", ";", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "PermissionGroup", "(", "final", "Package", "owner", ",", "final", "PermissionGroupInfo", "info", ")", "{", "super", "(", "owner", ")", ";", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setPackageName", "(", "final", "String", "packageName", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Activity", "(", "final", "ParseComponentArgs", "args", ",", "final", "ActivityInfo", "info", ")", "{", "super", "(", "args", ",", "info", ")", ";", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setPackageName", "(", "final", "String", "packageName", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Service", "(", "final", "ParseComponentArgs", "args", ",", "final", "ServiceInfo", "info", ")", "{", "super", "(", "args", ",", "info", ")", ";", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setPackageName", "(", "final", "String", "packageName", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Provider", "(", "final", "ParseComponentArgs", "args", ",", "final", "ProviderInfo", "info", ")", "{", "super", "(", "args", ",", "info", ")", ";", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Provider", "(", "final", "Provider", "existingProvider", ")", "{", "super", "(", "existingProvider", ")", ";", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setPackageName", "(", "final", "String", "packageName", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "Instrumentation", "(", "final", "ParsePackageItemArgs", "args", ",", "final", "InstrumentationInfo", "info", ")", "{", "super", "(", "args", ",", "info", ")", ";", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setPackageName", "(", "final", "String", "packageName", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ActivityIntentInfo", "(", "final", "Activity", "activity", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ServiceIntentInfo", "(", "final", "Service", "service", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ProviderIntentInfo", "(", "final", "Provider", "provider", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "PackageParserException", "(", "int", "error", ",", "String", "detailMessage", ")", "{", "super", "(", "detailMessage", ")", ";", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "PackageParserException", "(", "int", "error", ",", "String", "detailMessage", ",", "Throwable", "throwable", ")", "{", "super", "(", "detailMessage", ",", "throwable", ")", ";", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "IBinder", "getService", "(", "final", "String", "name", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "addService", "(", "final", "String", "name", ",", "final", "IBinder", "service", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "addService", "(", "final", "String", "name", ",", "final", "IBinder", "service", ",", "final", "boolean", "allowIsolated", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "IBinder", "checkService", "(", "final", "String", "name", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "[", "]", "listServices", "(", ")", "throws", "RemoteException", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "initServiceCache", "(", "final", "Map", "<", "String", ",", "IBinder", ">", "cache", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "get", "(", "final", "String", "key", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "get", "(", "final", "String", "key", ",", "final", "String", "def", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "int", "getInt", "(", "final", "String", "key", ",", "final", "int", "def", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "long", "getLong", "(", "final", "String", "key", ",", "final", "long", "def", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "getBoolean", "(", "final", "String", "key", ",", "final", "boolean", "def", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "set", "(", "final", "String", "key", ",", "final", "String", "val", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "addChangeCallback", "(", "final", "Runnable", "callback", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ViewDataBinding", "getDataBinder", "(", "DataBindingComponent", "bindingComponent", ",", "View", "view", ",", "int", "layoutId", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "ViewDataBinding", "getDataBinder", "(", "DataBindingComponent", "bindingComponent", ",", "View", "[", "]", "view", ",", "int", "layoutId", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "public", "int", "getLayoutId", "(", "String", "tag", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "public", "String", "convertBrIdToString", "(", "int", "id", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "private", "Log", "(", ")", "{", "}", "</s>"]
["<s>", "public", "static", "int", "i", "(", "String", "tag", ",", "String", "msg", ")", "{", "System", ".", "out", ".", "println", "(", "\"", "<STR_LIT>", "\"", "+", "tag", "+", "\"", "<STR_LIT>", "\"", "+", "msg", ")", ";", "return", "0", ";", "}", "</s>"]
["<s>", "public", "static", "int", "e", "(", "String", "tag", ",", "String", "msg", ")", "{", "System", ".", "err", ".", "println", "(", "\"", "<STR_LIT>", "\"", "+", "tag", "+", "\"", "<STR_LIT>", "\"", "+", "msg", ")", ";", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "process", "(", "Set", "<", "?", "extends", "TypeElement", ">", "annotations", ",", "RoundEnvironment", "roundEnv", ")", "{", "for", "(", "Element", "element", ":", "roundEnv", ".", "getRootElements", "(", ")", ")", "{", "if", "(", "element", "instanceof", "TypeElement", ")", "{", "TypeElement", "typeElement", "=", "(", "TypeElement", ")", "element", ";", "if", "(", "DATA_BINDER_MAPPER_FULL_NAME", ".", "contentEquals", "(", "typeElement", ".", "getQualifiedName", "(", ")", ")", ")", "{", "readDataBinderMapper", "(", ")", ";", "}", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "private", "void", "readDataBinderMapper", "(", ")", "{", "BufferedReader", "reader", "=", "null", ";", "BufferedWriter", "writer", "=", "null", ";", "try", "{", "reader", "=", "new", "BufferedReader", "(", "fileObject", ".", "openReader", "(", "false", ")", ")", ";", "String", "className", "=", "DATA_BINDER_MAPPER_CLASS_NAME", "+", "\"", "<STR_LIT:_>", "\"", "+", "modulePackage", ".", "replace", "(", "<CHAR_LIT:.>", ",", "<CHAR_LIT:_>", ")", ";", "JavaFileObject", "javaFileObject", "=", "processingEnv", ".", "getFiler", "(", ")", ".", "createSourceFile", "(", "DATA_BINDER_MAPPER_PACKAGE", "+", "\"", "<STR_LIT:.>", "\"", "+", "className", ")", ";", "writer", "=", "new", "BufferedWriter", "(", "javaFileObject", ".", "openWriter", "(", ")", ")", ";", "writer", ".", "write", "(", "\"", "<STR_LIT>", "\"", ")", ";", "writer", ".", "newLine", "(", ")", ";", "String", "line", ";", "while", "(", "(", "line", "=", "reader", ".", "readLine", "(", ")", ")", "!", "=", "null", ")", "{", "if", "(", "line", ".", "contains", "(", "DATA_BINDER_MAPPER_CLASS_NAME", ")", ")", "{", "if", "(", "line", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "line", "=", "line", ".", "replace", "(", "DATA_BINDER_MAPPER_CLASS_NAME", ",", "className", "+", "\"", "<STR_LIT>", "\"", "+", "DATA_BINDER_MAPPER_CLASS_NAME", ")", ";", "}", "else", "{", "line", "=", "line", ".", "replace", "(", "DATA_BINDER_MAPPER_CLASS_NAME", ",", "className", ")", ";", "}", "}", "writer", ".", "write", "(", "line", ")", ";", "writer", ".", "newLine", "(", ")", ";", "}", "Log", ".", "i", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "DATA_BINDER_MAPPER_PACKAGE", "+", "\"", "<STR_LIT:.>", "\"", "+", "className", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "finally", "{", "closeSafely", "(", "reader", ")", ";", "closeSafely", "(", "writer", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "void", "closeSafely", "(", "Closeable", "closeable", ")", "{", "if", "(", "closeable", "!", "=", "null", ")", "{", "try", "{", "closeable", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "SourceVersion", "getSupportedSourceVersion", "(", ")", "{", "return", "SourceVersion", ".", "latest", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "synchronized", "void", "init", "(", "ProcessingEnvironment", "processingEnv", ")", "{", "super", ".", "init", "(", "processingEnv", ")", ";", "modulePackage", "=", "processingEnv", ".", "getOptions", "(", ")", ".", "getOrDefault", "(", "PARAM_MODULE_PKG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "try", "{", "fileObject", "=", "processingEnv", ".", "getFiler", "(", ")", ".", "getResource", "(", "StandardLocation", ".", "SOURCE_OUTPUT", ",", "DATA_BINDER_MAPPER_PACKAGE", ",", "DATA_BINDER_MAPPER_CLASS_NAME", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "Reflect", "on", "(", "String", "name", ")", "throws", "ReflectException", "{", "return", "on", "(", "forName", "(", "name", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Reflect", "on", "(", "String", "name", ",", "ClassLoader", "classLoader", ")", "throws", "ReflectException", "{", "return", "on", "(", "forName", "(", "name", ",", "classLoader", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Reflect", "on", "(", "Class", "<", "?", ">", "clazz", ")", "{", "return", "new", "Reflect", "(", "clazz", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Reflect", "on", "(", "Object", "object", ")", "{", "return", "new", "Reflect", "(", "object", "=", "=", "null", "?", "Object", ".", "class", ":", "object", ".", "getClass", "(", ")", ",", "object", ")", ";", "}", "</s>"]
["<s>", "private", "static", "Reflect", "on", "(", "Class", "<", "?", ">", "type", ",", "Object", "object", ")", "{", "return", "new", "Reflect", "(", "type", ",", "object", ")", ";", "}", "</s>"]
["<s>", "public", "static", "<", "T", "extends", "AccessibleObject", ">", "T", "accessible", "(", "T", "accessible", ")", "{", "if", "(", "accessible", "=", "=", "null", ")", "{", "return", "null", ";", "}", "if", "(", "accessible", "instanceof", "Member", ")", "{", "Member", "member", "=", "(", "Member", ")", "accessible", ";", "if", "(", "Modifier", ".", "isPublic", "(", "member", ".", "getModifiers", "(", ")", ")", "&", "&", "Modifier", ".", "isPublic", "(", "member", ".", "getDeclaringClass", "(", ")", ".", "getModifiers", "(", ")", ")", ")", "{", "return", "accessible", ";", "}", "}", "if", "(", "!", "accessible", ".", "isAccessible", "(", ")", ")", "{", "accessible", ".", "setAccessible", "(", "true", ")", ";", "}", "return", "accessible", ";", "}", "</s>"]
["<s>", "private", "Reflect", "(", "Class", "<", "?", ">", "type", ")", "{", "this", "(", "type", ",", "type", ")", ";", "}", "</s>"]
["<s>", "private", "Reflect", "(", "Class", "<", "?", ">", "type", ",", "Object", "object", ")", "{", "this", ".", "type", "=", "type", ";", "this", ".", "object", "=", "object", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "public", "<", "T", ">", "T", "get", "(", ")", "{", "return", "(", "T", ")", "object", ";", "}", "</s>"]
["<s>", "public", "Reflect", "set", "(", "String", "name", ",", "Object", "value", ")", "throws", "ReflectException", "{", "try", "{", "Field", "field", "=", "field0", "(", "name", ")", ";", "if", "(", "(", "field", ".", "getModifiers", "(", ")", "&", "Modifier", ".", "FINAL", ")", "=", "=", "Modifier", ".", "FINAL", ")", "{", "Field", "modifiersField", "=", "Field", ".", "class", ".", "getDeclaredField", "(", "\"", "<STR_LIT>", "\"", ")", ";", "modifiersField", ".", "setAccessible", "(", "true", ")", ";", "modifiersField", ".", "setInt", "(", "field", ",", "field", ".", "getModifiers", "(", ")", "&", "~", "Modifier", ".", "FINAL", ")", ";", "}", "field", ".", "set", "(", "object", ",", "unwrap", "(", "value", ")", ")", ";", "return", "this", ";", "}", "catch", "(", "Exception", "e", ")", "{", "throw", "new", "ReflectException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "public", "<", "T", ">", "T", "get", "(", "String", "name", ")", "throws", "ReflectException", "{", "return", "field", "(", "name", ")", ".", "<", "T", ">", "get", "(", ")", ";", "}", "</s>"]
["<s>", "public", "Reflect", "field", "(", "String", "name", ")", "throws", "ReflectException", "{", "try", "{", "Field", "field", "=", "field0", "(", "name", ")", ";", "return", "on", "(", "field", ".", "getType", "(", ")", ",", "field", ".", "get", "(", "object", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "throw", "new", "ReflectException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Field", "field0", "(", "String", "name", ")", "throws", "ReflectException", "{", "Class", "<", "?", ">", "t", "=", "type", "(", ")", ";", "try", "{", "return", "accessible", "(", "t", ".", "getField", "(", "name", ")", ")", ";", "}", "catch", "(", "NoSuchFieldException", "e", ")", "{", "do", "{", "try", "{", "return", "accessible", "(", "t", ".", "getDeclaredField", "(", "name", ")", ")", ";", "}", "catch", "(", "NoSuchFieldException", "ignore", ")", "{", "}", "t", "=", "t", ".", "getSuperclass", "(", ")", ";", "}", "while", "(", "t", "!", "=", "null", ")", ";", "throw", "new", "ReflectException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "public", "Map", "<", "String", ",", "Reflect", ">", "fields", "(", ")", "{", "Map", "<", "String", ",", "Reflect", ">", "result", "=", "new", "LinkedHashMap", "<", "String", ",", "Reflect", ">", "(", ")", ";", "Class", "<", "?", ">", "t", "=", "type", "(", ")", ";", "do", "{", "for", "(", "Field", "field", ":", "t", ".", "getDeclaredFields", "(", ")", ")", "{", "if", "(", "type", "!", "=", "object", "^", "Modifier", ".", "isStatic", "(", "field", ".", "getModifiers", "(", ")", ")", ")", "{", "String", "name", "=", "field", ".", "getName", "(", ")", ";", "if", "(", "!", "result", ".", "containsKey", "(", "name", ")", ")", "result", ".", "put", "(", "name", ",", "field", "(", "name", ")", ")", ";", "}", "}", "t", "=", "t", ".", "getSuperclass", "(", ")", ";", "}", "while", "(", "t", "!", "=", "null", ")", ";", "return", "result", ";", "}", "</s>"]
["<s>", "public", "Reflect", "call", "(", "String", "name", ")", "throws", "ReflectException", "{", "return", "call", "(", "name", ",", "new", "Object", "[", "0", "]", ")", ";", "}", "</s>"]
["<s>", "public", "Reflect", "call", "(", "String", "name", ",", "Object", ".", ".", ".", "args", ")", "throws", "ReflectException", "{", "Class", "<", "?", ">", "[", "]", "types", "=", "types", "(", "args", ")", ";", "try", "{", "Method", "method", "=", "exactMethod", "(", "name", ",", "types", ")", ";", "return", "on", "(", "method", ",", "object", ",", "args", ")", ";", "}", "catch", "(", "NoSuchMethodException", "e", ")", "{", "try", "{", "Method", "method", "=", "similarMethod", "(", "name", ",", "types", ")", ";", "return", "on", "(", "method", ",", "object", ",", "args", ")", ";", "}", "catch", "(", "NoSuchMethodException", "e1", ")", "{", "throw", "new", "ReflectException", "(", "e1", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "Method", "exactMethod", "(", "String", "name", ",", "Class", "<", "?", ">", "[", "]", "types", ")", "throws", "NoSuchMethodException", "{", "Class", "<", "?", ">", "t", "=", "type", "(", ")", ";", "try", "{", "return", "t", ".", "getMethod", "(", "name", ",", "types", ")", ";", "}", "catch", "(", "NoSuchMethodException", "e", ")", "{", "do", "{", "try", "{", "return", "t", ".", "getDeclaredMethod", "(", "name", ",", "types", ")", ";", "}", "catch", "(", "NoSuchMethodException", "ignore", ")", "{", "}", "t", "=", "t", ".", "getSuperclass", "(", ")", ";", "}", "while", "(", "t", "!", "=", "null", ")", ";", "throw", "new", "NoSuchMethodException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Method", "similarMethod", "(", "String", "name", ",", "Class", "<", "?", ">", "[", "]", "types", ")", "throws", "NoSuchMethodException", "{", "Class", "<", "?", ">", "t", "=", "type", "(", ")", ";", "for", "(", "Method", "method", ":", "t", ".", "getMethods", "(", ")", ")", "{", "if", "(", "isSimilarSignature", "(", "method", ",", "name", ",", "types", ")", ")", "{", "return", "method", ";", "}", "}", "do", "{", "for", "(", "Method", "method", ":", "t", ".", "getDeclaredMethods", "(", ")", ")", "{", "if", "(", "isSimilarSignature", "(", "method", ",", "name", ",", "types", ")", ")", "{", "return", "method", ";", "}", "}", "t", "=", "t", ".", "getSuperclass", "(", ")", ";", "}", "while", "(", "t", "!", "=", "null", ")", ";", "throw", "new", "NoSuchMethodException", "(", "\"", "<STR_LIT>", "\"", "+", "name", "+", "\"", "<STR_LIT>", "\"", "+", "Arrays", ".", "toString", "(", "types", ")", "+", "\"", "<STR_LIT>", "\"", "+", "type", "(", ")", "+", "\"", "<STR_LIT:.>", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isSimilarSignature", "(", "Method", "possiblyMatchingMethod", ",", "String", "desiredMethodName", ",", "Class", "<", "?", ">", "[", "]", "desiredParamTypes", ")", "{", "return", "possiblyMatchingMethod", ".", "getName", "(", ")", ".", "equals", "(", "desiredMethodName", ")", "&", "&", "match", "(", "possiblyMatchingMethod", ".", "getParameterTypes", "(", ")", ",", "desiredParamTypes", ")", ";", "}", "</s>"]
["<s>", "public", "Reflect", "create", "(", ")", "throws", "ReflectException", "{", "return", "create", "(", "new", "Object", "[", "0", "]", ")", ";", "}", "</s>"]
["<s>", "public", "Reflect", "create", "(", "Object", ".", ".", ".", "args", ")", "throws", "ReflectException", "{", "Class", "<", "?", ">", "[", "]", "types", "=", "types", "(", "args", ")", ";", "try", "{", "Constructor", "<", "?", ">", "constructor", "=", "type", "(", ")", ".", "getDeclaredConstructor", "(", "types", ")", ";", "return", "on", "(", "constructor", ",", "args", ")", ";", "}", "catch", "(", "NoSuchMethodException", "e", ")", "{", "for", "(", "Constructor", "<", "?", ">", "constructor", ":", "type", "(", ")", ".", "getDeclaredConstructors", "(", ")", ")", "{", "if", "(", "match", "(", "constructor", ".", "getParameterTypes", "(", ")", ",", "types", ")", ")", "{", "return", "on", "(", "constructor", ",", "args", ")", ";", "}", "}", "throw", "new", "ReflectException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "public", "<", "P", ">", "P", "as", "(", "final", "Class", "<", "P", ">", "proxyType", ")", "{", "final", "boolean", "isMap", "=", "(", "object", "instanceof", "Map", ")", ";", "final", "InvocationHandler", "handler", "=", "new", "InvocationHandler", "(", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "Object", "invoke", "(", "Object", "proxy", ",", "Method", "method", ",", "Object", "[", "]", "args", ")", "throws", "Throwable", "{", "String", "name", "=", "method", ".", "getName", "(", ")", ";", "try", "{", "return", "on", "(", "type", ",", "object", ")", ".", "call", "(", "name", ",", "args", ")", ".", "get", "(", ")", ";", "}", "catch", "(", "ReflectException", "e", ")", "{", "if", "(", "isMap", ")", "{", "Map", "<", "String", ",", "Object", ">", "map", "=", "(", "Map", "<", "String", ",", "Object", ">", ")", "object", ";", "int", "length", "=", "(", "args", "=", "=", "null", "?", "0", ":", "args", ".", "length", ")", ";", "if", "(", "length", "=", "=", "0", "&", "&", "name", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "return", "map", ".", "get", "(", "property", "(", "name", ".", "substring", "(", "<NUM_LIT:3>", ")", ")", ")", ";", "}", "else", "if", "(", "length", "=", "=", "0", "&", "&", "name", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "return", "map", ".", "get", "(", "property", "(", "name", ".", "substring", "(", "<NUM_LIT:2>", ")", ")", ")", ";", "}", "else", "if", "(", "length", "=", "=", "1", "&", "&", "name", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "map", ".", "put", "(", "property", "(", "name", ".", "substring", "(", "<NUM_LIT:3>", ")", ")", ",", "args", "[", "0", "]", ")", ";", "return", "null", ";", "}", "}", "throw", "e", ";", "}", "}", "}", ";", "return", "(", "P", ")", "Proxy", ".", "newProxyInstance", "(", "proxyType", ".", "getClassLoader", "(", ")", ",", "new", "Class", "[", "]", "{", "proxyType", "}", ",", "handler", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "Object", "invoke", "(", "Object", "proxy", ",", "Method", "method", ",", "Object", "[", "]", "args", ")", "throws", "Throwable", "{", "String", "name", "=", "method", ".", "getName", "(", ")", ";", "try", "{", "return", "on", "(", "type", ",", "object", ")", ".", "call", "(", "name", ",", "args", ")", ".", "get", "(", ")", ";", "}", "catch", "(", "ReflectException", "e", ")", "{", "if", "(", "isMap", ")", "{", "Map", "<", "String", ",", "Object", ">", "map", "=", "(", "Map", "<", "String", ",", "Object", ">", ")", "object", ";", "int", "length", "=", "(", "args", "=", "=", "null", "?", "0", ":", "args", ".", "length", ")", ";", "if", "(", "length", "=", "=", "0", "&", "&", "name", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "return", "map", ".", "get", "(", "property", "(", "name", ".", "substring", "(", "<NUM_LIT:3>", ")", ")", ")", ";", "}", "else", "if", "(", "length", "=", "=", "0", "&", "&", "name", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "return", "map", ".", "get", "(", "property", "(", "name", ".", "substring", "(", "<NUM_LIT:2>", ")", ")", ")", ";", "}", "else", "if", "(", "length", "=", "=", "1", "&", "&", "name", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "map", ".", "put", "(", "property", "(", "name", ".", "substring", "(", "<NUM_LIT:3>", ")", ")", ",", "args", "[", "0", "]", ")", ";", "return", "null", ";", "}", "}", "throw", "e", ";", "}", "}", "</s>"]
["<s>", "private", "static", "String", "property", "(", "String", "string", ")", "{", "int", "length", "=", "string", ".", "length", "(", ")", ";", "if", "(", "length", "=", "=", "0", ")", "{", "return", "\"", "\"", ";", "}", "else", "if", "(", "length", "=", "=", "1", ")", "{", "return", "string", ".", "toLowerCase", "(", ")", ";", "}", "else", "{", "return", "string", ".", "substring", "(", "0", ",", "1", ")", ".", "toLowerCase", "(", ")", "+", "string", ".", "substring", "(", "1", ")", ";", "}", "}", "</s>"]
["<s>", "private", "boolean", "match", "(", "Class", "<", "?", ">", "[", "]", "declaredTypes", ",", "Class", "<", "?", ">", "[", "]", "actualTypes", ")", "{", "if", "(", "declaredTypes", ".", "length", "=", "=", "actualTypes", ".", "length", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "actualTypes", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "actualTypes", "[", "i", "]", "=", "=", "NULL", ".", "class", ")", "continue", ";", "if", "(", "wrapper", "(", "declaredTypes", "[", "i", "]", ")", ".", "isAssignableFrom", "(", "wrapper", "(", "actualTypes", "[", "i", "]", ")", ")", ")", "continue", ";", "return", "false", ";", "}", "return", "true", ";", "}", "else", "{", "return", "false", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "object", ".", "hashCode", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "Reflect", ")", "{", "return", "object", ".", "equals", "(", "(", "(", "Reflect", ")", "obj", ")", ".", "get", "(", ")", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "object", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "private", "static", "Reflect", "on", "(", "Constructor", "<", "?", ">", "constructor", ",", "Object", ".", ".", ".", "args", ")", "throws", "ReflectException", "{", "try", "{", "return", "on", "(", "constructor", ".", "getDeclaringClass", "(", ")", ",", "accessible", "(", "constructor", ")", ".", "newInstance", "(", "args", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "throw", "new", "ReflectException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "Reflect", "on", "(", "Method", "method", ",", "Object", "object", ",", "Object", ".", ".", ".", "args", ")", "throws", "ReflectException", "{", "try", "{", "accessible", "(", "method", ")", ";", "if", "(", "method", ".", "getReturnType", "(", ")", "=", "=", "void", ".", "class", ")", "{", "method", ".", "invoke", "(", "object", ",", "args", ")", ";", "return", "on", "(", "object", ")", ";", "}", "else", "{", "return", "on", "(", "method", ".", "invoke", "(", "object", ",", "args", ")", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "throw", "new", "ReflectException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "Object", "unwrap", "(", "Object", "object", ")", "{", "if", "(", "object", "instanceof", "Reflect", ")", "{", "return", "(", "(", "Reflect", ")", "object", ")", ".", "get", "(", ")", ";", "}", "return", "object", ";", "}", "</s>"]
["<s>", "private", "static", "Class", "<", "?", ">", "[", "]", "types", "(", "Object", ".", ".", ".", "values", ")", "{", "if", "(", "values", "=", "=", "null", ")", "{", "return", "new", "Class", "[", "0", "]", ";", "}", "Class", "<", "?", ">", "[", "]", "result", "=", "new", "Class", "[", "values", ".", "length", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "values", ".", "length", ";", "i", "+", "+", ")", "{", "Object", "value", "=", "values", "[", "i", "]", ";", "result", "[", "i", "]", "=", "value", "=", "=", "null", "?", "NULL", ".", "class", ":", "value", ".", "getClass", "(", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "private", "static", "Class", "<", "?", ">", "forName", "(", "String", "name", ")", "throws", "ReflectException", "{", "try", "{", "return", "Class", ".", "forName", "(", "name", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "throw", "new", "ReflectException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "Class", "<", "?", ">", "forName", "(", "String", "name", ",", "ClassLoader", "classLoader", ")", "throws", "ReflectException", "{", "try", "{", "return", "Class", ".", "forName", "(", "name", ",", "true", ",", "classLoader", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "throw", "new", "ReflectException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "public", "Class", "<", "?", ">", "type", "(", ")", "{", "return", "type", ";", "}", "</s>"]
["<s>", "public", "static", "Class", "<", "?", ">", "wrapper", "(", "Class", "<", "?", ">", "type", ")", "{", "if", "(", "type", "=", "=", "null", ")", "{", "return", "null", ";", "}", "else", "if", "(", "type", ".", "isPrimitive", "(", ")", ")", "{", "if", "(", "boolean", ".", "class", "=", "=", "type", ")", "{", "return", "Boolean", ".", "class", ";", "}", "else", "if", "(", "int", ".", "class", "=", "=", "type", ")", "{", "return", "Integer", ".", "class", ";", "}", "else", "if", "(", "long", ".", "class", "=", "=", "type", ")", "{", "return", "Long", ".", "class", ";", "}", "else", "if", "(", "short", ".", "class", "=", "=", "type", ")", "{", "return", "Short", ".", "class", ";", "}", "else", "if", "(", "byte", ".", "class", "=", "=", "type", ")", "{", "return", "Byte", ".", "class", ";", "}", "else", "if", "(", "double", ".", "class", "=", "=", "type", ")", "{", "return", "Double", ".", "class", ";", "}", "else", "if", "(", "float", ".", "class", "=", "=", "type", ")", "{", "return", "Float", ".", "class", ";", "}", "else", "if", "(", "char", ".", "class", "=", "=", "type", ")", "{", "return", "Character", ".", "class", ";", "}", "else", "if", "(", "void", ".", "class", "=", "=", "type", ")", "{", "return", "Void", ".", "class", ";", "}", "}", "return", "type", ";", "}", "</s>"]
["<s>", "public", "ReflectException", "(", "String", "message", ")", "{", "super", "(", "message", ")", ";", "}", "</s>"]
["<s>", "public", "ReflectException", "(", "String", "message", ",", "Throwable", "cause", ")", "{", "super", "(", "message", ",", "cause", ")", ";", "}", "</s>"]
["<s>", "public", "ReflectException", "(", ")", "{", "super", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ReflectException", "(", "Throwable", "cause", ")", "{", "super", "(", "cause", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "checkFolderForPackaging", "(", "@", "NonNull", "String", "folderName", ")", "{", "return", "!", "folderName", ".", "equalsIgnoreCase", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "!", "folderName", ".", "equalsIgnoreCase", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "!", "folderName", ".", "equalsIgnoreCase", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "!", "folderName", ".", "startsWith", "(", "\"", "<STR_LIT:_>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "checkFileForPackaging", "(", "@", "NonNull", "String", "fileName", ",", "boolean", "allowClassFiles", ")", "{", "String", "[", "]", "fileSegments", "=", "fileName", ".", "split", "(", "\"", "<STR_LIT:\\\\>", "<STR_LIT:.>", "\"", ")", ";", "String", "fileExt", "=", "\"", "\"", ";", "if", "(", "fileSegments", ".", "length", ">", "1", ")", "{", "fileExt", "=", "fileSegments", "[", "fileSegments", ".", "length", "-", "1", "]", ";", "}", "return", "checkFileForPackaging", "(", "fileName", ",", "fileExt", ",", "allowClassFiles", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "checkFileForPackaging", "(", "@", "NonNull", "String", "fileName", ")", "{", "return", "checkFileForPackaging", "(", "fileName", ",", "false", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "checkFileForPackaging", "(", "@", "NonNull", "String", "fileName", ",", "@", "NonNull", "String", "extension", ",", "boolean", "allowClassFiles", ")", "{", "return", "!", "(", "fileName", ".", "charAt", "(", "0", ")", "=", "=", "<CHAR_LIT:.>", "|", "|", "fileName", ".", "charAt", "(", "fileName", ".", "length", "(", ")", "-", "1", ")", "=", "=", "<CHAR_LIT>", ")", "&", "&", "!", "isOfNonResourcesExtensions", "(", "extension", ",", "allowClassFiles", ")", "&", "&", "!", "isNotAResourceFile", "(", "fileName", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "checkFileForPackaging", "(", "@", "NonNull", "String", "fileName", ",", "@", "NonNull", "String", "extension", ")", "{", "return", "!", "(", "fileName", ".", "charAt", "(", "0", ")", "=", "=", "<CHAR_LIT:.>", "|", "|", "fileName", ".", "charAt", "(", "fileName", ".", "length", "(", ")", "-", "1", ")", "=", "=", "<CHAR_LIT>", ")", "&", "&", "!", "isOfNonResourcesExtensions", "(", "extension", ",", "false", ")", "&", "&", "!", "isNotAResourceFile", "(", "fileName", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isOfNonResourcesExtensions", "(", "@", "NonNull", "String", "extension", ",", "boolean", "allowClassFiles", ")", "{", "for", "(", "String", "ext", ":", "NON_RESOURCES_EXTENSIONS", ")", "{", "if", "(", "ext", ".", "equalsIgnoreCase", "(", "extension", ")", ")", "{", "return", "true", ";", "}", "}", "return", "!", "allowClassFiles", "&", "&", "SdkConstants", ".", "EXT_CLASS", ".", "equals", "(", "extension", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isNotAResourceFile", "(", "@", "NonNull", "String", "fileName", ")", "{", "for", "(", "String", "name", ":", "NON_RESOURCES_FILENAMES", ")", "{", "if", "(", "name", ".", "equalsIgnoreCase", "(", "fileName", ")", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "public", "static", "long", "computeApplicationHash", "(", "@", "NonNull", "File", "projectDir", ")", "{", "HashFunction", "hashFunction", "=", "Hashing", ".", "md5", "(", ")", ";", "Hasher", "hasher", "=", "hashFunction", ".", "newHasher", "(", ")", ";", "try", "{", "projectDir", "=", "projectDir", ".", "getCanonicalFile", "(", ")", ";", "}", "catch", "(", "IOException", "ignore", ")", "{", "}", "String", "path", "=", "projectDir", ".", "getPath", "(", ")", ";", "hasher", ".", "putBytes", "(", "path", ".", "getBytes", "(", "Charsets", ".", "UTF_8", ")", ")", ";", "String", "user", "=", "System", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "user", "!", "=", "null", ")", "{", "hasher", ".", "putBytes", "(", "user", ".", "getBytes", "(", "Charsets", ".", "UTF_8", ")", ")", ";", "}", "return", "hasher", ".", "hash", "(", ")", ".", "asLong", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ApplicationTest", "(", ")", "{", "super", "(", "Application", ".", "class", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "addition_isCorrect", "(", ")", "throws", "Exception", "{", "assertEquals", "(", "<NUM_LIT:4>", ",", "<NUM_LIT:2>", "+", "<NUM_LIT:2>", ")", ";", "}", "</s>"]
["<s>", "public", "DataBinderMapperProxy", "(", "@", "NonNull", "Object", "source", ")", "{", "mMappers", "=", "new", "LinkedList", "<", ">", "(", ")", ";", "addMapper", "(", "(", "DataBinderMapper", ")", "source", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ViewDataBinding", "getDataBinder", "(", "DataBindingComponent", "bindingComponent", ",", "View", "view", ",", "int", "layoutId", ")", "{", "ViewDataBinding", "viewDataBinding", ";", "for", "(", "DataBinderMapper", "mapper", ":", "getCache", "(", ")", ")", "{", "viewDataBinding", "=", "mapper", ".", "getDataBinder", "(", "bindingComponent", ",", "view", ",", "layoutId", ")", ";", "if", "(", "viewDataBinding", "!", "=", "null", ")", "{", "return", "viewDataBinding", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "ViewDataBinding", "getDataBinder", "(", "DataBindingComponent", "bindingComponent", ",", "View", "[", "]", "view", ",", "int", "layoutId", ")", "{", "ViewDataBinding", "viewDataBinding", ";", "for", "(", "DataBinderMapper", "mapper", ":", "getCache", "(", ")", ")", "{", "viewDataBinding", "=", "mapper", ".", "getDataBinder", "(", "bindingComponent", ",", "view", ",", "layoutId", ")", ";", "if", "(", "viewDataBinding", "!", "=", "null", ")", "{", "return", "viewDataBinding", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getLayoutId", "(", "String", "tag", ")", "{", "int", "layoutId", ";", "for", "(", "DataBinderMapper", "mapper", ":", "getCache", "(", ")", ")", "{", "layoutId", "=", "mapper", ".", "getLayoutId", "(", "tag", ")", ";", "if", "(", "layoutId", "!", "=", "0", ")", "{", "return", "layoutId", ";", "}", "}", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "convertBrIdToString", "(", "int", "id", ")", "{", "String", "brId", ";", "for", "(", "DataBinderMapper", "mapper", ":", "getCache", "(", ")", ")", "{", "brId", "=", "mapper", ".", "convertBrIdToString", "(", "id", ")", ";", "if", "(", "brId", "!", "=", "null", ")", "{", "return", "brId", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAddedLoadedPlugin", "(", "LoadedPlugin", "plugin", ")", "{", "try", "{", "String", "clsName", "=", "\"", "<STR_LIT>", "\"", "+", "plugin", ".", "getPackageName", "(", ")", ".", "replace", "(", "<CHAR_LIT:.>", ",", "<CHAR_LIT:_>", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "clsName", ")", ";", "Class", "cls", "=", "Class", ".", "forName", "(", "clsName", ",", "true", ",", "plugin", ".", "getClassLoader", "(", ")", ")", ";", "Object", "obj", "=", "cls", ".", "newInstance", "(", ")", ";", "addMapper", "(", "(", "DataBinderMapper", ")", "obj", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "Log", ".", "w", "(", "TAG", ",", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "addMapper", "(", "DataBinderMapper", "mapper", ")", "{", "int", "size", "=", "0", ";", "synchronized", "(", "mMappers", ")", "{", "mMappers", ".", "add", "(", "mapper", ")", ";", "mCache", "=", "null", ";", "size", "=", "mMappers", ".", "size", "(", ")", ";", "}", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "mapper", "+", "\"", "<STR_LIT>", "\"", "+", "size", ")", ";", "}", "</s>"]
["<s>", "private", "DataBinderMapper", "[", "]", "getCache", "(", ")", "{", "synchronized", "(", "mMappers", ")", "{", "if", "(", "mCache", "=", "=", "null", ")", "{", "mCache", "=", "mMappers", ".", "toArray", "(", "new", "DataBinderMapper", "[", "mMappers", ".", "size", "(", ")", "]", ")", ";", "}", "return", "mCache", ";", "}", "}", "</s>"]
["<s>", "public", "static", "Context", "getContext", "(", ")", "{", "return", "sHostContext", ";", "}", "</s>"]
["<s>", "public", "static", "PluginManager", "getInstance", "(", "Context", "base", ")", "{", "if", "(", "sInstance", "=", "=", "null", ")", "{", "synchronized", "(", "PluginManager", ".", "class", ")", "{", "if", "(", "sInstance", "=", "=", "null", ")", "sInstance", "=", "new", "PluginManager", "(", "base", ")", ";", "}", "}", "return", "sInstance", ";", "}", "</s>"]
["<s>", "private", "PluginManager", "(", "Context", "context", ")", "{", "Context", "app", "=", "context", ".", "getApplicationContext", "(", ")", ";", "if", "(", "app", "=", "=", "null", ")", "{", "this", ".", "mContext", "=", "context", ";", "}", "else", "{", "this", ".", "mContext", "=", "(", "(", "Application", ")", "app", ")", ".", "getBaseContext", "(", ")", ";", "}", "prepare", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "prepare", "(", ")", "{", "Systems", ".", "sHostContext", "=", "getHostContext", "(", ")", ";", "this", ".", "hookInstrumentationAndHandler", "(", ")", ";", "this", ".", "hookSystemServices", "(", ")", ";", "hookDataBindingUtil", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "init", "(", ")", "{", "mComponentsHandler", "=", "new", "ComponentsHandler", "(", "this", ")", ";", "RunUtil", ".", "getThreadPool", "(", ")", ".", "execute", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "doInWorkThread", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "doInWorkThread", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "doInWorkThread", "(", ")", "{", "}", "</s>"]
["<s>", "private", "void", "hookDataBindingUtil", "(", ")", "{", "try", "{", "Class", "cls", "=", "Class", ".", "forName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Object", "old", "=", "ReflectUtil", ".", "getField", "(", "cls", ",", "null", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Callback", "callback", "=", "new", "DataBinderMapperProxy", "(", "old", ")", ";", "ReflectUtil", ".", "setField", "(", "cls", ",", "null", ",", "\"", "<STR_LIT>", "\"", ",", "callback", ")", ";", "addCallback", "(", "callback", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "addCallback", "(", "Callback", "callback", ")", "{", "if", "(", "callback", "=", "=", "null", ")", "{", "return", ";", "}", "synchronized", "(", "mCallbacks", ")", "{", "mCallbacks", ".", "add", "(", "callback", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "hookSystemServices", "(", ")", "{", "try", "{", "Singleton", "<", "IActivityManager", ">", "defaultSingleton", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "O", ")", "{", "defaultSingleton", "=", "(", "Singleton", "<", "IActivityManager", ">", ")", "ReflectUtil", ".", "getField", "(", "ActivityManager", ".", "class", ",", "null", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "else", "{", "defaultSingleton", "=", "(", "Singleton", "<", "IActivityManager", ">", ")", "ReflectUtil", ".", "getField", "(", "ActivityManagerNative", ".", "class", ",", "null", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "IActivityManager", "activityManagerProxy", "=", "ActivityManagerProxy", ".", "newInstance", "(", "this", ",", "defaultSingleton", ".", "get", "(", ")", ")", ";", "ReflectUtil", ".", "setField", "(", "defaultSingleton", ".", "getClass", "(", ")", ".", "getSuperclass", "(", ")", ",", "defaultSingleton", ",", "\"", "<STR_LIT>", "\"", ",", "activityManagerProxy", ")", ";", "if", "(", "defaultSingleton", ".", "get", "(", ")", "=", "=", "activityManagerProxy", ")", "{", "this", ".", "mActivityManager", "=", "activityManagerProxy", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "hookInstrumentationAndHandler", "(", ")", "{", "try", "{", "Instrumentation", "baseInstrumentation", "=", "ReflectUtil", ".", "getInstrumentation", "(", "this", ".", "mContext", ")", ";", "if", "(", "baseInstrumentation", ".", "getClass", "(", ")", ".", "getName", "(", ")", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "System", ".", "exit", "(", "0", ")", ";", "}", "final", "VAInstrumentation", "instrumentation", "=", "new", "VAInstrumentation", "(", "this", ",", "baseInstrumentation", ")", ";", "Object", "activityThread", "=", "ReflectUtil", ".", "getActivityThread", "(", "this", ".", "mContext", ")", ";", "ReflectUtil", ".", "setInstrumentation", "(", "activityThread", ",", "instrumentation", ")", ";", "ReflectUtil", ".", "setHandlerCallback", "(", "this", ".", "mContext", ",", "instrumentation", ")", ";", "this", ".", "mInstrumentation", "=", "instrumentation", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "hookIContentProviderAsNeeded", "(", ")", "{", "Uri", "uri", "=", "Uri", ".", "parse", "(", "PluginContentResolver", ".", "getUri", "(", "mContext", ")", ")", ";", "mContext", ".", "getContentResolver", "(", ")", ".", "call", "(", "uri", ",", "\"", "<STR_LIT>", "\"", ",", "null", ",", "null", ")", ";", "try", "{", "Field", "authority", "=", "null", ";", "Field", "mProvider", "=", "null", ";", "ActivityThread", "activityThread", "=", "(", "ActivityThread", ")", "ReflectUtil", ".", "getActivityThread", "(", "mContext", ")", ";", "Map", "mProviderMap", "=", "(", "Map", ")", "ReflectUtil", ".", "getField", "(", "activityThread", ".", "getClass", "(", ")", ",", "activityThread", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Iterator", "iter", "=", "mProviderMap", ".", "entrySet", "(", ")", ".", "iterator", "(", ")", ";", "while", "(", "iter", ".", "hasNext", "(", ")", ")", "{", "Map", ".", "Entry", "entry", "=", "(", "Map", ".", "Entry", ")", "iter", ".", "next", "(", ")", ";", "Object", "key", "=", "entry", ".", "getKey", "(", ")", ";", "Object", "val", "=", "entry", ".", "getValue", "(", ")", ";", "String", "auth", ";", "if", "(", "key", "instanceof", "String", ")", "{", "auth", "=", "(", "String", ")", "key", ";", "}", "else", "{", "if", "(", "authority", "=", "=", "null", ")", "{", "authority", "=", "key", ".", "getClass", "(", ")", ".", "getDeclaredField", "(", "\"", "<STR_LIT>", "\"", ")", ";", "authority", ".", "setAccessible", "(", "true", ")", ";", "}", "auth", "=", "(", "String", ")", "authority", ".", "get", "(", "key", ")", ";", "}", "if", "(", "auth", ".", "equals", "(", "PluginContentResolver", ".", "getAuthority", "(", "mContext", ")", ")", ")", "{", "if", "(", "mProvider", "=", "=", "null", ")", "{", "mProvider", "=", "val", ".", "getClass", "(", ")", ".", "getDeclaredField", "(", "\"", "<STR_LIT>", "\"", ")", ";", "mProvider", ".", "setAccessible", "(", "true", ")", ";", "}", "IContentProvider", "rawProvider", "=", "(", "IContentProvider", ")", "mProvider", ".", "get", "(", "val", ")", ";", "IContentProvider", "proxy", "=", "IContentProviderProxy", ".", "newInstance", "(", "mContext", ",", "rawProvider", ")", ";", "mIContentProvider", "=", "proxy", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "mIContentProvider", ")", ";", "break", ";", "}", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "loadPlugin", "(", "File", "apk", ")", "throws", "Exception", "{", "if", "(", "null", "=", "=", "apk", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "!", "apk", ".", "exists", "(", ")", ")", "{", "throw", "new", "FileNotFoundException", "(", "apk", ".", "getAbsolutePath", "(", ")", ")", ";", "}", "LoadedPlugin", "plugin", "=", "LoadedPlugin", ".", "create", "(", "this", ",", "this", ".", "mContext", ",", "apk", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "this", ".", "mPlugins", ".", "put", "(", "plugin", ".", "getPackageName", "(", ")", ",", "plugin", ")", ";", "synchronized", "(", "mCallbacks", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "mCallbacks", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "mCallbacks", ".", "get", "(", "i", ")", ".", "onAddedLoadedPlugin", "(", "plugin", ")", ";", "}", "}", "plugin", ".", "invokeApplication", "(", ")", ";", "}", "else", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", "+", "apk", ".", "getAbsolutePath", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "LoadedPlugin", "getLoadedPlugin", "(", "Intent", "intent", ")", "{", "ComponentName", "component", "=", "PluginUtil", ".", "getComponent", "(", "intent", ")", ";", "return", "getLoadedPlugin", "(", "component", ".", "getPackageName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "LoadedPlugin", "getLoadedPlugin", "(", "ComponentName", "component", ")", "{", "return", "this", ".", "getLoadedPlugin", "(", "component", ".", "getPackageName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "LoadedPlugin", "getLoadedPlugin", "(", "String", "packageName", ")", "{", "return", "this", ".", "mPlugins", ".", "get", "(", "packageName", ")", ";", "}", "</s>"]
["<s>", "public", "List", "<", "LoadedPlugin", ">", "getAllLoadedPlugins", "(", ")", "{", "List", "<", "LoadedPlugin", ">", "list", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "list", ".", "addAll", "(", "mPlugins", ".", "values", "(", ")", ")", ";", "return", "list", ";", "}", "</s>"]
["<s>", "public", "Context", "getHostContext", "(", ")", "{", "return", "this", ".", "mContext", ";", "}", "</s>"]
["<s>", "public", "Instrumentation", "getInstrumentation", "(", ")", "{", "return", "this", ".", "mInstrumentation", ";", "}", "</s>"]
["<s>", "public", "IActivityManager", "getActivityManager", "(", ")", "{", "return", "this", ".", "mActivityManager", ";", "}", "</s>"]
["<s>", "public", "synchronized", "IContentProvider", "getIContentProvider", "(", ")", "{", "if", "(", "mIContentProvider", "=", "=", "null", ")", "{", "hookIContentProviderAsNeeded", "(", ")", ";", "}", "return", "mIContentProvider", ";", "}", "</s>"]
["<s>", "public", "ComponentsHandler", "getComponentsHandler", "(", ")", "{", "return", "mComponentsHandler", ";", "}", "</s>"]
["<s>", "public", "ResolveInfo", "resolveActivity", "(", "Intent", "intent", ")", "{", "return", "this", ".", "resolveActivity", "(", "intent", ",", "0", ")", ";", "}", "</s>"]
["<s>", "public", "ResolveInfo", "resolveActivity", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "for", "(", "LoadedPlugin", "plugin", ":", "this", ".", "mPlugins", ".", "values", "(", ")", ")", "{", "ResolveInfo", "resolveInfo", "=", "plugin", ".", "resolveActivity", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "resolveInfo", ")", "{", "return", "resolveInfo", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "ResolveInfo", "resolveService", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "for", "(", "LoadedPlugin", "plugin", ":", "this", ".", "mPlugins", ".", "values", "(", ")", ")", "{", "ResolveInfo", "resolveInfo", "=", "plugin", ".", "resolveService", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "resolveInfo", ")", "{", "return", "resolveInfo", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "ProviderInfo", "resolveContentProvider", "(", "String", "name", ",", "int", "flags", ")", "{", "for", "(", "LoadedPlugin", "plugin", ":", "this", ".", "mPlugins", ".", "values", "(", ")", ")", "{", "ProviderInfo", "providerInfo", "=", "plugin", ".", "resolveContentProvider", "(", "name", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "providerInfo", ")", "{", "return", "providerInfo", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Deprecated", "public", "List", "<", "ResolveInfo", ">", "queryIntentActivities", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "List", "<", "ResolveInfo", ">", "resolveInfos", "=", "new", "ArrayList", "<", "ResolveInfo", ">", "(", ")", ";", "for", "(", "LoadedPlugin", "plugin", ":", "this", ".", "mPlugins", ".", "values", "(", ")", ")", "{", "List", "<", "ResolveInfo", ">", "result", "=", "plugin", ".", "queryIntentActivities", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "result", "&", "&", "result", ".", "size", "(", ")", ">", "0", ")", "{", "resolveInfos", ".", "addAll", "(", "result", ")", ";", "}", "}", "return", "resolveInfos", ";", "}", "</s>"]
["<s>", "@", "Deprecated", "public", "List", "<", "ResolveInfo", ">", "queryIntentServices", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "List", "<", "ResolveInfo", ">", "resolveInfos", "=", "new", "ArrayList", "<", "ResolveInfo", ">", "(", ")", ";", "for", "(", "LoadedPlugin", "plugin", ":", "this", ".", "mPlugins", ".", "values", "(", ")", ")", "{", "List", "<", "ResolveInfo", ">", "result", "=", "plugin", ".", "queryIntentServices", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "result", "&", "&", "result", ".", "size", "(", ")", ">", "0", ")", "{", "resolveInfos", ".", "addAll", "(", "result", ")", ";", "}", "}", "return", "resolveInfos", ";", "}", "</s>"]
["<s>", "@", "Deprecated", "public", "List", "<", "ResolveInfo", ">", "queryBroadcastReceivers", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "List", "<", "ResolveInfo", ">", "resolveInfos", "=", "new", "ArrayList", "<", "ResolveInfo", ">", "(", ")", ";", "for", "(", "LoadedPlugin", "plugin", ":", "this", ".", "mPlugins", ".", "values", "(", ")", ")", "{", "List", "<", "ResolveInfo", ">", "result", "=", "plugin", ".", "queryBroadcastReceivers", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "result", "&", "&", "result", ".", "size", "(", ")", ">", "0", ")", "{", "resolveInfos", ".", "addAll", "(", "result", ")", ";", "}", "}", "return", "resolveInfos", ";", "}", "</s>"]
["<s>", "void", "onAddedLoadedPlugin", "(", "LoadedPlugin", "plugin", ")", ";", "</s>"]
["<s>", "public", "PluginContext", "(", "LoadedPlugin", "plugin", ")", "{", "super", "(", "plugin", ".", "getPluginManager", "(", ")", ".", "getHostContext", "(", ")", ")", ";", "this", ".", "mPlugin", "=", "plugin", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Context", "getApplicationContext", "(", ")", "{", "return", "this", ".", "mPlugin", ".", "getApplication", "(", ")", ";", "}", "</s>"]
["<s>", "private", "Context", "getHostContext", "(", ")", "{", "return", "getBaseContext", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ContentResolver", "getContentResolver", "(", ")", "{", "return", "new", "PluginContentResolver", "(", "getHostContext", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ClassLoader", "getClassLoader", "(", ")", "{", "return", "this", ".", "mPlugin", ".", "getClassLoader", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PackageManager", "getPackageManager", "(", ")", "{", "return", "this", ".", "mPlugin", ".", "getPackageManager", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "getSystemService", "(", "String", "name", ")", "{", "if", "(", "name", ".", "equals", "(", "Context", ".", "CLIPBOARD_SERVICE", ")", ")", "{", "return", "getHostContext", "(", ")", ".", "getSystemService", "(", "name", ")", ";", "}", "else", "if", "(", "name", ".", "equals", "(", "Context", ".", "NOTIFICATION_SERVICE", ")", ")", "{", "return", "getHostContext", "(", ")", ".", "getSystemService", "(", "name", ")", ";", "}", "return", "super", ".", "getSystemService", "(", "name", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Resources", "getResources", "(", ")", "{", "return", "this", ".", "mPlugin", ".", "getResources", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "AssetManager", "getAssets", "(", ")", "{", "return", "this", ".", "mPlugin", ".", "getAssets", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Resources", ".", "Theme", "getTheme", "(", ")", "{", "return", "this", ".", "mPlugin", ".", "getTheme", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "startActivity", "(", "Intent", "intent", ")", "{", "ComponentsHandler", "componentsHandler", "=", "mPlugin", ".", "getPluginManager", "(", ")", ".", "getComponentsHandler", "(", ")", ";", "componentsHandler", ".", "transformIntentToExplicitAsNeeded", "(", "intent", ")", ";", "super", ".", "startActivity", "(", "intent", ")", ";", "}", "</s>"]
["<s>", "public", "static", "synchronized", "Resources", "createResources", "(", "Context", "hostContext", ",", "String", "apk", ")", "{", "Resources", "hostResources", "=", "hostContext", ".", "getResources", "(", ")", ";", "Resources", "newResources", "=", "null", ";", "AssetManager", "assetManager", ";", "try", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "<", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "assetManager", "=", "AssetManager", ".", "class", ".", "newInstance", "(", ")", ";", "ReflectUtil", ".", "invoke", "(", "AssetManager", ".", "class", ",", "assetManager", ",", "\"", "<STR_LIT>", "\"", ",", "hostContext", ".", "getApplicationInfo", "(", ")", ".", "sourceDir", ")", ";", "}", "else", "{", "assetManager", "=", "hostResources", ".", "getAssets", "(", ")", ";", "}", "ReflectUtil", ".", "invoke", "(", "AssetManager", ".", "class", ",", "assetManager", ",", "\"", "<STR_LIT>", "\"", ",", "apk", ")", ";", "List", "<", "LoadedPlugin", ">", "pluginList", "=", "PluginManager", ".", "getInstance", "(", "hostContext", ")", ".", "getAllLoadedPlugins", "(", ")", ";", "for", "(", "LoadedPlugin", "plugin", ":", "pluginList", ")", "{", "ReflectUtil", ".", "invoke", "(", "AssetManager", ".", "class", ",", "assetManager", ",", "\"", "<STR_LIT>", "\"", ",", "plugin", ".", "getLocation", "(", ")", ")", ";", "}", "if", "(", "isMiUi", "(", "hostResources", ")", ")", "{", "newResources", "=", "MiUiResourcesCompat", ".", "createResources", "(", "hostResources", ",", "assetManager", ")", ";", "}", "else", "if", "(", "isVivo", "(", "hostResources", ")", ")", "{", "newResources", "=", "VivoResourcesCompat", ".", "createResources", "(", "hostContext", ",", "hostResources", ",", "assetManager", ")", ";", "}", "else", "if", "(", "isNubia", "(", "hostResources", ")", ")", "{", "newResources", "=", "NubiaResourcesCompat", ".", "createResources", "(", "hostResources", ",", "assetManager", ")", ";", "}", "else", "if", "(", "isNotRawResources", "(", "hostResources", ")", ")", "{", "newResources", "=", "AdaptationResourcesCompat", ".", "createResources", "(", "hostResources", ",", "assetManager", ")", ";", "}", "else", "{", "newResources", "=", "new", "Resources", "(", "assetManager", ",", "hostResources", ".", "getDisplayMetrics", "(", ")", ",", "hostResources", ".", "getConfiguration", "(", ")", ")", ";", "}", "for", "(", "LoadedPlugin", "plugin", ":", "pluginList", ")", "{", "plugin", ".", "updateResources", "(", "newResources", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "newResources", ";", "}", "</s>"]
["<s>", "public", "static", "void", "hookResources", "(", "Context", "base", ",", "Resources", "resources", ")", "{", "try", "{", "ReflectUtil", ".", "setField", "(", "base", ".", "getClass", "(", ")", ",", "base", ",", "\"", "<STR_LIT>", "\"", ",", "resources", ")", ";", "Object", "loadedApk", "=", "ReflectUtil", ".", "getPackageInfo", "(", "base", ")", ";", "ReflectUtil", ".", "setField", "(", "loadedApk", ".", "getClass", "(", ")", ",", "loadedApk", ",", "\"", "<STR_LIT>", "\"", ",", "resources", ")", ";", "Object", "activityThread", "=", "ReflectUtil", ".", "getActivityThread", "(", "base", ")", ";", "Object", "resManager", "=", "ReflectUtil", ".", "getField", "(", "activityThread", ".", "getClass", "(", ")", ",", "activityThread", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "<", "<NUM_LIT:24>", ")", "{", "Map", "<", "Object", ",", "WeakReference", "<", "Resources", ">", ">", "map", "=", "(", "Map", "<", "Object", ",", "WeakReference", "<", "Resources", ">", ">", ")", "ReflectUtil", ".", "getField", "(", "resManager", ".", "getClass", "(", ")", ",", "resManager", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Object", "key", "=", "map", ".", "keySet", "(", ")", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "map", ".", "put", "(", "key", ",", "new", "WeakReference", "<", ">", "(", "resources", ")", ")", ";", "}", "else", "{", "Map", "map", "=", "(", "Map", ")", "ReflectUtil", ".", "getFieldNoException", "(", "resManager", ".", "getClass", "(", ")", ",", "resManager", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Object", "key", "=", "map", ".", "keySet", "(", ")", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "Object", "resourcesImpl", "=", "ReflectUtil", ".", "getFieldNoException", "(", "Resources", ".", "class", ",", "resources", ",", "\"", "<STR_LIT>", "\"", ")", ";", "map", ".", "put", "(", "key", ",", "new", "WeakReference", "<", ">", "(", "resourcesImpl", ")", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "boolean", "isMiUi", "(", "Resources", "resources", ")", "{", "return", "resources", ".", "getClass", "(", ")", ".", "getName", "(", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isVivo", "(", "Resources", "resources", ")", "{", "return", "resources", ".", "getClass", "(", ")", ".", "getName", "(", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isNubia", "(", "Resources", "resources", ")", "{", "return", "resources", ".", "getClass", "(", ")", ".", "getName", "(", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isNotRawResources", "(", "Resources", "resources", ")", "{", "return", "!", "resources", ".", "getClass", "(", ")", ".", "getName", "(", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "static", "Resources", "createResources", "(", "Resources", "hostResources", ",", "AssetManager", "assetManager", ")", "throws", "Exception", "{", "Class", "resourcesClazz", "=", "Class", ".", "forName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Resources", "newResources", "=", "(", "Resources", ")", "ReflectUtil", ".", "invokeConstructor", "(", "resourcesClazz", ",", "new", "Class", "[", "]", "{", "AssetManager", ".", "class", ",", "DisplayMetrics", ".", "class", ",", "Configuration", ".", "class", "}", ",", "new", "Object", "[", "]", "{", "assetManager", ",", "hostResources", ".", "getDisplayMetrics", "(", ")", ",", "hostResources", ".", "getConfiguration", "(", ")", "}", ")", ";", "return", "newResources", ";", "}", "</s>"]
["<s>", "private", "static", "Resources", "createResources", "(", "Context", "hostContext", ",", "Resources", "hostResources", ",", "AssetManager", "assetManager", ")", "throws", "Exception", "{", "Class", "resourcesClazz", "=", "Class", ".", "forName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Resources", "newResources", "=", "(", "Resources", ")", "ReflectUtil", ".", "invokeConstructor", "(", "resourcesClazz", ",", "new", "Class", "[", "]", "{", "AssetManager", ".", "class", ",", "DisplayMetrics", ".", "class", ",", "Configuration", ".", "class", "}", ",", "new", "Object", "[", "]", "{", "assetManager", ",", "hostResources", ".", "getDisplayMetrics", "(", ")", ",", "hostResources", ".", "getConfiguration", "(", ")", "}", ")", ";", "ReflectUtil", ".", "invokeNoException", "(", "resourcesClazz", ",", "newResources", ",", "\"", "<STR_LIT>", "\"", ",", "new", "Class", "[", "]", "{", "String", ".", "class", "}", ",", "hostContext", ".", "getPackageName", "(", ")", ")", ";", "Object", "themeValues", "=", "ReflectUtil", ".", "getFieldNoException", "(", "resourcesClazz", ",", "hostResources", ",", "\"", "<STR_LIT>", "\"", ")", ";", "ReflectUtil", ".", "setFieldNoException", "(", "resourcesClazz", ",", "newResources", ",", "\"", "<STR_LIT>", "\"", ",", "themeValues", ")", ";", "return", "newResources", ";", "}", "</s>"]
["<s>", "private", "static", "Resources", "createResources", "(", "Resources", "hostResources", ",", "AssetManager", "assetManager", ")", "throws", "Exception", "{", "Class", "resourcesClazz", "=", "Class", ".", "forName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Resources", "newResources", "=", "(", "Resources", ")", "ReflectUtil", ".", "invokeConstructor", "(", "resourcesClazz", ",", "new", "Class", "[", "]", "{", "AssetManager", ".", "class", ",", "DisplayMetrics", ".", "class", ",", "Configuration", ".", "class", "}", ",", "new", "Object", "[", "]", "{", "assetManager", ",", "hostResources", ".", "getDisplayMetrics", "(", ")", ",", "hostResources", ".", "getConfiguration", "(", ")", "}", ")", ";", "return", "newResources", ";", "}", "</s>"]
["<s>", "private", "static", "Resources", "createResources", "(", "Resources", "hostResources", ",", "AssetManager", "assetManager", ")", "throws", "Exception", "{", "Resources", "newResources", ";", "try", "{", "Class", "resourcesClazz", "=", "hostResources", ".", "getClass", "(", ")", ";", "newResources", "=", "(", "Resources", ")", "ReflectUtil", ".", "invokeConstructor", "(", "resourcesClazz", ",", "new", "Class", "[", "]", "{", "AssetManager", ".", "class", ",", "DisplayMetrics", ".", "class", ",", "Configuration", ".", "class", "}", ",", "new", "Object", "[", "]", "{", "assetManager", ",", "hostResources", ".", "getDisplayMetrics", "(", ")", ",", "hostResources", ".", "getConfiguration", "(", ")", "}", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "newResources", "=", "new", "Resources", "(", "assetManager", ",", "hostResources", ".", "getDisplayMetrics", "(", ")", ",", "hostResources", ".", "getConfiguration", "(", ")", ")", ";", "}", "return", "newResources", ";", "}", "</s>"]
["<s>", "public", "VAInstrumentation", "(", "PluginManager", "pluginManager", ",", "Instrumentation", "base", ")", "{", "this", ".", "mPluginManager", "=", "pluginManager", ";", "this", ".", "mBase", "=", "base", ";", "}", "</s>"]
["<s>", "public", "ActivityResult", "execStartActivity", "(", "Context", "who", ",", "IBinder", "contextThread", ",", "IBinder", "token", ",", "Activity", "target", ",", "Intent", "intent", ",", "int", "requestCode", ",", "Bundle", "options", ")", "{", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "transformIntentToExplicitAsNeeded", "(", "intent", ")", ";", "if", "(", "intent", ".", "getComponent", "(", ")", "!", "=", "null", ")", "{", "Log", ".", "i", "(", "TAG", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "intent", ".", "getComponent", "(", ")", ".", "getPackageName", "(", ")", ",", "intent", ".", "getComponent", "(", ")", ".", "getClassName", "(", ")", ")", ")", ";", "this", ".", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "markIntentIfNeeded", "(", "intent", ")", ";", "}", "ActivityResult", "result", "=", "realExecStartActivity", "(", "who", ",", "contextThread", ",", "token", ",", "target", ",", "intent", ",", "requestCode", ",", "options", ")", ";", "return", "result", ";", "}", "</s>"]
["<s>", "private", "ActivityResult", "realExecStartActivity", "(", "Context", "who", ",", "IBinder", "contextThread", ",", "IBinder", "token", ",", "Activity", "target", ",", "Intent", "intent", ",", "int", "requestCode", ",", "Bundle", "options", ")", "{", "ActivityResult", "result", "=", "null", ";", "try", "{", "Class", "[", "]", "parameterTypes", "=", "{", "Context", ".", "class", ",", "IBinder", ".", "class", ",", "IBinder", ".", "class", ",", "Activity", ".", "class", ",", "Intent", ".", "class", ",", "int", ".", "class", ",", "Bundle", ".", "class", "}", ";", "result", "=", "(", "ActivityResult", ")", "ReflectUtil", ".", "invoke", "(", "Instrumentation", ".", "class", ",", "mBase", ",", "\"", "<STR_LIT>", "\"", ",", "parameterTypes", ",", "who", ",", "contextThread", ",", "token", ",", "target", ",", "intent", ",", "requestCode", ",", "options", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "if", "(", "e", ".", "getCause", "(", ")", "instanceof", "ActivityNotFoundException", ")", "{", "throw", "(", "ActivityNotFoundException", ")", "e", ".", "getCause", "(", ")", ";", "}", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "public", "ActivityResult", "execStartActivity", "(", "Context", "who", ",", "IBinder", "contextThread", ",", "IBinder", "token", ",", "Fragment", "target", ",", "Intent", "intent", ",", "int", "requestCode", ",", "Bundle", "options", ")", "{", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "transformIntentToExplicitAsNeeded", "(", "intent", ")", ";", "if", "(", "intent", ".", "getComponent", "(", ")", "!", "=", "null", ")", "{", "Log", ".", "i", "(", "TAG", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "intent", ".", "getComponent", "(", ")", ".", "getPackageName", "(", ")", ",", "intent", ".", "getComponent", "(", ")", ".", "getClassName", "(", ")", ")", ")", ";", "this", ".", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "markIntentIfNeeded", "(", "intent", ")", ";", "}", "ActivityResult", "result", "=", "realExecStartActivity", "(", "who", ",", "contextThread", ",", "token", ",", "target", ",", "intent", ",", "requestCode", ",", "options", ")", ";", "return", "result", ";", "}", "</s>"]
["<s>", "private", "ActivityResult", "realExecStartActivity", "(", "Context", "who", ",", "IBinder", "contextThread", ",", "IBinder", "token", ",", "Fragment", "target", ",", "Intent", "intent", ",", "int", "requestCode", ",", "Bundle", "options", ")", "{", "ActivityResult", "result", "=", "null", ";", "try", "{", "Class", "[", "]", "parameterTypes", "=", "{", "Context", ".", "class", ",", "IBinder", ".", "class", ",", "IBinder", ".", "class", ",", "Fragment", ".", "class", ",", "Intent", ".", "class", ",", "int", ".", "class", ",", "Bundle", ".", "class", "}", ";", "result", "=", "(", "ActivityResult", ")", "ReflectUtil", ".", "invoke", "(", "Instrumentation", ".", "class", ",", "mBase", ",", "\"", "<STR_LIT>", "\"", ",", "parameterTypes", ",", "who", ",", "contextThread", ",", "token", ",", "target", ",", "intent", ",", "requestCode", ",", "options", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "if", "(", "e", ".", "getCause", "(", ")", "instanceof", "ActivityNotFoundException", ")", "{", "throw", "(", "ActivityNotFoundException", ")", "e", ".", "getCause", "(", ")", ";", "}", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "private", "ActivityResult", "realExecStartActivity", "(", "Context", "who", ",", "IBinder", "contextThread", ",", "IBinder", "token", ",", "String", "target", ",", "Intent", "intent", ",", "int", "requestCode", ",", "Bundle", "options", ")", "{", "ActivityResult", "result", "=", "null", ";", "try", "{", "Class", "[", "]", "parameterTypes", "=", "{", "Context", ".", "class", ",", "IBinder", ".", "class", ",", "IBinder", ".", "class", ",", "String", ".", "class", ",", "Intent", ".", "class", ",", "int", ".", "class", ",", "Bundle", ".", "class", "}", ";", "result", "=", "(", "ActivityResult", ")", "ReflectUtil", ".", "invoke", "(", "Instrumentation", ".", "class", ",", "mBase", ",", "\"", "<STR_LIT>", "\"", ",", "parameterTypes", ",", "who", ",", "contextThread", ",", "token", ",", "target", ",", "intent", ",", "requestCode", ",", "options", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "if", "(", "e", ".", "getCause", "(", ")", "instanceof", "ActivityNotFoundException", ")", "{", "throw", "(", "ActivityNotFoundException", ")", "e", ".", "getCause", "(", ")", ";", "}", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "public", "ActivityResult", "execStartActivity", "(", "Context", "who", ",", "IBinder", "contextThread", ",", "IBinder", "token", ",", "String", "target", ",", "Intent", "intent", ",", "int", "requestCode", ",", "Bundle", "options", ")", "{", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "transformIntentToExplicitAsNeeded", "(", "intent", ")", ";", "if", "(", "intent", ".", "getComponent", "(", ")", "!", "=", "null", ")", "{", "Log", ".", "i", "(", "TAG", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "intent", ".", "getComponent", "(", ")", ".", "getPackageName", "(", ")", ",", "intent", ".", "getComponent", "(", ")", ".", "getClassName", "(", ")", ")", ")", ";", "this", ".", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "markIntentIfNeeded", "(", "intent", ")", ";", "}", "ActivityResult", "result", "=", "realExecStartActivity", "(", "who", ",", "contextThread", ",", "token", ",", "target", ",", "intent", ",", "requestCode", ",", "options", ")", ";", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Activity", "newActivity", "(", "ClassLoader", "cl", ",", "String", "className", ",", "Intent", "intent", ")", "throws", "InstantiationException", ",", "IllegalAccessException", ",", "ClassNotFoundException", "{", "try", "{", "cl", ".", "loadClass", "(", "className", ")", ";", "}", "catch", "(", "ClassNotFoundException", "e", ")", "{", "ComponentName", "component", "=", "PluginUtil", ".", "getComponent", "(", "intent", ")", ";", "LoadedPlugin", "plugin", "=", "this", ".", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "String", "targetClassName", "=", "component", ".", "getClassName", "(", ")", ";", "Log", ".", "i", "(", "TAG", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "className", ",", "component", ".", "getPackageName", "(", ")", ",", "targetClassName", ")", ")", ";", "if", "(", "plugin", "!", "=", "null", ")", "{", "Activity", "activity", "=", "mBase", ".", "newActivity", "(", "plugin", ".", "getClassLoader", "(", ")", ",", "targetClassName", ",", "intent", ")", ";", "activity", ".", "setIntent", "(", "intent", ")", ";", "try", "{", "ReflectUtil", ".", "setField", "(", "ContextThemeWrapper", ".", "class", ",", "activity", ",", "\"", "<STR_LIT>", "\"", ",", "plugin", ".", "getResources", "(", ")", ")", ";", "}", "catch", "(", "Exception", "ignored", ")", "{", "}", "return", "activity", ";", "}", "}", "return", "mBase", ".", "newActivity", "(", "cl", ",", "className", ",", "intent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "callActivityOnCreate", "(", "Activity", "activity", ",", "Bundle", "icicle", ")", "{", "final", "Intent", "intent", "=", "activity", ".", "getIntent", "(", ")", ";", "if", "(", "PluginUtil", ".", "isIntentFromPlugin", "(", "intent", ")", ")", "{", "Context", "base", "=", "activity", ".", "getBaseContext", "(", ")", ";", "try", "{", "LoadedPlugin", "plugin", "=", "this", ".", "mPluginManager", ".", "getLoadedPlugin", "(", "intent", ")", ";", "ReflectUtil", ".", "setField", "(", "base", ".", "getClass", "(", ")", ",", "base", ",", "\"", "<STR_LIT>", "\"", ",", "plugin", ".", "getResources", "(", ")", ")", ";", "ReflectUtil", ".", "setField", "(", "ContextWrapper", ".", "class", ",", "activity", ",", "\"", "<STR_LIT>", "\"", ",", "plugin", ".", "getPluginContext", "(", ")", ")", ";", "ReflectUtil", ".", "setField", "(", "Activity", ".", "class", ",", "activity", ",", "\"", "<STR_LIT>", "\"", ",", "plugin", ".", "getApplication", "(", ")", ")", ";", "ReflectUtil", ".", "setFieldNoException", "(", "ContextThemeWrapper", ".", "class", ",", "activity", ",", "\"", "<STR_LIT>", "\"", ",", "plugin", ".", "getPluginContext", "(", ")", ")", ";", "ActivityInfo", "activityInfo", "=", "plugin", ".", "getActivityInfo", "(", "PluginUtil", ".", "getComponent", "(", "intent", ")", ")", ";", "if", "(", "activityInfo", ".", "screenOrientation", "!", "=", "ActivityInfo", ".", "SCREEN_ORIENTATION_UNSPECIFIED", ")", "{", "activity", ".", "setRequestedOrientation", "(", "activityInfo", ".", "screenOrientation", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "mBase", ".", "callActivityOnCreate", "(", "activity", ",", "icicle", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "handleMessage", "(", "Message", "msg", ")", "{", "if", "(", "msg", ".", "what", "=", "=", "LAUNCH_ACTIVITY", ")", "{", "Object", "r", "=", "msg", ".", "obj", ";", "try", "{", "Intent", "intent", "=", "(", "Intent", ")", "ReflectUtil", ".", "getField", "(", "r", ".", "getClass", "(", ")", ",", "r", ",", "\"", "<STR_LIT>", "\"", ")", ";", "intent", ".", "setExtrasClassLoader", "(", "VAInstrumentation", ".", "class", ".", "getClassLoader", "(", ")", ")", ";", "ActivityInfo", "activityInfo", "=", "(", "ActivityInfo", ")", "ReflectUtil", ".", "getField", "(", "r", ".", "getClass", "(", ")", ",", "r", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "PluginUtil", ".", "isIntentFromPlugin", "(", "intent", ")", ")", "{", "int", "theme", "=", "PluginUtil", ".", "getTheme", "(", "mPluginManager", ".", "getHostContext", "(", ")", ",", "intent", ")", ";", "if", "(", "theme", "!", "=", "0", ")", "{", "Log", ".", "i", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "activityInfo", ".", "theme", "+", "\"", "<STR_LIT>", "\"", "+", "Integer", ".", "toHexString", "(", "theme", ")", ")", ";", "activityInfo", ".", "theme", "=", "theme", ";", "}", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Context", "getContext", "(", ")", "{", "return", "mBase", ".", "getContext", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Context", "getTargetContext", "(", ")", "{", "return", "mBase", ".", "getTargetContext", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ComponentName", "getComponentName", "(", ")", "{", "return", "mBase", ".", "getComponentName", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ComponentsHandler", "(", "PluginManager", "pluginManager", ")", "{", "mPluginManager", "=", "pluginManager", ";", "mContext", "=", "pluginManager", ".", "getHostContext", "(", ")", ";", "}", "</s>"]
["<s>", "public", "Intent", "transformIntentToExplicitAsNeeded", "(", "Intent", "intent", ")", "{", "ComponentName", "component", "=", "intent", ".", "getComponent", "(", ")", ";", "if", "(", "component", "=", "=", "null", "|", "|", "component", ".", "getPackageName", "(", ")", ".", "equals", "(", "mContext", ".", "getPackageName", "(", ")", ")", ")", "{", "ResolveInfo", "info", "=", "mPluginManager", ".", "resolveActivity", "(", "intent", ")", ";", "if", "(", "info", "!", "=", "null", "&", "&", "info", ".", "activityInfo", "!", "=", "null", ")", "{", "component", "=", "new", "ComponentName", "(", "info", ".", "activityInfo", ".", "packageName", ",", "info", ".", "activityInfo", ".", "name", ")", ";", "intent", ".", "setComponent", "(", "component", ")", ";", "}", "}", "return", "intent", ";", "}", "</s>"]
["<s>", "public", "void", "markIntentIfNeeded", "(", "Intent", "intent", ")", "{", "if", "(", "intent", ".", "getComponent", "(", ")", "=", "=", "null", ")", "{", "return", ";", "}", "String", "targetPackageName", "=", "intent", ".", "getComponent", "(", ")", ".", "getPackageName", "(", ")", ";", "String", "targetClassName", "=", "intent", ".", "getComponent", "(", ")", ".", "getClassName", "(", ")", ";", "if", "(", "!", "targetPackageName", ".", "equals", "(", "mContext", ".", "getPackageName", "(", ")", ")", "&", "&", "mPluginManager", ".", "getLoadedPlugin", "(", "targetPackageName", ")", "!", "=", "null", ")", "{", "intent", ".", "putExtra", "(", "Constants", ".", "KEY_IS_PLUGIN", ",", "true", ")", ";", "intent", ".", "putExtra", "(", "Constants", ".", "KEY_TARGET_PACKAGE", ",", "targetPackageName", ")", ";", "intent", ".", "putExtra", "(", "Constants", ".", "KEY_TARGET_ACTIVITY", ",", "targetClassName", ")", ";", "dispatchStubActivity", "(", "intent", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "dispatchStubActivity", "(", "Intent", "intent", ")", "{", "ComponentName", "component", "=", "intent", ".", "getComponent", "(", ")", ";", "String", "targetClassName", "=", "intent", ".", "getComponent", "(", ")", ".", "getClassName", "(", ")", ";", "LoadedPlugin", "loadedPlugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "intent", ")", ";", "ActivityInfo", "info", "=", "loadedPlugin", ".", "getActivityInfo", "(", "component", ")", ";", "if", "(", "info", "=", "=", "null", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", "+", "component", ")", ";", "}", "int", "launchMode", "=", "info", ".", "launchMode", ";", "Resources", ".", "Theme", "themeObj", "=", "loadedPlugin", ".", "getResources", "(", ")", ".", "newTheme", "(", ")", ";", "themeObj", ".", "applyStyle", "(", "info", ".", "theme", ",", "true", ")", ";", "String", "stubActivity", "=", "mStubActivityInfo", ".", "getStubActivity", "(", "targetClassName", ",", "launchMode", ",", "themeObj", ")", ";", "Log", ".", "i", "(", "TAG", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "targetClassName", ",", "stubActivity", ")", ")", ";", "intent", ".", "setClassName", "(", "mContext", ",", "stubActivity", ")", ";", "}", "</s>"]
["<s>", "public", "AtomicInteger", "getServiceCounter", "(", "Service", "service", ")", "{", "return", "this", ".", "mServiceCounters", ".", "get", "(", "service", ")", ";", "}", "</s>"]
["<s>", "public", "Service", "getService", "(", "ComponentName", "component", ")", "{", "return", "this", ".", "mServices", ".", "get", "(", "component", ")", ";", "}", "</s>"]
["<s>", "public", "void", "rememberService", "(", "ComponentName", "component", ",", "Service", "service", ")", "{", "synchronized", "(", "this", ".", "mServices", ")", "{", "this", ".", "mServices", ".", "put", "(", "component", ",", "service", ")", ";", "this", ".", "mServiceCounters", ".", "put", "(", "service", ",", "new", "AtomicInteger", "(", "0", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "Service", "forgetService", "(", "ComponentName", "component", ")", "{", "synchronized", "(", "this", ".", "mServices", ")", "{", "Service", "service", "=", "this", ".", "mServices", ".", "remove", "(", "component", ")", ";", "this", ".", "mServiceCounters", ".", "remove", "(", "service", ")", ";", "return", "service", ";", "}", "}", "</s>"]
["<s>", "public", "Intent", "forgetIServiceConnection", "(", "IBinder", "iServiceConnection", ")", "{", "synchronized", "(", "this", ".", "mBoundServices", ")", "{", "Intent", "intent", "=", "this", ".", "mBoundServices", ".", "remove", "(", "iServiceConnection", ")", ";", "return", "intent", ";", "}", "}", "</s>"]
["<s>", "public", "void", "remberIServiceConnection", "(", "IBinder", "iServiceConnection", ",", "Intent", "intent", ")", "{", "synchronized", "(", "this", ".", "mBoundServices", ")", "{", "mBoundServices", ".", "put", "(", "iServiceConnection", ",", "intent", ")", ";", "}", "}", "</s>"]
["<s>", "public", "boolean", "isServiceAvailable", "(", "ComponentName", "component", ")", "{", "return", "this", ".", "mServices", ".", "containsKey", "(", "component", ")", ";", "}", "</s>"]
["<s>", "public", "PluginContentResolver", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "mBase", "=", "context", ".", "getContentResolver", "(", ")", ";", "mPluginManager", "=", "PluginManager", ".", "getInstance", "(", "context", ")", ";", "}", "</s>"]
["<s>", "protected", "IContentProvider", "acquireProvider", "(", "Context", "context", ",", "String", "auth", ")", "{", "try", "{", "if", "(", "mPluginManager", ".", "resolveContentProvider", "(", "auth", ",", "0", ")", "!", "=", "null", ")", "{", "return", "mPluginManager", ".", "getIContentProvider", "(", ")", ";", "}", "return", "(", "IContentProvider", ")", "sAcquireProvider", ".", "invoke", "(", "mBase", ",", "context", ",", "auth", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "protected", "IContentProvider", "acquireExistingProvider", "(", "Context", "context", ",", "String", "auth", ")", "{", "try", "{", "if", "(", "mPluginManager", ".", "resolveContentProvider", "(", "auth", ",", "0", ")", "!", "=", "null", ")", "{", "return", "mPluginManager", ".", "getIContentProvider", "(", ")", ";", "}", "return", "(", "IContentProvider", ")", "sAcquireExistingProvider", ".", "invoke", "(", "mBase", ",", "context", ",", "auth", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "protected", "IContentProvider", "acquireUnstableProvider", "(", "Context", "context", ",", "String", "auth", ")", "{", "try", "{", "if", "(", "mPluginManager", ".", "resolveContentProvider", "(", "auth", ",", "0", ")", "!", "=", "null", ")", "{", "return", "mPluginManager", ".", "getIContentProvider", "(", ")", ";", "}", "return", "(", "IContentProvider", ")", "sAcquireUnstableProvider", ".", "invoke", "(", "mBase", ",", "context", ",", "auth", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "boolean", "releaseProvider", "(", "IContentProvider", "provider", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "public", "boolean", "releaseUnstableProvider", "(", "IContentProvider", "icp", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "public", "void", "unstableProviderDied", "(", "IContentProvider", "icp", ")", "{", "}", "</s>"]
["<s>", "public", "void", "appNotRespondingViaProvider", "(", "IContentProvider", "icp", ")", "{", "}", "</s>"]
["<s>", "protected", "int", "resolveUserIdFromAuthority", "(", "String", "auth", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Keep", "public", "static", "Uri", "wrapperUri", "(", "LoadedPlugin", "loadedPlugin", ",", "Uri", "pluginUri", ")", "{", "String", "pkg", "=", "loadedPlugin", ".", "getPackageName", "(", ")", ";", "String", "pluginUriString", "=", "Uri", ".", "encode", "(", "pluginUri", ".", "toString", "(", ")", ")", ";", "StringBuilder", "builder", "=", "new", "StringBuilder", "(", "PluginContentResolver", ".", "getUri", "(", "loadedPlugin", ".", "getHostContext", "(", ")", ")", ")", ";", "builder", ".", "append", "(", "\"", "<STR_LIT>", "\"", "+", "loadedPlugin", ".", "getLocation", "(", ")", ")", ";", "builder", ".", "append", "(", "\"", "<STR_LIT>", "\"", "+", "pkg", ")", ";", "builder", ".", "append", "(", "\"", "<STR_LIT>", "\"", "+", "pluginUriString", ")", ";", "Uri", "wrapperUri", "=", "Uri", ".", "parse", "(", "builder", ".", "toString", "(", ")", ")", ";", "return", "wrapperUri", ";", "}", "</s>"]
["<s>", "@", "Deprecated", "public", "static", "String", "getAuthority", "(", "Context", "context", ")", "{", "return", "context", ".", "getPackageName", "(", ")", "+", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Deprecated", "public", "static", "String", "getUri", "(", "Context", "context", ")", "{", "return", "\"", "<STR_LIT>", "\"", "+", "getAuthority", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Keep", "public", "static", "Bundle", "getBundleForCall", "(", "Uri", "uri", ")", "{", "Bundle", "bundle", "=", "new", "Bundle", "(", ")", ";", "bundle", ".", "putString", "(", "RemoteContentProvider", ".", "KEY_WRAPPER_URI", ",", "uri", ".", "toString", "(", ")", ")", ";", "return", "bundle", ";", "}", "</s>"]
["<s>", "public", "String", "getStubActivity", "(", "String", "className", ",", "int", "launchMode", ",", "Theme", "theme", ")", "{", "String", "stubActivity", "=", "mCachedStubActivity", ".", "get", "(", "className", ")", ";", "if", "(", "stubActivity", "!", "=", "null", ")", "{", "return", "stubActivity", ";", "}", "TypedArray", "array", "=", "theme", ".", "obtainStyledAttributes", "(", "new", "int", "[", "]", "{", "android", ".", "R", ".", "attr", ".", "windowIsTranslucent", ",", "android", ".", "R", ".", "attr", ".", "windowBackground", "}", ")", ";", "boolean", "windowIsTranslucent", "=", "array", ".", "getBoolean", "(", "0", ",", "false", ")", ";", "array", ".", "recycle", "(", ")", ";", "if", "(", "Constants", ".", "DEBUG", ")", "{", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "windowIsTranslucent", ")", ";", "}", "stubActivity", "=", "String", ".", "format", "(", "STUB_ACTIVITY_STANDARD", ",", "corePackage", ",", "usedStandardStubActivity", ")", ";", "switch", "(", "launchMode", ")", "{", "case", "ActivityInfo", ".", "LAUNCH_MULTIPLE", ":", "{", "stubActivity", "=", "String", ".", "format", "(", "STUB_ACTIVITY_STANDARD", ",", "corePackage", ",", "usedStandardStubActivity", ")", ";", "if", "(", "windowIsTranslucent", ")", "{", "stubActivity", "=", "String", ".", "format", "(", "STUB_ACTIVITY_STANDARD", ",", "corePackage", ",", "<NUM_LIT:2>", ")", ";", "}", "break", ";", "}", "case", "ActivityInfo", ".", "LAUNCH_SINGLE_TOP", ":", "{", "usedSingleTopStubActivity", "=", "usedSingleTopStubActivity", "%", "MAX_COUNT_SINGLETOP", "+", "1", ";", "stubActivity", "=", "String", ".", "format", "(", "STUB_ACTIVITY_SINGLETOP", ",", "corePackage", ",", "usedSingleTopStubActivity", ")", ";", "break", ";", "}", "case", "ActivityInfo", ".", "LAUNCH_SINGLE_TASK", ":", "{", "usedSingleTaskStubActivity", "=", "usedSingleTaskStubActivity", "%", "MAX_COUNT_SINGLETASK", "+", "1", ";", "stubActivity", "=", "String", ".", "format", "(", "STUB_ACTIVITY_SINGLETASK", ",", "corePackage", ",", "usedSingleTaskStubActivity", ")", ";", "break", ";", "}", "case", "ActivityInfo", ".", "LAUNCH_SINGLE_INSTANCE", ":", "{", "usedSingleInstanceStubActivity", "=", "usedSingleInstanceStubActivity", "%", "MAX_COUNT_SINGLEINSTANCE", "+", "1", ";", "stubActivity", "=", "String", ".", "format", "(", "STUB_ACTIVITY_SINGLEINSTANCE", ",", "corePackage", ",", "usedSingleInstanceStubActivity", ")", ";", "break", ";", "}", "default", ":", "break", ";", "}", "mCachedStubActivity", ".", "put", "(", "className", ",", "stubActivity", ")", ";", "return", "stubActivity", ";", "}", "</s>"]
["<s>", "public", "static", "LoadedPlugin", "create", "(", "PluginManager", "pluginManager", ",", "Context", "host", ",", "File", "apk", ")", "throws", "Exception", "{", "return", "new", "LoadedPlugin", "(", "pluginManager", ",", "host", ",", "apk", ")", ";", "}", "</s>"]
["<s>", "private", "static", "ClassLoader", "createClassLoader", "(", "Context", "context", ",", "File", "apk", ",", "File", "libsDir", ",", "ClassLoader", "parent", ")", "{", "File", "dexOutputDir", "=", "context", ".", "getDir", "(", "Constants", ".", "OPTIMIZE_DIR", ",", "Context", ".", "MODE_PRIVATE", ")", ";", "String", "dexOutputPath", "=", "dexOutputDir", ".", "getAbsolutePath", "(", ")", ";", "DexClassLoader", "loader", "=", "new", "DexClassLoader", "(", "apk", ".", "getAbsolutePath", "(", ")", ",", "dexOutputPath", ",", "libsDir", ".", "getAbsolutePath", "(", ")", ",", "parent", ")", ";", "if", "(", "Constants", ".", "COMBINE_CLASSLOADER", ")", "{", "try", "{", "DexUtil", ".", "insertDex", "(", "loader", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "return", "loader", ";", "}", "</s>"]
["<s>", "private", "static", "AssetManager", "createAssetManager", "(", "Context", "context", ",", "File", "apk", ")", "{", "try", "{", "AssetManager", "am", "=", "AssetManager", ".", "class", ".", "newInstance", "(", ")", ";", "ReflectUtil", ".", "invoke", "(", "AssetManager", ".", "class", ",", "am", ",", "\"", "<STR_LIT>", "\"", ",", "apk", ".", "getAbsolutePath", "(", ")", ")", ";", "return", "am", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "WorkerThread", "private", "static", "Resources", "createResources", "(", "Context", "context", ",", "File", "apk", ")", "{", "if", "(", "Constants", ".", "COMBINE_RESOURCES", ")", "{", "Resources", "resources", "=", "ResourcesManager", ".", "createResources", "(", "context", ",", "apk", ".", "getAbsolutePath", "(", ")", ")", ";", "ResourcesManager", ".", "hookResources", "(", "context", ",", "resources", ")", ";", "return", "resources", ";", "}", "else", "{", "Resources", "hostResources", "=", "context", ".", "getResources", "(", ")", ";", "AssetManager", "assetManager", "=", "createAssetManager", "(", "context", ",", "apk", ")", ";", "return", "new", "Resources", "(", "assetManager", ",", "hostResources", ".", "getDisplayMetrics", "(", ")", ",", "hostResources", ".", "getConfiguration", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "ResolveInfo", "chooseBestActivity", "(", "Intent", "intent", ",", "String", "s", ",", "int", "flags", ",", "List", "<", "ResolveInfo", ">", "query", ")", "{", "return", "query", ".", "get", "(", "0", ")", ";", "}", "</s>"]
["<s>", "LoadedPlugin", "(", "PluginManager", "pluginManager", ",", "Context", "context", ",", "File", "apk", ")", "throws", "Exception", "{", "this", ".", "mPluginManager", "=", "pluginManager", ";", "this", ".", "mHostContext", "=", "context", ";", "this", ".", "mLocation", "=", "apk", ".", "getAbsolutePath", "(", ")", ";", "this", ".", "mPackage", "=", "PackageParserCompat", ".", "parsePackage", "(", "context", ",", "apk", ",", "PackageParser", ".", "PARSE_MUST_BE_APK", ")", ";", "this", ".", "mPackage", ".", "applicationInfo", ".", "metaData", "=", "this", ".", "mPackage", ".", "mAppMetaData", ";", "this", ".", "mPackageInfo", "=", "new", "PackageInfo", "(", ")", ";", "this", ".", "mPackageInfo", ".", "applicationInfo", "=", "this", ".", "mPackage", ".", "applicationInfo", ";", "this", ".", "mPackageInfo", ".", "applicationInfo", ".", "sourceDir", "=", "apk", ".", "getAbsolutePath", "(", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "<NUM_LIT>", "&", "&", "Build", ".", "VERSION", ".", "PREVIEW_SDK_INT", "!", "=", "0", ")", "{", "this", ".", "mPackageInfo", ".", "signatures", "=", "this", ".", "mPackage", ".", "mSigningDetails", ".", "signatures", ";", "}", "else", "{", "this", ".", "mPackageInfo", ".", "signatures", "=", "this", ".", "mPackage", ".", "mSignatures", ";", "}", "this", ".", "mPackageInfo", ".", "packageName", "=", "this", ".", "mPackage", ".", "packageName", ";", "if", "(", "pluginManager", ".", "getLoadedPlugin", "(", "mPackageInfo", ".", "packageName", ")", "!", "=", "null", ")", "{", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", "+", "mPackageInfo", ".", "packageName", ")", ";", "}", "this", ".", "mPackageInfo", ".", "versionCode", "=", "this", ".", "mPackage", ".", "mVersionCode", ";", "this", ".", "mPackageInfo", ".", "versionName", "=", "this", ".", "mPackage", ".", "mVersionName", ";", "this", ".", "mPackageInfo", ".", "permissions", "=", "new", "PermissionInfo", "[", "0", "]", ";", "this", ".", "mPackageManager", "=", "new", "PluginPackageManager", "(", ")", ";", "this", ".", "mPluginContext", "=", "new", "PluginContext", "(", "this", ")", ";", "this", ".", "mNativeLibDir", "=", "context", ".", "getDir", "(", "Constants", ".", "NATIVE_DIR", ",", "Context", ".", "MODE_PRIVATE", ")", ";", "this", ".", "mResources", "=", "createResources", "(", "context", ",", "apk", ")", ";", "this", ".", "mClassLoader", "=", "createClassLoader", "(", "context", ",", "apk", ",", "this", ".", "mNativeLibDir", ",", "context", ".", "getClassLoader", "(", ")", ")", ";", "tryToCopyNativeLib", "(", "apk", ")", ";", "Map", "<", "ComponentName", ",", "InstrumentationInfo", ">", "instrumentations", "=", "new", "HashMap", "<", "ComponentName", ",", "InstrumentationInfo", ">", "(", ")", ";", "for", "(", "PackageParser", ".", "Instrumentation", "instrumentation", ":", "this", ".", "mPackage", ".", "instrumentation", ")", "{", "instrumentations", ".", "put", "(", "instrumentation", ".", "getComponentName", "(", ")", ",", "instrumentation", ".", "info", ")", ";", "}", "this", ".", "mInstrumentationInfos", "=", "Collections", ".", "unmodifiableMap", "(", "instrumentations", ")", ";", "this", ".", "mPackageInfo", ".", "instrumentation", "=", "instrumentations", ".", "values", "(", ")", ".", "toArray", "(", "new", "InstrumentationInfo", "[", "instrumentations", ".", "size", "(", ")", "]", ")", ";", "Map", "<", "ComponentName", ",", "ActivityInfo", ">", "activityInfos", "=", "new", "HashMap", "<", "ComponentName", ",", "ActivityInfo", ">", "(", ")", ";", "for", "(", "PackageParser", ".", "Activity", "activity", ":", "this", ".", "mPackage", ".", "activities", ")", "{", "activityInfos", ".", "put", "(", "activity", ".", "getComponentName", "(", ")", ",", "activity", ".", "info", ")", ";", "}", "this", ".", "mActivityInfos", "=", "Collections", ".", "unmodifiableMap", "(", "activityInfos", ")", ";", "this", ".", "mPackageInfo", ".", "activities", "=", "activityInfos", ".", "values", "(", ")", ".", "toArray", "(", "new", "ActivityInfo", "[", "activityInfos", ".", "size", "(", ")", "]", ")", ";", "Map", "<", "ComponentName", ",", "ServiceInfo", ">", "serviceInfos", "=", "new", "HashMap", "<", "ComponentName", ",", "ServiceInfo", ">", "(", ")", ";", "for", "(", "PackageParser", ".", "Service", "service", ":", "this", ".", "mPackage", ".", "services", ")", "{", "serviceInfos", ".", "put", "(", "service", ".", "getComponentName", "(", ")", ",", "service", ".", "info", ")", ";", "}", "this", ".", "mServiceInfos", "=", "Collections", ".", "unmodifiableMap", "(", "serviceInfos", ")", ";", "this", ".", "mPackageInfo", ".", "services", "=", "serviceInfos", ".", "values", "(", ")", ".", "toArray", "(", "new", "ServiceInfo", "[", "serviceInfos", ".", "size", "(", ")", "]", ")", ";", "Map", "<", "String", ",", "ProviderInfo", ">", "providers", "=", "new", "HashMap", "<", "String", ",", "ProviderInfo", ">", "(", ")", ";", "Map", "<", "ComponentName", ",", "ProviderInfo", ">", "providerInfos", "=", "new", "HashMap", "<", "ComponentName", ",", "ProviderInfo", ">", "(", ")", ";", "for", "(", "PackageParser", ".", "Provider", "provider", ":", "this", ".", "mPackage", ".", "providers", ")", "{", "providers", ".", "put", "(", "provider", ".", "info", ".", "authority", ",", "provider", ".", "info", ")", ";", "providerInfos", ".", "put", "(", "provider", ".", "getComponentName", "(", ")", ",", "provider", ".", "info", ")", ";", "}", "this", ".", "mProviders", "=", "Collections", ".", "unmodifiableMap", "(", "providers", ")", ";", "this", ".", "mProviderInfos", "=", "Collections", ".", "unmodifiableMap", "(", "providerInfos", ")", ";", "this", ".", "mPackageInfo", ".", "providers", "=", "providerInfos", ".", "values", "(", ")", ".", "toArray", "(", "new", "ProviderInfo", "[", "providerInfos", ".", "size", "(", ")", "]", ")", ";", "Map", "<", "ComponentName", ",", "ActivityInfo", ">", "receivers", "=", "new", "HashMap", "<", "ComponentName", ",", "ActivityInfo", ">", "(", ")", ";", "for", "(", "PackageParser", ".", "Activity", "receiver", ":", "this", ".", "mPackage", ".", "receivers", ")", "{", "receivers", ".", "put", "(", "receiver", ".", "getComponentName", "(", ")", ",", "receiver", ".", "info", ")", ";", "BroadcastReceiver", "br", "=", "BroadcastReceiver", ".", "class", ".", "cast", "(", "getClassLoader", "(", ")", ".", "loadClass", "(", "receiver", ".", "getComponentName", "(", ")", ".", "getClassName", "(", ")", ")", ".", "newInstance", "(", ")", ")", ";", "for", "(", "PackageParser", ".", "ActivityIntentInfo", "aii", ":", "receiver", ".", "intents", ")", "{", "this", ".", "mHostContext", ".", "registerReceiver", "(", "br", ",", "aii", ")", ";", "}", "}", "this", ".", "mReceiverInfos", "=", "Collections", ".", "unmodifiableMap", "(", "receivers", ")", ";", "this", ".", "mPackageInfo", ".", "receivers", "=", "receivers", ".", "values", "(", ")", ".", "toArray", "(", "new", "ActivityInfo", "[", "receivers", ".", "size", "(", ")", "]", ")", ";", "}", "</s>"]
["<s>", "private", "void", "tryToCopyNativeLib", "(", "File", "apk", ")", "throws", "Exception", "{", "PluginUtil", ".", "copyNativeLib", "(", "apk", ",", "mHostContext", ",", "mPackageInfo", ",", "mNativeLibDir", ")", ";", "}", "</s>"]
["<s>", "public", "String", "getLocation", "(", ")", "{", "return", "this", ".", "mLocation", ";", "}", "</s>"]
["<s>", "public", "String", "getPackageName", "(", ")", "{", "return", "this", ".", "mPackage", ".", "packageName", ";", "}", "</s>"]
["<s>", "public", "PackageManager", "getPackageManager", "(", ")", "{", "return", "this", ".", "mPackageManager", ";", "}", "</s>"]
["<s>", "public", "AssetManager", "getAssets", "(", ")", "{", "return", "getResources", "(", ")", ".", "getAssets", "(", ")", ";", "}", "</s>"]
["<s>", "public", "Resources", "getResources", "(", ")", "{", "return", "this", ".", "mResources", ";", "}", "</s>"]
["<s>", "public", "void", "updateResources", "(", "Resources", "newResources", ")", "{", "this", ".", "mResources", "=", "newResources", ";", "}", "</s>"]
["<s>", "public", "ClassLoader", "getClassLoader", "(", ")", "{", "return", "this", ".", "mClassLoader", ";", "}", "</s>"]
["<s>", "public", "PluginManager", "getPluginManager", "(", ")", "{", "return", "this", ".", "mPluginManager", ";", "}", "</s>"]
["<s>", "public", "Context", "getHostContext", "(", ")", "{", "return", "this", ".", "mHostContext", ";", "}", "</s>"]
["<s>", "public", "Context", "getPluginContext", "(", ")", "{", "return", "this", ".", "mPluginContext", ";", "}", "</s>"]
["<s>", "public", "Application", "getApplication", "(", ")", "{", "return", "mApplication", ";", "}", "</s>"]
["<s>", "public", "void", "invokeApplication", "(", ")", "{", "if", "(", "mApplication", "!", "=", "null", ")", "{", "return", ";", "}", "RunUtil", ".", "runOnUiThread", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "mApplication", "=", "makeApplication", "(", "false", ",", "mPluginManager", ".", "getInstrumentation", "(", ")", ")", ";", "}", "}", ",", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "mApplication", "=", "makeApplication", "(", "false", ",", "mPluginManager", ".", "getInstrumentation", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "String", "getPackageResourcePath", "(", ")", "{", "int", "myUid", "=", "Process", ".", "myUid", "(", ")", ";", "ApplicationInfo", "appInfo", "=", "this", ".", "mPackage", ".", "applicationInfo", ";", "return", "appInfo", ".", "uid", "=", "=", "myUid", "?", "appInfo", ".", "sourceDir", ":", "appInfo", ".", "publicSourceDir", ";", "}", "</s>"]
["<s>", "public", "String", "getCodePath", "(", ")", "{", "return", "this", ".", "mPackage", ".", "applicationInfo", ".", "sourceDir", ";", "}", "</s>"]
["<s>", "public", "Intent", "getLaunchIntent", "(", ")", "{", "ContentResolver", "resolver", "=", "this", ".", "mPluginContext", ".", "getContentResolver", "(", ")", ";", "Intent", "launcher", "=", "new", "Intent", "(", "Intent", ".", "ACTION_MAIN", ")", ".", "addCategory", "(", "Intent", ".", "CATEGORY_LAUNCHER", ")", ";", "for", "(", "PackageParser", ".", "Activity", "activity", ":", "this", ".", "mPackage", ".", "activities", ")", "{", "for", "(", "PackageParser", ".", "ActivityIntentInfo", "intentInfo", ":", "activity", ".", "intents", ")", "{", "if", "(", "intentInfo", ".", "match", "(", "resolver", ",", "launcher", ",", "false", ",", "TAG", ")", ">", "0", ")", "{", "return", "Intent", ".", "makeMainActivity", "(", "activity", ".", "getComponentName", "(", ")", ")", ";", "}", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "Intent", "getLeanbackLaunchIntent", "(", ")", "{", "ContentResolver", "resolver", "=", "this", ".", "mPluginContext", ".", "getContentResolver", "(", ")", ";", "Intent", "launcher", "=", "new", "Intent", "(", "Intent", ".", "ACTION_MAIN", ")", ".", "addCategory", "(", "Intent", ".", "CATEGORY_LEANBACK_LAUNCHER", ")", ";", "for", "(", "PackageParser", ".", "Activity", "activity", ":", "this", ".", "mPackage", ".", "activities", ")", "{", "for", "(", "PackageParser", ".", "ActivityIntentInfo", "intentInfo", ":", "activity", ".", "intents", ")", "{", "if", "(", "intentInfo", ".", "match", "(", "resolver", ",", "launcher", ",", "false", ",", "TAG", ")", ">", "0", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "Intent", ".", "ACTION_MAIN", ")", ";", "intent", ".", "setComponent", "(", "activity", ".", "getComponentName", "(", ")", ")", ";", "intent", ".", "addCategory", "(", "Intent", ".", "CATEGORY_LEANBACK_LAUNCHER", ")", ";", "return", "intent", ";", "}", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "ApplicationInfo", "getApplicationInfo", "(", ")", "{", "return", "this", ".", "mPackage", ".", "applicationInfo", ";", "}", "</s>"]
["<s>", "public", "PackageInfo", "getPackageInfo", "(", ")", "{", "return", "this", ".", "mPackageInfo", ";", "}", "</s>"]
["<s>", "public", "ActivityInfo", "getActivityInfo", "(", "ComponentName", "componentName", ")", "{", "return", "this", ".", "mActivityInfos", ".", "get", "(", "componentName", ")", ";", "}", "</s>"]
["<s>", "public", "ServiceInfo", "getServiceInfo", "(", "ComponentName", "componentName", ")", "{", "return", "this", ".", "mServiceInfos", ".", "get", "(", "componentName", ")", ";", "}", "</s>"]
["<s>", "public", "ActivityInfo", "getReceiverInfo", "(", "ComponentName", "componentName", ")", "{", "return", "this", ".", "mReceiverInfos", ".", "get", "(", "componentName", ")", ";", "}", "</s>"]
["<s>", "public", "ProviderInfo", "getProviderInfo", "(", "ComponentName", "componentName", ")", "{", "return", "this", ".", "mProviderInfos", ".", "get", "(", "componentName", ")", ";", "}", "</s>"]
["<s>", "public", "Resources", ".", "Theme", "getTheme", "(", ")", "{", "Resources", ".", "Theme", "theme", "=", "this", ".", "mResources", ".", "newTheme", "(", ")", ";", "theme", ".", "applyStyle", "(", "PluginUtil", ".", "selectDefaultTheme", "(", "this", ".", "mPackage", ".", "applicationInfo", ".", "theme", ",", "Build", ".", "VERSION", ".", "SDK_INT", ")", ",", "false", ")", ";", "return", "theme", ";", "}", "</s>"]
["<s>", "public", "void", "setTheme", "(", "int", "resid", ")", "{", "try", "{", "ReflectUtil", ".", "setField", "(", "Resources", ".", "class", ",", "this", ".", "mResources", ",", "\"", "<STR_LIT>", "\"", ",", "resid", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Application", "makeApplication", "(", "boolean", "forceDefaultAppClass", ",", "Instrumentation", "instrumentation", ")", "{", "if", "(", "null", "!", "=", "this", ".", "mApplication", ")", "{", "return", "this", ".", "mApplication", ";", "}", "String", "appClass", "=", "this", ".", "mPackage", ".", "applicationInfo", ".", "className", ";", "if", "(", "forceDefaultAppClass", "|", "|", "null", "=", "=", "appClass", ")", "{", "appClass", "=", "\"", "<STR_LIT>", "\"", ";", "}", "try", "{", "this", ".", "mApplication", "=", "instrumentation", ".", "newApplication", "(", "this", ".", "mClassLoader", ",", "appClass", ",", "this", ".", "getPluginContext", "(", ")", ")", ";", "instrumentation", ".", "callApplicationOnCreate", "(", "this", ".", "mApplication", ")", ";", "return", "this", ".", "mApplication", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "null", ";", "}", "}", "</s>"]
["<s>", "public", "ResolveInfo", "resolveActivity", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "List", "<", "ResolveInfo", ">", "query", "=", "this", ".", "queryIntentActivities", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "=", "=", "query", "|", "|", "query", ".", "isEmpty", "(", ")", ")", "{", "return", "null", ";", "}", "ContentResolver", "resolver", "=", "this", ".", "mPluginContext", ".", "getContentResolver", "(", ")", ";", "return", "chooseBestActivity", "(", "intent", ",", "intent", ".", "resolveTypeIfNeeded", "(", "resolver", ")", ",", "flags", ",", "query", ")", ";", "}", "</s>"]
["<s>", "public", "List", "<", "ResolveInfo", ">", "queryIntentActivities", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "ComponentName", "component", "=", "intent", ".", "getComponent", "(", ")", ";", "List", "<", "ResolveInfo", ">", "resolveInfos", "=", "new", "ArrayList", "<", "ResolveInfo", ">", "(", ")", ";", "ContentResolver", "resolver", "=", "this", ".", "mPluginContext", ".", "getContentResolver", "(", ")", ";", "for", "(", "PackageParser", ".", "Activity", "activity", ":", "this", ".", "mPackage", ".", "activities", ")", "{", "if", "(", "match", "(", "activity", ",", "component", ")", ")", "{", "ResolveInfo", "resolveInfo", "=", "new", "ResolveInfo", "(", ")", ";", "resolveInfo", ".", "activityInfo", "=", "activity", ".", "info", ";", "resolveInfos", ".", "add", "(", "resolveInfo", ")", ";", "}", "else", "if", "(", "component", "=", "=", "null", ")", "{", "for", "(", "PackageParser", ".", "ActivityIntentInfo", "intentInfo", ":", "activity", ".", "intents", ")", "{", "if", "(", "intentInfo", ".", "match", "(", "resolver", ",", "intent", ",", "true", ",", "TAG", ")", ">", "=", "0", ")", "{", "ResolveInfo", "resolveInfo", "=", "new", "ResolveInfo", "(", ")", ";", "resolveInfo", ".", "activityInfo", "=", "activity", ".", "info", ";", "resolveInfos", ".", "add", "(", "resolveInfo", ")", ";", "break", ";", "}", "}", "}", "}", "return", "resolveInfos", ";", "}", "</s>"]
["<s>", "public", "ResolveInfo", "resolveService", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "List", "<", "ResolveInfo", ">", "query", "=", "this", ".", "queryIntentServices", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "=", "=", "query", "|", "|", "query", ".", "isEmpty", "(", ")", ")", "{", "return", "null", ";", "}", "ContentResolver", "resolver", "=", "this", ".", "mPluginContext", ".", "getContentResolver", "(", ")", ";", "return", "chooseBestActivity", "(", "intent", ",", "intent", ".", "resolveTypeIfNeeded", "(", "resolver", ")", ",", "flags", ",", "query", ")", ";", "}", "</s>"]
["<s>", "public", "List", "<", "ResolveInfo", ">", "queryIntentServices", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "ComponentName", "component", "=", "intent", ".", "getComponent", "(", ")", ";", "List", "<", "ResolveInfo", ">", "resolveInfos", "=", "new", "ArrayList", "<", "ResolveInfo", ">", "(", ")", ";", "ContentResolver", "resolver", "=", "this", ".", "mPluginContext", ".", "getContentResolver", "(", ")", ";", "for", "(", "PackageParser", ".", "Service", "service", ":", "this", ".", "mPackage", ".", "services", ")", "{", "if", "(", "match", "(", "service", ",", "component", ")", ")", "{", "ResolveInfo", "resolveInfo", "=", "new", "ResolveInfo", "(", ")", ";", "resolveInfo", ".", "serviceInfo", "=", "service", ".", "info", ";", "resolveInfos", ".", "add", "(", "resolveInfo", ")", ";", "}", "else", "if", "(", "component", "=", "=", "null", ")", "{", "for", "(", "PackageParser", ".", "ServiceIntentInfo", "intentInfo", ":", "service", ".", "intents", ")", "{", "if", "(", "intentInfo", ".", "match", "(", "resolver", ",", "intent", ",", "true", ",", "TAG", ")", ">", "=", "0", ")", "{", "ResolveInfo", "resolveInfo", "=", "new", "ResolveInfo", "(", ")", ";", "resolveInfo", ".", "serviceInfo", "=", "service", ".", "info", ";", "resolveInfos", ".", "add", "(", "resolveInfo", ")", ";", "break", ";", "}", "}", "}", "}", "return", "resolveInfos", ";", "}", "</s>"]
["<s>", "public", "List", "<", "ResolveInfo", ">", "queryBroadcastReceivers", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "ComponentName", "component", "=", "intent", ".", "getComponent", "(", ")", ";", "List", "<", "ResolveInfo", ">", "resolveInfos", "=", "new", "ArrayList", "<", "ResolveInfo", ">", "(", ")", ";", "ContentResolver", "resolver", "=", "this", ".", "mPluginContext", ".", "getContentResolver", "(", ")", ";", "for", "(", "PackageParser", ".", "Activity", "receiver", ":", "this", ".", "mPackage", ".", "receivers", ")", "{", "if", "(", "receiver", ".", "getComponentName", "(", ")", ".", "equals", "(", "component", ")", ")", "{", "ResolveInfo", "resolveInfo", "=", "new", "ResolveInfo", "(", ")", ";", "resolveInfo", ".", "activityInfo", "=", "receiver", ".", "info", ";", "resolveInfos", ".", "add", "(", "resolveInfo", ")", ";", "}", "else", "if", "(", "component", "=", "=", "null", ")", "{", "for", "(", "PackageParser", ".", "ActivityIntentInfo", "intentInfo", ":", "receiver", ".", "intents", ")", "{", "if", "(", "intentInfo", ".", "match", "(", "resolver", ",", "intent", ",", "true", ",", "TAG", ")", ">", "=", "0", ")", "{", "ResolveInfo", "resolveInfo", "=", "new", "ResolveInfo", "(", ")", ";", "resolveInfo", ".", "activityInfo", "=", "receiver", ".", "info", ";", "resolveInfos", ".", "add", "(", "resolveInfo", ")", ";", "break", ";", "}", "}", "}", "}", "return", "resolveInfos", ";", "}", "</s>"]
["<s>", "public", "ProviderInfo", "resolveContentProvider", "(", "String", "name", ",", "int", "flags", ")", "{", "return", "this", ".", "mProviders", ".", "get", "(", "name", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "match", "(", "PackageParser", ".", "Component", "component", ",", "ComponentName", "target", ")", "{", "ComponentName", "source", "=", "component", ".", "getComponentName", "(", ")", ";", "if", "(", "source", "=", "=", "target", ")", "return", "true", ";", "if", "(", "source", "!", "=", "null", "&", "&", "target", "!", "=", "null", "&", "&", "source", ".", "getClassName", "(", ")", ".", "equals", "(", "target", ".", "getClassName", "(", ")", ")", "&", "&", "(", "source", ".", "getPackageName", "(", ")", ".", "equals", "(", "target", ".", "getPackageName", "(", ")", ")", "|", "|", "mHostContext", ".", "getPackageName", "(", ")", ".", "equals", "(", "target", ".", "getPackageName", "(", ")", ")", ")", ")", "{", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PackageInfo", "getPackageInfo", "(", "String", "packageName", ",", "int", "flags", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mPackageInfo", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getPackageInfo", "(", "packageName", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "O", ")", "@", "Override", "public", "PackageInfo", "getPackageInfo", "(", "VersionedPackage", "versionedPackage", ",", "int", "i", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "versionedPackage", ".", "getPackageName", "(", ")", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mPackageInfo", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getPackageInfo", "(", "versionedPackage", ",", "i", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "[", "]", "currentToCanonicalPackageNames", "(", "String", "[", "]", "names", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "currentToCanonicalPackageNames", "(", "names", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "[", "]", "canonicalToCurrentPackageNames", "(", "String", "[", "]", "names", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "canonicalToCurrentPackageNames", "(", "names", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Intent", "getLaunchIntentForPackage", "(", "String", "packageName", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "getLaunchIntent", "(", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getLaunchIntentForPackage", "(", "packageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "public", "Intent", "getLeanbackLaunchIntentForPackage", "(", "String", "packageName", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "getLeanbackLaunchIntent", "(", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getLeanbackLaunchIntentForPackage", "(", "packageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "[", "]", "getPackageGids", "(", "String", "packageName", ")", "throws", "NameNotFoundException", "{", "return", "this", ".", "mHostPackageManager", ".", "getPackageGids", "(", "packageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PermissionInfo", "getPermissionInfo", "(", "String", "name", ",", "int", "flags", ")", "throws", "NameNotFoundException", "{", "return", "this", ".", "mHostPackageManager", ".", "getPermissionInfo", "(", "name", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "PermissionInfo", ">", "queryPermissionsByGroup", "(", "String", "group", ",", "int", "flags", ")", "throws", "NameNotFoundException", "{", "return", "this", ".", "mHostPackageManager", ".", "queryPermissionsByGroup", "(", "group", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PermissionGroupInfo", "getPermissionGroupInfo", "(", "String", "name", ",", "int", "flags", ")", "throws", "NameNotFoundException", "{", "return", "this", ".", "mHostPackageManager", ".", "getPermissionGroupInfo", "(", "name", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "PermissionGroupInfo", ">", "getAllPermissionGroups", "(", "int", "flags", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getAllPermissionGroups", "(", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ApplicationInfo", "getApplicationInfo", "(", "String", "packageName", ",", "int", "flags", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "getApplicationInfo", "(", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getApplicationInfo", "(", "packageName", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ActivityInfo", "getActivityInfo", "(", "ComponentName", "component", ",", "int", "flags", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mActivityInfos", ".", "get", "(", "component", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getActivityInfo", "(", "component", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ActivityInfo", "getReceiverInfo", "(", "ComponentName", "component", ",", "int", "flags", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mReceiverInfos", ".", "get", "(", "component", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getReceiverInfo", "(", "component", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ServiceInfo", "getServiceInfo", "(", "ComponentName", "component", ",", "int", "flags", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mServiceInfos", ".", "get", "(", "component", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getServiceInfo", "(", "component", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ProviderInfo", "getProviderInfo", "(", "ComponentName", "component", ",", "int", "flags", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mProviderInfos", ".", "get", "(", "component", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getProviderInfo", "(", "component", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "PackageInfo", ">", "getInstalledPackages", "(", "int", "flags", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getInstalledPackages", "(", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "public", "List", "<", "PackageInfo", ">", "getPackagesHoldingPermissions", "(", "String", "[", "]", "permissions", ",", "int", "flags", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getPackagesHoldingPermissions", "(", "permissions", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "checkPermission", "(", "String", "permName", ",", "String", "pkgName", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "checkPermission", "(", "permName", ",", "pkgName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "addPermission", "(", "PermissionInfo", "info", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "addPermission", "(", "info", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "addPermissionAsync", "(", "PermissionInfo", "info", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "addPermissionAsync", "(", "info", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "removePermission", "(", "String", "name", ")", "{", "this", ".", "mHostPackageManager", ".", "removePermission", "(", "name", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "checkSignatures", "(", "String", "pkg1", ",", "String", "pkg2", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "checkSignatures", "(", "pkg1", ",", "pkg2", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "checkSignatures", "(", "int", "uid1", ",", "int", "uid2", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "checkSignatures", "(", "uid1", ",", "uid2", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "[", "]", "getPackagesForUid", "(", "int", "uid", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getPackagesForUid", "(", "uid", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getNameForUid", "(", "int", "uid", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getNameForUid", "(", "uid", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "ApplicationInfo", ">", "getInstalledApplications", "(", "int", "flags", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getInstalledApplications", "(", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "O", ")", "@", "Override", "public", "boolean", "isInstantApp", "(", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "isInstantApp", "(", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "O", ")", "@", "Override", "public", "boolean", "isInstantApp", "(", "String", "s", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "isInstantApp", "(", "s", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "O", ")", "@", "Override", "public", "int", "getInstantAppCookieMaxBytes", "(", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getInstantAppCookieMaxBytes", "(", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "O", ")", "@", "NonNull", "@", "Override", "public", "byte", "[", "]", "getInstantAppCookie", "(", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getInstantAppCookie", "(", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "O", ")", "@", "Override", "public", "void", "clearInstantAppCookie", "(", ")", "{", "this", ".", "mHostPackageManager", ".", "clearInstantAppCookie", "(", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "O", ")", "@", "Override", "public", "void", "updateInstantAppCookie", "(", "@", "Nullable", "byte", "[", "]", "bytes", ")", "{", "this", ".", "mHostPackageManager", ".", "updateInstantAppCookie", "(", "bytes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "[", "]", "getSystemSharedLibraryNames", "(", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getSystemSharedLibraryNames", "(", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "O", ")", "@", "NonNull", "@", "Override", "public", "List", "<", "SharedLibraryInfo", ">", "getSharedLibraries", "(", "int", "i", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getSharedLibraries", "(", "i", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "O", ")", "@", "Nullable", "@", "Override", "public", "ChangedPackages", "getChangedPackages", "(", "int", "i", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getChangedPackages", "(", "i", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "FeatureInfo", "[", "]", "getSystemAvailableFeatures", "(", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getSystemAvailableFeatures", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasSystemFeature", "(", "String", "name", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "hasSystemFeature", "(", "name", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResolveInfo", "resolveActivity", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "ResolveInfo", "resolveInfo", "=", "mPluginManager", ".", "resolveActivity", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "resolveInfo", ")", "{", "return", "resolveInfo", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "resolveActivity", "(", "intent", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "ResolveInfo", ">", "queryIntentActivities", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "ComponentName", "component", "=", "intent", ".", "getComponent", "(", ")", ";", "if", "(", "null", "=", "=", "component", ")", "{", "if", "(", "intent", ".", "getSelector", "(", ")", "!", "=", "null", ")", "{", "intent", "=", "intent", ".", "getSelector", "(", ")", ";", "component", "=", "intent", ".", "getComponent", "(", ")", ";", "}", "}", "if", "(", "null", "!", "=", "component", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "ActivityInfo", "activityInfo", "=", "plugin", ".", "getActivityInfo", "(", "component", ")", ";", "if", "(", "activityInfo", "!", "=", "null", ")", "{", "ResolveInfo", "resolveInfo", "=", "new", "ResolveInfo", "(", ")", ";", "resolveInfo", ".", "activityInfo", "=", "activityInfo", ";", "return", "Arrays", ".", "asList", "(", "resolveInfo", ")", ";", "}", "}", "}", "List", "<", "ResolveInfo", ">", "all", "=", "new", "ArrayList", "<", "ResolveInfo", ">", "(", ")", ";", "List", "<", "ResolveInfo", ">", "pluginResolveInfos", "=", "mPluginManager", ".", "queryIntentActivities", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "pluginResolveInfos", "&", "&", "pluginResolveInfos", ".", "size", "(", ")", ">", "0", ")", "{", "all", ".", "addAll", "(", "pluginResolveInfos", ")", ";", "}", "List", "<", "ResolveInfo", ">", "hostResolveInfos", "=", "this", ".", "mHostPackageManager", ".", "queryIntentActivities", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "hostResolveInfos", "&", "&", "hostResolveInfos", ".", "size", "(", ")", ">", "0", ")", "{", "all", ".", "addAll", "(", "hostResolveInfos", ")", ";", "}", "return", "all", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "ResolveInfo", ">", "queryIntentActivityOptions", "(", "ComponentName", "caller", ",", "Intent", "[", "]", "specifics", ",", "Intent", "intent", ",", "int", "flags", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "queryIntentActivityOptions", "(", "caller", ",", "specifics", ",", "intent", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "ResolveInfo", ">", "queryBroadcastReceivers", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "ComponentName", "component", "=", "intent", ".", "getComponent", "(", ")", ";", "if", "(", "null", "=", "=", "component", ")", "{", "if", "(", "intent", ".", "getSelector", "(", ")", "!", "=", "null", ")", "{", "intent", "=", "intent", ".", "getSelector", "(", ")", ";", "component", "=", "intent", ".", "getComponent", "(", ")", ";", "}", "}", "if", "(", "null", "!", "=", "component", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "ActivityInfo", "activityInfo", "=", "plugin", ".", "getReceiverInfo", "(", "component", ")", ";", "if", "(", "activityInfo", "!", "=", "null", ")", "{", "ResolveInfo", "resolveInfo", "=", "new", "ResolveInfo", "(", ")", ";", "resolveInfo", ".", "activityInfo", "=", "activityInfo", ";", "return", "Arrays", ".", "asList", "(", "resolveInfo", ")", ";", "}", "}", "}", "List", "<", "ResolveInfo", ">", "all", "=", "new", "ArrayList", "<", "ResolveInfo", ">", "(", ")", ";", "List", "<", "ResolveInfo", ">", "pluginResolveInfos", "=", "mPluginManager", ".", "queryBroadcastReceivers", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "pluginResolveInfos", "&", "&", "pluginResolveInfos", ".", "size", "(", ")", ">", "0", ")", "{", "all", ".", "addAll", "(", "pluginResolveInfos", ")", ";", "}", "List", "<", "ResolveInfo", ">", "hostResolveInfos", "=", "this", ".", "mHostPackageManager", ".", "queryBroadcastReceivers", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "hostResolveInfos", "&", "&", "hostResolveInfos", ".", "size", "(", ")", ">", "0", ")", "{", "all", ".", "addAll", "(", "hostResolveInfos", ")", ";", "}", "return", "all", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResolveInfo", "resolveService", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "ResolveInfo", "resolveInfo", "=", "mPluginManager", ".", "resolveService", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "resolveInfo", ")", "{", "return", "resolveInfo", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "resolveService", "(", "intent", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "ResolveInfo", ">", "queryIntentServices", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "ComponentName", "component", "=", "intent", ".", "getComponent", "(", ")", ";", "if", "(", "null", "=", "=", "component", ")", "{", "if", "(", "intent", ".", "getSelector", "(", ")", "!", "=", "null", ")", "{", "intent", "=", "intent", ".", "getSelector", "(", ")", ";", "component", "=", "intent", ".", "getComponent", "(", ")", ";", "}", "}", "if", "(", "null", "!", "=", "component", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "ServiceInfo", "serviceInfo", "=", "plugin", ".", "getServiceInfo", "(", "component", ")", ";", "if", "(", "serviceInfo", "!", "=", "null", ")", "{", "ResolveInfo", "resolveInfo", "=", "new", "ResolveInfo", "(", ")", ";", "resolveInfo", ".", "serviceInfo", "=", "serviceInfo", ";", "return", "Arrays", ".", "asList", "(", "resolveInfo", ")", ";", "}", "}", "}", "List", "<", "ResolveInfo", ">", "all", "=", "new", "ArrayList", "<", "ResolveInfo", ">", "(", ")", ";", "List", "<", "ResolveInfo", ">", "pluginResolveInfos", "=", "mPluginManager", ".", "queryIntentServices", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "pluginResolveInfos", "&", "&", "pluginResolveInfos", ".", "size", "(", ")", ">", "0", ")", "{", "all", ".", "addAll", "(", "pluginResolveInfos", ")", ";", "}", "List", "<", "ResolveInfo", ">", "hostResolveInfos", "=", "this", ".", "mHostPackageManager", ".", "queryIntentServices", "(", "intent", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "hostResolveInfos", "&", "&", "hostResolveInfos", ".", "size", "(", ")", ">", "0", ")", "{", "all", ".", "addAll", "(", "hostResolveInfos", ")", ";", "}", "return", "all", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "public", "List", "<", "ResolveInfo", ">", "queryIntentContentProviders", "(", "Intent", "intent", ",", "int", "flags", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "queryIntentContentProviders", "(", "intent", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ProviderInfo", "resolveContentProvider", "(", "String", "name", ",", "int", "flags", ")", "{", "ProviderInfo", "providerInfo", "=", "mPluginManager", ".", "resolveContentProvider", "(", "name", ",", "flags", ")", ";", "if", "(", "null", "!", "=", "providerInfo", ")", "{", "return", "providerInfo", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "resolveContentProvider", "(", "name", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "ProviderInfo", ">", "queryContentProviders", "(", "String", "processName", ",", "int", "uid", ",", "int", "flags", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "queryContentProviders", "(", "processName", ",", "uid", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InstrumentationInfo", "getInstrumentationInfo", "(", "ComponentName", "component", ",", "int", "flags", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mInstrumentationInfos", ".", "get", "(", "component", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getInstrumentationInfo", "(", "component", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "InstrumentationInfo", ">", "queryInstrumentation", "(", "String", "targetPackage", ",", "int", "flags", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "queryInstrumentation", "(", "targetPackage", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Drawable", "getDrawable", "(", "String", "packageName", ",", "int", "resid", ",", "ApplicationInfo", "appInfo", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "resid", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getDrawable", "(", "packageName", ",", "resid", ",", "appInfo", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Drawable", "getActivityIcon", "(", "ComponentName", "component", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "plugin", ".", "mActivityInfos", ".", "get", "(", "component", ")", ".", "icon", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getActivityIcon", "(", "component", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Drawable", "getActivityIcon", "(", "Intent", "intent", ")", "throws", "NameNotFoundException", "{", "ResolveInfo", "ri", "=", "mPluginManager", ".", "resolveActivity", "(", "intent", ")", ";", "if", "(", "null", "!", "=", "ri", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "ri", ".", "resolvePackageName", ")", ";", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "ri", ".", "activityInfo", ".", "icon", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getActivityIcon", "(", "intent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "KITKAT_WATCH", ")", "public", "Drawable", "getActivityBanner", "(", "ComponentName", "component", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "plugin", ".", "mActivityInfos", ".", "get", "(", "component", ")", ".", "banner", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getActivityBanner", "(", "component", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "KITKAT_WATCH", ")", "public", "Drawable", "getActivityBanner", "(", "Intent", "intent", ")", "throws", "NameNotFoundException", "{", "ResolveInfo", "ri", "=", "mPluginManager", ".", "resolveActivity", "(", "intent", ")", ";", "if", "(", "null", "!", "=", "ri", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "ri", ".", "resolvePackageName", ")", ";", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "ri", ".", "activityInfo", ".", "banner", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getActivityBanner", "(", "intent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Drawable", "getDefaultActivityIcon", "(", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getDefaultActivityIcon", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Drawable", "getApplicationIcon", "(", "ApplicationInfo", "info", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "info", ".", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "info", ".", "icon", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getApplicationIcon", "(", "info", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Drawable", "getApplicationIcon", "(", "String", "packageName", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "plugin", ".", "mPackage", ".", "applicationInfo", ".", "icon", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getApplicationIcon", "(", "packageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "KITKAT_WATCH", ")", "public", "Drawable", "getApplicationBanner", "(", "ApplicationInfo", "info", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "info", ".", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "info", ".", "banner", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getApplicationBanner", "(", "info", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "KITKAT_WATCH", ")", "public", "Drawable", "getApplicationBanner", "(", "String", "packageName", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "plugin", ".", "mPackage", ".", "applicationInfo", ".", "banner", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getApplicationBanner", "(", "packageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Drawable", "getActivityLogo", "(", "ComponentName", "component", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "plugin", ".", "mActivityInfos", ".", "get", "(", "component", ")", ".", "logo", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getActivityLogo", "(", "component", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Drawable", "getActivityLogo", "(", "Intent", "intent", ")", "throws", "NameNotFoundException", "{", "ResolveInfo", "ri", "=", "mPluginManager", ".", "resolveActivity", "(", "intent", ")", ";", "if", "(", "null", "!", "=", "ri", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "ri", ".", "resolvePackageName", ")", ";", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "ri", ".", "activityInfo", ".", "logo", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getActivityLogo", "(", "intent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Drawable", "getApplicationLogo", "(", "ApplicationInfo", "info", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "info", ".", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "0", "!", "=", "info", ".", "logo", "?", "info", ".", "logo", ":", "android", ".", "R", ".", "drawable", ".", "sym_def_app_icon", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getApplicationLogo", "(", "info", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Drawable", "getApplicationLogo", "(", "String", "packageName", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ".", "getDrawable", "(", "0", "!", "=", "plugin", ".", "mPackage", ".", "applicationInfo", ".", "logo", "?", "plugin", ".", "mPackage", ".", "applicationInfo", ".", "logo", ":", "android", ".", "R", ".", "drawable", ".", "sym_def_app_icon", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getApplicationLogo", "(", "packageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "public", "Drawable", "getUserBadgedIcon", "(", "Drawable", "icon", ",", "UserHandle", "user", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getUserBadgedIcon", "(", "icon", ",", "user", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR1", ")", "public", "Drawable", "getUserBadgeForDensity", "(", "UserHandle", "user", ",", "int", "density", ")", "{", "try", "{", "Method", "method", "=", "PackageManager", ".", "class", ".", "getMethod", "(", "\"", "<STR_LIT>", "\"", ",", "UserHandle", ".", "class", ",", "int", ".", "class", ")", ";", "return", "(", "Drawable", ")", "method", ".", "invoke", "(", "this", ".", "mHostPackageManager", ",", "user", ",", "density", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "public", "Drawable", "getUserBadgedDrawableForDensity", "(", "Drawable", "drawable", ",", "UserHandle", "user", ",", "Rect", "badgeLocation", ",", "int", "badgeDensity", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getUserBadgedDrawableForDensity", "(", "drawable", ",", "user", ",", "badgeLocation", ",", "badgeDensity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "public", "CharSequence", "getUserBadgedLabel", "(", "CharSequence", "label", ",", "UserHandle", "user", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getUserBadgedLabel", "(", "label", ",", "user", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CharSequence", "getText", "(", "String", "packageName", ",", "int", "resid", ",", "ApplicationInfo", "appInfo", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ".", "getText", "(", "resid", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getText", "(", "packageName", ",", "resid", ",", "appInfo", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "XmlResourceParser", "getXml", "(", "String", "packageName", ",", "int", "resid", ",", "ApplicationInfo", "appInfo", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ".", "getXml", "(", "resid", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getXml", "(", "packageName", ",", "resid", ",", "appInfo", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CharSequence", "getApplicationLabel", "(", "ApplicationInfo", "info", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "info", ".", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "try", "{", "return", "plugin", ".", "mResources", ".", "getText", "(", "info", ".", "labelRes", ")", ";", "}", "catch", "(", "Resources", ".", "NotFoundException", "e", ")", "{", "}", "}", "return", "this", ".", "mHostPackageManager", ".", "getApplicationLabel", "(", "info", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Resources", "getResourcesForActivity", "(", "ComponentName", "component", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getResourcesForActivity", "(", "component", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Resources", "getResourcesForApplication", "(", "ApplicationInfo", "app", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "app", ".", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getResourcesForApplication", "(", "app", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Resources", "getResourcesForApplication", "(", "String", "appPackageName", ")", "throws", "NameNotFoundException", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "appPackageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "plugin", ".", "mResources", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getResourcesForApplication", "(", "appPackageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "verifyPendingInstall", "(", "int", "id", ",", "int", "verificationCode", ")", "{", "this", ".", "mHostPackageManager", ".", "verifyPendingInstall", "(", "id", ",", "verificationCode", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR1", ")", "public", "void", "extendVerificationTimeout", "(", "int", "id", ",", "int", "verificationCodeAtTimeout", ",", "long", "millisecondsToDelay", ")", "{", "this", ".", "mHostPackageManager", ".", "extendVerificationTimeout", "(", "id", ",", "verificationCodeAtTimeout", ",", "millisecondsToDelay", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setInstallerPackageName", "(", "String", "targetPackage", ",", "String", "installerPackageName", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "targetPackage", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", ";", "}", "this", ".", "mHostPackageManager", ".", "setInstallerPackageName", "(", "targetPackage", ",", "installerPackageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getInstallerPackageName", "(", "String", "packageName", ")", "{", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "packageName", ")", ";", "if", "(", "null", "!", "=", "plugin", ")", "{", "return", "mHostContext", ".", "getPackageName", "(", ")", ";", "}", "return", "this", ".", "mHostPackageManager", ".", "getInstallerPackageName", "(", "packageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addPackageToPreferred", "(", "String", "packageName", ")", "{", "this", ".", "mHostPackageManager", ".", "addPackageToPreferred", "(", "packageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "removePackageFromPreferred", "(", "String", "packageName", ")", "{", "this", ".", "mHostPackageManager", ".", "removePackageFromPreferred", "(", "packageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "PackageInfo", ">", "getPreferredPackages", "(", "int", "flags", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getPreferredPackages", "(", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addPreferredActivity", "(", "IntentFilter", "filter", ",", "int", "match", ",", "ComponentName", "[", "]", "set", ",", "ComponentName", "activity", ")", "{", "this", ".", "mHostPackageManager", ".", "addPreferredActivity", "(", "filter", ",", "match", ",", "set", ",", "activity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearPackagePreferredActivities", "(", "String", "packageName", ")", "{", "this", ".", "mHostPackageManager", ".", "clearPackagePreferredActivities", "(", "packageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getPreferredActivities", "(", "List", "<", "IntentFilter", ">", "outFilters", ",", "List", "<", "ComponentName", ">", "outActivities", ",", "String", "packageName", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getPreferredActivities", "(", "outFilters", ",", "outActivities", ",", "packageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setComponentEnabledSetting", "(", "ComponentName", "component", ",", "int", "newState", ",", "int", "flags", ")", "{", "this", ".", "mHostPackageManager", ".", "setComponentEnabledSetting", "(", "component", ",", "newState", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getComponentEnabledSetting", "(", "ComponentName", "component", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getComponentEnabledSetting", "(", "component", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setApplicationEnabledSetting", "(", "String", "packageName", ",", "int", "newState", ",", "int", "flags", ")", "{", "this", ".", "mHostPackageManager", ".", "setApplicationEnabledSetting", "(", "packageName", ",", "newState", ",", "flags", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getApplicationEnabledSetting", "(", "String", "packageName", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getApplicationEnabledSetting", "(", "packageName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isSafeMode", "(", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "isSafeMode", "(", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "O", ")", "@", "Override", "public", "void", "setApplicationCategoryHint", "(", "@", "NonNull", "String", "s", ",", "int", "i", ")", "{", "this", ".", "mHostPackageManager", ".", "setApplicationCategoryHint", "(", "s", ",", "i", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "@", "Override", "public", "PackageInstaller", "getPackageInstaller", "(", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "getPackageInstaller", "(", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "O", ")", "@", "Override", "public", "boolean", "canRequestPackageInstalls", "(", ")", "{", "return", "this", ".", "mHostPackageManager", ".", "canRequestPackageInstalls", "(", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "<NUM_LIT:24>", ")", "public", "int", "[", "]", "getPackageGids", "(", "String", "s", ",", "int", "i", ")", "throws", "NameNotFoundException", "{", "return", "mHostPackageManager", ".", "getPackageGids", "(", "s", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getPackageUid", "(", "String", "s", ",", "int", "i", ")", "throws", "NameNotFoundException", "{", "Object", "uid", "=", "ReflectUtil", ".", "invokeNoException", "(", "PackageManager", ".", "class", ",", "mHostPackageManager", ",", "\"", "<STR_LIT>", "\"", ",", "new", "Class", "[", "]", "{", "String", ".", "class", ",", "int", ".", "class", "}", ",", "s", ",", "i", ")", ";", "if", "(", "uid", "!", "=", "null", ")", "{", "return", "(", "int", ")", "uid", ";", "}", "else", "{", "throw", "new", "NameNotFoundException", "(", "s", ")", ";", "}", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "<NUM_LIT>", ")", "public", "boolean", "isPermissionRevokedByPolicy", "(", "String", "s", ",", "String", "s1", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "<NUM_LIT:24>", ")", "public", "boolean", "hasSystemFeature", "(", "String", "s", ",", "int", "i", ")", "{", "return", "mHostPackageManager", ".", "hasSystemFeature", "(", "s", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "intent", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "onStartCommand", "(", "Intent", "intent", ",", "int", "flags", ",", "int", "startId", ")", "{", "if", "(", "intent", "=", "=", "null", ")", "{", "return", "super", ".", "onStartCommand", "(", "intent", ",", "flags", ",", "startId", ")", ";", "}", "Intent", "target", "=", "intent", ".", "getParcelableExtra", "(", "EXTRA_TARGET", ")", ";", "if", "(", "target", "!", "=", "null", ")", "{", "String", "pluginLocation", "=", "intent", ".", "getStringExtra", "(", "EXTRA_PLUGIN_LOCATION", ")", ";", "ComponentName", "component", "=", "target", ".", "getComponent", "(", ")", ";", "LoadedPlugin", "plugin", "=", "PluginManager", ".", "getInstance", "(", "this", ")", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "plugin", "=", "=", "null", "&", "&", "pluginLocation", "!", "=", "null", ")", "{", "try", "{", "PluginManager", ".", "getInstance", "(", "this", ")", ".", "loadPlugin", "(", "new", "File", "(", "pluginLocation", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "return", "super", ".", "onStartCommand", "(", "intent", ",", "flags", ",", "startId", ")", ";", "}", "</s>"]
["<s>", "private", "IContentProviderProxy", "(", "Context", "context", ",", "IContentProvider", "iContentProvider", ")", "{", "mBase", "=", "iContentProvider", ";", "mContext", "=", "context", ";", "}", "</s>"]
["<s>", "public", "static", "IContentProvider", "newInstance", "(", "Context", "context", ",", "IContentProvider", "iContentProvider", ")", "{", "return", "(", "IContentProvider", ")", "Proxy", ".", "newProxyInstance", "(", "iContentProvider", ".", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ",", "new", "Class", "[", "]", "{", "IContentProvider", ".", "class", "}", ",", "new", "IContentProviderProxy", "(", "context", ",", "iContentProvider", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "invoke", "(", "Object", "proxy", ",", "Method", "method", ",", "Object", "[", "]", "args", ")", "throws", "Throwable", "{", "Log", ".", "v", "(", "TAG", ",", "method", ".", "toGenericString", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "Arrays", ".", "toString", "(", "args", ")", ")", ";", "wrapperUri", "(", "method", ",", "args", ")", ";", "try", "{", "return", "method", ".", "invoke", "(", "mBase", ",", "args", ")", ";", "}", "catch", "(", "InvocationTargetException", "e", ")", "{", "throw", "e", ".", "getTargetException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "wrapperUri", "(", "Method", "method", ",", "Object", "[", "]", "args", ")", "{", "Uri", "uri", "=", "null", ";", "int", "index", "=", "0", ";", "if", "(", "args", "!", "=", "null", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "args", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "args", "[", "i", "]", "instanceof", "Uri", ")", "{", "uri", "=", "(", "Uri", ")", "args", "[", "i", "]", ";", "index", "=", "i", ";", "break", ";", "}", "}", "}", "Bundle", "bundleInCallMethod", "=", "null", ";", "if", "(", "method", ".", "getName", "(", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "bundleInCallMethod", "=", "getBundleParameter", "(", "args", ")", ";", "if", "(", "bundleInCallMethod", "!", "=", "null", ")", "{", "String", "uriString", "=", "bundleInCallMethod", ".", "getString", "(", "KEY_WRAPPER_URI", ")", ";", "if", "(", "uriString", "!", "=", "null", ")", "{", "uri", "=", "Uri", ".", "parse", "(", "uriString", ")", ";", "}", "}", "}", "if", "(", "uri", "=", "=", "null", ")", "{", "return", ";", "}", "PluginManager", "pluginManager", "=", "PluginManager", ".", "getInstance", "(", "mContext", ")", ";", "ProviderInfo", "info", "=", "pluginManager", ".", "resolveContentProvider", "(", "uri", ".", "getAuthority", "(", ")", ",", "0", ")", ";", "if", "(", "info", "!", "=", "null", ")", "{", "String", "pkg", "=", "info", ".", "packageName", ";", "LoadedPlugin", "plugin", "=", "pluginManager", ".", "getLoadedPlugin", "(", "pkg", ")", ";", "String", "pluginUri", "=", "Uri", ".", "encode", "(", "uri", ".", "toString", "(", ")", ")", ";", "StringBuilder", "builder", "=", "new", "StringBuilder", "(", "PluginContentResolver", ".", "getUri", "(", "mContext", ")", ")", ";", "builder", ".", "append", "(", "\"", "<STR_LIT>", "\"", "+", "plugin", ".", "getLocation", "(", ")", ")", ";", "builder", ".", "append", "(", "\"", "<STR_LIT>", "\"", "+", "pkg", ")", ";", "builder", ".", "append", "(", "\"", "<STR_LIT>", "\"", "+", "pluginUri", ")", ";", "Uri", "wrapperUri", "=", "Uri", ".", "parse", "(", "builder", ".", "toString", "(", ")", ")", ";", "if", "(", "method", ".", "getName", "(", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "bundleInCallMethod", ".", "putString", "(", "KEY_WRAPPER_URI", ",", "wrapperUri", ".", "toString", "(", ")", ")", ";", "}", "else", "{", "args", "[", "index", "]", "=", "wrapperUri", ";", "}", "}", "}", "</s>"]
["<s>", "private", "Bundle", "getBundleParameter", "(", "Object", "[", "]", "args", ")", "{", "Bundle", "bundle", "=", "null", ";", "if", "(", "args", "!", "=", "null", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "args", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "args", "[", "i", "]", "instanceof", "Bundle", ")", "{", "bundle", "=", "(", "Bundle", ")", "args", "[", "i", "]", ";", "break", ";", "}", "}", "}", "return", "bundle", ";", "}", "</s>"]
["<s>", "public", "static", "IActivityManager", "newInstance", "(", "PluginManager", "pluginManager", ",", "IActivityManager", "activityManager", ")", "{", "return", "(", "IActivityManager", ")", "Proxy", ".", "newProxyInstance", "(", "activityManager", ".", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ",", "new", "Class", "[", "]", "{", "IActivityManager", ".", "class", "}", ",", "new", "ActivityManagerProxy", "(", "pluginManager", ",", "activityManager", ")", ")", ";", "}", "</s>"]
["<s>", "public", "ActivityManagerProxy", "(", "PluginManager", "pluginManager", ",", "IActivityManager", "activityManager", ")", "{", "this", ".", "mPluginManager", "=", "pluginManager", ";", "this", ".", "mActivityManager", "=", "activityManager", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "invoke", "(", "Object", "proxy", ",", "Method", "method", ",", "Object", "[", "]", "args", ")", "throws", "Throwable", "{", "if", "(", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "method", ".", "getName", "(", ")", ")", ")", "{", "try", "{", "return", "startService", "(", "proxy", ",", "method", ",", "args", ")", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "}", "else", "if", "(", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "method", ".", "getName", "(", ")", ")", ")", "{", "try", "{", "return", "stopService", "(", "proxy", ",", "method", ",", "args", ")", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "}", "else", "if", "(", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "method", ".", "getName", "(", ")", ")", ")", "{", "try", "{", "return", "stopServiceToken", "(", "proxy", ",", "method", ",", "args", ")", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "}", "else", "if", "(", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "method", ".", "getName", "(", ")", ")", ")", "{", "try", "{", "return", "bindService", "(", "proxy", ",", "method", ",", "args", ")", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "if", "(", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "method", ".", "getName", "(", ")", ")", ")", "{", "try", "{", "return", "unbindService", "(", "proxy", ",", "method", ",", "args", ")", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "if", "(", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "method", ".", "getName", "(", ")", ")", ")", "{", "try", "{", "getIntentSender", "(", "method", ",", "args", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "if", "(", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "method", ".", "getName", "(", ")", ")", ")", "{", "try", "{", "overridePendingTransition", "(", "method", ",", "args", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "try", "{", "return", "method", ".", "invoke", "(", "this", ".", "mActivityManager", ",", "args", ")", ";", "}", "catch", "(", "Throwable", "th", ")", "{", "Throwable", "c", "=", "th", ".", "getCause", "(", ")", ";", "if", "(", "c", "!", "=", "null", "&", "&", "c", "instanceof", "DeadObjectException", ")", "{", "IBinder", "ams", "=", "ServiceManager", ".", "getService", "(", "Context", ".", "ACTIVITY_SERVICE", ")", ";", "if", "(", "ams", "!", "=", "null", ")", "{", "IActivityManager", "am", "=", "ActivityManagerNative", ".", "asInterface", "(", "ams", ")", ";", "mActivityManager", "=", "am", ";", "}", "}", "Throwable", "cause", "=", "th", ";", "do", "{", "if", "(", "cause", "instanceof", "RemoteException", ")", "{", "throw", "cause", ";", "}", "}", "while", "(", "(", "cause", "=", "cause", ".", "getCause", "(", ")", ")", "!", "=", "null", ")", ";", "throw", "c", "!", "=", "null", "?", "c", ":", "th", ";", "}", "}", "</s>"]
["<s>", "private", "Object", "startService", "(", "Object", "proxy", ",", "Method", "method", ",", "Object", "[", "]", "args", ")", "throws", "Throwable", "{", "IApplicationThread", "appThread", "=", "(", "IApplicationThread", ")", "args", "[", "0", "]", ";", "Intent", "target", "=", "(", "Intent", ")", "args", "[", "1", "]", ";", "ResolveInfo", "resolveInfo", "=", "this", ".", "mPluginManager", ".", "resolveService", "(", "target", ",", "0", ")", ";", "if", "(", "null", "=", "=", "resolveInfo", "|", "|", "null", "=", "=", "resolveInfo", ".", "serviceInfo", ")", "{", "return", "method", ".", "invoke", "(", "this", ".", "mActivityManager", ",", "args", ")", ";", "}", "return", "startDelegateServiceForTarget", "(", "target", ",", "resolveInfo", ".", "serviceInfo", ",", "null", ",", "RemoteService", ".", "EXTRA_COMMAND_START_SERVICE", ")", ";", "}", "</s>"]
["<s>", "private", "Object", "stopService", "(", "Object", "proxy", ",", "Method", "method", ",", "Object", "[", "]", "args", ")", "throws", "Throwable", "{", "Intent", "target", "=", "(", "Intent", ")", "args", "[", "1", "]", ";", "ResolveInfo", "resolveInfo", "=", "this", ".", "mPluginManager", ".", "resolveService", "(", "target", ",", "0", ")", ";", "if", "(", "null", "=", "=", "resolveInfo", "|", "|", "null", "=", "=", "resolveInfo", ".", "serviceInfo", ")", "{", "return", "method", ".", "invoke", "(", "this", ".", "mActivityManager", ",", "args", ")", ";", "}", "startDelegateServiceForTarget", "(", "target", ",", "resolveInfo", ".", "serviceInfo", ",", "null", ",", "RemoteService", ".", "EXTRA_COMMAND_STOP_SERVICE", ")", ";", "return", "1", ";", "}", "</s>"]
["<s>", "private", "Object", "stopServiceToken", "(", "Object", "proxy", ",", "Method", "method", ",", "Object", "[", "]", "args", ")", "throws", "Throwable", "{", "ComponentName", "component", "=", "(", "ComponentName", ")", "args", "[", "0", "]", ";", "Intent", "target", "=", "new", "Intent", "(", ")", ".", "setComponent", "(", "component", ")", ";", "ResolveInfo", "resolveInfo", "=", "this", ".", "mPluginManager", ".", "resolveService", "(", "target", ",", "0", ")", ";", "if", "(", "null", "=", "=", "resolveInfo", "|", "|", "null", "=", "=", "resolveInfo", ".", "serviceInfo", ")", "{", "return", "method", ".", "invoke", "(", "this", ".", "mActivityManager", ",", "args", ")", ";", "}", "startDelegateServiceForTarget", "(", "target", ",", "resolveInfo", ".", "serviceInfo", ",", "null", ",", "RemoteService", ".", "EXTRA_COMMAND_STOP_SERVICE", ")", ";", "return", "true", ";", "}", "</s>"]
["<s>", "private", "Object", "bindService", "(", "Object", "proxy", ",", "Method", "method", ",", "Object", "[", "]", "args", ")", "throws", "Throwable", "{", "Intent", "target", "=", "(", "Intent", ")", "args", "[", "<NUM_LIT:2>", "]", ";", "ResolveInfo", "resolveInfo", "=", "this", ".", "mPluginManager", ".", "resolveService", "(", "target", ",", "0", ")", ";", "if", "(", "null", "=", "=", "resolveInfo", "|", "|", "null", "=", "=", "resolveInfo", ".", "serviceInfo", ")", "{", "return", "method", ".", "invoke", "(", "this", ".", "mActivityManager", ",", "args", ")", ";", "}", "Bundle", "bundle", "=", "new", "Bundle", "(", ")", ";", "PluginUtil", ".", "putBinder", "(", "bundle", ",", "\"", "<STR_LIT>", "\"", ",", "(", "IBinder", ")", "args", "[", "<NUM_LIT:4>", "]", ")", ";", "startDelegateServiceForTarget", "(", "target", ",", "resolveInfo", ".", "serviceInfo", ",", "bundle", ",", "RemoteService", ".", "EXTRA_COMMAND_BIND_SERVICE", ")", ";", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "remberIServiceConnection", "(", "(", "IBinder", ")", "args", "[", "<NUM_LIT:4>", "]", ",", "target", ")", ";", "return", "1", ";", "}", "</s>"]
["<s>", "private", "Object", "unbindService", "(", "Object", "proxy", ",", "Method", "method", ",", "Object", "[", "]", "args", ")", "throws", "Throwable", "{", "IBinder", "iServiceConnection", "=", "(", "IBinder", ")", "args", "[", "0", "]", ";", "Intent", "target", "=", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "forgetIServiceConnection", "(", "iServiceConnection", ")", ";", "if", "(", "target", "=", "=", "null", ")", "{", "return", "method", ".", "invoke", "(", "this", ".", "mActivityManager", ",", "args", ")", ";", "}", "ResolveInfo", "resolveInfo", "=", "this", ".", "mPluginManager", ".", "resolveService", "(", "target", ",", "0", ")", ";", "startDelegateServiceForTarget", "(", "target", ",", "resolveInfo", ".", "serviceInfo", ",", "null", ",", "RemoteService", ".", "EXTRA_COMMAND_UNBIND_SERVICE", ")", ";", "return", "true", ";", "}", "</s>"]
["<s>", "private", "ComponentName", "startDelegateServiceForTarget", "(", "Intent", "target", ",", "ServiceInfo", "serviceInfo", ",", "Bundle", "extras", ",", "int", "command", ")", "{", "Intent", "wrapperIntent", "=", "wrapperTargetIntent", "(", "target", ",", "serviceInfo", ",", "extras", ",", "command", ")", ";", "return", "mPluginManager", ".", "getHostContext", "(", ")", ".", "startService", "(", "wrapperIntent", ")", ";", "}", "</s>"]
["<s>", "private", "Intent", "wrapperTargetIntent", "(", "Intent", "target", ",", "ServiceInfo", "serviceInfo", ",", "Bundle", "extras", ",", "int", "command", ")", "{", "target", ".", "setComponent", "(", "new", "ComponentName", "(", "serviceInfo", ".", "packageName", ",", "serviceInfo", ".", "name", ")", ")", ";", "String", "pluginLocation", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "target", ".", "getComponent", "(", ")", ")", ".", "getLocation", "(", ")", ";", "boolean", "local", "=", "PluginUtil", ".", "isLocalService", "(", "serviceInfo", ")", ";", "Class", "<", "?", "extends", "Service", ">", "delegate", "=", "local", "?", "LocalService", ".", "class", ":", "RemoteService", ".", "class", ";", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setClass", "(", "mPluginManager", ".", "getHostContext", "(", ")", ",", "delegate", ")", ";", "intent", ".", "putExtra", "(", "RemoteService", ".", "EXTRA_TARGET", ",", "target", ")", ";", "intent", ".", "putExtra", "(", "RemoteService", ".", "EXTRA_COMMAND", ",", "command", ")", ";", "intent", ".", "putExtra", "(", "RemoteService", ".", "EXTRA_PLUGIN_LOCATION", ",", "pluginLocation", ")", ";", "if", "(", "extras", "!", "=", "null", ")", "{", "intent", ".", "putExtras", "(", "extras", ")", ";", "}", "return", "intent", ";", "}", "</s>"]
["<s>", "private", "void", "getIntentSender", "(", "Method", "method", ",", "Object", "[", "]", "args", ")", "{", "String", "hostPackageName", "=", "mPluginManager", ".", "getHostContext", "(", ")", ".", "getPackageName", "(", ")", ";", "args", "[", "1", "]", "=", "hostPackageName", ";", "Intent", "target", "=", "(", "(", "Intent", "[", "]", ")", "args", "[", "<NUM_LIT:5>", "]", ")", "[", "0", "]", ";", "int", "intentSenderType", "=", "(", "int", ")", "args", "[", "0", "]", ";", "if", "(", "intentSenderType", "=", "=", "INTENT_SENDER_ACTIVITY", ")", "{", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "transformIntentToExplicitAsNeeded", "(", "target", ")", ";", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "markIntentIfNeeded", "(", "target", ")", ";", "}", "else", "if", "(", "intentSenderType", "=", "=", "INTENT_SENDER_SERVICE", ")", "{", "ResolveInfo", "resolveInfo", "=", "this", ".", "mPluginManager", ".", "resolveService", "(", "target", ",", "0", ")", ";", "if", "(", "resolveInfo", "!", "=", "null", "&", "&", "resolveInfo", ".", "serviceInfo", "!", "=", "null", ")", "{", "Intent", "wrapperIntent", "=", "wrapperTargetIntent", "(", "target", ",", "resolveInfo", ".", "serviceInfo", ",", "null", ",", "RemoteService", ".", "EXTRA_COMMAND_START_SERVICE", ")", ";", "(", "(", "Intent", "[", "]", ")", "args", "[", "<NUM_LIT:5>", "]", ")", "[", "0", "]", "=", "wrapperIntent", ";", "}", "}", "else", "if", "(", "intentSenderType", "=", "=", "INTENT_SENDER_BROADCAST", ")", "{", "}", "}", "</s>"]
["<s>", "private", "void", "overridePendingTransition", "(", "Method", "method", ",", "Object", "[", "]", "args", ")", "{", "String", "hostPackageName", "=", "mPluginManager", ".", "getHostContext", "(", ")", ".", "getPackageName", "(", ")", ";", "args", "[", "1", "]", "=", "hostPackageName", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "intent", ")", "{", "return", "new", "Binder", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "mPluginManager", "=", "PluginManager", ".", "getInstance", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "onStartCommand", "(", "Intent", "intent", ",", "int", "flags", ",", "int", "startId", ")", "{", "if", "(", "null", "=", "=", "intent", "|", "|", "!", "intent", ".", "hasExtra", "(", "EXTRA_TARGET", ")", "|", "|", "!", "intent", ".", "hasExtra", "(", "EXTRA_COMMAND", ")", ")", "{", "return", "START_STICKY", ";", "}", "Intent", "target", "=", "intent", ".", "getParcelableExtra", "(", "EXTRA_TARGET", ")", ";", "int", "command", "=", "intent", ".", "getIntExtra", "(", "EXTRA_COMMAND", ",", "0", ")", ";", "if", "(", "null", "=", "=", "target", "|", "|", "command", "<", "=", "0", ")", "{", "return", "START_STICKY", ";", "}", "ComponentName", "component", "=", "target", ".", "getComponent", "(", ")", ";", "LoadedPlugin", "plugin", "=", "mPluginManager", ".", "getLoadedPlugin", "(", "component", ")", ";", "target", ".", "setExtrasClassLoader", "(", "plugin", ".", "getClassLoader", "(", ")", ")", ";", "switch", "(", "command", ")", "{", "case", "EXTRA_COMMAND_START_SERVICE", ":", "{", "ActivityThread", "mainThread", "=", "(", "ActivityThread", ")", "ReflectUtil", ".", "getActivityThread", "(", "getBaseContext", "(", ")", ")", ";", "IApplicationThread", "appThread", "=", "mainThread", ".", "getApplicationThread", "(", ")", ";", "Service", "service", ";", "if", "(", "this", ".", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "isServiceAvailable", "(", "component", ")", ")", "{", "service", "=", "this", ".", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "getService", "(", "component", ")", ";", "}", "else", "{", "try", "{", "service", "=", "(", "Service", ")", "plugin", ".", "getClassLoader", "(", ")", ".", "loadClass", "(", "component", ".", "getClassName", "(", ")", ")", ".", "newInstance", "(", ")", ";", "Application", "app", "=", "plugin", ".", "getApplication", "(", ")", ";", "IBinder", "token", "=", "appThread", ".", "asBinder", "(", ")", ";", "Method", "attach", "=", "service", ".", "getClass", "(", ")", ".", "getMethod", "(", "\"", "<STR_LIT>", "\"", ",", "Context", ".", "class", ",", "ActivityThread", ".", "class", ",", "String", ".", "class", ",", "IBinder", ".", "class", ",", "Application", ".", "class", ",", "Object", ".", "class", ")", ";", "IActivityManager", "am", "=", "mPluginManager", ".", "getActivityManager", "(", ")", ";", "attach", ".", "invoke", "(", "service", ",", "plugin", ".", "getPluginContext", "(", ")", ",", "mainThread", ",", "component", ".", "getClassName", "(", ")", ",", "token", ",", "app", ",", "am", ")", ";", "service", ".", "onCreate", "(", ")", ";", "this", ".", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "rememberService", "(", "component", ",", "service", ")", ";", "}", "catch", "(", "Throwable", "t", ")", "{", "return", "START_STICKY", ";", "}", "}", "service", ".", "onStartCommand", "(", "target", ",", "0", ",", "this", ".", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "getServiceCounter", "(", "service", ")", ".", "getAndIncrement", "(", ")", ")", ";", "break", ";", "}", "case", "EXTRA_COMMAND_BIND_SERVICE", ":", "{", "ActivityThread", "mainThread", "=", "(", "ActivityThread", ")", "ReflectUtil", ".", "getActivityThread", "(", "getBaseContext", "(", ")", ")", ";", "IApplicationThread", "appThread", "=", "mainThread", ".", "getApplicationThread", "(", ")", ";", "Service", "service", "=", "null", ";", "if", "(", "this", ".", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "isServiceAvailable", "(", "component", ")", ")", "{", "service", "=", "this", ".", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "getService", "(", "component", ")", ";", "}", "else", "{", "try", "{", "service", "=", "(", "Service", ")", "plugin", ".", "getClassLoader", "(", ")", ".", "loadClass", "(", "component", ".", "getClassName", "(", ")", ")", ".", "newInstance", "(", ")", ";", "Application", "app", "=", "plugin", ".", "getApplication", "(", ")", ";", "IBinder", "token", "=", "appThread", ".", "asBinder", "(", ")", ";", "Method", "attach", "=", "service", ".", "getClass", "(", ")", ".", "getMethod", "(", "\"", "<STR_LIT>", "\"", ",", "Context", ".", "class", ",", "ActivityThread", ".", "class", ",", "String", ".", "class", ",", "IBinder", ".", "class", ",", "Application", ".", "class", ",", "Object", ".", "class", ")", ";", "IActivityManager", "am", "=", "mPluginManager", ".", "getActivityManager", "(", ")", ";", "attach", ".", "invoke", "(", "service", ",", "plugin", ".", "getPluginContext", "(", ")", ",", "mainThread", ",", "component", ".", "getClassName", "(", ")", ",", "token", ",", "app", ",", "am", ")", ";", "service", ".", "onCreate", "(", ")", ";", "this", ".", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "rememberService", "(", "component", ",", "service", ")", ";", "}", "catch", "(", "Throwable", "t", ")", "{", "t", ".", "printStackTrace", "(", ")", ";", "}", "}", "try", "{", "IBinder", "binder", "=", "service", ".", "onBind", "(", "target", ")", ";", "IBinder", "serviceConnection", "=", "PluginUtil", ".", "getBinder", "(", "intent", ".", "getExtras", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "IServiceConnection", "iServiceConnection", "=", "IServiceConnection", ".", "Stub", ".", "asInterface", "(", "serviceConnection", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "ReflectUtil", ".", "invokeNoException", "(", "IServiceConnection", ".", "class", ",", "iServiceConnection", ",", "\"", "<STR_LIT>", "\"", ",", "new", "Class", "[", "]", "{", "ComponentName", ".", "class", ",", "IBinder", ".", "class", ",", "boolean", ".", "class", "}", ",", "new", "Object", "[", "]", "{", "component", ",", "binder", ",", "false", "}", ")", ";", "}", "else", "{", "iServiceConnection", ".", "connected", "(", "component", ",", "binder", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "}", "case", "EXTRA_COMMAND_STOP_SERVICE", ":", "{", "Service", "service", "=", "this", ".", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "forgetService", "(", "component", ")", ";", "if", "(", "null", "!", "=", "service", ")", "{", "try", "{", "service", ".", "onDestroy", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "service", "+", "\"", "<STR_LIT>", "\"", "+", "e", ".", "toString", "(", ")", ")", ";", "}", "}", "else", "{", "Log", ".", "i", "(", "TAG", ",", "component", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "break", ";", "}", "case", "EXTRA_COMMAND_UNBIND_SERVICE", ":", "{", "Service", "service", "=", "this", ".", "mPluginManager", ".", "getComponentsHandler", "(", ")", ".", "forgetService", "(", "component", ")", ";", "if", "(", "null", "!", "=", "service", ")", "{", "try", "{", "service", ".", "onUnbind", "(", "target", ")", ";", "service", ".", "onDestroy", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "service", "+", "\"", "<STR_LIT>", "\"", "+", "e", ".", "toString", "(", ")", ")", ";", "}", "}", "else", "{", "Log", ".", "i", "(", "TAG", ",", "component", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "break", ";", "}", "}", "return", "START_STICKY", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onCreate", "(", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "Thread", ".", "currentThread", "(", ")", ".", "getName", "(", ")", ")", ";", "return", "true", ";", "}", "</s>"]
["<s>", "private", "ContentProvider", "getContentProvider", "(", "final", "Uri", "uri", ")", "{", "final", "PluginManager", "pluginManager", "=", "PluginManager", ".", "getInstance", "(", "getContext", "(", ")", ")", ";", "Uri", "pluginUri", "=", "Uri", ".", "parse", "(", "uri", ".", "getQueryParameter", "(", "KEY_URI", ")", ")", ";", "final", "String", "auth", "=", "pluginUri", ".", "getAuthority", "(", ")", ";", "ContentProvider", "cachedProvider", "=", "sCachedProviders", ".", "get", "(", "auth", ")", ";", "if", "(", "cachedProvider", "!", "=", "null", ")", "{", "return", "cachedProvider", ";", "}", "synchronized", "(", "sCachedProviders", ")", "{", "LoadedPlugin", "plugin", "=", "pluginManager", ".", "getLoadedPlugin", "(", "uri", ".", "getQueryParameter", "(", "KEY_PKG", ")", ")", ";", "if", "(", "plugin", "=", "=", "null", ")", "{", "try", "{", "pluginManager", ".", "loadPlugin", "(", "new", "File", "(", "uri", ".", "getQueryParameter", "(", "KEY_PLUGIN", ")", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "final", "ProviderInfo", "providerInfo", "=", "pluginManager", ".", "resolveContentProvider", "(", "auth", ",", "0", ")", ";", "if", "(", "providerInfo", "!", "=", "null", ")", "{", "RunUtil", ".", "runOnUiThread", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "try", "{", "LoadedPlugin", "loadedPlugin", "=", "pluginManager", ".", "getLoadedPlugin", "(", "uri", ".", "getQueryParameter", "(", "KEY_PKG", ")", ")", ";", "ContentProvider", "contentProvider", "=", "(", "ContentProvider", ")", "Class", ".", "forName", "(", "providerInfo", ".", "name", ")", ".", "newInstance", "(", ")", ";", "contentProvider", ".", "attachInfo", "(", "loadedPlugin", ".", "getPluginContext", "(", ")", ",", "providerInfo", ")", ";", "sCachedProviders", ".", "put", "(", "auth", ",", "contentProvider", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", ",", "true", ")", ";", "return", "sCachedProviders", ".", "get", "(", "auth", ")", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "try", "{", "LoadedPlugin", "loadedPlugin", "=", "pluginManager", ".", "getLoadedPlugin", "(", "uri", ".", "getQueryParameter", "(", "KEY_PKG", ")", ")", ";", "ContentProvider", "contentProvider", "=", "(", "ContentProvider", ")", "Class", ".", "forName", "(", "providerInfo", ".", "name", ")", ".", "newInstance", "(", ")", ";", "contentProvider", ".", "attachInfo", "(", "loadedPlugin", ".", "getPluginContext", "(", ")", ",", "providerInfo", ")", ";", "sCachedProviders", ".", "put", "(", "auth", ",", "contentProvider", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getType", "(", "Uri", "uri", ")", "{", "ContentProvider", "provider", "=", "getContentProvider", "(", "uri", ")", ";", "Uri", "pluginUri", "=", "Uri", ".", "parse", "(", "uri", ".", "getQueryParameter", "(", "KEY_URI", ")", ")", ";", "if", "(", "provider", "!", "=", "null", ")", "{", "return", "provider", ".", "getType", "(", "pluginUri", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Cursor", "query", "(", "Uri", "uri", ",", "String", "[", "]", "projection", ",", "String", "selection", ",", "String", "[", "]", "selectionArgs", ",", "String", "sortOrder", ")", "{", "ContentProvider", "provider", "=", "getContentProvider", "(", "uri", ")", ";", "Uri", "pluginUri", "=", "Uri", ".", "parse", "(", "uri", ".", "getQueryParameter", "(", "KEY_URI", ")", ")", ";", "if", "(", "provider", "!", "=", "null", ")", "{", "return", "provider", ".", "query", "(", "pluginUri", ",", "projection", ",", "selection", ",", "selectionArgs", ",", "sortOrder", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Uri", "insert", "(", "Uri", "uri", ",", "ContentValues", "values", ")", "{", "ContentProvider", "provider", "=", "getContentProvider", "(", "uri", ")", ";", "Uri", "pluginUri", "=", "Uri", ".", "parse", "(", "uri", ".", "getQueryParameter", "(", "KEY_URI", ")", ")", ";", "if", "(", "provider", "!", "=", "null", ")", "{", "return", "provider", ".", "insert", "(", "pluginUri", ",", "values", ")", ";", "}", "return", "uri", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "delete", "(", "Uri", "uri", ",", "String", "selection", ",", "String", "[", "]", "selectionArgs", ")", "{", "ContentProvider", "provider", "=", "getContentProvider", "(", "uri", ")", ";", "Uri", "pluginUri", "=", "Uri", ".", "parse", "(", "uri", ".", "getQueryParameter", "(", "KEY_URI", ")", ")", ";", "if", "(", "provider", "!", "=", "null", ")", "{", "return", "provider", ".", "delete", "(", "pluginUri", ",", "selection", ",", "selectionArgs", ")", ";", "}", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "update", "(", "Uri", "uri", ",", "ContentValues", "values", ",", "String", "selection", ",", "String", "[", "]", "selectionArgs", ")", "{", "ContentProvider", "provider", "=", "getContentProvider", "(", "uri", ")", ";", "Uri", "pluginUri", "=", "Uri", ".", "parse", "(", "uri", ".", "getQueryParameter", "(", "KEY_URI", ")", ")", ";", "if", "(", "provider", "!", "=", "null", ")", "{", "return", "provider", ".", "update", "(", "pluginUri", ",", "values", ",", "selection", ",", "selectionArgs", ")", ";", "}", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "bulkInsert", "(", "Uri", "uri", ",", "ContentValues", "[", "]", "values", ")", "{", "ContentProvider", "provider", "=", "getContentProvider", "(", "uri", ")", ";", "Uri", "pluginUri", "=", "Uri", ".", "parse", "(", "uri", ".", "getQueryParameter", "(", "KEY_URI", ")", ")", ";", "if", "(", "provider", "!", "=", "null", ")", "{", "return", "provider", ".", "bulkInsert", "(", "pluginUri", ",", "values", ")", ";", "}", "return", "0", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "ContentProviderResult", "[", "]", "applyBatch", "(", "ArrayList", "<", "ContentProviderOperation", ">", "operations", ")", "throws", "OperationApplicationException", "{", "try", "{", "Field", "uriField", "=", "ContentProviderOperation", ".", "class", ".", "getDeclaredField", "(", "\"", "<STR_LIT>", "\"", ")", ";", "uriField", ".", "setAccessible", "(", "true", ")", ";", "for", "(", "ContentProviderOperation", "operation", ":", "operations", ")", "{", "Uri", "pluginUri", "=", "Uri", ".", "parse", "(", "operation", ".", "getUri", "(", ")", ".", "getQueryParameter", "(", "KEY_URI", ")", ")", ";", "uriField", ".", "set", "(", "operation", ",", "pluginUri", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "return", "new", "ContentProviderResult", "[", "0", "]", ";", "}", "if", "(", "operations", ".", "size", "(", ")", ">", "0", ")", "{", "ContentProvider", "provider", "=", "getContentProvider", "(", "operations", ".", "get", "(", "0", ")", ".", "getUri", "(", ")", ")", ";", "if", "(", "provider", "!", "=", "null", ")", "{", "return", "provider", ".", "applyBatch", "(", "operations", ")", ";", "}", "}", "return", "new", "ContentProviderResult", "[", "0", "]", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Bundle", "call", "(", "String", "method", ",", "String", "arg", ",", "Bundle", "extras", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "method", "+", "\"", "<STR_LIT>", "\"", "+", "extras", ")", ";", "if", "(", "extras", "=", "=", "null", "|", "|", "extras", ".", "getString", "(", "KEY_WRAPPER_URI", ")", "=", "=", "null", ")", "{", "return", "null", ";", "}", "Uri", "uri", "=", "Uri", ".", "parse", "(", "extras", ".", "getString", "(", "KEY_WRAPPER_URI", ")", ")", ";", "ContentProvider", "provider", "=", "getContentProvider", "(", "uri", ")", ";", "if", "(", "provider", "!", "=", "null", ")", "{", "return", "provider", ".", "call", "(", "method", ",", "arg", ",", "extras", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "verifyZip", "(", "Context", "context", ",", "String", "zipPath", ")", "{", "try", "{", "CertificateFactory", "certificateFactory", "=", "CertificateFactory", ".", "getInstance", "(", "\"", "<STR_LIT>", "\"", ")", ";", "InputStream", "in", "=", "context", ".", "getAssets", "(", ")", ".", "open", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Certificate", "certificate", "=", "certificateFactory", ".", "generateCertificate", "(", "in", ")", ";", "in", ".", "close", "(", ")", ";", "return", "verifyZip", "(", "zipPath", ",", "certificate", ")", ";", "}", "catch", "(", "IOException", "|", "CertificateException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "false", ";", "}", "}", "</s>"]
["<s>", "public", "static", "boolean", "verifyZip", "(", "String", "zipPath", ",", "Certificate", "remoteCertificate", ")", "{", "try", "{", "String", "certPath", "=", "checkZipFileForCertificate", "(", "zipPath", ")", ";", "Certificate", "certificate", "=", "getCertificateFromZip", "(", "zipPath", ",", "certPath", ")", ";", "remoteCertificate", ".", "verify", "(", "certificate", ".", "getPublicKey", "(", ")", ")", ";", "return", "true", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "false", ";", "}", "}", "</s>"]
["<s>", "public", "static", "Certificate", "getCertificateFromZip", "(", "String", "zipPath", ",", "String", "certPath", ")", "throws", "Exception", "{", "CertificateFactory", "certificateFactory", "=", "CertificateFactory", ".", "getInstance", "(", "\"", "<STR_LIT>", "\"", ")", ";", "ZipFile", "zip", "=", "new", "ZipFile", "(", "new", "File", "(", "zipPath", ")", ")", ";", "InputStream", "in", "=", "zip", ".", "getInputStream", "(", "zip", ".", "getEntry", "(", "certPath", ")", ")", ";", "Certificate", "certificate", "=", "certificateFactory", ".", "generateCertificates", "(", "in", ")", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "in", ".", "close", "(", ")", ";", "zip", ".", "close", "(", ")", ";", "return", "certificate", ";", "}", "</s>"]
["<s>", "public", "static", "String", "checkZipFileForCertificate", "(", "String", "zipPath", ")", "throws", "IOException", "{", "String", "certPath", "=", "\"", "\"", ";", "ZipFile", "zip", "=", "new", "ZipFile", "(", "new", "File", "(", "zipPath", ")", ")", ";", "InputStream", "is", "=", "zip", ".", "getInputStream", "(", "zip", ".", "getEntry", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "Manifest", "man", "=", "new", "Manifest", "(", "is", ")", ";", "is", ".", "close", "(", ")", ";", "Set", "<", "String", ">", "signed", "=", "new", "HashSet", "(", ")", ";", "for", "(", "Map", ".", "Entry", "<", "String", ",", "Attributes", ">", "entry", ":", "man", ".", "getEntries", "(", ")", ".", "entrySet", "(", ")", ")", "{", "for", "(", "Object", "attrkey", ":", "entry", ".", "getValue", "(", ")", ".", "keySet", "(", ")", ")", "{", "if", "(", "attrkey", "instanceof", "Attributes", ".", "Name", "&", "&", "(", "(", "Attributes", ".", "Name", ")", "attrkey", ")", ".", "toString", "(", ")", ".", "indexOf", "(", "\"", "<STR_LIT>", "\"", ")", "!", "=", "-", "1", ")", "signed", ".", "add", "(", "entry", ".", "getKey", "(", ")", ")", ";", "}", "}", "Set", "<", "String", ">", "entries", "=", "new", "HashSet", "<", "String", ">", "(", ")", ";", "for", "(", "Enumeration", "<", "ZipEntry", ">", "entry", "=", "(", "Enumeration", "<", "ZipEntry", ">", ")", "zip", ".", "entries", "(", ")", ";", "entry", ".", "hasMoreElements", "(", ")", ";", ")", "{", "ZipEntry", "ze", "=", "entry", ".", "nextElement", "(", ")", ";", "if", "(", "!", "ze", ".", "isDirectory", "(", ")", ")", "{", "String", "name", "=", "ze", ".", "getName", "(", ")", ";", "if", "(", "!", "name", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "entries", ".", "add", "(", "name", ")", ";", "}", "else", "if", "(", "name", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "name", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "certPath", "=", "name", ";", "}", "}", "}", "Set", "<", "String", ">", "unsigned", "=", "new", "HashSet", "<", "String", ">", "(", "entries", ")", ";", "unsigned", ".", "removeAll", "(", "signed", ")", ";", "Set", "<", "String", ">", "missing", "=", "new", "HashSet", "<", "String", ">", "(", "signed", ")", ";", "missing", ".", "removeAll", "(", "entries", ")", ";", "zip", ".", "close", "(", ")", ";", "if", "(", "unsigned", ".", "isEmpty", "(", ")", "&", "&", "missing", ".", "isEmpty", "(", ")", ")", "{", "return", "certPath", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "static", "Certificate", "getCertificate", "(", "String", "certificatePath", ")", "throws", "Exception", "{", "CertificateFactory", "certificateFactory", "=", "CertificateFactory", ".", "getInstance", "(", "\"", "<STR_LIT>", "\"", ")", ";", "FileInputStream", "in", "=", "new", "FileInputStream", "(", "certificatePath", ")", ";", "Certificate", "certificate", "=", "certificateFactory", ".", "generateCertificate", "(", "in", ")", ";", "in", ".", "close", "(", ")", ";", "return", "certificate", ";", "}", "</s>"]
["<s>", "private", "static", "byte", "[", "]", "decode", "(", "String", "base64", ")", "throws", "Exception", "{", "return", "Base64", ".", "decode", "(", "base64", ".", "getBytes", "(", ")", ",", "Base64", ".", "DEFAULT", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "runOnUiThread", "(", "Runnable", "runnable", ")", "{", "runOnUiThread", "(", "runnable", ",", "false", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "runOnUiThread", "(", "Runnable", "runnable", ",", "boolean", "waitUtilDone", ")", "{", "if", "(", "Looper", ".", "myLooper", "(", ")", "=", "=", "Looper", ".", "getMainLooper", "(", ")", ")", "{", "runnable", ".", "run", "(", ")", ";", "return", ";", "}", "CountDownLatch", "countDownLatch", "=", "null", ";", "if", "(", "waitUtilDone", ")", "{", "countDownLatch", "=", "new", "CountDownLatch", "(", "1", ")", ";", "}", "Pair", "<", "Runnable", ",", "CountDownLatch", ">", "pair", "=", "new", "Pair", "<", ">", "(", "runnable", ",", "countDownLatch", ")", ";", "getHandler", "(", ")", ".", "obtainMessage", "(", "MESSAGE_RUN_ON_UITHREAD", ",", "pair", ")", ".", "sendToTarget", "(", ")", ";", "if", "(", "waitUtilDone", ")", "{", "try", "{", "countDownLatch", ".", "await", "(", ")", ";", "}", "catch", "(", "InterruptedException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "static", "Executor", "getThreadPool", "(", ")", "{", "return", "AsyncTask", ".", "THREAD_POOL_EXECUTOR", ";", "}", "</s>"]
["<s>", "public", "static", "String", "getProcessNameByPid", "(", "Context", "context", ",", "int", "pid", ")", "{", "ActivityManager", "manager", "=", "(", "ActivityManager", ")", "context", ".", "getSystemService", "(", "Context", ".", "ACTIVITY_SERVICE", ")", ";", "List", "<", "ActivityManager", ".", "RunningAppProcessInfo", ">", "appProcessList", "=", "manager", ".", "getRunningAppProcesses", "(", ")", ";", "if", "(", "appProcessList", "!", "=", "null", ")", "{", "for", "(", "ActivityManager", ".", "RunningAppProcessInfo", "appProcessInfo", ":", "appProcessList", ")", "{", "if", "(", "pid", "=", "=", "appProcessInfo", ".", "pid", ")", "{", "return", "appProcessInfo", ".", "processName", ";", "}", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isMainProcess", "(", "Context", "context", ")", "{", "String", "processName", "=", "getProcessNameByPid", "(", "context", ",", "Process", ".", "myPid", "(", ")", ")", ";", "if", "(", "context", ".", "getPackageName", "(", ")", ".", "equals", "(", "processName", ")", ")", "{", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "private", "static", "Handler", "getHandler", "(", ")", "{", "synchronized", "(", "RunUtil", ".", "class", ")", "{", "if", "(", "sHandler", "=", "=", "null", ")", "{", "sHandler", "=", "new", "InternalHandler", "(", ")", ";", "}", "return", "sHandler", ";", "}", "}", "</s>"]
["<s>", "public", "InternalHandler", "(", ")", "{", "super", "(", "Looper", ".", "getMainLooper", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "handleMessage", "(", "Message", "msg", ")", "{", "if", "(", "msg", ".", "what", "=", "=", "MESSAGE_RUN_ON_UITHREAD", ")", "{", "Pair", "<", "Runnable", ",", "CountDownLatch", ">", "pair", "=", "(", "Pair", "<", "Runnable", ",", "CountDownLatch", ">", ")", "msg", ".", "obj", ";", "Runnable", "runnable", "=", "pair", ".", "first", ";", "runnable", ".", "run", "(", ")", ";", "if", "(", "pair", ".", "second", "!", "=", "null", ")", "{", "pair", ".", "second", ".", "countDown", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "static", "String", "getTargetActivity", "(", "Intent", "intent", ")", "{", "return", "intent", ".", "getStringExtra", "(", "Constants", ".", "KEY_TARGET_ACTIVITY", ")", ";", "}", "</s>"]
["<s>", "public", "static", "ComponentName", "getComponent", "(", "Intent", "intent", ")", "{", "return", "new", "ComponentName", "(", "intent", ".", "getStringExtra", "(", "Constants", ".", "KEY_TARGET_PACKAGE", ")", ",", "intent", ".", "getStringExtra", "(", "Constants", ".", "KEY_TARGET_ACTIVITY", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isIntentFromPlugin", "(", "Intent", "intent", ")", "{", "return", "intent", ".", "getBooleanExtra", "(", "Constants", ".", "KEY_IS_PLUGIN", ",", "false", ")", ";", "}", "</s>"]
["<s>", "public", "static", "int", "getTheme", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "return", "PluginUtil", ".", "getTheme", "(", "context", ",", "PluginUtil", ".", "getComponent", "(", "intent", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "int", "getTheme", "(", "Context", "context", ",", "ComponentName", "component", ")", "{", "LoadedPlugin", "loadedPlugin", "=", "PluginManager", ".", "getInstance", "(", "context", ")", ".", "getLoadedPlugin", "(", "component", ")", ";", "if", "(", "null", "=", "=", "loadedPlugin", ")", "{", "return", "0", ";", "}", "ActivityInfo", "info", "=", "loadedPlugin", ".", "getActivityInfo", "(", "component", ")", ";", "if", "(", "null", "=", "=", "info", ")", "{", "return", "0", ";", "}", "if", "(", "0", "!", "=", "info", ".", "theme", ")", "{", "return", "info", ".", "theme", ";", "}", "ApplicationInfo", "appInfo", "=", "info", ".", "applicationInfo", ";", "if", "(", "null", "!", "=", "appInfo", "&", "&", "appInfo", ".", "theme", "!", "=", "0", ")", "{", "return", "appInfo", ".", "theme", ";", "}", "return", "PluginUtil", ".", "selectDefaultTheme", "(", "0", ",", "Build", ".", "VERSION", ".", "SDK_INT", ")", ";", "}", "</s>"]
["<s>", "public", "static", "int", "selectDefaultTheme", "(", "final", "int", "curTheme", ",", "final", "int", "targetSdkVersion", ")", "{", "return", "selectSystemTheme", "(", "curTheme", ",", "targetSdkVersion", ",", "android", ".", "R", ".", "style", ".", "Theme", ",", "android", ".", "R", ".", "style", ".", "Theme_Holo", ",", "android", ".", "R", ".", "style", ".", "Theme_DeviceDefault", ",", "android", ".", "R", ".", "style", ".", "Theme_DeviceDefault_Light_DarkActionBar", ")", ";", "}", "</s>"]
["<s>", "private", "static", "int", "selectSystemTheme", "(", "final", "int", "curTheme", ",", "final", "int", "targetSdkVersion", ",", "final", "int", "orig", ",", "final", "int", "holo", ",", "final", "int", "dark", ",", "final", "int", "deviceDefault", ")", "{", "if", "(", "curTheme", "!", "=", "0", ")", "{", "return", "curTheme", ";", "}", "if", "(", "targetSdkVersion", "<", "<NUM_LIT:11>", ")", "{", "return", "orig", ";", "}", "if", "(", "targetSdkVersion", "<", "<NUM_LIT>", ")", "{", "return", "holo", ";", "}", "if", "(", "targetSdkVersion", "<", "<NUM_LIT:24>", ")", "{", "return", "dark", ";", "}", "return", "deviceDefault", ";", "}", "</s>"]
["<s>", "public", "static", "void", "hookActivityResources", "(", "Activity", "activity", ",", "String", "packageName", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", "&", "&", "isVivo", "(", "activity", ".", "getResources", "(", ")", ")", ")", "{", "return", ";", "}", "try", "{", "Context", "base", "=", "activity", ".", "getBaseContext", "(", ")", ";", "final", "LoadedPlugin", "plugin", "=", "PluginManager", ".", "getInstance", "(", "activity", ")", ".", "getLoadedPlugin", "(", "packageName", ")", ";", "final", "Resources", "resources", "=", "plugin", ".", "getResources", "(", ")", ";", "if", "(", "resources", "!", "=", "null", ")", "{", "ReflectUtil", ".", "setField", "(", "base", ".", "getClass", "(", ")", ",", "base", ",", "\"", "<STR_LIT>", "\"", ",", "resources", ")", ";", "Resources", ".", "Theme", "theme", "=", "resources", ".", "newTheme", "(", ")", ";", "theme", ".", "setTo", "(", "activity", ".", "getTheme", "(", ")", ")", ";", "int", "themeResource", "=", "(", "int", ")", "ReflectUtil", ".", "getField", "(", "ContextThemeWrapper", ".", "class", ",", "activity", ",", "\"", "<STR_LIT>", "\"", ")", ";", "theme", ".", "applyStyle", "(", "themeResource", ",", "true", ")", ";", "ReflectUtil", ".", "setField", "(", "ContextThemeWrapper", ".", "class", ",", "activity", ",", "\"", "<STR_LIT>", "\"", ",", "theme", ")", ";", "ReflectUtil", ".", "setField", "(", "ContextThemeWrapper", ".", "class", ",", "activity", ",", "\"", "<STR_LIT>", "\"", ",", "resources", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "final", "boolean", "isLocalService", "(", "final", "ServiceInfo", "serviceInfo", ")", "{", "return", "TextUtils", ".", "isEmpty", "(", "serviceInfo", ".", "processName", ")", "|", "|", "serviceInfo", ".", "applicationInfo", ".", "packageName", ".", "equals", "(", "serviceInfo", ".", "processName", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isVivo", "(", "Resources", "resources", ")", "{", "return", "resources", ".", "getClass", "(", ")", ".", "getName", "(", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "putBinder", "(", "Bundle", "bundle", ",", "String", "key", ",", "IBinder", "value", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "{", "bundle", ".", "putBinder", "(", "key", ",", "value", ")", ";", "}", "else", "{", "try", "{", "ReflectUtil", ".", "invoke", "(", "Bundle", ".", "class", ",", "bundle", ",", "\"", "<STR_LIT>", "\"", ",", "new", "Class", "[", "]", "{", "String", ".", "class", ",", "IBinder", ".", "class", "}", ",", "key", ",", "value", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "}", "}", "}", "</s>"]
["<s>", "public", "static", "IBinder", "getBinder", "(", "Bundle", "bundle", ",", "String", "key", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "{", "return", "bundle", ".", "getBinder", "(", "key", ")", ";", "}", "else", "{", "try", "{", "return", "(", "IBinder", ")", "ReflectUtil", ".", "invoke", "(", "Bundle", ".", "class", ",", "bundle", ",", "\"", "<STR_LIT>", "\"", ",", "key", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "}", "return", "null", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "copyNativeLib", "(", "File", "apk", ",", "Context", "context", ",", "PackageInfo", "packageInfo", ",", "File", "nativeLibDir", ")", "throws", "Exception", "{", "long", "startTime", "=", "System", ".", "currentTimeMillis", "(", ")", ";", "ZipFile", "zipfile", "=", "new", "ZipFile", "(", "apk", ".", "getAbsolutePath", "(", ")", ")", ";", "try", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "for", "(", "String", "cpuArch", ":", "Build", ".", "SUPPORTED_ABIS", ")", "{", "if", "(", "findAndCopyNativeLib", "(", "zipfile", ",", "context", ",", "cpuArch", ",", "packageInfo", ",", "nativeLibDir", ")", ")", "{", "return", ";", "}", "}", "}", "else", "{", "if", "(", "findAndCopyNativeLib", "(", "zipfile", ",", "context", ",", "Build", ".", "CPU_ABI", ",", "packageInfo", ",", "nativeLibDir", ")", ")", "{", "return", ";", "}", "}", "findAndCopyNativeLib", "(", "zipfile", ",", "context", ",", "\"", "<STR_LIT>", "\"", ",", "packageInfo", ",", "nativeLibDir", ")", ";", "}", "finally", "{", "zipfile", ".", "close", "(", ")", ";", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "(", "System", ".", "currentTimeMillis", "(", ")", "-", "startTime", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "boolean", "findAndCopyNativeLib", "(", "ZipFile", "zipfile", ",", "Context", "context", ",", "String", "cpuArch", ",", "PackageInfo", "packageInfo", ",", "File", "nativeLibDir", ")", "throws", "Exception", "{", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "cpuArch", ")", ";", "boolean", "findLib", "=", "false", ";", "boolean", "findSo", "=", "false", ";", "byte", "buffer", "[", "]", "=", "null", ";", "String", "libPrefix", "=", "\"", "<STR_LIT:/>", "\"", "+", "cpuArch", "+", "\"", "<STR_LIT:/>", "\"", ";", "ZipEntry", "entry", ";", "Enumeration", "e", "=", "zipfile", ".", "entries", "(", ")", ";", "while", "(", "e", ".", "hasMoreElements", "(", ")", ")", "{", "entry", "=", "(", "ZipEntry", ")", "e", ".", "nextElement", "(", ")", ";", "String", "entryName", "=", "entry", ".", "getName", "(", ")", ";", "if", "(", "entryName", ".", "charAt", "(", "0", ")", "<", "<CHAR_LIT>", ")", "{", "continue", ";", "}", "if", "(", "entryName", ".", "charAt", "(", "0", ")", ">", "<CHAR_LIT>", ")", "{", "break", ";", "}", "if", "(", "!", "findLib", "&", "&", "!", "entryName", ".", "startsWith", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "{", "continue", ";", "}", "findLib", "=", "true", ";", "if", "(", "!", "entryName", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "!", "entryName", ".", "startsWith", "(", "libPrefix", ")", ")", "{", "continue", ";", "}", "if", "(", "buffer", "=", "=", "null", ")", "{", "findSo", "=", "true", ";", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "cpuArch", ")", ";", "buffer", "=", "new", "byte", "[", "<NUM_LIT>", "]", ";", "}", "String", "libName", "=", "entryName", ".", "substring", "(", "entryName", ".", "lastIndexOf", "(", "<CHAR_LIT:/>", ")", "+", "1", ")", ";", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "libName", ")", ";", "File", "libFile", "=", "new", "File", "(", "nativeLibDir", ",", "libName", ")", ";", "String", "key", "=", "packageInfo", ".", "packageName", "+", "\"", "<STR_LIT:_>", "\"", "+", "libName", ";", "if", "(", "libFile", ".", "exists", "(", ")", ")", "{", "int", "VersionCode", "=", "Settings", ".", "getSoVersion", "(", "context", ",", "key", ")", ";", "if", "(", "VersionCode", "=", "=", "packageInfo", ".", "versionCode", ")", "{", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "entry", ".", "getName", "(", ")", ")", ";", "continue", ";", "}", "}", "FileOutputStream", "fos", "=", "new", "FileOutputStream", "(", "libFile", ")", ";", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "entry", ".", "getName", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "cpuArch", ")", ";", "copySo", "(", "buffer", ",", "zipfile", ".", "getInputStream", "(", "entry", ")", ",", "fos", ")", ";", "Settings", ".", "setSoVersion", "(", "context", ",", "key", ",", "packageInfo", ".", "versionCode", ")", ";", "}", "if", "(", "!", "findLib", ")", "{", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "return", "true", ";", "}", "return", "findSo", ";", "}", "</s>"]
["<s>", "private", "static", "void", "copySo", "(", "byte", "[", "]", "buffer", ",", "InputStream", "input", ",", "OutputStream", "output", ")", "throws", "IOException", "{", "BufferedInputStream", "bufferedInput", "=", "new", "BufferedInputStream", "(", "input", ")", ";", "BufferedOutputStream", "bufferedOutput", "=", "new", "BufferedOutputStream", "(", "output", ")", ";", "int", "count", ";", "while", "(", "(", "count", "=", "bufferedInput", ".", "read", "(", "buffer", ")", ")", ">", "0", ")", "{", "bufferedOutput", ".", "write", "(", "buffer", ",", "0", ",", "count", ")", ";", "}", "bufferedOutput", ".", "flush", "(", ")", ";", "bufferedOutput", ".", "close", "(", ")", ";", "output", ".", "close", "(", ")", ";", "bufferedInput", ".", "close", "(", ")", ";", "input", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "PackageParser", ".", "Package", "parsePackage", "(", "final", "Context", "context", ",", "final", "File", "apk", ",", "final", "int", "flags", ")", "throws", "PackageParser", ".", "PackageParserException", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT:24>", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "PREVIEW_SDK_INT", "=", "=", "0", ")", "{", "return", "PackageParserV24", ".", "parsePackage", "(", "context", ",", "apk", ",", "flags", ")", ";", "}", "else", "{", "return", "PackageParserPPreview", ".", "parsePackage", "(", "context", ",", "apk", ",", "flags", ")", ";", "}", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "return", "PackageParserLollipop", ".", "parsePackage", "(", "context", ",", "apk", ",", "flags", ")", ";", "}", "else", "{", "return", "PackageParserLegacy", ".", "parsePackage", "(", "context", ",", "apk", ",", "flags", ")", ";", "}", "}", "</s>"]
["<s>", "static", "final", "PackageParser", ".", "Package", "parsePackage", "(", "Context", "context", ",", "File", "apk", ",", "int", "flags", ")", "throws", "PackageParser", ".", "PackageParserException", "{", "PackageParser", "parser", "=", "new", "PackageParser", "(", ")", ";", "PackageParser", ".", "Package", "pkg", "=", "parser", ".", "parsePackage", "(", "apk", ",", "flags", ")", ";", "ReflectUtil", ".", "invokeNoException", "(", "PackageParser", ".", "class", ",", "null", ",", "\"", "<STR_LIT>", "\"", ",", "new", "Class", "[", "]", "{", "PackageParser", ".", "Package", ".", "class", ",", "boolean", ".", "class", "}", ",", "pkg", ",", "false", ")", ";", "return", "pkg", ";", "}", "</s>"]
["<s>", "static", "final", "PackageParser", ".", "Package", "parsePackage", "(", "Context", "context", ",", "File", "apk", ",", "int", "flags", ")", "throws", "PackageParser", ".", "PackageParserException", "{", "PackageParser", "parser", "=", "new", "PackageParser", "(", ")", ";", "PackageParser", ".", "Package", "pkg", "=", "parser", ".", "parsePackage", "(", "apk", ",", "flags", ")", ";", "ReflectUtil", ".", "invokeNoException", "(", "PackageParser", ".", "class", ",", "null", ",", "\"", "<STR_LIT>", "\"", ",", "new", "Class", "[", "]", "{", "PackageParser", ".", "Package", ".", "class", ",", "int", ".", "class", "}", ",", "pkg", ",", "flags", ")", ";", "return", "pkg", ";", "}", "</s>"]
["<s>", "static", "final", "PackageParser", ".", "Package", "parsePackage", "(", "final", "Context", "context", ",", "final", "File", "apk", ",", "final", "int", "flags", ")", "throws", "PackageParser", ".", "PackageParserException", "{", "PackageParser", "parser", "=", "new", "PackageParser", "(", ")", ";", "PackageParser", ".", "Package", "pkg", "=", "parser", ".", "parsePackage", "(", "apk", ",", "flags", ")", ";", "try", "{", "parser", ".", "collectCertificates", "(", "pkg", ",", "flags", ")", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "}", "return", "pkg", ";", "}", "</s>"]
["<s>", "static", "final", "PackageParser", ".", "Package", "parsePackage", "(", "Context", "context", ",", "File", "apk", ",", "int", "flags", ")", "{", "PackageParser", "parser", "=", "new", "PackageParser", "(", "apk", ".", "getAbsolutePath", "(", ")", ")", ";", "PackageParser", ".", "Package", "pkg", "=", "parser", ".", "parsePackage", "(", "apk", ",", "apk", ".", "getAbsolutePath", "(", ")", ",", "context", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ",", "flags", ")", ";", "ReflectUtil", ".", "invokeNoException", "(", "PackageParser", ".", "class", ",", "parser", ",", "\"", "<STR_LIT>", "\"", ",", "new", "Class", "[", "]", "{", "PackageParser", ".", "Package", ".", "class", ",", "int", ".", "class", "}", ",", "pkg", ",", "flags", ")", ";", "return", "pkg", ";", "}", "</s>"]
["<s>", "public", "static", "Object", "getField", "(", "Class", "clazz", ",", "Object", "target", ",", "String", "name", ")", "throws", "Exception", "{", "Field", "field", "=", "clazz", ".", "getDeclaredField", "(", "name", ")", ";", "field", ".", "setAccessible", "(", "true", ")", ";", "return", "field", ".", "get", "(", "target", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Object", "getFieldNoException", "(", "Class", "clazz", ",", "Object", "target", ",", "String", "name", ")", "{", "try", "{", "return", "ReflectUtil", ".", "getField", "(", "clazz", ",", "target", ",", "name", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "static", "void", "setField", "(", "Class", "clazz", ",", "Object", "target", ",", "String", "name", ",", "Object", "value", ")", "throws", "Exception", "{", "Field", "field", "=", "clazz", ".", "getDeclaredField", "(", "name", ")", ";", "field", ".", "setAccessible", "(", "true", ")", ";", "field", ".", "set", "(", "target", ",", "value", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "setFieldNoException", "(", "Class", "clazz", ",", "Object", "target", ",", "String", "name", ",", "Object", "value", ")", "{", "try", "{", "ReflectUtil", ".", "setField", "(", "clazz", ",", "target", ",", "name", ",", "value", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "}", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "public", "static", "Object", "invoke", "(", "Class", "clazz", ",", "Object", "target", ",", "String", "name", ",", "Object", ".", ".", ".", "args", ")", "throws", "Exception", "{", "Class", "[", "]", "parameterTypes", "=", "null", ";", "if", "(", "args", "!", "=", "null", ")", "{", "parameterTypes", "=", "new", "Class", "[", "args", ".", "length", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "args", ".", "length", ";", "i", "+", "+", ")", "{", "parameterTypes", "[", "i", "]", "=", "args", "[", "i", "]", ".", "getClass", "(", ")", ";", "}", "}", "Method", "method", "=", "clazz", ".", "getDeclaredMethod", "(", "name", ",", "parameterTypes", ")", ";", "method", ".", "setAccessible", "(", "true", ")", ";", "return", "method", ".", "invoke", "(", "target", ",", "args", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "public", "static", "Object", "invoke", "(", "Class", "clazz", ",", "Object", "target", ",", "String", "name", ",", "Class", "[", "]", "parameterTypes", ",", "Object", ".", ".", ".", "args", ")", "throws", "Exception", "{", "Method", "method", "=", "clazz", ".", "getDeclaredMethod", "(", "name", ",", "parameterTypes", ")", ";", "method", ".", "setAccessible", "(", "true", ")", ";", "return", "method", ".", "invoke", "(", "target", ",", "args", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "public", "static", "Object", "invokeNoException", "(", "Class", "clazz", ",", "Object", "target", ",", "String", "name", ",", "Class", "[", "]", "parameterTypes", ",", "Object", ".", ".", ".", "args", ")", "{", "try", "{", "return", "invoke", "(", "clazz", ",", "target", ",", "name", ",", "parameterTypes", ",", "args", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "public", "static", "Object", "invokeConstructor", "(", "Class", "clazz", ",", "Class", "[", "]", "parameterTypes", ",", "Object", ".", ".", ".", "args", ")", "throws", "Exception", "{", "Constructor", "constructor", "=", "clazz", ".", "getDeclaredConstructor", "(", "parameterTypes", ")", ";", "constructor", ".", "setAccessible", "(", "true", ")", ";", "return", "constructor", ".", "newInstance", "(", "args", ")", ";", "}", "</s>"]
["<s>", "@", "UiThread", "public", "static", "Object", "getActivityThread", "(", "Context", "base", ")", "{", "if", "(", "sActivityThread", "=", "=", "null", ")", "{", "try", "{", "Class", "<", "?", ">", "activityThreadClazz", "=", "Class", ".", "forName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Object", "activityThread", "=", "null", ";", "try", "{", "activityThread", "=", "ReflectUtil", ".", "getField", "(", "activityThreadClazz", ",", "null", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "}", "if", "(", "activityThread", "=", "=", "null", ")", "{", "activityThread", "=", "(", "(", "ThreadLocal", "<", "?", ">", ")", "ReflectUtil", ".", "getField", "(", "activityThreadClazz", ",", "null", ",", "\"", "<STR_LIT>", "\"", ")", ")", ".", "get", "(", ")", ";", "}", "sActivityThread", "=", "activityThread", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "return", "sActivityThread", ";", "}", "</s>"]
["<s>", "public", "static", "Instrumentation", "getInstrumentation", "(", "Context", "base", ")", "{", "if", "(", "getActivityThread", "(", "base", ")", "!", "=", "null", ")", "{", "try", "{", "sInstrumentation", "=", "(", "Instrumentation", ")", "ReflectUtil", ".", "invoke", "(", "sActivityThread", ".", "getClass", "(", ")", ",", "sActivityThread", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "return", "sInstrumentation", ";", "}", "</s>"]
["<s>", "public", "static", "void", "setInstrumentation", "(", "Object", "activityThread", ",", "Instrumentation", "instrumentation", ")", "{", "try", "{", "ReflectUtil", ".", "setField", "(", "activityThread", ".", "getClass", "(", ")", ",", "activityThread", ",", "\"", "<STR_LIT>", "\"", ",", "instrumentation", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "Object", "getPackageInfo", "(", "Context", "base", ")", "{", "if", "(", "sLoadedApk", "=", "=", "null", ")", "{", "try", "{", "sLoadedApk", "=", "ReflectUtil", ".", "getField", "(", "base", ".", "getClass", "(", ")", ",", "base", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "return", "sLoadedApk", ";", "}", "</s>"]
["<s>", "public", "static", "void", "setHandlerCallback", "(", "Context", "base", ",", "Handler", ".", "Callback", "callback", ")", "{", "try", "{", "Object", "activityThread", "=", "getActivityThread", "(", "base", ")", ";", "Handler", "mainHandler", "=", "(", "Handler", ")", "ReflectUtil", ".", "invoke", "(", "activityThread", ".", "getClass", "(", ")", ",", "activityThread", ",", "\"", "<STR_LIT>", "\"", ",", "(", "Object", "[", "]", ")", "null", ")", ";", "ReflectUtil", ".", "setField", "(", "Handler", ".", "class", ",", "mainHandler", ",", "\"", "<STR_LIT>", "\"", ",", "callback", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "setSoVersion", "(", "Context", "context", ",", "String", "name", ",", "int", "version", ")", "{", "SharedPreferences", "preferences", "=", "context", ".", "getSharedPreferences", "(", "FILE_NAME", ",", "Context", ".", "MODE_PRIVATE", ")", ";", "SharedPreferences", ".", "Editor", "editor", "=", "preferences", ".", "edit", "(", ")", ";", "editor", ".", "putInt", "(", "name", ",", "version", ")", ";", "editor", ".", "commit", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "int", "getSoVersion", "(", "Context", "context", ",", "String", "name", ")", "{", "SharedPreferences", "preferences", "=", "context", ".", "getSharedPreferences", "(", "FILE_NAME", ",", "Context", ".", "MODE_PRIVATE", ")", ";", "return", "preferences", ".", "getInt", "(", "name", ",", "0", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "insertDex", "(", "DexClassLoader", "dexClassLoader", ")", "throws", "Exception", "{", "Object", "baseDexElements", "=", "getDexElements", "(", "getPathList", "(", "getPathClassLoader", "(", ")", ")", ")", ";", "Object", "newDexElements", "=", "getDexElements", "(", "getPathList", "(", "dexClassLoader", ")", ")", ";", "Object", "allDexElements", "=", "combineArray", "(", "baseDexElements", ",", "newDexElements", ")", ";", "Object", "pathList", "=", "getPathList", "(", "getPathClassLoader", "(", ")", ")", ";", "ReflectUtil", ".", "setField", "(", "pathList", ".", "getClass", "(", ")", ",", "pathList", ",", "\"", "<STR_LIT>", "\"", ",", "allDexElements", ")", ";", "insertNativeLibrary", "(", "dexClassLoader", ")", ";", "}", "</s>"]
["<s>", "private", "static", "PathClassLoader", "getPathClassLoader", "(", ")", "{", "PathClassLoader", "pathClassLoader", "=", "(", "PathClassLoader", ")", "DexUtil", ".", "class", ".", "getClassLoader", "(", ")", ";", "return", "pathClassLoader", ";", "}", "</s>"]
["<s>", "private", "static", "Object", "getDexElements", "(", "Object", "pathList", ")", "throws", "Exception", "{", "return", "ReflectUtil", ".", "getField", "(", "pathList", ".", "getClass", "(", ")", ",", "pathList", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "static", "Object", "getPathList", "(", "Object", "baseDexClassLoader", ")", "throws", "Exception", "{", "return", "ReflectUtil", ".", "getField", "(", "Class", ".", "forName", "(", "\"", "<STR_LIT>", "\"", ")", ",", "baseDexClassLoader", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "static", "Object", "combineArray", "(", "Object", "firstArray", ",", "Object", "secondArray", ")", "{", "Class", "<", "?", ">", "localClass", "=", "firstArray", ".", "getClass", "(", ")", ".", "getComponentType", "(", ")", ";", "int", "firstArrayLength", "=", "Array", ".", "getLength", "(", "firstArray", ")", ";", "int", "allLength", "=", "firstArrayLength", "+", "Array", ".", "getLength", "(", "secondArray", ")", ";", "Object", "result", "=", "Array", ".", "newInstance", "(", "localClass", ",", "allLength", ")", ";", "for", "(", "int", "k", "=", "0", ";", "k", "<", "allLength", ";", "+", "+", "k", ")", "{", "if", "(", "k", "<", "firstArrayLength", ")", "{", "Array", ".", "set", "(", "result", ",", "k", ",", "Array", ".", "get", "(", "firstArray", ",", "k", ")", ")", ";", "}", "else", "{", "Array", ".", "set", "(", "result", ",", "k", ",", "Array", ".", "get", "(", "secondArray", ",", "k", "-", "firstArrayLength", ")", ")", ";", "}", "}", "return", "result", ";", "}", "</s>"]
["<s>", "private", "static", "synchronized", "void", "insertNativeLibrary", "(", "DexClassLoader", "dexClassLoader", ")", "throws", "Exception", "{", "if", "(", "sHasInsertedNativeLibrary", ")", "{", "return", ";", "}", "sHasInsertedNativeLibrary", "=", "true", ";", "Object", "basePathList", "=", "getPathList", "(", "getPathClassLoader", "(", ")", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP_MR1", ")", "{", "List", "<", "File", ">", "nativeLibraryDirectories", "=", "(", "List", "<", "File", ">", ")", "ReflectUtil", ".", "getField", "(", "basePathList", ".", "getClass", "(", ")", ",", "basePathList", ",", "\"", "<STR_LIT>", "\"", ")", ";", "nativeLibraryDirectories", ".", "add", "(", "Systems", ".", "getContext", "(", ")", ".", "getDir", "(", "Constants", ".", "NATIVE_DIR", ",", "Context", ".", "MODE_PRIVATE", ")", ")", ";", "Object", "baseNativeLibraryPathElements", "=", "ReflectUtil", ".", "getField", "(", "basePathList", ".", "getClass", "(", ")", ",", "basePathList", ",", "\"", "<STR_LIT>", "\"", ")", ";", "final", "int", "baseArrayLength", "=", "Array", ".", "getLength", "(", "baseNativeLibraryPathElements", ")", ";", "Object", "newPathList", "=", "getPathList", "(", "dexClassLoader", ")", ";", "Object", "newNativeLibraryPathElements", "=", "ReflectUtil", ".", "getField", "(", "newPathList", ".", "getClass", "(", ")", ",", "newPathList", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Class", "<", "?", ">", "elementClass", "=", "newNativeLibraryPathElements", ".", "getClass", "(", ")", ".", "getComponentType", "(", ")", ";", "Object", "allNativeLibraryPathElements", "=", "Array", ".", "newInstance", "(", "elementClass", ",", "baseArrayLength", "+", "1", ")", ";", "System", ".", "arraycopy", "(", "baseNativeLibraryPathElements", ",", "0", ",", "allNativeLibraryPathElements", ",", "0", ",", "baseArrayLength", ")", ";", "Field", "soPathField", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "soPathField", "=", "elementClass", ".", "getDeclaredField", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "else", "{", "soPathField", "=", "elementClass", ".", "getDeclaredField", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "soPathField", ".", "setAccessible", "(", "true", ")", ";", "final", "int", "newArrayLength", "=", "Array", ".", "getLength", "(", "newNativeLibraryPathElements", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "newArrayLength", ";", "i", "+", "+", ")", "{", "Object", "element", "=", "Array", ".", "get", "(", "newNativeLibraryPathElements", ",", "i", ")", ";", "String", "dir", "=", "(", "(", "File", ")", "soPathField", ".", "get", "(", "element", ")", ")", ".", "getAbsolutePath", "(", ")", ";", "if", "(", "dir", ".", "contains", "(", "Constants", ".", "NATIVE_DIR", ")", ")", "{", "Array", ".", "set", "(", "allNativeLibraryPathElements", ",", "baseArrayLength", ",", "element", ")", ";", "break", ";", "}", "}", "ReflectUtil", ".", "setField", "(", "basePathList", ".", "getClass", "(", ")", ",", "basePathList", ",", "\"", "<STR_LIT>", "\"", ",", "allNativeLibraryPathElements", ")", ";", "}", "else", "{", "File", "[", "]", "nativeLibraryDirectories", "=", "(", "File", "[", "]", ")", "ReflectUtil", ".", "getFieldNoException", "(", "basePathList", ".", "getClass", "(", ")", ",", "basePathList", ",", "\"", "<STR_LIT>", "\"", ")", ";", "final", "int", "N", "=", "nativeLibraryDirectories", ".", "length", ";", "File", "[", "]", "newNativeLibraryDirectories", "=", "new", "File", "[", "N", "+", "1", "]", ";", "System", ".", "arraycopy", "(", "nativeLibraryDirectories", ",", "0", ",", "newNativeLibraryDirectories", ",", "0", ",", "N", ")", ";", "newNativeLibraryDirectories", "[", "N", "]", "=", "Systems", ".", "getContext", "(", ")", ".", "getDir", "(", "Constants", ".", "NATIVE_DIR", ",", "Context", ".", "MODE_PRIVATE", ")", ";", "ReflectUtil", ".", "setField", "(", "basePathList", ".", "getClass", "(", ")", ",", "basePathList", ",", "\"", "<STR_LIT>", "\"", ",", "newNativeLibraryDirectories", ")", ";", "}", "}", "</s>"]
