["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "{", "utilsHandler", "=", "new", "UtilsHandler", "(", "InstrumentationRegistry", ".", "getTargetContext", "(", ")", ")", ";", "utilsHandler", ".", "onCreate", "(", "utilsHandler", ".", "getWritableDatabase", "(", ")", ")", ";", "utilsHandler", ".", "getWritableDatabase", "(", ")", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testEncodeEncryptUri1", "(", ")", "{", "performTest", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testEncodeEncryptUri2", "(", ")", "{", "performTest", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testEncodeEncryptUri3", "(", ")", "{", "performTest", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testEncodeEncryptUri4", "(", ")", "{", "performTest", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "void", "performTest", "(", "@", "NonNull", "final", "String", "origPath", ")", "{", "String", "encryptedPath", "=", "SshClientUtils", ".", "encryptSshPathAsNecessary", "(", "origPath", ")", ";", "utilsHandler", ".", "addSsh", "(", "\"", "<STR_LIT:Test>", "\"", ",", "encryptedPath", ",", "\"", "<STR_LIT>", "\"", ",", "null", ",", "null", ")", ";", "List", "<", "String", "[", "]", ">", "result", "=", "utilsHandler", ".", "getSftpList", "(", ")", ";", "assertEquals", "(", "1", ",", "result", ".", "size", "(", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT:Test>", "\"", ",", "result", ".", "get", "(", "0", ")", "[", "0", "]", ")", ";", "assertEquals", "(", "origPath", ",", "result", ".", "get", "(", "0", ")", "[", "1", "]", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "utilsHandler", ".", "getSshHostKey", "(", "origPath", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testUnencryptedKeyToKeyPair", "(", ")", "throws", "InterruptedException", "{", "CountDownLatch", "waiter", "=", "new", "CountDownLatch", "(", "1", ")", ";", "PemToKeyPairTask", "task", "=", "new", "PemToKeyPairTask", "(", "unencryptedPuttyKey", ",", "result", "-", ">", "{", "assertNotNull", "(", "result", ")", ";", "assertNotNull", "(", "result", ".", "getPublic", "(", ")", ")", ";", "assertNotNull", "(", "result", ".", "getPrivate", "(", ")", ")", ";", "waiter", ".", "countDown", "(", ")", ";", "}", ")", ";", "task", ".", "execute", "(", ")", ";", "waiter", ".", "await", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testEncryptedKeyToKeyPair", "(", ")", "throws", "InterruptedException", ",", "NoSuchFieldException", ",", "IllegalAccessException", "{", "CountDownLatch", "waiter", "=", "new", "CountDownLatch", "(", "1", ")", ";", "PemToKeyPairTask", "task", "=", "new", "PemToKeyPairTask", "(", "encryptedPuttyKey", ",", "result", "-", ">", "{", "assertNotNull", "(", "result", ")", ";", "assertNotNull", "(", "result", ".", "getPublic", "(", ")", ")", ";", "assertNotNull", "(", "result", ".", "getPrivate", "(", ")", ")", ";", "waiter", ".", "countDown", "(", ")", ";", "}", ")", ";", "Field", "field", "=", "PemToKeyPairTask", ".", "class", ".", "getDeclaredField", "(", "\"", "<STR_LIT>", "\"", ")", ";", "field", ".", "setAccessible", "(", "true", ")", ";", "field", ".", "set", "(", "task", ",", "new", "PasswordFinder", "(", ")", "{", "@", "Override", "public", "char", "[", "]", "reqPassword", "(", "Resource", "<", "?", ">", "resource", ")", "{", "return", "\"", "<STR_LIT>", "\"", ".", "toCharArray", "(", ")", ";", "}", "@", "Override", "public", "boolean", "shouldRetry", "(", "Resource", "<", "?", ">", "resource", ")", "{", "return", "false", ";", "}", "}", ")", ";", "task", ".", "execute", "(", ")", ";", "waiter", ".", "await", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "char", "[", "]", "reqPassword", "(", "Resource", "<", "?", ">", "resource", ")", "{", "return", "\"", "<STR_LIT>", "\"", ".", "toCharArray", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "shouldRetry", "(", "Resource", "<", "?", ">", "resource", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetLocalInetAddressMustNotBeEmpty", "(", ")", "{", "if", "(", "!", "FtpService", ".", "isConnectedToLocalNetwork", "(", "InstrumentationRegistry", ".", "getTargetContext", "(", ")", ")", ")", "fail", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertNotNull", "(", "FtpService", ".", "getLocalInetAddress", "(", "InstrumentationRegistry", ".", "getTargetContext", "(", ")", ")", ")", ";", "assertNotNull", "(", "FtpService", ".", "getLocalInetAddress", "(", "InstrumentationRegistry", ".", "getTargetContext", "(", ")", ")", ".", "getHostAddress", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetLocalInetAddressMustBeAPAddress", "(", ")", "{", "if", "(", "!", "FtpService", ".", "isEnabledWifiHotspot", "(", "InstrumentationRegistry", ".", "getTargetContext", "(", ")", ")", ")", "fail", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "FtpService", ".", "getLocalInetAddress", "(", "InstrumentationRegistry", ".", "getTargetContext", "(", ")", ")", ".", "getHostAddress", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "throws", "ReflectiveOperationException", "{", "service", "=", "create", "(", ")", ";", "}", "</s>"]
["<s>", "@", "After", "public", "void", "shutDown", "(", ")", "{", "service", ".", "onDestroy", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testFtpService", "(", ")", "throws", "IOException", "{", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "service", ")", ".", "edit", "(", ")", ".", "putBoolean", "(", "FtpService", ".", "KEY_PREFERENCE_SECURE", ",", "false", ")", ".", "commit", "(", ")", ";", "service", ".", "onStartCommand", "(", "new", "Intent", "(", "FtpService", ".", "ACTION_START_FTPSERVER", ")", ".", "putExtra", "(", "FtpService", ".", "TAG_STARTED_BY_TILE", ",", "false", ")", ",", "0", ",", "0", ")", ";", "assertTrue", "(", "FtpService", ".", "isRunning", "(", ")", ")", ";", "waitForServer", "(", ")", ";", "FTPClient", "ftpClient", "=", "new", "FTPClient", "(", ")", ";", "loginAndVerifyWith", "(", "ftpClient", ")", ";", "testUploadWith", "(", "ftpClient", ")", ";", "testDownloadWith", "(", "ftpClient", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSecureFtpService", "(", ")", "throws", "IOException", "{", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "service", ")", ".", "edit", "(", ")", ".", "putBoolean", "(", "FtpService", ".", "KEY_PREFERENCE_SECURE", ",", "true", ")", ".", "commit", "(", ")", ";", "service", ".", "onStartCommand", "(", "new", "Intent", "(", "FtpService", ".", "ACTION_START_FTPSERVER", ")", ".", "putExtra", "(", "FtpService", ".", "TAG_STARTED_BY_TILE", ",", "false", ")", ",", "0", ",", "0", ")", ";", "assertTrue", "(", "FtpService", ".", "isRunning", "(", ")", ")", ";", "waitForServer", "(", ")", ";", "FTPSClient", "ftpClient", "=", "new", "FTPSClient", "(", "true", ")", ";", "loginAndVerifyWith", "(", "ftpClient", ")", ";", "testUploadWith", "(", "ftpClient", ")", ";", "testDownloadWith", "(", "ftpClient", ")", ";", "}", "</s>"]
["<s>", "private", "void", "loginAndVerifyWith", "(", "FTPClient", "ftpClient", ")", "throws", "IOException", "{", "ftpClient", ".", "connect", "(", "\"", "<STR_LIT>", "\"", ",", "FtpService", ".", "DEFAULT_PORT", ")", ";", "ftpClient", ".", "login", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "ftpClient", ".", "changeWorkingDirectory", "(", "\"", "<STR_LIT:/>", "\"", ")", ";", "FTPFile", "[", "]", "files", "=", "ftpClient", ".", "listFiles", "(", ")", ";", "assertNotNull", "(", "files", ")", ";", "assertTrue", "(", "\"", "<STR_LIT>", "\"", ",", "files", ".", "length", ">", "0", ")", ";", "boolean", "downloadFolderExists", "=", "false", ";", "for", "(", "FTPFile", "f", ":", "files", ")", "{", "if", "(", "f", ".", "getName", "(", ")", ".", "equalsIgnoreCase", "(", "\"", "<STR_LIT>", "\"", ")", ")", "downloadFolderExists", "=", "true", ";", "}", "ftpClient", ".", "logout", "(", ")", ";", "ftpClient", ".", "disconnect", "(", ")", ";", "assertTrue", "(", "\"", "<STR_LIT>", "\"", ",", "downloadFolderExists", ")", ";", "}", "</s>"]
["<s>", "private", "void", "testUploadWith", "(", "FTPClient", "ftpClient", ")", "throws", "IOException", "{", "byte", "[", "]", "bytes1", "=", "new", "byte", "[", "<NUM_LIT:32>", "]", ",", "bytes2", "=", "new", "byte", "[", "<NUM_LIT:32>", "]", ";", "SecureRandom", "sr", "=", "new", "SecureRandom", "(", ")", ";", "sr", ".", "setSeed", "(", "System", ".", "currentTimeMillis", "(", ")", ")", ";", "sr", ".", "nextBytes", "(", "bytes1", ")", ";", "sr", ".", "nextBytes", "(", "bytes2", ")", ";", "String", "randomString", "=", "Base64", ".", "encodeToString", "(", "bytes1", ",", "Base64", ".", "DEFAULT", ")", ";", "ftpClient", ".", "connect", "(", "\"", "<STR_LIT>", "\"", ",", "FtpService", ".", "DEFAULT_PORT", ")", ";", "ftpClient", ".", "login", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "ftpClient", ".", "changeWorkingDirectory", "(", "\"", "<STR_LIT:/>", "\"", ")", ";", "ftpClient", ".", "enterLocalPassiveMode", "(", ")", ";", "ftpClient", ".", "setFileType", "(", "FTP", ".", "ASCII_FILE_TYPE", ")", ";", "InputStream", "in", "=", "new", "ByteArrayInputStream", "(", "randomString", ".", "getBytes", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "ftpClient", ".", "storeFile", "(", "\"", "<STR_LIT>", "\"", ",", "in", ")", ";", "in", ".", "close", "(", ")", ";", "in", "=", "new", "ByteArrayInputStream", "(", "bytes2", ")", ";", "ftpClient", ".", "setFileType", "(", "FTP", ".", "BINARY_FILE_TYPE", ")", ";", "ftpClient", ".", "storeFile", "(", "\"", "<STR_LIT>", "\"", ",", "in", ")", ";", "in", ".", "close", "(", ")", ";", "ftpClient", ".", "logout", "(", ")", ";", "ftpClient", ".", "disconnect", "(", ")", ";", "File", "verify", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "assertTrue", "(", "verify", ".", "exists", "(", ")", ")", ";", "ByteArrayOutputStream", "verifyContent", "=", "new", "ByteArrayOutputStream", "(", ")", ";", "IOUtils", ".", "copy", "(", "new", "FileInputStream", "(", "verify", ")", ",", "verifyContent", ")", ";", "assertEquals", "(", "randomString", ",", "verifyContent", ".", "toString", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "verify", ".", "delete", "(", ")", ";", "verify", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "assertTrue", "(", "verify", ".", "exists", "(", ")", ")", ";", "verifyContent", "=", "new", "ByteArrayOutputStream", "(", ")", ";", "IOUtils", ".", "copy", "(", "new", "FileInputStream", "(", "verify", ")", ",", "verifyContent", ")", ";", "assertArrayEquals", "(", "bytes2", ",", "verifyContent", ".", "toByteArray", "(", ")", ")", ";", "verify", ".", "delete", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "testDownloadWith", "(", "FTPClient", "ftpClient", ")", "throws", "IOException", "{", "File", "testFile1", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "File", "testFile2", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "byte", "[", "]", "bytes1", "=", "new", "byte", "[", "<NUM_LIT:32>", "]", ",", "bytes2", "=", "new", "byte", "[", "<NUM_LIT:32>", "]", ";", "SecureRandom", "sr", "=", "new", "SecureRandom", "(", ")", ";", "sr", ".", "setSeed", "(", "System", ".", "currentTimeMillis", "(", ")", ")", ";", "sr", ".", "nextBytes", "(", "bytes1", ")", ";", "sr", ".", "nextBytes", "(", "bytes2", ")", ";", "String", "randomString", "=", "Base64", ".", "encodeToString", "(", "bytes1", ",", "Base64", ".", "DEFAULT", ")", ";", "Writer", "writer", "=", "new", "FileWriter", "(", "testFile1", ")", ";", "writer", ".", "write", "(", "randomString", ")", ";", "writer", ".", "close", "(", ")", ";", "OutputStream", "out", "=", "new", "FileOutputStream", "(", "testFile2", ")", ";", "out", ".", "write", "(", "bytes2", ",", "0", ",", "bytes2", ".", "length", ")", ";", "out", ".", "close", "(", ")", ";", "ftpClient", ".", "connect", "(", "\"", "<STR_LIT>", "\"", ",", "FtpService", ".", "DEFAULT_PORT", ")", ";", "ftpClient", ".", "login", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "ftpClient", ".", "changeWorkingDirectory", "(", "\"", "<STR_LIT:/>", "\"", ")", ";", "ftpClient", ".", "enterLocalPassiveMode", "(", ")", ";", "ftpClient", ".", "setFileType", "(", "FTP", ".", "ASCII_FILE_TYPE", ")", ";", "ByteArrayOutputStream", "verify", "=", "new", "ByteArrayOutputStream", "(", ")", ";", "ftpClient", ".", "retrieveFile", "(", "\"", "<STR_LIT>", "\"", ",", "verify", ")", ";", "verify", ".", "close", "(", ")", ";", "assertEquals", "(", "randomString", ",", "verify", ".", "toString", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "ftpClient", ".", "setFileType", "(", "FTP", ".", "BINARY_FILE_TYPE", ")", ";", "verify", "=", "new", "ByteArrayOutputStream", "(", ")", ";", "ftpClient", ".", "retrieveFile", "(", "\"", "<STR_LIT>", "\"", ",", "verify", ")", ";", "verify", ".", "close", "(", ")", ";", "assertArrayEquals", "(", "bytes2", ",", "verify", ".", "toByteArray", "(", ")", ")", ";", "ftpClient", ".", "logout", "(", ")", ";", "ftpClient", ".", "disconnect", "(", ")", ";", "testFile1", ".", "delete", "(", ")", ";", "testFile2", ".", "delete", "(", ")", ";", "}", "</s>"]
["<s>", "private", "FtpService", "create", "(", ")", "throws", "ReflectiveOperationException", "{", "FtpService", "service", "=", "new", "FtpService", "(", ")", ";", "Class", "activityThreadClazz", "=", "Class", ".", "forName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Method", "attach", "=", "Service", ".", "class", ".", "getDeclaredMethod", "(", "\"", "<STR_LIT>", "\"", ",", "Context", ".", "class", ",", "activityThreadClazz", ",", "String", ".", "class", ",", "IBinder", ".", "class", ",", "Application", ".", "class", ",", "Object", ".", "class", ")", ";", "attach", ".", "invoke", "(", "service", ",", "InstrumentationRegistry", ".", "getTargetContext", "(", ")", ",", "null", ",", "service", ".", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ",", "null", ",", "null", ",", "null", ")", ";", "return", "service", ";", "}", "</s>"]
["<s>", "private", "void", "waitForServer", "(", ")", "throws", "IOException", "{", "boolean", "available", "=", "false", ";", "while", "(", "!", "available", ")", "{", "Socket", "socket", "=", "new", "Socket", "(", ")", ";", "try", "{", "socket", ".", "connect", "(", "new", "InetSocketAddress", "(", "InetAddress", ".", "getLocalHost", "(", ")", ",", "FtpService", ".", "DEFAULT_PORT", ")", ")", ";", "socket", ".", "close", "(", ")", ";", "available", "=", "true", ";", "}", "catch", "(", "SocketException", "e", ")", "{", "available", "=", "false", ";", "}", "}", "}", "</s>"]
["<s>", "public", "void", "setUp", "(", ")", "{", "context", "=", "InstrumentationRegistry", ".", "getTargetContext", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testEncryptDecrypt", "(", ")", "throws", "Exception", "{", "String", "password", "=", "\"", "<STR_LIT>", "\"", ";", "String", "encrypted", "=", "CryptUtil", ".", "encryptPassword", "(", "context", ",", "password", ")", ";", "assertEquals", "(", "password", ",", "CryptUtil", ".", "decryptPassword", "(", "context", ",", "encrypted", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "{", "filePath", "=", "new", "HybridFileParcelable", "(", "\"", "<STR_LIT>", "\"", ")", ";", "directory", "=", "new", "HybridFileParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ",", "true", ")", ";", "file", "=", "new", "HybridFileParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ",", "false", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getName", "(", ")", "{", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "filePath", ".", "getName", "(", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "directory", ".", "getName", "(", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "file", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "setName", "(", ")", "{", "filePath", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "filePath", ".", "getName", "(", ")", ")", ";", "directory", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "directory", ".", "getName", "(", ")", ")", ";", "file", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "file", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getMode", "(", ")", "{", "assertEquals", "(", "OpenMode", ".", "FILE", ",", "filePath", ".", "getMode", "(", ")", ")", ";", "assertEquals", "(", "OpenMode", ".", "FILE", ",", "directory", ".", "getMode", "(", ")", ")", ";", "assertEquals", "(", "OpenMode", ".", "FILE", ",", "file", ".", "getMode", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getLink", "(", ")", "{", "assertEquals", "(", "\"", "\"", ",", "filePath", ".", "getLink", "(", ")", ")", ";", "assertEquals", "(", "\"", "\"", ",", "directory", ".", "getLink", "(", ")", ")", ";", "assertEquals", "(", "\"", "\"", ",", "file", ".", "getLink", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "setLink", "(", ")", "{", "filePath", ".", "setLink", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "filePath", ".", "getLink", "(", ")", ")", ";", "directory", ".", "setLink", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "directory", ".", "getLink", "(", ")", ")", ";", "file", ".", "setLink", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "file", ".", "getLink", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getDate", "(", ")", "{", "assertEquals", "(", "0", ",", "filePath", ".", "getDate", "(", ")", ")", ";", "assertEquals", "(", "<NUM_LIT>", ",", "directory", ".", "getDate", "(", ")", ")", ";", "assertEquals", "(", "<NUM_LIT>", ",", "file", ".", "getDate", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "setDate", "(", ")", "{", "filePath", ".", "setDate", "(", "<NUM_LIT>", ")", ";", "assertEquals", "(", "<NUM_LIT>", ",", "filePath", ".", "getDate", "(", ")", ")", ";", "directory", ".", "setDate", "(", "<NUM_LIT>", ")", ";", "assertEquals", "(", "<NUM_LIT>", ",", "directory", ".", "getDate", "(", ")", ")", ";", "file", ".", "setDate", "(", "<NUM_LIT>", ")", ";", "assertEquals", "(", "<NUM_LIT>", ",", "file", ".", "getDate", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getSize", "(", ")", "{", "assertEquals", "(", "0", ",", "filePath", ".", "getSize", "(", ")", ")", ";", "assertEquals", "(", "<NUM_LIT>", ",", "directory", ".", "getSize", "(", ")", ")", ";", "assertEquals", "(", "<NUM_LIT>", ",", "file", ".", "getSize", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "setSize", "(", ")", "{", "filePath", ".", "setSize", "(", "<NUM_LIT>", ")", ";", "assertEquals", "(", "<NUM_LIT>", ",", "filePath", ".", "getSize", "(", ")", ")", ";", "directory", ".", "setSize", "(", "<NUM_LIT>", ")", ";", "assertEquals", "(", "<NUM_LIT>", ",", "directory", ".", "getSize", "(", ")", ")", ";", "file", ".", "setSize", "(", "<NUM_LIT>", ")", ";", "assertEquals", "(", "<NUM_LIT>", ",", "file", ".", "getSize", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "isDirectory", "(", ")", "{", "assertEquals", "(", "false", ",", "filePath", ".", "isDirectory", "(", ")", ")", ";", "assertEquals", "(", "true", ",", "directory", ".", "isDirectory", "(", ")", ")", ";", "assertEquals", "(", "false", ",", "file", ".", "isDirectory", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "setDirectory", "(", ")", "{", "filePath", ".", "setDirectory", "(", "true", ")", ";", "assertEquals", "(", "true", ",", "filePath", ".", "isDirectory", "(", ")", ")", ";", "directory", ".", "setDirectory", "(", "false", ")", ";", "assertEquals", "(", "false", ",", "directory", ".", "isDirectory", "(", ")", ")", ";", "file", ".", "setDirectory", "(", "true", ")", ";", "assertEquals", "(", "true", ",", "file", ".", "isDirectory", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getPath", "(", ")", "{", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "filePath", ".", "getPath", "(", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "directory", ".", "getPath", "(", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "file", ".", "getPath", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getPermission", "(", ")", "{", "assertEquals", "(", "null", ",", "filePath", ".", "getPermission", "(", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "directory", ".", "getPermission", "(", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "file", ".", "getPermission", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "setPermission", "(", ")", "{", "filePath", ".", "setPermission", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "filePath", ".", "getPermission", "(", ")", ")", ";", "directory", ".", "setPermission", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "directory", ".", "getPermission", "(", ")", ")", ";", "file", ".", "setPermission", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "file", ".", "getPermission", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "writeToParcel", "(", ")", "{", "Parcel", "parcel", "=", "Parcel", ".", "obtain", "(", ")", ";", "file", ".", "writeToParcel", "(", "parcel", ",", "file", ".", "describeContents", "(", ")", ")", ";", "parcel", ".", "setDataPosition", "(", "0", ")", ";", "HybridFileParcelable", "createdFromParcel", "=", "HybridFileParcelable", ".", "CREATOR", ".", "createFromParcel", "(", "parcel", ")", ";", "assertEquals", "(", "file", ".", "getDate", "(", ")", ",", "createdFromParcel", ".", "getDate", "(", ")", ")", ";", "assertEquals", "(", "file", ".", "getLink", "(", ")", ",", "createdFromParcel", ".", "getLink", "(", ")", ")", ";", "assertEquals", "(", "file", ".", "getMode", "(", ")", ",", "createdFromParcel", ".", "getMode", "(", ")", ")", ";", "assertEquals", "(", "file", ".", "getName", "(", ")", ",", "createdFromParcel", ".", "getName", "(", ")", ")", ";", "assertEquals", "(", "file", ".", "getPath", "(", ")", ",", "createdFromParcel", ".", "getPath", "(", ")", ")", ";", "assertEquals", "(", "file", ".", "getPermission", "(", ")", ",", "createdFromParcel", ".", "getPermission", "(", ")", ")", ";", "assertEquals", "(", "file", ".", "getSize", "(", ")", ",", "createdFromParcel", ".", "getSize", "(", ")", ")", ";", "assertEquals", "(", "file", ".", "isDirectory", "(", ")", ",", "createdFromParcel", ".", "isDirectory", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "{", "context", "=", "InstrumentationRegistry", ".", "getTargetContext", "(", ")", ";", "File", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "uri", "=", "Uri", ".", "fromFile", "(", "file", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testOpenFile", "(", ")", "throws", "Exception", "{", "Intent", "intent", "=", "new", "Intent", "(", "context", ",", "TextEditorActivity", ".", "class", ")", ".", "setAction", "(", "Intent", ".", "ACTION_VIEW", ")", ".", "addCategory", "(", "Intent", ".", "CATEGORY_DEFAULT", ")", ".", "setType", "(", "\"", "<STR_LIT>", "\"", ")", ".", "setData", "(", "uri", ")", ";", "activityRule", ".", "launchActivity", "(", "intent", ")", ";", "CountDownLatch", "waiter", "=", "new", "CountDownLatch", "(", "1", ")", ";", "while", "(", "\"", "\"", ".", "equals", "(", "activityRule", ".", "getActivity", "(", ")", ".", "mInput", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ")", "{", "waiter", ".", "await", "(", ")", ";", "}", "waiter", ".", "countDown", "(", ")", ";", "assertNotEquals", "(", "\"", "\"", ",", "activityRule", ".", "getActivity", "(", ")", ".", "mInput", ".", "getText", "(", ")", ")", ";", "assertNotEquals", "(", "\"", "<STR_LIT>", "\"", ",", "activityRule", ".", "getActivity", "(", ")", ".", "mInput", ".", "getText", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "{", "ShadowMimeTypeMap", "mimeTypeMap", "=", "Shadows", ".", "shadowOf", "(", "MimeTypeMap", ".", "getSingleton", "(", ")", ")", ";", "mimeTypeMap", ".", "addExtensionMimeTypMapping", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mimeTypeMap", ".", "addExtensionMimeTypMapping", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "mimeTypeMap", ".", "addExtensionMimeTypMapping", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testReturnArchiveTypes", "(", ")", "{", "assertEquals", "(", "Icons", ".", "COMPRESSED", ",", "Icons", ".", "getTypeOfFile", "(", "\"", "<STR_LIT>", "\"", ",", "false", ")", ")", ";", "assertEquals", "(", "Icons", ".", "COMPRESSED", ",", "Icons", ".", "getTypeOfFile", "(", "\"", "<STR_LIT>", "\"", ",", "false", ")", ")", ";", "assertEquals", "(", "Icons", ".", "COMPRESSED", ",", "Icons", ".", "getTypeOfFile", "(", "\"", "<STR_LIT>", "\"", ",", "false", ")", ")", ";", "assertEquals", "(", "Icons", ".", "COMPRESSED", ",", "Icons", ".", "getTypeOfFile", "(", "\"", "<STR_LIT>", "\"", ",", "false", ")", ")", ";", "assertEquals", "(", "Icons", ".", "COMPRESSED", ",", "Icons", ".", "getTypeOfFile", "(", "\"", "<STR_LIT>", "\"", ",", "false", ")", ")", ";", "assertEquals", "(", "Icons", ".", "COMPRESSED", ",", "Icons", ".", "getTypeOfFile", "(", "\"", "<STR_LIT>", "\"", ",", "false", ")", ")", ";", "assertEquals", "(", "Icons", ".", "COMPRESSED", ",", "Icons", ".", "getTypeOfFile", "(", "\"", "<STR_LIT>", "\"", ",", "false", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "throws", "Exception", "{", "ShadowEnvironment", ".", "setExternalStorageState", "(", "Environment", ".", "MEDIA_MOUNTED", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "zipfile1", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "zipfile2", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "zipfile3", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "rarfile", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "tarfile", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "tarballfile", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "tarLzmafile", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "tarXzfile", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "tarBz2file", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "sevenZipfile", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "passwordProtectedZipfile", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "passwordProtected7Zipfile", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "listPasswordProtected7Zipfile", ")", ")", ";", "service", "=", "Robolectric", ".", "setupService", "(", "ExtractService", ".", "class", ")", ";", "}", "</s>"]
["<s>", "@", "After", "public", "void", "tearDown", "(", ")", "throws", "Exception", "{", "File", "extractedArchiveRoot", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Files", ".", "walk", "(", "Paths", ".", "get", "(", "extractedArchiveRoot", ".", "getAbsolutePath", "(", ")", ")", ")", ".", "map", "(", "Path", ":", ":", "toFile", ")", ".", "forEach", "(", "File", ":", ":", "delete", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtractZipSlip", "(", ")", "{", "performTest", "(", "zipfile1", ")", ";", "assertEquals", "(", "RuntimeEnvironment", ".", "application", ".", "getString", "(", "R", ".", "string", ".", "multiple_invalid_archive_entries", ")", ",", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtractZipSlipWin", "(", ")", "{", "performTest", "(", "zipfile2", ")", ";", "assertEquals", "(", "RuntimeEnvironment", ".", "application", ".", "getString", "(", "R", ".", "string", ".", "multiple_invalid_archive_entries", ")", ",", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtractZipNormal", "(", ")", "{", "performTest", "(", "zipfile3", ")", ";", "assertNull", "(", "ShadowToast", ".", "getLatestToast", "(", ")", ")", ";", "assertNull", "(", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtractRar", "(", ")", "{", "performTest", "(", "rarfile", ")", ";", "assertNull", "(", "ShadowToast", ".", "getLatestToast", "(", ")", ")", ";", "assertNull", "(", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtractTar", "(", ")", "{", "performTest", "(", "tarfile", ")", ";", "assertNull", "(", "ShadowToast", ".", "getLatestToast", "(", ")", ")", ";", "assertNull", "(", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtractTarGz", "(", ")", "{", "performTest", "(", "tarballfile", ")", ";", "assertNull", "(", "ShadowToast", ".", "getLatestToast", "(", ")", ")", ";", "assertNull", "(", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtractTarLzma", "(", ")", "{", "performTest", "(", "tarLzmafile", ")", ";", "assertNull", "(", "ShadowToast", ".", "getLatestToast", "(", ")", ")", ";", "assertNull", "(", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtractTarXz", "(", ")", "{", "performTest", "(", "tarXzfile", ")", ";", "assertNull", "(", "ShadowToast", ".", "getLatestToast", "(", ")", ")", ";", "assertNull", "(", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtractTarBz2", "(", ")", "{", "performTest", "(", "tarBz2file", ")", ";", "assertNull", "(", "ShadowToast", ".", "getLatestToast", "(", ")", ")", ";", "assertNull", "(", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtract7z", "(", ")", "{", "performTest", "(", "sevenZipfile", ")", ";", "assertNull", "(", "ShadowToast", ".", "getLatestToast", "(", ")", ")", ";", "assertNull", "(", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "@", "Ignore", "(", "\"", "<STR_LIT>", "\"", ")", "public", "void", "testExtractPasswordProtectedZip", "(", ")", "{", "performTest", "(", "passwordProtectedZipfile", ")", ";", "assertNull", "(", "ShadowToast", ".", "getLatestToast", "(", ")", ")", ";", "assertNull", "(", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "@", "Ignore", "(", "\"", "<STR_LIT>", "\"", ")", "public", "void", "testExtractPasswordProtected7Zip", "(", ")", "{", "performTest", "(", "passwordProtected7Zipfile", ")", ";", "assertNull", "(", "ShadowToast", ".", "getLatestToast", "(", ")", ")", ";", "assertNull", "(", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "@", "Ignore", "(", "\"", "<STR_LIT>", "\"", ")", "public", "void", "testExtractListPasswordProtected7Zip", "(", ")", "{", "performTest", "(", "listPasswordProtected7Zipfile", ")", ";", "assertNull", "(", "ShadowToast", ".", "getLatestToast", "(", ")", ")", ";", "assertNull", "(", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "performTest", "(", "@", "NonNull", "File", "archiveFile", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "RuntimeEnvironment", ".", "application", ",", "ExtractService", ".", "class", ")", ".", "putExtra", "(", "ExtractService", ".", "KEY_PATH_ZIP", ",", "archiveFile", ".", "getAbsolutePath", "(", ")", ")", ".", "putExtra", "(", "ExtractService", ".", "KEY_ENTRIES_ZIP", ",", "new", "String", "[", "0", "]", ")", ".", "putExtra", "(", "ExtractService", ".", "KEY_PATH_EXTRACT", ",", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ".", "getAbsolutePath", "(", ")", ")", ";", "service", ".", "onStartCommand", "(", "intent", ",", "0", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Implementation", "public", "void", "__constructor__", "(", "URL", "url", ",", "NtlmPasswordAuthentication", "auth", ")", "{", "}", "</s>"]
["<s>", "public", "void", "setFile", "(", "File", "file", ")", "{", "this", ".", "file", "=", "file", ";", "}", "</s>"]
["<s>", "@", "Implementation", "public", "InputStream", "getInputStream", "(", ")", "throws", "IOException", "{", "return", "new", "FileInputStream", "(", "file", ")", ";", "}", "</s>"]
["<s>", "@", "Implementation", "public", "long", "length", "(", ")", "throws", "SmbException", "{", "return", "file", ".", "length", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Implementation", "public", "static", "String", "encryptPassword", "(", "Context", "context", ",", "String", "plainText", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "return", "aesEncryptPassword", "(", "plainText", ")", ";", "}", "</s>"]
["<s>", "@", "Implementation", "public", "static", "String", "decryptPassword", "(", "Context", "context", ",", "String", "cipherText", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "return", "aesDecryptPassword", "(", "cipherText", ")", ";", "}", "</s>"]
["<s>", "private", "static", "String", "aesEncryptPassword", "(", "String", "plainTextPassword", ")", "throws", "GeneralSecurityException", "{", "Cipher", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_AES", ",", "\"", "<STR_LIT>", "\"", ")", ";", "GCMParameterSpec", "gcmParameterSpec", "=", "new", "GCMParameterSpec", "(", "<NUM_LIT>", ",", "IV", ".", "getBytes", "(", ")", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "ENCRYPT_MODE", ",", "secretKey", ",", "gcmParameterSpec", ")", ";", "byte", "[", "]", "encodedBytes", "=", "cipher", ".", "doFinal", "(", "plainTextPassword", ".", "getBytes", "(", ")", ")", ";", "return", "Base64", ".", "encodeToString", "(", "encodedBytes", ",", "Base64", ".", "DEFAULT", ")", ";", "}", "</s>"]
["<s>", "private", "static", "String", "aesDecryptPassword", "(", "String", "cipherPassword", ")", "throws", "GeneralSecurityException", "{", "Cipher", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_AES", ",", "\"", "<STR_LIT>", "\"", ")", ";", "GCMParameterSpec", "gcmParameterSpec", "=", "new", "GCMParameterSpec", "(", "<NUM_LIT>", ",", "IV", ".", "getBytes", "(", ")", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "DECRYPT_MODE", ",", "secretKey", ",", "gcmParameterSpec", ")", ";", "byte", "[", "]", "decryptedBytes", "=", "cipher", ".", "doFinal", "(", "Base64", ".", "decode", "(", "cipherPassword", ",", "Base64", ".", "DEFAULT", ")", ")", ";", "return", "new", "String", "(", "decryptedBytes", ")", ";", "}", "</s>"]
["<s>", "@", "Implementation", "public", "boolean", "isRunning", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Implementation", "public", "boolean", "waitForIdle", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Implementation", "public", "void", "addCommand", "(", "String", "command", ",", "int", "code", ",", "Shell", ".", "OnCommandResultListener", "onCommandResultListener", ")", "throws", "IOException", ",", "InterruptedException", "{", "ProcessBuilder", "pb", "=", "new", "ProcessBuilder", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "command", ")", ";", "pb", ".", "environment", "(", ")", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "pb", ".", "environment", "(", ")", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "pb", ".", "environment", "(", ")", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Process", "process", "=", "pb", ".", "start", "(", ")", ";", "int", "exitValue", "=", "process", ".", "waitFor", "(", ")", ";", "BufferedReader", "reader", "=", "new", "BufferedReader", "(", "new", "InputStreamReader", "(", "process", ".", "getInputStream", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "List", "<", "String", ">", "result", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "String", "line", ";", "while", "(", "(", "line", "=", "reader", ".", "readLine", "(", ")", ")", "!", "=", "null", ")", "{", "result", ".", "add", "(", "line", ")", ";", "}", "onCommandResultListener", ".", "onCommandResult", "(", "exitValue", ",", "code", ",", "result", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testEncryptDecrypt", "(", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "String", "text", "=", "\"", "<STR_LIT>", "\"", ";", "String", "encrypted", "=", "CryptUtil", ".", "encryptPassword", "(", "RuntimeEnvironment", ".", "application", ",", "text", ")", ";", "assertEquals", "(", "text", ",", "CryptUtil", ".", "decryptPassword", "(", "RuntimeEnvironment", ".", "application", ",", "encrypted", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testWithUtilsHandler", "(", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "UtilsHandler", "utilsHandler", "=", "new", "UtilsHandler", "(", "RuntimeEnvironment", ".", "application", ")", ";", "utilsHandler", ".", "onCreate", "(", "utilsHandler", ".", "getWritableDatabase", "(", ")", ")", ";", "String", "fingerprint", "=", "\"", "<STR_LIT>", "\"", ";", "String", "url", "=", "\"", "<STR_LIT>", "\"", ";", "utilsHandler", ".", "addSsh", "(", "\"", "<STR_LIT:Test>", "\"", ",", "SshClientUtils", ".", "encryptSshPathAsNecessary", "(", "url", ")", ",", "fingerprint", ",", "null", ",", "null", ")", ";", "assertEquals", "(", "fingerprint", ",", "utilsHandler", ".", "getSshHostKey", "(", "url", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSanitizeInput", "(", ")", "{", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "sanitizeInput", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "sanitizeInput", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "sanitizeInput", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "sanitizeInput", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "sanitizeInput", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "sanitizeInput", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "sanitizeInput", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "sanitizeInput", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testObjectEquals", "(", ")", "{", "ComputerParcelable", "computerParcelable", "=", "new", "ComputerParcelable", "(", "\"", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT:1>", "\"", ")", ";", "Object", "object", "=", "new", "ComputerParcelable", "(", "\"", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT:1>", "\"", ")", ";", "assertTrue", "(", "computerParcelable", ".", "equals", "(", "object", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testObjectNotEqualsName", "(", ")", "{", "ComputerParcelable", "computerParcelable", "=", "new", "ComputerParcelable", "(", "\"", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT:1>", "\"", ")", ";", "Object", "object", "=", "new", "ComputerParcelable", "(", "\"", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT:1>", "\"", ")", ";", "assertFalse", "(", "computerParcelable", ".", "equals", "(", "object", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testObjectNotEqualsAddr", "(", ")", "{", "ComputerParcelable", "computerParcelable", "=", "new", "ComputerParcelable", "(", "\"", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT:1>", "\"", ")", ";", "Object", "object", "=", "new", "ComputerParcelable", "(", "\"", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT:2>", "\"", ")", ";", "assertFalse", "(", "computerParcelable", ".", "equals", "(", "object", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testObjectNotEqualsTwo", "(", ")", "{", "ComputerParcelable", "computerParcelable", "=", "new", "ComputerParcelable", "(", "\"", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT:1>", "\"", ")", ";", "Object", "object", "=", "new", "ComputerParcelable", "(", "\"", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT:2>", "\"", ")", ";", "assertFalse", "(", "computerParcelable", ".", "equals", "(", "object", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testCompareLHSTitleBigAndPathBigger", "(", ")", "{", "String", "[", "]", "lhs", "=", "{", "\"", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:1>", "\"", "}", ";", "String", "[", "]", "rhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "assertThat", "(", "bookSorter", ".", "compare", "(", "lhs", ",", "rhs", ")", ",", "greaterThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testCompareRHSTitleBigAndPathBigger", "(", ")", "{", "String", "[", "]", "lhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "String", "[", "]", "rhs", "=", "{", "\"", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", "}", ";", "assertThat", "(", "bookSorter", ".", "compare", "(", "lhs", ",", "rhs", ")", ",", "lessThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testCompareTitleSameAndRHSPathBigger", "(", ")", "{", "String", "[", "]", "lhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "String", "[", "]", "rhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "assertThat", "(", "bookSorter", ".", "compare", "(", "lhs", ",", "rhs", ")", ",", "greaterThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testCompareTitleSameAndLHSPathBigger", "(", ")", "{", "String", "[", "]", "lhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "String", "[", "]", "rhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "assertThat", "(", "bookSorter", ".", "compare", "(", "lhs", ",", "rhs", ")", ",", "lessThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testCompareTitleSameAndPathSame", "(", ")", "{", "String", "[", "]", "lhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "String", "[", "]", "rhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "assertEquals", "(", "bookSorter", ".", "compare", "(", "lhs", ",", "rhs", ")", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testCompareTitleNotSameCaseAndLHSPathBigger", "(", ")", "{", "String", "[", "]", "lhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "String", "[", "]", "rhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "assertThat", "(", "bookSorter", ".", "compare", "(", "lhs", ",", "rhs", ")", ",", "greaterThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testCompareTitleNotSameCaseAndRHSPathBigger", "(", ")", "{", "String", "[", "]", "lhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "String", "[", "]", "rhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "assertThat", "(", "bookSorter", ".", "compare", "(", "lhs", ",", "rhs", ")", ",", "lessThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testCompareTitleNotSameCaseAndPathSame", "(", ")", "{", "String", "[", "]", "lhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "String", "[", "]", "rhs", "=", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", "}", ";", "assertEquals", "(", "bookSorter", ".", "compare", "(", "lhs", ",", "rhs", ")", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "throws", "IOException", "{", "StringBuilder", "textInFile", "=", "new", "StringBuilder", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:20>", ";", "i", "+", "+", ")", "textInFile", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "text", "=", "textInFile", ".", "toString", "(", ")", ".", "getBytes", "(", ")", ";", "file", "=", "createFile", "(", ")", ";", "ss", "=", "new", "StreamSource", "(", "file", ",", "file", ".", "length", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "SmbFile", "createFile", "(", ")", "throws", "IOException", "{", "File", "testFile", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "testFile", ".", "createNewFile", "(", ")", ";", "OutputStream", "is", "=", "new", "FileOutputStream", "(", "testFile", ")", ";", "is", ".", "write", "(", "text", ")", ";", "is", ".", "flush", "(", ")", ";", "is", ".", "close", "(", ")", ";", "SmbFile", "file", "=", "new", "SmbFile", "(", "\"", "<STR_LIT>", "\"", ")", ";", "ShadowSmbFile", "shadowSmbFile", "=", "Shadow", ".", "extract", "(", "file", ")", ";", "shadowSmbFile", ".", "setFile", "(", "testFile", ")", ";", "return", "file", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "openExisting", "(", ")", "throws", "IOException", "{", "ss", ".", "open", "(", ")", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "1", "]", ";", "assertEquals", "(", "buff", ".", "length", ",", "ss", ".", "read", "(", "buff", ")", ")", ";", "assertEquals", "(", "text", "[", "0", "]", ",", "buff", "[", "0", "]", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "read", "(", ")", "throws", "IOException", "{", "ss", ".", "open", "(", ")", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "<NUM_LIT:10>", "]", ";", "int", "n", "=", "ss", ".", "read", "(", "buff", ")", ";", "byte", "[", "]", "temp", "=", "Arrays", ".", "copyOfRange", "(", "text", ",", "0", ",", "buff", ".", "length", ")", ";", "assertArrayEquals", "(", "temp", ",", "buff", ")", ";", "assertEquals", "(", "buff", ".", "length", ",", "n", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "readExceed", "(", ")", "throws", "IOException", "{", "ss", ".", "open", "(", ")", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "<NUM_LIT:100>", "]", ";", "int", "n", "=", "ss", ".", "read", "(", "buff", ")", ";", "byte", "[", "]", "buffer", "=", "Arrays", ".", "copyOfRange", "(", "buff", ",", "0", ",", "n", ")", ";", "assertArrayEquals", "(", "text", ",", "buffer", ")", ";", "assertEquals", "(", "text", ".", "length", ",", "n", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "(", "expected", "=", "IOException", ".", "class", ")", "public", "void", "readClosedException", "(", ")", "throws", "IOException", "{", "ss", ".", "open", "(", ")", ";", "ss", ".", "close", "(", ")", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "text", ".", "length", "]", ";", "int", "n", "=", "ss", ".", "read", "(", "buff", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "readStartEnd", "(", ")", "throws", "IOException", "{", "ss", ".", "open", "(", ")", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "<NUM_LIT:100>", "]", ";", "int", "start", "=", "<NUM_LIT:5>", ";", "int", "end", "=", "<NUM_LIT:10>", ";", "int", "n", "=", "ss", ".", "read", "(", "buff", ",", "start", ",", "end", ")", ";", "byte", "[", "]", "file", "=", "Arrays", ".", "copyOfRange", "(", "text", ",", "0", ",", "end", "-", "start", ")", ";", "byte", "[", "]", "buffer", "=", "Arrays", ".", "copyOfRange", "(", "buff", ",", "start", ",", "end", ")", ";", "assertArrayEquals", "(", "file", ",", "buffer", ")", ";", "assertEquals", "(", "end", ",", "n", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "(", "expected", "=", "IndexOutOfBoundsException", ".", "class", ")", "public", "void", "readStartEndExceedException", "(", ")", "throws", "IOException", "{", "ss", ".", "open", "(", ")", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "<NUM_LIT:100>", "]", ";", "int", "start", "=", "<NUM_LIT>", ";", "int", "end", "=", "<NUM_LIT>", ";", "ss", ".", "read", "(", "buff", ",", "start", ",", "end", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "(", "expected", "=", "IOException", ".", "class", ")", "public", "void", "readStartEndClosedException", "(", ")", "throws", "IOException", "{", "ss", ".", "open", "(", ")", ";", "ss", ".", "close", "(", ")", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "<NUM_LIT:100>", "]", ";", "int", "start", "=", "<NUM_LIT:5>", ";", "int", "end", "=", "<NUM_LIT:10>", ";", "int", "n", "=", "ss", ".", "read", "(", "buff", ",", "start", ",", "end", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "moveTo", "(", ")", "throws", "IOException", "{", "int", "readPosition", "=", "text", ".", "length", "-", "<NUM_LIT:10>", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "1", "]", ";", "ss", ".", "moveTo", "(", "readPosition", ")", ";", "ss", ".", "open", "(", ")", ";", "int", "n", "=", "ss", ".", "read", "(", "buff", ")", ";", "assertEquals", "(", "text", "[", "readPosition", "]", ",", "buff", "[", "0", "]", ")", ";", "assertEquals", "(", "buff", ".", "length", ",", "n", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "(", "expected", "=", "IllegalArgumentException", ".", "class", ")", "public", "void", "moveToException", "(", ")", "throws", "IllegalArgumentException", ",", "IOException", "{", "ss", ".", "open", "(", ")", ";", "ss", ".", "moveTo", "(", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "close", "(", ")", "throws", "IOException", "{", "ss", ".", "open", "(", ")", ";", "ss", ".", "close", "(", ")", ";", "int", "n", "=", "-", "1", ";", "try", "{", "byte", "[", "]", "buff", "=", "new", "byte", "[", "1", "]", ";", "n", "=", "ss", ".", "read", "(", "buff", ")", ";", "}", "catch", "(", "IOException", "ignored", ")", "{", "}", "assertEquals", "(", "-", "1", ",", "n", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getMimeType", "(", ")", "{", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "ss", ".", "getMimeType", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "length", "(", ")", "{", "assertEquals", "(", "text", ".", "length", ",", "ss", ".", "length", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getName", "(", ")", "{", "assertEquals", "(", "file", ".", "getName", "(", ")", ",", "ss", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "available", "(", ")", "throws", "IOException", "{", "int", "amount", "=", "<NUM_LIT:12>", ";", "ss", ".", "moveTo", "(", "text", ".", "length", "-", "amount", ")", ";", "assertEquals", "(", "amount", ",", "ss", ".", "availableExact", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "reset", "(", ")", "throws", "IOException", "{", "ss", ".", "moveTo", "(", "<NUM_LIT:10>", ")", ";", "assertEquals", "(", "text", ".", "length", "-", "<NUM_LIT:10>", ",", "ss", ".", "availableExact", "(", ")", ")", ";", "ss", ".", "reset", "(", ")", ";", "assertEquals", "(", "text", ".", "length", ",", "ss", ".", "availableExact", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getFile", "(", ")", "{", "assertEquals", "(", "file", ",", "ss", ".", "getFile", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getThemeLightTest", "(", ")", "{", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "AppTheme", ".", "LIGHT_INDEX", ")", ";", "assertEquals", "(", "AppTheme", ".", "LIGHT", ",", "apptheme", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getThemeDARKTest", "(", ")", "{", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "AppTheme", ".", "DARK_INDEX", ")", ";", "assertEquals", "(", "AppTheme", ".", "DARK", ",", "apptheme", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getThemeTIMEDTest", "(", ")", "{", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "AppTheme", ".", "TIME_INDEX", ")", ";", "assertEquals", "(", "AppTheme", ".", "TIMED", ",", "apptheme", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getThemeBLACKTest", "(", ")", "{", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "AppTheme", ".", "BLACK_INDEX", ")", ";", "assertEquals", "(", "AppTheme", ".", "BLACK", ",", "apptheme", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getMaterialDialogThemeLIGHTTest", "(", ")", "{", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "AppTheme", ".", "LIGHT_INDEX", ")", ";", "assertEquals", "(", "Theme", ".", "LIGHT", ",", "apptheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getMaterialDialogThemeDARKTest", "(", ")", "{", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "AppTheme", ".", "DARK_INDEX", ")", ";", "assertEquals", "(", "Theme", ".", "DARK", ",", "apptheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getMaterialDialogThemeTIMEDTest", "(", ")", "{", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "AppTheme", ".", "TIME_INDEX", ")", ";", "int", "hour", "=", "Calendar", ".", "getInstance", "(", ")", ".", "get", "(", "Calendar", ".", "HOUR_OF_DAY", ")", ";", "if", "(", "hour", "<", "=", "<NUM_LIT:6>", "|", "|", "hour", ">", "=", "<NUM_LIT>", ")", "{", "assertEquals", "(", "Theme", ".", "DARK", ",", "apptheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "}", "else", "assertEquals", "(", "Theme", ".", "LIGHT", ",", "apptheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getMaterialDialogThemeBLACKTest", "(", ")", "{", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "AppTheme", ".", "BLACK_INDEX", ")", ";", "assertEquals", "(", "Theme", ".", "DARK", ",", "apptheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getSimpleThemeLIGHTTest", "(", ")", "{", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "AppTheme", ".", "LIGHT_INDEX", ")", ";", "assertEquals", "(", "AppTheme", ".", "LIGHT", ",", "apptheme", ".", "getSimpleTheme", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getSimpleThemeDARKTest", "(", ")", "{", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "AppTheme", ".", "DARK_INDEX", ")", ";", "assertEquals", "(", "AppTheme", ".", "DARK", ",", "apptheme", ".", "getSimpleTheme", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getSimpleThemeTIMEDTest", "(", ")", "{", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "AppTheme", ".", "TIME_INDEX", ")", ";", "int", "hour", "=", "Calendar", ".", "getInstance", "(", ")", ".", "get", "(", "Calendar", ".", "HOUR_OF_DAY", ")", ";", "if", "(", "hour", "<", "=", "<NUM_LIT:6>", "|", "|", "hour", ">", "=", "<NUM_LIT>", ")", "{", "assertEquals", "(", "AppTheme", ".", "DARK", ",", "apptheme", ".", "getSimpleTheme", "(", ")", ")", ";", "}", "else", "assertEquals", "(", "AppTheme", ".", "LIGHT", ",", "apptheme", ".", "getSimpleTheme", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getSimpleThemeBLACKTest", "(", ")", "{", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "AppTheme", ".", "BLACK_INDEX", ")", ";", "assertEquals", "(", "AppTheme", ".", "BLACK", ",", "apptheme", ".", "getSimpleTheme", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getIdLIGHTTest", "(", ")", "{", "int", "index", "=", "0", ";", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "index", ")", ";", "assertEquals", "(", "index", ",", "apptheme", ".", "getId", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getIdDARKTest", "(", ")", "{", "int", "index", "=", "1", ";", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "index", ")", ";", "assertEquals", "(", "index", ",", "apptheme", ".", "getId", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getIdTIMEDTest", "(", ")", "{", "int", "index", "=", "<NUM_LIT:2>", ";", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "index", ")", ";", "assertEquals", "(", "index", ",", "apptheme", ".", "getId", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getIdBLACKTest", "(", ")", "{", "int", "index", "=", "<NUM_LIT:3>", ";", "AppTheme", "apptheme", "=", "AppTheme", ".", "getTheme", "(", "index", ")", ";", "assertEquals", "(", "index", ",", "apptheme", ".", "getId", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "throws", "Exception", "{", "File", "testFile", "=", "createFile", "(", ")", ";", "testFilePath", "=", "testFile", ".", "getAbsolutePath", "(", ")", ";", "len", "=", "Files", ".", "size", "(", "Paths", ".", "get", "(", "testFilePath", ")", ")", ";", "text", "=", "Files", ".", "readAllBytes", "(", "Paths", ".", "get", "(", "testFilePath", ")", ")", ";", "cs", "=", "new", "CloudStreamSource", "(", "fn", ",", "len", ",", "new", "FileInputStream", "(", "testFile", ")", ")", ";", "}", "</s>"]
["<s>", "private", "File", "createFile", "(", ")", "throws", "IOException", "{", "File", "testFile", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "fn", ")", ";", "testFile", ".", "createNewFile", "(", ")", ";", "OutputStream", "is", "=", "new", "FileOutputStream", "(", "testFile", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:20>", ";", "i", "+", "+", ")", "is", ".", "write", "(", "\"", "<STR_LIT>", "\"", ".", "getBytes", "(", ")", ")", ";", "is", ".", "flush", "(", ")", ";", "is", ".", "close", "(", ")", ";", "return", "testFile", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "open", "(", ")", "throws", "IOException", "{", "cs", ".", "open", "(", ")", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "1", "]", ";", "assertEquals", "(", "buff", ".", "length", ",", "cs", ".", "read", "(", "buff", ")", ")", ";", "assertEquals", "(", "text", "[", "0", "]", ",", "buff", "[", "0", "]", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "(", "expected", "=", "IOException", ".", "class", ")", "public", "void", "openNoFileException", "(", ")", "throws", "IOException", "{", "cs", "=", "new", "CloudStreamSource", "(", "fn", ",", "len", ",", "null", ")", ";", "cs", ".", "moveTo", "(", "<NUM_LIT:10>", ")", ";", "cs", ".", "open", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "read", "(", ")", "throws", "IOException", "{", "byte", "[", "]", "buff", "=", "new", "byte", "[", "<NUM_LIT:10>", "]", ";", "int", "n", "=", "cs", ".", "read", "(", "buff", ")", ";", "byte", "[", "]", "temp", "=", "Arrays", ".", "copyOfRange", "(", "text", ",", "0", ",", "buff", ".", "length", ")", ";", "assertArrayEquals", "(", "temp", ",", "buff", ")", ";", "assertEquals", "(", "buff", ".", "length", ",", "n", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "readExceed", "(", ")", "throws", "IOException", "{", "byte", "[", "]", "buff", "=", "new", "byte", "[", "<NUM_LIT:100>", "]", ";", "int", "n", "=", "cs", ".", "read", "(", "buff", ")", ";", "byte", "[", "]", "buffer", "=", "Arrays", ".", "copyOfRange", "(", "buff", ",", "0", ",", "n", ")", ";", "assertArrayEquals", "(", "text", ",", "buffer", ")", ";", "assertEquals", "(", "len", ",", "n", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "(", "expected", "=", "IOException", ".", "class", ")", "public", "void", "readClosedException", "(", ")", "throws", "IOException", "{", "cs", ".", "close", "(", ")", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "(", "int", ")", "len", "]", ";", "int", "n", "=", "cs", ".", "read", "(", "buff", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "readStartEnd", "(", ")", "throws", "IOException", "{", "byte", "[", "]", "buff", "=", "new", "byte", "[", "<NUM_LIT:100>", "]", ";", "int", "start", "=", "<NUM_LIT:5>", ";", "int", "end", "=", "<NUM_LIT:10>", ";", "int", "n", "=", "cs", ".", "read", "(", "buff", ",", "start", ",", "end", ")", ";", "byte", "[", "]", "file", "=", "Arrays", ".", "copyOfRange", "(", "text", ",", "0", ",", "end", "-", "start", ")", ";", "byte", "[", "]", "buffer", "=", "Arrays", ".", "copyOfRange", "(", "buff", ",", "start", ",", "end", ")", ";", "assertArrayEquals", "(", "file", ",", "buffer", ")", ";", "assertEquals", "(", "end", ",", "n", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "(", "expected", "=", "IndexOutOfBoundsException", ".", "class", ")", "public", "void", "readStartEndExceedException", "(", ")", "throws", "IOException", "{", "byte", "[", "]", "buff", "=", "new", "byte", "[", "<NUM_LIT:100>", "]", ";", "int", "start", "=", "<NUM_LIT>", ";", "int", "end", "=", "<NUM_LIT>", ";", "cs", ".", "read", "(", "buff", ",", "start", ",", "end", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "(", "expected", "=", "IOException", ".", "class", ")", "public", "void", "readStartEndClosedException", "(", ")", "throws", "IOException", "{", "cs", ".", "close", "(", ")", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "<NUM_LIT:100>", "]", ";", "int", "start", "=", "<NUM_LIT:5>", ";", "int", "end", "=", "<NUM_LIT:10>", ";", "int", "n", "=", "cs", ".", "read", "(", "buff", ",", "start", ",", "end", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "moveTo", "(", ")", "throws", "IOException", "{", "int", "readPosition", "=", "(", "int", ")", "len", "-", "<NUM_LIT:10>", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "1", "]", ";", "cs", ".", "moveTo", "(", "readPosition", ")", ";", "cs", ".", "open", "(", ")", ";", "int", "n", "=", "cs", ".", "read", "(", "buff", ")", ";", "assertEquals", "(", "text", "[", "readPosition", "]", ",", "buff", "[", "0", "]", ")", ";", "assertEquals", "(", "buff", ".", "length", ",", "n", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "(", "expected", "=", "IllegalArgumentException", ".", "class", ")", "public", "void", "moveToException", "(", ")", "throws", "IllegalArgumentException", ",", "IOException", "{", "cs", ".", "open", "(", ")", ";", "cs", ".", "moveTo", "(", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "close", "(", ")", "{", "cs", ".", "close", "(", ")", ";", "int", "n", "=", "-", "1", ";", "try", "{", "byte", "[", "]", "buff", "=", "new", "byte", "[", "1", "]", ";", "n", "=", "cs", ".", "read", "(", "buff", ")", ";", "}", "catch", "(", "IOException", "ignored", ")", "{", "}", "assertEquals", "(", "-", "1", ",", "n", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "length", "(", ")", "{", "assertEquals", "(", "len", ",", "cs", ".", "length", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getName", "(", ")", "{", "assertEquals", "(", "fn", ",", "cs", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "available", "(", ")", "throws", "IOException", "{", "int", "amount", "=", "<NUM_LIT:12>", ";", "cs", ".", "moveTo", "(", "(", "int", ")", "len", "-", "amount", ")", ";", "assertEquals", "(", "amount", ",", "cs", ".", "availableExact", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "reset", "(", ")", "throws", "IOException", "{", "cs", ".", "moveTo", "(", "<NUM_LIT:10>", ")", ";", "assertEquals", "(", "len", "-", "<NUM_LIT:10>", ",", "cs", ".", "availableExact", "(", ")", ")", ";", "cs", ".", "reset", "(", ")", ";", "assertEquals", "(", "len", ",", "cs", ".", "availableExact", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDir0File1DirAndFile2NoDir", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "0", ",", "0", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "true", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertEquals", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDir0File1NoDirAndFile2Dir", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "0", ",", "0", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "true", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertEquals", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDir1File1DirAndFile2NoDir", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "1", ",", "0", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "true", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertEquals", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDir1File1NoDirAndFile2Dir", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "1", ",", "0", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "true", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertEquals", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort0File1TitleBigger", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "0", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertThat", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "greaterThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort0File2TitleBigger", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "0", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertThat", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "lessThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort0TitleSame", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "0", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertEquals", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort1File1DateLastest", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "1", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertThat", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "greaterThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort1File2DateLastest", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "1", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertThat", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "lessThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort1FileDateSame", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "1", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertEquals", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort2NoDirAndFile1SizeBigger", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "<NUM_LIT:2>", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertThat", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "greaterThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort2NoDirAndFile2SizeBigger", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "<NUM_LIT:2>", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertThat", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "lessThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort2NoDirAndFileSizeSame", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "<NUM_LIT:2>", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertEquals", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort2File1DirAndFile1TitleBigger", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "<NUM_LIT:2>", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "true", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertThat", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "greaterThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort2File1DirAndFile2TitleBigger", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "<NUM_LIT:2>", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "true", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertThat", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "lessThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort2File2DirAndFile1TitleBigger", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "<NUM_LIT:2>", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "true", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertThat", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "greaterThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort2File2DirAndFile2TitleBigger", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "<NUM_LIT:2>", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "true", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertThat", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "lessThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort2File2DirAndFileTitleSame", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "<NUM_LIT:2>", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "true", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "true", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertEquals", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort3FileExtensionSameAndFile1TitleBigger", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "<NUM_LIT:3>", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertThat", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "greaterThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort3FileExtensionSameAndFile2TitleBigger", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "<NUM_LIT:3>", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertThat", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "lessThan", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSort3FileExtensionSameAndFileTitleSame", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "<NUM_LIT:3>", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertEquals", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSortAnotherNumber", "(", ")", "{", "FileListSorter", "fileListSorter", "=", "new", "FileListSorter", "(", "-", "1", ",", "<NUM_LIT:4>", ",", "1", ")", ";", "LayoutElementParcelable", "file1", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "LayoutElementParcelable", "file2", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "true", ",", "\"", "<STR_LIT>", "\"", ",", "false", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "assertEquals", "(", "fileListSorter", ".", "compare", "(", "file1", ",", "file2", ")", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "throws", "IOException", "{", "sysroot", ".", "mkdir", "(", ")", ";", "for", "(", "String", "s", ":", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ")", "{", "File", "subdir", "=", "new", "File", "(", "sysroot", ",", "s", ")", ";", "subdir", ".", "mkdir", "(", ")", ";", "Files", ".", "createSymbolicLink", "(", "Paths", ".", "get", "(", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "s", ")", ".", "getAbsolutePath", "(", ")", ")", ",", "Paths", ".", "get", "(", "subdir", ".", "getAbsolutePath", "(", ")", ")", ")", ";", "}", "for", "(", "String", "s", ":", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ")", "{", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "s", ")", ".", "mkdir", "(", ")", ";", "}", "for", "(", "int", "i", "=", "1", ";", "i", "<", "=", "<NUM_LIT:4>", ";", "i", "+", "+", ")", "{", "File", "f", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "i", "+", "\"", "<STR_LIT>", "\"", ")", ";", "FileOutputStream", "out", "=", "new", "FileOutputStream", "(", "f", ")", ";", "out", ".", "write", "(", "i", ")", ";", "out", ".", "close", "(", ")", ";", "Files", ".", "createSymbolicLink", "(", "Paths", ".", "get", "(", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", "+", "i", "+", "\"", "<STR_LIT>", "\"", ")", ".", "getAbsolutePath", "(", ")", ")", ",", "Paths", ".", "get", "(", "f", ".", "getAbsolutePath", "(", ")", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testNonRoot", "(", ")", "throws", "InterruptedException", "{", "runVerify", "(", "false", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testRoot", "(", ")", "throws", "InterruptedException", ",", "SecurityException", ",", "IllegalArgumentException", "{", "MainActivity", ".", "shellInteractive", "=", "new", "Shell", ".", "Builder", "(", ")", ".", "setShell", "(", "\"", "<STR_LIT>", "\"", ")", ".", "open", "(", ")", ";", "runVerify", "(", "true", ")", ";", "}", "</s>"]
["<s>", "private", "void", "runVerify", "(", "boolean", "root", ")", "throws", "InterruptedException", "{", "List", "<", "String", ">", "result", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "CountDownLatch", "waiter", "=", "new", "CountDownLatch", "(", "expected", ".", "size", "(", ")", ")", ";", "RootHelper", ".", "getFiles", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ".", "getAbsolutePath", "(", ")", ",", "root", ",", "true", ",", "mode", "-", ">", "{", "}", ",", "file", "-", ">", "{", "if", "(", "result", ".", "contains", "(", "file", ".", "getName", "(", ")", ")", ")", "fail", "(", "file", ".", "getName", "(", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "result", ".", "add", "(", "file", ".", "getName", "(", ")", ")", ";", "waiter", ".", "countDown", "(", ")", ";", "}", ")", ";", "waiter", ".", "await", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testNormalListDirs", "(", ")", "throws", "InterruptedException", "{", "for", "(", "String", "s", ":", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ")", "{", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "s", ")", ".", "mkdir", "(", ")", ";", "}", "performVerify", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testListDirsAndSymlinks", "(", ")", "throws", "Exception", "{", "File", "sysroot", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "sysroot", ".", "mkdir", "(", ")", ";", "for", "(", "String", "s", ":", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ")", "{", "File", "subdir", "=", "new", "File", "(", "sysroot", ",", "s", ")", ";", "subdir", ".", "mkdir", "(", ")", ";", "Files", ".", "createSymbolicLink", "(", "Paths", ".", "get", "(", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "s", ")", ".", "getAbsolutePath", "(", ")", ")", ",", "Paths", ".", "get", "(", "subdir", ".", "getAbsolutePath", "(", ")", ")", ")", ";", "}", "for", "(", "String", "s", ":", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ")", "{", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "s", ")", ".", "mkdir", "(", ")", ";", "}", "performVerify", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "performVerify", "(", ")", "throws", "InterruptedException", "{", "List", "<", "String", ">", "result", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "HybridFile", "file", "=", "new", "HybridFile", "(", "OpenMode", ".", "SFTP", ",", "\"", "<STR_LIT>", "\"", ")", ";", "CountDownLatch", "waiter", "=", "new", "CountDownLatch", "(", "<NUM_LIT:7>", ")", ";", "file", ".", "forEachChildrenFile", "(", "RuntimeEnvironment", ".", "application", ",", "false", ",", "(", "fileFound", ")", "-", ">", "{", "assertTrue", "(", "fileFound", ".", "getPath", "(", ")", "+", "\"", "<STR_LIT>", "\"", ",", "fileFound", ".", "isDirectory", "(", ")", ")", ";", "result", ".", "add", "(", "fileFound", ".", "getName", "(", ")", ")", ";", "waiter", ".", "countDown", "(", ")", ";", "}", ")", ";", "waiter", ".", "await", "(", ")", ";", "assertEquals", "(", "<NUM_LIT:7>", ",", "result", ".", "size", "(", ")", ")", ";", "assertThat", "(", "result", ",", "hasItems", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testListDirsAndFilesAndSymlinks", "(", ")", "throws", "Exception", "{", "File", "sysroot", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "sysroot", ".", "mkdir", "(", ")", ";", "for", "(", "String", "s", ":", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ")", "{", "File", "subdir", "=", "new", "File", "(", "sysroot", ",", "s", ")", ";", "subdir", ".", "mkdir", "(", ")", ";", "Files", ".", "createSymbolicLink", "(", "Paths", ".", "get", "(", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "s", ")", ".", "getAbsolutePath", "(", ")", ")", ",", "Paths", ".", "get", "(", "subdir", ".", "getAbsolutePath", "(", ")", ")", ")", ";", "}", "for", "(", "String", "s", ":", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ")", "{", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "s", ")", ".", "mkdir", "(", ")", ";", "}", "for", "(", "int", "i", "=", "1", ";", "i", "<", "=", "<NUM_LIT:4>", ";", "i", "+", "+", ")", "{", "File", "f", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "i", "+", "\"", "<STR_LIT>", "\"", ")", ";", "FileOutputStream", "out", "=", "new", "FileOutputStream", "(", "f", ")", ";", "out", ".", "write", "(", "i", ")", ";", "out", ".", "close", "(", ")", ";", "Files", ".", "createSymbolicLink", "(", "Paths", ".", "get", "(", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", "+", "i", "+", "\"", "<STR_LIT>", "\"", ")", ".", "getAbsolutePath", "(", ")", ")", ",", "Paths", ".", "get", "(", "f", ".", "getAbsolutePath", "(", ")", ")", ")", ";", "}", "List", "<", "String", ">", "dirs", "=", "new", "ArrayList", "<", ">", "(", ")", ",", "files", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "HybridFile", "file", "=", "new", "HybridFile", "(", "OpenMode", ".", "SFTP", ",", "\"", "<STR_LIT>", "\"", ")", ";", "CountDownLatch", "waiter", "=", "new", "CountDownLatch", "(", "<NUM_LIT:15>", ")", ";", "file", ".", "forEachChildrenFile", "(", "RuntimeEnvironment", ".", "application", ",", "false", ",", "(", "fileFound", ")", "-", ">", "{", "if", "(", "!", "fileFound", ".", "getName", "(", ")", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "assertTrue", "(", "fileFound", ".", "getPath", "(", ")", "+", "\"", "<STR_LIT>", "\"", ",", "fileFound", ".", "isDirectory", "(", ")", ")", ";", "dirs", ".", "add", "(", "fileFound", ".", "getName", "(", ")", ")", ";", "}", "else", "{", "assertFalse", "(", "fileFound", ".", "getPath", "(", ")", "+", "\"", "<STR_LIT>", "\"", ",", "fileFound", ".", "isDirectory", "(", ")", ")", ";", "files", ".", "add", "(", "fileFound", ".", "getName", "(", ")", ")", ";", "}", "waiter", ".", "countDown", "(", ")", ";", "}", ")", ";", "waiter", ".", "await", "(", ")", ";", "assertEquals", "(", "<NUM_LIT:7>", ",", "dirs", ".", "size", "(", ")", ")", ";", "assertThat", "(", "dirs", ",", "hasItems", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertThat", "(", "files", ",", "hasItems", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "BeforeClass", "public", "static", "void", "bootstrap", "(", ")", "throws", "Exception", "{", "hostKeyProvider", "=", "new", "TestKeyProvider", "(", ")", ";", "userKeyProvider", "=", "new", "TestKeyProvider", "(", ")", ";", "}", "</s>"]
["<s>", "@", "After", "public", "void", "tearDown", "(", ")", "{", "if", "(", "server", "!", "=", "null", "&", "&", "server", ".", "isOpen", "(", ")", ")", "server", ".", "close", "(", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetConnectionWithUsernameAndPassword", "(", ")", "throws", "IOException", "{", "createSshServer", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "assertNotNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT:127.0.0.1>", "\"", ",", "<NUM_LIT>", ",", "SecurityUtils", ".", "getFingerprint", "(", "hostKeyProvider", ".", "getKeyPair", "(", ")", ".", "getPublic", "(", ")", ")", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "null", ")", ")", ";", "assertNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT:127.0.0.1>", "\"", ",", "<NUM_LIT>", ",", "SecurityUtils", ".", "getFingerprint", "(", "hostKeyProvider", ".", "getKeyPair", "(", ")", ".", "getPublic", "(", ")", ")", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "null", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetConnectionWithUsernameAndKey", "(", ")", "throws", "IOException", "{", "createSshServer", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "assertNotNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT:127.0.0.1>", "\"", ",", "<NUM_LIT>", ",", "SecurityUtils", ".", "getFingerprint", "(", "hostKeyProvider", ".", "getKeyPair", "(", ")", ".", "getPublic", "(", ")", ")", ",", "\"", "<STR_LIT>", "\"", ",", "null", ",", "userKeyProvider", ".", "getKeyPair", "(", ")", ")", ")", ";", "assertNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT:127.0.0.1>", "\"", ",", "<NUM_LIT>", ",", "SecurityUtils", ".", "getFingerprint", "(", "hostKeyProvider", ".", "getKeyPair", "(", ")", ".", "getPublic", "(", ")", ")", ",", "\"", "<STR_LIT>", "\"", ",", "null", ",", "userKeyProvider", ".", "getKeyPair", "(", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetConnectionWithUrl", "(", ")", "throws", "IOException", "{", "String", "validPassword", "=", "\"", "<STR_LIT>", "\"", ";", "createSshServer", "(", "\"", "<STR_LIT>", "\"", ",", "validPassword", ")", ";", "saveSshConnectionSettings", "(", "\"", "<STR_LIT>", "\"", ",", "validPassword", ",", "null", ")", ";", "assertNotNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetConnectionWithUrlAndKeyAuth", "(", ")", "throws", "IOException", "{", "createSshServer", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "saveSshConnectionSettings", "(", "\"", "<STR_LIT>", "\"", ",", "null", ",", "userKeyProvider", ".", "getKeyPair", "(", ")", ".", "getPrivate", "(", ")", ")", ";", "assertNotNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetConnectionWithUrlHavingComplexPassword1", "(", ")", "throws", "IOException", "{", "String", "validPassword", "=", "\"", "<STR_LIT>", "\"", ";", "createSshServer", "(", "\"", "<STR_LIT>", "\"", ",", "validPassword", ")", ";", "saveSshConnectionSettings", "(", "\"", "<STR_LIT>", "\"", ",", "validPassword", ",", "null", ")", ";", "assertNotNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetConnectionWithUrlHavingComplexPassword2", "(", ")", "throws", "IOException", "{", "String", "validPassword", "=", "\"", "<STR_LIT>", "\"", ";", "createSshServer", "(", "\"", "<STR_LIT>", "\"", ",", "validPassword", ")", ";", "saveSshConnectionSettings", "(", "\"", "<STR_LIT>", "\"", ",", "validPassword", ",", "null", ")", ";", "assertNotNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetConnectionWithUrlHavingComplexCredential1", "(", ")", "throws", "IOException", "{", "String", "validPassword", "=", "\"", "<STR_LIT>", "\"", ";", "createSshServer", "(", "\"", "<STR_LIT>", "\"", ",", "validPassword", ")", ";", "saveSshConnectionSettings", "(", "\"", "<STR_LIT>", "\"", ",", "validPassword", ",", "null", ")", ";", "assertNotNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetConnectionWithUrlHavingComplexCredential2", "(", ")", "throws", "IOException", "{", "String", "validPassword", "=", "\"", "<STR_LIT>", "\"", ";", "createSshServer", "(", "\"", "<STR_LIT>", "\"", ",", "validPassword", ")", ";", "saveSshConnectionSettings", "(", "\"", "<STR_LIT>", "\"", ",", "validPassword", ",", "null", ")", ";", "assertNotNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetConnectionWithUrlHavingComplexCredential3", "(", ")", "throws", "IOException", "{", "String", "validUsername", "=", "\"", "<STR_LIT>", "\"", ";", "String", "validPassword", "=", "\"", "<STR_LIT>", "\"", ";", "createSshServer", "(", "validUsername", ",", "validPassword", ")", ";", "saveSshConnectionSettings", "(", "validUsername", ",", "validPassword", ",", "null", ")", ";", "assertNotNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetConnectionWithUrlHavingComplexCredential4", "(", ")", "throws", "IOException", "{", "String", "validUsername", "=", "\"", "<STR_LIT>", "\"", ";", "String", "validPassword", "=", "\"", "<STR_LIT>", "\"", ";", "createSshServer", "(", "validUsername", ",", "validPassword", ")", ";", "saveSshConnectionSettings", "(", "validUsername", ",", "validPassword", ",", "null", ")", ";", "assertNotNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertNull", "(", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "createSshServer", "(", "@", "NonNull", "String", "validUsername", ",", "@", "Nullable", "String", "validPassword", ")", "throws", "IOException", "{", "server", "=", "SshServer", ".", "setUpDefaultServer", "(", ")", ";", "server", ".", "setPublickeyAuthenticator", "(", "AcceptAllPublickeyAuthenticator", ".", "INSTANCE", ")", ";", "server", ".", "setPort", "(", "<NUM_LIT>", ")", ";", "server", ".", "setHost", "(", "\"", "<STR_LIT:127.0.0.1>", "\"", ")", ";", "server", ".", "setKeyPairProvider", "(", "hostKeyProvider", ")", ";", "if", "(", "validPassword", "!", "=", "null", ")", "server", ".", "setPasswordAuthenticator", "(", "(", "(", "username", ",", "password", ",", "session", ")", "-", ">", "username", ".", "equals", "(", "validUsername", ")", "&", "&", "password", ".", "equals", "(", "validPassword", ")", ")", ")", ";", "server", ".", "setPublickeyAuthenticator", "(", "(", "username", ",", "key", ",", "session", ")", "-", ">", "username", ".", "equals", "(", "validUsername", ")", "&", "&", "key", ".", "equals", "(", "userKeyProvider", ".", "getKeyPair", "(", ")", ".", "getPublic", "(", ")", ")", ")", ";", "server", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "saveSshConnectionSettings", "(", "@", "NonNull", "String", "validUsername", ",", "@", "Nullable", "String", "validPassword", ",", "@", "Nullable", "PrivateKey", "privateKey", ")", "{", "utilsHandler", "=", "new", "UtilsHandler", "(", "RuntimeEnvironment", ".", "application", ")", ";", "utilsHandler", ".", "onCreate", "(", "utilsHandler", ".", "getWritableDatabase", "(", ")", ")", ";", "String", "privateKeyContents", "=", "null", ";", "if", "(", "privateKey", "!", "=", "null", ")", "{", "StringWriter", "writer", "=", "new", "StringWriter", "(", ")", ";", "JcaPEMWriter", "jw", "=", "new", "JcaPEMWriter", "(", "writer", ")", ";", "try", "{", "jw", ".", "writeObject", "(", "userKeyProvider", ".", "getKeyPair", "(", ")", ".", "getPrivate", "(", ")", ")", ";", "jw", ".", "flush", "(", ")", ";", "jw", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "shallNeverHappen", ")", "{", "}", "privateKeyContents", "=", "writer", ".", "toString", "(", ")", ";", "}", "StringBuilder", "fullUri", "=", "new", "StringBuilder", "(", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "validUsername", ")", ";", "if", "(", "validPassword", "!", "=", "null", ")", "fullUri", ".", "append", "(", "<CHAR_LIT::>", ")", ".", "append", "(", "validPassword", ")", ";", "fullUri", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "validPassword", "!", "=", "null", ")", "utilsHandler", ".", "addSsh", "(", "\"", "<STR_LIT>", "\"", ",", "SshClientUtils", ".", "encryptSshPathAsNecessary", "(", "fullUri", ".", "toString", "(", ")", ")", ",", "SecurityUtils", ".", "getFingerprint", "(", "hostKeyProvider", ".", "getKeyPair", "(", ")", ".", "getPublic", "(", ")", ")", ",", "null", ",", "null", ")", ";", "else", "utilsHandler", ".", "addSsh", "(", "\"", "<STR_LIT>", "\"", ",", "fullUri", ".", "toString", "(", ")", ",", "SecurityUtils", ".", "getFingerprint", "(", "hostKeyProvider", ".", "getKeyPair", "(", ")", ".", "getPublic", "(", ")", ")", ",", "\"", "<STR_LIT>", "\"", ",", "privateKeyContents", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testCreateFileNormal", "(", ")", "throws", "Exception", "{", "createSshServer", "(", "new", "VirtualFileSystemFactory", "(", "Paths", ".", "get", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ".", "getAbsolutePath", "(", ")", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testCreateFilePermissionDenied", "(", ")", "throws", "Exception", "{", "createSshServer", "(", "new", "VirtualFileSystemFactory", "(", ")", "{", "@", "Override", "public", "FileSystem", "createFileSystem", "(", "Session", "session", ")", "throws", "IOException", "{", "return", "new", "BlockFileCreationFileSystemProvider", "(", ")", ".", "newFileSystem", "(", "Paths", ".", "get", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ".", "getAbsolutePath", "(", ")", ")", ",", "Collections", ".", "emptyMap", "(", ")", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "FileSystem", "createFileSystem", "(", "Session", "session", ")", "throws", "IOException", "{", "return", "new", "BlockFileCreationFileSystemProvider", "(", ")", ".", "newFileSystem", "(", "Paths", ".", "get", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ".", "getAbsolutePath", "(", ")", ")", ",", "Collections", ".", "emptyMap", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "BeforeClass", "public", "static", "void", "bootstrap", "(", ")", "throws", "Exception", "{", "hostKeyProvider", "=", "new", "TestKeyProvider", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "throws", "IOException", "{", "createSshServer", "(", "new", "VirtualFileSystemFactory", "(", "Paths", ".", "get", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ".", "getAbsolutePath", "(", ")", ")", ")", ")", ";", "prepareSshConnection", "(", ")", ";", "}", "</s>"]
["<s>", "@", "After", "public", "void", "tearDown", "(", ")", "{", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "expungeAllConnections", "(", ")", ";", "if", "(", "server", "!", "=", "null", "&", "&", "server", ".", "isOpen", "(", ")", ")", "server", ".", "close", "(", "true", ")", ";", "}", "</s>"]
["<s>", "protected", "final", "void", "prepareSshConnection", "(", ")", "{", "String", "hostFingerprint", "=", "KeyUtils", ".", "getFingerPrint", "(", "hostKeyProvider", ".", "getKeyPair", "(", ")", ".", "getPublic", "(", ")", ")", ";", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "\"", "<STR_LIT:127.0.0.1>", "\"", ",", "<NUM_LIT>", ",", "hostFingerprint", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "}", "</s>"]
["<s>", "protected", "final", "void", "createSshServer", "(", "FileSystemFactory", "fileSystemFactory", ")", "throws", "IOException", "{", "server", "=", "SshServer", ".", "setUpDefaultServer", "(", ")", ";", "server", ".", "setFileSystemFactory", "(", "fileSystemFactory", ")", ";", "server", ".", "setPublickeyAuthenticator", "(", "AcceptAllPublickeyAuthenticator", ".", "INSTANCE", ")", ";", "server", ".", "setPort", "(", "<NUM_LIT>", ")", ";", "server", ".", "setHost", "(", "\"", "<STR_LIT:127.0.0.1>", "\"", ")", ";", "server", ".", "setKeyPairProvider", "(", "hostKeyProvider", ")", ";", "server", ".", "setCommandFactory", "(", "new", "ScpCommandFactory", "(", ")", ")", ";", "server", ".", "setSubsystemFactories", "(", "Arrays", ".", "asList", "(", "new", "SftpSubsystemFactory", "(", ")", ")", ")", ";", "server", ".", "setPasswordAuthenticator", "(", "(", "(", "username", ",", "password", ",", "session", ")", "-", ">", "username", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "password", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", ")", ";", "server", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "FileChannel", "newFileChannel", "(", "Path", "path", ",", "Set", "<", "?", "extends", "OpenOption", ">", "options", ",", "FileAttribute", "<", "?", ">", ".", ".", ".", "attrs", ")", "throws", "IOException", "{", "Path", "r", "=", "unroot", "(", "path", ")", ";", "FileSystemProvider", "p", "=", "provider", "(", "r", ")", ";", "return", "p", ".", "newFileChannel", "(", "r", ",", "Collections", ".", "singleton", "(", "StandardOpenOption", ".", "READ", ")", ",", "attrs", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "OutputStream", "newOutputStream", "(", "Path", "path", ",", "OpenOption", ".", ".", ".", "options", ")", "throws", "IOException", "{", "throw", "new", "FileSystemException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "TestKeyProvider", "(", ")", "throws", "Exception", "{", "KeyPairGenerator", "keyPairGenerator", "=", "KeyPairGenerator", ".", "getInstance", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "keyPairGenerator", ".", "initialize", "(", "<NUM_LIT>", ",", "new", "SecureRandom", "(", ")", ")", ";", "keyPair", "=", "keyPairGenerator", ".", "generateKeyPair", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Iterable", "<", "KeyPair", ">", "loadKeys", "(", ")", "{", "return", "Collections", ".", "singleton", "(", "keyPair", ")", ";", "}", "</s>"]
["<s>", "public", "KeyPair", "getKeyPair", "(", ")", "{", "return", "keyPair", ";", "}", "</s>"]
["<s>", "public", "static", "void", "init", "(", "Context", "context", ")", "{", "for", "(", "String", "type", ":", "ARCHIVE_TYPES", ")", "{", "readArchive", "(", "context", ",", "type", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "byte", "[", "]", "readArchive", "(", "String", "type", ")", "throws", "IOException", "{", "return", "IOUtils", ".", "toByteArray", "(", "classLoader", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", "+", "type", ")", ")", ";", "}", "</s>"]
["<s>", "private", "static", "void", "readArchive", "(", "Context", "context", ",", "String", "type", ")", "{", "try", "{", "Uri", "uri", "=", "Uri", ".", "parse", "(", "\"", "<STR_LIT>", "\"", "+", "type", ")", ";", "ContentResolver", "contentResolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "ShadowContentResolver", "shadowContentResolver", "=", "Shadows", ".", "shadowOf", "(", "contentResolver", ")", ";", "shadowContentResolver", ".", "registerInputStream", "(", "uri", ",", "new", "ByteArrayInputStream", "(", "readArchive", "(", "type", ")", ")", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "{", "context", "=", "RuntimeEnvironment", ".", "application", ";", "emptyUpdateListener", "=", "new", "Extractor", ".", "OnUpdate", "(", ")", "{", "@", "Override", "public", "void", "onStart", "(", "long", "totalBytes", ",", "String", "firstEntryName", ")", "{", "}", "@", "Override", "public", "void", "onUpdate", "(", "String", "entryPath", ")", "{", "}", "@", "Override", "public", "void", "onFinish", "(", ")", "{", "}", "@", "Override", "public", "boolean", "isCancelled", "(", ")", "{", "return", "false", ";", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onStart", "(", "long", "totalBytes", ",", "String", "firstEntryName", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpdate", "(", "String", "entryPath", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onFinish", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isCancelled", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getExtractorInstance", "(", ")", "{", "File", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Extractor", "result", "=", "CompressedHelper", ".", "getExtractorInstance", "(", "context", ",", "file", ",", "\"", "<STR_LIT>", "\"", ",", "emptyUpdateListener", ",", "null", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "ZipExtractor", ".", "class", ")", ";", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "result", "=", "CompressedHelper", ".", "getExtractorInstance", "(", "context", ",", "file", ",", "\"", "<STR_LIT>", "\"", ",", "emptyUpdateListener", ",", "null", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "ZipExtractor", ".", "class", ")", ";", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "result", "=", "CompressedHelper", ".", "getExtractorInstance", "(", "context", ",", "file", ",", "\"", "<STR_LIT>", "\"", ",", "emptyUpdateListener", ",", "null", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "ZipExtractor", ".", "class", ")", ";", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "result", "=", "CompressedHelper", ".", "getExtractorInstance", "(", "context", ",", "file", ",", "\"", "<STR_LIT>", "\"", ",", "emptyUpdateListener", ",", "null", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "TarExtractor", ".", "class", ")", ";", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "result", "=", "CompressedHelper", ".", "getExtractorInstance", "(", "context", ",", "file", ",", "\"", "<STR_LIT>", "\"", ",", "emptyUpdateListener", ",", "null", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "GzipExtractor", ".", "class", ")", ";", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "result", "=", "CompressedHelper", ".", "getExtractorInstance", "(", "context", ",", "file", ",", "\"", "<STR_LIT>", "\"", ",", "emptyUpdateListener", ",", "null", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "RarExtractor", ".", "class", ")", ";", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "result", "=", "CompressedHelper", ".", "getExtractorInstance", "(", "context", ",", "file", ",", "\"", "<STR_LIT>", "\"", ",", "emptyUpdateListener", ",", "null", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "SevenZipExtractor", ".", "class", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getCompressorInstance", "(", ")", "{", "File", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Decompressor", "result", "=", "CompressedHelper", ".", "getCompressorInstance", "(", "context", ",", "file", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "ZipDecompressor", ".", "class", ")", ";", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "result", "=", "CompressedHelper", ".", "getCompressorInstance", "(", "context", ",", "file", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "ZipDecompressor", ".", "class", ")", ";", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "result", "=", "CompressedHelper", ".", "getCompressorInstance", "(", "context", ",", "file", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "ZipDecompressor", ".", "class", ")", ";", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "result", "=", "CompressedHelper", ".", "getCompressorInstance", "(", "context", ",", "file", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "TarDecompressor", ".", "class", ")", ";", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "result", "=", "CompressedHelper", ".", "getCompressorInstance", "(", "context", ",", "file", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "GzipDecompressor", ".", "class", ")", ";", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "result", "=", "CompressedHelper", ".", "getCompressorInstance", "(", "context", ",", "file", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "RarDecompressor", ".", "class", ")", ";", "file", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "result", "=", "CompressedHelper", ".", "getCompressorInstance", "(", "context", ",", "file", ")", ";", "assertEquals", "(", "result", ".", "getClass", "(", ")", ",", "SevenZipDecompressor", ".", "class", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "isFileExtractableTest", "(", ")", "throws", "Exception", "{", "assertTrue", "(", "CompressedHelper", ".", "isFileExtractable", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertTrue", "(", "CompressedHelper", ".", "isFileExtractable", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertTrue", "(", "CompressedHelper", ".", "isFileExtractable", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertTrue", "(", "CompressedHelper", ".", "isFileExtractable", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertTrue", "(", "CompressedHelper", ".", "isFileExtractable", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertTrue", "(", "CompressedHelper", ".", "isFileExtractable", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertTrue", "(", "CompressedHelper", ".", "isFileExtractable", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertFalse", "(", "CompressedHelper", ".", "isFileExtractable", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "getFileNameTest", "(", ")", "throws", "Exception", "{", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "CompressedHelper", ".", "getFileName", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "CompressedHelper", ".", "getFileName", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "CompressedHelper", ".", "getFileName", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "CompressedHelper", ".", "getFileName", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "CompressedHelper", ".", "getFileName", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "CompressedHelper", ".", "getFileName", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "CompressedHelper", ".", "getFileName", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "CompressedHelper", ".", "getFileName", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "CompressedHelper", ".", "getFileName", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertEquals", "(", "\"", "\"", ",", "CompressedHelper", ".", "getFileName", "(", "\"", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onStart", "(", "long", "totalBytes", ",", "String", "firstEntryName", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpdate", "(", "String", "entryPath", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onFinish", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isCancelled", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "throws", "Exception", "{", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "zipfile1", ")", ")", ";", "IOUtils", ".", "copy", "(", "getClass", "(", ")", ".", "getClassLoader", "(", ")", ".", "getResourceAsStream", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "FileOutputStream", "(", "zipfile2", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtractZipWithWrongPathUnix", "(", ")", "throws", "Exception", "{", "Extractor", "extractor", "=", "new", "ZipExtractor", "(", "RuntimeEnvironment", ".", "application", ",", "zipfile1", ".", "getAbsolutePath", "(", ")", ",", "Environment", ".", "getExternalStorageDirectory", "(", ")", ".", "getAbsolutePath", "(", ")", ",", "emptyListener", ",", "null", ")", ";", "extractor", ".", "extractEverything", "(", ")", ";", "assertEquals", "(", "1", ",", "extractor", ".", "getInvalidArchiveEntries", "(", ")", ".", "size", "(", ")", ")", ";", "assertTrue", "(", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ".", "exists", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtractZipWithWrongPathWindows", "(", ")", "throws", "Exception", "{", "Extractor", "extractor", "=", "new", "ZipExtractor", "(", "RuntimeEnvironment", ".", "application", ",", "zipfile2", ".", "getAbsolutePath", "(", ")", ",", "Environment", ".", "getExternalStorageDirectory", "(", ")", ".", "getAbsolutePath", "(", ")", ",", "emptyListener", ",", "null", ")", ";", "extractor", ".", "extractEverything", "(", ")", ";", "assertEquals", "(", "1", ",", "extractor", ".", "getInvalidArchiveEntries", "(", ")", ".", "size", "(", ")", ")", ";", "assertTrue", "(", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ".", "exists", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testZipHelperTaskShouldOmitInvalidEntries", "(", ")", "throws", "Exception", "{", "ZipHelperTask", "task", "=", "new", "ZipHelperTask", "(", "RuntimeEnvironment", ".", "application", ",", "zipfile1", ".", "getAbsolutePath", "(", ")", ",", "null", ",", "false", ",", "(", "data", ")", "-", ">", "{", "}", ")", ";", "List", "<", "CompressedObjectParcelable", ">", "result", "=", "task", ".", "execute", "(", ")", ".", "get", "(", ")", ";", "assertEquals", "(", "1", ",", "result", ".", "size", "(", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "result", ".", "get", "(", "0", ")", ".", "path", ")", ";", "assertEquals", "(", "RuntimeEnvironment", ".", "application", ".", "getString", "(", "R", ".", "string", ".", "multiple_invalid_archive_entries", ")", ",", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testZipHelperTaskShouldOmitInvalidEntriesWithBackslash", "(", ")", "throws", "Exception", "{", "ZipHelperTask", "task", "=", "new", "ZipHelperTask", "(", "RuntimeEnvironment", ".", "application", ",", "zipfile2", ".", "getAbsolutePath", "(", ")", ",", "null", ",", "false", ",", "(", "data", ")", "-", ">", "{", "}", ")", ";", "List", "<", "CompressedObjectParcelable", ">", "result", "=", "task", ".", "execute", "(", ")", ".", "get", "(", ")", ";", "assertEquals", "(", "1", ",", "result", ".", "size", "(", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "result", ".", "get", "(", "0", ")", ".", "path", ")", ";", "assertEquals", "(", "RuntimeEnvironment", ".", "application", ".", "getString", "(", "R", ".", "string", ".", "multiple_invalid_archive_entries", ")", ",", "ShadowToast", ".", "getTextOfLatestToast", "(", ")", ")", ";", "}", "</s>"]
["<s>", "protected", "abstract", "Class", "<", "?", "extends", "Extractor", ">", "extractorClass", "(", ")", ";", "</s>"]
["<s>", "protected", "abstract", "String", "getArchiveType", "(", ")", ";", "</s>"]
["<s>", "protected", "String", "getArchivePassword", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setUp", "(", ")", "throws", "Exception", "{", "ShadowEnvironment", ".", "setExternalStorageState", "(", "Environment", ".", "MEDIA_MOUNTED", ")", ";", "TestArchives", ".", "init", "(", "RuntimeEnvironment", ".", "application", ")", ";", "copyArchiveToStorage", "(", ")", ";", "}", "</s>"]
["<s>", "@", "After", "public", "void", "tearDown", "(", ")", "throws", "Exception", "{", "File", "extractedArchiveRoot", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Files", ".", "walk", "(", "Paths", ".", "get", "(", "extractedArchiveRoot", ".", "getAbsolutePath", "(", ")", ")", ")", ".", "map", "(", "Path", ":", ":", "toFile", ")", ".", "forEach", "(", "File", ":", ":", "delete", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testExtractFiles", "(", ")", "throws", "Exception", "{", "CountDownLatch", "latch", "=", "new", "CountDownLatch", "(", "1", ")", ";", "Extractor", "extractor", "=", "extractorClass", "(", ")", ".", "getConstructor", "(", "Context", ".", "class", ",", "String", ".", "class", ",", "String", ".", "class", ",", "Extractor", ".", "OnUpdate", ".", "class", ",", "String", ".", "class", ")", ".", "newInstance", "(", "RuntimeEnvironment", ".", "application", ",", "getArchiveFile", "(", ")", ".", "getAbsolutePath", "(", ")", ",", "Environment", ".", "getExternalStorageDirectory", "(", ")", ".", "getAbsolutePath", "(", ")", ",", "new", "Extractor", ".", "OnUpdate", "(", ")", "{", "@", "Override", "public", "void", "onStart", "(", "long", "totalBytes", ",", "String", "firstEntryName", ")", "{", "}", "@", "Override", "public", "void", "onUpdate", "(", "String", "entryPath", ")", "{", "}", "@", "Override", "public", "void", "onFinish", "(", ")", "{", "latch", ".", "countDown", "(", ")", ";", "try", "{", "verifyExtractedArchiveContents", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "fail", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "@", "Override", "public", "boolean", "isCancelled", "(", ")", "{", "return", "false", ";", "}", "}", ",", "getArchivePassword", "(", ")", ")", ";", "extractor", ".", "extractEverything", "(", ")", ";", "latch", ".", "await", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onStart", "(", "long", "totalBytes", ",", "String", "firstEntryName", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpdate", "(", "String", "entryPath", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onFinish", "(", ")", "{", "latch", ".", "countDown", "(", ")", ";", "try", "{", "verifyExtractedArchiveContents", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "fail", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isCancelled", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "private", "void", "verifyExtractedArchiveContents", "(", ")", "throws", "IOException", "{", "File", "extractedArchiveRoot", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "assertTrue", "(", "extractedArchiveRoot", ".", "exists", "(", ")", ")", ";", "assertTrue", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT:1>", "\"", ")", ".", "exists", "(", ")", ")", ";", "assertTrue", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT:2>", "\"", ")", ".", "exists", "(", ")", ")", ";", "assertTrue", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT:3>", "\"", ")", ".", "exists", "(", ")", ")", ";", "assertTrue", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT:4>", "\"", ")", ".", "exists", "(", ")", ")", ";", "assertTrue", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT>", "\"", ")", ".", "exists", "(", ")", ")", ";", "assertTrue", "(", "new", "File", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT:1>", "\"", ")", ",", "\"", "<STR_LIT>", "\"", ")", ".", "exists", "(", ")", ")", ";", "assertTrue", "(", "new", "File", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT:2>", "\"", ")", ",", "\"", "<STR_LIT>", "\"", ")", ".", "exists", "(", ")", ")", ";", "assertTrue", "(", "new", "File", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT:3>", "\"", ")", ",", "\"", "<STR_LIT:6>", "\"", ")", ".", "exists", "(", ")", ")", ";", "assertTrue", "(", "new", "File", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT:4>", "\"", ")", ",", "\"", "<STR_LIT:5>", "\"", ")", ".", "exists", "(", ")", ")", ";", "assertTrue", "(", "new", "File", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT>", "\"", ")", ",", "\"", "<STR_LIT>", "\"", ")", ".", "exists", "(", ")", ")", ";", "assertTrue", "(", "IOUtils", ".", "toByteArray", "(", "new", "FileInputStream", "(", "new", "File", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT:1>", "\"", ")", ",", "\"", "<STR_LIT>", "\"", ")", ")", ")", ".", "length", "=", "=", "<NUM_LIT:2>", ")", ";", "assertTrue", "(", "IOUtils", ".", "toByteArray", "(", "new", "FileInputStream", "(", "new", "File", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT:2>", "\"", ")", ",", "\"", "<STR_LIT>", "\"", ")", ")", ")", ".", "length", "=", "=", "<NUM_LIT:3>", ")", ";", "assertTrue", "(", "IOUtils", ".", "toByteArray", "(", "new", "FileInputStream", "(", "new", "File", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT:3>", "\"", ")", ",", "\"", "<STR_LIT:6>", "\"", ")", ")", ")", ".", "length", "=", "=", "<NUM_LIT:4>", ")", ";", "assertTrue", "(", "IOUtils", ".", "toByteArray", "(", "new", "FileInputStream", "(", "new", "File", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT:4>", "\"", ")", ",", "\"", "<STR_LIT:5>", "\"", ")", ")", ")", ".", "length", "=", "=", "<NUM_LIT:5>", ")", ";", "assertTrue", "(", "IOUtils", ".", "toByteArray", "(", "new", "FileInputStream", "(", "new", "File", "(", "new", "File", "(", "extractedArchiveRoot", ",", "\"", "<STR_LIT>", "\"", ")", ",", "\"", "<STR_LIT>", "\"", ")", ")", ")", ".", "length", "=", "=", "<NUM_LIT>", ")", ";", "}", "</s>"]
["<s>", "private", "void", "copyArchiveToStorage", "(", ")", "throws", "IOException", "{", "IOUtils", ".", "copy", "(", "new", "ByteArrayInputStream", "(", "TestArchives", ".", "readArchive", "(", "getArchiveType", "(", ")", ")", ")", ",", "new", "FileOutputStream", "(", "getArchiveFile", "(", ")", ")", ")", ";", "}", "</s>"]
["<s>", "protected", "File", "getArchiveFile", "(", ")", "{", "return", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", "+", "getArchiveType", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "getArchiveType", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Class", "<", "?", "extends", "Extractor", ">", "extractorClass", "(", ")", "{", "return", "Bzip2Extractor", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "getArchiveType", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Class", "<", "?", "extends", "Extractor", ">", "extractorClass", "(", ")", "{", "return", "TarExtractor", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "getArchiveType", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Class", "<", "?", "extends", "Extractor", ">", "extractorClass", "(", ")", "{", "return", "XzExtractor", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "getArchiveType", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Class", "<", "?", "extends", "Extractor", ">", "extractorClass", "(", ")", "{", "return", "RarExtractor", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "getArchiveType", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Class", "<", "?", "extends", "Extractor", ">", "extractorClass", "(", ")", "{", "return", "GzipExtractor", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "getArchiveType", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Class", "<", "?", "extends", "Extractor", ">", "extractorClass", "(", ")", "{", "return", "ZipExtractor", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "File", "getArchiveFile", "(", ")", "{", "return", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", "+", "getArchiveType", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "getArchiveType", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Class", "<", "?", "extends", "Extractor", ">", "extractorClass", "(", ")", "{", "return", "SevenZipExtractor", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "File", "getArchiveFile", "(", ")", "{", "return", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", "+", "getArchiveType", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "getArchivePassword", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "File", "getArchiveFile", "(", ")", "{", "return", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", "+", "getArchiveType", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "getArchivePassword", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "getArchiveType", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Class", "<", "?", "extends", "Extractor", ">", "extractorClass", "(", ")", "{", "return", "LzmaExtractor", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testMainActivity", "(", ")", "{", "ActivityController", "<", "MainActivity", ">", "controller", "=", "Robolectric", ".", "buildActivity", "(", "MainActivity", ".", "class", ")", ".", "create", "(", ")", ".", "start", "(", ")", ".", "resume", "(", ")", ".", "visible", "(", ")", ".", "pause", "(", ")", ".", "destroy", "(", ")", ";", "}", "</s>"]
["<s>", "@", "After", "public", "void", "tearDown", "(", ")", "{", "AppConfig", ".", "getInstance", "(", ")", ".", "onTerminate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testOpenFileUri", "(", ")", "throws", "IOException", "{", "File", "file", "=", "simulateFile", "(", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "intent", ".", "setData", "(", "Uri", ".", "fromFile", "(", "file", ")", ")", ";", "generateActivity", "(", "intent", ")", ";", "assertThat", "(", "text", ".", "getText", "(", ")", ".", "toString", "(", ")", ",", "is", "(", "fileContents", "+", "\"", "<STR_LIT>", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testOpenContentUri", "(", ")", "throws", "Exception", "{", "Uri", "uri", "=", "Uri", ".", "parse", "(", "\"", "<STR_LIT>", "\"", ")", ";", "ContentResolver", "contentResolver", "=", "RuntimeEnvironment", ".", "application", ".", "getContentResolver", "(", ")", ";", "ShadowContentResolver", "shadowContentResolver", "=", "Shadows", ".", "shadowOf", "(", "contentResolver", ")", ";", "shadowContentResolver", ".", "registerInputStream", "(", "uri", ",", "new", "ByteArrayInputStream", "(", "fileContents", ".", "getBytes", "(", "\"", "<STR_LIT:UTF-8>", "\"", ")", ")", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "intent", ".", "addCategory", "(", "Intent", ".", "CATEGORY_DEFAULT", ")", ";", "intent", ".", "setType", "(", "\"", "<STR_LIT>", "\"", ")", ";", "intent", ".", "setData", "(", "uri", ")", ";", "generateActivity", "(", "intent", ")", ";", "assertEquals", "(", "fileContents", ",", "text", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "trim", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "generateActivity", "(", "Intent", "intent", ")", "{", "ActivityController", "<", "TextEditorActivity", ">", "controller", "=", "Robolectric", ".", "buildActivity", "(", "TextEditorActivity", ".", "class", ",", "intent", ")", ".", "create", "(", ")", ".", "start", "(", ")", ".", "visible", "(", ")", ";", "TextEditorActivity", "activity", "=", "controller", ".", "get", "(", ")", ";", "text", "=", "activity", ".", "findViewById", "(", "R", ".", "id", ".", "fname", ")", ";", "activity", ".", "onDestroy", "(", ")", ";", "}", "</s>"]
["<s>", "private", "File", "simulateFile", "(", ")", "throws", "IOException", "{", "ShadowEnvironment", ".", "setExternalStorageState", "(", "Environment", ".", "MEDIA_MOUNTED", ")", ";", "File", "file", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "file", ".", "createNewFile", "(", ")", ";", "if", "(", "!", "file", ".", "canWrite", "(", ")", ")", "file", ".", "setWritable", "(", "true", ")", ";", "assertThat", "(", "file", ".", "canWrite", "(", ")", ",", "is", "(", "true", ")", ")", ";", "PrintWriter", "out", "=", "new", "PrintWriter", "(", "file", ")", ";", "out", ".", "write", "(", "fileContents", ")", ";", "out", ".", "flush", "(", ")", ";", "out", ".", "close", "(", ")", ";", "return", "file", ";", "}", "</s>"]
["<s>", "private", "Uri", "getFileContentUri", "(", "Context", "context", ",", "File", "file", ")", "{", "fail", "(", "\"", "<STR_LIT>", "\"", ")", ";", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "registerComponents", "(", "Context", "context", ",", "Glide", "glide", ",", "Registry", "registry", ")", "{", "registry", ".", "prepend", "(", "String", ".", "class", ",", "Drawable", ".", "class", ",", "new", "ApkImageModelLoaderFactory", "(", "context", ".", "getPackageManager", "(", ")", ")", ")", ";", "registry", ".", "prepend", "(", "String", ".", "class", ",", "Bitmap", ".", "class", ",", "new", "CloudIconModelFactory", "(", "context", ")", ")", ";", "}", "</s>"]
["<s>", "public", "ColorCircleDrawable", "(", "final", "int", "color", ")", "{", "this", ".", "mPaint", "=", "new", "Paint", "(", "Paint", ".", "ANTI_ALIAS_FLAG", ")", ";", "this", ".", "mPaint", ".", "setColor", "(", "color", ")", ";", "this", ".", "mPaint", ".", "setStyle", "(", "Paint", ".", "Style", ".", "FILL", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "draw", "(", "final", "Canvas", "canvas", ")", "{", "final", "Rect", "bounds", "=", "getBounds", "(", ")", ";", "canvas", ".", "drawCircle", "(", "bounds", ".", "centerX", "(", ")", ",", "bounds", ".", "centerY", "(", ")", ",", "mRadius", ",", "mPaint", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onBoundsChange", "(", "final", "Rect", "bounds", ")", "{", "super", ".", "onBoundsChange", "(", "bounds", ")", ";", "mRadius", "=", "Math", ".", "min", "(", "bounds", ".", "width", "(", ")", ",", "bounds", ".", "height", "(", ")", ")", "/", "<NUM_LIT:2>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setAlpha", "(", "final", "int", "alpha", ")", "{", "mPaint", ".", "setAlpha", "(", "alpha", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setColorFilter", "(", "final", "ColorFilter", "cf", ")", "{", "mPaint", ".", "setColorFilter", "(", "cf", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getOpacity", "(", ")", "{", "return", "PixelFormat", ".", "TRANSLUCENT", ";", "}", "</s>"]
["<s>", "public", "ItemPopupMenu", "(", "Context", "c", ",", "MainActivity", "ma", ",", "UtilitiesProvider", "up", ",", "MainFragment", "mainFragment", ",", "LayoutElementParcelable", "ri", ",", "View", "anchor", ",", "SharedPreferences", "sharedPreferences", ")", "{", "super", "(", "c", ",", "anchor", ")", ";", "context", "=", "c", ";", "mainActivity", "=", "ma", ";", "utilitiesProvider", "=", "up", ";", "this", ".", "mainFragment", "=", "mainFragment", ";", "sharedPrefs", "=", "sharedPreferences", ";", "rowItem", "=", "ri", ";", "accentColor", "=", "mainActivity", ".", "getAccent", "(", ")", ";", "setOnMenuItemClickListener", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onMenuItemClick", "(", "MenuItem", "item", ")", "{", "switch", "(", "item", ".", "getItemId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "about", ":", "GeneralDialogCreation", ".", "showPropertiesDialogWithPermissions", "(", "(", "rowItem", ")", ".", "generateBaseFile", "(", ")", ",", "rowItem", ".", "permissions", ",", "(", "ThemedActivity", ")", "mainFragment", ".", "getActivity", "(", ")", ",", "mainActivity", ".", "isRootExplorer", "(", ")", ",", "utilitiesProvider", ".", "getAppTheme", "(", ")", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "share", ":", "switch", "(", "rowItem", ".", "getMode", "(", ")", ")", "{", "case", "DROPBOX", ":", "case", "BOX", ":", "case", "GDRIVE", ":", "case", "ONEDRIVE", ":", "FileUtils", ".", "shareCloudFile", "(", "rowItem", ".", "desc", ",", "rowItem", ".", "getMode", "(", ")", ",", "context", ")", ";", "break", ";", "default", ":", "ArrayList", "<", "File", ">", "arrayList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "arrayList", ".", "add", "(", "new", "File", "(", "rowItem", ".", "desc", ")", ")", ";", "FileUtils", ".", "shareFiles", "(", "arrayList", ",", "mainFragment", ".", "getMainActivity", "(", ")", ",", "utilitiesProvider", ".", "getAppTheme", "(", ")", ",", "accentColor", ")", ";", "break", ";", "}", "return", "true", ";", "case", "R", ".", "id", ".", "rename", ":", "mainFragment", ".", "rename", "(", "rowItem", ".", "generateBaseFile", "(", ")", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "cpy", ":", "case", "R", ".", "id", ".", "cut", ":", "{", "int", "op", "=", "item", ".", "getItemId", "(", ")", "=", "=", "R", ".", "id", ".", "cpy", "?", "PasteHelper", ".", "OPERATION_COPY", ":", "PasteHelper", ".", "OPERATION_CUT", ";", "PasteHelper", "pasteHelper", "=", "new", "PasteHelper", "(", "op", ",", "new", "HybridFileParcelable", "[", "]", "{", "rowItem", ".", "generateBaseFile", "(", ")", "}", ")", ";", "mainFragment", ".", "getMainActivity", "(", ")", ".", "setPaste", "(", "pasteHelper", ")", ";", "return", "true", ";", "}", "case", "R", ".", "id", ".", "ex", ":", "mainFragment", ".", "getMainActivity", "(", ")", ".", "mainActivityHelper", ".", "extractFile", "(", "new", "File", "(", "rowItem", ".", "desc", ")", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "book", ":", "DataUtils", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "dataUtils", ".", "addBook", "(", "new", "String", "[", "]", "{", "rowItem", ".", "title", ",", "rowItem", ".", "desc", "}", ",", "true", ")", ";", "mainFragment", ".", "getMainActivity", "(", ")", ".", "getDrawer", "(", ")", ".", "refreshDrawer", "(", ")", ";", "Toast", ".", "makeText", "(", "mainFragment", ".", "getActivity", "(", ")", ",", "mainFragment", ".", "getString", "(", "R", ".", "string", ".", "bookmarksadded", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "delete", ":", "ArrayList", "<", "LayoutElementParcelable", ">", "positions", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "positions", ".", "add", "(", "rowItem", ")", ";", "GeneralDialogCreation", ".", "deleteFilesDialog", "(", "context", ",", "mainFragment", ".", "getElementsList", "(", ")", ",", "mainFragment", ".", "getMainActivity", "(", ")", ",", "positions", ",", "utilitiesProvider", ".", "getAppTheme", "(", ")", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "open_with", ":", "boolean", "useNewStack", "=", "sharedPrefs", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_TEXTEDITOR_NEWSTACK", ",", "false", ")", ";", "FileUtils", ".", "openWith", "(", "new", "File", "(", "rowItem", ".", "desc", ")", ",", "mainFragment", ".", "getActivity", "(", ")", ",", "useNewStack", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "encrypt", ":", "final", "Intent", "encryptIntent", "=", "new", "Intent", "(", "context", ",", "EncryptService", ".", "class", ")", ";", "encryptIntent", ".", "putExtra", "(", "EncryptService", ".", "TAG_OPEN_MODE", ",", "rowItem", ".", "getMode", "(", ")", ".", "ordinal", "(", ")", ")", ";", "encryptIntent", ".", "putExtra", "(", "EncryptService", ".", "TAG_SOURCE", ",", "rowItem", ".", "generateBaseFile", "(", ")", ")", ";", "final", "SharedPreferences", "preferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "context", ")", ";", "final", "EncryptDecryptUtils", ".", "EncryptButtonCallbackInterface", "encryptButtonCallbackInterfaceAuthenticate", "=", "new", "EncryptDecryptUtils", ".", "EncryptButtonCallbackInterface", "(", ")", "{", "@", "Override", "public", "void", "onButtonPressed", "(", "Intent", "intent", ")", "{", "}", "@", "Override", "public", "void", "onButtonPressed", "(", "Intent", "intent", ",", "String", "password", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "EncryptDecryptUtils", ".", "startEncryption", "(", "context", ",", "rowItem", ".", "generateBaseFile", "(", ")", ".", "getPath", "(", ")", ",", "password", ",", "intent", ")", ";", "}", "}", ";", "EncryptDecryptUtils", ".", "EncryptButtonCallbackInterface", "encryptButtonCallbackInterface", "=", "new", "EncryptDecryptUtils", ".", "EncryptButtonCallbackInterface", "(", ")", "{", "@", "Override", "public", "void", "onButtonPressed", "(", "Intent", "intent", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "if", "(", "!", "preferences", ".", "getString", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD", ",", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD_DEFAULT", ")", ".", "equals", "(", "\"", "\"", ")", ")", "{", "GeneralDialogCreation", ".", "showEncryptWithPresetPasswordSaveAsDialog", "(", "context", ",", "mainActivity", ",", "PreferencesConstants", ".", "ENCRYPT_PASSWORD_MASTER", ",", "encryptIntent", ")", ";", "}", "else", "if", "(", "preferences", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_FINGERPRINT", ",", "PreferencesConstants", ".", "PREFERENCE_CRYPT_FINGERPRINT_DEFAULT", ")", ")", "{", "GeneralDialogCreation", ".", "showEncryptWithPresetPasswordSaveAsDialog", "(", "context", ",", "mainActivity", ",", "PreferencesConstants", ".", "ENCRYPT_PASSWORD_FINGERPRINT", ",", "encryptIntent", ")", ";", "}", "else", "{", "GeneralDialogCreation", ".", "showEncryptAuthenticateDialog", "(", "context", ",", "encryptIntent", ",", "mainFragment", ".", "getMainActivity", "(", ")", ",", "utilitiesProvider", ".", "getAppTheme", "(", ")", ",", "encryptButtonCallbackInterfaceAuthenticate", ")", ";", "}", "}", "@", "Override", "public", "void", "onButtonPressed", "(", "Intent", "intent", ",", "String", "password", ")", "{", "}", "}", ";", "if", "(", "preferences", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_WARNING_REMEMBER", ",", "PreferencesConstants", ".", "PREFERENCE_CRYPT_WARNING_REMEMBER_DEFAULT", ")", ")", "{", "try", "{", "encryptButtonCallbackInterface", ".", "onButtonPressed", "(", "encryptIntent", ")", ";", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "context", ",", "mainFragment", ".", "getString", "(", "R", ".", "string", ".", "crypt_encryption_fail", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", "else", "{", "GeneralDialogCreation", ".", "showEncryptWarningDialog", "(", "encryptIntent", ",", "mainFragment", ",", "utilitiesProvider", ".", "getAppTheme", "(", ")", ",", "encryptButtonCallbackInterface", ")", ";", "}", "return", "true", ";", "case", "R", ".", "id", ".", "decrypt", ":", "EncryptDecryptUtils", ".", "decryptFile", "(", "context", ",", "mainActivity", ",", "mainFragment", ",", "mainFragment", ".", "openMode", ",", "rowItem", ".", "generateBaseFile", "(", ")", ",", "rowItem", ".", "generateBaseFile", "(", ")", ".", "getParent", "(", "context", ")", ",", "utilitiesProvider", ",", "false", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "return_select", ":", "mainFragment", ".", "returnIntentResults", "(", "rowItem", ".", "generateBaseFile", "(", ")", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onButtonPressed", "(", "Intent", "intent", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onButtonPressed", "(", "Intent", "intent", ",", "String", "password", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "EncryptDecryptUtils", ".", "startEncryption", "(", "context", ",", "rowItem", ".", "generateBaseFile", "(", ")", ".", "getPath", "(", ")", ",", "password", ",", "intent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onButtonPressed", "(", "Intent", "intent", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "if", "(", "!", "preferences", ".", "getString", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD", ",", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD_DEFAULT", ")", ".", "equals", "(", "\"", "\"", ")", ")", "{", "GeneralDialogCreation", ".", "showEncryptWithPresetPasswordSaveAsDialog", "(", "context", ",", "mainActivity", ",", "PreferencesConstants", ".", "ENCRYPT_PASSWORD_MASTER", ",", "encryptIntent", ")", ";", "}", "else", "if", "(", "preferences", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_FINGERPRINT", ",", "PreferencesConstants", ".", "PREFERENCE_CRYPT_FINGERPRINT_DEFAULT", ")", ")", "{", "GeneralDialogCreation", ".", "showEncryptWithPresetPasswordSaveAsDialog", "(", "context", ",", "mainActivity", ",", "PreferencesConstants", ".", "ENCRYPT_PASSWORD_FINGERPRINT", ",", "encryptIntent", ")", ";", "}", "else", "{", "GeneralDialogCreation", ".", "showEncryptAuthenticateDialog", "(", "context", ",", "encryptIntent", ",", "mainFragment", ".", "getMainActivity", "(", ")", ",", "utilitiesProvider", ".", "getAppTheme", "(", ")", ",", "encryptButtonCallbackInterfaceAuthenticate", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onButtonPressed", "(", "Intent", "intent", ",", "String", "password", ")", "{", "}", "</s>"]
["<s>", "public", "static", "void", "colorizeIcons", "(", "Context", "context", ",", "int", "iconType", ",", "GradientDrawable", "background", ",", "@", "ColorInt", "int", "defaultColor", ")", "{", "switch", "(", "iconType", ")", "{", "case", "Icons", ".", "VIDEO", ":", "case", "Icons", ".", "IMAGE", ":", "background", ".", "setColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "video_item", ")", ")", ";", "break", ";", "case", "Icons", ".", "AUDIO", ":", "background", ".", "setColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "audio_item", ")", ")", ";", "break", ";", "case", "Icons", ".", "PDF", ":", "background", ".", "setColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "pdf_item", ")", ")", ";", "break", ";", "case", "Icons", ".", "CODE", ":", "background", ".", "setColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "code_item", ")", ")", ";", "break", ";", "case", "Icons", ".", "TEXT", ":", "background", ".", "setColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "text_item", ")", ")", ";", "break", ";", "case", "Icons", ".", "COMPRESSED", ":", "background", ".", "setColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "archive_item", ")", ")", ";", "break", ";", "case", "Icons", ".", "APK", ":", "background", ".", "setColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "apk_item", ")", ")", ";", "break", ";", "case", "Icons", ".", "NOT_KNOWN", ":", "background", ".", "setColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "generic_item", ")", ")", ";", "default", ":", "background", ".", "setColor", "(", "defaultColor", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "public", "static", "UserColorPreferences", "randomize", "(", "Context", "c", ")", "{", "@", "ColorRes", "int", "[", "]", "colorPos", "=", "RANDOM_COMBINATIONS", "[", "new", "Random", "(", ")", ".", "nextInt", "(", "RANDOM_COMBINATIONS", ".", "length", "-", "1", ")", "]", ";", "return", "new", "UserColorPreferences", "(", "Utils", ".", "getColor", "(", "c", ",", "colorPos", "[", "0", "]", ")", ",", "Utils", ".", "getColor", "(", "c", ",", "colorPos", "[", "0", "]", ")", ",", "Utils", ".", "getColor", "(", "c", ",", "colorPos", "[", "1", "]", ")", ",", "Utils", ".", "getColor", "(", "c", ",", "colorPos", "[", "<NUM_LIT:2>", "]", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "@", "ColorInt", "int", "getPrimary", "(", "UserColorPreferences", "currentColors", ",", "int", "num", ")", "{", "return", "num", "=", "=", "1", "?", "currentColors", ".", "primarySecondTab", ":", "currentColors", ".", "primaryFirstTab", ";", "}", "</s>"]
["<s>", "public", "UserColorPreferences", "getCurrentUserColorPreferences", "(", "Context", "context", ",", "SharedPreferences", "prefs", ")", "{", "if", "(", "currentColors", "=", "=", "null", ")", "currentColors", "=", "getColorPreferences", "(", "context", ",", "prefs", ")", ";", "return", "currentColors", ";", "}", "</s>"]
["<s>", "public", "void", "saveColorPreferences", "(", "SharedPreferences", "prefs", ",", "UserColorPreferences", "userPrefs", ")", "{", "SharedPreferences", ".", "Editor", "editor", "=", "prefs", ".", "edit", "(", ")", ";", "editor", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN", ",", "userPrefs", ".", "primaryFirstTab", ")", ";", "editor", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN_TWO", ",", "userPrefs", ".", "primarySecondTab", ")", ";", "editor", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_ACCENT", ",", "userPrefs", ".", "accent", ")", ";", "editor", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_ICON_SKIN", ",", "userPrefs", ".", "iconSkin", ")", ";", "editor", ".", "apply", "(", ")", ";", "currentColors", "=", "userPrefs", ";", "}", "</s>"]
["<s>", "private", "UserColorPreferences", "getColorPreferences", "(", "Context", "c", ",", "SharedPreferences", "prefs", ")", "{", "if", "(", "isUsingOldColorsSystem", "(", "prefs", ")", ")", "correctToNewColorsSystem", "(", "c", ",", "prefs", ")", ";", "int", "tabOne", "=", "prefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN", ",", "Utils", ".", "getColor", "(", "c", ",", "DEFAULT_PRIMARY_FIRST_TAB", ")", ")", ";", "int", "tabTwo", "=", "prefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN_TWO", ",", "Utils", ".", "getColor", "(", "c", ",", "DEFAULT_PRIMARY_SECOND_TAB", ")", ")", ";", "int", "accent", "=", "prefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_ACCENT", ",", "Utils", ".", "getColor", "(", "c", ",", "DEFAULT_ACCENT", ")", ")", ";", "int", "iconSkin", "=", "prefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_ICON_SKIN", ",", "Utils", ".", "getColor", "(", "c", ",", "DEFAULT_ICON_SKIN", ")", ")", ";", "return", "new", "UserColorPreferences", "(", "tabOne", ",", "tabTwo", ",", "accent", ",", "iconSkin", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isUsingOldColorsSystem", "(", "SharedPreferences", "prefs", ")", "{", "int", "tabOne", "=", "prefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN", ",", "R", ".", "color", ".", "primary_indigo", ")", ";", "int", "tabTwo", "=", "prefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN_TWO", ",", "R", ".", "color", ".", "primary_indigo", ")", ";", "int", "accent", "=", "prefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_ACCENT", ",", "R", ".", "color", ".", "primary_pink", ")", ";", "int", "iconSkin", "=", "prefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_ICON_SKIN", ",", "R", ".", "color", ".", "primary_pink", ")", ";", "boolean", "r1", "=", "tabOne", ">", "=", "0", "&", "&", "tabTwo", ">", "=", "0", "&", "&", "accent", ">", "=", "0", "&", "&", "iconSkin", ">", "=", "0", ";", "boolean", "r2", "=", "tabOne", "<", "<NUM_LIT>", "&", "&", "tabTwo", "<", "<NUM_LIT>", "&", "&", "accent", "<", "<NUM_LIT>", "&", "&", "iconSkin", "<", "<NUM_LIT>", ";", "return", "r1", "&", "&", "r2", ";", "}", "</s>"]
["<s>", "private", "void", "correctToNewColorsSystem", "(", "Context", "c", ",", "SharedPreferences", "prefs", ")", "{", "int", "tabOne", "=", "prefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN", ",", "-", "1", ")", ";", "int", "tabTwo", "=", "prefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN_TWO", ",", "-", "1", ")", ";", "int", "accent", "=", "prefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_ACCENT", ",", "-", "1", ")", ";", "int", "iconSkin", "=", "prefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_ICON_SKIN", ",", "-", "1", ")", ";", "SharedPreferences", ".", "Editor", "editor", "=", "prefs", ".", "edit", "(", ")", ";", "editor", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN", ",", "correctForIndex", "(", "c", ",", "tabOne", ")", ")", ";", "editor", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN_TWO", ",", "correctForIndex", "(", "c", ",", "tabTwo", ")", ")", ";", "editor", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_ACCENT", ",", "correctForIndex", "(", "c", ",", "accent", ")", ")", ";", "editor", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_ICON_SKIN", ",", "correctForIndex", "(", "c", ",", "iconSkin", ")", ")", ";", "editor", ".", "apply", "(", ")", ";", "}", "</s>"]
["<s>", "private", "@", "ColorInt", "int", "correctForIndex", "(", "Context", "c", ",", "int", "color", ")", "{", "if", "(", "color", "!", "=", "-", "1", ")", "return", "Utils", ".", "getColor", "(", "c", ",", "OLD_SYSTEM_LIST", ".", "get", "(", "color", ")", ")", ";", "else", "return", "Utils", ".", "getColor", "(", "c", ",", "R", ".", "color", ".", "primary_indigo", ")", ";", "}", "</s>"]
["<s>", "public", "UserColorPreferences", "(", "@", "ColorInt", "int", "primaryFirstTab", ",", "@", "ColorInt", "int", "primarySecondTab", ",", "@", "ColorInt", "int", "accent", ",", "@", "ColorInt", "int", "iconSkin", ")", "{", "this", ".", "primaryFirstTab", "=", "primaryFirstTab", ";", "this", ".", "primarySecondTab", "=", "primarySecondTab", ";", "this", ".", "accent", "=", "accent", ";", "this", ".", "iconSkin", "=", "iconSkin", ";", "}", "</s>"]
["<s>", "private", "UserColorPreferences", "(", "Parcel", "in", ")", "{", "primaryFirstTab", "=", "in", ".", "readInt", "(", ")", ";", "primarySecondTab", "=", "in", ".", "readInt", "(", ")", ";", "accent", "=", "in", ".", "readInt", "(", ")", ";", "iconSkin", "=", "in", ".", "readInt", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeToParcel", "(", "Parcel", "dest", ",", "int", "flags", ")", "{", "dest", ".", "writeInt", "(", "primaryFirstTab", ")", ";", "dest", ".", "writeInt", "(", "primarySecondTab", ")", ";", "dest", ".", "writeInt", "(", "accent", ")", ";", "dest", ".", "writeInt", "(", "iconSkin", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "describeContents", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "UserColorPreferences", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "UserColorPreferences", "(", "in", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "UserColorPreferences", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "UserColorPreferences", "[", "size", "]", ";", "}", "</s>"]
["<s>", "public", "static", "String", "getMimeType", "(", "String", "path", ",", "boolean", "isDirectory", ")", "{", "if", "(", "isDirectory", ")", "{", "return", "null", ";", "}", "String", "type", "=", "ALL_MIME_TYPES", ";", "final", "String", "extension", "=", "getExtension", "(", "path", ")", ";", "if", "(", "extension", "!", "=", "null", "&", "&", "!", "extension", ".", "isEmpty", "(", ")", ")", "{", "final", "String", "extensionLowerCase", "=", "extension", ".", "toLowerCase", "(", "Locale", ".", "getDefault", "(", ")", ")", ";", "final", "MimeTypeMap", "mime", "=", "MimeTypeMap", ".", "getSingleton", "(", ")", ";", "type", "=", "mime", ".", "getMimeTypeFromExtension", "(", "extensionLowerCase", ")", ";", "if", "(", "type", "=", "=", "null", ")", "{", "type", "=", "MIME_TYPES", ".", "get", "(", "extensionLowerCase", ")", ";", "}", "}", "if", "(", "type", "=", "=", "null", ")", "type", "=", "ALL_MIME_TYPES", ";", "return", "type", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "mimeTypeMatch", "(", "String", "mime", ",", "String", "input", ")", "{", "return", "Pattern", ".", "matches", "(", "mime", ".", "replace", "(", "\"", "<STR_LIT:*>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ",", "input", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "getExtension", "(", "String", "path", ")", "{", "if", "(", "path", ".", "contains", "(", "\"", "<STR_LIT:.>", "\"", ")", ")", "return", "path", ".", "substring", "(", "path", ".", "lastIndexOf", "(", "\"", "<STR_LIT:.>", "\"", ")", "+", "1", ")", ".", "toLowerCase", "(", ")", ";", "else", "return", "\"", "\"", ";", "}", "</s>"]
["<s>", "private", "static", "void", "put", "(", "String", "mimeType", ",", "int", "resId", ")", "{", "if", "(", "sMimeIconIds", ".", "put", "(", "mimeType", ",", "resId", ")", "!", "=", "null", ")", "{", "throw", "new", "RuntimeException", "(", "mimeType", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "void", "putKeys", "(", "int", "resId", ",", "String", ".", ".", ".", "mimeTypes", ")", "{", "for", "(", "String", "type", ":", "mimeTypes", ")", "{", "put", "(", "type", ",", "resId", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "@", "DrawableRes", "int", "loadMimeIcon", "(", "String", "path", ",", "boolean", "isDirectory", ")", "{", "if", "(", "path", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", "return", "R", ".", "drawable", ".", "ic_arrow_left_white_24dp", ";", "if", "(", "CompressedHelper", ".", "isFileExtractable", "(", "path", ")", ")", "return", "R", ".", "drawable", ".", "ic_compressed_white_24dp", ";", "int", "type", "=", "getTypeOfFile", "(", "path", ",", "isDirectory", ")", ";", "switch", "(", "type", ")", "{", "case", "APK", ":", "return", "R", ".", "drawable", ".", "ic_doc_apk_white", ";", "case", "AUDIO", ":", "return", "R", ".", "drawable", ".", "ic_doc_audio_am", ";", "case", "IMAGE", ":", "return", "R", ".", "drawable", ".", "ic_doc_image", ";", "case", "TEXT", ":", "return", "R", ".", "drawable", ".", "ic_doc_text_am", ";", "case", "VIDEO", ":", "return", "R", ".", "drawable", ".", "ic_doc_video_am", ";", "case", "PDF", ":", "return", "R", ".", "drawable", ".", "ic_doc_pdf", ";", "case", "CERTIFICATE", ":", "return", "R", ".", "drawable", ".", "ic_doc_certificate", ";", "case", "CODE", ":", "return", "R", ".", "drawable", ".", "ic_doc_codes", ";", "case", "FONT", ":", "return", "R", ".", "drawable", ".", "ic_doc_font", ";", "case", "ENCRYPTED", ":", "return", "R", ".", "drawable", ".", "ic_folder_lock_white_36dp", ";", "default", ":", "if", "(", "isDirectory", ")", "return", "R", ".", "drawable", ".", "ic_grid_folder_new", ";", "else", "{", "return", "R", ".", "drawable", ".", "ic_doc_generic_am", ";", "}", "}", "}", "</s>"]
["<s>", "public", "static", "int", "getTypeOfFile", "(", "String", "path", ",", "boolean", "isDirectory", ")", "{", "String", "mimeType", "=", "MimeTypes", ".", "getMimeType", "(", "path", ",", "isDirectory", ")", ";", "if", "(", "mimeType", "=", "=", "null", ")", "return", "NOT_KNOWN", ";", "Integer", "type", "=", "sMimeIconIds", ".", "get", "(", "mimeType", ")", ";", "if", "(", "type", "!", "=", "null", ")", "return", "type", ";", "else", "{", "if", "(", "checkType", "(", "mimeType", ",", "\"", "<STR_LIT>", "\"", ")", ")", "return", "TEXT", ";", "else", "if", "(", "checkType", "(", "mimeType", ",", "\"", "<STR_LIT>", "\"", ")", ")", "return", "IMAGE", ";", "else", "if", "(", "checkType", "(", "mimeType", ",", "\"", "<STR_LIT>", "\"", ")", ")", "return", "VIDEO", ";", "else", "if", "(", "checkType", "(", "mimeType", ",", "\"", "<STR_LIT>", "\"", ")", ")", "return", "AUDIO", ";", "else", "if", "(", "checkType", "(", "mimeType", ",", "\"", "<STR_LIT>", "\"", ")", ")", "return", "ENCRYPTED", ";", "else", "return", "NOT_KNOWN", ";", "}", "}", "</s>"]
["<s>", "private", "static", "boolean", "checkType", "(", "String", "mime", ",", "String", "check", ")", "{", "return", "mime", "!", "=", "null", "&", "&", "mime", ".", "contains", "(", "\"", "<STR_LIT:/>", "\"", ")", "&", "&", "check", ".", "equals", "(", "mime", ".", "substring", "(", "0", ",", "mime", ".", "indexOf", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "RenameBookmark", "getInstance", "(", "String", "name", ",", "String", "path", ",", "int", "accentColor", ")", "{", "RenameBookmark", "renameBookmark", "=", "new", "RenameBookmark", "(", ")", ";", "Bundle", "bundle", "=", "new", "Bundle", "(", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "name", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "path", ")", ";", "bundle", ".", "putInt", "(", "\"", "<STR_LIT>", "\"", ",", "accentColor", ")", ";", "renameBookmark", ".", "setArguments", "(", "bundle", ")", ";", "return", "renameBookmark", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Dialog", "onCreateDialog", "(", "Bundle", "savedInstanceState", ")", "{", "Context", "c", "=", "getActivity", "(", ")", ";", "if", "(", "getActivity", "(", ")", "instanceof", "BookmarkCallback", ")", "bookmarkCallback", "=", "(", "BookmarkCallback", ")", "getActivity", "(", ")", ";", "title", "=", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "path", "=", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "int", "accentColor", "=", "getArguments", "(", ")", ".", "getInt", "(", "\"", "<STR_LIT>", "\"", ")", ";", "SharedPreferences", "sp", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "c", ")", ";", "studiomode", "=", "sp", ".", "getInt", "(", "\"", "<STR_LIT>", "\"", ",", "0", ")", ";", "if", "(", "dataUtils", ".", "containsBooks", "(", "new", "String", "[", "]", "{", "title", ",", "path", "}", ")", "!", "=", "-", "1", ")", "{", "final", "MaterialDialog", "materialDialog", ";", "String", "pa", "=", "path", ";", "MaterialDialog", ".", "Builder", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "c", ")", ";", "builder", ".", "title", "(", "R", ".", "string", ".", "renamebookmark", ")", ";", "builder", ".", "positiveColor", "(", "accentColor", ")", ";", "builder", ".", "negativeColor", "(", "accentColor", ")", ";", "builder", ".", "neutralColor", "(", "accentColor", ")", ";", "builder", ".", "positiveText", "(", "R", ".", "string", ".", "save", ")", ";", "builder", ".", "neutralText", "(", "R", ".", "string", ".", "cancel", ")", ";", "builder", ".", "negativeText", "(", "R", ".", "string", ".", "delete", ")", ";", "builder", ".", "theme", "(", "(", "(", "BasicActivity", ")", "getActivity", "(", ")", ")", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "builder", ".", "autoDismiss", "(", "false", ")", ";", "View", "v2", "=", "getActivity", "(", ")", ".", "getLayoutInflater", "(", ")", ".", "inflate", "(", "R", ".", "layout", ".", "rename", ",", "null", ")", ";", "builder", ".", "customView", "(", "v2", ",", "true", ")", ";", "final", "TextInputLayout", "t1", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "t1", ")", ";", "final", "TextInputLayout", "t2", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "t2", ")", ";", "final", "AppCompatEditText", "conName", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "editText4", ")", ";", "conName", ".", "setText", "(", "title", ")", ";", "final", "String", "s1", "=", "getString", "(", "R", ".", "string", ".", "cantbeempty", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "name", ")", ")", ";", "final", "String", "s2", "=", "getString", "(", "R", ".", "string", ".", "cantbeempty", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "path", ")", ")", ";", "conName", ".", "addTextChangedListener", "(", "new", "SimpleTextWatcher", "(", ")", "{", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "if", "(", "conName", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", "=", "=", "0", ")", "t1", ".", "setError", "(", "s2", ")", ";", "else", "t1", ".", "setError", "(", "\"", "\"", ")", ";", "}", "}", ")", ";", "final", "AppCompatEditText", "ip", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "editText", ")", ";", "if", "(", "studiomode", "!", "=", "0", ")", "{", "if", "(", "path", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "try", "{", "jcifs", ".", "Config", ".", "registerSmbURLHandler", "(", ")", ";", "URL", "a", "=", "new", "URL", "(", "path", ")", ";", "String", "userinfo", "=", "a", ".", "getUserInfo", "(", ")", ";", "if", "(", "userinfo", "!", "=", "null", ")", "{", "String", "inf", "=", "URLDecoder", ".", "decode", "(", "userinfo", ",", "\"", "<STR_LIT:UTF-8>", "\"", ")", ";", "user", "=", "inf", ".", "substring", "(", "0", ",", "inf", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ")", ")", ";", "pass", "=", "inf", ".", "substring", "(", "inf", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ")", "+", "1", ",", "inf", ".", "length", "(", ")", ")", ";", "String", "ipp", "=", "a", ".", "getHost", "(", ")", ";", "pa", "=", "\"", "<STR_LIT>", "\"", "+", "ipp", "+", "a", ".", "getPath", "(", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "ip", ".", "addTextChangedListener", "(", "new", "SimpleTextWatcher", "(", ")", "{", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "if", "(", "ip", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", "=", "=", "0", ")", "t2", ".", "setError", "(", "s1", ")", ";", "else", "t2", ".", "setError", "(", "\"", "\"", ")", ";", "}", "}", ")", ";", "}", "else", "t2", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "ip", ".", "setText", "(", "pa", ")", ";", "builder", ".", "onNeutral", "(", "(", "dialog", ",", "which", ")", "-", ">", "dialog", ".", "dismiss", "(", ")", ")", ";", "materialDialog", "=", "builder", ".", "build", "(", ")", ";", "materialDialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setOnClickListener", "(", "v", "-", ">", "{", "String", "t", "=", "ip", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "String", "name", "=", "conName", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "if", "(", "studiomode", "!", "=", "0", "&", "&", "t", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "try", "{", "URL", "a", "=", "new", "URL", "(", "t", ")", ";", "String", "userinfo", "=", "a", ".", "getUserInfo", "(", ")", ";", "if", "(", "userinfo", "=", "=", "null", "&", "&", "user", ".", "length", "(", ")", ">", "0", ")", "{", "t", "=", "\"", "<STR_LIT>", "\"", "+", "(", "(", "URLEncoder", ".", "encode", "(", "user", ",", "\"", "<STR_LIT:UTF-8>", "\"", ")", "+", "\"", "<STR_LIT::>", "\"", "+", "URLEncoder", ".", "encode", "(", "pass", ",", "\"", "<STR_LIT:UTF-8>", "\"", ")", "+", "\"", "<STR_LIT:@>", "\"", ")", ")", "+", "a", ".", "getHost", "(", ")", "+", "a", ".", "getPath", "(", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "int", "i", "=", "-", "1", ";", "if", "(", "(", "i", "=", "dataUtils", ".", "containsBooks", "(", "new", "String", "[", "]", "{", "title", ",", "path", "}", ")", ")", "!", "=", "-", "1", ")", "{", "if", "(", "!", "t", ".", "equals", "(", "title", ")", "&", "&", "t", ".", "length", "(", ")", ">", "=", "1", ")", "{", "dataUtils", ".", "removeBook", "(", "i", ")", ";", "dataUtils", ".", "addBook", "(", "new", "String", "[", "]", "{", "name", ",", "t", "}", ")", ";", "dataUtils", ".", "sortBook", "(", ")", ";", "if", "(", "bookmarkCallback", "!", "=", "null", ")", "{", "bookmarkCallback", ".", "modify", "(", "path", ",", "title", ",", "t", ",", "name", ")", ";", "}", "}", "}", "materialDialog", ".", "dismiss", "(", ")", ";", "}", ")", ";", "materialDialog", ".", "getActionButton", "(", "DialogAction", ".", "NEGATIVE", ")", ".", "setOnClickListener", "(", "v", "-", ">", "{", "int", "i", ";", "if", "(", "(", "i", "=", "dataUtils", ".", "containsBooks", "(", "new", "String", "[", "]", "{", "title", ",", "path", "}", ")", ")", "!", "=", "-", "1", ")", "{", "dataUtils", ".", "removeBook", "(", "i", ")", ";", "if", "(", "bookmarkCallback", "!", "=", "null", ")", "{", "bookmarkCallback", ".", "delete", "(", "title", ",", "path", ")", ";", "}", "}", "materialDialog", ".", "dismiss", "(", ")", ";", "}", ")", ";", "return", "materialDialog", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "if", "(", "conName", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", "=", "=", "0", ")", "t1", ".", "setError", "(", "s2", ")", ";", "else", "t1", ".", "setError", "(", "\"", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "if", "(", "ip", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", "=", "=", "0", ")", "t2", ".", "setError", "(", "s1", ")", ";", "else", "t2", ".", "setError", "(", "\"", "\"", ")", ";", "}", "</s>"]
["<s>", "void", "delete", "(", "String", "title", ",", "String", "path", ")", ";", "</s>"]
["<s>", "void", "modify", "(", "String", "oldpath", ",", "String", "oldname", ",", "String", "newpath", ",", "String", "newname", ")", ";", "</s>"]
["<s>", "void", "addConnection", "(", "boolean", "edit", ",", "String", "name", ",", "String", "path", ",", "String", "encryptedPath", ",", "String", "oldname", ",", "String", "oldPath", ")", ";", "</s>"]
["<s>", "void", "deleteConnection", "(", "String", "name", ",", "String", "path", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "utilsProvider", "=", "(", "(", "BasicActivity", ")", "getActivity", "(", ")", ")", ".", "getUtilsProvider", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Dialog", "onCreateDialog", "(", "Bundle", "savedInstanceState", ")", "{", "final", "boolean", "edit", "=", "getArguments", "(", ")", ".", "getBoolean", "(", "\"", "<STR_LIT>", "\"", ",", "false", ")", ";", "final", "String", "path", "=", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "final", "String", "name", "=", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "context", "=", "getActivity", "(", ")", ";", "emptyAddress", "=", "getString", "(", "R", ".", "string", ".", "cantbeempty", ",", "getString", "(", "R", ".", "string", ".", "ip", ")", ")", ";", "emptyName", "=", "getString", "(", "R", ".", "string", ".", "cantbeempty", ",", "getString", "(", "R", ".", "string", ".", "connectionname", ")", ")", ";", "invalidDomain", "=", "getString", "(", "R", ".", "string", ".", "invalid", ",", "getString", "(", "R", ".", "string", ".", "domain", ")", ")", ";", "invalidUsername", "=", "getString", "(", "R", ".", "string", ".", "invalid", ",", "getString", "(", "R", ".", "string", ".", "username", ")", ".", "toLowerCase", "(", ")", ")", ";", "if", "(", "getActivity", "(", ")", "instanceof", "SmbConnectionListener", ")", "{", "smbConnectionListener", "=", "(", "SmbConnectionListener", ")", "getActivity", "(", ")", ";", "}", "final", "SharedPreferences", "sharedPreferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "context", ")", ";", "final", "MaterialDialog", ".", "Builder", "ba3", "=", "new", "MaterialDialog", ".", "Builder", "(", "context", ")", ";", "ba3", ".", "title", "(", "(", "R", ".", "string", ".", "smb_con", ")", ")", ";", "ba3", ".", "autoDismiss", "(", "false", ")", ";", "final", "View", "v2", "=", "getActivity", "(", ")", ".", "getLayoutInflater", "(", ")", ".", "inflate", "(", "R", ".", "layout", ".", "smb_dialog", ",", "null", ")", ";", "final", "TextInputLayout", "connectionTIL", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "connectionTIL", ")", ";", "final", "TextInputLayout", "ipTIL", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "ipTIL", ")", ";", "final", "TextInputLayout", "domainTIL", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "domainTIL", ")", ";", "final", "TextInputLayout", "usernameTIL", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "usernameTIL", ")", ";", "final", "AppCompatEditText", "conName", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "connectionET", ")", ";", "conName", ".", "addTextChangedListener", "(", "new", "SimpleTextWatcher", "(", ")", "{", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "if", "(", "conName", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", "=", "=", "0", ")", "connectionTIL", ".", "setError", "(", "emptyName", ")", ";", "else", "connectionTIL", ".", "setError", "(", "\"", "\"", ")", ";", "}", "}", ")", ";", "final", "AppCompatEditText", "ip", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "ipET", ")", ";", "ip", ".", "addTextChangedListener", "(", "new", "SimpleTextWatcher", "(", ")", "{", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "if", "(", "ip", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", "=", "=", "0", ")", "ipTIL", ".", "setError", "(", "emptyAddress", ")", ";", "else", "ipTIL", ".", "setError", "(", "\"", "\"", ")", ";", "}", "}", ")", ";", "final", "AppCompatEditText", "domain", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "domainET", ")", ";", "domain", ".", "addTextChangedListener", "(", "new", "SimpleTextWatcher", "(", ")", "{", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "if", "(", "domain", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "contains", "(", "\"", "<STR_LIT:;>", "\"", ")", ")", "domainTIL", ".", "setError", "(", "invalidDomain", ")", ";", "else", "domainTIL", ".", "setError", "(", "\"", "\"", ")", ";", "}", "}", ")", ";", "final", "AppCompatEditText", "user", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "usernameET", ")", ";", "user", ".", "addTextChangedListener", "(", "new", "SimpleTextWatcher", "(", ")", "{", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "if", "(", "user", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "contains", "(", "\"", "<STR_LIT::>", "\"", ")", ")", "usernameTIL", ".", "setError", "(", "invalidUsername", ")", ";", "else", "usernameTIL", ".", "setError", "(", "\"", "\"", ")", ";", "}", "}", ")", ";", "int", "accentColor", "=", "(", "(", "ThemedActivity", ")", "getActivity", "(", ")", ")", ".", "getAccent", "(", ")", ";", "final", "AppCompatEditText", "pass", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "passwordET", ")", ";", "final", "AppCompatCheckBox", "ch", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "checkBox2", ")", ";", "TextView", "help", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "wanthelp", ")", ";", "EditTextColorStateUtil", ".", "setTint", "(", "context", ",", "conName", ",", "accentColor", ")", ";", "EditTextColorStateUtil", ".", "setTint", "(", "context", ",", "user", ",", "accentColor", ")", ";", "EditTextColorStateUtil", ".", "setTint", "(", "context", ",", "pass", ",", "accentColor", ")", ";", "Utils", ".", "setTint", "(", "context", ",", "ch", ",", "accentColor", ")", ";", "help", ".", "setOnClickListener", "(", "v", "-", ">", "{", "int", "accentColor1", "=", "(", "(", "ThemedActivity", ")", "getActivity", "(", ")", ")", ".", "getAccent", "(", ")", ";", "GeneralDialogCreation", ".", "showSMBHelpDialog", "(", "context", ",", "accentColor1", ")", ";", "}", ")", ";", "ch", ".", "setOnClickListener", "(", "view", "-", ">", "{", "if", "(", "ch", ".", "isChecked", "(", ")", ")", "{", "user", ".", "setEnabled", "(", "false", ")", ";", "pass", ".", "setEnabled", "(", "false", ")", ";", "}", "else", "{", "user", ".", "setEnabled", "(", "true", ")", ";", "pass", ".", "setEnabled", "(", "true", ")", ";", "}", "}", ")", ";", "if", "(", "edit", ")", "{", "String", "userp", "=", "\"", "\"", ",", "passp", "=", "\"", "\"", ",", "ipp", "=", "\"", "\"", ",", "domainp", "=", "\"", "\"", ";", "conName", ".", "setText", "(", "name", ")", ";", "try", "{", "jcifs", ".", "Config", ".", "registerSmbURLHandler", "(", ")", ";", "URL", "a", "=", "new", "URL", "(", "path", ")", ";", "String", "userinfo", "=", "a", ".", "getUserInfo", "(", ")", ";", "if", "(", "userinfo", "!", "=", "null", ")", "{", "String", "inf", "=", "URLDecoder", ".", "decode", "(", "userinfo", ",", "\"", "<STR_LIT:UTF-8>", "\"", ")", ";", "int", "domainDelim", "=", "!", "inf", ".", "contains", "(", "\"", "<STR_LIT:;>", "\"", ")", "?", "0", ":", "inf", ".", "indexOf", "(", "<CHAR_LIT:;>", ")", ";", "domainp", "=", "inf", ".", "substring", "(", "0", ",", "domainDelim", ")", ";", "if", "(", "domainp", "!", "=", "null", "&", "&", "domainp", ".", "length", "(", ")", ">", "0", ")", "inf", "=", "inf", ".", "substring", "(", "domainDelim", "+", "1", ")", ";", "userp", "=", "inf", ".", "substring", "(", "0", ",", "inf", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ")", ")", ";", "passp", "=", "inf", ".", "substring", "(", "inf", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ")", "+", "1", ",", "inf", ".", "length", "(", ")", ")", ";", "domain", ".", "setText", "(", "domainp", ")", ";", "user", ".", "setText", "(", "userp", ")", ";", "pass", ".", "setText", "(", "passp", ")", ";", "}", "else", "ch", ".", "setChecked", "(", "true", ")", ";", "ipp", "=", "a", ".", "getHost", "(", ")", ";", "ip", ".", "setText", "(", "ipp", ")", ";", "}", "catch", "(", "UnsupportedEncodingException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "if", "(", "path", "!", "=", "null", "&", "&", "path", ".", "length", "(", ")", ">", "0", ")", "{", "conName", ".", "setText", "(", "name", ")", ";", "ip", ".", "setText", "(", "path", ")", ";", "user", ".", "requestFocus", "(", ")", ";", "}", "else", "{", "conName", ".", "setText", "(", "R", ".", "string", ".", "smb_con", ")", ";", "conName", ".", "requestFocus", "(", ")", ";", "}", "ba3", ".", "customView", "(", "v2", ",", "true", ")", ";", "ba3", ".", "theme", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "ba3", ".", "neutralText", "(", "R", ".", "string", ".", "cancel", ")", ";", "ba3", ".", "positiveText", "(", "R", ".", "string", ".", "create", ")", ";", "if", "(", "edit", ")", "ba3", ".", "negativeText", "(", "R", ".", "string", ".", "delete", ")", ";", "ba3", ".", "positiveColor", "(", "accentColor", ")", ".", "negativeColor", "(", "accentColor", ")", ".", "neutralColor", "(", "accentColor", ")", ";", "ba3", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "String", "s", "[", "]", ";", "String", "ipa", "=", "ip", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "String", "con_nam", "=", "conName", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "String", "sDomain", "=", "domain", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "String", "username", "=", "user", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "TextInputLayout", "firstInvalidField", "=", "null", ";", "if", "(", "con_nam", "=", "=", "null", "|", "|", "con_nam", ".", "length", "(", ")", "=", "=", "0", ")", "{", "connectionTIL", ".", "setError", "(", "emptyName", ")", ";", "firstInvalidField", "=", "connectionTIL", ";", "}", "if", "(", "ipa", "=", "=", "null", "|", "|", "ipa", ".", "length", "(", ")", "=", "=", "0", ")", "{", "ipTIL", ".", "setError", "(", "emptyAddress", ")", ";", "if", "(", "firstInvalidField", "=", "=", "null", ")", "firstInvalidField", "=", "ipTIL", ";", "}", "if", "(", "sDomain", ".", "contains", "(", "\"", "<STR_LIT:;>", "\"", ")", ")", "{", "domainTIL", ".", "setError", "(", "invalidDomain", ")", ";", "if", "(", "firstInvalidField", "=", "=", "null", ")", "firstInvalidField", "=", "domainTIL", ";", "}", "if", "(", "username", ".", "contains", "(", "\"", "<STR_LIT::>", "\"", ")", ")", "{", "usernameTIL", ".", "setError", "(", "invalidUsername", ")", ";", "if", "(", "firstInvalidField", "=", "=", "null", ")", "firstInvalidField", "=", "usernameTIL", ";", "}", "if", "(", "firstInvalidField", "!", "=", "null", ")", "{", "firstInvalidField", ".", "requestFocus", "(", ")", ";", "return", ";", "}", "SmbFile", "smbFile", ";", "String", "domaind", "=", "domain", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "if", "(", "ch", ".", "isChecked", "(", ")", ")", "smbFile", "=", "createSMBPath", "(", "new", "String", "[", "]", "{", "ipa", ",", "\"", "\"", ",", "\"", "\"", ",", "domaind", "}", ",", "true", ")", ";", "else", "{", "String", "useraw", "=", "user", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "String", "useru", "=", "useraw", ".", "replaceAll", "(", "\"", "\"", ",", "\"", "<STR_LIT:\\\\>", "\"", ")", ";", "String", "passp", "=", "pass", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "smbFile", "=", "createSMBPath", "(", "new", "String", "[", "]", "{", "ipa", ",", "useru", ",", "passp", ",", "domaind", "}", ",", "false", ")", ";", "}", "if", "(", "smbFile", "=", "=", "null", ")", "return", ";", "try", "{", "s", "=", "new", "String", "[", "]", "{", "conName", ".", "getText", "(", ")", ".", "toString", "(", ")", ",", "SmbUtil", ".", "getSmbEncryptedPath", "(", "getActivity", "(", ")", ",", "smbFile", ".", "getPath", "(", ")", ")", "}", ";", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "getString", "(", "R", ".", "string", ".", "error", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", ";", "}", "if", "(", "smbConnectionListener", "!", "=", "null", ")", "{", "smbConnectionListener", ".", "addConnection", "(", "edit", ",", "s", "[", "0", "]", ",", "smbFile", ".", "getPath", "(", ")", ",", "s", "[", "1", "]", ",", "name", ",", "path", ")", ";", "}", "dismiss", "(", ")", ";", "}", ")", ";", "ba3", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "if", "(", "smbConnectionListener", "!", "=", "null", ")", "{", "smbConnectionListener", ".", "deleteConnection", "(", "name", ",", "path", ")", ";", "}", "dismiss", "(", ")", ";", "}", ")", ";", "ba3", ".", "onNeutral", "(", "(", "dialog", ",", "which", ")", "-", ">", "dismiss", "(", ")", ")", ";", "return", "ba3", ".", "build", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "if", "(", "conName", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", "=", "=", "0", ")", "connectionTIL", ".", "setError", "(", "emptyName", ")", ";", "else", "connectionTIL", ".", "setError", "(", "\"", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "if", "(", "ip", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", "=", "=", "0", ")", "ipTIL", ".", "setError", "(", "emptyAddress", ")", ";", "else", "ipTIL", ".", "setError", "(", "\"", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "if", "(", "domain", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "contains", "(", "\"", "<STR_LIT:;>", "\"", ")", ")", "domainTIL", ".", "setError", "(", "invalidDomain", ")", ";", "else", "domainTIL", ".", "setError", "(", "\"", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "if", "(", "user", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "contains", "(", "\"", "<STR_LIT::>", "\"", ")", ")", "usernameTIL", ".", "setError", "(", "invalidUsername", ")", ";", "else", "usernameTIL", ".", "setError", "(", "\"", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "SmbFile", "createSMBPath", "(", "String", "[", "]", "auth", ",", "boolean", "anonym", ")", "{", "try", "{", "String", "yourPeerIP", "=", "auth", "[", "0", "]", ",", "domain", "=", "auth", "[", "<NUM_LIT:3>", "]", ";", "String", "path", "=", "\"", "<STR_LIT>", "\"", "+", "(", "android", ".", "text", ".", "TextUtils", ".", "isEmpty", "(", "domain", ")", "?", "\"", "\"", ":", "(", "URLEncoder", ".", "encode", "(", "domain", "+", "\"", "<STR_LIT:;>", "\"", ",", "\"", "<STR_LIT:UTF-8>", "\"", ")", ")", ")", "+", "(", "anonym", "?", "\"", "\"", ":", "(", "URLEncoder", ".", "encode", "(", "auth", "[", "1", "]", ",", "\"", "<STR_LIT:UTF-8>", "\"", ")", "+", "\"", "<STR_LIT::>", "\"", "+", "URLEncoder", ".", "encode", "(", "auth", "[", "<NUM_LIT:2>", "]", ",", "\"", "<STR_LIT:UTF-8>", "\"", ")", "+", "\"", "<STR_LIT:@>", "\"", ")", ")", "+", "yourPeerIP", "+", "\"", "<STR_LIT:/>", "\"", ";", "SmbFile", "smbFile", "=", "new", "SmbFile", "(", "path", ")", ";", "return", "smbFile", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "UnsupportedEncodingException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "private", "static", "ColorStateList", "createEditTextColorStateList", "(", "int", "color", ")", "{", "int", "[", "]", "[", "]", "states", "=", "new", "int", "[", "<NUM_LIT:3>", "]", "[", "]", ";", "int", "[", "]", "colors", "=", "new", "int", "[", "<NUM_LIT:3>", "]", ";", "int", "i", "=", "0", ";", "states", "[", "i", "]", "=", "new", "int", "[", "]", "{", "-", "android", ".", "R", ".", "attr", ".", "state_enabled", "}", ";", "colors", "[", "i", "]", "=", "Color", ".", "parseColor", "(", "\"", "<STR_LIT>", "\"", ")", ";", "i", "+", "+", ";", "states", "[", "i", "]", "=", "new", "int", "[", "]", "{", "-", "android", ".", "R", ".", "attr", ".", "state_pressed", ",", "-", "android", ".", "R", ".", "attr", ".", "state_focused", "}", ";", "colors", "[", "i", "]", "=", "Color", ".", "parseColor", "(", "\"", "<STR_LIT>", "\"", ")", ";", "i", "+", "+", ";", "states", "[", "i", "]", "=", "new", "int", "[", "]", "{", "}", ";", "colors", "[", "i", "]", "=", "color", ";", "return", "new", "ColorStateList", "(", "states", ",", "colors", ")", ";", "}", "</s>"]
["<s>", "private", "static", "void", "setTint", "(", "EditText", "editText", ",", "int", "color", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "return", ";", "ColorStateList", "editTextColorStateList", "=", "createEditTextColorStateList", "(", "color", ")", ";", "if", "(", "editText", "instanceof", "AppCompatEditText", ")", "{", "(", "(", "AppCompatEditText", ")", "editText", ")", ".", "setSupportBackgroundTintList", "(", "editTextColorStateList", ")", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "editText", ".", "setBackgroundTintList", "(", "editTextColorStateList", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "utilsProvider", "=", "AppConfig", ".", "getInstance", "(", ")", ".", "getUtilsProvider", "(", ")", ";", "utilsHandler", "=", "AppConfig", ".", "getInstance", "(", ")", ".", "getUtilsHandler", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Dialog", "onCreateDialog", "(", "Bundle", "savedInstanceState", ")", "{", "context", "=", "getActivity", "(", ")", ";", "final", "boolean", "edit", "=", "getArguments", "(", ")", ".", "getBoolean", "(", "\"", "<STR_LIT>", "\"", ",", "false", ")", ";", "final", "View", "v2", "=", "getActivity", "(", ")", ".", "getLayoutInflater", "(", ")", ".", "inflate", "(", "R", ".", "layout", ".", "sftp_dialog", ",", "null", ")", ";", "final", "EditText", "connectionET", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "connectionET", ")", ";", "final", "EditText", "addressET", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "ipET", ")", ";", "final", "EditText", "portET", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "portET", ")", ";", "final", "EditText", "usernameET", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "usernameET", ")", ";", "final", "EditText", "passwordET", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "passwordET", ")", ";", "final", "Button", "selectPemBTN", "=", "v2", ".", "findViewById", "(", "R", ".", "id", ".", "selectPemBTN", ")", ";", "if", "(", "!", "edit", ")", "{", "connectionET", ".", "setText", "(", "R", ".", "string", ".", "scp_con", ")", ";", "portET", ".", "setText", "(", "Integer", ".", "toString", "(", "SshConnectionPool", ".", "SSH_DEFAULT_PORT", ")", ")", ";", "}", "else", "{", "connectionET", ".", "setText", "(", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "addressET", ".", "setText", "(", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "portET", ".", "setText", "(", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "usernameET", ".", "setText", "(", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "if", "(", "getArguments", "(", ")", ".", "getBoolean", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "passwordET", ".", "setHint", "(", "R", ".", "string", ".", "password_unchanged", ")", ";", "}", "else", "{", "selectedParsedKeyPairName", "=", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT:Name>", "\"", ")", ";", "selectPemBTN", ".", "setText", "(", "selectedParsedKeyPairName", ")", ";", "}", "}", "portET", ".", "setOnFocusChangeListener", "(", "(", "v", ",", "hasFocus", ")", "-", ">", "{", "if", "(", "hasFocus", ")", "portET", ".", "selectAll", "(", ")", ";", "}", ")", ";", "int", "accentColor", "=", "(", "(", "ThemedActivity", ")", "getActivity", "(", ")", ")", ".", "getAccent", "(", ")", ";", "selectPemBTN", ".", "setOnClickListener", "(", "v", "-", ">", "{", "Intent", "intent", "=", "new", "Intent", "(", ")", ".", "setType", "(", "\"", "<STR_LIT>", "\"", ")", ".", "setAction", "(", "Intent", ".", "ACTION_GET_CONTENT", ")", ";", "startActivityForResult", "(", "intent", ",", "SELECT_PEM_INTENT", ")", ";", "}", ")", ";", "final", "MaterialDialog", ".", "Builder", "dialogBuilder", "=", "new", "MaterialDialog", ".", "Builder", "(", "context", ")", ";", "dialogBuilder", ".", "title", "(", "(", "R", ".", "string", ".", "scp_con", ")", ")", ";", "dialogBuilder", ".", "autoDismiss", "(", "false", ")", ";", "dialogBuilder", ".", "customView", "(", "v2", ",", "true", ")", ";", "dialogBuilder", ".", "theme", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "dialogBuilder", ".", "negativeText", "(", "R", ".", "string", ".", "cancel", ")", ";", "dialogBuilder", ".", "positiveText", "(", "edit", "?", "R", ".", "string", ".", "update", ":", "R", ".", "string", ".", "create", ")", ";", "dialogBuilder", ".", "positiveColor", "(", "accentColor", ")", ";", "dialogBuilder", ".", "negativeColor", "(", "accentColor", ")", ";", "dialogBuilder", ".", "neutralColor", "(", "accentColor", ")", ";", "dialogBuilder", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "final", "String", "connectionName", "=", "connectionET", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "final", "String", "hostname", "=", "addressET", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "final", "int", "port", "=", "Integer", ".", "parseInt", "(", "portET", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "final", "String", "username", "=", "usernameET", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "final", "String", "password", "=", "passwordET", ".", "getText", "(", ")", "!", "=", "null", "?", "passwordET", ".", "getText", "(", ")", ".", "toString", "(", ")", ":", "null", ";", "String", "sshHostKey", "=", "utilsHandler", ".", "getSshHostKey", "(", "deriveSftpPathFrom", "(", "hostname", ",", "port", ",", "username", ",", "password", ",", "selectedParsedKeyPair", ")", ")", ";", "if", "(", "sshHostKey", "!", "=", "null", ")", "{", "authenticateAndSaveSetup", "(", "connectionName", ",", "hostname", ",", "port", ",", "sshHostKey", ",", "username", ",", "password", ",", "selectedParsedKeyPairName", ",", "selectedParsedKeyPair", ",", "edit", ")", ";", "}", "else", "{", "new", "GetSshHostFingerprintTask", "(", "hostname", ",", "port", ",", "taskResult", "-", ">", "{", "PublicKey", "hostKey", "=", "taskResult", ".", "result", ";", "if", "(", "hostKey", "!", "=", "null", ")", "{", "final", "String", "hostKeyFingerprint", "=", "SecurityUtils", ".", "getFingerprint", "(", "hostKey", ")", ";", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", "hostname", ")", ";", "if", "(", "port", "!", "=", "SshConnectionPool", ".", "SSH_DEFAULT_PORT", "&", "&", "port", ">", "0", ")", "sb", ".", "append", "(", "<CHAR_LIT::>", ")", ".", "append", "(", "port", ")", ";", "final", "String", "hostAndPort", "=", "sb", ".", "toString", "(", ")", ";", "new", "AlertDialog", ".", "Builder", "(", "context", ")", ".", "setTitle", "(", "R", ".", "string", ".", "ssh_host_key_verification_prompt_title", ")", ".", "setMessage", "(", "getString", "(", "R", ".", "string", ".", "ssh_host_key_verification_prompt", ",", "hostAndPort", ",", "hostKey", ".", "getAlgorithm", "(", ")", ",", "hostKeyFingerprint", ")", ")", ".", "setCancelable", "(", "true", ")", ".", "setPositiveButton", "(", "R", ".", "string", ".", "yes", ",", "(", "dialog1", ",", "which1", ")", "-", ">", "{", "dialog1", ".", "dismiss", "(", ")", ";", "if", "(", "authenticateAndSaveSetup", "(", "connectionName", ",", "hostname", ",", "port", ",", "hostKeyFingerprint", ",", "username", ",", "password", ",", "selectedParsedKeyPairName", ",", "selectedParsedKeyPair", ",", "edit", ")", ")", "{", "dialog1", ".", "dismiss", "(", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "dismiss", "(", ")", ";", "}", "}", ")", ".", "setNegativeButton", "(", "R", ".", "string", ".", "no", ",", "(", "dialog1", ",", "which1", ")", "-", ">", "dialog1", ".", "dismiss", "(", ")", ")", ".", "show", "(", ")", ";", "}", "}", ")", ".", "execute", "(", ")", ";", "}", "}", ")", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "dialog", ".", "dismiss", "(", ")", ")", ";", "if", "(", "edit", ")", "{", "dialogBuilder", ".", "negativeText", "(", "R", ".", "string", ".", "delete", ")", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "final", "String", "connectionName", "=", "connectionET", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "final", "String", "hostname", "=", "addressET", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "final", "int", "port", "=", "Integer", ".", "parseInt", "(", "portET", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "final", "String", "username", "=", "usernameET", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "final", "String", "path", "=", "deriveSftpPathFrom", "(", "hostname", ",", "port", ",", "username", ",", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ",", "selectedParsedKeyPair", ")", ";", "int", "i", "=", "DataUtils", ".", "getInstance", "(", ")", ".", "containsServer", "(", "new", "String", "[", "]", "{", "connectionName", ",", "path", "}", ")", ";", "if", "(", "i", "!", "=", "-", "1", ")", "{", "DataUtils", ".", "getInstance", "(", ")", ".", "removeServer", "(", "i", ")", ";", "AppConfig", ".", "runInBackground", "(", "(", ")", "-", ">", "{", "utilsHandler", ".", "removeFromDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "SFTP", ",", "path", ",", "connectionName", ",", "null", ",", "null", ",", "null", ")", ")", ";", "}", ")", ";", "(", "(", "MainActivity", ")", "getActivity", "(", ")", ")", ".", "getDrawer", "(", ")", ".", "refreshDrawer", "(", ")", ";", "}", "dialog", ".", "dismiss", "(", ")", ";", "}", ")", ".", "neutralText", "(", "R", ".", "string", ".", "cancel", ")", ".", "onNeutral", "(", "(", "dialog", ",", "which", ")", "-", ">", "dialog", ".", "dismiss", "(", ")", ")", ";", "}", "MaterialDialog", "dialog", "=", "dialogBuilder", ".", "build", "(", ")", ";", "final", "View", "okBTN", "=", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ";", "if", "(", "!", "edit", ")", "okBTN", ".", "setEnabled", "(", "false", ")", ";", "TextWatcher", "validator", "=", "new", "SimpleTextWatcher", "(", ")", "{", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "int", "port", "=", "portET", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", ">", "0", "?", "Integer", ".", "parseInt", "(", "portET", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ":", "-", "1", ";", "okBTN", ".", "setEnabled", "(", "(", "connectionET", ".", "getText", "(", ")", ".", "length", "(", ")", ">", "0", "&", "&", "addressET", ".", "getText", "(", ")", ".", "length", "(", ")", ">", "0", "&", "&", "port", ">", "0", "&", "&", "port", "<", "<NUM_LIT>", "&", "&", "usernameET", ".", "getText", "(", ")", ".", "length", "(", ")", ">", "0", "&", "&", "(", "passwordET", ".", "getText", "(", ")", ".", "length", "(", ")", ">", "0", "|", "|", "selectedParsedKeyPair", "!", "=", "null", ")", ")", ")", ";", "}", "}", ";", "addressET", ".", "addTextChangedListener", "(", "validator", ")", ";", "portET", ".", "addTextChangedListener", "(", "validator", ")", ";", "usernameET", ".", "addTextChangedListener", "(", "validator", ")", ";", "passwordET", ".", "addTextChangedListener", "(", "validator", ")", ";", "return", "dialog", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "int", "port", "=", "portET", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", ">", "0", "?", "Integer", ".", "parseInt", "(", "portET", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ":", "-", "1", ";", "okBTN", ".", "setEnabled", "(", "(", "connectionET", ".", "getText", "(", ")", ".", "length", "(", ")", ">", "0", "&", "&", "addressET", ".", "getText", "(", ")", ".", "length", "(", ")", ">", "0", "&", "&", "port", ">", "0", "&", "&", "port", "<", "<NUM_LIT>", "&", "&", "usernameET", ".", "getText", "(", ")", ".", "length", "(", ")", ">", "0", "&", "&", "(", "passwordET", ".", "getText", "(", ")", ".", "length", "(", ")", ">", "0", "|", "|", "selectedParsedKeyPair", "!", "=", "null", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityResult", "(", "int", "requestCode", ",", "int", "resultCode", ",", "Intent", "data", ")", "{", "super", ".", "onActivityResult", "(", "requestCode", ",", "resultCode", ",", "data", ")", ";", "if", "(", "SELECT_PEM_INTENT", "=", "=", "requestCode", "&", "&", "Activity", ".", "RESULT_OK", "=", "=", "resultCode", ")", "{", "selectedPem", "=", "data", ".", "getData", "(", ")", ";", "try", "{", "InputStream", "selectedKeyContent", "=", "context", ".", "getContentResolver", "(", ")", ".", "openInputStream", "(", "selectedPem", ")", ";", "new", "PemToKeyPairTask", "(", "selectedKeyContent", ",", "result", "-", ">", "{", "selectedParsedKeyPair", "=", "result", ";", "selectedParsedKeyPairName", "=", "selectedPem", ".", "getLastPathSegment", "(", ")", ".", "substring", "(", "selectedPem", ".", "getLastPathSegment", "(", ")", ".", "indexOf", "(", "<CHAR_LIT:/>", ")", "+", "1", ")", ";", "MDButton", "okBTN", "=", "(", "(", "MaterialDialog", ")", "getDialog", "(", ")", ")", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ";", "okBTN", ".", "setEnabled", "(", "okBTN", ".", "isEnabled", "(", ")", "|", "|", "true", ")", ";", "Button", "selectPemBTN", "=", "getDialog", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "selectPemBTN", ")", ";", "selectPemBTN", ".", "setText", "(", "selectedParsedKeyPairName", ")", ";", "}", ")", ".", "execute", "(", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "catch", "(", "IOException", "shouldNotHappen", ")", "{", "}", "}", "}", "</s>"]
["<s>", "private", "boolean", "authenticateAndSaveSetup", "(", "String", "connectionName", ",", "String", "hostname", ",", "int", "port", ",", "String", "hostKeyFingerprint", ",", "String", "username", ",", "String", "password", ",", "String", "selectedParsedKeyPairName", ",", "KeyPair", "selectedParsedKeyPair", ",", "boolean", "isEdit", ")", "{", "if", "(", "isEdit", ")", "password", "=", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "final", "String", "path", "=", "deriveSftpPathFrom", "(", "hostname", ",", "port", ",", "username", ",", "password", ",", "selectedParsedKeyPair", ")", ";", "final", "String", "encryptedPath", "=", "SshClientUtils", ".", "encryptSshPathAsNecessary", "(", "path", ")", ";", "if", "(", "!", "isEdit", ")", "{", "try", "{", "SSHClient", "result", "=", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "hostname", ",", "port", ",", "hostKeyFingerprint", ",", "username", ",", "password", ",", "selectedParsedKeyPair", ")", ";", "if", "(", "result", "!", "=", "null", ")", "{", "if", "(", "DataUtils", ".", "getInstance", "(", ")", ".", "containsServer", "(", "path", ")", "=", "=", "-", "1", ")", "{", "DataUtils", ".", "getInstance", "(", ")", ".", "addServer", "(", "new", "String", "[", "]", "{", "connectionName", ",", "path", "}", ")", ";", "(", "(", "MainActivity", ")", "getActivity", "(", ")", ")", ".", "getDrawer", "(", ")", ".", "refreshDrawer", "(", ")", ";", "utilsHandler", ".", "saveToDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "SFTP", ",", "encryptedPath", ",", "connectionName", ",", "hostKeyFingerprint", ",", "selectedParsedKeyPairName", ",", "getPemContents", "(", ")", ")", ")", ";", "MainFragment", "ma", "=", "(", "(", "MainActivity", ")", "getActivity", "(", ")", ")", ".", "getCurrentMainFragment", "(", ")", ";", "ma", ".", "loadlist", "(", "path", ",", "false", ",", "OpenMode", ".", "SFTP", ")", ";", "dismiss", "(", ")", ";", "}", "else", "{", "Snackbar", ".", "make", "(", "getActivity", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "content_frame", ")", ",", "getString", "(", "R", ".", "string", ".", "connection_exists", ")", ",", "Snackbar", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "dismiss", "(", ")", ";", "}", "return", "true", ";", "}", "else", "{", "return", "false", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "false", ";", "}", "}", "else", "{", "DataUtils", ".", "getInstance", "(", ")", ".", "removeServer", "(", "DataUtils", ".", "getInstance", "(", ")", ".", "containsServer", "(", "path", ")", ")", ";", "DataUtils", ".", "getInstance", "(", ")", ".", "addServer", "(", "new", "String", "[", "]", "{", "connectionName", ",", "path", "}", ")", ";", "Collections", ".", "sort", "(", "DataUtils", ".", "getInstance", "(", ")", ".", "getServers", "(", ")", ",", "new", "BookSorter", "(", ")", ")", ";", "(", "(", "MainActivity", ")", "getActivity", "(", ")", ")", ".", "getDrawer", "(", ")", ".", "refreshDrawer", "(", ")", ";", "AppConfig", ".", "runInBackground", "(", "(", ")", "-", ">", "{", "utilsHandler", ".", "updateSsh", "(", "connectionName", ",", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ",", "encryptedPath", ",", "selectedParsedKeyPairName", ",", "getPemContents", "(", ")", ")", ";", "}", ")", ";", "dismiss", "(", ")", ";", "return", "true", ";", "}", "}", "</s>"]
["<s>", "private", "String", "getPemContents", "(", ")", "{", "if", "(", "selectedPem", "=", "=", "null", ")", "return", "null", ";", "try", "{", "BufferedReader", "reader", "=", "new", "BufferedReader", "(", "new", "InputStreamReader", "(", "context", ".", "getContentResolver", "(", ")", ".", "openInputStream", "(", "selectedPem", ")", ")", ")", ";", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", ")", ";", "for", "(", "String", "line", "=", "reader", ".", "readLine", "(", ")", ";", "line", "!", "=", "null", ";", "line", "=", "reader", ".", "readLine", "(", ")", ")", "{", "sb", ".", "append", "(", "line", ")", ".", "append", "(", "\"", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "}", "return", "sb", ".", "toString", "(", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "return", "null", ";", "}", "catch", "(", "IOException", "e", ")", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "public", "ColorPickerDialog", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "setDialogLayoutResource", "(", "R", ".", "layout", ".", "dialog_colorpicker", ")", ";", "setPositiveButtonText", "(", "android", ".", "R", ".", "string", ".", "ok", ")", ";", "setNegativeButtonText", "(", "android", ".", "R", ".", "string", ".", "cancel", ")", ";", "setDialogIcon", "(", "null", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setColorPreference", "(", "ColorPreferenceHelper", "colorPreferenceHelper", ",", "UserColorPreferences", "color", ",", "AppTheme", "theme", ")", "{", "this", ".", "colorPreferenceHelper", "=", "colorPreferenceHelper", ";", "colorPref", "=", "color", ";", "appTheme", "=", "theme", ";", "}", "</s>"]
["<s>", "public", "void", "setListener", "(", "OnAcceptedConfig", "l", ")", "{", "listener", "=", "l", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Object", "onGetDefaultValue", "(", "TypedArray", "a", ",", "int", "index", ")", "{", "return", "a", ".", "getString", "(", "index", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CharSequence", "getSummary", "(", ")", "{", "return", "\"", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindDialogView", "(", "View", "view", ")", "{", "sharedPrefs", "=", "getSharedPreferences", "(", ")", ";", "int", "accentColor", "=", "colorPref", ".", "accent", ";", "if", "(", "selectedIndex", "=", "=", "NO_DATA", ")", "{", "boolean", "isUsingDefault", "=", "sharedPrefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_COLOR_CONFIG", ",", "NO_DATA", ")", "=", "=", "NO_DATA", "&", "&", "sharedPrefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN", ",", "R", ".", "color", ".", "primary_indigo", ")", "=", "=", "R", ".", "color", ".", "primary_indigo", "&", "&", "sharedPrefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN_TWO", ",", "R", ".", "color", ".", "primary_indigo", ")", "=", "=", "R", ".", "color", ".", "primary_indigo", "&", "&", "sharedPrefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_ACCENT", ",", "R", ".", "color", ".", "primary_pink", ")", "=", "=", "R", ".", "color", ".", "primary_pink", "&", "&", "sharedPrefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_ICON_SKIN", ",", "R", ".", "color", ".", "primary_pink", ")", "=", "=", "R", ".", "color", ".", "primary_pink", ";", "if", "(", "isUsingDefault", ")", "{", "sharedPrefs", ".", "edit", "(", ")", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_COLOR_CONFIG", ",", "DEFAULT", ")", ".", "apply", "(", ")", ";", "}", "if", "(", "sharedPrefs", ".", "getBoolean", "(", "\"", "<STR_LIT>", "\"", ",", "false", ")", ")", "{", "sharedPrefs", ".", "edit", "(", ")", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_COLOR_CONFIG", ",", "RANDOM_INDEX", ")", ".", "apply", "(", ")", ";", "}", "sharedPrefs", ".", "edit", "(", ")", ".", "remove", "(", "\"", "<STR_LIT>", "\"", ")", ".", "apply", "(", ")", ";", "selectedIndex", "=", "sharedPrefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_COLOR_CONFIG", ",", "CUSTOM_INDEX", ")", ";", "}", "LinearLayout", "container", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "container", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "COLORS", ".", "length", ";", "i", "+", "+", ")", "{", "View", "child", "=", "inflateItem", "(", "container", ",", "i", ",", "accentColor", ")", ";", "if", "(", "selectedIndex", "=", "=", "i", ")", "{", "selectedItem", "=", "child", ";", "select", "(", "selectedItem", ",", "true", ")", ";", "}", "(", "(", "TextView", ")", "child", ".", "findViewById", "(", "R", ".", "id", ".", "text", ")", ")", ".", "setText", "(", "COLORS", "[", "i", "]", ".", "first", ")", ";", "CircularColorsView", "colorsView", "=", "child", ".", "findViewById", "(", "R", ".", "id", ".", "circularColorsView", ")", ";", "colorsView", ".", "setColors", "(", "getColor", "(", "i", ",", "0", ")", ",", "getColor", "(", "i", ",", "1", ")", ",", "getColor", "(", "i", ",", "<NUM_LIT:2>", ")", ",", "getColor", "(", "i", ",", "<NUM_LIT:3>", ")", ")", ";", "if", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", "=", "=", "Theme", ".", "LIGHT", ")", "colorsView", ".", "setDividerColor", "(", "Color", ".", "WHITE", ")", ";", "else", "colorsView", ".", "setDividerColor", "(", "Color", ".", "BLACK", ")", ";", "container", ".", "addView", "(", "child", ")", ";", "}", "{", "View", "child", "=", "inflateItem", "(", "container", ",", "CUSTOM_INDEX", ",", "accentColor", ")", ";", "if", "(", "selectedIndex", "=", "=", "CUSTOM_INDEX", ")", "{", "selectedItem", "=", "child", ";", "select", "(", "selectedItem", ",", "true", ")", ";", "}", "(", "(", "TextView", ")", "child", ".", "findViewById", "(", "R", ".", "id", ".", "text", ")", ")", ".", "setText", "(", "R", ".", "string", ".", "custom", ")", ";", "child", ".", "findViewById", "(", "R", ".", "id", ".", "circularColorsView", ")", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "container", ".", "addView", "(", "child", ")", ";", "}", "{", "View", "child", "=", "inflateItem", "(", "container", ",", "RANDOM_INDEX", ",", "accentColor", ")", ";", "if", "(", "selectedIndex", "=", "=", "RANDOM_INDEX", ")", "{", "selectedItem", "=", "child", ";", "select", "(", "selectedItem", ",", "true", ")", ";", "}", "(", "(", "TextView", ")", "child", ".", "findViewById", "(", "R", ".", "id", ".", "text", ")", ")", ".", "setText", "(", "R", ".", "string", ".", "random", ")", ";", "child", ".", "findViewById", "(", "R", ".", "id", ".", "circularColorsView", ")", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "container", ".", "addView", "(", "child", ")", ";", "}", "super", ".", "onBindDialogView", "(", "view", ")", ";", "}", "</s>"]
["<s>", "private", "void", "select", "(", "View", "listChild", ",", "boolean", "checked", ")", "{", "RadioButton", "button", "=", "listChild", ".", "findViewById", "(", "R", ".", "id", ".", "select", ")", ";", "button", ".", "setChecked", "(", "checked", ")", ";", "}", "</s>"]
["<s>", "private", "View", "inflateItem", "(", "LinearLayout", "container", ",", "final", "int", "index", ",", "int", "accentColor", ")", "{", "View", ".", "OnClickListener", "clickListener", "=", "v", "-", ">", "{", "if", "(", "!", "v", ".", "isSelected", "(", ")", ")", "{", "select", "(", "selectedItem", ",", "false", ")", ";", "select", "(", "v", ",", "true", ")", ";", "selectedItem", "=", "v", ";", "selectedIndex", "=", "index", ";", "}", "}", ";", "LayoutInflater", "inflater", "=", "(", "LayoutInflater", ")", "getContext", "(", ")", ".", "getSystemService", "(", "Context", ".", "LAYOUT_INFLATER_SERVICE", ")", ";", "View", "child", "=", "inflater", ".", "inflate", "(", "R", ".", "layout", ".", "item_colorpicker", ",", "container", ",", "false", ")", ";", "child", ".", "setOnClickListener", "(", "clickListener", ")", ";", "RadioButton", "radio", "=", "child", ".", "findViewById", "(", "R", ".", "id", ".", "select", ")", ";", "radio", ".", "setOnClickListener", "(", "clickListener", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "ColorStateList", "colorStateList", "=", "new", "ColorStateList", "(", "new", "int", "[", "]", "[", "]", "{", "{", "-", "android", ".", "R", ".", "attr", ".", "state_enabled", "}", ",", "{", "android", ".", "R", ".", "attr", ".", "state_enabled", "}", "}", ",", "new", "int", "[", "]", "{", "accentColor", ",", "accentColor", "}", ")", ";", "radio", ".", "setButtonTintList", "(", "colorStateList", ")", ";", "}", "return", "child", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "showDialog", "(", "Bundle", "state", ")", "{", "super", ".", "showDialog", "(", "state", ")", ";", "Resources", "res", "=", "getContext", "(", ")", ".", "getResources", "(", ")", ";", "Window", "window", "=", "getDialog", "(", ")", ".", "getWindow", "(", ")", ";", "int", "accentColor", "=", "colorPref", ".", "accent", ";", "(", "(", "TextView", ")", "window", ".", "findViewById", "(", "res", ".", "getIdentifier", "(", "\"", "<STR_LIT:1>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ")", ")", ".", "setTextColor", "(", "accentColor", ")", ";", "(", "(", "TextView", ")", "window", ".", "findViewById", "(", "res", ".", "getIdentifier", "(", "\"", "<STR_LIT:2>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ")", ")", ".", "setTextColor", "(", "accentColor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDialogClosed", "(", "boolean", "positiveResult", ")", "{", "if", "(", "positiveResult", ")", "{", "sharedPrefs", ".", "edit", "(", ")", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_COLOR_CONFIG", ",", "selectedIndex", ")", ".", "apply", "(", ")", ";", "if", "(", "selectedIndex", "!", "=", "CUSTOM_INDEX", "&", "&", "selectedIndex", "!", "=", "RANDOM_INDEX", ")", "{", "colorPreferenceHelper", ".", "saveColorPreferences", "(", "sharedPrefs", ",", "new", "UserColorPreferences", "(", "getColor", "(", "selectedIndex", ",", "0", ")", ",", "getColor", "(", "selectedIndex", ",", "1", ")", ",", "getColor", "(", "selectedIndex", ",", "<NUM_LIT:2>", ")", ",", "getColor", "(", "selectedIndex", ",", "<NUM_LIT:3>", ")", ")", ")", ";", "}", "listener", ".", "onAcceptedConfig", "(", ")", ";", "}", "else", "{", "selectedIndex", "=", "sharedPrefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_COLOR_CONFIG", ",", "NO_DATA", ")", ";", "}", "}", "</s>"]
["<s>", "private", "int", "getColor", "(", "int", "i", ",", "int", "pos", ")", "{", "return", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "COLORS", "[", "i", "]", ".", "second", "[", "pos", "]", ")", ";", "}", "</s>"]
["<s>", "public", "ColorItemPair", "(", "Integer", "first", ",", "int", "[", "]", "second", ")", "{", "super", "(", "first", ",", "second", ")", ";", "}", "</s>"]
["<s>", "void", "onAcceptedConfig", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "protected", "Parcelable", "onSaveInstanceState", "(", ")", "{", "final", "SavedState", "myState", "=", "new", "SavedState", "(", "super", ".", "onSaveInstanceState", "(", ")", ")", ";", "myState", ".", "selectedItem", "=", "selectedIndex", ";", "return", "myState", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onRestoreInstanceState", "(", "Parcelable", "state", ")", "{", "if", "(", "state", "=", "=", "null", "|", "|", "!", "state", ".", "getClass", "(", ")", ".", "equals", "(", "SavedState", ".", "class", ")", ")", "{", "super", ".", "onRestoreInstanceState", "(", "state", ")", ";", "return", ";", "}", "SavedState", "myState", "=", "(", "SavedState", ")", "state", ";", "selectedIndex", "=", "myState", ".", "selectedItem", ";", "super", ".", "onRestoreInstanceState", "(", "myState", ".", "getSuperState", "(", ")", ")", ";", "select", "(", "selectedItem", ",", "true", ")", ";", "}", "</s>"]
["<s>", "public", "SavedState", "(", "Parcel", "source", ")", "{", "super", "(", "source", ")", ";", "selectedItem", "=", "source", ".", "readInt", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeToParcel", "(", "Parcel", "dest", ",", "int", "flags", ")", "{", "super", ".", "writeToParcel", "(", "dest", ",", "flags", ")", ";", "dest", ".", "writeInt", "(", "selectedItem", ")", ";", "}", "</s>"]
["<s>", "public", "SavedState", "(", "Parcelable", "superState", ")", "{", "super", "(", "superState", ")", ";", "}", "</s>"]
["<s>", "public", "SavedState", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "SavedState", "(", "in", ")", ";", "}", "</s>"]
["<s>", "public", "SavedState", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "SavedState", "[", "size", "]", ";", "}", "</s>"]
["<s>", "public", "static", "MaterialDialog", "showBasicDialog", "(", "ThemedActivity", "themedActivity", ",", "@", "StringRes", "int", "content", ",", "@", "StringRes", "int", "title", ",", "@", "StringRes", "int", "postiveText", ",", "@", "StringRes", "int", "negativeText", ")", "{", "int", "accentColor", "=", "themedActivity", ".", "getAccent", "(", ")", ";", "MaterialDialog", ".", "Builder", "a", "=", "new", "MaterialDialog", ".", "Builder", "(", "themedActivity", ")", ".", "content", "(", "content", ")", ".", "widgetColor", "(", "accentColor", ")", ".", "theme", "(", "themedActivity", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ".", "title", "(", "title", ")", ".", "positiveText", "(", "postiveText", ")", ".", "positiveColor", "(", "accentColor", ")", ".", "negativeText", "(", "negativeText", ")", ".", "negativeColor", "(", "accentColor", ")", ";", "return", "a", ".", "build", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "MaterialDialog", "showNameDialog", "(", "final", "MainActivity", "m", ",", "String", "hint", ",", "String", "prefill", ",", "String", "title", ",", "String", "positiveButtonText", ",", "String", "neutralButtonText", ",", "String", "negativeButtonText", ",", "MaterialDialog", ".", "SingleButtonCallback", "positiveButtonAction", ",", "WarnableTextInputValidator", ".", "OnTextValidate", "validator", ")", "{", "int", "accentColor", "=", "m", ".", "getAccent", "(", ")", ";", "MaterialDialog", ".", "Builder", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "m", ")", ";", "View", "dialogView", "=", "m", ".", "getLayoutInflater", "(", ")", ".", "inflate", "(", "R", ".", "layout", ".", "dialog_singleedittext", ",", "null", ")", ";", "EditText", "textfield", "=", "dialogView", ".", "findViewById", "(", "R", ".", "id", ".", "singleedittext_input", ")", ";", "textfield", ".", "setHint", "(", "hint", ")", ";", "textfield", ".", "setText", "(", "prefill", ")", ";", "WarnableTextInputLayout", "tilTextfield", "=", "dialogView", ".", "findViewById", "(", "R", ".", "id", ".", "singleedittext_warnabletextinputlayout", ")", ";", "builder", ".", "customView", "(", "dialogView", ",", "false", ")", ".", "widgetColor", "(", "accentColor", ")", ".", "theme", "(", "m", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ".", "title", "(", "title", ")", ".", "positiveText", "(", "positiveButtonText", ")", ".", "onPositive", "(", "positiveButtonAction", ")", ";", "if", "(", "neutralButtonText", "!", "=", "null", ")", "{", "builder", ".", "neutralText", "(", "neutralButtonText", ")", ";", "}", "if", "(", "negativeButtonText", "!", "=", "null", ")", "{", "builder", ".", "negativeText", "(", "negativeButtonText", ")", ";", "builder", ".", "negativeColor", "(", "accentColor", ")", ";", "}", "MaterialDialog", "dialog", "=", "builder", ".", "show", "(", ")", ";", "WarnableTextInputValidator", "textInputValidator", "=", "new", "WarnableTextInputValidator", "(", "builder", ".", "getContext", "(", ")", ",", "textfield", ",", "tilTextfield", ",", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ",", "validator", ")", ";", "if", "(", "!", "TextUtils", ".", "isEmpty", "(", "prefill", ")", ")", "textInputValidator", ".", "afterTextChanged", "(", "textfield", ".", "getText", "(", ")", ")", ";", "return", "dialog", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "public", "static", "void", "deleteFilesDialog", "(", "final", "Context", "c", ",", "final", "ArrayList", "<", "LayoutElementParcelable", ">", "layoutElements", ",", "final", "MainActivity", "mainActivity", ",", "final", "List", "<", "LayoutElementParcelable", ">", "positions", ",", "AppTheme", "appTheme", ")", "{", "final", "ArrayList", "<", "HybridFileParcelable", ">", "itemsToDelete", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "int", "accentColor", "=", "mainActivity", ".", "getAccent", "(", ")", ";", "MaterialDialog", "dialog", "=", "new", "MaterialDialog", ".", "Builder", "(", "c", ")", ".", "title", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "dialog_delete_title", ")", ")", ".", "customView", "(", "R", ".", "layout", ".", "dialog_delete", ",", "true", ")", ".", "theme", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", ")", ".", "negativeText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "cancel", ")", ".", "toUpperCase", "(", ")", ")", ".", "positiveText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "delete", ")", ".", "toUpperCase", "(", ")", ")", ".", "positiveColor", "(", "accentColor", ")", ".", "negativeColor", "(", "accentColor", ")", ".", "onPositive", "(", "(", "dialog1", ",", "which", ")", "-", ">", "{", "Toast", ".", "makeText", "(", "c", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "deleting", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "mainActivity", ".", "mainActivityHelper", ".", "deleteFiles", "(", "itemsToDelete", ")", ";", "}", ")", ".", "build", "(", ")", ";", "final", "TextView", "categoryDirectories", "=", "dialog", ".", "getCustomView", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "category_directories", ")", ";", "final", "TextView", "categoryFiles", "=", "dialog", ".", "getCustomView", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "category_files", ")", ";", "final", "TextView", "listDirectories", "=", "dialog", ".", "getCustomView", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "list_directories", ")", ";", "final", "TextView", "listFiles", "=", "dialog", ".", "getCustomView", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "list_files", ")", ";", "final", "TextView", "total", "=", "dialog", ".", "getCustomView", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "total", ")", ";", "new", "AsyncTask", "<", "Void", ",", "Object", ",", "Void", ">", "(", ")", "{", "long", "sizeTotal", "=", "0", ";", "StringBuilder", "files", "=", "new", "StringBuilder", "(", ")", ";", "StringBuilder", "directories", "=", "new", "StringBuilder", "(", ")", ";", "int", "counterDirectories", "=", "0", ";", "int", "counterFiles", "=", "0", ";", "@", "Override", "protected", "void", "onPreExecute", "(", ")", "{", "super", ".", "onPreExecute", "(", ")", ";", "listFiles", ".", "setText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "loading", ")", ")", ";", "listDirectories", ".", "setText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "loading", ")", ")", ";", "total", ".", "setText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "loading", ")", ")", ";", "}", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "positions", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "final", "LayoutElementParcelable", "layoutElement", "=", "positions", ".", "get", "(", "i", ")", ";", "itemsToDelete", ".", "add", "(", "layoutElement", ".", "generateBaseFile", "(", ")", ")", ";", "if", "(", "layoutElement", ".", "isDirectory", ")", "{", "if", "(", "counterDirectories", "!", "=", "0", ")", "{", "directories", ".", "append", "(", "\"", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "}", "long", "sizeDirectory", "=", "layoutElement", ".", "generateBaseFile", "(", ")", ".", "folderSize", "(", "c", ")", ";", "directories", ".", "append", "(", "+", "+", "counterDirectories", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "layoutElement", ".", "title", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "Formatter", ".", "formatFileSize", "(", "c", ",", "sizeDirectory", ")", ")", ".", "append", "(", "\"", "<STR_LIT:)>", "\"", ")", ";", "sizeTotal", "+", "=", "sizeDirectory", ";", "}", "else", "{", "if", "(", "counterFiles", "!", "=", "0", ")", "{", "files", ".", "append", "(", "\"", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "}", "files", ".", "append", "(", "+", "+", "counterFiles", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "layoutElement", ".", "title", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "layoutElement", ".", "size", ")", ".", "append", "(", "\"", "<STR_LIT:)>", "\"", ")", ";", "sizeTotal", "+", "=", "layoutElement", ".", "longSize", ";", "}", "publishProgress", "(", "sizeTotal", ",", "counterFiles", ",", "counterDirectories", ",", "files", ",", "directories", ")", ";", "}", "return", "null", ";", "}", "@", "Override", "protected", "void", "onProgressUpdate", "(", "Object", ".", ".", ".", "result", ")", "{", "super", ".", "onProgressUpdate", "(", "result", ")", ";", "int", "tempCounterFiles", "=", "(", "int", ")", "result", "[", "1", "]", ";", "int", "tempCounterDirectories", "=", "(", "int", ")", "result", "[", "<NUM_LIT:2>", "]", ";", "long", "tempSizeTotal", "=", "(", "long", ")", "result", "[", "0", "]", ";", "StringBuilder", "tempFilesStringBuilder", "=", "(", "StringBuilder", ")", "result", "[", "<NUM_LIT:3>", "]", ";", "StringBuilder", "tempDirectoriesStringBuilder", "=", "(", "StringBuilder", ")", "result", "[", "<NUM_LIT:4>", "]", ";", "updateViews", "(", "tempSizeTotal", ",", "tempFilesStringBuilder", ",", "tempDirectoriesStringBuilder", ",", "tempCounterFiles", ",", "tempCounterDirectories", ")", ";", "}", "@", "Override", "protected", "void", "onPostExecute", "(", "Void", "aVoid", ")", "{", "super", ".", "onPostExecute", "(", "aVoid", ")", ";", "updateViews", "(", "sizeTotal", ",", "files", ",", "directories", ",", "counterFiles", ",", "counterDirectories", ")", ";", "}", "private", "void", "updateViews", "(", "long", "tempSizeTotal", ",", "StringBuilder", "filesStringBuilder", ",", "StringBuilder", "directoriesStringBuilder", ",", "int", ".", ".", ".", "values", ")", "{", "int", "tempCounterFiles", "=", "values", "[", "0", "]", ";", "int", "tempCounterDirectories", "=", "values", "[", "1", "]", ";", "if", "(", "tempCounterDirectories", "=", "=", "0", ")", "{", "if", "(", "tempCounterDirectories", "=", "=", "0", ")", "{", "categoryDirectories", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "listDirectories", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "}", "if", "(", "tempCounterFiles", "=", "=", "0", ")", "{", "categoryFiles", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "listFiles", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "if", "(", "tempCounterDirectories", "!", "=", "0", "|", "|", "tempCounterFiles", "!", "=", "0", ")", "{", "listDirectories", ".", "setText", "(", "directoriesStringBuilder", ")", ";", "if", "(", "listDirectories", ".", "getVisibility", "(", ")", "!", "=", "View", ".", "VISIBLE", "&", "&", "tempCounterDirectories", "!", "=", "0", ")", "listDirectories", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "listFiles", ".", "setText", "(", "filesStringBuilder", ")", ";", "if", "(", "listFiles", ".", "getVisibility", "(", ")", "!", "=", "View", ".", "VISIBLE", "&", "&", "tempCounterFiles", "!", "=", "0", ")", "listFiles", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "if", "(", "categoryDirectories", ".", "getVisibility", "(", ")", "!", "=", "View", ".", "VISIBLE", "&", "&", "tempCounterDirectories", "!", "=", "0", ")", "categoryDirectories", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "if", "(", "categoryFiles", ".", "getVisibility", "(", ")", "!", "=", "View", ".", "VISIBLE", "&", "&", "tempCounterFiles", "!", "=", "0", ")", "categoryFiles", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "}", "if", "(", "tempCounterFiles", "+", "tempCounterDirectories", ">", "1", "&", "&", "tempSizeTotal", ">", "0", ")", "{", "StringBuilder", "builderTotal", "=", "new", "StringBuilder", "(", ")", ".", "append", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "total", ")", ")", ".", "append", "(", "\"", "\"", ")", ".", "append", "(", "Formatter", ".", "formatFileSize", "(", "c", ",", "tempSizeTotal", ")", ")", ";", "total", ".", "setText", "(", "builderTotal", ")", ";", "if", "(", "total", ".", "getVisibility", "(", ")", "!", "=", "View", ".", "VISIBLE", ")", "total", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "}", "else", "{", "total", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "}", "}", ".", "execute", "(", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN", ")", "{", "categoryDirectories", ".", "setTextColor", "(", "accentColor", ")", ";", "categoryFiles", ".", "setTextColor", "(", "accentColor", ")", ";", "}", "dialog", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPreExecute", "(", ")", "{", "super", ".", "onPreExecute", "(", ")", ";", "listFiles", ".", "setText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "loading", ")", ")", ";", "listDirectories", ".", "setText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "loading", ")", ")", ";", "total", ".", "setText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "loading", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "positions", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "final", "LayoutElementParcelable", "layoutElement", "=", "positions", ".", "get", "(", "i", ")", ";", "itemsToDelete", ".", "add", "(", "layoutElement", ".", "generateBaseFile", "(", ")", ")", ";", "if", "(", "layoutElement", ".", "isDirectory", ")", "{", "if", "(", "counterDirectories", "!", "=", "0", ")", "{", "directories", ".", "append", "(", "\"", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "}", "long", "sizeDirectory", "=", "layoutElement", ".", "generateBaseFile", "(", ")", ".", "folderSize", "(", "c", ")", ";", "directories", ".", "append", "(", "+", "+", "counterDirectories", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "layoutElement", ".", "title", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "Formatter", ".", "formatFileSize", "(", "c", ",", "sizeDirectory", ")", ")", ".", "append", "(", "\"", "<STR_LIT:)>", "\"", ")", ";", "sizeTotal", "+", "=", "sizeDirectory", ";", "}", "else", "{", "if", "(", "counterFiles", "!", "=", "0", ")", "{", "files", ".", "append", "(", "\"", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "}", "files", ".", "append", "(", "+", "+", "counterFiles", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "layoutElement", ".", "title", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "layoutElement", ".", "size", ")", ".", "append", "(", "\"", "<STR_LIT:)>", "\"", ")", ";", "sizeTotal", "+", "=", "layoutElement", ".", "longSize", ";", "}", "publishProgress", "(", "sizeTotal", ",", "counterFiles", ",", "counterDirectories", ",", "files", ",", "directories", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onProgressUpdate", "(", "Object", ".", ".", ".", "result", ")", "{", "super", ".", "onProgressUpdate", "(", "result", ")", ";", "int", "tempCounterFiles", "=", "(", "int", ")", "result", "[", "1", "]", ";", "int", "tempCounterDirectories", "=", "(", "int", ")", "result", "[", "<NUM_LIT:2>", "]", ";", "long", "tempSizeTotal", "=", "(", "long", ")", "result", "[", "0", "]", ";", "StringBuilder", "tempFilesStringBuilder", "=", "(", "StringBuilder", ")", "result", "[", "<NUM_LIT:3>", "]", ";", "StringBuilder", "tempDirectoriesStringBuilder", "=", "(", "StringBuilder", ")", "result", "[", "<NUM_LIT:4>", "]", ";", "updateViews", "(", "tempSizeTotal", ",", "tempFilesStringBuilder", ",", "tempDirectoriesStringBuilder", ",", "tempCounterFiles", ",", "tempCounterDirectories", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "Void", "aVoid", ")", "{", "super", ".", "onPostExecute", "(", "aVoid", ")", ";", "updateViews", "(", "sizeTotal", ",", "files", ",", "directories", ",", "counterFiles", ",", "counterDirectories", ")", ";", "}", "</s>"]
["<s>", "private", "void", "updateViews", "(", "long", "tempSizeTotal", ",", "StringBuilder", "filesStringBuilder", ",", "StringBuilder", "directoriesStringBuilder", ",", "int", ".", ".", ".", "values", ")", "{", "int", "tempCounterFiles", "=", "values", "[", "0", "]", ";", "int", "tempCounterDirectories", "=", "values", "[", "1", "]", ";", "if", "(", "tempCounterDirectories", "=", "=", "0", ")", "{", "if", "(", "tempCounterDirectories", "=", "=", "0", ")", "{", "categoryDirectories", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "listDirectories", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "}", "if", "(", "tempCounterFiles", "=", "=", "0", ")", "{", "categoryFiles", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "listFiles", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "if", "(", "tempCounterDirectories", "!", "=", "0", "|", "|", "tempCounterFiles", "!", "=", "0", ")", "{", "listDirectories", ".", "setText", "(", "directoriesStringBuilder", ")", ";", "if", "(", "listDirectories", ".", "getVisibility", "(", ")", "!", "=", "View", ".", "VISIBLE", "&", "&", "tempCounterDirectories", "!", "=", "0", ")", "listDirectories", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "listFiles", ".", "setText", "(", "filesStringBuilder", ")", ";", "if", "(", "listFiles", ".", "getVisibility", "(", ")", "!", "=", "View", ".", "VISIBLE", "&", "&", "tempCounterFiles", "!", "=", "0", ")", "listFiles", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "if", "(", "categoryDirectories", ".", "getVisibility", "(", ")", "!", "=", "View", ".", "VISIBLE", "&", "&", "tempCounterDirectories", "!", "=", "0", ")", "categoryDirectories", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "if", "(", "categoryFiles", ".", "getVisibility", "(", ")", "!", "=", "View", ".", "VISIBLE", "&", "&", "tempCounterFiles", "!", "=", "0", ")", "categoryFiles", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "}", "if", "(", "tempCounterFiles", "+", "tempCounterDirectories", ">", "1", "&", "&", "tempSizeTotal", ">", "0", ")", "{", "StringBuilder", "builderTotal", "=", "new", "StringBuilder", "(", ")", ".", "append", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "total", ")", ")", ".", "append", "(", "\"", "\"", ")", ".", "append", "(", "Formatter", ".", "formatFileSize", "(", "c", ",", "tempSizeTotal", ")", ")", ";", "total", ".", "setText", "(", "builderTotal", ")", ";", "if", "(", "total", ".", "getVisibility", "(", ")", "!", "=", "View", ".", "VISIBLE", ")", "total", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "}", "else", "{", "total", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "showPropertiesDialogWithPermissions", "(", "HybridFileParcelable", "baseFile", ",", "final", "String", "permissions", ",", "ThemedActivity", "activity", ",", "boolean", "isRoot", ",", "AppTheme", "appTheme", ")", "{", "showPropertiesDialog", "(", "baseFile", ",", "permissions", ",", "activity", ",", "isRoot", ",", "appTheme", ",", "true", ",", "false", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showPropertiesDialogWithoutPermissions", "(", "final", "HybridFileParcelable", "f", ",", "ThemedActivity", "activity", ",", "AppTheme", "appTheme", ")", "{", "showPropertiesDialog", "(", "f", ",", "null", ",", "activity", ",", "false", ",", "appTheme", ",", "false", ",", "false", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showPropertiesDialogForStorage", "(", "final", "HybridFileParcelable", "f", ",", "ThemedActivity", "activity", ",", "AppTheme", "appTheme", ")", "{", "showPropertiesDialog", "(", "f", ",", "null", ",", "activity", ",", "false", ",", "appTheme", ",", "false", ",", "true", ")", ";", "}", "</s>"]
["<s>", "private", "static", "void", "showPropertiesDialog", "(", "final", "HybridFileParcelable", "baseFile", ",", "final", "String", "permissions", ",", "ThemedActivity", "base", ",", "boolean", "isRoot", ",", "AppTheme", "appTheme", ",", "boolean", "showPermissions", ",", "boolean", "forStorage", ")", "{", "final", "ExecutorService", "executor", "=", "Executors", ".", "newFixedThreadPool", "(", "<NUM_LIT:3>", ")", ";", "final", "Context", "c", "=", "base", ".", "getApplicationContext", "(", ")", ";", "int", "accentColor", "=", "base", ".", "getAccent", "(", ")", ";", "long", "last", "=", "baseFile", ".", "getDate", "(", ")", ";", "final", "String", "date", "=", "Utils", ".", "getDate", "(", "last", ")", ",", "items", "=", "c", ".", "getString", "(", "R", ".", "string", ".", "calculating", ")", ",", "name", "=", "baseFile", ".", "getName", "(", ")", ",", "parent", "=", "baseFile", ".", "getReadablePath", "(", "baseFile", ".", "getParent", "(", "c", ")", ")", ";", "MaterialDialog", ".", "Builder", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "base", ")", ";", "builder", ".", "title", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "properties", ")", ")", ";", "builder", ".", "theme", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "View", "v", "=", "base", ".", "getLayoutInflater", "(", ")", ".", "inflate", "(", "R", ".", "layout", ".", "properties_dialog", ",", "null", ")", ";", "TextView", "itemsText", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "t7", ")", ";", "{", "TextView", "mNameTitle", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "title_name", ")", ";", "mNameTitle", ".", "setTextColor", "(", "accentColor", ")", ";", "TextView", "mDateTitle", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "title_date", ")", ";", "mDateTitle", ".", "setTextColor", "(", "accentColor", ")", ";", "TextView", "mSizeTitle", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "title_size", ")", ";", "mSizeTitle", ".", "setTextColor", "(", "accentColor", ")", ";", "TextView", "mLocationTitle", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "title_location", ")", ";", "mLocationTitle", ".", "setTextColor", "(", "accentColor", ")", ";", "TextView", "md5Title", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "title_md5", ")", ";", "md5Title", ".", "setTextColor", "(", "accentColor", ")", ";", "TextView", "sha256Title", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "title_sha256", ")", ";", "sha256Title", ".", "setTextColor", "(", "accentColor", ")", ";", "(", "(", "TextView", ")", "v", ".", "findViewById", "(", "R", ".", "id", ".", "t5", ")", ")", ".", "setText", "(", "name", ")", ";", "(", "(", "TextView", ")", "v", ".", "findViewById", "(", "R", ".", "id", ".", "t6", ")", ")", ".", "setText", "(", "parent", ")", ";", "itemsText", ".", "setText", "(", "items", ")", ";", "(", "(", "TextView", ")", "v", ".", "findViewById", "(", "R", ".", "id", ".", "t8", ")", ")", ".", "setText", "(", "date", ")", ";", "LinearLayout", "mNameLinearLayout", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "properties_dialog_name", ")", ";", "LinearLayout", "mLocationLinearLayout", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "properties_dialog_location", ")", ";", "LinearLayout", "mSizeLinearLayout", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "properties_dialog_size", ")", ";", "LinearLayout", "mDateLinearLayout", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "properties_dialog_date", ")", ";", "mNameLinearLayout", ".", "setOnLongClickListener", "(", "v1", "-", ">", "{", "FileUtils", ".", "copyToClipboard", "(", "c", ",", "name", ")", ";", "Toast", ".", "makeText", "(", "c", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "name", ")", "+", "\"", "\"", "+", "c", ".", "getString", "(", "R", ".", "string", ".", "properties_copied_clipboard", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "return", "false", ";", "}", ")", ";", "mLocationLinearLayout", ".", "setOnLongClickListener", "(", "v12", "-", ">", "{", "FileUtils", ".", "copyToClipboard", "(", "c", ",", "parent", ")", ";", "Toast", ".", "makeText", "(", "c", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "location", ")", "+", "\"", "\"", "+", "c", ".", "getString", "(", "R", ".", "string", ".", "properties_copied_clipboard", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "return", "false", ";", "}", ")", ";", "mSizeLinearLayout", ".", "setOnLongClickListener", "(", "v13", "-", ">", "{", "FileUtils", ".", "copyToClipboard", "(", "c", ",", "items", ")", ";", "Toast", ".", "makeText", "(", "c", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "size", ")", "+", "\"", "\"", "+", "c", ".", "getString", "(", "R", ".", "string", ".", "properties_copied_clipboard", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "return", "false", ";", "}", ")", ";", "mDateLinearLayout", ".", "setOnLongClickListener", "(", "v14", "-", ">", "{", "FileUtils", ".", "copyToClipboard", "(", "c", ",", "date", ")", ";", "Toast", ".", "makeText", "(", "c", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "date", ")", "+", "\"", "\"", "+", "c", ".", "getString", "(", "R", ".", "string", ".", "properties_copied_clipboard", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "return", "false", ";", "}", ")", ";", "}", "CountItemsOrAndSizeTask", "countItemsOrAndSizeTask", "=", "new", "CountItemsOrAndSizeTask", "(", "c", ",", "itemsText", ",", "baseFile", ",", "forStorage", ")", ";", "countItemsOrAndSizeTask", ".", "executeOnExecutor", "(", "executor", ")", ";", "GenerateHashesTask", "hashGen", "=", "new", "GenerateHashesTask", "(", "baseFile", ",", "c", ",", "v", ")", ";", "hashGen", ".", "executeOnExecutor", "(", "executor", ")", ";", "{", "boolean", "isRightToLeft", "=", "c", ".", "getResources", "(", ")", ".", "getBoolean", "(", "R", ".", "bool", ".", "is_right_to_left", ")", ";", "boolean", "isDarkTheme", "=", "appTheme", ".", "getMaterialDialogTheme", "(", ")", "=", "=", "Theme", ".", "DARK", ";", "PieChart", "chart", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "chart", ")", ";", "chart", ".", "setTouchEnabled", "(", "false", ")", ";", "chart", ".", "setDrawEntryLabels", "(", "false", ")", ";", "chart", ".", "setDescription", "(", "null", ")", ";", "chart", ".", "setNoDataText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "loading", ")", ")", ";", "chart", ".", "setRotationAngle", "(", "!", "isRightToLeft", "?", "<NUM_LIT>", ":", "<NUM_LIT>", "f", ")", ";", "chart", ".", "setHoleColor", "(", "Color", ".", "TRANSPARENT", ")", ";", "chart", ".", "setCenterTextColor", "(", "isDarkTheme", "?", "Color", ".", "WHITE", ":", "Color", ".", "BLACK", ")", ";", "chart", ".", "getLegend", "(", ")", ".", "setEnabled", "(", "true", ")", ";", "chart", ".", "getLegend", "(", ")", ".", "setForm", "(", "Legend", ".", "LegendForm", ".", "CIRCLE", ")", ";", "chart", ".", "getLegend", "(", ")", ".", "setHorizontalAlignment", "(", "Legend", ".", "LegendHorizontalAlignment", ".", "CENTER", ")", ";", "chart", ".", "getLegend", "(", ")", ".", "setTypeface", "(", "Typeface", ".", "create", "(", "\"", "<STR_LIT>", "\"", ",", "Typeface", ".", "NORMAL", ")", ")", ";", "chart", ".", "getLegend", "(", ")", ".", "setTextColor", "(", "isDarkTheme", "?", "Color", ".", "WHITE", ":", "Color", ".", "BLACK", ")", ";", "chart", ".", "animateY", "(", "<NUM_LIT:1000>", ")", ";", "if", "(", "forStorage", ")", "{", "final", "String", "[", "]", "LEGENDS", "=", "new", "String", "[", "]", "{", "c", ".", "getString", "(", "R", ".", "string", ".", "used", ")", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "free", ")", "}", ";", "final", "int", "[", "]", "COLORS", "=", "{", "Utils", ".", "getColor", "(", "c", ",", "R", ".", "color", ".", "piechart_red", ")", ",", "Utils", ".", "getColor", "(", "c", ",", "R", ".", "color", ".", "piechart_green", ")", "}", ";", "long", "totalSpace", "=", "baseFile", ".", "getTotal", "(", "c", ")", ",", "freeSpace", "=", "baseFile", ".", "getUsableSpace", "(", ")", ",", "usedSpace", "=", "totalSpace", "-", "freeSpace", ";", "List", "<", "PieEntry", ">", "entries", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "entries", ".", "add", "(", "new", "PieEntry", "(", "usedSpace", ",", "LEGENDS", "[", "0", "]", ")", ")", ";", "entries", ".", "add", "(", "new", "PieEntry", "(", "freeSpace", ",", "LEGENDS", "[", "1", "]", ")", ")", ";", "PieDataSet", "set", "=", "new", "PieDataSet", "(", "entries", ",", "null", ")", ";", "set", ".", "setColors", "(", "COLORS", ")", ";", "set", ".", "setXValuePosition", "(", "PieDataSet", ".", "ValuePosition", ".", "OUTSIDE_SLICE", ")", ";", "set", ".", "setYValuePosition", "(", "PieDataSet", ".", "ValuePosition", ".", "OUTSIDE_SLICE", ")", ";", "set", ".", "setSliceSpace", "(", "<NUM_LIT>", ")", ";", "set", ".", "setAutomaticallyDisableSliceSpacing", "(", "true", ")", ";", "set", ".", "setValueLinePart2Length", "(", "<NUM_LIT>", ")", ";", "set", ".", "setSelectionShift", "(", "<NUM_LIT>", ")", ";", "PieData", "pieData", "=", "new", "PieData", "(", "set", ")", ";", "pieData", ".", "setValueFormatter", "(", "new", "SizeFormatter", "(", "c", ")", ")", ";", "pieData", ".", "setValueTextColor", "(", "isDarkTheme", "?", "Color", ".", "WHITE", ":", "Color", ".", "BLACK", ")", ";", "String", "totalSpaceFormatted", "=", "Formatter", ".", "formatFileSize", "(", "c", ",", "totalSpace", ")", ";", "chart", ".", "setCenterText", "(", "new", "SpannableString", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "total", ")", "+", "\"", "<STR_LIT>", "<STR_LIT>", "\"", "+", "totalSpaceFormatted", ")", ")", ";", "chart", ".", "setData", "(", "pieData", ")", ";", "}", "else", "{", "LoadFolderSpaceDataTask", "loadFolderSpaceDataTask", "=", "new", "LoadFolderSpaceDataTask", "(", "c", ",", "appTheme", ",", "chart", ",", "baseFile", ")", ";", "loadFolderSpaceDataTask", ".", "executeOnExecutor", "(", "executor", ")", ";", "}", "chart", ".", "invalidate", "(", ")", ";", "}", "if", "(", "!", "forStorage", "&", "&", "showPermissions", ")", "{", "final", "MainFragment", "main", "=", "(", "(", "MainActivity", ")", "base", ")", ".", "mainFragment", ";", "AppCompatButton", "appCompatButton", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "permissionsButton", ")", ";", "appCompatButton", ".", "setAllCaps", "(", "true", ")", ";", "final", "View", "permissionsTable", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "permtable", ")", ";", "final", "View", "button", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "set", ")", ";", "if", "(", "isRoot", "&", "&", "permissions", ".", "length", "(", ")", ">", "<NUM_LIT:6>", ")", "{", "appCompatButton", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "appCompatButton", ".", "setOnClickListener", "(", "v15", "-", ">", "{", "if", "(", "permissionsTable", ".", "getVisibility", "(", ")", "=", "=", "View", ".", "GONE", ")", "{", "permissionsTable", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "button", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "setPermissionsDialog", "(", "permissionsTable", ",", "button", ",", "baseFile", ",", "permissions", ",", "c", ",", "main", ")", ";", "}", "else", "{", "button", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "permissionsTable", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "}", ")", ";", "}", "}", "builder", ".", "customView", "(", "v", ",", "true", ")", ";", "builder", ".", "positiveText", "(", "base", ".", "getString", "(", "R", ".", "string", ".", "ok", ")", ")", ";", "builder", ".", "positiveColor", "(", "accentColor", ")", ";", "builder", ".", "dismissListener", "(", "dialog", "-", ">", "executor", ".", "shutdown", "(", ")", ")", ";", "MaterialDialog", "materialDialog", "=", "builder", ".", "build", "(", ")", ";", "materialDialog", ".", "show", "(", ")", ";", "materialDialog", ".", "getActionButton", "(", "DialogAction", ".", "NEGATIVE", ")", ".", "setEnabled", "(", "false", ")", ";", "}", "</s>"]
["<s>", "public", "SizeFormatter", "(", "Context", "c", ")", "{", "context", "=", "c", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getFormattedValue", "(", "float", "value", ",", "Entry", "entry", ",", "int", "dataSetIndex", ",", "ViewPortHandler", "viewPortHandler", ")", "{", "String", "prefix", "=", "entry", ".", "getData", "(", ")", "!", "=", "null", "&", "&", "entry", ".", "getData", "(", ")", "instanceof", "String", "?", "(", "String", ")", "entry", ".", "getData", "(", ")", ":", "\"", "\"", ";", "return", "prefix", "+", "Formatter", ".", "formatFileSize", "(", "context", ",", "(", "long", ")", "value", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showCloudDialog", "(", "final", "MainActivity", "mainActivity", ",", "AppTheme", "appTheme", ",", "final", "OpenMode", "openMode", ")", "{", "int", "accentColor", "=", "mainActivity", ".", "getAccent", "(", ")", ";", "final", "MaterialDialog", ".", "Builder", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "mainActivity", ")", ";", "switch", "(", "openMode", ")", "{", "case", "DROPBOX", ":", "builder", ".", "title", "(", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "cloud_dropbox", ")", ")", ";", "break", ";", "case", "BOX", ":", "builder", ".", "title", "(", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "cloud_box", ")", ")", ";", "break", ";", "case", "GDRIVE", ":", "builder", ".", "title", "(", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "cloud_drive", ")", ")", ";", "break", ";", "case", "ONEDRIVE", ":", "builder", ".", "title", "(", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "cloud_onedrive", ")", ")", ";", "break", ";", "}", "builder", ".", "theme", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "builder", ".", "content", "(", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "cloud_remove", ")", ")", ";", "builder", ".", "positiveText", "(", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "yes", ")", ")", ";", "builder", ".", "positiveColor", "(", "accentColor", ")", ";", "builder", ".", "negativeText", "(", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "no", ")", ")", ";", "builder", ".", "negativeColor", "(", "accentColor", ")", ";", "builder", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "mainActivity", ".", "deleteConnection", "(", "openMode", ")", ")", ";", "builder", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "dialog", ".", "cancel", "(", ")", ")", ";", "builder", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showEncryptWarningDialog", "(", "final", "Intent", "intent", ",", "final", "MainFragment", "main", ",", "AppTheme", "appTheme", ",", "final", "EncryptDecryptUtils", ".", "EncryptButtonCallbackInterface", "encryptButtonCallbackInterface", ")", "{", "int", "accentColor", "=", "main", ".", "getMainActivity", "(", ")", ".", "getAccent", "(", ")", ";", "final", "SharedPreferences", "preferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "main", ".", "getContext", "(", ")", ")", ";", "final", "MaterialDialog", ".", "Builder", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "main", ".", "getActivity", "(", ")", ")", ";", "builder", ".", "title", "(", "main", ".", "getString", "(", "R", ".", "string", ".", "warning", ")", ")", ";", "builder", ".", "content", "(", "main", ".", "getString", "(", "R", ".", "string", ".", "crypt_warning_key", ")", ")", ";", "builder", ".", "theme", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "builder", ".", "negativeText", "(", "main", ".", "getString", "(", "R", ".", "string", ".", "warning_never_show", ")", ")", ";", "builder", ".", "positiveText", "(", "main", ".", "getString", "(", "R", ".", "string", ".", "warning_confirm", ")", ")", ";", "builder", ".", "positiveColor", "(", "accentColor", ")", ";", "builder", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "try", "{", "encryptButtonCallbackInterface", ".", "onButtonPressed", "(", "intent", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "main", ".", "getActivity", "(", ")", ",", "main", ".", "getString", "(", "R", ".", "string", ".", "crypt_encryption_fail", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", ")", ";", "builder", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "preferences", ".", "edit", "(", ")", ".", "putBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_WARNING_REMEMBER", ",", "true", ")", ".", "apply", "(", ")", ";", "try", "{", "encryptButtonCallbackInterface", ".", "onButtonPressed", "(", "intent", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "main", ".", "getActivity", "(", ")", ",", "main", ".", "getString", "(", "R", ".", "string", ".", "crypt_encryption_fail", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", ")", ";", "builder", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showEncryptWithPresetPasswordSaveAsDialog", "(", "@", "NonNull", "final", "Context", "c", ",", "@", "NonNull", "final", "MainActivity", "main", ",", "@", "NonNull", "String", "password", ",", "@", "NonNull", "final", "Intent", "intent", ")", "{", "HybridFileParcelable", "intentParcelable", "=", "intent", ".", "getParcelableExtra", "(", "EncryptService", ".", "TAG_SOURCE", ")", ";", "MaterialDialog", "saveAsDialog", "=", "showNameDialog", "(", "main", ",", "\"", "\"", ",", "intentParcelable", ".", "getName", "(", ")", ".", "concat", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ")", ",", "c", ".", "getString", "(", "intentParcelable", ".", "isDirectory", "(", ")", "?", "R", ".", "string", ".", "encrypt_folder_save_as", ":", "R", ".", "string", ".", "encrypt_file_save_as", ")", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "ok", ")", ",", "null", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "cancel", ")", ",", "(", "dialog", ",", "which", ")", "-", ">", "{", "EditText", "textfield", "=", "dialog", ".", "getCustomView", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "singleedittext_input", ")", ";", "intent", ".", "putExtra", "(", "EncryptService", ".", "TAG_ENCRYPT_TARGET", ",", "textfield", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "try", "{", "EncryptDecryptUtils", ".", "startEncryption", "(", "c", ",", "intentParcelable", ".", "getPath", "(", ")", ",", "password", ",", "intent", ")", ";", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "c", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "crypt_encryption_fail", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "finally", "{", "dialog", ".", "dismiss", "(", ")", ";", "}", "}", ",", "(", "text", ")", "-", ">", "{", "if", "(", "text", ".", "length", "(", ")", "<", "1", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "field_empty", ")", ";", "}", "if", "(", "!", "text", ".", "endsWith", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ")", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "encrypt_file_must_end_with_aze", ")", ";", "}", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", ")", ";", "}", ")", ";", "saveAsDialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setEnabled", "(", "true", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showEncryptAuthenticateDialog", "(", "final", "Context", "c", ",", "final", "Intent", "intent", ",", "final", "MainActivity", "main", ",", "AppTheme", "appTheme", ",", "final", "EncryptDecryptUtils", ".", "EncryptButtonCallbackInterface", "encryptButtonCallbackInterface", ")", "{", "int", "accentColor", "=", "main", ".", "getAccent", "(", ")", ";", "MaterialDialog", ".", "Builder", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "c", ")", ";", "builder", ".", "title", "(", "main", ".", "getString", "(", "R", ".", "string", ".", "crypt_encrypt", ")", ")", ";", "View", "rootView", "=", "View", ".", "inflate", "(", "c", ",", "R", ".", "layout", ".", "dialog_encrypt_authenticate", ",", "null", ")", ";", "final", "TextInputEditText", "passwordEditText", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "edit_text_dialog_encrypt_password", ")", ";", "final", "TextInputEditText", "passwordConfirmEditText", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "edit_text_dialog_encrypt_password_confirm", ")", ";", "final", "TextInputEditText", "encryptSaveAsEditText", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "edit_text_encrypt_save_as", ")", ";", "WarnableTextInputLayout", "textInputLayoutPassword", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "til_encrypt_password", ")", ";", "WarnableTextInputLayout", "textInputLayoutPasswordConfirm", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "til_encrypt_password_confirm", ")", ";", "WarnableTextInputLayout", "textInputLayoutEncryptSaveAs", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "til_encrypt_save_as", ")", ";", "HybridFileParcelable", "intentParcelable", "=", "intent", ".", "getParcelableExtra", "(", "EncryptService", ".", "TAG_SOURCE", ")", ";", "encryptSaveAsEditText", ".", "setText", "(", "intentParcelable", ".", "getName", "(", ")", ".", "concat", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ")", ")", ";", "textInputLayoutEncryptSaveAs", ".", "setHint", "(", "intentParcelable", ".", "isDirectory", "(", ")", "?", "c", ".", "getString", "(", "R", ".", "string", ".", "encrypt_folder_save_as", ")", ":", "c", ".", "getString", "(", "R", ".", "string", ".", "encrypt_file_save_as", ")", ")", ";", "passwordEditText", ".", "post", "(", "(", ")", "-", ">", "{", "InputMethodManager", "imm", "=", "(", "InputMethodManager", ")", "main", ".", "getSystemService", "(", "Context", ".", "INPUT_METHOD_SERVICE", ")", ";", "imm", ".", "showSoftInput", "(", "passwordEditText", ",", "InputMethodManager", ".", "SHOW_IMPLICIT", ")", ";", "}", ")", ";", "builder", ".", "customView", "(", "rootView", ",", "true", ")", ".", "positiveText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "ok", ")", ")", ".", "negativeText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "cancel", ")", ")", ".", "theme", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", ")", ".", "positiveColor", "(", "accentColor", ")", ".", "negativeColor", "(", "accentColor", ")", ".", "autoDismiss", "(", "false", ")", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "dialog", ".", "cancel", "(", ")", ")", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "intent", ".", "putExtra", "(", "EncryptService", ".", "TAG_ENCRYPT_TARGET", ",", "encryptSaveAsEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "try", "{", "encryptButtonCallbackInterface", ".", "onButtonPressed", "(", "intent", ",", "passwordEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "c", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "crypt_encryption_fail", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "finally", "{", "dialog", ".", "dismiss", "(", ")", ";", "}", "}", ")", ";", "MaterialDialog", "dialog", "=", "builder", ".", "show", "(", ")", ";", "MDButton", "btnOK", "=", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ";", "btnOK", ".", "setEnabled", "(", "false", ")", ";", "TextWatcher", "textWatcher", "=", "new", "SimpleTextWatcher", "(", ")", "{", "@", "Override", "public", "void", "onTextChanged", "(", "CharSequence", "s", ",", "int", "start", ",", "int", "before", ",", "int", "count", ")", "{", "btnOK", ".", "setEnabled", "(", "encryptSaveAsEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", ">", "0", "&", "&", "passwordEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", ">", "0", "&", "&", "passwordConfirmEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", ">", "0", ")", ";", "}", "}", ";", "passwordEditText", ".", "addTextChangedListener", "(", "textWatcher", ")", ";", "passwordConfirmEditText", ".", "addTextChangedListener", "(", "textWatcher", ")", ";", "encryptSaveAsEditText", ".", "addTextChangedListener", "(", "textWatcher", ")", ";", "new", "WarnableTextInputValidator", "(", "c", ",", "passwordEditText", ",", "textInputLayoutPassword", ",", "btnOK", ",", "(", "text", ")", "-", ">", "{", "if", "(", "text", ".", "length", "(", ")", "<", "1", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "field_empty", ")", ";", "}", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", ")", ";", "}", ")", ";", "new", "WarnableTextInputValidator", "(", "c", ",", "passwordConfirmEditText", ",", "textInputLayoutPasswordConfirm", ",", "btnOK", ",", "(", "text", ")", "-", ">", "{", "if", "(", "!", "text", ".", "equals", "(", "passwordEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "password_no_match", ")", ";", "}", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", ")", ";", "}", ")", ";", "new", "WarnableTextInputValidator", "(", "c", ",", "encryptSaveAsEditText", ",", "textInputLayoutEncryptSaveAs", ",", "btnOK", ",", "(", "text", ")", "-", ">", "{", "if", "(", "text", ".", "length", "(", ")", "<", "1", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "field_empty", ")", ";", "}", "if", "(", "!", "text", ".", "endsWith", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ")", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "encrypt_file_must_end_with_aze", ")", ";", "}", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onTextChanged", "(", "CharSequence", "s", ",", "int", "start", ",", "int", "before", ",", "int", "count", ")", "{", "btnOK", ".", "setEnabled", "(", "encryptSaveAsEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", ">", "0", "&", "&", "passwordEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", ">", "0", "&", "&", "passwordConfirmEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "length", "(", ")", ">", "0", ")", ";", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "M", ")", "public", "static", "void", "showDecryptFingerprintDialog", "(", "final", "Context", "c", ",", "MainActivity", "main", ",", "final", "Intent", "intent", ",", "AppTheme", "appTheme", ",", "final", "EncryptDecryptUtils", ".", "DecryptButtonCallbackInterface", "decryptButtonCallbackInterface", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "int", "accentColor", "=", "main", ".", "getAccent", "(", ")", ";", "MaterialDialog", ".", "Builder", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "c", ")", ";", "builder", ".", "title", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "crypt_decrypt", ")", ")", ";", "View", "rootView", "=", "View", ".", "inflate", "(", "c", ",", "R", ".", "layout", ".", "dialog_decrypt_fingerprint_authentication", ",", "null", ")", ";", "Button", "cancelButton", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "button_decrypt_fingerprint_cancel", ")", ";", "cancelButton", ".", "setTextColor", "(", "accentColor", ")", ";", "builder", ".", "customView", "(", "rootView", ",", "true", ")", ";", "builder", ".", "canceledOnTouchOutside", "(", "false", ")", ";", "builder", ".", "theme", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "final", "MaterialDialog", "dialog", "=", "builder", ".", "show", "(", ")", ";", "cancelButton", ".", "setOnClickListener", "(", "v", "-", ">", "dialog", ".", "cancel", "(", ")", ")", ";", "FingerprintManager", "manager", "=", "(", "FingerprintManager", ")", "c", ".", "getSystemService", "(", "Context", ".", "FINGERPRINT_SERVICE", ")", ";", "FingerprintManager", ".", "CryptoObject", "object", "=", "new", "FingerprintManager", ".", "CryptoObject", "(", "CryptUtil", ".", "initCipher", "(", "c", ")", ")", ";", "FingerprintHandler", "handler", "=", "new", "FingerprintHandler", "(", "c", ",", "intent", ",", "dialog", ",", "decryptButtonCallbackInterface", ")", ";", "handler", ".", "authenticate", "(", "manager", ",", "object", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showDecryptDialog", "(", "Context", "c", ",", "final", "MainActivity", "main", ",", "final", "Intent", "intent", ",", "AppTheme", "appTheme", ",", "final", "String", "password", ",", "final", "EncryptDecryptUtils", ".", "DecryptButtonCallbackInterface", "decryptButtonCallbackInterface", ")", "{", "int", "accentColor", "=", "main", ".", "getAccent", "(", ")", ";", "MaterialDialog", ".", "Builder", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "c", ")", ";", "builder", ".", "title", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "crypt_decrypt", ")", ")", ";", "builder", ".", "input", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "authenticate_password", ")", ",", "\"", "\"", ",", "false", ",", "(", "dialog", ",", "input", ")", "-", ">", "{", "}", ")", ";", "builder", ".", "inputType", "(", "InputType", ".", "TYPE_CLASS_TEXT", "|", "InputType", ".", "TYPE_TEXT_VARIATION_PASSWORD", ")", ";", "builder", ".", "theme", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "builder", ".", "positiveText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "ok", ")", ")", ";", "builder", ".", "negativeText", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "cancel", ")", ")", ";", "builder", ".", "positiveColor", "(", "accentColor", ")", ";", "builder", ".", "negativeColor", "(", "accentColor", ")", ";", "builder", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "EditText", "editText", "=", "dialog", ".", "getInputEditText", "(", ")", ";", "if", "(", "editText", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "equals", "(", "password", ")", ")", "decryptButtonCallbackInterface", ".", "confirm", "(", "intent", ")", ";", "else", "decryptButtonCallbackInterface", ".", "failed", "(", ")", ";", "}", ")", ";", "builder", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "dialog", ".", "cancel", "(", ")", ")", ";", "builder", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showSMBHelpDialog", "(", "Context", "m", ",", "int", "accentColor", ")", "{", "MaterialDialog", ".", "Builder", "b", "=", "new", "MaterialDialog", ".", "Builder", "(", "m", ")", ";", "b", ".", "content", "(", "m", ".", "getText", "(", "R", ".", "string", ".", "smb_instructions", ")", ")", ";", "b", ".", "positiveText", "(", "R", ".", "string", ".", "doit", ")", ";", "b", ".", "positiveColor", "(", "accentColor", ")", ";", "b", ".", "build", "(", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showPackageDialog", "(", "final", "File", "f", ",", "final", "MainActivity", "m", ")", "{", "int", "accentColor", "=", "m", ".", "getAccent", "(", ")", ";", "MaterialDialog", ".", "Builder", "mat", "=", "new", "MaterialDialog", ".", "Builder", "(", "m", ")", ";", "mat", ".", "title", "(", "R", ".", "string", ".", "packageinstaller", ")", ".", "content", "(", "R", ".", "string", ".", "pitext", ")", ".", "positiveText", "(", "R", ".", "string", ".", "install", ")", ".", "negativeText", "(", "R", ".", "string", ".", "view", ")", ".", "neutralText", "(", "R", ".", "string", ".", "cancel", ")", ".", "positiveColor", "(", "accentColor", ")", ".", "negativeColor", "(", "accentColor", ")", ".", "neutralColor", "(", "accentColor", ")", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "FileUtils", ".", "installApk", "(", "f", ",", "m", ")", ")", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "m", ".", "openCompressed", "(", "f", ".", "getPath", "(", ")", ")", ")", ".", "theme", "(", "m", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ".", "build", "(", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showArchiveDialog", "(", "final", "File", "f", ",", "final", "MainActivity", "m", ")", "{", "int", "accentColor", "=", "m", ".", "getAccent", "(", ")", ";", "MaterialDialog", ".", "Builder", "mat", "=", "new", "MaterialDialog", ".", "Builder", "(", "m", ")", ";", "mat", ".", "title", "(", "R", ".", "string", ".", "archive", ")", ".", "content", "(", "R", ".", "string", ".", "archtext", ")", ".", "positiveText", "(", "R", ".", "string", ".", "extract", ")", ".", "negativeText", "(", "R", ".", "string", ".", "view", ")", ".", "neutralText", "(", "R", ".", "string", ".", "cancel", ")", ".", "positiveColor", "(", "accentColor", ")", ".", "negativeColor", "(", "accentColor", ")", ".", "neutralColor", "(", "accentColor", ")", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "m", ".", "mainActivityHelper", ".", "extractFile", "(", "f", ")", ")", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "m", ".", "openCompressed", "(", "Uri", ".", "fromFile", "(", "f", ")", ".", "toString", "(", ")", ")", ")", ";", "if", "(", "m", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "m", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "mat", ".", "theme", "(", "Theme", ".", "DARK", ")", ";", "MaterialDialog", "b", "=", "mat", ".", "build", "(", ")", ";", "if", "(", "!", "CompressedHelper", ".", "isFileExtractable", "(", "f", ".", "getPath", "(", ")", ")", ")", "{", "b", ".", "getActionButton", "(", "DialogAction", ".", "NEGATIVE", ")", ".", "setEnabled", "(", "false", ")", ";", "}", "b", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showCompressDialog", "(", "final", "MainActivity", "m", ",", "final", "ArrayList", "<", "HybridFileParcelable", ">", "b", ",", "final", "String", "current", ")", "{", "int", "accentColor", "=", "m", ".", "getAccent", "(", ")", ";", "MaterialDialog", ".", "Builder", "a", "=", "new", "MaterialDialog", ".", "Builder", "(", "m", ")", ";", "View", "dialogView", "=", "m", ".", "getLayoutInflater", "(", ")", ".", "inflate", "(", "R", ".", "layout", ".", "dialog_singleedittext", ",", "null", ")", ";", "EditText", "etFilename", "=", "dialogView", ".", "findViewById", "(", "R", ".", "id", ".", "singleedittext_input", ")", ";", "etFilename", ".", "setHint", "(", "R", ".", "string", ".", "enterzipname", ")", ";", "etFilename", ".", "setText", "(", "\"", "<STR_LIT>", "\"", ")", ";", "etFilename", ".", "setInputType", "(", "InputType", ".", "TYPE_CLASS_TEXT", ")", ";", "WarnableTextInputLayout", "tilFilename", "=", "dialogView", ".", "findViewById", "(", "R", ".", "id", ".", "singleedittext_warnabletextinputlayout", ")", ";", "a", ".", "customView", "(", "dialogView", ",", "false", ")", ".", "widgetColor", "(", "accentColor", ")", ".", "theme", "(", "m", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ".", "title", "(", "m", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "enterzipname", ")", ")", ".", "positiveText", "(", "R", ".", "string", ".", "create", ")", ".", "positiveColor", "(", "accentColor", ")", ".", "onPositive", "(", "(", "materialDialog", ",", "dialogAction", ")", "-", ">", "{", "String", "name", "=", "current", "+", "\"", "<STR_LIT:/>", "\"", "+", "etFilename", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "m", ".", "mainActivityHelper", ".", "compressFiles", "(", "new", "File", "(", "name", ")", ",", "b", ")", ";", "}", ")", ".", "negativeText", "(", "m", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cancel", ")", ")", ".", "negativeColor", "(", "accentColor", ")", ";", "final", "MaterialDialog", "materialDialog", "=", "a", ".", "build", "(", ")", ";", "new", "WarnableTextInputValidator", "(", "a", ".", "getContext", "(", ")", ",", "etFilename", ",", "tilFilename", ",", "materialDialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ",", "(", "text", ")", "-", ">", "{", "boolean", "isValidFilename", "=", "FileUtil", ".", "isValidFilename", "(", "text", ")", ";", "if", "(", "isValidFilename", "&", "&", "text", ".", "length", "(", ")", ">", "0", "&", "&", "!", "text", ".", "toLowerCase", "(", ")", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_WARNING", ",", "R", ".", "string", ".", "compress_file_suggest_zip_extension", ")", ";", "}", "else", "{", "if", "(", "!", "isValidFilename", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "invalid_name", ")", ";", "}", "else", "if", "(", "text", ".", "length", "(", ")", "<", "1", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "field_empty", ")", ";", "}", "}", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", ")", ";", "}", ")", ";", "materialDialog", ".", "show", "(", ")", ";", "etFilename", ".", "post", "(", "(", ")", "-", ">", "etFilename", ".", "setSelection", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showSortDialog", "(", "final", "MainFragment", "m", ",", "AppTheme", "appTheme", ",", "final", "SharedPreferences", "sharedPref", ")", "{", "final", "String", "path", "=", "m", ".", "getCurrentPath", "(", ")", ";", "int", "accentColor", "=", "m", ".", "getMainActivity", "(", ")", ".", "getAccent", "(", ")", ";", "String", "[", "]", "sort", "=", "m", ".", "getResources", "(", ")", ".", "getStringArray", "(", "R", ".", "array", ".", "sortby", ")", ";", "int", "current", "=", "SortHandler", ".", "getSortType", "(", "m", ".", "getContext", "(", ")", ",", "path", ")", ";", "MaterialDialog", ".", "Builder", "a", "=", "new", "MaterialDialog", ".", "Builder", "(", "m", ".", "getActivity", "(", ")", ")", ";", "a", ".", "theme", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "a", ".", "items", "(", "sort", ")", ".", "itemsCallbackSingleChoice", "(", "current", ">", "<NUM_LIT:3>", "?", "current", "-", "<NUM_LIT:4>", ":", "current", ",", "(", "dialog", ",", "view", ",", "which", ",", "text", ")", "-", ">", "true", ")", ";", "final", "Set", "<", "String", ">", "sortbyOnlyThis", "=", "sharedPref", ".", "getStringSet", "(", "PREFERENCE_SORTBY_ONLY_THIS", ",", "Collections", ".", "emptySet", "(", ")", ")", ";", "final", "Set", "<", "String", ">", "onlyThisFloders", "=", "new", "HashSet", "<", ">", "(", "sortbyOnlyThis", ")", ";", "boolean", "onlyThis", "=", "onlyThisFloders", ".", "contains", "(", "path", ")", ";", "a", ".", "checkBoxPrompt", "(", "m", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "sort_only_this", ")", ",", "onlyThis", ",", "(", "buttonView", ",", "isChecked", ")", "-", ">", "{", "if", "(", "isChecked", ")", "{", "if", "(", "!", "onlyThisFloders", ".", "contains", "(", "path", ")", ")", "{", "onlyThisFloders", ".", "add", "(", "path", ")", ";", "}", "}", "else", "{", "if", "(", "onlyThisFloders", ".", "contains", "(", "path", ")", ")", "{", "onlyThisFloders", ".", "remove", "(", "path", ")", ";", "}", "}", "}", ")", ";", "a", ".", "negativeText", "(", "R", ".", "string", ".", "ascending", ")", ".", "positiveColor", "(", "accentColor", ")", ";", "a", ".", "positiveText", "(", "R", ".", "string", ".", "descending", ")", ".", "negativeColor", "(", "accentColor", ")", ";", "a", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "onSortTypeSelected", "(", "m", ",", "sharedPref", ",", "onlyThisFloders", ",", "dialog", ",", "false", ")", ";", "}", ")", ";", "a", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "onSortTypeSelected", "(", "m", ",", "sharedPref", ",", "onlyThisFloders", ",", "dialog", ",", "true", ")", ";", "}", ")", ";", "a", ".", "title", "(", "R", ".", "string", ".", "sortby", ")", ";", "a", ".", "build", "(", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "private", "static", "void", "onSortTypeSelected", "(", "MainFragment", "m", ",", "SharedPreferences", "sharedPref", ",", "Set", "<", "String", ">", "onlyThisFloders", ",", "MaterialDialog", "dialog", ",", "boolean", "desc", ")", "{", "final", "int", "sortType", "=", "desc", "?", "dialog", ".", "getSelectedIndex", "(", ")", "+", "<NUM_LIT:4>", ":", "dialog", ".", "getSelectedIndex", "(", ")", ";", "SortHandler", "sortHandler", "=", "new", "SortHandler", "(", "m", ".", "getContext", "(", ")", ")", ";", "if", "(", "onlyThisFloders", ".", "contains", "(", "m", ".", "getCurrentPath", "(", ")", ")", ")", "{", "Sort", "oldSort", "=", "sortHandler", ".", "findEntry", "(", "m", ".", "getCurrentPath", "(", ")", ")", ";", "Sort", "newSort", "=", "new", "Sort", "(", "m", ".", "getCurrentPath", "(", ")", ",", "sortType", ")", ";", "if", "(", "oldSort", "=", "=", "null", ")", "{", "sortHandler", ".", "addEntry", "(", "newSort", ")", ";", "}", "else", "{", "sortHandler", ".", "updateEntry", "(", "oldSort", ",", "newSort", ")", ";", "}", "}", "else", "{", "sortHandler", ".", "clear", "(", "m", ".", "getCurrentPath", "(", ")", ")", ";", "sharedPref", ".", "edit", "(", ")", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "String", ".", "valueOf", "(", "sortType", ")", ")", ".", "apply", "(", ")", ";", "}", "sharedPref", ".", "edit", "(", ")", ".", "putStringSet", "(", "PREFERENCE_SORTBY_ONLY_THIS", ",", "onlyThisFloders", ")", ".", "apply", "(", ")", ";", "m", ".", "updateList", "(", ")", ";", "dialog", ".", "dismiss", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showSortDialog", "(", "final", "AppsListFragment", "m", ",", "AppTheme", "appTheme", ")", "{", "int", "accentColor", "=", "(", "(", "ThemedActivity", ")", "m", ".", "getActivity", "(", ")", ")", ".", "getAccent", "(", ")", ";", "String", "[", "]", "sort", "=", "m", ".", "getResources", "(", ")", ".", "getStringArray", "(", "R", ".", "array", ".", "sortbyApps", ")", ";", "int", "current", "=", "Integer", ".", "parseInt", "(", "m", ".", "Sp", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT:0>", "\"", ")", ")", ";", "MaterialDialog", ".", "Builder", "a", "=", "new", "MaterialDialog", ".", "Builder", "(", "m", ".", "getActivity", "(", ")", ")", ";", "a", ".", "theme", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "a", ".", "items", "(", "sort", ")", ".", "itemsCallbackSingleChoice", "(", "current", ">", "<NUM_LIT:2>", "?", "current", "-", "<NUM_LIT:3>", ":", "current", ",", "(", "dialog", ",", "view", ",", "which", ",", "text", ")", "-", ">", "true", ")", ";", "a", ".", "negativeText", "(", "R", ".", "string", ".", "ascending", ")", ".", "positiveColor", "(", "accentColor", ")", ";", "a", ".", "positiveText", "(", "R", ".", "string", ".", "descending", ")", ".", "negativeColor", "(", "accentColor", ")", ";", "a", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "m", ".", "Sp", ".", "edit", "(", ")", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", "+", "dialog", ".", "getSelectedIndex", "(", ")", ")", ".", "commit", "(", ")", ";", "m", ".", "getSortModes", "(", ")", ";", "m", ".", "getLoaderManager", "(", ")", ".", "restartLoader", "(", "AppsListFragment", ".", "ID_LOADER_APP_LIST", ",", "null", ",", "m", ")", ";", "dialog", ".", "dismiss", "(", ")", ";", "}", ")", ";", "a", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "m", ".", "Sp", ".", "edit", "(", ")", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", "+", "(", "dialog", ".", "getSelectedIndex", "(", ")", "+", "<NUM_LIT:3>", ")", ")", ".", "commit", "(", ")", ";", "m", ".", "getSortModes", "(", ")", ";", "m", ".", "getLoaderManager", "(", ")", ".", "restartLoader", "(", "AppsListFragment", ".", "ID_LOADER_APP_LIST", ",", "null", ",", "m", ")", ";", "dialog", ".", "dismiss", "(", ")", ";", "}", ")", ";", "a", ".", "title", "(", "R", ".", "string", ".", "sortby", ")", ";", "a", ".", "build", "(", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showHistoryDialog", "(", "final", "DataUtils", "dataUtils", ",", "SharedPreferences", "sharedPrefs", ",", "final", "MainFragment", "m", ",", "AppTheme", "appTheme", ")", "{", "int", "accentColor", "=", "m", ".", "getMainActivity", "(", ")", ".", "getAccent", "(", ")", ";", "final", "MaterialDialog", ".", "Builder", "a", "=", "new", "MaterialDialog", ".", "Builder", "(", "m", ".", "getActivity", "(", ")", ")", ";", "a", ".", "positiveText", "(", "R", ".", "string", ".", "cancel", ")", ";", "a", ".", "positiveColor", "(", "accentColor", ")", ";", "a", ".", "negativeText", "(", "R", ".", "string", ".", "clear", ")", ";", "a", ".", "negativeColor", "(", "accentColor", ")", ";", "a", ".", "title", "(", "R", ".", "string", ".", "history", ")", ";", "a", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "dataUtils", ".", "clearHistory", "(", ")", ")", ";", "a", ".", "theme", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "a", ".", "autoDismiss", "(", "true", ")", ";", "HiddenAdapter", "adapter", "=", "new", "HiddenAdapter", "(", "m", ".", "getActivity", "(", ")", ",", "m", ",", "sharedPrefs", ",", "toHybridFileArrayList", "(", "dataUtils", ".", "getHistory", "(", ")", ")", ",", "null", ",", "true", ")", ";", "a", ".", "adapter", "(", "adapter", ",", "null", ")", ";", "MaterialDialog", "x", "=", "a", ".", "build", "(", ")", ";", "adapter", ".", "updateDialog", "(", "x", ")", ";", "x", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showHiddenDialog", "(", "DataUtils", "dataUtils", ",", "SharedPreferences", "sharedPrefs", ",", "final", "MainFragment", "m", ",", "AppTheme", "appTheme", ")", "{", "int", "accentColor", "=", "m", ".", "getMainActivity", "(", ")", ".", "getAccent", "(", ")", ";", "final", "MaterialDialog", ".", "Builder", "a", "=", "new", "MaterialDialog", ".", "Builder", "(", "m", ".", "getActivity", "(", ")", ")", ";", "a", ".", "positiveText", "(", "R", ".", "string", ".", "cancel", ")", ";", "a", ".", "positiveColor", "(", "accentColor", ")", ";", "a", ".", "title", "(", "R", ".", "string", ".", "hiddenfiles", ")", ";", "a", ".", "theme", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "a", ".", "autoDismiss", "(", "true", ")", ";", "HiddenAdapter", "adapter", "=", "new", "HiddenAdapter", "(", "m", ".", "getActivity", "(", ")", ",", "m", ",", "sharedPrefs", ",", "FileUtils", ".", "toHybridFileConcurrentRadixTree", "(", "dataUtils", ".", "getHiddenFiles", "(", ")", ")", ",", "null", ",", "false", ")", ";", "a", ".", "adapter", "(", "adapter", ",", "null", ")", ";", "a", ".", "dividerColor", "(", "Color", ".", "GRAY", ")", ";", "MaterialDialog", "x", "=", "a", ".", "build", "(", ")", ";", "adapter", ".", "updateDialog", "(", "x", ")", ";", "x", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "setPermissionsDialog", "(", "final", "View", "v", ",", "View", "but", ",", "final", "HybridFile", "file", ",", "final", "String", "f", ",", "final", "Context", "context", ",", "final", "MainFragment", "mainFrag", ")", "{", "final", "CheckBox", "readown", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "creadown", ")", ";", "final", "CheckBox", "readgroup", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "creadgroup", ")", ";", "final", "CheckBox", "readother", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "creadother", ")", ";", "final", "CheckBox", "writeown", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "cwriteown", ")", ";", "final", "CheckBox", "writegroup", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "cwritegroup", ")", ";", "final", "CheckBox", "writeother", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "cwriteother", ")", ";", "final", "CheckBox", "exeown", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "cexeown", ")", ";", "final", "CheckBox", "exegroup", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "cexegroup", ")", ";", "final", "CheckBox", "exeother", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "cexeother", ")", ";", "String", "perm", "=", "f", ";", "if", "(", "perm", ".", "length", "(", ")", "<", "<NUM_LIT:6>", ")", "{", "v", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "but", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "Toast", ".", "makeText", "(", "context", ",", "R", ".", "string", ".", "not_allowed", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "return", ";", "}", "ArrayList", "<", "Boolean", "[", "]", ">", "arrayList", "=", "FileUtils", ".", "parse", "(", "perm", ")", ";", "Boolean", "[", "]", "read", "=", "arrayList", ".", "get", "(", "0", ")", ";", "Boolean", "[", "]", "write", "=", "arrayList", ".", "get", "(", "1", ")", ";", "final", "Boolean", "[", "]", "exe", "=", "arrayList", ".", "get", "(", "<NUM_LIT:2>", ")", ";", "readown", ".", "setChecked", "(", "read", "[", "0", "]", ")", ";", "readgroup", ".", "setChecked", "(", "read", "[", "1", "]", ")", ";", "readother", ".", "setChecked", "(", "read", "[", "<NUM_LIT:2>", "]", ")", ";", "writeown", ".", "setChecked", "(", "write", "[", "0", "]", ")", ";", "writegroup", ".", "setChecked", "(", "write", "[", "1", "]", ")", ";", "writeother", ".", "setChecked", "(", "write", "[", "<NUM_LIT:2>", "]", ")", ";", "exeown", ".", "setChecked", "(", "exe", "[", "0", "]", ")", ";", "exegroup", ".", "setChecked", "(", "exe", "[", "1", "]", ")", ";", "exeother", ".", "setChecked", "(", "exe", "[", "<NUM_LIT:2>", "]", ")", ";", "but", ".", "setOnClickListener", "(", "v1", "-", ">", "{", "int", "perms", "=", "RootUtils", ".", "permissionsToOctalString", "(", "readown", ".", "isChecked", "(", ")", ",", "writeown", ".", "isChecked", "(", ")", ",", "exeown", ".", "isChecked", "(", ")", ",", "readgroup", ".", "isChecked", "(", ")", ",", "writegroup", ".", "isChecked", "(", ")", ",", "exegroup", ".", "isChecked", "(", ")", ",", "readother", ".", "isChecked", "(", ")", ",", "writeother", ".", "isChecked", "(", ")", ",", "exeother", ".", "isChecked", "(", ")", ")", ";", "String", "options", "=", "!", "file", ".", "isDirectory", "(", "context", ")", "?", "\"", "<STR_LIT>", "\"", ":", "\"", "\"", ";", "String", "command", "=", "String", ".", "format", "(", "RootUtils", ".", "CHMOD_COMMAND", ",", "options", ",", "perms", ",", "file", ".", "getPath", "(", ")", ")", ";", "try", "{", "RootHelper", ".", "runShellCommand", "(", "command", ",", "(", "commandCode", ",", "exitCode", ",", "output", ")", "-", ">", "{", "if", "(", "exitCode", "<", "0", ")", "{", "Toast", ".", "makeText", "(", "context", ",", "mainFrag", ".", "getString", "(", "R", ".", "string", ".", "operationunsuccesful", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "context", ",", "mainFrag", ".", "getString", "(", "R", ".", "string", ".", "done", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", ")", ";", "mainFrag", ".", "updateList", "(", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e1", ")", "{", "Toast", ".", "makeText", "(", "context", ",", "mainFrag", ".", "getString", "(", "R", ".", "string", ".", "rootfailure", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "e1", ".", "printStackTrace", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "showChangePathsDialog", "(", "final", "MainActivity", "mainActivity", ",", "final", "SharedPreferences", "prefs", ")", "{", "final", "MaterialDialog", ".", "Builder", "a", "=", "new", "MaterialDialog", ".", "Builder", "(", "mainActivity", ")", ";", "a", ".", "input", "(", "null", ",", "mainActivity", ".", "getCurrentMainFragment", "(", ")", ".", "getCurrentPath", "(", ")", ",", "false", ",", "(", "dialog", ",", "charSequence", ")", "-", ">", "{", "boolean", "isAccessible", "=", "FileUtils", ".", "isPathAccessible", "(", "charSequence", ".", "toString", "(", ")", ",", "prefs", ")", ";", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setEnabled", "(", "isAccessible", ")", ";", "}", ")", ";", "a", ".", "alwaysCallInputCallback", "(", ")", ";", "int", "accentColor", "=", "mainActivity", ".", "getAccent", "(", ")", ";", "a", ".", "widgetColor", "(", "accentColor", ")", ";", "a", ".", "theme", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "a", ".", "title", "(", "R", ".", "string", ".", "enterpath", ")", ";", "a", ".", "positiveText", "(", "R", ".", "string", ".", "go", ")", ";", "a", ".", "positiveColor", "(", "accentColor", ")", ";", "a", ".", "negativeText", "(", "R", ".", "string", ".", "cancel", ")", ";", "a", ".", "negativeColor", "(", "accentColor", ")", ";", "a", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "mainActivity", ".", "getCurrentMainFragment", "(", ")", ".", "loadlist", "(", "dialog", ".", "getInputEditText", "(", ")", ".", "getText", "(", ")", ".", "toString", "(", ")", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "}", ")", ";", "a", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "MaterialDialog", "showOtgSafExplanationDialog", "(", "ThemedActivity", "themedActivity", ")", "{", "return", "GeneralDialogCreation", ".", "showBasicDialog", "(", "themedActivity", ",", "R", ".", "string", ".", "saf_otg_explanation", ",", "R", ".", "string", ".", "otg_access", ",", "R", ".", "string", ".", "ok", ",", "R", ".", "string", ".", "cancel", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "bundle", ")", "{", "super", ".", "onCreate", "(", "bundle", ")", ";", "utilsProvider", "=", "(", "(", "BasicActivity", ")", "getActivity", "(", ")", ")", ".", "getUtilsProvider", "(", ")", ";", "accentColor", "=", "(", "(", "ThemedActivity", ")", "getActivity", "(", ")", ")", ".", "getAccent", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "dismiss", "(", ")", "{", "super", ".", "dismiss", "(", ")", ";", "if", "(", "subnetScanner", "!", "=", "null", ")", "subnetScanner", ".", "interrupt", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Dialog", "onCreateDialog", "(", "Bundle", "savedInstanceState", ")", "{", "MaterialDialog", ".", "Builder", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "getActivity", "(", ")", ")", ";", "builder", ".", "title", "(", "R", ".", "string", ".", "searchingdevices", ")", ";", "builder", ".", "negativeColor", "(", "accentColor", ")", ";", "builder", ".", "negativeText", "(", "R", ".", "string", ".", "cancel", ")", ";", "builder", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "if", "(", "subnetScanner", "!", "=", "null", ")", "subnetScanner", ".", "interrupt", "(", ")", ";", "dismiss", "(", ")", ";", "}", ")", ";", "builder", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "if", "(", "subnetScanner", "!", "=", "null", ")", "subnetScanner", ".", "interrupt", "(", ")", ";", "if", "(", "getActivity", "(", ")", "!", "=", "null", "&", "&", "getActivity", "(", ")", "instanceof", "MainActivity", ")", "{", "dismiss", "(", ")", ";", "MainActivity", "mainActivity", "=", "(", "MainActivity", ")", "getActivity", "(", ")", ";", "mainActivity", ".", "showSMBDialog", "(", "\"", "\"", ",", "\"", "\"", ",", "false", ")", ";", "}", "}", ")", ";", "builder", ".", "positiveText", "(", "R", ".", "string", ".", "use_custom_ip", ")", ";", "builder", ".", "positiveColor", "(", "accentColor", ")", ";", "computers", ".", "add", "(", "new", "ComputerParcelable", "(", "\"", "<STR_LIT:-1>", "\"", ",", "\"", "<STR_LIT:-1>", "\"", ")", ")", ";", "listViewAdapter", "=", "new", "ListViewAdapter", "(", "getActivity", "(", ")", ",", "computers", ")", ";", "subnetScanner", "=", "new", "SubnetScanner", "(", "getActivity", "(", ")", ")", ";", "subnetScanner", ".", "setObserver", "(", "new", "SubnetScanner", ".", "ScanObserver", "(", ")", "{", "@", "Override", "public", "void", "computerFound", "(", "final", "ComputerParcelable", "computer", ")", "{", "if", "(", "getActivity", "(", ")", "!", "=", "null", ")", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "!", "computers", ".", "contains", "(", "computer", ")", ")", "computers", ".", "add", "(", "computer", ")", ";", "listViewAdapter", ".", "notifyDataSetChanged", "(", ")", ";", "}", ")", ";", "}", "@", "Override", "public", "void", "searchFinished", "(", ")", "{", "if", "(", "getActivity", "(", ")", "!", "=", "null", ")", "{", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "computers", ".", "size", "(", ")", "=", "=", "1", ")", "{", "dismiss", "(", ")", ";", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "getString", "(", "R", ".", "string", ".", "nodevicefound", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "MainActivity", "mainActivity", "=", "(", "MainActivity", ")", "getActivity", "(", ")", ";", "mainActivity", ".", "showSMBDialog", "(", "\"", "\"", ",", "\"", "\"", ",", "false", ")", ";", "return", ";", "}", "computers", ".", "remove", "(", "computers", ".", "size", "(", ")", "-", "1", ")", ";", "listViewAdapter", ".", "notifyDataSetChanged", "(", ")", ";", "}", ")", ";", "}", "}", "}", ")", ";", "subnetScanner", ".", "start", "(", ")", ";", "builder", ".", "adapter", "(", "listViewAdapter", ",", "null", ")", ";", "return", "builder", ".", "build", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "computerFound", "(", "final", "ComputerParcelable", "computer", ")", "{", "if", "(", "getActivity", "(", ")", "!", "=", "null", ")", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "!", "computers", ".", "contains", "(", "computer", ")", ")", "computers", ".", "add", "(", "computer", ")", ";", "listViewAdapter", ".", "notifyDataSetChanged", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "searchFinished", "(", ")", "{", "if", "(", "getActivity", "(", ")", "!", "=", "null", ")", "{", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "computers", ".", "size", "(", ")", "=", "=", "1", ")", "{", "dismiss", "(", ")", ";", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "getString", "(", "R", ".", "string", ".", "nodevicefound", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "MainActivity", "mainActivity", "=", "(", "MainActivity", ")", "getActivity", "(", ")", ";", "mainActivity", ".", "showSMBDialog", "(", "\"", "\"", ",", "\"", "\"", ",", "false", ")", ";", "return", ";", "}", "computers", ".", "remove", "(", "computers", ".", "size", "(", ")", "-", "1", ")", ";", "listViewAdapter", ".", "notifyDataSetChanged", "(", ")", ";", "}", ")", ";", "}", "}", "</s>"]
["<s>", "public", "ListViewAdapter", "(", "Context", "context", ",", "List", "<", "ComputerParcelable", ">", "objects", ")", "{", "this", ".", "context", "=", "context", ";", "items", "=", "new", "ArrayList", "<", ">", "(", "objects", ")", ";", "mInflater", "=", "(", "LayoutInflater", ")", "context", ".", "getSystemService", "(", "Activity", ".", "LAYOUT_INFLATER_SERVICE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ElementViewHolder", "onCreateViewHolder", "(", "ViewGroup", "parent", ",", "int", "viewType", ")", "{", "View", "view", ";", "switch", "(", "viewType", ")", "{", "case", "VIEW_PROGRESSBAR", ":", "view", "=", "mInflater", ".", "inflate", "(", "R", ".", "layout", ".", "smb_progress_row", ",", "parent", ",", "false", ")", ";", "return", "new", "ElementViewHolder", "(", "view", ")", ";", "default", ":", "case", "VIEW_ELEMENT", ":", "view", "=", "mInflater", ".", "inflate", "(", "R", ".", "layout", ".", "smb_computers_row", ",", "parent", ",", "false", ")", ";", "return", "new", "ElementViewHolder", "(", "view", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "ElementViewHolder", "holder", ",", "int", "position", ")", "{", "int", "viewType", "=", "getItemViewType", "(", "position", ")", ";", "if", "(", "viewType", "=", "=", "VIEW_PROGRESSBAR", ")", "{", "return", ";", "}", "ComputerParcelable", "f", "=", "items", ".", "get", "(", "position", ")", ";", "holder", ".", "rootView", ".", "setOnClickListener", "(", "v", "-", ">", "{", "if", "(", "subnetScanner", "!", "=", "null", ")", "subnetScanner", ".", "interrupt", "(", ")", ";", "if", "(", "getActivity", "(", ")", "!", "=", "null", "&", "&", "getActivity", "(", ")", "instanceof", "MainActivity", ")", "{", "dismiss", "(", ")", ";", "MainActivity", "mainActivity", "=", "(", "MainActivity", ")", "getActivity", "(", ")", ";", "mainActivity", ".", "showSMBDialog", "(", "listViewAdapter", ".", "items", ".", "get", "(", "position", ")", ".", "name", ",", "listViewAdapter", ".", "items", ".", "get", "(", "position", ")", ".", "addr", ",", "false", ")", ";", "}", "}", ")", ";", "holder", ".", "txtTitle", ".", "setText", "(", "f", ".", "name", ")", ";", "holder", ".", "image", ".", "setImageResource", "(", "R", ".", "drawable", ".", "ic_settings_remote_white_48dp", ")", ";", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "holder", ".", "image", ".", "setColorFilter", "(", "Color", ".", "parseColor", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "holder", ".", "txtDesc", ".", "setText", "(", "f", ".", "addr", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemViewType", "(", "int", "position", ")", "{", "ComputerParcelable", "f", "=", "items", ".", "get", "(", "position", ")", ";", "if", "(", "f", ".", "addr", ".", "equals", "(", "\"", "<STR_LIT:-1>", "\"", ")", ")", "{", "return", "VIEW_PROGRESSBAR", ";", "}", "else", "{", "return", "VIEW_ELEMENT", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "getItemId", "(", "int", "position", ")", "{", "return", "position", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "return", "items", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "ElementViewHolder", "(", "View", "view", ")", "{", "super", "(", "view", ")", ";", "rootView", "=", "view", ";", "txtTitle", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "firstline", ")", ";", "image", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "icon", ")", ";", "txtDesc", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "secondLine", ")", ";", "}", "</s>"]
["<s>", "public", "WarnableTextInputValidator", "(", "Context", "context", ",", "EditText", "editText", ",", "WarnableTextInputLayout", "textInputLayout", ",", "View", "positiveButton", ",", "OnTextValidate", "validator", ")", "{", "mContext", "=", "context", ";", "mEditText", "=", "editText", ";", "mEditText", ".", "setOnFocusChangeListener", "(", "this", ")", ";", "mEditText", ".", "addTextChangedListener", "(", "this", ")", ";", "mTextInputLayout", "=", "textInputLayout", ";", "mButton", "=", "positiveButton", ";", "mButton", ".", "setOnTouchListener", "(", "this", ")", ";", "mButton", ".", "setEnabled", "(", "false", ")", ";", "mValidator", "=", "validator", ";", "warningDrawable", "=", "R", ".", "drawable", ".", "ic_warning_24dp", ";", "errorDrawable", "=", "R", ".", "drawable", ".", "ic_error_24dp", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onFocusChange", "(", "View", "v", ",", "boolean", "hasFocus", ")", "{", "if", "(", "!", "hasFocus", ")", "{", "int", "state", "=", "doValidate", "(", "false", ")", ";", "mButton", ".", "setEnabled", "(", "state", "!", "=", "ReturnState", ".", "STATE_ERROR", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onTouch", "(", "View", "v", ",", "MotionEvent", "event", ")", "{", "return", "performClick", "(", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "performClick", "(", ")", "{", "boolean", "blockTouchEvent", "=", "doValidate", "(", "false", ")", "=", "=", "ReturnState", ".", "STATE_ERROR", ";", "return", "blockTouchEvent", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "doValidate", "(", "false", ")", ";", "}", "</s>"]
["<s>", "private", "int", "doValidate", "(", "boolean", "onlySetWarning", ")", "{", "ReturnState", "state", "=", "mValidator", ".", "isTextValid", "(", "mEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "switch", "(", "state", ".", "state", ")", "{", "case", "ReturnState", ".", "STATE_NORMAL", ":", "mTextInputLayout", ".", "removeError", "(", ")", ";", "setEditTextIcon", "(", "null", ")", ";", "mButton", ".", "setEnabled", "(", "true", ")", ";", "break", ";", "case", "ReturnState", ".", "STATE_ERROR", ":", "if", "(", "!", "onlySetWarning", ")", "{", "mTextInputLayout", ".", "setError", "(", "mContext", ".", "getString", "(", "state", ".", "text", ")", ")", ";", "setEditTextIcon", "(", "errorDrawable", ")", ";", "}", "mButton", ".", "setEnabled", "(", "false", ")", ";", "break", ";", "case", "ReturnState", ".", "STATE_WARNING", ":", "mTextInputLayout", ".", "setWarning", "(", "state", ".", "text", ")", ";", "setEditTextIcon", "(", "warningDrawable", ")", ";", "mButton", ".", "setEnabled", "(", "true", ")", ";", "break", ";", "}", "return", "state", ".", "state", ";", "}", "</s>"]
["<s>", "private", "void", "setEditTextIcon", "(", "@", "DrawableRes", "Integer", "drawable", ")", "{", "@", "DrawableRes", "int", "drawableInt", "=", "drawable", "!", "=", "null", "?", "drawable", ":", "0", ";", "mEditText", ".", "setCompoundDrawablesWithIntrinsicBounds", "(", "0", ",", "0", ",", "drawableInt", ",", "0", ")", ";", "}", "</s>"]
["<s>", "ReturnState", "isTextValid", "(", "String", "text", ")", ";", "</s>"]
["<s>", "public", "ReturnState", "(", ")", "{", "state", "=", "STATE_NORMAL", ";", "text", "=", "0", ";", "}", "</s>"]
["<s>", "public", "ReturnState", "(", "int", "state", ",", "@", "StringRes", "int", "text", ")", "{", "this", ".", "state", "=", "state", ";", "this", ".", "text", "=", "text", ";", "}", "</s>"]
["<s>", "public", "DisablableViewPager", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "this", ".", "enabled", "=", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onTouchEvent", "(", "MotionEvent", "event", ")", "{", "return", "this", ".", "enabled", "&", "&", "super", ".", "onTouchEvent", "(", "event", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onInterceptTouchEvent", "(", "MotionEvent", "event", ")", "{", "return", "this", ".", "enabled", "&", "&", "super", ".", "onInterceptTouchEvent", "(", "event", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setPagingEnabled", "(", "boolean", "enabled", ")", "{", "this", ".", "enabled", "=", "enabled", ";", "}", "</s>"]
["<s>", "public", "RoundedImageView", "(", "Context", "ctx", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "ctx", ",", "attrs", ")", ";", "background", ".", "setColor", "(", "Color", ".", "TRANSPARENT", ")", ";", "background", ".", "setAntiAlias", "(", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDraw", "(", "Canvas", "canvas", ")", "{", "if", "(", "getDrawable", "(", ")", "=", "=", "null", "|", "|", "getWidth", "(", ")", "=", "=", "0", "|", "|", "getHeight", "(", ")", "=", "=", "0", ")", "return", ";", "Drawable", "drawable", "=", "getDrawable", "(", ")", ";", "int", "w", "=", "getWidth", "(", ")", ",", "h", "=", "getHeight", "(", ")", ";", "if", "(", "!", "isImageAnIcon", "(", ")", ")", "{", "Bitmap", "b", "=", "drawableToBitmap", "(", "drawable", ")", ";", "Bitmap", "bitmap", "=", "b", ".", "copy", "(", "Bitmap", ".", "Config", ".", "ARGB_8888", ",", "true", ")", ";", "Bitmap", "roundBitmap", "=", "getRoundedCroppedBitmap", "(", "bitmap", ",", "w", ")", ";", "canvas", ".", "drawBitmap", "(", "roundBitmap", ",", "0", ",", "0", ",", "null", ")", ";", "}", "else", "{", "float", "min", "=", "Math", ".", "min", "(", "w", ",", "h", ")", ";", "float", "backgroundCircleMargin", "=", "min", "*", "BACKGROUND_CIRCLE_MARGIN_PERCENTUAL", ";", "float", "radius", "=", "min", "/", "<NUM_LIT>", "-", "backgroundCircleMargin", "*", "<NUM_LIT:2>", ";", "Bitmap", "bitmap", "=", "drawableToBitmapRelative", "(", "drawable", ",", "radius", ")", ";", "canvas", ".", "drawCircle", "(", "w", "/", "<NUM_LIT:2>", ",", "h", "/", "<NUM_LIT:2>", ",", "radius", ",", "background", ")", ";", "canvas", ".", "drawBitmap", "(", "bitmap", ",", "w", "/", "<NUM_LIT:2>", "-", "bitmap", ".", "getWidth", "(", ")", "/", "<NUM_LIT:2>", ",", "h", "/", "<NUM_LIT:2>", "-", "bitmap", ".", "getHeight", "(", ")", "/", "<NUM_LIT:2>", ",", "null", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBackgroundColor", "(", "int", "color", ")", "{", "background", ".", "setColor", "(", "color", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setRelativeSize", "(", "float", "width", ",", "float", "height", ")", "{", "if", "(", "width", ">", "<NUM_LIT:2>", "|", "|", "height", ">", "<NUM_LIT:2>", ")", "throw", "new", "UnsupportedOperationException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "this", ".", "relativeSize", "=", "new", "float", "[", "]", "{", "width", ",", "height", "}", ";", "}", "</s>"]
["<s>", "private", "boolean", "isImageAnIcon", "(", ")", "{", "return", "relativeSize", "!", "=", "null", ";", "}", "</s>"]
["<s>", "public", "Bitmap", "getRoundedCroppedBitmap", "(", "Bitmap", "bitmap", ",", "int", "radius", ")", "{", "Bitmap", "finalBitmap", ";", "if", "(", "bitmap", ".", "getWidth", "(", ")", "!", "=", "radius", "|", "|", "bitmap", ".", "getHeight", "(", ")", "!", "=", "radius", ")", "{", "finalBitmap", "=", "Bitmap", ".", "createScaledBitmap", "(", "bitmap", ",", "radius", ",", "radius", ",", "false", ")", ";", "}", "else", "{", "finalBitmap", "=", "bitmap", ";", "}", "Bitmap", "output", "=", "Bitmap", ".", "createBitmap", "(", "finalBitmap", ".", "getWidth", "(", ")", ",", "finalBitmap", ".", "getHeight", "(", ")", ",", "Config", ".", "ARGB_8888", ")", ";", "Canvas", "canvas", "=", "new", "Canvas", "(", "output", ")", ";", "final", "Paint", "paint", "=", "new", "Paint", "(", ")", ";", "final", "Rect", "rect", "=", "new", "Rect", "(", "0", ",", "0", ",", "finalBitmap", ".", "getWidth", "(", ")", ",", "finalBitmap", ".", "getHeight", "(", ")", ")", ";", "paint", ".", "setAntiAlias", "(", "true", ")", ";", "paint", ".", "setFilterBitmap", "(", "true", ")", ";", "paint", ".", "setDither", "(", "true", ")", ";", "paint", ".", "setColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "roundedimagepaint", ")", ")", ";", "canvas", ".", "drawCircle", "(", "finalBitmap", ".", "getWidth", "(", ")", "/", "<NUM_LIT:2>", "+", "<NUM_LIT>", ",", "finalBitmap", ".", "getHeight", "(", ")", "/", "<NUM_LIT:2>", "+", "<NUM_LIT>", ",", "finalBitmap", ".", "getWidth", "(", ")", "/", "<NUM_LIT:2>", "+", "<NUM_LIT>", ",", "paint", ")", ";", "paint", ".", "setXfermode", "(", "new", "PorterDuffXfermode", "(", "Mode", ".", "SRC_IN", ")", ")", ";", "canvas", ".", "drawBitmap", "(", "finalBitmap", ",", "rect", ",", "rect", ",", "paint", ")", ";", "return", "output", ";", "}", "</s>"]
["<s>", "public", "Bitmap", "drawableToBitmap", "(", "Drawable", "drawable", ")", "{", "Bitmap", "bitmap", ";", "if", "(", "!", "isImageAnIcon", "(", ")", "&", "&", "drawable", "instanceof", "BitmapDrawable", ")", "{", "BitmapDrawable", "bitmapDrawable", "=", "(", "BitmapDrawable", ")", "drawable", ";", "if", "(", "bitmapDrawable", ".", "getBitmap", "(", ")", "!", "=", "null", ")", "{", "return", "bitmapDrawable", ".", "getBitmap", "(", ")", ";", "}", "}", "if", "(", "drawable", ".", "getIntrinsicWidth", "(", ")", "<", "=", "0", "|", "|", "drawable", ".", "getIntrinsicHeight", "(", ")", "<", "=", "0", ")", "{", "bitmap", "=", "Bitmap", ".", "createBitmap", "(", "1", ",", "1", ",", "Bitmap", ".", "Config", ".", "ARGB_8888", ")", ";", "}", "else", "{", "bitmap", "=", "Bitmap", ".", "createBitmap", "(", "drawable", ".", "getIntrinsicWidth", "(", ")", ",", "drawable", ".", "getIntrinsicHeight", "(", ")", ",", "Bitmap", ".", "Config", ".", "ARGB_8888", ")", ";", "}", "Canvas", "canvas", "=", "new", "Canvas", "(", "bitmap", ")", ";", "drawable", ".", "setBounds", "(", "0", ",", "0", ",", "canvas", ".", "getWidth", "(", ")", ",", "canvas", ".", "getHeight", "(", ")", ")", ";", "drawable", ".", "draw", "(", "canvas", ")", ";", "return", "bitmap", ";", "}", "</s>"]
["<s>", "public", "Bitmap", "drawableToBitmapRelative", "(", "Drawable", "drawable", ",", "float", "radius", ")", "{", "Bitmap", "bitmap", ";", "if", "(", "!", "isImageAnIcon", "(", ")", "&", "&", "drawable", "instanceof", "BitmapDrawable", ")", "{", "BitmapDrawable", "bitmapDrawable", "=", "(", "BitmapDrawable", ")", "drawable", ";", "if", "(", "bitmapDrawable", ".", "getBitmap", "(", ")", "!", "=", "null", ")", "{", "return", "bitmapDrawable", ".", "getBitmap", "(", ")", ";", "}", "}", "int", "sizeW", "=", "(", "int", ")", "(", "radius", "*", "relativeSize", "[", "0", "]", ")", ";", "int", "sizeH", "=", "(", "int", ")", "(", "radius", "*", "relativeSize", "[", "1", "]", ")", ";", "if", "(", "drawable", ".", "getIntrinsicWidth", "(", ")", "<", "=", "0", "|", "|", "drawable", ".", "getIntrinsicHeight", "(", ")", "<", "=", "0", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "else", "{", "bitmap", "=", "Bitmap", ".", "createBitmap", "(", "sizeW", ",", "sizeH", ",", "Bitmap", ".", "Config", ".", "ARGB_8888", ")", ";", "}", "Canvas", "canvas", "=", "new", "Canvas", "(", "bitmap", ")", ";", "drawable", ".", "setBounds", "(", "0", ",", "0", ",", "sizeW", ",", "sizeH", ")", ";", "drawable", ".", "draw", "(", "canvas", ")", ";", "return", "bitmap", ";", "}", "</s>"]
["<s>", "public", "Indicator", "(", "Context", "context", ")", "{", "this", "(", "context", ",", "null", ",", "0", ")", ";", "}", "</s>"]
["<s>", "public", "Indicator", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "this", "(", "context", ",", "attrs", ",", "0", ")", ";", "}", "</s>"]
["<s>", "public", "Indicator", "(", "Context", "context", ",", "AttributeSet", "attrs", ",", "int", "defStyle", ")", "{", "super", "(", "context", ",", "attrs", ",", "defStyle", ")", ";", "final", "int", "density", "=", "(", "int", ")", "context", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ".", "density", ";", "final", "TypedArray", "a", "=", "getContext", "(", ")", ".", "obtainStyledAttributes", "(", "attrs", ",", "R", ".", "styleable", ".", "Indicator", ",", "defStyle", ",", "0", ")", ";", "dotDiameter", "=", "a", ".", "getDimensionPixelSize", "(", "R", ".", "styleable", ".", "Indicator_dotDiameter", ",", "DEFAULT_DOT_SIZE", "*", "density", ")", ";", "dotRadius", "=", "dotDiameter", "/", "<NUM_LIT:2>", ";", "halfDotRadius", "=", "dotRadius", "/", "<NUM_LIT:2>", ";", "gap", "=", "a", ".", "getDimensionPixelSize", "(", "R", ".", "styleable", ".", "Indicator_dotGap", ",", "DEFAULT_GAP", "*", "density", ")", ";", "animDuration", "=", "(", "long", ")", "a", ".", "getInteger", "(", "R", ".", "styleable", ".", "Indicator_animationDuration", ",", "DEFAULT_ANIM_DURATION", ")", ";", "animHalfDuration", "=", "animDuration", "/", "<NUM_LIT:2>", ";", "selectedColour", "=", "a", ".", "getColor", "(", "R", ".", "styleable", ".", "Indicator_currentPageIndicatorColor", ",", "DEFAULT_SELECTED_COLOUR", ")", ";", "unselectedColour", "=", "Color", ".", "argb", "(", "<NUM_LIT>", ",", "Color", ".", "red", "(", "selectedColour", ")", ",", "Color", ".", "green", "(", "selectedColour", ")", ",", "Color", ".", "blue", "(", "selectedColour", ")", ")", ";", "a", ".", "recycle", "(", ")", ";", "unselectedPaint", "=", "new", "Paint", "(", "Paint", ".", "ANTI_ALIAS_FLAG", ")", ";", "unselectedPaint", ".", "setColor", "(", "unselectedColour", ")", ";", "selectedPaint", "=", "new", "Paint", "(", "Paint", ".", "ANTI_ALIAS_FLAG", ")", ";", "selectedPaint", ".", "setColor", "(", "selectedColour", ")", ";", "interpolator", "=", "AnimUtils", ".", "getFastOutSlowInInterpolator", "(", "context", ")", ";", "combinedUnselectedPath", "=", "new", "Path", "(", ")", ";", "unselectedDotPath", "=", "new", "Path", "(", ")", ";", "unselectedDotLeftPath", "=", "new", "Path", "(", ")", ";", "unselectedDotRightPath", "=", "new", "Path", "(", ")", ";", "rectF", "=", "new", "RectF", "(", ")", ";", "addOnAttachStateChangeListener", "(", "this", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setViewPager", "(", "ViewPager", "viewPager", ")", "{", "this", ".", "viewPager", "=", "viewPager", ";", "viewPager", ".", "addOnPageChangeListener", "(", "this", ")", ";", "setPageCount", "(", "viewPager", ".", "getAdapter", "(", ")", ".", "getCount", "(", ")", ")", ";", "viewPager", ".", "getAdapter", "(", ")", ".", "registerDataSetObserver", "(", "new", "DataSetObserver", "(", ")", "{", "@", "Override", "public", "void", "onChanged", "(", ")", "{", "setPageCount", "(", "Indicator", ".", "this", ".", "viewPager", ".", "getAdapter", "(", ")", ".", "getCount", "(", ")", ")", ";", "}", "}", ")", ";", "setCurrentPageImmediate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onChanged", "(", ")", "{", "setPageCount", "(", "Indicator", ".", "this", ".", "viewPager", ".", "getAdapter", "(", ")", ".", "getCount", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPageScrolled", "(", "int", "position", ",", "float", "positionOffset", ",", "int", "positionOffsetPixels", ")", "{", "if", "(", "isAttachedToWindow", ")", "{", "float", "fraction", "=", "positionOffset", ";", "int", "currentPosition", "=", "pageChanging", "?", "previousPage", ":", "currentPage", ";", "int", "leftDotPosition", "=", "position", ";", "if", "(", "currentPosition", "!", "=", "position", ")", "{", "fraction", "=", "<NUM_LIT>", "-", "positionOffset", ";", "if", "(", "fraction", "=", "=", "<NUM_LIT>", ")", "{", "leftDotPosition", "=", "Math", ".", "min", "(", "currentPosition", ",", "position", ")", ";", "}", "}", "setJoiningFraction", "(", "leftDotPosition", ",", "fraction", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPageSelected", "(", "int", "position", ")", "{", "if", "(", "isAttachedToWindow", ")", "{", "setSelectedPage", "(", "position", ")", ";", "}", "else", "{", "setCurrentPageImmediate", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPageScrollStateChanged", "(", "int", "state", ")", "{", "}", "</s>"]
["<s>", "private", "void", "setPageCount", "(", "int", "pages", ")", "{", "pageCount", "=", "pages", ";", "resetState", "(", ")", ";", "requestLayout", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "calculateDotPositions", "(", "int", "width", ",", "int", "height", ")", "{", "int", "left", "=", "getPaddingLeft", "(", ")", ";", "int", "top", "=", "getPaddingTop", "(", ")", ";", "int", "right", "=", "width", "-", "getPaddingRight", "(", ")", ";", "int", "bottom", "=", "height", "-", "getPaddingBottom", "(", ")", ";", "int", "requiredWidth", "=", "getRequiredWidth", "(", ")", ";", "float", "startLeft", "=", "left", "+", "(", "(", "right", "-", "left", "-", "requiredWidth", ")", "/", "<NUM_LIT:2>", ")", "+", "dotRadius", ";", "dotCenterX", "=", "new", "float", "[", "pageCount", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "pageCount", ";", "i", "+", "+", ")", "{", "dotCenterX", "[", "i", "]", "=", "startLeft", "+", "i", "*", "(", "dotDiameter", "+", "gap", ")", ";", "}", "dotTopY", "=", "top", ";", "dotCenterY", "=", "top", "+", "dotRadius", ";", "dotBottomY", "=", "top", "+", "dotDiameter", ";", "setCurrentPageImmediate", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setCurrentPageImmediate", "(", ")", "{", "if", "(", "viewPager", "!", "=", "null", ")", "{", "currentPage", "=", "viewPager", ".", "getCurrentItem", "(", ")", ";", "}", "else", "{", "currentPage", "=", "0", ";", "}", "if", "(", "dotCenterX", "!", "=", "null", "&", "&", "dotCenterX", ".", "length", "!", "=", "0", ")", "{", "selectedDotX", "=", "dotCenterX", "[", "currentPage", "]", ";", "}", "else", "{", "selectedDotX", "=", "0", ";", "}", "}", "</s>"]
["<s>", "private", "void", "resetState", "(", ")", "{", "joiningFractions", "=", "new", "float", "[", "pageCount", "-", "1", "]", ";", "Arrays", ".", "fill", "(", "joiningFractions", ",", "<NUM_LIT>", ")", ";", "dotRevealFractions", "=", "new", "float", "[", "pageCount", "]", ";", "Arrays", ".", "fill", "(", "dotRevealFractions", ",", "<NUM_LIT>", ")", ";", "retreatingJoinX1", "=", "INVALID_FRACTION", ";", "retreatingJoinX2", "=", "INVALID_FRACTION", ";", "selectedDotInPosition", "=", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onMeasure", "(", "int", "widthMeasureSpec", ",", "int", "heightMeasureSpec", ")", "{", "int", "desiredHeight", "=", "getDesiredHeight", "(", ")", ";", "int", "height", ";", "switch", "(", "MeasureSpec", ".", "getMode", "(", "heightMeasureSpec", ")", ")", "{", "case", "MeasureSpec", ".", "EXACTLY", ":", "height", "=", "MeasureSpec", ".", "getSize", "(", "heightMeasureSpec", ")", ";", "break", ";", "case", "MeasureSpec", ".", "AT_MOST", ":", "height", "=", "Math", ".", "min", "(", "desiredHeight", ",", "MeasureSpec", ".", "getSize", "(", "heightMeasureSpec", ")", ")", ";", "break", ";", "default", ":", "height", "=", "desiredHeight", ";", "break", ";", "}", "int", "desiredWidth", "=", "getDesiredWidth", "(", ")", ";", "int", "width", ";", "switch", "(", "MeasureSpec", ".", "getMode", "(", "widthMeasureSpec", ")", ")", "{", "case", "MeasureSpec", ".", "EXACTLY", ":", "width", "=", "MeasureSpec", ".", "getSize", "(", "widthMeasureSpec", ")", ";", "break", ";", "case", "MeasureSpec", ".", "AT_MOST", ":", "width", "=", "Math", ".", "min", "(", "desiredWidth", ",", "MeasureSpec", ".", "getSize", "(", "widthMeasureSpec", ")", ")", ";", "break", ";", "default", ":", "width", "=", "desiredWidth", ";", "break", ";", "}", "setMeasuredDimension", "(", "width", ",", "height", ")", ";", "calculateDotPositions", "(", "width", ",", "height", ")", ";", "}", "</s>"]
["<s>", "private", "int", "getDesiredHeight", "(", ")", "{", "return", "getPaddingTop", "(", ")", "+", "dotDiameter", "+", "getPaddingBottom", "(", ")", ";", "}", "</s>"]
["<s>", "private", "int", "getRequiredWidth", "(", ")", "{", "return", "pageCount", "*", "dotDiameter", "+", "(", "pageCount", "-", "1", ")", "*", "gap", ";", "}", "</s>"]
["<s>", "private", "int", "getDesiredWidth", "(", ")", "{", "return", "getPaddingLeft", "(", ")", "+", "getRequiredWidth", "(", ")", "+", "getPaddingRight", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onViewAttachedToWindow", "(", "View", "view", ")", "{", "isAttachedToWindow", "=", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onViewDetachedFromWindow", "(", "View", "view", ")", "{", "isAttachedToWindow", "=", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDraw", "(", "Canvas", "canvas", ")", "{", "if", "(", "viewPager", "=", "=", "null", "|", "|", "pageCount", "=", "=", "0", ")", "return", ";", "drawUnselected", "(", "canvas", ")", ";", "drawSelected", "(", "canvas", ")", ";", "}", "</s>"]
["<s>", "private", "void", "drawUnselected", "(", "Canvas", "canvas", ")", "{", "combinedUnselectedPath", ".", "rewind", "(", ")", ";", "for", "(", "int", "page", "=", "0", ";", "page", "<", "pageCount", ";", "page", "+", "+", ")", "{", "int", "nextXIndex", "=", "page", "=", "=", "pageCount", "-", "1", "?", "page", ":", "page", "+", "1", ";", "combinedUnselectedPath", ".", "op", "(", "getUnselectedPath", "(", "page", ",", "dotCenterX", "[", "page", "]", ",", "dotCenterX", "[", "nextXIndex", "]", ",", "page", "=", "=", "pageCount", "-", "1", "?", "INVALID_FRACTION", ":", "joiningFractions", "[", "page", "]", ",", "dotRevealFractions", "[", "page", "]", ")", ",", "Path", ".", "Op", ".", "UNION", ")", ";", "}", "if", "(", "retreatingJoinX1", "!", "=", "INVALID_FRACTION", ")", "{", "combinedUnselectedPath", ".", "op", "(", "getRetreatingJoinPath", "(", ")", ",", "Path", ".", "Op", ".", "UNION", ")", ";", "}", "canvas", ".", "drawPath", "(", "combinedUnselectedPath", ",", "unselectedPaint", ")", ";", "}", "</s>"]
["<s>", "private", "Path", "getUnselectedPath", "(", "int", "page", ",", "float", "centerX", ",", "float", "nextCenterX", ",", "float", "joiningFraction", ",", "float", "dotRevealFraction", ")", "{", "unselectedDotPath", ".", "rewind", "(", ")", ";", "if", "(", "(", "joiningFraction", "=", "=", "<NUM_LIT>", "|", "|", "joiningFraction", "=", "=", "INVALID_FRACTION", ")", "&", "&", "dotRevealFraction", "=", "=", "<NUM_LIT>", "&", "&", "!", "(", "page", "=", "=", "currentPage", "&", "&", "selectedDotInPosition", ")", ")", "{", "unselectedDotPath", ".", "addCircle", "(", "dotCenterX", "[", "page", "]", ",", "dotCenterY", ",", "dotRadius", ",", "Path", ".", "Direction", ".", "CW", ")", ";", "}", "if", "(", "joiningFraction", ">", "<NUM_LIT>", "&", "&", "joiningFraction", "<", "=", "<NUM_LIT>", "&", "&", "retreatingJoinX1", "=", "=", "INVALID_FRACTION", ")", "{", "unselectedDotLeftPath", ".", "rewind", "(", ")", ";", "unselectedDotLeftPath", ".", "moveTo", "(", "centerX", ",", "dotBottomY", ")", ";", "rectF", ".", "set", "(", "centerX", "-", "dotRadius", ",", "dotTopY", ",", "centerX", "+", "dotRadius", ",", "dotBottomY", ")", ";", "unselectedDotLeftPath", ".", "arcTo", "(", "rectF", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ",", "true", ")", ";", "endX1", "=", "centerX", "+", "dotRadius", "+", "(", "joiningFraction", "*", "gap", ")", ";", "endY1", "=", "dotCenterY", ";", "controlX1", "=", "centerX", "+", "halfDotRadius", ";", "controlY1", "=", "dotTopY", ";", "controlX2", "=", "endX1", ";", "controlY2", "=", "endY1", "-", "halfDotRadius", ";", "unselectedDotLeftPath", ".", "cubicTo", "(", "controlX1", ",", "controlY1", ",", "controlX2", ",", "controlY2", ",", "endX1", ",", "endY1", ")", ";", "endX2", "=", "centerX", ";", "endY2", "=", "dotBottomY", ";", "controlX1", "=", "endX1", ";", "controlY1", "=", "endY1", "+", "halfDotRadius", ";", "controlX2", "=", "centerX", "+", "halfDotRadius", ";", "controlY2", "=", "dotBottomY", ";", "unselectedDotLeftPath", ".", "cubicTo", "(", "controlX1", ",", "controlY1", ",", "controlX2", ",", "controlY2", ",", "endX2", ",", "endY2", ")", ";", "unselectedDotPath", ".", "op", "(", "unselectedDotLeftPath", ",", "Path", ".", "Op", ".", "UNION", ")", ";", "unselectedDotRightPath", ".", "rewind", "(", ")", ";", "unselectedDotRightPath", ".", "moveTo", "(", "nextCenterX", ",", "dotBottomY", ")", ";", "rectF", ".", "set", "(", "nextCenterX", "-", "dotRadius", ",", "dotTopY", ",", "nextCenterX", "+", "dotRadius", ",", "dotBottomY", ")", ";", "unselectedDotRightPath", ".", "arcTo", "(", "rectF", ",", "<NUM_LIT>", ",", "-", "<NUM_LIT>", ",", "true", ")", ";", "endX1", "=", "nextCenterX", "-", "dotRadius", "-", "(", "joiningFraction", "*", "gap", ")", ";", "endY1", "=", "dotCenterY", ";", "controlX1", "=", "nextCenterX", "-", "halfDotRadius", ";", "controlY1", "=", "dotTopY", ";", "controlX2", "=", "endX1", ";", "controlY2", "=", "endY1", "-", "halfDotRadius", ";", "unselectedDotRightPath", ".", "cubicTo", "(", "controlX1", ",", "controlY1", ",", "controlX2", ",", "controlY2", ",", "endX1", ",", "endY1", ")", ";", "endX2", "=", "nextCenterX", ";", "endY2", "=", "dotBottomY", ";", "controlX1", "=", "endX1", ";", "controlY1", "=", "endY1", "+", "halfDotRadius", ";", "controlX2", "=", "endX2", "-", "halfDotRadius", ";", "controlY2", "=", "dotBottomY", ";", "unselectedDotRightPath", ".", "cubicTo", "(", "controlX1", ",", "controlY1", ",", "controlX2", ",", "controlY2", ",", "endX2", ",", "endY2", ")", ";", "unselectedDotPath", ".", "op", "(", "unselectedDotRightPath", ",", "Path", ".", "Op", ".", "UNION", ")", ";", "}", "if", "(", "joiningFraction", ">", "<NUM_LIT>", "&", "&", "joiningFraction", "<", "<NUM_LIT>", "&", "&", "retreatingJoinX1", "=", "=", "INVALID_FRACTION", ")", "{", "float", "adjustedFraction", "=", "(", "joiningFraction", "-", "<NUM_LIT>", ")", "*", "<NUM_LIT>", ";", "unselectedDotPath", ".", "moveTo", "(", "centerX", ",", "dotBottomY", ")", ";", "rectF", ".", "set", "(", "centerX", "-", "dotRadius", ",", "dotTopY", ",", "centerX", "+", "dotRadius", ",", "dotBottomY", ")", ";", "unselectedDotPath", ".", "arcTo", "(", "rectF", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ",", "true", ")", ";", "endX1", "=", "centerX", "+", "dotRadius", "+", "(", "gap", "/", "<NUM_LIT:2>", ")", ";", "endY1", "=", "dotCenterY", "-", "(", "adjustedFraction", "*", "dotRadius", ")", ";", "controlX1", "=", "endX1", "-", "(", "adjustedFraction", "*", "dotRadius", ")", ";", "controlY1", "=", "dotTopY", ";", "controlX2", "=", "endX1", "-", "(", "(", "1", "-", "adjustedFraction", ")", "*", "dotRadius", ")", ";", "controlY2", "=", "endY1", ";", "unselectedDotPath", ".", "cubicTo", "(", "controlX1", ",", "controlY1", ",", "controlX2", ",", "controlY2", ",", "endX1", ",", "endY1", ")", ";", "endX2", "=", "nextCenterX", ";", "endY2", "=", "dotTopY", ";", "controlX1", "=", "endX1", "+", "(", "(", "1", "-", "adjustedFraction", ")", "*", "dotRadius", ")", ";", "controlY1", "=", "endY1", ";", "controlX2", "=", "endX1", "+", "(", "adjustedFraction", "*", "dotRadius", ")", ";", "controlY2", "=", "dotTopY", ";", "unselectedDotPath", ".", "cubicTo", "(", "controlX1", ",", "controlY1", ",", "controlX2", ",", "controlY2", ",", "endX2", ",", "endY2", ")", ";", "rectF", ".", "set", "(", "nextCenterX", "-", "dotRadius", ",", "dotTopY", ",", "nextCenterX", "+", "dotRadius", ",", "dotBottomY", ")", ";", "unselectedDotPath", ".", "arcTo", "(", "rectF", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ",", "true", ")", ";", "endY1", "=", "dotCenterY", "+", "(", "adjustedFraction", "*", "dotRadius", ")", ";", "controlX1", "=", "endX1", "+", "(", "adjustedFraction", "*", "dotRadius", ")", ";", "controlY1", "=", "dotBottomY", ";", "controlX2", "=", "endX1", "+", "(", "(", "1", "-", "adjustedFraction", ")", "*", "dotRadius", ")", ";", "controlY2", "=", "endY1", ";", "unselectedDotPath", ".", "cubicTo", "(", "controlX1", ",", "controlY1", ",", "controlX2", ",", "controlY2", ",", "endX1", ",", "endY1", ")", ";", "endX2", "=", "centerX", ";", "endY2", "=", "dotBottomY", ";", "controlX1", "=", "endX1", "-", "(", "(", "1", "-", "adjustedFraction", ")", "*", "dotRadius", ")", ";", "controlY1", "=", "endY1", ";", "controlX2", "=", "endX1", "-", "(", "adjustedFraction", "*", "dotRadius", ")", ";", "controlY2", "=", "endY2", ";", "unselectedDotPath", ".", "cubicTo", "(", "controlX1", ",", "controlY1", ",", "controlX2", ",", "controlY2", ",", "endX2", ",", "endY2", ")", ";", "}", "if", "(", "joiningFraction", "=", "=", "1", "&", "&", "retreatingJoinX1", "=", "=", "INVALID_FRACTION", ")", "{", "rectF", ".", "set", "(", "centerX", "-", "dotRadius", ",", "dotTopY", ",", "nextCenterX", "+", "dotRadius", ",", "dotBottomY", ")", ";", "unselectedDotPath", ".", "addRoundRect", "(", "rectF", ",", "dotRadius", ",", "dotRadius", ",", "Path", ".", "Direction", ".", "CW", ")", ";", "}", "if", "(", "dotRevealFraction", ">", "MINIMAL_REVEAL", ")", "{", "unselectedDotPath", ".", "addCircle", "(", "centerX", ",", "dotCenterY", ",", "dotRevealFraction", "*", "dotRadius", ",", "Path", ".", "Direction", ".", "CW", ")", ";", "}", "return", "unselectedDotPath", ";", "}", "</s>"]
["<s>", "private", "Path", "getRetreatingJoinPath", "(", ")", "{", "unselectedDotPath", ".", "rewind", "(", ")", ";", "rectF", ".", "set", "(", "retreatingJoinX1", ",", "dotTopY", ",", "retreatingJoinX2", ",", "dotBottomY", ")", ";", "unselectedDotPath", ".", "addRoundRect", "(", "rectF", ",", "dotRadius", ",", "dotRadius", ",", "Path", ".", "Direction", ".", "CW", ")", ";", "return", "unselectedDotPath", ";", "}", "</s>"]
["<s>", "private", "void", "drawSelected", "(", "Canvas", "canvas", ")", "{", "canvas", ".", "drawCircle", "(", "selectedDotX", ",", "dotCenterY", ",", "dotRadius", ",", "selectedPaint", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setSelectedPage", "(", "int", "now", ")", "{", "if", "(", "now", "=", "=", "currentPage", ")", "return", ";", "pageChanging", "=", "true", ";", "previousPage", "=", "currentPage", ";", "currentPage", "=", "now", ";", "final", "int", "steps", "=", "Math", ".", "abs", "(", "now", "-", "previousPage", ")", ";", "if", "(", "steps", ">", "1", ")", "{", "if", "(", "now", ">", "previousPage", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "steps", ";", "i", "+", "+", ")", "{", "setJoiningFraction", "(", "previousPage", "+", "i", ",", "<NUM_LIT>", ")", ";", "}", "}", "else", "{", "for", "(", "int", "i", "=", "-", "1", ";", "i", ">", "-", "steps", ";", "i", "-", "-", ")", "{", "setJoiningFraction", "(", "previousPage", "+", "i", ",", "<NUM_LIT>", ")", ";", "}", "}", "}", "moveAnimation", "=", "createMoveSelectedAnimator", "(", "dotCenterX", "[", "now", "]", ",", "previousPage", ",", "now", ",", "steps", ")", ";", "moveAnimation", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "private", "ValueAnimator", "createMoveSelectedAnimator", "(", "final", "float", "moveTo", ",", "int", "was", ",", "int", "now", ",", "int", "steps", ")", "{", "ValueAnimator", "moveSelected", "=", "ValueAnimator", ".", "ofFloat", "(", "selectedDotX", ",", "moveTo", ")", ";", "retreatAnimation", "=", "new", "PendingRetreatAnimator", "(", "was", ",", "now", ",", "steps", ",", "now", ">", "was", "?", "new", "RightwardStartPredicate", "(", "moveTo", "-", "(", "(", "moveTo", "-", "selectedDotX", ")", "*", "<NUM_LIT>", ")", ")", ":", "new", "LeftwardStartPredicate", "(", "moveTo", "+", "(", "(", "selectedDotX", "-", "moveTo", ")", "*", "<NUM_LIT>", ")", ")", ")", ";", "retreatAnimation", ".", "addListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "resetState", "(", ")", ";", "pageChanging", "=", "false", ";", "}", "}", ")", ";", "moveSelected", ".", "addUpdateListener", "(", "valueAnimator", "-", ">", "{", "selectedDotX", "=", "(", "Float", ")", "valueAnimator", ".", "getAnimatedValue", "(", ")", ";", "retreatAnimation", ".", "startIfNecessary", "(", "selectedDotX", ")", ";", "postInvalidateOnAnimation", "(", ")", ";", "}", ")", ";", "moveSelected", ".", "addListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "selectedDotInPosition", "=", "false", ";", "}", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "selectedDotInPosition", "=", "true", ";", "}", "}", ")", ";", "moveSelected", ".", "setStartDelay", "(", "selectedDotInPosition", "?", "animDuration", "/", "<NUM_LIT>", ":", "0", "L", ")", ";", "moveSelected", ".", "setDuration", "(", "animDuration", "*", "<NUM_LIT>", "/", "<NUM_LIT>", ")", ";", "moveSelected", ".", "setInterpolator", "(", "interpolator", ")", ";", "return", "moveSelected", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "resetState", "(", ")", ";", "pageChanging", "=", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "selectedDotInPosition", "=", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "selectedDotInPosition", "=", "true", ";", "}", "</s>"]
["<s>", "private", "void", "setJoiningFraction", "(", "int", "leftDot", ",", "float", "fraction", ")", "{", "if", "(", "leftDot", "<", "joiningFractions", ".", "length", ")", "{", "if", "(", "leftDot", "=", "=", "1", ")", "{", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", "+", "fraction", ")", ";", "}", "joiningFractions", "[", "leftDot", "]", "=", "fraction", ";", "postInvalidateOnAnimation", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "clearJoiningFractions", "(", ")", "{", "Arrays", ".", "fill", "(", "joiningFractions", ",", "<NUM_LIT>", ")", ";", "postInvalidateOnAnimation", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setDotRevealFraction", "(", "int", "dot", ",", "float", "fraction", ")", "{", "dotRevealFractions", "[", "dot", "]", "=", "fraction", ";", "postInvalidateOnAnimation", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "cancelJoiningAnimations", "(", ")", "{", "if", "(", "joiningAnimationSet", "!", "=", "null", "&", "&", "joiningAnimationSet", ".", "isRunning", "(", ")", ")", "{", "joiningAnimationSet", ".", "cancel", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "PendingStartAnimator", "(", "StartPredicate", "predicate", ")", "{", "super", "(", ")", ";", "this", ".", "predicate", "=", "predicate", ";", "hasStarted", "=", "false", ";", "}", "</s>"]
["<s>", "public", "void", "startIfNecessary", "(", "float", "currentValue", ")", "{", "if", "(", "!", "hasStarted", "&", "&", "predicate", ".", "shouldStart", "(", "currentValue", ")", ")", "{", "start", "(", ")", ";", "hasStarted", "=", "true", ";", "}", "}", "</s>"]
["<s>", "PendingRetreatAnimator", "(", "int", "was", ",", "int", "now", ",", "int", "steps", ",", "StartPredicate", "predicate", ")", "{", "super", "(", "predicate", ")", ";", "setDuration", "(", "animHalfDuration", ")", ";", "setInterpolator", "(", "interpolator", ")", ";", "final", "float", "initialX1", "=", "now", ">", "was", "?", "Math", ".", "min", "(", "dotCenterX", "[", "was", "]", ",", "selectedDotX", ")", "-", "dotRadius", ":", "dotCenterX", "[", "now", "]", "-", "dotRadius", ";", "final", "float", "finalX1", "=", "now", ">", "was", "?", "dotCenterX", "[", "now", "]", "-", "dotRadius", ":", "dotCenterX", "[", "now", "]", "-", "dotRadius", ";", "final", "float", "initialX2", "=", "now", ">", "was", "?", "dotCenterX", "[", "now", "]", "+", "dotRadius", ":", "Math", ".", "max", "(", "dotCenterX", "[", "was", "]", ",", "selectedDotX", ")", "+", "dotRadius", ";", "final", "float", "finalX2", "=", "now", ">", "was", "?", "dotCenterX", "[", "now", "]", "+", "dotRadius", ":", "dotCenterX", "[", "now", "]", "+", "dotRadius", ";", "revealAnimations", "=", "new", "PendingRevealAnimator", "[", "steps", "]", ";", "final", "int", "[", "]", "dotsToHide", "=", "new", "int", "[", "steps", "]", ";", "if", "(", "initialX1", "!", "=", "finalX1", ")", "{", "setFloatValues", "(", "initialX1", ",", "finalX1", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "steps", ";", "i", "+", "+", ")", "{", "revealAnimations", "[", "i", "]", "=", "new", "PendingRevealAnimator", "(", "was", "+", "i", ",", "new", "RightwardStartPredicate", "(", "dotCenterX", "[", "was", "+", "i", "]", ")", ")", ";", "dotsToHide", "[", "i", "]", "=", "was", "+", "i", ";", "}", "addUpdateListener", "(", "valueAnimator", "-", ">", "{", "retreatingJoinX1", "=", "(", "Float", ")", "valueAnimator", ".", "getAnimatedValue", "(", ")", ";", "postInvalidateOnAnimation", "(", ")", ";", "for", "(", "PendingRevealAnimator", "pendingReveal", ":", "revealAnimations", ")", "{", "pendingReveal", ".", "startIfNecessary", "(", "retreatingJoinX1", ")", ";", "}", "}", ")", ";", "}", "else", "{", "setFloatValues", "(", "initialX2", ",", "finalX2", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "steps", ";", "i", "+", "+", ")", "{", "revealAnimations", "[", "i", "]", "=", "new", "PendingRevealAnimator", "(", "was", "-", "i", ",", "new", "LeftwardStartPredicate", "(", "dotCenterX", "[", "was", "-", "i", "]", ")", ")", ";", "dotsToHide", "[", "i", "]", "=", "was", "-", "i", ";", "}", "addUpdateListener", "(", "valueAnimator", "-", ">", "{", "retreatingJoinX2", "=", "(", "Float", ")", "valueAnimator", ".", "getAnimatedValue", "(", ")", ";", "postInvalidateOnAnimation", "(", ")", ";", "for", "(", "PendingRevealAnimator", "pendingReveal", ":", "revealAnimations", ")", "{", "pendingReveal", ".", "startIfNecessary", "(", "retreatingJoinX2", ")", ";", "}", "}", ")", ";", "}", "addListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "cancelJoiningAnimations", "(", ")", ";", "clearJoiningFractions", "(", ")", ";", "for", "(", "int", "dot", ":", "dotsToHide", ")", "{", "setDotRevealFraction", "(", "dot", ",", "MINIMAL_REVEAL", ")", ";", "}", "retreatingJoinX1", "=", "initialX1", ";", "retreatingJoinX2", "=", "initialX2", ";", "postInvalidateOnAnimation", "(", ")", ";", "}", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "retreatingJoinX1", "=", "INVALID_FRACTION", ";", "retreatingJoinX2", "=", "INVALID_FRACTION", ";", "postInvalidateOnAnimation", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "cancelJoiningAnimations", "(", ")", ";", "clearJoiningFractions", "(", ")", ";", "for", "(", "int", "dot", ":", "dotsToHide", ")", "{", "setDotRevealFraction", "(", "dot", ",", "MINIMAL_REVEAL", ")", ";", "}", "retreatingJoinX1", "=", "initialX1", ";", "retreatingJoinX2", "=", "initialX2", ";", "postInvalidateOnAnimation", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "retreatingJoinX1", "=", "INVALID_FRACTION", ";", "retreatingJoinX2", "=", "INVALID_FRACTION", ";", "postInvalidateOnAnimation", "(", ")", ";", "}", "</s>"]
["<s>", "public", "PendingRevealAnimator", "(", "int", "dot", ",", "StartPredicate", "predicate", ")", "{", "super", "(", "predicate", ")", ";", "setFloatValues", "(", "MINIMAL_REVEAL", ",", "<NUM_LIT>", ")", ";", "this", ".", "dot", "=", "dot", ";", "setDuration", "(", "animHalfDuration", ")", ";", "setInterpolator", "(", "interpolator", ")", ";", "addUpdateListener", "(", "valueAnimator", "-", ">", "{", "setDotRevealFraction", "(", "PendingRevealAnimator", ".", "this", ".", "dot", ",", "(", "Float", ")", "valueAnimator", ".", "getAnimatedValue", "(", ")", ")", ";", "}", ")", ";", "addListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "setDotRevealFraction", "(", "PendingRevealAnimator", ".", "this", ".", "dot", ",", "<NUM_LIT>", ")", ";", "postInvalidateOnAnimation", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "setDotRevealFraction", "(", "PendingRevealAnimator", ".", "this", ".", "dot", ",", "<NUM_LIT>", ")", ";", "postInvalidateOnAnimation", "(", ")", ";", "}", "</s>"]
["<s>", "public", "StartPredicate", "(", "float", "thresholdValue", ")", "{", "this", ".", "thresholdValue", "=", "thresholdValue", ";", "}", "</s>"]
["<s>", "abstract", "boolean", "shouldStart", "(", "float", "currentValue", ")", ";", "</s>"]
["<s>", "public", "RightwardStartPredicate", "(", "float", "thresholdValue", ")", "{", "super", "(", "thresholdValue", ")", ";", "}", "</s>"]
["<s>", "boolean", "shouldStart", "(", "float", "currentValue", ")", "{", "return", "currentValue", ">", "thresholdValue", ";", "}", "</s>"]
["<s>", "public", "LeftwardStartPredicate", "(", "float", "thresholdValue", ")", "{", "super", "(", "thresholdValue", ")", ";", "}", "</s>"]
["<s>", "boolean", "shouldStart", "(", "float", "currentValue", ")", "{", "return", "currentValue", "<", "thresholdValue", ";", "}", "</s>"]
["<s>", "public", "CheckableCircleView", "(", "Context", "context", ",", "@", "Nullable", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "check", "=", "context", ".", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_check_white_24dp", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setColor", "(", "@", "ColorInt", "int", "color", ")", "{", "paint", ".", "setColor", "(", "color", ")", ";", "paint", ".", "setAntiAlias", "(", "true", ")", ";", "invalidate", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setChecked", "(", "boolean", "checked", ")", "{", "this", ".", "checked", "=", "checked", ";", "invalidate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDraw", "(", "Canvas", "canvas", ")", "{", "super", ".", "onDraw", "(", "canvas", ")", ";", "float", "min", "=", "Math", ".", "min", "(", "getHeight", "(", ")", ",", "getWidth", "(", ")", ")", ";", "canvas", ".", "drawCircle", "(", "getWidth", "(", ")", "/", "<NUM_LIT>", ",", "getHeight", "(", ")", "/", "<NUM_LIT>", ",", "min", "/", "<NUM_LIT>", ",", "paint", ")", ";", "if", "(", "checked", ")", "{", "float", "checkMargin", "=", "min", "*", "CHECK_MARGIN_PERCENTUAL", ";", "check", ".", "setBounds", "(", "(", "int", ")", "checkMargin", ",", "(", "int", ")", "checkMargin", ",", "(", "int", ")", "(", "getWidth", "(", ")", "-", "checkMargin", ")", ",", "(", "int", ")", "(", "getHeight", "(", ")", "-", "checkMargin", ")", ")", ";", "check", ".", "draw", "(", "canvas", ")", ";", "}", "}", "</s>"]
["<s>", "public", "ThemedImageView", "(", "Context", "context", ")", "{", "this", "(", "context", ",", "null", ",", "0", ")", ";", "}", "</s>"]
["<s>", "public", "ThemedImageView", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "this", "(", "context", ",", "attrs", ",", "0", ")", ";", "}", "</s>"]
["<s>", "public", "ThemedImageView", "(", "Context", "context", ",", "AttributeSet", "attrs", ",", "int", "defStyleAttr", ")", "{", "super", "(", "context", ",", "attrs", ",", "defStyleAttr", ")", ";", "BasicActivity", "a", "=", "(", "BasicActivity", ")", "getActivity", "(", ")", ";", "if", "(", "a", "!", "=", "null", "&", "&", "(", "a", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "a", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", ")", "{", "setColorFilter", "(", "Color", ".", "argb", "(", "<NUM_LIT:255>", ",", "<NUM_LIT:255>", ",", "<NUM_LIT:255>", ",", "<NUM_LIT:255>", ")", ")", ";", "}", "else", "if", "(", "a", "=", "=", "null", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Activity", "getActivity", "(", ")", "{", "Context", "context", "=", "getContext", "(", ")", ";", "while", "(", "context", "instanceof", "ContextWrapper", ")", "{", "if", "(", "context", "instanceof", "Activity", ")", "{", "return", "(", "Activity", ")", "context", ";", "}", "context", "=", "(", "(", "ContextWrapper", ")", "context", ")", ".", "getBaseContext", "(", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "ThemedImageButton", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "}", "</s>"]
["<s>", "public", "ThemedImageButton", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "}", "</s>"]
["<s>", "public", "ThemedImageButton", "(", "Context", "context", ",", "AttributeSet", "attrs", ",", "int", "defStyleAttr", ")", "{", "super", "(", "context", ",", "attrs", ",", "defStyleAttr", ")", ";", "setFocusable", "(", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "boolean", "onSetAlpha", "(", "int", "alpha", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CharSequence", "getAccessibilityClassName", "(", ")", "{", "return", "ImageButton", ".", "class", ".", "getName", "(", ")", ";", "}", "</s>"]
["<s>", "public", "WarnableTextInputLayout", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "}", "</s>"]
["<s>", "public", "void", "removeError", "(", ")", "{", "super", ".", "setError", "(", "null", ")", ";", "setErrorEnabled", "(", "false", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setError", "(", "@", "Nullable", "CharSequence", "error", ")", "{", "if", "(", "isStyleWarning", ")", "{", "setErrorEnabled", "(", "true", ")", ";", "setErrorTextAppearance", "(", "R", ".", "style", ".", "error_inputTextLayout", ")", ";", "isStyleWarning", "=", "false", ";", "}", "super", ".", "setError", "(", "error", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setWarning", "(", "@", "StringRes", "int", "text", ")", "{", "if", "(", "!", "isStyleWarning", ")", "{", "removeError", "(", ")", ";", "setErrorEnabled", "(", "true", ")", ";", "setErrorTextAppearance", "(", "R", ".", "style", ".", "warning_inputTextLayout", ")", ";", "isStyleWarning", "=", "true", ";", "}", "super", ".", "setError", "(", "getContext", "(", ")", ".", "getString", "(", "text", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "onScrolled", "(", "RecyclerView", "recyclerView", ",", "int", "i", ",", "int", "i2", ")", "{", "if", "(", "handle", "!", "=", "null", "&", "&", "!", "manuallyChangingPosition", ")", "{", "updateHandlePosition", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "FastScroller", "(", "@", "NonNull", "Context", "context", ",", "AttributeSet", "attributeSet", ")", "{", "super", "(", "context", ",", "attributeSet", ")", ";", "this", ".", "scrollListener", "=", "new", "ScrollListener", "(", ")", ";", "initialise", "(", "context", ")", ";", "}", "</s>"]
["<s>", "public", "FastScroller", "(", "@", "NonNull", "Context", "context", ",", "AttributeSet", "attributeSet", ",", "int", "i", ")", "{", "super", "(", "context", ",", "attributeSet", ",", "i", ")", ";", "this", ".", "scrollListener", "=", "new", "ScrollListener", "(", ")", ";", "initialise", "(", "context", ")", ";", "}", "</s>"]
["<s>", "private", "float", "computeHandlePosition", "(", ")", "{", "View", "firstVisibleView", "=", "recyclerView", ".", "getChildAt", "(", "0", ")", ";", "handle", ".", "setVisibility", "(", "VISIBLE", ")", ";", "float", "recyclerViewOversize", ";", "int", "recyclerViewAbsoluteScroll", ";", "if", "(", "firstVisibleView", "=", "=", "null", "|", "|", "recyclerView", "=", "=", "null", ")", "return", "-", "1", ";", "recyclerViewOversize", "=", "firstVisibleView", ".", "getHeight", "(", ")", "/", "columns", "*", "recyclerView", ".", "getAdapter", "(", ")", ".", "getItemCount", "(", ")", "-", "getHeightMinusPadding", "(", ")", ";", "recyclerViewAbsoluteScroll", "=", "recyclerView", ".", "getChildLayoutPosition", "(", "firstVisibleView", ")", "/", "columns", "*", "firstVisibleView", ".", "getHeight", "(", ")", "-", "firstVisibleView", ".", "getTop", "(", ")", ";", "return", "recyclerViewAbsoluteScroll", "/", "recyclerViewOversize", ";", "}", "</s>"]
["<s>", "private", "int", "getHeightMinusPadding", "(", ")", "{", "return", "(", "getHeight", "(", ")", "-", "getPaddingBottom", "(", ")", ")", "-", "getPaddingTop", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "initialise", "(", "@", "NonNull", "Context", "context", ")", "{", "setClipChildren", "(", "false", ")", ";", "inflate", "(", "context", ",", "R", ".", "layout", ".", "fastscroller", ",", "this", ")", ";", "this", ".", "handle", "=", "findViewById", "(", "R", ".", "id", ".", "scroll_handle", ")", ";", "this", ".", "bar", "=", "findViewById", "(", "R", ".", "id", ".", "scroll_bar", ")", ";", "this", ".", "handle", ".", "setEnabled", "(", "true", ")", ";", "setPressedHandleColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "accent_blue", ")", ")", ";", "setUpBarBackground", "(", ")", ";", "setVisibility", "(", "VISIBLE", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setHandlePosition1", "(", "float", "relativePos", ")", "{", "handle", ".", "setY", "(", "Utils", ".", "clamp", "(", "0", ",", "getHeightMinusPadding", "(", ")", "-", "handle", ".", "getHeight", "(", ")", ",", "relativePos", "*", "(", "getHeightMinusPadding", "(", ")", "-", "handle", ".", "getHeight", "(", ")", ")", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setUpBarBackground", "(", ")", "{", "InsetDrawable", "insetDrawable", ";", "int", "resolveColor", "=", "resolveColor", "(", "getContext", "(", ")", ",", "R", ".", "attr", ".", "colorControlNormal", ")", ";", "insetDrawable", "=", "new", "InsetDrawable", "(", "new", "ColorDrawable", "(", "resolveColor", ")", ",", "getResources", "(", ")", ".", "getDimensionPixelSize", "(", "R", ".", "dimen", ".", "fastscroller_track_padding", ")", ",", "0", ",", "0", ",", "0", ")", ";", "this", ".", "bar", ".", "setBackgroundDrawable", "(", "insetDrawable", ")", ";", "}", "</s>"]
["<s>", "int", "resolveColor", "(", "@", "NonNull", "Context", "context", ",", "@", "AttrRes", "int", "i", ")", "{", "TypedArray", "obtainStyledAttributes", "=", "context", ".", "obtainStyledAttributes", "(", "new", "int", "[", "]", "{", "i", "}", ")", ";", "int", "color", "=", "obtainStyledAttributes", ".", "getColor", "(", "0", ",", "0", ")", ";", "obtainStyledAttributes", ".", "recycle", "(", ")", ";", "return", "color", ";", "}", "</s>"]
["<s>", "public", "boolean", "onTouchEvent", "(", "@", "NonNull", "MotionEvent", "motionEvent", ")", "{", "if", "(", "motionEvent", ".", "getAction", "(", ")", "=", "=", "0", "|", "|", "motionEvent", ".", "getAction", "(", ")", "=", "=", "<NUM_LIT:2>", ")", "{", "this", ".", "handle", ".", "setPressed", "(", "true", ")", ";", "bar", ".", "setVisibility", "(", "VISIBLE", ")", ";", "float", "relativePos", "=", "getRelativeTouchPosition", "(", "motionEvent", ")", ";", "setHandlePosition1", "(", "relativePos", ")", ";", "manuallyChangingPosition", "=", "true", ";", "setRecyclerViewPosition", "(", "relativePos", ")", ";", "if", "(", "a", "!", "=", "null", ")", "a", ".", "onTouch", "(", ")", ";", "return", "true", ";", "}", "else", "if", "(", "motionEvent", ".", "getAction", "(", ")", "!", "=", "1", ")", "{", "return", "super", ".", "onTouchEvent", "(", "motionEvent", ")", ";", "}", "else", "{", "bar", ".", "setVisibility", "(", "INVISIBLE", ")", ";", "manuallyChangingPosition", "=", "false", ";", "this", ".", "handle", ".", "setPressed", "(", "false", ")", ";", "return", "true", ";", "}", "}", "</s>"]
["<s>", "private", "void", "invalidateVisibility", "(", ")", "{", "if", "(", "recyclerView", ".", "getAdapter", "(", ")", "=", "=", "null", "|", "|", "recyclerView", ".", "getAdapter", "(", ")", ".", "getItemCount", "(", ")", "=", "=", "0", "|", "|", "recyclerView", ".", "getChildAt", "(", "0", ")", "=", "=", "null", "|", "|", "isRecyclerViewScrollable", "(", ")", ")", "{", "setVisibility", "(", "INVISIBLE", ")", ";", "}", "else", "{", "setVisibility", "(", "VISIBLE", ")", ";", "}", "}", "</s>"]
["<s>", "private", "boolean", "isRecyclerViewScrollable", "(", ")", "{", "return", "recyclerView", ".", "getChildAt", "(", "0", ")", ".", "getHeight", "(", ")", "*", "recyclerView", ".", "getAdapter", "(", ")", ".", "getItemCount", "(", ")", "/", "columns", "<", "=", "getHeightMinusPadding", "(", ")", "|", "|", "recyclerView", ".", "getAdapter", "(", ")", ".", "getItemCount", "(", ")", "/", "columns", "<", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "private", "void", "setRecyclerViewPosition", "(", "float", "relativePos", ")", "{", "if", "(", "recyclerView", "!", "=", "null", ")", "{", "int", "itemCount", "=", "recyclerView", ".", "getAdapter", "(", ")", ".", "getItemCount", "(", ")", ";", "int", "targetPos", "=", "(", "int", ")", "Utils", ".", "clamp", "(", "0", ",", "itemCount", "-", "1", ",", "(", "int", ")", "(", "relativePos", "*", "(", "float", ")", "itemCount", ")", ")", ";", "recyclerView", ".", "smoothScrollToPosition", "(", "targetPos", ")", ";", "}", "}", "</s>"]
["<s>", "private", "float", "getRelativeTouchPosition", "(", "MotionEvent", "event", ")", "{", "float", "yInParent", "=", "event", ".", "getRawY", "(", ")", "-", "Utils", ".", "getViewRawY", "(", "handle", ")", ";", "return", "yInParent", "/", "(", "getHeightMinusPadding", "(", ")", "-", "handle", ".", "getHeight", "(", ")", ")", ";", "}", "</s>"]
["<s>", "void", "onTouch", "(", ")", ";", "</s>"]
["<s>", "public", "void", "registerOnTouchListener", "(", "onTouchListener", "onTouchListener", ")", "{", "a", "=", "onTouchListener", ";", "}", "</s>"]
["<s>", "public", "void", "setPressedHandleColor", "(", "int", "i", ")", "{", "handle", ".", "setColorFilter", "(", "i", ")", ";", "StateListDrawable", "stateListDrawable", "=", "new", "StateListDrawable", "(", ")", ";", "Drawable", "drawable", "=", "ContextCompat", ".", "getDrawable", "(", "getContext", "(", ")", ",", "R", ".", "drawable", ".", "fastscroller_handle_normal", ")", ";", "Drawable", "drawable1", "=", "ContextCompat", ".", "getDrawable", "(", "getContext", "(", ")", ",", "R", ".", "drawable", ".", "fastscroller_handle_pressed", ")", ";", "stateListDrawable", ".", "addState", "(", "View", ".", "PRESSED_ENABLED_STATE_SET", ",", "new", "InsetDrawable", "(", "drawable1", ",", "getResources", "(", ")", ".", "getDimensionPixelSize", "(", "R", ".", "dimen", ".", "fastscroller_track_padding", ")", ",", "0", ",", "0", ",", "0", ")", ")", ";", "stateListDrawable", ".", "addState", "(", "View", ".", "EMPTY_STATE_SET", ",", "new", "InsetDrawable", "(", "drawable", ",", "getResources", "(", ")", ".", "getDimensionPixelSize", "(", "R", ".", "dimen", ".", "fastscroller_track_padding", ")", ",", "0", ",", "0", ",", "0", ")", ")", ";", "this", ".", "handle", ".", "setImageDrawable", "(", "stateListDrawable", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setRecyclerView", "(", "@", "NonNull", "RecyclerView", "recyclerView", ",", "int", "columns", ")", "{", "this", ".", "recyclerView", "=", "recyclerView", ";", "this", ".", "columns", "=", "columns", ";", "bar", ".", "setVisibility", "(", "INVISIBLE", ")", ";", "recyclerView", ".", "addOnScrollListener", "(", "this", ".", "scrollListener", ")", ";", "invalidateVisibility", "(", ")", ";", "recyclerView", ".", "setOnHierarchyChangeListener", "(", "new", "OnHierarchyChangeListener", "(", ")", "{", "@", "Override", "public", "void", "onChildViewAdded", "(", "View", "parent", ",", "View", "child", ")", "{", "invalidateVisibility", "(", ")", ";", "}", "@", "Override", "public", "void", "onChildViewRemoved", "(", "View", "parent", ",", "View", "child", ")", "{", "invalidateVisibility", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onChildViewAdded", "(", "View", "parent", ",", "View", "child", ")", "{", "invalidateVisibility", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onChildViewRemoved", "(", "View", "parent", ",", "View", "child", ")", "{", "invalidateVisibility", "(", ")", ";", "}", "</s>"]
["<s>", "void", "updateHandlePosition", "(", ")", "{", "setHandlePosition1", "(", "computeHandlePosition", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "updateHandlePosition", "(", "int", "vx", ",", "int", "l", ")", "{", "if", "(", "vx", "!", "=", "vx1", ")", "{", "setPadding", "(", "getPaddingLeft", "(", ")", ",", "getPaddingTop", "(", ")", ",", "getPaddingRight", "(", ")", ",", "l", "+", "vx", ")", ";", "setHandlePosition1", "(", "computeHandlePosition", "(", ")", ")", ";", "vx1", "=", "vx", ";", "}", "}", "</s>"]
["<s>", "public", "CircleGradientDrawable", "(", "String", "color", ",", "AppTheme", "appTheme", ",", "DisplayMetrics", "metrics", ")", "{", "this", "(", "appTheme", ",", "metrics", ")", ";", "setColor", "(", "Color", ".", "parseColor", "(", "color", ")", ")", ";", "}", "</s>"]
["<s>", "public", "CircleGradientDrawable", "(", "@", "ColorInt", "int", "color", ",", "AppTheme", "appTheme", ",", "DisplayMetrics", "metrics", ")", "{", "this", "(", "appTheme", ",", "metrics", ")", ";", "setColor", "(", "color", ")", ";", "}", "</s>"]
["<s>", "public", "CircleGradientDrawable", "(", "AppTheme", "appTheme", ",", "DisplayMetrics", "metrics", ")", "{", "this", ".", "mDisplayMetrics", "=", "metrics", ";", "setShape", "(", "OVAL", ")", ";", "setSize", "(", "1", ",", "1", ")", ";", "setStroke", "(", "dpToPx", "(", "STROKE_WIDTH", ")", ",", "(", "appTheme", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "appTheme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "?", "Color", ".", "parseColor", "(", "STROKE_COLOR_DARK", ")", ":", "Color", ".", "parseColor", "(", "STROKE_COLOR_LIGHT", ")", ")", ";", "}", "</s>"]
["<s>", "private", "int", "dpToPx", "(", "int", "dp", ")", "{", "int", "px", "=", "Math", ".", "round", "(", "mDisplayMetrics", ".", "density", "*", "dp", ")", ";", "return", "px", ";", "}", "</s>"]
["<s>", "public", "CircularColorsView", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "public", "CircularColorsView", "(", "Context", "context", ",", "@", "Nullable", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "init", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", ")", "{", "dividerPaint", ".", "setColor", "(", "Color", ".", "BLACK", ")", ";", "dividerPaint", ".", "setStyle", "(", "Paint", ".", "Style", ".", "STROKE", ")", ";", "dividerPaint", ".", "setFlags", "(", "Paint", ".", "ANTI_ALIAS_FLAG", ")", ";", "dividerPaint", ".", "setStrokeWidth", "(", "SEMICIRCLE_LINE_WIDTH", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setDividerColor", "(", "int", "color", ")", "{", "dividerPaint", ".", "setColor", "(", "color", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setColors", "(", "int", "color", ",", "int", "color1", ",", "int", "color2", ",", "int", "color3", ")", "{", "colors", "[", "0", "]", ".", "setColor", "(", "color", ")", ";", "colors", "[", "1", "]", ".", "setColor", "(", "color1", ")", ";", "colors", "[", "<NUM_LIT:2>", "]", ".", "setColor", "(", "color2", ")", ";", "colors", "[", "<NUM_LIT:3>", "]", ".", "setColor", "(", "color3", ")", ";", "for", "(", "Paint", "p", ":", "colors", ")", "p", ".", "setFlags", "(", "Paint", ".", "ANTI_ALIAS_FLAG", ")", ";", "paintInitialized", "=", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDraw", "(", "Canvas", "canvas", ")", "{", "super", ".", "onDraw", "(", "canvas", ")", ";", "if", "(", "isInEditMode", "(", ")", ")", "setColors", "(", "Color", ".", "CYAN", ",", "Color", ".", "RED", ",", "Color", ".", "GREEN", ",", "Color", ".", "BLUE", ")", ";", "if", "(", "!", "paintInitialized", ")", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "float", "distance", "=", "getWidth", "(", ")", "*", "DISTANCE_PERCENTUAL", ";", "float", "diameterByHeight", "=", "getHeight", "(", ")", "*", "DIAMETER_PERCENTUAL", ";", "float", "diameterByWidth", "=", "(", "getWidth", "(", ")", "-", "distance", "*", "<NUM_LIT:2>", ")", "/", "<NUM_LIT>", "*", "DIAMETER_PERCENTUAL", ";", "float", "diameter", "=", "Math", ".", "min", "(", "diameterByHeight", ",", "diameterByWidth", ")", ";", "float", "radius", "=", "diameter", "/", "<NUM_LIT>", ";", "int", "centerY", "=", "getHeight", "(", ")", "/", "<NUM_LIT:2>", ";", "float", "[", "]", "positionX", "=", "{", "getWidth", "(", ")", "-", "diameter", "-", "distance", "-", "diameter", "-", "distance", "-", "radius", ",", "getWidth", "(", ")", "-", "diameter", "-", "distance", "-", "radius", ",", "getWidth", "(", ")", "-", "radius", "}", ";", "semicicleRect", ".", "set", "(", "positionX", "[", "0", "]", "-", "radius", ",", "centerY", "-", "radius", ",", "positionX", "[", "0", "]", "+", "radius", ",", "centerY", "+", "radius", ")", ";", "canvas", ".", "drawArc", "(", "semicicleRect", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ",", "true", ",", "colors", "[", "0", "]", ")", ";", "canvas", ".", "drawArc", "(", "semicicleRect", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ",", "true", ",", "colors", "[", "1", "]", ")", ";", "canvas", ".", "drawLine", "(", "semicicleRect", ".", "centerX", "(", ")", ",", "semicicleRect", ".", "top", ",", "semicicleRect", ".", "centerX", "(", ")", ",", "semicicleRect", ".", "bottom", ",", "dividerPaint", ")", ";", "canvas", ".", "drawCircle", "(", "positionX", "[", "1", "]", ",", "centerY", ",", "radius", ",", "colors", "[", "<NUM_LIT:2>", "]", ")", ";", "canvas", ".", "drawCircle", "(", "positionX", "[", "<NUM_LIT:2>", "]", ",", "centerY", ",", "radius", ",", "colors", "[", "<NUM_LIT:3>", "]", ")", ";", "}", "</s>"]
["<s>", "public", "ThemedTextView", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "if", "(", "(", "(", "MainActivity", ")", "context", ")", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "setTextColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "}", "else", "if", "(", "(", "(", "MainActivity", ")", "context", ")", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "(", "(", "MainActivity", ")", "context", ")", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "setTextColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "white", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "DividerItemDecoration", "(", "Context", "context", ",", "boolean", "showtopbottomdividers", ",", "boolean", "show", ")", "{", "final", "TypedArray", "typedArray", "=", "context", ".", "obtainStyledAttributes", "(", "ATTRS", ")", ";", "mDivider", "=", "typedArray", ".", "getDrawable", "(", "0", ")", ";", "typedArray", ".", "recycle", "(", ")", ";", "this", ".", "show", "=", "show", ";", "this", ".", "showtopbottomdividers", "=", "showtopbottomdividers", ";", "leftPaddingPx", "=", "(", "int", ")", "(", "<NUM_LIT>", "*", "(", "context", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ".", "densityDpi", "/", "<NUM_LIT>", "f", ")", ")", ";", "rightPaddingPx", "=", "(", "int", ")", "(", "<NUM_LIT:16>", "*", "(", "context", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ".", "densityDpi", "/", "<NUM_LIT>", "f", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDraw", "(", "Canvas", "c", ",", "RecyclerView", "parent", ",", "RecyclerView", ".", "State", "state", ")", "{", "super", ".", "onDraw", "(", "c", ",", "parent", ",", "state", ")", ";", "if", "(", "!", "show", ")", "return", ";", "if", "(", "mDivider", "!", "=", "null", ")", "drawVertical", "(", "c", ",", "parent", ")", ";", "}", "</s>"]
["<s>", "private", "void", "drawVertical", "(", "Canvas", "c", ",", "RecyclerView", "parent", ")", "{", "final", "int", "left", "=", "parent", ".", "getPaddingLeft", "(", ")", "+", "leftPaddingPx", ";", "final", "int", "right", "=", "parent", ".", "getWidth", "(", ")", "-", "parent", ".", "getPaddingRight", "(", ")", "-", "rightPaddingPx", ";", "final", "int", "childCount", "=", "parent", ".", "getChildCount", "(", ")", ";", "for", "(", "int", "i", "=", "showtopbottomdividers", "?", "0", ":", "1", ";", "i", "<", "childCount", "-", "1", ";", "i", "+", "+", ")", "{", "final", "View", "child", "=", "parent", ".", "getChildAt", "(", "i", ")", ";", "int", "viewType", "=", "parent", ".", "getChildViewHolder", "(", "child", ")", ".", "getItemViewType", "(", ")", ";", "if", "(", "viewType", "=", "=", "RecyclerAdapter", ".", "TYPE_HEADER_FILES", "|", "|", "viewType", "=", "=", "RecyclerAdapter", ".", "TYPE_HEADER_FOLDERS", ")", "{", "continue", ";", "}", "final", "RecyclerView", ".", "LayoutParams", "params", "=", "(", "RecyclerView", ".", "LayoutParams", ")", "child", ".", "getLayoutParams", "(", ")", ";", "final", "int", "top", "=", "child", ".", "getBottom", "(", ")", "+", "params", ".", "bottomMargin", ";", "final", "int", "bottom", "=", "top", "+", "mDivider", ".", "getIntrinsicHeight", "(", ")", ";", "mDivider", ".", "setBounds", "(", "left", ",", "top", ",", "right", ",", "bottom", ")", ";", "mDivider", ".", "draw", "(", "c", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "getItemOffsets", "(", "Rect", "outRect", ",", "View", "view", ",", "RecyclerView", "parent", ",", "RecyclerView", ".", "State", "state", ")", "{", "super", ".", "getItemOffsets", "(", "outRect", ",", "view", ",", "parent", ",", "state", ")", ";", "if", "(", "parent", ".", "getChildAdapterPosition", "(", "view", ")", "=", "=", "0", ")", "{", "return", ";", "}", "outRect", ".", "top", "=", "mDivider", ".", "getIntrinsicHeight", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ScrimInsetsRelativeLayout", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "init", "(", "context", ",", "null", ",", "0", ")", ";", "}", "</s>"]
["<s>", "public", "ScrimInsetsRelativeLayout", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "init", "(", "context", ",", "attrs", ",", "0", ")", ";", "}", "</s>"]
["<s>", "public", "ScrimInsetsRelativeLayout", "(", "Context", "context", ",", "AttributeSet", "attrs", ",", "int", "defStyle", ")", "{", "super", "(", "context", ",", "attrs", ",", "defStyle", ")", ";", "init", "(", "context", ",", "attrs", ",", "defStyle", ")", ";", "}", "</s>"]
["<s>", "private", "void", "init", "(", "Context", "context", ",", "AttributeSet", "attrs", ",", "int", "defStyle", ")", "{", "final", "TypedArray", "a", "=", "context", ".", "obtainStyledAttributes", "(", "attrs", ",", "R", ".", "styleable", ".", "ScrimInsetsFrameLayout", ",", "defStyle", ",", "0", ")", ";", "if", "(", "a", "=", "=", "null", ")", "{", "return", ";", "}", "mInsetForeground", "=", "a", ".", "getDrawable", "(", "R", ".", "styleable", ".", "ScrimInsetsFrameLayout_insetForeground", ")", ";", "a", ".", "recycle", "(", ")", ";", "setWillNotDraw", "(", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "boolean", "fitSystemWindows", "(", "Rect", "insets", ")", "{", "mInsets", "=", "new", "Rect", "(", "insets", ")", ";", "setWillNotDraw", "(", "mInsetForeground", "=", "=", "null", ")", ";", "ViewCompat", ".", "postInvalidateOnAnimation", "(", "this", ")", ";", "if", "(", "mOnInsetsCallback", "!", "=", "null", ")", "{", "mOnInsetsCallback", ".", "onInsetsChanged", "(", "insets", ")", ";", "}", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "draw", "(", "Canvas", "canvas", ")", "{", "super", ".", "draw", "(", "canvas", ")", ";", "int", "width", "=", "getWidth", "(", ")", ";", "int", "height", "=", "getHeight", "(", ")", ";", "if", "(", "mInsets", "!", "=", "null", "&", "&", "mInsetForeground", "!", "=", "null", ")", "{", "int", "sc", "=", "canvas", ".", "save", "(", ")", ";", "canvas", ".", "translate", "(", "getScrollX", "(", ")", ",", "getScrollY", "(", ")", ")", ";", "mTempRect", ".", "set", "(", "0", ",", "0", ",", "width", ",", "mInsets", ".", "top", ")", ";", "mInsetForeground", ".", "setBounds", "(", "mTempRect", ")", ";", "mInsetForeground", ".", "draw", "(", "canvas", ")", ";", "mTempRect", ".", "set", "(", "0", ",", "height", "-", "mInsets", ".", "bottom", ",", "width", ",", "height", ")", ";", "mInsetForeground", ".", "setBounds", "(", "mTempRect", ")", ";", "mInsetForeground", ".", "draw", "(", "canvas", ")", ";", "mTempRect", ".", "set", "(", "0", ",", "mInsets", ".", "top", ",", "mInsets", ".", "left", ",", "height", "-", "mInsets", ".", "bottom", ")", ";", "mInsetForeground", ".", "setBounds", "(", "mTempRect", ")", ";", "mInsetForeground", ".", "draw", "(", "canvas", ")", ";", "mTempRect", ".", "set", "(", "width", "-", "mInsets", ".", "right", ",", "mInsets", ".", "top", ",", "width", ",", "height", "-", "mInsets", ".", "bottom", ")", ";", "mInsetForeground", ".", "setBounds", "(", "mTempRect", ")", ";", "mInsetForeground", ".", "draw", "(", "canvas", ")", ";", "canvas", ".", "restoreToCount", "(", "sc", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onAttachedToWindow", "(", ")", "{", "super", ".", "onAttachedToWindow", "(", ")", ";", "if", "(", "mInsetForeground", "!", "=", "null", ")", "{", "mInsetForeground", ".", "setCallback", "(", "this", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDetachedFromWindow", "(", ")", "{", "super", ".", "onDetachedFromWindow", "(", ")", ";", "if", "(", "mInsetForeground", "!", "=", "null", ")", "{", "mInsetForeground", ".", "setCallback", "(", "null", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setOnInsetsCallback", "(", "OnInsetsCallback", "onInsetsCallback", ")", "{", "mOnInsetsCallback", "=", "onInsetsCallback", ";", "}", "</s>"]
["<s>", "void", "onInsetsChanged", "(", "Rect", "insets", ")", ";", "</s>"]
["<s>", "public", "SearchView", "(", "final", "AppBar", "appbar", ",", "final", "MainActivity", "a", ",", "final", "SearchListener", "searchListener", ")", "{", "mainActivity", "=", "a", ";", "this", ".", "appbar", "=", "appbar", ";", "searchViewLayout", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "search_view", ")", ";", "searchViewEditText", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "search_edit_text", ")", ";", "clearImageView", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "search_close_btn", ")", ";", "backImageView", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "img_view_back", ")", ";", "clearImageView", ".", "setOnClickListener", "(", "v", "-", ">", "searchViewEditText", ".", "setText", "(", "\"", "\"", ")", ")", ";", "backImageView", ".", "setOnClickListener", "(", "v", "-", ">", "appbar", ".", "getSearchView", "(", ")", ".", "hideSearchView", "(", ")", ")", ";", "searchViewEditText", ".", "setOnEditorActionListener", "(", "(", "v", ",", "actionId", ",", "event", ")", "-", ">", "{", "if", "(", "actionId", "=", "=", "EditorInfo", ".", "IME_ACTION_SEARCH", ")", "{", "searchListener", ".", "onSearch", "(", "searchViewEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "appbar", ".", "getSearchView", "(", ")", ".", "hideSearchView", "(", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}", ")", ";", "}", "</s>"]
["<s>", "public", "void", "revealSearchView", "(", ")", "{", "final", "int", "START_RADIUS", "=", "<NUM_LIT:16>", ";", "int", "endRadius", "=", "Math", ".", "max", "(", "appbar", ".", "getToolbar", "(", ")", ".", "getWidth", "(", ")", ",", "appbar", ".", "getToolbar", "(", ")", ".", "getHeight", "(", ")", ")", ";", "Animator", "animator", ";", "if", "(", "SDK_INT", ">", "=", "android", ".", "os", ".", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "int", "[", "]", "searchCoords", "=", "new", "int", "[", "<NUM_LIT:2>", "]", ";", "View", "searchItem", "=", "appbar", ".", "getToolbar", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "search", ")", ";", "searchViewEditText", ".", "setText", "(", "\"", "\"", ")", ";", "searchItem", ".", "getLocationOnScreen", "(", "searchCoords", ")", ";", "animator", "=", "ViewAnimationUtils", ".", "createCircularReveal", "(", "searchViewLayout", ",", "searchCoords", "[", "0", "]", "+", "<NUM_LIT:32>", ",", "searchCoords", "[", "1", "]", "-", "<NUM_LIT:16>", ",", "START_RADIUS", ",", "endRadius", ")", ";", "}", "else", "{", "animator", "=", "ObjectAnimator", ".", "ofFloat", "(", "searchViewLayout", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ")", ";", "}", "mainActivity", ".", "showSmokeScreen", "(", ")", ";", "animator", ".", "setInterpolator", "(", "new", "AccelerateDecelerateInterpolator", "(", ")", ")", ";", "animator", ".", "setDuration", "(", "<NUM_LIT>", ")", ";", "searchViewLayout", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "animator", ".", "start", "(", ")", ";", "animator", ".", "addListener", "(", "new", "Animator", ".", "AnimatorListener", "(", ")", "{", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "}", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "searchViewEditText", ".", "requestFocus", "(", ")", ";", "InputMethodManager", "imm", "=", "(", "InputMethodManager", ")", "mainActivity", ".", "getSystemService", "(", "Context", ".", "INPUT_METHOD_SERVICE", ")", ";", "imm", ".", "showSoftInput", "(", "searchViewEditText", ",", "InputMethodManager", ".", "SHOW_IMPLICIT", ")", ";", "enabled", "=", "true", ";", "}", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "}", "@", "Override", "public", "void", "onAnimationRepeat", "(", "Animator", "animation", ")", "{", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "searchViewEditText", ".", "requestFocus", "(", ")", ";", "InputMethodManager", "imm", "=", "(", "InputMethodManager", ")", "mainActivity", ".", "getSystemService", "(", "Context", ".", "INPUT_METHOD_SERVICE", ")", ";", "imm", ".", "showSoftInput", "(", "searchViewEditText", ",", "InputMethodManager", ".", "SHOW_IMPLICIT", ")", ";", "enabled", "=", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationRepeat", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "public", "void", "hideSearchView", "(", ")", "{", "final", "int", "END_RADIUS", "=", "<NUM_LIT:16>", ";", "int", "startRadius", "=", "Math", ".", "max", "(", "searchViewLayout", ".", "getWidth", "(", ")", ",", "searchViewLayout", ".", "getHeight", "(", ")", ")", ";", "Animator", "animator", ";", "if", "(", "SDK_INT", ">", "=", "android", ".", "os", ".", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "int", "[", "]", "searchCoords", "=", "new", "int", "[", "<NUM_LIT:2>", "]", ";", "View", "searchItem", "=", "appbar", ".", "getToolbar", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "search", ")", ";", "searchViewEditText", ".", "setText", "(", "\"", "\"", ")", ";", "searchItem", ".", "getLocationOnScreen", "(", "searchCoords", ")", ";", "animator", "=", "ViewAnimationUtils", ".", "createCircularReveal", "(", "searchViewLayout", ",", "searchCoords", "[", "0", "]", "+", "<NUM_LIT:32>", ",", "searchCoords", "[", "1", "]", "-", "<NUM_LIT:16>", ",", "startRadius", ",", "END_RADIUS", ")", ";", "}", "else", "{", "animator", "=", "ObjectAnimator", ".", "ofFloat", "(", "searchViewLayout", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ")", ";", "}", "mainActivity", ".", "hideSmokeScreen", "(", ")", ";", "animator", ".", "setInterpolator", "(", "new", "AccelerateDecelerateInterpolator", "(", ")", ")", ";", "animator", ".", "setDuration", "(", "<NUM_LIT>", ")", ";", "animator", ".", "start", "(", ")", ";", "animator", ".", "addListener", "(", "new", "Animator", ".", "AnimatorListener", "(", ")", "{", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "}", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "searchViewLayout", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "enabled", "=", "false", ";", "InputMethodManager", "inputMethodManager", "=", "(", "InputMethodManager", ")", "mainActivity", ".", "getSystemService", "(", "INPUT_METHOD_SERVICE", ")", ";", "inputMethodManager", ".", "hideSoftInputFromWindow", "(", "searchViewEditText", ".", "getWindowToken", "(", ")", ",", "InputMethodManager", ".", "HIDE_IMPLICIT_ONLY", ")", ";", "}", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "}", "@", "Override", "public", "void", "onAnimationRepeat", "(", "Animator", "animation", ")", "{", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "searchViewLayout", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "enabled", "=", "false", ";", "InputMethodManager", "inputMethodManager", "=", "(", "InputMethodManager", ")", "mainActivity", ".", "getSystemService", "(", "INPUT_METHOD_SERVICE", ")", ";", "inputMethodManager", ".", "hideSoftInputFromWindow", "(", "searchViewEditText", ".", "getWindowToken", "(", ")", ",", "InputMethodManager", ".", "HIDE_IMPLICIT_ONLY", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationRepeat", "(", "Animator", "animation", ")", "{", "}", "</s>"]
["<s>", "public", "boolean", "isEnabled", "(", ")", "{", "return", "enabled", ";", "}", "</s>"]
["<s>", "public", "boolean", "isShown", "(", ")", "{", "return", "searchViewLayout", ".", "isShown", "(", ")", ";", "}", "</s>"]
["<s>", "void", "onSearch", "(", "String", "queue", ")", ";", "</s>"]
["<s>", "public", "AppBar", "(", "MainActivity", "a", ",", "SharedPreferences", "sharedPref", ",", "SearchView", ".", "SearchListener", "searchListener", ")", "{", "toolbar", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "action_bar", ")", ";", "searchView", "=", "new", "SearchView", "(", "this", ",", "a", ",", "searchListener", ")", ";", "bottomBar", "=", "new", "BottomBar", "(", "this", ",", "a", ")", ";", "appbarLayout", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "lin", ")", ";", "if", "(", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "toolbar", ".", "setElevation", "(", "0", ")", ";", "TOOLBAR_START_INSET", "=", "toolbar", ".", "getContentInsetStart", "(", ")", ";", "if", "(", "!", "sharedPref", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_INTELLI_HIDE_TOOLBAR", ",", "true", ")", ")", "{", "AppBarLayout", ".", "LayoutParams", "params", "=", "(", "AppBarLayout", ".", "LayoutParams", ")", "toolbar", ".", "getLayoutParams", "(", ")", ";", "params", ".", "setScrollFlags", "(", "0", ")", ";", "appbarLayout", ".", "setExpanded", "(", "true", ",", "true", ")", ";", "}", "}", "</s>"]
["<s>", "public", "Toolbar", "getToolbar", "(", ")", "{", "return", "toolbar", ";", "}", "</s>"]
["<s>", "public", "SearchView", "getSearchView", "(", ")", "{", "return", "searchView", ";", "}", "</s>"]
["<s>", "public", "BottomBar", "getBottomBar", "(", ")", "{", "return", "bottomBar", ";", "}", "</s>"]
["<s>", "public", "AppBarLayout", "getAppbarLayout", "(", ")", "{", "return", "appbarLayout", ";", "}", "</s>"]
["<s>", "public", "void", "setTitle", "(", "String", "title", ")", "{", "if", "(", "toolbar", "!", "=", "null", ")", "toolbar", ".", "setTitle", "(", "title", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setTitle", "(", "@", "StringRes", "int", "title", ")", "{", "if", "(", "toolbar", "!", "=", "null", ")", "toolbar", ".", "setTitle", "(", "title", ")", ";", "}", "</s>"]
["<s>", "public", "BottomBar", "(", "AppBar", "appbar", ",", "MainActivity", "a", ")", "{", "mainActivity", "=", "a", ";", "this", ".", "appbar", "=", "appbar", ";", "frame", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "buttonbarframe", ")", ";", "scroll", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "scroll", ")", ";", "buttons", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "buttons", ")", ";", "pathLayout", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "pathbar", ")", ";", "pathScroll", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "scroll1", ")", ";", "fullPathText", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "fullpath", ")", ";", "fullPathAnim", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "fullpath_anim", ")", ";", "pathText", "=", "a", ".", "findViewById", "(", "R", ".", "id", ".", "pathname", ")", ";", "scroll", ".", "setSmoothScrollingEnabled", "(", "true", ")", ";", "pathScroll", ".", "setSmoothScrollingEnabled", "(", "true", ")", ";", "buttonParams", "=", "new", "LinearLayout", ".", "LayoutParams", "(", "LinearLayout", ".", "LayoutParams", ".", "WRAP_CONTENT", ",", "ViewGroup", ".", "LayoutParams", ".", "WRAP_CONTENT", ")", ";", "buttonParams", ".", "gravity", "=", "Gravity", ".", "CENTER_VERTICAL", ";", "buttonRoot", "=", "new", "ImageButton", "(", "a", ")", ";", "buttonRoot", ".", "setBackgroundColor", "(", "Color", ".", "TRANSPARENT", ")", ";", "buttonRoot", ".", "setLayoutParams", "(", "buttonParams", ")", ";", "buttonStorage", "=", "new", "ImageButton", "(", "a", ")", ";", "buttonStorage", ".", "setImageDrawable", "(", "a", ".", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_sd_storage_white_24dp", ")", ")", ";", "buttonStorage", ".", "setBackgroundColor", "(", "Color", ".", "TRANSPARENT", ")", ";", "buttonStorage", ".", "setLayoutParams", "(", "buttonParams", ")", ";", "arrow", "=", "mainActivity", ".", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_keyboard_arrow_right_white_24dp", ")", ";", "timer", "=", "new", "CountDownTimer", "(", "<NUM_LIT>", ",", "<NUM_LIT:1000>", ")", "{", "@", "Override", "public", "void", "onTick", "(", "long", "l", ")", "{", "}", "@", "Override", "public", "void", "onFinish", "(", ")", "{", "FileUtils", ".", "crossfadeInverse", "(", "buttons", ",", "pathLayout", ")", ";", "}", "}", ";", "gestureDetector", "=", "new", "GestureDetector", "(", "a", ".", "getApplicationContext", "(", ")", ",", "new", "GestureDetector", ".", "SimpleOnGestureListener", "(", ")", "{", "@", "Override", "public", "boolean", "onDown", "(", "MotionEvent", "e", ")", "{", "return", "true", ";", "}", "@", "Override", "public", "boolean", "onSingleTapConfirmed", "(", "MotionEvent", "e", ")", "{", "Fragment", "fragmentAtFrame", "=", "mainActivity", ".", "getFragmentAtFrame", "(", ")", ";", "if", "(", "fragmentAtFrame", "instanceof", "TabFragment", ")", "{", "MainFragment", "m", "=", "mainActivity", ".", "getCurrentMainFragment", "(", ")", ";", "if", "(", "m", ".", "openMode", "=", "=", "OpenMode", ".", "FILE", ")", "{", "FileUtils", ".", "crossfade", "(", "buttons", ",", "pathLayout", ")", ";", "timer", ".", "cancel", "(", ")", ";", "timer", ".", "start", "(", ")", ";", "showButtons", "(", "m", ")", ";", "}", "}", "else", "if", "(", "fragmentAtFrame", "instanceof", "CompressedExplorerFragment", ")", "{", "FileUtils", ".", "crossfade", "(", "buttons", ",", "pathLayout", ")", ";", "timer", ".", "cancel", "(", ")", ";", "timer", ".", "start", "(", ")", ";", "showButtons", "(", "(", "BottomBarButtonPath", ")", "fragmentAtFrame", ")", ";", "}", "return", "false", ";", "}", "@", "Override", "public", "void", "onLongPress", "(", "MotionEvent", "e", ")", "{", "if", "(", "mainActivity", ".", "getBoolean", "(", "PREFERENCE_CHANGEPATHS", ")", "&", "&", "(", "!", "mainActivity", ".", "getCurrentMainFragment", "(", ")", ".", "results", "|", "|", "buttons", ".", "getVisibility", "(", ")", "=", "=", "View", ".", "VISIBLE", ")", ")", "{", "GeneralDialogCreation", ".", "showChangePathsDialog", "(", "mainActivity", ",", "mainActivity", ".", "getPrefs", "(", ")", ")", ";", "}", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onTick", "(", "long", "l", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onFinish", "(", ")", "{", "FileUtils", ".", "crossfadeInverse", "(", "buttons", ",", "pathLayout", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onDown", "(", "MotionEvent", "e", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onSingleTapConfirmed", "(", "MotionEvent", "e", ")", "{", "Fragment", "fragmentAtFrame", "=", "mainActivity", ".", "getFragmentAtFrame", "(", ")", ";", "if", "(", "fragmentAtFrame", "instanceof", "TabFragment", ")", "{", "MainFragment", "m", "=", "mainActivity", ".", "getCurrentMainFragment", "(", ")", ";", "if", "(", "m", ".", "openMode", "=", "=", "OpenMode", ".", "FILE", ")", "{", "FileUtils", ".", "crossfade", "(", "buttons", ",", "pathLayout", ")", ";", "timer", ".", "cancel", "(", ")", ";", "timer", ".", "start", "(", ")", ";", "showButtons", "(", "m", ")", ";", "}", "}", "else", "if", "(", "fragmentAtFrame", "instanceof", "CompressedExplorerFragment", ")", "{", "FileUtils", ".", "crossfade", "(", "buttons", ",", "pathLayout", ")", ";", "timer", ".", "cancel", "(", ")", ";", "timer", ".", "start", "(", ")", ";", "showButtons", "(", "(", "BottomBarButtonPath", ")", "fragmentAtFrame", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onLongPress", "(", "MotionEvent", "e", ")", "{", "if", "(", "mainActivity", ".", "getBoolean", "(", "PREFERENCE_CHANGEPATHS", ")", "&", "&", "(", "!", "mainActivity", ".", "getCurrentMainFragment", "(", ")", ".", "results", "|", "|", "buttons", ".", "getVisibility", "(", ")", "=", "=", "View", ".", "VISIBLE", ")", ")", "{", "GeneralDialogCreation", ".", "showChangePathsDialog", "(", "mainActivity", ",", "mainActivity", ".", "getPrefs", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setClickListener", "(", ")", "{", "frame", ".", "setOnTouchListener", "(", "this", ")", ";", "scroll", ".", "setOnTouchListener", "(", "this", ")", ";", "buttons", ".", "setOnTouchListener", "(", "this", ")", ";", "pathLayout", ".", "setOnTouchListener", "(", "this", ")", ";", "pathScroll", ".", "setOnTouchListener", "(", "this", ")", ";", "fullPathText", ".", "setOnTouchListener", "(", "this", ")", ";", "pathText", ".", "setOnTouchListener", "(", "this", ")", ";", "scroll", ".", "setOnTouchListener", "(", "this", ")", ";", "pathScroll", ".", "setOnTouchListener", "(", "this", ")", ";", "}", "</s>"]
["<s>", "public", "void", "resetClickListener", "(", ")", "{", "frame", ".", "setOnTouchListener", "(", "null", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setPathText", "(", "String", "text", ")", "{", "pathText", ".", "setText", "(", "text", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setFullPathText", "(", "String", "text", ")", "{", "fullPathText", ".", "setText", "(", "text", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "areButtonsShowing", "(", ")", "{", "return", "buttons", ".", "getVisibility", "(", ")", "=", "=", "View", ".", "VISIBLE", ";", "}", "</s>"]
["<s>", "public", "void", "showButtons", "(", "final", "BottomBarButtonPath", "buttonPathInterface", ")", "{", "final", "String", "path", "=", "buttonPathInterface", ".", "getPath", "(", ")", ";", "if", "(", "buttons", ".", "getVisibility", "(", ")", "=", "=", "View", ".", "VISIBLE", ")", "{", "lastUsedArrowButton", "=", "0", ";", "lastUsedFolderButton", "=", "0", ";", "buttons", ".", "removeAllViews", "(", ")", ";", "buttons", ".", "setMinimumHeight", "(", "pathLayout", ".", "getHeight", "(", ")", ")", ";", "buttonRoot", ".", "setImageDrawable", "(", "mainActivity", ".", "getResources", "(", ")", ".", "getDrawable", "(", "buttonPathInterface", ".", "getRootDrawable", "(", ")", ")", ")", ";", "buttonRoot", ".", "setOnClickListener", "(", "p1", "-", ">", "{", "buttonPathInterface", ".", "changePath", "(", "\"", "<STR_LIT:/>", "\"", ")", ";", "timer", ".", "cancel", "(", ")", ";", "timer", ".", "start", "(", ")", ";", "}", ")", ";", "String", "[", "]", "names", "=", "FileUtils", ".", "getFolderNamesInPath", "(", "path", ")", ";", "final", "String", "[", "]", "paths", "=", "FileUtils", ".", "getPathsInPath", "(", "path", ")", ";", "View", "view", "=", "new", "View", "(", "mainActivity", ")", ";", "LinearLayout", ".", "LayoutParams", "params1", "=", "new", "LinearLayout", ".", "LayoutParams", "(", "appbar", ".", "getToolbar", "(", ")", ".", "getContentInsetLeft", "(", ")", ",", "LinearLayout", ".", "LayoutParams", ".", "WRAP_CONTENT", ")", ";", "view", ".", "setLayoutParams", "(", "params1", ")", ";", "buttons", ".", "addView", "(", "view", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "names", ".", "length", ";", "i", "+", "+", ")", "{", "final", "int", "k", "=", "i", ";", "if", "(", "paths", "[", "i", "]", ".", "equals", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "{", "buttons", ".", "addView", "(", "buttonRoot", ")", ";", "}", "else", "if", "(", "FileUtils", ".", "isStorage", "(", "paths", "[", "i", "]", ")", ")", "{", "buttonStorage", ".", "setOnClickListener", "(", "p1", "-", ">", "{", "buttonPathInterface", ".", "changePath", "(", "paths", "[", "k", "]", ")", ";", "timer", ".", "cancel", "(", ")", ";", "timer", ".", "start", "(", ")", ";", "}", ")", ";", "buttons", ".", "addView", "(", "buttonStorage", ")", ";", "}", "else", "{", "Button", "button", "=", "createFolderButton", "(", "names", "[", "i", "]", ")", ";", "button", ".", "setOnClickListener", "(", "p1", "-", ">", "{", "buttonPathInterface", ".", "changePath", "(", "paths", "[", "k", "]", ")", ";", "timer", ".", "cancel", "(", ")", ";", "timer", ".", "start", "(", ")", ";", "}", ")", ";", "buttons", ".", "addView", "(", "button", ")", ";", "}", "if", "(", "names", ".", "length", "-", "i", "!", "=", "1", ")", "{", "buttons", ".", "addView", "(", "createArrow", "(", ")", ")", ";", "}", "}", "scroll", ".", "post", "(", "(", ")", "-", ">", "{", "sendScroll", "(", "scroll", ")", ";", "sendScroll", "(", "pathScroll", ")", ";", "}", ")", ";", "if", "(", "buttons", ".", "getVisibility", "(", ")", "=", "=", "View", ".", "VISIBLE", ")", "{", "timer", ".", "cancel", "(", ")", ";", "timer", ".", "start", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "ImageView", "createArrow", "(", ")", "{", "ImageView", "buttonArrow", ";", "if", "(", "lastUsedArrowButton", ">", "=", "arrowButtons", ".", "size", "(", ")", ")", "{", "buttonArrow", "=", "new", "ImageView", "(", "mainActivity", ")", ";", "buttonArrow", ".", "setImageDrawable", "(", "arrow", ")", ";", "buttonArrow", ".", "setLayoutParams", "(", "buttonParams", ")", ";", "arrowButtons", ".", "add", "(", "buttonArrow", ")", ";", "}", "else", "{", "buttonArrow", "=", "arrowButtons", ".", "get", "(", "lastUsedArrowButton", ")", ";", "}", "lastUsedArrowButton", "+", "+", ";", "return", "buttonArrow", ";", "}", "</s>"]
["<s>", "private", "Button", "createFolderButton", "(", "String", "text", ")", "{", "Button", "button", ";", "if", "(", "lastUsedFolderButton", ">", "=", "folderButtons", ".", "size", "(", ")", ")", "{", "button", "=", "new", "Button", "(", "mainActivity", ")", ";", "button", ".", "setTextColor", "(", "Utils", ".", "getColor", "(", "mainActivity", ",", "android", ".", "R", ".", "color", ".", "white", ")", ")", ";", "button", ".", "setTextSize", "(", "<NUM_LIT>", ")", ";", "button", ".", "setLayoutParams", "(", "buttonParams", ")", ";", "button", ".", "setBackgroundResource", "(", "0", ")", ";", "folderButtons", ".", "add", "(", "button", ")", ";", "}", "else", "{", "button", "=", "folderButtons", ".", "get", "(", "lastUsedFolderButton", ")", ";", "}", "button", ".", "setText", "(", "text", ")", ";", "lastUsedFolderButton", "+", "+", ";", "return", "button", ";", "}", "</s>"]
["<s>", "public", "void", "setBackgroundColor", "(", "@", "ColorInt", "int", "color", ")", "{", "frame", ".", "setBackgroundColor", "(", "color", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setVisibility", "(", "int", "visibility", ")", "{", "frame", ".", "setVisibility", "(", "visibility", ")", ";", "}", "</s>"]
["<s>", "public", "void", "updatePath", "(", "@", "NonNull", "final", "String", "news", ",", "boolean", "results", ",", "String", "query", ",", "OpenMode", "openmode", ",", "int", "folderCount", ",", "int", "fileCount", ",", "BottomBarButtonPath", "buttonPathInterface", ")", "{", "if", "(", "news", ".", "length", "(", ")", "=", "=", "0", ")", "return", ";", "MainActivityHelper", "mainActivityHelper", "=", "mainActivity", ".", "mainActivityHelper", ";", "switch", "(", "openmode", ")", "{", "case", "SFTP", ":", "newPath", "=", "mainActivityHelper", ".", "parseSftpPath", "(", "news", ")", ";", "break", ";", "case", "SMB", ":", "newPath", "=", "mainActivityHelper", ".", "parseSmbPath", "(", "news", ")", ";", "break", ";", "case", "OTG", ":", "newPath", "=", "mainActivityHelper", ".", "parseOTGPath", "(", "news", ")", ";", "break", ";", "case", "CUSTOM", ":", "newPath", "=", "mainActivityHelper", ".", "getIntegralNames", "(", "news", ")", ";", "break", ";", "case", "DROPBOX", ":", "case", "BOX", ":", "case", "ONEDRIVE", ":", "case", "GDRIVE", ":", "newPath", "=", "mainActivityHelper", ".", "parseCloudPath", "(", "openmode", ",", "news", ")", ";", "break", ";", "default", ":", "newPath", "=", "news", ";", "}", "if", "(", "!", "results", ")", "{", "pathText", ".", "setText", "(", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "folderfilecount", ",", "folderCount", ",", "fileCount", ")", ")", ";", "}", "else", "{", "fullPathText", ".", "setText", "(", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "searchresults", ",", "query", ")", ")", ";", "pathText", ".", "setText", "(", "\"", "\"", ")", ";", "return", ";", "}", "final", "String", "oldPath", "=", "fullPathText", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "if", "(", "oldPath", ".", "equals", "(", "newPath", ")", ")", "return", ";", "if", "(", "!", "areButtonsShowing", "(", ")", ")", "{", "final", "Animation", "slideIn", "=", "AnimationUtils", ".", "loadAnimation", "(", "mainActivity", ",", "R", ".", "anim", ".", "slide_in", ")", ";", "Animation", "slideOut", "=", "AnimationUtils", ".", "loadAnimation", "(", "mainActivity", ",", "R", ".", "anim", ".", "slide_out", ")", ";", "if", "(", "newPath", ".", "length", "(", ")", ">", "oldPath", ".", "length", "(", ")", "&", "&", "newPath", ".", "contains", "(", "oldPath", ")", "&", "&", "oldPath", ".", "length", "(", ")", "!", "=", "0", ")", "{", "fullPathAnim", ".", "setAnimation", "(", "slideIn", ")", ";", "fullPathAnim", ".", "animate", "(", ")", ".", "setListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationEnd", "(", "animation", ")", ";", "new", "Handler", "(", ")", ".", "postDelayed", "(", "(", ")", "-", ">", "{", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "fullPathText", ".", "setText", "(", "newPath", ")", ";", "}", ",", "PATH_ANIM_END_DELAY", ")", ";", "}", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationStart", "(", "animation", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "fullPathAnim", ".", "setText", "(", "Utils", ".", "differenceStrings", "(", "oldPath", ",", "newPath", ")", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_RIGHT", ")", ")", ";", "}", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationCancel", "(", "animation", ")", ";", "}", "}", ")", ".", "setStartDelay", "(", "PATH_ANIM_START_DELAY", ")", ".", "start", "(", ")", ";", "}", "else", "if", "(", "newPath", ".", "length", "(", ")", "<", "oldPath", ".", "length", "(", ")", "&", "&", "oldPath", ".", "contains", "(", "newPath", ")", ")", "{", "fullPathAnim", ".", "setAnimation", "(", "slideOut", ")", ";", "fullPathAnim", ".", "animate", "(", ")", ".", "setListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationEnd", "(", "animation", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "fullPathText", ".", "setText", "(", "newPath", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_RIGHT", ")", ")", ";", "}", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationStart", "(", "animation", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "fullPathAnim", ".", "setText", "(", "Utils", ".", "differenceStrings", "(", "newPath", ",", "oldPath", ")", ")", ";", "fullPathText", ".", "setText", "(", "newPath", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_LEFT", ")", ")", ";", "}", "}", ")", ".", "setStartDelay", "(", "PATH_ANIM_START_DELAY", ")", ".", "start", "(", ")", ";", "}", "else", "if", "(", "oldPath", ".", "isEmpty", "(", ")", ")", "{", "fullPathAnim", ".", "setAnimation", "(", "slideIn", ")", ";", "fullPathAnim", ".", "setText", "(", "newPath", ")", ";", "fullPathAnim", ".", "animate", "(", ")", ".", "setListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationStart", "(", "animation", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "fullPathText", ".", "setText", "(", "\"", "\"", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_RIGHT", ")", ")", ";", "}", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationEnd", "(", "animation", ")", ";", "new", "Handler", "(", ")", ".", "postDelayed", "(", "(", ")", "-", ">", "{", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "fullPathText", ".", "setText", "(", "newPath", ")", ";", "}", ",", "PATH_ANIM_END_DELAY", ")", ";", "}", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationCancel", "(", "animation", ")", ";", "}", "}", ")", ".", "setStartDelay", "(", "PATH_ANIM_START_DELAY", ")", ".", "start", "(", ")", ";", "}", "else", "{", "fullPathAnim", ".", "setAnimation", "(", "slideOut", ")", ";", "fullPathAnim", ".", "animate", "(", ")", ".", "setListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animator", ")", "{", "super", ".", "onAnimationStart", "(", "animator", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "fullPathAnim", ".", "setText", "(", "oldPath", ")", ";", "fullPathText", ".", "setText", "(", "\"", "\"", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_LEFT", ")", ")", ";", "}", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animator", ")", "{", "super", ".", "onAnimationEnd", "(", "animator", ")", ";", "fullPathAnim", ".", "setText", "(", "newPath", ")", ";", "fullPathText", ".", "setText", "(", "\"", "\"", ")", ";", "fullPathAnim", ".", "setAnimation", "(", "slideIn", ")", ";", "fullPathAnim", ".", "animate", "(", ")", ".", "setListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationEnd", "(", "animation", ")", ";", "new", "Handler", "(", ")", ".", "postDelayed", "(", "(", ")", "-", ">", "{", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "fullPathText", ".", "setText", "(", "newPath", ")", ";", "}", ",", "PATH_ANIM_END_DELAY", ")", ";", "}", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationStart", "(", "animation", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "fullPathText", ".", "setText", "(", "\"", "\"", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_RIGHT", ")", ")", ";", "}", "}", ")", ".", "start", "(", ")", ";", "}", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationCancel", "(", "animation", ")", ";", "}", "}", ")", ".", "setStartDelay", "(", "PATH_ANIM_START_DELAY", ")", ".", "start", "(", ")", ";", "}", "}", "else", "{", "showButtons", "(", "buttonPathInterface", ")", ";", "fullPathText", ".", "setText", "(", "newPath", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationEnd", "(", "animation", ")", ";", "new", "Handler", "(", ")", ".", "postDelayed", "(", "(", ")", "-", ">", "{", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "fullPathText", ".", "setText", "(", "newPath", ")", ";", "}", ",", "PATH_ANIM_END_DELAY", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationStart", "(", "animation", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "fullPathAnim", ".", "setText", "(", "Utils", ".", "differenceStrings", "(", "oldPath", ",", "newPath", ")", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_RIGHT", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationCancel", "(", "animation", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationEnd", "(", "animation", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "fullPathText", ".", "setText", "(", "newPath", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_RIGHT", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationStart", "(", "animation", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "fullPathAnim", ".", "setText", "(", "Utils", ".", "differenceStrings", "(", "newPath", ",", "oldPath", ")", ")", ";", "fullPathText", ".", "setText", "(", "newPath", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_LEFT", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationStart", "(", "animation", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "fullPathText", ".", "setText", "(", "\"", "\"", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_RIGHT", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationEnd", "(", "animation", ")", ";", "new", "Handler", "(", ")", ".", "postDelayed", "(", "(", ")", "-", ">", "{", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "fullPathText", ".", "setText", "(", "newPath", ")", ";", "}", ",", "PATH_ANIM_END_DELAY", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationCancel", "(", "animation", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animator", ")", "{", "super", ".", "onAnimationStart", "(", "animator", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "fullPathAnim", ".", "setText", "(", "oldPath", ")", ";", "fullPathText", ".", "setText", "(", "\"", "\"", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_LEFT", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animator", ")", "{", "super", ".", "onAnimationEnd", "(", "animator", ")", ";", "fullPathAnim", ".", "setText", "(", "newPath", ")", ";", "fullPathText", ".", "setText", "(", "\"", "\"", ")", ";", "fullPathAnim", ".", "setAnimation", "(", "slideIn", ")", ";", "fullPathAnim", ".", "animate", "(", ")", ".", "setListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationEnd", "(", "animation", ")", ";", "new", "Handler", "(", ")", ".", "postDelayed", "(", "(", ")", "-", ">", "{", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "fullPathText", ".", "setText", "(", "newPath", ")", ";", "}", ",", "PATH_ANIM_END_DELAY", ")", ";", "}", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationStart", "(", "animation", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "fullPathText", ".", "setText", "(", "\"", "\"", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_RIGHT", ")", ")", ";", "}", "}", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationEnd", "(", "animation", ")", ";", "new", "Handler", "(", ")", ".", "postDelayed", "(", "(", ")", "-", ">", "{", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "fullPathText", ".", "setText", "(", "newPath", ")", ";", "}", ",", "PATH_ANIM_END_DELAY", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationStart", "(", "animation", ")", ";", "fullPathAnim", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "fullPathText", ".", "setText", "(", "\"", "\"", ")", ";", "scroll", ".", "post", "(", "(", ")", "-", ">", "pathScroll", ".", "fullScroll", "(", "View", ".", "FOCUS_RIGHT", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationCancel", "(", "Animator", "animation", ")", "{", "super", ".", "onAnimationCancel", "(", "animation", ")", ";", "}", "</s>"]
["<s>", "private", "void", "sendScroll", "(", "final", "HorizontalScrollView", "scrollView", ")", "{", "new", "Handler", "(", ")", ".", "postDelayed", "(", "(", ")", "-", ">", "scrollView", ".", "fullScroll", "(", "View", ".", "FOCUS_RIGHT", ")", ",", "<NUM_LIT:100>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onTouch", "(", "View", "v", ",", "MotionEvent", "event", ")", "{", "return", "gestureDetector", ".", "onTouchEvent", "(", "event", ")", ";", "}", "</s>"]
["<s>", "public", "MenuMetadata", "(", "String", "path", ")", "{", "this", ".", "type", "=", "ITEM_ENTRY", ";", "this", ".", "path", "=", "path", ";", "this", ".", "onClickListener", "=", "null", ";", "}", "</s>"]
["<s>", "public", "MenuMetadata", "(", "OnClickListener", "onClickListener", ")", "{", "this", ".", "type", "=", "ITEM_INTENT", ";", "this", ".", "onClickListener", "=", "onClickListener", ";", "this", ".", "path", "=", "null", ";", "}", "</s>"]
["<s>", "void", "onClick", "(", ")", ";", "</s>"]
["<s>", "public", "CustomNavigationView", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "super", ".", "setNavigationItemSelectedListener", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNavigationItemSelectedListener", "(", "@", "Nullable", "OnNavigationItemSelectedListener", "listener", ")", "{", "subclassListener", "=", "listener", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onNavigationItemSelected", "(", "@", "NonNull", "MenuItem", "item", ")", "{", "if", "(", "subclassListener", "!", "=", "null", ")", "{", "boolean", "shouldBeSelected", "=", "subclassListener", ".", "onNavigationItemSelected", "(", "item", ")", ";", "if", "(", "shouldBeSelected", ")", "{", "onItemChecked", "(", "item", ")", ";", "}", "return", "shouldBeSelected", ";", "}", "else", "{", "onItemChecked", "(", "item", ")", ";", "return", "true", ";", "}", "}", "</s>"]
["<s>", "private", "void", "onItemChecked", "(", "MenuItem", "item", ")", "{", "checkedId", "=", "item", ".", "getItemId", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setCheckedItem", "(", "MenuItem", "item", ")", "{", "this", ".", "checkedId", "=", "item", ".", "getItemId", "(", ")", ";", "item", ".", "setChecked", "(", "true", ")", ";", "}", "</s>"]
["<s>", "public", "void", "deselectItems", "(", ")", "{", "checkedId", "=", "-", "1", ";", "}", "</s>"]
["<s>", "public", "@", "Nullable", "MenuItem", "getSelected", "(", ")", "{", "if", "(", "checkedId", "=", "=", "-", "1", ")", "return", "null", ";", "return", "getMenu", "(", ")", ".", "findItem", "(", "checkedId", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Parcelable", "onSaveInstanceState", "(", ")", "{", "if", "(", "!", "doesNavigationViewSavedStateExist", "(", ")", ")", "{", "return", "super", ".", "onSaveInstanceState", "(", ")", ";", "}", "Parcelable", "superState", "=", "super", ".", "onSaveInstanceState", "(", ")", ";", "SavedState", "ss", "=", "new", "SavedState", "(", "superState", ")", ";", "ss", ".", "selectedId", "=", "this", ".", "checkedId", ";", "return", "ss", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onRestoreInstanceState", "(", "Parcelable", "state", ")", "{", "if", "(", "!", "doesNavigationViewSavedStateExist", "(", ")", ")", "{", "super", ".", "onRestoreInstanceState", "(", "state", ")", ";", "return", ";", "}", "if", "(", "!", "(", "state", "instanceof", "SavedState", ")", ")", "{", "super", ".", "onRestoreInstanceState", "(", "state", ")", ";", "return", ";", "}", "SavedState", "ss", "=", "(", "SavedState", ")", "state", ";", "super", ".", "onRestoreInstanceState", "(", "ss", ".", "getSuperState", "(", ")", ")", ";", "this", ".", "checkedId", "=", "ss", ".", "selectedId", ";", "}", "</s>"]
["<s>", "public", "boolean", "doesNavigationViewSavedStateExist", "(", ")", "{", "return", "Build", ".", "VERSION", ".", "SDK_INT", "!", "=", "Build", ".", "VERSION_CODES", ".", "M", ";", "}", "</s>"]
["<s>", "SavedState", "(", "Parcelable", "superState", ")", "{", "super", "(", "superState", ")", ";", "}", "</s>"]
["<s>", "private", "SavedState", "(", "Parcel", "in", ")", "{", "super", "(", "in", ")", ";", "this", ".", "selectedId", "=", "in", ".", "readInt", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeToParcel", "(", "Parcel", "out", ",", "int", "flags", ")", "{", "super", ".", "writeToParcel", "(", "out", ",", "flags", ")", ";", "out", ".", "writeInt", "(", "this", ".", "selectedId", ")", ";", "}", "</s>"]
["<s>", "public", "SavedState", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "SavedState", "(", "in", ")", ";", "}", "</s>"]
["<s>", "public", "SavedState", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "SavedState", "[", "size", "]", ";", "}", "</s>"]
["<s>", "public", "ActionViewStateManager", "(", "NavigationView", "navView", ",", "@", "ColorInt", "int", "idleColor", ",", "@", "ColorInt", "int", "accentColor", ")", "{", "idleIconColor", "=", "idleColor", ";", "selectedIconColor", "=", "accentColor", ";", "}", "</s>"]
["<s>", "public", "void", "deselectCurrentActionView", "(", ")", "{", "if", "(", "lastItemSelected", "!", "=", "null", ")", "{", "lastItemSelected", ".", "setColorFilter", "(", "idleIconColor", ")", ";", "lastItemSelected", "=", "null", ";", "}", "}", "</s>"]
["<s>", "public", "void", "selectActionView", "(", "MenuItem", "item", ")", "{", "if", "(", "lastItemSelected", "!", "=", "null", ")", "{", "lastItemSelected", ".", "setColorFilter", "(", "idleIconColor", ")", ";", "}", "if", "(", "item", ".", "getActionView", "(", ")", "!", "=", "null", ")", "{", "lastItemSelected", "=", "(", "ImageButton", ")", "item", ".", "getActionView", "(", ")", ";", "lastItemSelected", ".", "setColorFilter", "(", "selectedIconColor", ")", ";", "}", "}", "</s>"]
["<s>", "public", "Drawer", "(", "MainActivity", "mainActivity", ")", "{", "this", ".", "mainActivity", "=", "mainActivity", ";", "resources", "=", "mainActivity", ".", "getResources", "(", ")", ";", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "drawerHeaderLayout", "=", "mainActivity", ".", "getLayoutInflater", "(", ")", ".", "inflate", "(", "R", ".", "layout", ".", "drawerheader", ",", "null", ")", ";", "drawerHeaderParent", "=", "drawerHeaderLayout", ".", "findViewById", "(", "R", ".", "id", ".", "drawer_header_parent", ")", ";", "drawerHeaderView", "=", "drawerHeaderLayout", ".", "findViewById", "(", "R", ".", "id", ".", "drawer_header", ")", ";", "drawerHeaderView", ".", "setOnLongClickListener", "(", "v", "-", ">", "{", "Intent", "intent1", ";", "if", "(", "SDK_INT", "<", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "intent1", "=", "new", "Intent", "(", ")", ";", "intent1", ".", "setAction", "(", "Intent", ".", "ACTION_GET_CONTENT", ")", ";", "}", "else", "{", "intent1", "=", "new", "Intent", "(", "Intent", ".", "ACTION_OPEN_DOCUMENT", ")", ";", "}", "intent1", ".", "addCategory", "(", "Intent", ".", "CATEGORY_OPENABLE", ")", ";", "intent1", ".", "setType", "(", "\"", "<STR_LIT>", "\"", ")", ";", "mainActivity", ".", "startActivityForResult", "(", "intent1", ",", "image_selector_request_code", ")", ";", "return", "false", ";", "}", ")", ";", "mImageLoader", "=", "AppConfig", ".", "getInstance", "(", ")", ".", "getImageLoader", "(", ")", ";", "navView", "=", "mainActivity", ".", "findViewById", "(", "R", ".", "id", ".", "navigation", ")", ";", "navView", ".", "setNavigationItemSelectedListener", "(", "this", ")", ";", "int", "accentColor", "=", "mainActivity", ".", "getAccent", "(", ")", ",", "idleColor", ";", "if", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "idleColor", "=", "mainActivity", ".", "getResources", "(", ")", ".", "getColor", "(", "R", ".", "color", ".", "item_light_theme", ")", ";", "}", "else", "{", "idleColor", "=", "Color", ".", "WHITE", ";", "}", "actionViewStateManager", "=", "new", "ActionViewStateManager", "(", "navView", ",", "idleColor", ",", "accentColor", ")", ";", "ColorStateList", "drawerColors", "=", "new", "ColorStateList", "(", "new", "int", "[", "]", "[", "]", "{", "new", "int", "[", "]", "{", "android", ".", "R", ".", "attr", ".", "state_checked", "}", ",", "new", "int", "[", "]", "{", "android", ".", "R", ".", "attr", ".", "state_enabled", "}", ",", "new", "int", "[", "]", "{", "android", ".", "R", ".", "attr", ".", "state_pressed", "}", ",", "new", "int", "[", "]", "{", "android", ".", "R", ".", "attr", ".", "state_focused", "}", ",", "new", "int", "[", "]", "{", "android", ".", "R", ".", "attr", ".", "state_pressed", "}", "}", ",", "new", "int", "[", "]", "{", "accentColor", ",", "idleColor", ",", "idleColor", ",", "idleColor", ",", "idleColor", "}", ")", ";", "navView", ".", "setItemTextColor", "(", "drawerColors", ")", ";", "navView", ".", "setItemIconTintList", "(", "drawerColors", ")", ";", "if", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", ")", "{", "navView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "mainActivity", ",", "R", ".", "color", ".", "holo_dark_background", ")", ")", ";", "}", "else", "if", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "navView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "mainActivity", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "}", "else", "{", "navView", ".", "setBackgroundColor", "(", "Color", ".", "WHITE", ")", ";", "}", "mDrawerLayout", "=", "mainActivity", ".", "findViewById", "(", "R", ".", "id", ".", "drawer_layout", ")", ";", "drawerHeaderView", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "amaze_header", ")", ";", "if", "(", "mainActivity", ".", "findViewById", "(", "R", ".", "id", ".", "tab_frame", ")", "!", "=", "null", ")", "{", "lock", "(", "DrawerLayout", ".", "LOCK_MODE_LOCKED_OPEN", ")", ";", "open", "(", ")", ";", "mDrawerLayout", ".", "setScrimColor", "(", "Color", ".", "TRANSPARENT", ")", ";", "mDrawerLayout", ".", "post", "(", "this", ":", ":", "open", ")", ";", "}", "else", "if", "(", "mainActivity", ".", "findViewById", "(", "R", ".", "id", ".", "tab_frame", ")", "=", "=", "null", ")", "{", "unlock", "(", ")", ";", "close", "(", ")", ";", "mDrawerLayout", ".", "post", "(", "this", ":", ":", "close", ")", ";", "}", "navView", ".", "addHeaderView", "(", "drawerHeaderLayout", ")", ";", "if", "(", "!", "isDrawerLocked", ")", "{", "mDrawerToggle", "=", "new", "ActionBarDrawerToggle", "(", "mainActivity", ",", "mDrawerLayout", ",", "R", ".", "drawable", ".", "ic_drawer_l", ",", "R", ".", "string", ".", "drawer_open", ",", "R", ".", "string", ".", "drawer_close", ")", "{", "public", "void", "onDrawerClosed", "(", "View", "view", ")", "{", "Drawer", ".", "this", ".", "onDrawerClosed", "(", ")", ";", "}", "public", "void", "onDrawerOpened", "(", "View", "drawerView", ")", "{", "}", "}", ";", "mDrawerLayout", ".", "setDrawerListener", "(", "mDrawerToggle", ")", ";", "mainActivity", ".", "getSupportActionBar", "(", ")", ".", "setHomeAsUpIndicator", "(", "R", ".", "drawable", ".", "ic_drawer_l", ")", ";", "mainActivity", ".", "getSupportActionBar", "(", ")", ".", "setDisplayHomeAsUpEnabled", "(", "true", ")", ";", "mainActivity", ".", "getSupportActionBar", "(", ")", ".", "setHomeButtonEnabled", "(", "true", ")", ";", "mDrawerToggle", ".", "syncState", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "onDrawerClosed", "(", "View", "view", ")", "{", "Drawer", ".", "this", ".", "onDrawerClosed", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "onDrawerOpened", "(", "View", "drawerView", ")", "{", "}", "</s>"]
["<s>", "private", "void", "setNavViewDimension", "(", "CustomNavigationView", "navView", ")", "{", "int", "screenWidth", "=", "AppConfig", ".", "getInstance", "(", ")", ".", "getScreenUtils", "(", ")", ".", "getScreenWidthInDp", "(", ")", ";", "int", "desiredWidthInDp", "=", "screenWidth", "-", "ScreenUtils", ".", "TOOLBAR_HEIGHT_IN_DP", ";", "int", "desiredWidthInPx", "=", "AppConfig", ".", "getInstance", "(", ")", ".", "getScreenUtils", "(", ")", ".", "convertDbToPx", "(", "desiredWidthInDp", ")", ";", "navView", ".", "setLayoutParams", "(", "new", "DrawerLayout", ".", "LayoutParams", "(", "desiredWidthInPx", ",", "LinearLayout", ".", "LayoutParams", ".", "MATCH_PARENT", ",", "Gravity", ".", "START", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "refreshDrawer", "(", ")", "{", "Menu", "menu", "=", "navView", ".", "getMenu", "(", ")", ";", "menu", ".", "clear", "(", ")", ";", "actionViewStateManager", ".", "deselectCurrentActionView", "(", ")", ";", "int", "order", "=", "0", ";", "ArrayList", "<", "String", ">", "storageDirectories", "=", "mainActivity", ".", "getStorageDirectories", "(", ")", ";", "phoneStorageCount", "=", "0", ";", "for", "(", "String", "file", ":", "storageDirectories", ")", "{", "if", "(", "file", ".", "contains", "(", "OTGUtil", ".", "PREFIX_OTG", ")", ")", "{", "addNewItem", "(", "menu", ",", "STORAGES_GROUP", ",", "order", "+", "+", ",", "\"", "<STR_LIT>", "\"", ",", "new", "MenuMetadata", "(", "file", ")", ",", "R", ".", "drawable", ".", "ic_usb_white_24dp", ",", "R", ".", "drawable", ".", "ic_show_chart_black_24dp", ")", ";", "continue", ";", "}", "File", "f", "=", "new", "File", "(", "file", ")", ";", "String", "name", ";", "@", "DrawableRes", "int", "icon1", ";", "if", "(", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "file", ")", "|", "|", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "file", ")", "|", "|", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "file", ")", ")", "{", "name", "=", "resources", ".", "getString", "(", "R", ".", "string", ".", "internalstorage", ")", ";", "icon1", "=", "R", ".", "drawable", ".", "ic_phone_android_white_24dp", ";", "}", "else", "if", "(", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "file", ")", ")", "{", "name", "=", "resources", ".", "getString", "(", "R", ".", "string", ".", "extstorage", ")", ";", "icon1", "=", "R", ".", "drawable", ".", "ic_sd_storage_white_24dp", ";", "}", "else", "if", "(", "\"", "<STR_LIT:/>", "\"", ".", "equals", "(", "file", ")", ")", "{", "name", "=", "resources", ".", "getString", "(", "R", ".", "string", ".", "rootdirectory", ")", ";", "icon1", "=", "R", ".", "drawable", ".", "ic_drawer_root_white", ";", "}", "else", "{", "name", "=", "f", ".", "getName", "(", ")", ";", "icon1", "=", "R", ".", "drawable", ".", "ic_sd_storage_white_24dp", ";", "}", "if", "(", "f", ".", "isDirectory", "(", ")", "|", "|", "f", ".", "canExecute", "(", ")", ")", "{", "addNewItem", "(", "menu", ",", "STORAGES_GROUP", ",", "order", "+", "+", ",", "name", ",", "new", "MenuMetadata", "(", "file", ")", ",", "icon1", ",", "R", ".", "drawable", ".", "ic_show_chart_black_24dp", ")", ";", "if", "(", "phoneStorageCount", "=", "=", "0", ")", "firstPath", "=", "file", ";", "else", "if", "(", "phoneStorageCount", "=", "=", "1", ")", "secondPath", "=", "file", ";", "phoneStorageCount", "+", "+", ";", "}", "}", "dataUtils", ".", "setStorages", "(", "storageDirectories", ")", ";", "if", "(", "dataUtils", ".", "getServers", "(", ")", ".", "size", "(", ")", ">", "0", ")", "{", "Collections", ".", "sort", "(", "dataUtils", ".", "getServers", "(", ")", ",", "new", "BookSorter", "(", ")", ")", ";", "synchronized", "(", "dataUtils", ".", "getServers", "(", ")", ")", "{", "for", "(", "String", "[", "]", "file", ":", "dataUtils", ".", "getServers", "(", ")", ")", "{", "addNewItem", "(", "menu", ",", "SERVERS_GROUP", ",", "order", "+", "+", ",", "file", "[", "0", "]", ",", "new", "MenuMetadata", "(", "file", "[", "1", "]", ")", ",", "R", ".", "drawable", ".", "ic_settings_remote_white_24dp", ",", "R", ".", "drawable", ".", "ic_edit_24dp", ")", ";", "}", "}", "}", "ArrayList", "<", "String", "[", "]", ">", "accountAuthenticationList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "if", "(", "CloudSheetFragment", ".", "isCloudProviderAvailable", "(", "mainActivity", ")", ")", "{", "for", "(", "CloudStorage", "cloudStorage", ":", "dataUtils", ".", "getAccounts", "(", ")", ")", "{", "@", "DrawableRes", "int", "deleteIcon", "=", "R", ".", "drawable", ".", "ic_delete_grey_24dp", ";", "if", "(", "cloudStorage", "instanceof", "Dropbox", ")", "{", "addNewItem", "(", "menu", ",", "CLOUDS_GROUP", ",", "order", "+", "+", ",", "CloudHandler", ".", "CLOUD_NAME_DROPBOX", ",", "new", "MenuMetadata", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", "+", "\"", "<STR_LIT:/>", "\"", ")", ",", "R", ".", "drawable", ".", "ic_dropbox_white_24dp", ",", "deleteIcon", ")", ";", "accountAuthenticationList", ".", "add", "(", "new", "String", "[", "]", "{", "CloudHandler", ".", "CLOUD_NAME_DROPBOX", ",", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", "+", "\"", "<STR_LIT:/>", "\"", ",", "}", ")", ";", "}", "else", "if", "(", "cloudStorage", "instanceof", "Box", ")", "{", "addNewItem", "(", "menu", ",", "CLOUDS_GROUP", ",", "order", "+", "+", ",", "CloudHandler", ".", "CLOUD_NAME_BOX", ",", "new", "MenuMetadata", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", "+", "\"", "<STR_LIT:/>", "\"", ")", ",", "R", ".", "drawable", ".", "ic_box_white_24dp", ",", "deleteIcon", ")", ";", "accountAuthenticationList", ".", "add", "(", "new", "String", "[", "]", "{", "CloudHandler", ".", "CLOUD_NAME_BOX", ",", "CloudHandler", ".", "CLOUD_PREFIX_BOX", "+", "\"", "<STR_LIT:/>", "\"", ",", "}", ")", ";", "}", "else", "if", "(", "cloudStorage", "instanceof", "OneDrive", ")", "{", "addNewItem", "(", "menu", ",", "CLOUDS_GROUP", ",", "order", "+", "+", ",", "CloudHandler", ".", "CLOUD_NAME_ONE_DRIVE", ",", "new", "MenuMetadata", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ")", ",", "R", ".", "drawable", ".", "ic_onedrive_white_24dp", ",", "deleteIcon", ")", ";", "accountAuthenticationList", ".", "add", "(", "new", "String", "[", "]", "{", "CloudHandler", ".", "CLOUD_NAME_ONE_DRIVE", ",", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ",", "}", ")", ";", "}", "else", "if", "(", "cloudStorage", "instanceof", "GoogleDrive", ")", "{", "addNewItem", "(", "menu", ",", "CLOUDS_GROUP", ",", "order", "+", "+", ",", "CloudHandler", ".", "CLOUD_NAME_GOOGLE_DRIVE", ",", "new", "MenuMetadata", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ")", ",", "R", ".", "drawable", ".", "ic_google_drive_white_24dp", ",", "deleteIcon", ")", ";", "accountAuthenticationList", ".", "add", "(", "new", "String", "[", "]", "{", "CloudHandler", ".", "CLOUD_NAME_GOOGLE_DRIVE", ",", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ",", "}", ")", ";", "}", "}", "Collections", ".", "sort", "(", "accountAuthenticationList", ",", "new", "BookSorter", "(", ")", ")", ";", "}", "if", "(", "mainActivity", ".", "getBoolean", "(", "PREFERENCE_SHOW_SIDEBAR_FOLDERS", ")", ")", "{", "if", "(", "dataUtils", ".", "getBooks", "(", ")", ".", "size", "(", ")", ">", "0", ")", "{", "Collections", ".", "sort", "(", "dataUtils", ".", "getBooks", "(", ")", ",", "new", "BookSorter", "(", ")", ")", ";", "synchronized", "(", "dataUtils", ".", "getBooks", "(", ")", ")", "{", "for", "(", "String", "[", "]", "file", ":", "dataUtils", ".", "getBooks", "(", ")", ")", "{", "addNewItem", "(", "menu", ",", "FOLDERS_GROUP", ",", "order", "+", "+", ",", "file", "[", "0", "]", ",", "new", "MenuMetadata", "(", "file", "[", "1", "]", ")", ",", "R", ".", "drawable", ".", "ic_folder_white_24dp", ",", "R", ".", "drawable", ".", "ic_edit_24dp", ")", ";", "}", "}", "}", "}", "Boolean", "[", "]", "quickAccessPref", "=", "TinyDB", ".", "getBooleanArray", "(", "mainActivity", ".", "getPrefs", "(", ")", ",", "QuickAccessPref", ".", "KEY", ",", "QuickAccessPref", ".", "DEFAULT", ")", ";", "if", "(", "mainActivity", ".", "getBoolean", "(", "PREFERENCE_SHOW_SIDEBAR_QUICKACCESSES", ")", ")", "{", "if", "(", "quickAccessPref", "[", "0", "]", ")", "{", "addNewItem", "(", "menu", ",", "QUICKACCESSES_GROUP", ",", "order", "+", "+", ",", "R", ".", "string", ".", "quick", ",", "new", "MenuMetadata", "(", "\"", "<STR_LIT:5>", "\"", ")", ",", "R", ".", "drawable", ".", "ic_star_white_24dp", ",", "null", ")", ";", "}", "if", "(", "quickAccessPref", "[", "1", "]", ")", "{", "addNewItem", "(", "menu", ",", "QUICKACCESSES_GROUP", ",", "order", "+", "+", ",", "R", ".", "string", ".", "recent", ",", "new", "MenuMetadata", "(", "\"", "<STR_LIT:6>", "\"", ")", ",", "R", ".", "drawable", ".", "ic_history_white_24dp", ",", "null", ")", ";", "}", "if", "(", "quickAccessPref", "[", "<NUM_LIT:2>", "]", ")", "{", "addNewItem", "(", "menu", ",", "QUICKACCESSES_GROUP", ",", "order", "+", "+", ",", "R", ".", "string", ".", "images", ",", "new", "MenuMetadata", "(", "\"", "<STR_LIT:0>", "\"", ")", ",", "R", ".", "drawable", ".", "ic_photo_library_white_24dp", ",", "null", ")", ";", "}", "if", "(", "quickAccessPref", "[", "<NUM_LIT:3>", "]", ")", "{", "addNewItem", "(", "menu", ",", "QUICKACCESSES_GROUP", ",", "order", "+", "+", ",", "R", ".", "string", ".", "videos", ",", "new", "MenuMetadata", "(", "\"", "<STR_LIT:1>", "\"", ")", ",", "R", ".", "drawable", ".", "ic_video_library_white_24dp", ",", "null", ")", ";", "}", "if", "(", "quickAccessPref", "[", "<NUM_LIT:4>", "]", ")", "{", "addNewItem", "(", "menu", ",", "QUICKACCESSES_GROUP", ",", "order", "+", "+", ",", "R", ".", "string", ".", "audio", ",", "new", "MenuMetadata", "(", "\"", "<STR_LIT:2>", "\"", ")", ",", "R", ".", "drawable", ".", "ic_library_music_white_24dp", ",", "null", ")", ";", "}", "if", "(", "quickAccessPref", "[", "<NUM_LIT:5>", "]", ")", "{", "addNewItem", "(", "menu", ",", "QUICKACCESSES_GROUP", ",", "order", "+", "+", ",", "R", ".", "string", ".", "documents", ",", "new", "MenuMetadata", "(", "\"", "<STR_LIT:3>", "\"", ")", ",", "R", ".", "drawable", ".", "ic_library_books_white_24dp", ",", "null", ")", ";", "}", "if", "(", "quickAccessPref", "[", "<NUM_LIT:6>", "]", ")", "{", "addNewItem", "(", "menu", ",", "QUICKACCESSES_GROUP", ",", "order", "+", "+", ",", "R", ".", "string", ".", "apks", ",", "new", "MenuMetadata", "(", "\"", "<STR_LIT:4>", "\"", ")", ",", "R", ".", "drawable", ".", "ic_apk_library_white_24dp", ",", "null", ")", ";", "}", "}", "addNewItem", "(", "menu", ",", "LASTGROUP", ",", "order", "+", "+", ",", "R", ".", "string", ".", "ftp", ",", "new", "MenuMetadata", "(", "(", ")", "-", ">", "{", "FragmentTransaction", "transaction2", "=", "mainActivity", ".", "getSupportFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ";", "transaction2", ".", "replace", "(", "R", ".", "id", ".", "content_frame", ",", "new", "FtpServerFragment", "(", ")", ")", ";", "mainActivity", ".", "getAppbar", "(", ")", ".", "getAppbarLayout", "(", ")", ".", "animate", "(", ")", ".", "translationY", "(", "0", ")", ".", "setInterpolator", "(", "new", "DecelerateInterpolator", "(", "<NUM_LIT:2>", ")", ")", ".", "start", "(", ")", ";", "pending_fragmentTransaction", "=", "transaction2", ";", "if", "(", "!", "isDrawerLocked", ")", "close", "(", ")", ";", "else", "onDrawerClosed", "(", ")", ";", "}", ")", ",", "R", ".", "drawable", ".", "ic_ftp_white_24dp", ",", "null", ")", ";", "addNewItem", "(", "menu", ",", "LASTGROUP", ",", "order", "+", "+", ",", "R", ".", "string", ".", "apps", ",", "new", "MenuMetadata", "(", "(", ")", "-", ">", "{", "FragmentTransaction", "transaction2", "=", "mainActivity", ".", "getSupportFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ";", "transaction2", ".", "replace", "(", "R", ".", "id", ".", "content_frame", ",", "new", "AppsListFragment", "(", ")", ")", ";", "mainActivity", ".", "getAppbar", "(", ")", ".", "getAppbarLayout", "(", ")", ".", "animate", "(", ")", ".", "translationY", "(", "0", ")", ".", "setInterpolator", "(", "new", "DecelerateInterpolator", "(", "<NUM_LIT:2>", ")", ")", ".", "start", "(", ")", ";", "pending_fragmentTransaction", "=", "transaction2", ";", "if", "(", "!", "isDrawerLocked", ")", "close", "(", ")", ";", "else", "onDrawerClosed", "(", ")", ";", "}", ")", ",", "R", ".", "drawable", ".", "ic_android_white_24dp", ",", "null", ")", ";", "addNewItem", "(", "menu", ",", "LASTGROUP", ",", "order", "+", "+", ",", "R", ".", "string", ".", "setting", ",", "new", "MenuMetadata", "(", "(", ")", "-", ">", "{", "Intent", "in", "=", "new", "Intent", "(", "mainActivity", ",", "PreferencesActivity", ".", "class", ")", ";", "mainActivity", ".", "startActivity", "(", "in", ")", ";", "mainActivity", ".", "finish", "(", ")", ";", "}", ")", ",", "R", ".", "drawable", ".", "ic_settings_white_24dp", ",", "null", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "navView", ".", "getMenu", "(", ")", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "navView", ".", "getMenu", "(", ")", ".", "getItem", "(", "i", ")", ".", "setEnabled", "(", "true", ")", ";", "}", "for", "(", "int", "group", ":", "GROUPS", ")", "{", "menu", ".", "setGroupCheckable", "(", "group", ",", "true", ",", "true", ")", ";", "}", "MenuItem", "item", "=", "navView", ".", "getSelected", "(", ")", ";", "if", "(", "item", "!", "=", "null", ")", "{", "item", ".", "setChecked", "(", "true", ")", ";", "actionViewStateManager", ".", "selectActionView", "(", "item", ")", ";", "isSomethingSelected", "=", "true", ";", "}", "}", "</s>"]
["<s>", "private", "void", "addNewItem", "(", "Menu", "menu", ",", "int", "group", ",", "int", "order", ",", "@", "StringRes", "int", "text", ",", "MenuMetadata", "meta", ",", "@", "DrawableRes", "int", "icon", ",", "@", "DrawableRes", "Integer", "actionViewIcon", ")", "{", "if", "(", "BuildConfig", ".", "DEBUG", "&", "&", "menu", ".", "findItem", "(", "order", ")", "!", "=", "null", ")", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", "+", "order", ")", ";", "MenuItem", "item", "=", "menu", ".", "add", "(", "group", ",", "order", ",", "order", ",", "text", ")", ".", "setIcon", "(", "icon", ")", ";", "dataUtils", ".", "putDrawerMetadata", "(", "item", ",", "meta", ")", ";", "if", "(", "actionViewIcon", "!", "=", "null", ")", "{", "item", ".", "setActionView", "(", "R", ".", "layout", ".", "layout_draweractionview", ")", ";", "ImageView", "imageView", "=", "item", ".", "getActionView", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "imageButton", ")", ";", "imageView", ".", "setImageResource", "(", "actionViewIcon", ")", ";", "if", "(", "!", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "imageView", ".", "setColorFilter", "(", "Color", ".", "WHITE", ")", ";", "}", "item", ".", "getActionView", "(", ")", ".", "setOnClickListener", "(", "(", "view", ")", "-", ">", "onNavigationItemActionClick", "(", "item", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "addNewItem", "(", "Menu", "menu", ",", "int", "group", ",", "int", "order", ",", "String", "text", ",", "MenuMetadata", "meta", ",", "@", "DrawableRes", "int", "icon", ",", "@", "DrawableRes", "Integer", "actionViewIcon", ")", "{", "if", "(", "BuildConfig", ".", "DEBUG", "&", "&", "menu", ".", "findItem", "(", "order", ")", "!", "=", "null", ")", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", "+", "order", ")", ";", "MenuItem", "item", "=", "menu", ".", "add", "(", "group", ",", "order", ",", "order", ",", "text", ")", ".", "setIcon", "(", "icon", ")", ";", "dataUtils", ".", "putDrawerMetadata", "(", "item", ",", "meta", ")", ";", "if", "(", "actionViewIcon", "!", "=", "null", ")", "{", "item", ".", "setActionView", "(", "R", ".", "layout", ".", "layout_draweractionview", ")", ";", "ImageView", "imageView", "=", "item", ".", "getActionView", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "imageButton", ")", ";", "imageView", ".", "setImageResource", "(", "actionViewIcon", ")", ";", "if", "(", "!", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "imageView", ".", "setColorFilter", "(", "Color", ".", "WHITE", ")", ";", "}", "item", ".", "getActionView", "(", ")", ".", "setOnClickListener", "(", "(", "view", ")", "-", ">", "onNavigationItemActionClick", "(", "item", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "onActivityResult", "(", "int", "requestCode", ",", "int", "responseCode", ",", "Intent", "intent", ")", "{", "if", "(", "mainActivity", ".", "getPrefs", "(", ")", "!", "=", "null", "&", "&", "intent", "!", "=", "null", "&", "&", "intent", ".", "getData", "(", ")", "!", "=", "null", ")", "{", "if", "(", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "mainActivity", ".", "getContentResolver", "(", ")", ".", "takePersistableUriPermission", "(", "intent", ".", "getData", "(", ")", ",", "Intent", ".", "FLAG_GRANT_READ_URI_PERMISSION", ")", ";", "}", "mainActivity", ".", "getPrefs", "(", ")", ".", "edit", "(", ")", ".", "putString", "(", "PreferencesConstants", ".", "PREFERENCE_DRAWER_HEADER_PATH", ",", "intent", ".", "getData", "(", ")", ".", "toString", "(", ")", ")", ".", "commit", "(", ")", ";", "setDrawerHeaderBackground", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "closeIfNotLocked", "(", ")", "{", "if", "(", "!", "isLocked", "(", ")", ")", "{", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "boolean", "isLocked", "(", ")", "{", "return", "isDrawerLocked", ";", "}", "</s>"]
["<s>", "public", "boolean", "isOpen", "(", ")", "{", "return", "mDrawerLayout", ".", "isDrawerOpen", "(", "navView", ")", ";", "}", "</s>"]
["<s>", "public", "void", "open", "(", ")", "{", "mDrawerLayout", ".", "openDrawer", "(", "navView", ")", ";", "}", "</s>"]
["<s>", "public", "void", "close", "(", ")", "{", "mDrawerLayout", ".", "closeDrawer", "(", "navView", ")", ";", "}", "</s>"]
["<s>", "public", "void", "onDrawerClosed", "(", ")", "{", "if", "(", "pending_fragmentTransaction", "!", "=", "null", ")", "{", "pending_fragmentTransaction", ".", "commit", "(", ")", ";", "pending_fragmentTransaction", "=", "null", ";", "}", "if", "(", "pendingPath", "!", "=", "null", ")", "{", "HybridFile", "hFile", "=", "new", "HybridFile", "(", "OpenMode", ".", "UNKNOWN", ",", "pendingPath", ")", ";", "hFile", ".", "generateMode", "(", "mainActivity", ")", ";", "if", "(", "hFile", ".", "isSimpleFile", "(", ")", ")", "{", "FileUtils", ".", "openFile", "(", "new", "File", "(", "pendingPath", ")", ",", "mainActivity", ",", "mainActivity", ".", "getPrefs", "(", ")", ")", ";", "pendingPath", "=", "null", ";", "return", ";", "}", "MainFragment", "mainFrag", "=", "mainActivity", ".", "getCurrentMainFragment", "(", ")", ";", "if", "(", "mainFrag", "!", "=", "null", ")", "{", "mainFrag", ".", "loadlist", "(", "pendingPath", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "}", "else", "{", "mainActivity", ".", "goToMain", "(", "pendingPath", ")", ";", "return", ";", "}", "pendingPath", "=", "null", ";", "}", "mainActivity", ".", "supportInvalidateOptionsMenu", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onNavigationItemSelected", "(", "@", "NonNull", "MenuItem", "item", ")", "{", "actionViewStateManager", ".", "deselectCurrentActionView", "(", ")", ";", "actionViewStateManager", ".", "selectActionView", "(", "item", ")", ";", "isSomethingSelected", "=", "true", ";", "String", "title", "=", "item", ".", "getTitle", "(", ")", ".", "toString", "(", ")", ";", "MenuMetadata", "meta", "=", "dataUtils", ".", "getDrawerMetadata", "(", "item", ")", ";", "switch", "(", "meta", ".", "type", ")", "{", "case", "MenuMetadata", ".", "ITEM_ENTRY", ":", "if", "(", "dataUtils", ".", "containsBooks", "(", "new", "String", "[", "]", "{", "title", ",", "meta", ".", "path", "}", ")", "!", "=", "-", "1", ")", "{", "FileUtils", ".", "checkForPath", "(", "mainActivity", ",", "meta", ".", "path", ",", "mainActivity", ".", "isRootExplorer", "(", ")", ")", ";", "}", "if", "(", "dataUtils", ".", "getAccounts", "(", ")", ".", "size", "(", ")", ">", "0", "&", "&", "(", "meta", ".", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", ")", "|", "|", "meta", ".", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", ")", "|", "|", "meta", ".", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", ")", "|", "|", "meta", ".", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", ")", ")", ")", "{", "CloudUtil", ".", "checkToken", "(", "meta", ".", "path", ",", "mainActivity", ")", ";", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", "&", "&", "meta", ".", "path", ".", "contains", "(", "OTGUtil", ".", "PREFIX_OTG", ")", "&", "&", "SingletonUsbOtg", ".", "getInstance", "(", ")", ".", "getUsbOtgRoot", "(", ")", "=", "=", "null", ")", "{", "MaterialDialog", "dialog", "=", "GeneralDialogCreation", ".", "showOtgSafExplanationDialog", "(", "mainActivity", ")", ";", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setOnClickListener", "(", "(", "v", ")", "-", ">", "{", "SingletonUsbOtg", ".", "getInstance", "(", ")", ".", "setHasRootBeenRequested", "(", "true", ")", ";", "Intent", "safIntent", "=", "new", "Intent", "(", "Intent", ".", "ACTION_OPEN_DOCUMENT_TREE", ")", ";", "mainActivity", ".", "startActivityForResult", "(", "safIntent", ",", "MainActivity", ".", "REQUEST_CODE_SAF", ")", ";", "dialog", ".", "dismiss", "(", ")", ";", "}", ")", ";", "dialog", ".", "show", "(", ")", ";", "}", "else", "{", "pendingPath", "=", "meta", ".", "path", ";", "closeIfNotLocked", "(", ")", ";", "if", "(", "isLocked", "(", ")", ")", "{", "onDrawerClosed", "(", ")", ";", "}", "}", "break", ";", "case", "MenuMetadata", ".", "ITEM_INTENT", ":", "meta", ".", "onClickListener", ".", "onClick", "(", ")", ";", "break", ";", "}", "return", "true", ";", "}", "</s>"]
["<s>", "public", "void", "onNavigationItemActionClick", "(", "MenuItem", "item", ")", "{", "String", "title", "=", "item", ".", "getTitle", "(", ")", ".", "toString", "(", ")", ";", "MenuMetadata", "meta", "=", "dataUtils", ".", "getDrawerMetadata", "(", "item", ")", ";", "String", "path", "=", "meta", ".", "path", ";", "switch", "(", "item", ".", "getGroupId", "(", ")", ")", "{", "case", "STORAGES_GROUP", ":", "if", "(", "!", "path", ".", "equals", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "{", "GeneralDialogCreation", ".", "showPropertiesDialogForStorage", "(", "RootHelper", ".", "generateBaseFile", "(", "new", "File", "(", "path", ")", ",", "true", ")", ",", "mainActivity", ",", "mainActivity", ".", "getAppTheme", "(", ")", ")", ";", "}", "break", ";", "case", "SERVERS_GROUP", ":", "case", "CLOUDS_GROUP", ":", "case", "FOLDERS_GROUP", ":", "if", "(", "dataUtils", ".", "containsBooks", "(", "new", "String", "[", "]", "{", "title", ",", "path", "}", ")", "!", "=", "-", "1", ")", "{", "mainActivity", ".", "renameBookmark", "(", "title", ",", "path", ")", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "mainActivity", ".", "showSMBDialog", "(", "title", ",", "path", ",", "true", ")", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "mainActivity", ".", "showSftpDialog", "(", "title", ",", "path", ",", "true", ")", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", ")", ")", "{", "GeneralDialogCreation", ".", "showCloudDialog", "(", "mainActivity", ",", "mainActivity", ".", "getAppTheme", "(", ")", ",", "OpenMode", ".", "DROPBOX", ")", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", ")", ")", "{", "GeneralDialogCreation", ".", "showCloudDialog", "(", "mainActivity", ",", "mainActivity", ".", "getAppTheme", "(", ")", ",", "OpenMode", ".", "GDRIVE", ")", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", ")", ")", "{", "GeneralDialogCreation", ".", "showCloudDialog", "(", "mainActivity", ",", "mainActivity", ".", "getAppTheme", "(", ")", ",", "OpenMode", ".", "BOX", ")", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", ")", ")", "{", "GeneralDialogCreation", ".", "showCloudDialog", "(", "mainActivity", ",", "mainActivity", ".", "getAppTheme", "(", ")", ",", "OpenMode", ".", "ONEDRIVE", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "boolean", "isSomethingSelected", "(", ")", "{", "return", "isSomethingSelected", ";", "}", "</s>"]
["<s>", "public", "void", "setSomethingSelected", "(", "boolean", "isSelected", ")", "{", "isSomethingSelected", "=", "isSelected", ";", "}", "</s>"]
["<s>", "public", "int", "getPhoneStorageCount", "(", ")", "{", "return", "phoneStorageCount", ";", "}", "</s>"]
["<s>", "public", "void", "setDrawerHeaderBackground", "(", ")", "{", "String", "path1", "=", "mainActivity", ".", "getPrefs", "(", ")", ".", "getString", "(", "PreferencesConstants", ".", "PREFERENCE_DRAWER_HEADER_PATH", ",", "null", ")", ";", "if", "(", "path1", "=", "=", "null", ")", "{", "return", ";", "}", "try", "{", "final", "ImageView", "headerImageView", "=", "new", "ImageView", "(", "mainActivity", ")", ";", "headerImageView", ".", "setImageDrawable", "(", "drawerHeaderParent", ".", "getBackground", "(", ")", ")", ";", "mImageLoader", ".", "get", "(", "path1", ",", "new", "ImageLoader", ".", "ImageListener", "(", ")", "{", "@", "Override", "public", "void", "onResponse", "(", "ImageLoader", ".", "ImageContainer", "response", ",", "boolean", "isImmediate", ")", "{", "headerImageView", ".", "setImageBitmap", "(", "response", ".", "getBitmap", "(", ")", ")", ";", "drawerHeaderView", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "amaze_header_2", ")", ";", "}", "@", "Override", "public", "void", "onErrorResponse", "(", "VolleyError", "error", ")", "{", "}", "}", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onResponse", "(", "ImageLoader", ".", "ImageContainer", "response", ",", "boolean", "isImmediate", ")", "{", "headerImageView", ".", "setImageBitmap", "(", "response", ".", "getBitmap", "(", ")", ")", ";", "drawerHeaderView", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "amaze_header_2", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onErrorResponse", "(", "VolleyError", "error", ")", "{", "}", "</s>"]
["<s>", "public", "void", "selectCorrectDrawerItemForPath", "(", "final", "String", "path", ")", "{", "Integer", "id", "=", "dataUtils", ".", "findLongestContainingDrawerItem", "(", "path", ")", ";", "if", "(", "id", "=", "=", "null", ")", "deselectEverything", "(", ")", ";", "else", "{", "MenuItem", "item", "=", "navView", ".", "getMenu", "(", ")", ".", "findItem", "(", "id", ")", ";", "navView", ".", "setCheckedItem", "(", "item", ")", ";", "actionViewStateManager", ".", "selectActionView", "(", "item", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setBackgroundColor", "(", "@", "ColorInt", "int", "color", ")", "{", "mDrawerLayout", ".", "setStatusBarBackgroundColor", "(", "color", ")", ";", "drawerHeaderParent", ".", "setBackgroundColor", "(", "color", ")", ";", "}", "</s>"]
["<s>", "public", "void", "resetPendingPath", "(", ")", "{", "pendingPath", "=", "null", ";", "}", "</s>"]
["<s>", "public", "void", "syncState", "(", ")", "{", "if", "(", "mDrawerToggle", "!", "=", "null", ")", "{", "mDrawerToggle", ".", "syncState", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "onConfigurationChanged", "(", "Configuration", "newConfig", ")", "{", "if", "(", "mDrawerToggle", "!", "=", "null", ")", "mDrawerToggle", ".", "onConfigurationChanged", "(", "newConfig", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "onOptionsItemSelected", "(", "MenuItem", "item", ")", "{", "return", "mDrawerToggle", "!", "=", "null", "&", "&", "mDrawerToggle", ".", "onOptionsItemSelected", "(", "item", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setDrawerIndicatorEnabled", "(", ")", "{", "if", "(", "mDrawerToggle", "!", "=", "null", ")", "{", "mDrawerToggle", ".", "setDrawerIndicatorEnabled", "(", "true", ")", ";", "mDrawerToggle", ".", "setHomeAsUpIndicator", "(", "R", ".", "drawable", ".", "ic_drawer_l", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "deselectEverything", "(", ")", "{", "actionViewStateManager", ".", "deselectCurrentActionView", "(", ")", ";", "if", "(", "!", "isSomethingSelected", ")", "{", "return", ";", "}", "navView", ".", "deselectItems", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "navView", ".", "getMenu", "(", ")", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "navView", ".", "getMenu", "(", ")", ".", "getItem", "(", "i", ")", ".", "setChecked", "(", "false", ")", ";", "}", "isSomethingSelected", "=", "false", ";", "}", "</s>"]
["<s>", "public", "void", "lock", "(", "int", "mode", ")", "{", "mDrawerLayout", ".", "setDrawerLockMode", "(", "mode", ",", "navView", ")", ";", "isDrawerLocked", "=", "true", ";", "}", "</s>"]
["<s>", "public", "void", "unlock", "(", ")", "{", "mDrawerLayout", ".", "setDrawerLockMode", "(", "DrawerLayout", ".", "LOCK_MODE_UNLOCKED", ",", "navView", ")", ";", "isDrawerLocked", "=", "false", ";", "}", "</s>"]
["<s>", "public", "String", "getFirstPath", "(", ")", "{", "return", "firstPath", ";", "}", "</s>"]
["<s>", "public", "String", "getSecondPath", "(", ")", "{", "return", "secondPath", ";", "}", "</s>"]
["<s>", "public", "CheckBox", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onBindView", "(", "View", "view", ")", "{", "clearListenerInViewGroup", "(", "(", "ViewGroup", ")", "view", ")", ";", "super", ".", "onBindView", "(", "view", ")", ";", "}", "</s>"]
["<s>", "private", "void", "clearListenerInViewGroup", "(", "ViewGroup", "viewGroup", ")", "{", "if", "(", "null", "=", "=", "viewGroup", ")", "{", "return", ";", "}", "int", "count", "=", "viewGroup", ".", "getChildCount", "(", ")", ";", "for", "(", "int", "n", "=", "0", ";", "n", "<", "count", ";", "+", "+", "n", ")", "{", "View", "childView", "=", "viewGroup", ".", "getChildAt", "(", "n", ")", ";", "if", "(", "childView", "instanceof", "Switch", ")", "{", "final", "Switch", "switchView", "=", "(", "Switch", ")", "childView", ";", "switchView", ".", "setOnCheckedChangeListener", "(", "null", ")", ";", "return", ";", "}", "else", "if", "(", "childView", "instanceof", "ViewGroup", ")", "{", "ViewGroup", "childGroup", "=", "(", "ViewGroup", ")", "childView", ";", "clearListenerInViewGroup", "(", "childGroup", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "SelectedColorsPreference", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "View", "onCreateView", "(", "ViewGroup", "parent", ")", "{", "setWidgetLayoutResource", "(", "R", ".", "layout", ".", "selectedcolors_preference", ")", ";", "return", "super", ".", "onCreateView", "(", "parent", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressLint", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "protected", "void", "onBindView", "(", "View", "view", ")", "{", "super", ".", "onBindView", "(", "view", ")", ";", "CircularColorsView", "colorsView", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "colorsection", ")", ";", "colorsView", ".", "setColors", "(", "colors", "[", "0", "]", ",", "colors", "[", "1", "]", ",", "colors", "[", "<NUM_LIT:2>", "]", ",", "colors", "[", "<NUM_LIT:3>", "]", ")", ";", "colorsView", ".", "setDividerColor", "(", "backgroundColor", ")", ";", "colorsView", ".", "setVisibility", "(", "visibility", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setColorsVisibility", "(", "int", "visibility", ")", "{", "this", ".", "visibility", "=", "visibility", ";", "notifyChanged", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setDividerColor", "(", "int", "color", ")", "{", "backgroundColor", "=", "color", ";", "}", "</s>"]
["<s>", "public", "void", "setColors", "(", "int", "color", ",", "int", "color1", ",", "int", "color2", ",", "int", "color3", ")", "{", "colors", "=", "new", "int", "[", "]", "{", "color", ",", "color1", ",", "color2", ",", "color3", "}", ";", "notifyChanged", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "invalidateColors", "(", ")", "{", "notifyChanged", "(", ")", ";", "}", "</s>"]
["<s>", "public", "InvalidablePreferenceCategory", "(", "Context", "context", ",", "AttributeSet", "attrs", ")", "{", "super", "(", "context", ",", "attrs", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onBindView", "(", "View", "view", ")", "{", "super", ".", "onBindView", "(", "view", ")", ";", "AppCompatTextView", "title", "=", "view", ".", "findViewById", "(", "android", ".", "R", ".", "id", ".", "title", ")", ";", "title", ".", "setTextColor", "(", "titleColor", ")", ";", "}", "</s>"]
["<s>", "public", "void", "invalidate", "(", "@", "ColorInt", "int", "accentColor", ")", "{", "titleColor", "=", "PreferenceUtils", ".", "getStatusColor", "(", "accentColor", ")", ";", "notifyChanged", "(", ")", ";", "}", "</s>"]
["<s>", "public", "PathSwitchPreference", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "View", "onCreateView", "(", "ViewGroup", "parent", ")", "{", "setWidgetLayoutResource", "(", "R", ".", "layout", ".", "namepathswitch_preference", ")", ";", "return", "super", ".", "onCreateView", "(", "parent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onBindView", "(", "View", "view", ")", "{", "setListener", "(", "view", ",", "R", ".", "id", ".", "edit", ",", "EDIT", ")", ";", "setListener", "(", "view", ",", "R", ".", "id", ".", "delete", ",", "DELETE", ")", ";", "view", ".", "setOnClickListener", "(", "null", ")", ";", "super", ".", "onBindView", "(", "view", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getLastItemClicked", "(", ")", "{", "return", "lastItemClicked", ";", "}", "</s>"]
["<s>", "private", "View", ".", "OnClickListener", "setListener", "(", "final", "View", "v", ",", "@", "IdRes", "int", "id", ",", "final", "int", "elem", ")", "{", "final", "PathSwitchPreference", "t", "=", "this", ";", "View", ".", "OnClickListener", "l", "=", "view", "-", ">", "{", "lastItemClicked", "=", "elem", ";", "getOnPreferenceClickListener", "(", ")", ".", "onPreferenceClick", "(", "t", ")", ";", "}", ";", "v", ".", "findViewById", "(", "id", ")", ".", "setOnClickListener", "(", "l", ")", ";", "return", "l", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "switch", "(", "intent", ".", "getAction", "(", ")", ")", "{", "case", "FtpService", ".", "ACTION_STARTED", ":", "createNotification", "(", "context", ",", "intent", ".", "getBooleanExtra", "(", "FtpService", ".", "TAG_STARTED_BY_TILE", ",", "false", ")", ")", ";", "break", ";", "case", "FtpService", ".", "ACTION_STOPPED", ":", "removeNotification", "(", "context", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "private", "void", "createNotification", "(", "Context", "context", ",", "boolean", "noStopButton", ")", "{", "String", "notificationService", "=", "Context", ".", "NOTIFICATION_SERVICE", ";", "NotificationManager", "notificationManager", "=", "(", "NotificationManager", ")", "context", ".", "getSystemService", "(", "notificationService", ")", ";", "SharedPreferences", "sharedPreferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "context", ")", ";", "int", "port", "=", "sharedPreferences", ".", "getInt", "(", "FtpService", ".", "PORT_PREFERENCE_KEY", ",", "FtpService", ".", "DEFAULT_PORT", ")", ";", "boolean", "secureConnection", "=", "sharedPreferences", ".", "getBoolean", "(", "FtpService", ".", "KEY_PREFERENCE_SECURE", ",", "FtpService", ".", "DEFAULT_SECURE", ")", ";", "InetAddress", "address", "=", "FtpService", ".", "getLocalInetAddress", "(", "context", ")", ";", "String", "iptext", "=", "(", "secureConnection", "?", "FtpService", ".", "INITIALS_HOST_SFTP", ":", "FtpService", ".", "INITIALS_HOST_FTP", ")", "+", "address", ".", "getHostAddress", "(", ")", "+", "\"", "<STR_LIT::>", "\"", "+", "port", "+", "\"", "<STR_LIT:/>", "\"", ";", "int", "icon", "=", "R", ".", "drawable", ".", "ic_ftp_light", ";", "CharSequence", "tickerText", "=", "context", ".", "getString", "(", "R", ".", "string", ".", "ftp_notif_starting", ")", ";", "long", "when", "=", "System", ".", "currentTimeMillis", "(", ")", ";", "CharSequence", "contentTitle", "=", "context", ".", "getString", "(", "R", ".", "string", ".", "ftp_notif_title", ")", ";", "CharSequence", "contentText", "=", "String", ".", "format", "(", "context", ".", "getString", "(", "R", ".", "string", ".", "ftp_notif_text", ")", ",", "iptext", ")", ";", "Intent", "notificationIntent", "=", "new", "Intent", "(", "context", ",", "MainActivity", ".", "class", ")", ";", "notificationIntent", ".", "setFlags", "(", "Intent", ".", "FLAG_ACTIVITY_CLEAR_TOP", "|", "Intent", ".", "FLAG_ACTIVITY_SINGLE_TOP", ")", ";", "PendingIntent", "contentIntent", "=", "PendingIntent", ".", "getActivity", "(", "context", ",", "0", ",", "notificationIntent", ",", "0", ")", ";", "NotificationCompat", ".", "Builder", "notificationBuilder", "=", "new", "NotificationCompat", ".", "Builder", "(", "context", ",", "NotificationConstants", ".", "CHANNEL_FTP_ID", ")", ".", "setContentTitle", "(", "contentTitle", ")", ".", "setContentText", "(", "contentText", ")", ".", "setContentIntent", "(", "contentIntent", ")", ".", "setSmallIcon", "(", "icon", ")", ".", "setTicker", "(", "tickerText", ")", ".", "setWhen", "(", "when", ")", ".", "setOngoing", "(", "true", ")", ";", "NotificationConstants", ".", "setMetadata", "(", "context", ",", "notificationBuilder", ",", "NotificationConstants", ".", "TYPE_FTP", ")", ";", "Notification", "notification", ";", "if", "(", "!", "noStopButton", "&", "&", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN", ")", "{", "int", "stopIcon", "=", "android", ".", "R", ".", "drawable", ".", "ic_menu_close_clear_cancel", ";", "CharSequence", "stopText", "=", "context", ".", "getString", "(", "R", ".", "string", ".", "ftp_notif_stop_server", ")", ";", "Intent", "stopIntent", "=", "new", "Intent", "(", "FtpService", ".", "ACTION_STOP_FTPSERVER", ")", ";", "PendingIntent", "stopPendingIntent", "=", "PendingIntent", ".", "getBroadcast", "(", "context", ",", "0", ",", "stopIntent", ",", "PendingIntent", ".", "FLAG_ONE_SHOT", ")", ";", "notificationBuilder", ".", "addAction", "(", "stopIcon", ",", "stopText", ",", "stopPendingIntent", ")", ";", "notificationBuilder", ".", "setShowWhen", "(", "false", ")", ";", "notification", "=", "notificationBuilder", ".", "build", "(", ")", ";", "}", "else", "{", "notification", "=", "notificationBuilder", ".", "getNotification", "(", ")", ";", "}", "notificationManager", ".", "notify", "(", "NotificationConstants", ".", "FTP_ID", ",", "notification", ")", ";", "}", "</s>"]
["<s>", "private", "void", "removeNotification", "(", "Context", "context", ")", "{", "String", "ns", "=", "Context", ".", "NOTIFICATION_SERVICE", ";", "NotificationManager", "nm", "=", "(", "NotificationManager", ")", "context", ".", "getSystemService", "(", "ns", ")", ";", "nm", ".", "cancelAll", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "setMetadata", "(", "Context", "context", ",", "NotificationCompat", ".", "Builder", "notification", ",", "int", "type", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "O", ")", "{", "switch", "(", "type", ")", "{", "case", "TYPE_NORMAL", ":", "createNormalChannel", "(", "context", ")", ";", "break", ";", "case", "TYPE_FTP", ":", "createFtpChannel", "(", "context", ")", ";", "break", ";", "default", ":", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "type", ")", ";", "}", "}", "else", "{", "switch", "(", "type", ")", "{", "case", "TYPE_NORMAL", ":", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "notification", ".", "setCategory", "(", "Notification", ".", "CATEGORY_SERVICE", ")", ";", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN", ")", "{", "notification", ".", "setPriority", "(", "Notification", ".", "PRIORITY_MIN", ")", ";", "}", "break", ";", "case", "TYPE_FTP", ":", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "notification", ".", "setCategory", "(", "Notification", ".", "CATEGORY_SERVICE", ")", ";", "notification", ".", "setVisibility", "(", "Notification", ".", "VISIBILITY_PUBLIC", ")", ";", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN", ")", "{", "notification", ".", "setPriority", "(", "Notification", ".", "PRIORITY_MAX", ")", ";", "}", "break", ";", "default", ":", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "type", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "O", ")", "private", "static", "void", "createFtpChannel", "(", "Context", "context", ")", "{", "NotificationManager", "mNotificationManager", "=", "(", "NotificationManager", ")", "context", ".", "getSystemService", "(", "Context", ".", "NOTIFICATION_SERVICE", ")", ";", "if", "(", "mNotificationManager", ".", "getNotificationChannel", "(", "CHANNEL_FTP_ID", ")", "=", "=", "null", ")", "{", "NotificationChannel", "mChannel", "=", "new", "NotificationChannel", "(", "CHANNEL_FTP_ID", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "channelname_ftp", ")", ",", "NotificationManager", ".", "IMPORTANCE_HIGH", ")", ";", "mChannel", ".", "setDescription", "(", "context", ".", "getString", "(", "R", ".", "string", ".", "channeldescription_ftp", ")", ")", ";", "mNotificationManager", ".", "createNotificationChannel", "(", "mChannel", ")", ";", "}", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "O", ")", "private", "static", "void", "createNormalChannel", "(", "Context", "context", ")", "{", "NotificationManager", "mNotificationManager", "=", "(", "NotificationManager", ")", "context", ".", "getSystemService", "(", "Context", ".", "NOTIFICATION_SERVICE", ")", ";", "if", "(", "mNotificationManager", ".", "getNotificationChannel", "(", "CHANNEL_NORMAL_ID", ")", "=", "=", "null", ")", "{", "NotificationChannel", "mChannel", "=", "new", "NotificationChannel", "(", "CHANNEL_NORMAL_ID", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "channelname_normal", ")", ",", "NotificationManager", ".", "IMPORTANCE_MIN", ")", ";", "mChannel", ".", "setDescription", "(", "context", ".", "getString", "(", "R", ".", "string", ".", "channeldescription_normal", ")", ")", ";", "mNotificationManager", ".", "createNotificationChannel", "(", "mChannel", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "int", "getSortType", "(", "Context", "context", ",", "String", "path", ")", "{", "SharedPreferences", "sharedPref", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "context", ")", ";", "final", "Set", "<", "String", ">", "onlyThisFloders", "=", "sharedPref", ".", "getStringSet", "(", "PREFERENCE_SORTBY_ONLY_THIS", ",", "new", "HashSet", "<", ">", "(", ")", ")", ";", "final", "boolean", "onlyThis", "=", "onlyThisFloders", ".", "contains", "(", "path", ")", ";", "final", "int", "globalSortby", "=", "Integer", ".", "parseInt", "(", "sharedPref", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT:0>", "\"", ")", ")", ";", "if", "(", "!", "onlyThis", ")", "{", "return", "globalSortby", ";", "}", "SortHandler", "sortHandler", "=", "new", "SortHandler", "(", "context", ")", ";", "Sort", "sort", "=", "sortHandler", ".", "findEntry", "(", "path", ")", ";", "if", "(", "sort", "=", "=", "null", ")", "{", "return", "globalSortby", ";", "}", "return", "sort", ".", "type", ";", "}", "</s>"]
["<s>", "public", "SortHandler", "(", "Context", "context", ")", "{", "super", "(", "context", ",", "DATABASE_NAME", ",", "null", ",", "TabHandler", ".", "DATABASE_VERSION", ")", ";", "this", ".", "context", "=", "context", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "SQLiteDatabase", "db", ")", "{", "String", "CREATE_TABLE_SORT", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_SORT", "+", "\"", "<STR_LIT:(>", "\"", "+", "COLUMN_SORT_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_SORT_TYPE", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "db", ".", "execSQL", "(", "CREATE_TABLE_SORT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpgrade", "(", "SQLiteDatabase", "db", ",", "int", "oldVersion", ",", "int", "newVersion", ")", "{", "onCreate", "(", "db", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addEntry", "(", "Sort", "sort", ")", "{", "if", "(", "TextUtils", ".", "isEmpty", "(", "sort", ".", "path", ")", ")", "{", "return", ";", "}", "ContentValues", "contentValues", "=", "new", "ContentValues", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_SORT_PATH", ",", "sort", ".", "path", ")", ";", "contentValues", ".", "put", "(", "COLUMN_SORT_TYPE", ",", "sort", ".", "type", ")", ";", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "sqLiteDatabase", ".", "insert", "(", "TABLE_SORT", ",", "null", ",", "contentValues", ")", ";", "}", "</s>"]
["<s>", "public", "void", "clear", "(", "String", "path", ")", "{", "try", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "sqLiteDatabase", ".", "delete", "(", "TABLE_SORT", ",", "COLUMN_SORT_PATH", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "path", "}", ")", ";", "}", "catch", "(", "NumberFormatException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "updateEntry", "(", "Sort", "oldSort", ",", "Sort", "newSort", ")", "{", "if", "(", "TextUtils", ".", "isEmpty", "(", "oldSort", ".", "path", ")", "|", "|", "TextUtils", ".", "isEmpty", "(", "newSort", ".", "path", ")", ")", "{", "return", ";", "}", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "ContentValues", "contentValues", "=", "new", "ContentValues", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_SORT_PATH", ",", "newSort", ".", "path", ")", ";", "contentValues", ".", "put", "(", "COLUMN_SORT_TYPE", ",", "newSort", ".", "type", ")", ";", "sqLiteDatabase", ".", "update", "(", "TABLE_SORT", ",", "contentValues", ",", "COLUMN_SORT_PATH", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "oldSort", ".", "path", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "public", "Sort", "findEntry", "(", "String", "path", ")", "{", "if", "(", "TextUtils", ".", "isEmpty", "(", "path", ")", ")", "{", "return", "null", ";", "}", "String", "query", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_SORT", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_SORT_PATH", "+", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "path", "+", "\"", "<STR_LIT:\\\">", "\"", ";", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "sqLiteDatabase", ".", "rawQuery", "(", "query", ",", "null", ")", ";", "Sort", "sort", ";", "if", "(", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "sort", "=", "new", "Sort", "(", "cursor", ".", "getString", "(", "0", ")", ",", "cursor", ".", "getInt", "(", "1", ")", ")", ";", "cursor", ".", "close", "(", ")", ";", "}", "else", "{", "sort", "=", "null", ";", "}", "return", "sort", ";", "}", "</s>"]
["<s>", "public", "List", "<", "Sort", ">", "getAllEntries", "(", ")", "{", "List", "<", "Sort", ">", "entryList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "String", "query", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_SORT", ";", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "null", ";", "try", "{", "cursor", "=", "sqLiteDatabase", ".", "rawQuery", "(", "query", ",", "null", ")", ";", "boolean", "hasNext", "=", "cursor", ".", "moveToFirst", "(", ")", ";", "while", "(", "hasNext", ")", "{", "Sort", "sort", "=", "new", "Sort", "(", "cursor", ".", "getString", "(", "0", ")", ",", "cursor", ".", "getInt", "(", "1", ")", ")", ";", "entryList", ".", "add", "(", "sort", ")", ";", "hasNext", "=", "cursor", ".", "moveToNext", "(", ")", ";", "}", "}", "finally", "{", "if", "(", "cursor", "!", "=", "null", ")", "{", "cursor", ".", "close", "(", ")", ";", "}", "}", "return", "entryList", ";", "}", "</s>"]
["<s>", "public", "CloudHandler", "(", "Context", "context", ")", "{", "super", "(", "context", ",", "TabHandler", ".", "DATABASE_NAME", ",", "null", ",", "TabHandler", ".", "DATABASE_VERSION", ")", ";", "this", ".", "context", "=", "context", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "SQLiteDatabase", "db", ")", "{", "String", "CREATE_TAB_TABLE", "=", "\"", "<STR_LIT>", "\"", "+", "TabHandler", ".", "TABLE_TAB", "+", "\"", "<STR_LIT:(>", "\"", "+", "TabHandler", ".", "COLUMN_TAB_NO", "+", "\"", "<STR_LIT>", "\"", "+", "TabHandler", ".", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "TabHandler", ".", "COLUMN_HOME", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "String", "CREATE_TABLE_ENCRYPTED", "=", "\"", "<STR_LIT>", "\"", "+", "TabHandler", ".", "TABLE_ENCRYPTED", "+", "\"", "<STR_LIT:(>", "\"", "+", "TabHandler", ".", "COLUMN_ENCRYPTED_ID", "+", "\"", "<STR_LIT>", "\"", "+", "TabHandler", ".", "COLUMN_ENCRYPTED_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "TabHandler", ".", "COLUMN_ENCRYPTED_PASSWORD", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "String", "CREATE_TABLE_CLOUD", "=", "\"", "<STR_LIT>", "\"", "+", "CloudHandler", ".", "TABLE_CLOUD_PERSIST", "+", "\"", "<STR_LIT:(>", "\"", "+", "CloudHandler", ".", "COLUMN_CLOUD_ID", "+", "\"", "<STR_LIT>", "\"", "+", "CloudHandler", ".", "COLUMN_CLOUD_SERVICE", "+", "\"", "<STR_LIT>", "\"", "+", "CloudHandler", ".", "COLUMN_CLOUD_PERSIST", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "db", ".", "execSQL", "(", "CREATE_TAB_TABLE", ")", ";", "db", ".", "execSQL", "(", "CREATE_TABLE_ENCRYPTED", ")", ";", "db", ".", "execSQL", "(", "CREATE_TABLE_CLOUD", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpgrade", "(", "SQLiteDatabase", "sqLiteDatabase", ",", "int", "oldVersion", ",", "int", "newVersion", ")", "{", "sqLiteDatabase", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", "+", "TabHandler", ".", "TABLE_TAB", ")", ";", "sqLiteDatabase", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", "+", "TabHandler", ".", "TABLE_ENCRYPTED", ")", ";", "sqLiteDatabase", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", "+", "CloudHandler", ".", "TABLE_CLOUD_PERSIST", ")", ";", "onCreate", "(", "sqLiteDatabase", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addEntry", "(", "CloudEntry", "cloudEntry", ")", "throws", "CloudPluginException", "{", "if", "(", "!", "CloudSheetFragment", ".", "isCloudProviderAvailable", "(", "context", ")", ")", "throw", "new", "CloudPluginException", "(", ")", ";", "ContentValues", "contentValues", "=", "new", "ContentValues", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_CLOUD_SERVICE", ",", "cloudEntry", ".", "getServiceType", "(", ")", ".", "ordinal", "(", ")", ")", ";", "try", "{", "contentValues", ".", "put", "(", "COLUMN_CLOUD_PERSIST", ",", "CryptUtil", ".", "encryptPassword", "(", "context", ",", "cloudEntry", ".", "getPersistData", "(", ")", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_CLOUD_PERSIST", ",", "cloudEntry", ".", "getPersistData", "(", ")", ")", ";", "}", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "sqLiteDatabase", ".", "insert", "(", "TABLE_CLOUD_PERSIST", ",", "null", ",", "contentValues", ")", ";", "}", "</s>"]
["<s>", "public", "void", "clear", "(", "OpenMode", "serviceType", ")", "{", "try", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "sqLiteDatabase", ".", "delete", "(", "TABLE_CLOUD_PERSIST", ",", "COLUMN_CLOUD_SERVICE", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "serviceType", ".", "ordinal", "(", ")", "+", "\"", "\"", "}", ")", ";", "}", "catch", "(", "NumberFormatException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "updateEntry", "(", "OpenMode", "serviceType", ",", "CloudEntry", "newCloudEntry", ")", "throws", "CloudPluginException", "{", "if", "(", "!", "CloudSheetFragment", ".", "isCloudProviderAvailable", "(", "context", ")", ")", "throw", "new", "CloudPluginException", "(", ")", ";", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "ContentValues", "contentValues", "=", "new", "ContentValues", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_CLOUD_ID", ",", "newCloudEntry", ".", "getId", "(", ")", ")", ";", "contentValues", ".", "put", "(", "COLUMN_CLOUD_SERVICE", ",", "newCloudEntry", ".", "getServiceType", "(", ")", ".", "ordinal", "(", ")", ")", ";", "try", "{", "contentValues", ".", "put", "(", "COLUMN_CLOUD_PERSIST", ",", "CryptUtil", ".", "encryptPassword", "(", "context", ",", "newCloudEntry", ".", "getPersistData", "(", ")", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_CLOUD_PERSIST", ",", "newCloudEntry", ".", "getPersistData", "(", ")", ")", ";", "}", "sqLiteDatabase", ".", "update", "(", "TABLE_CLOUD_PERSIST", ",", "contentValues", ",", "COLUMN_CLOUD_SERVICE", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "serviceType", ".", "ordinal", "(", ")", "+", "\"", "\"", "}", ")", ";", "}", "</s>"]
["<s>", "public", "CloudEntry", "findEntry", "(", "OpenMode", "serviceType", ")", "throws", "CloudPluginException", "{", "if", "(", "!", "CloudSheetFragment", ".", "isCloudProviderAvailable", "(", "context", ")", ")", "throw", "new", "CloudPluginException", "(", ")", ";", "String", "query", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_CLOUD_PERSIST", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_CLOUD_SERVICE", "+", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "serviceType", ".", "ordinal", "(", ")", "+", "\"", "<STR_LIT:\\\">", "\"", ";", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "sqLiteDatabase", ".", "rawQuery", "(", "query", ",", "null", ")", ";", "CloudEntry", "cloudEntry", "=", "new", "CloudEntry", "(", ")", ";", "if", "(", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "cloudEntry", ".", "setId", "(", "(", "cursor", ".", "getInt", "(", "0", ")", ")", ")", ";", "cloudEntry", ".", "setServiceType", "(", "serviceType", ")", ";", "try", "{", "cloudEntry", ".", "setPersistData", "(", "CryptUtil", ".", "decryptPassword", "(", "context", ",", "cursor", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "cloudEntry", ".", "setPersistData", "(", "\"", "\"", ")", ";", "return", "cloudEntry", ";", "}", "cursor", ".", "close", "(", ")", ";", "}", "else", "{", "cloudEntry", "=", "null", ";", "}", "return", "cloudEntry", ";", "}", "</s>"]
["<s>", "public", "List", "<", "CloudEntry", ">", "getAllEntries", "(", ")", "throws", "CloudPluginException", "{", "if", "(", "!", "CloudSheetFragment", ".", "isCloudProviderAvailable", "(", "context", ")", ")", "throw", "new", "CloudPluginException", "(", ")", ";", "List", "<", "CloudEntry", ">", "entryList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "String", "query", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_CLOUD_PERSIST", ";", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "null", ";", "try", "{", "cursor", "=", "sqLiteDatabase", ".", "rawQuery", "(", "query", ",", "null", ")", ";", "if", "(", "cursor", ".", "getCount", "(", ")", ">", "0", "&", "&", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "do", "{", "CloudEntry", "cloudEntry", "=", "new", "CloudEntry", "(", ")", ";", "cloudEntry", ".", "setId", "(", "(", "cursor", ".", "getInt", "(", "0", ")", ")", ")", ";", "cloudEntry", ".", "setServiceType", "(", "OpenMode", ".", "getOpenMode", "(", "cursor", ".", "getInt", "(", "1", ")", ")", ")", ";", "try", "{", "cloudEntry", ".", "setPersistData", "(", "CryptUtil", ".", "decryptPassword", "(", "context", ",", "cursor", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "cloudEntry", ".", "setPersistData", "(", "\"", "\"", ")", ";", "entryList", ".", "add", "(", "cloudEntry", ")", ";", "continue", ";", "}", "entryList", ".", "add", "(", "cloudEntry", ")", ";", "}", "while", "(", "cursor", ".", "moveToNext", "(", ")", ")", ";", "}", "}", "finally", "{", "if", "(", "cursor", "!", "=", "null", ")", "{", "cursor", ".", "close", "(", ")", ";", "}", "}", "return", "entryList", ";", "}", "</s>"]
["<s>", "public", "CryptHandler", "(", "Context", "context", ")", "{", "super", "(", "context", ",", "DATABASE_NAME", ",", "null", ",", "TabHandler", ".", "DATABASE_VERSION", ")", ";", "this", ".", "context", "=", "context", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "SQLiteDatabase", "db", ")", "{", "String", "CREATE_TABLE_ENCRYPTED", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_ENCRYPTED", "+", "\"", "<STR_LIT:(>", "\"", "+", "COLUMN_ENCRYPTED_ID", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_ENCRYPTED_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_ENCRYPTED_PASSWORD", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "db", ".", "execSQL", "(", "CREATE_TABLE_ENCRYPTED", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpgrade", "(", "SQLiteDatabase", "db", ",", "int", "oldVersion", ",", "int", "newVersion", ")", "{", "db", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", "+", "TABLE_ENCRYPTED", ")", ";", "onCreate", "(", "db", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addEntry", "(", "EncryptedEntry", "encryptedEntry", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "ContentValues", "contentValues", "=", "new", "ContentValues", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_ENCRYPTED_PATH", ",", "encryptedEntry", ".", "getPath", "(", ")", ")", ";", "contentValues", ".", "put", "(", "COLUMN_ENCRYPTED_PASSWORD", ",", "CryptUtil", ".", "encryptPassword", "(", "context", ",", "encryptedEntry", ".", "getPassword", "(", ")", ")", ")", ";", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "sqLiteDatabase", ".", "insert", "(", "TABLE_ENCRYPTED", ",", "null", ",", "contentValues", ")", ";", "}", "</s>"]
["<s>", "public", "void", "clear", "(", "String", "path", ")", "{", "try", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "sqLiteDatabase", ".", "delete", "(", "TABLE_ENCRYPTED", ",", "COLUMN_ENCRYPTED_PATH", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "path", "}", ")", ";", "}", "catch", "(", "NumberFormatException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "updateEntry", "(", "EncryptedEntry", "oldEncryptedEntry", ",", "EncryptedEntry", "newEncryptedEntry", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "ContentValues", "contentValues", "=", "new", "ContentValues", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_ENCRYPTED_ID", ",", "newEncryptedEntry", ".", "getId", "(", ")", ")", ";", "contentValues", ".", "put", "(", "COLUMN_ENCRYPTED_PATH", ",", "newEncryptedEntry", ".", "getPath", "(", ")", ")", ";", "contentValues", ".", "put", "(", "COLUMN_ENCRYPTED_PASSWORD", ",", "CryptUtil", ".", "encryptPassword", "(", "context", ",", "newEncryptedEntry", ".", "getPassword", "(", ")", ")", ")", ";", "sqLiteDatabase", ".", "update", "(", "TABLE_ENCRYPTED", ",", "contentValues", ",", "COLUMN_ENCRYPTED_ID", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "oldEncryptedEntry", ".", "getId", "(", ")", "+", "\"", "\"", "}", ")", ";", "}", "</s>"]
["<s>", "public", "EncryptedEntry", "findEntry", "(", "String", "path", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "String", "query", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_ENCRYPTED", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_ENCRYPTED_PATH", "+", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "path", "+", "\"", "<STR_LIT:\\\">", "\"", ";", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "sqLiteDatabase", ".", "rawQuery", "(", "query", ",", "null", ")", ";", "EncryptedEntry", "encryptedEntry", "=", "new", "EncryptedEntry", "(", ")", ";", "if", "(", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "encryptedEntry", ".", "setId", "(", "(", "cursor", ".", "getInt", "(", "0", ")", ")", ")", ";", "encryptedEntry", ".", "setPath", "(", "cursor", ".", "getString", "(", "1", ")", ")", ";", "encryptedEntry", ".", "setPassword", "(", "CryptUtil", ".", "decryptPassword", "(", "context", ",", "cursor", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ")", ";", "cursor", ".", "close", "(", ")", ";", "}", "else", "{", "encryptedEntry", "=", "null", ";", "}", "return", "encryptedEntry", ";", "}", "</s>"]
["<s>", "public", "List", "<", "EncryptedEntry", ">", "getAllEntries", "(", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "List", "<", "EncryptedEntry", ">", "entryList", "=", "new", "ArrayList", "<", "EncryptedEntry", ">", "(", ")", ";", "String", "query", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_ENCRYPTED", ";", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "null", ";", "try", "{", "cursor", "=", "sqLiteDatabase", ".", "rawQuery", "(", "query", ",", "null", ")", ";", "boolean", "hasNext", "=", "cursor", ".", "moveToFirst", "(", ")", ";", "while", "(", "hasNext", ")", "{", "EncryptedEntry", "encryptedEntry", "=", "new", "EncryptedEntry", "(", ")", ";", "encryptedEntry", ".", "setId", "(", "(", "cursor", ".", "getInt", "(", "0", ")", ")", ")", ";", "encryptedEntry", ".", "setPath", "(", "cursor", ".", "getString", "(", "1", ")", ")", ";", "encryptedEntry", ".", "setPassword", "(", "CryptUtil", ".", "decryptPassword", "(", "context", ",", "cursor", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ")", ";", "entryList", ".", "add", "(", "encryptedEntry", ")", ";", "hasNext", "=", "cursor", ".", "moveToNext", "(", ")", ";", "}", "}", "finally", "{", "if", "(", "cursor", "!", "=", "null", ")", "{", "cursor", ".", "close", "(", ")", ";", "}", "}", "return", "entryList", ";", "}", "</s>"]
["<s>", "public", "UtilsHandler", "(", "Context", "context", ")", "{", "super", "(", "context", ",", "DATABASE_NAME", ",", "null", ",", "DATABASE_VERSION", ")", ";", "this", ".", "context", "=", "context", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "SQLiteDatabase", "db", ")", "{", "String", "queryHistory", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_HISTORY", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_ID", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "String", "queryHidden", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_HIDDEN", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_ID", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "String", "queryList", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_LIST", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_ID", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "String", "queryGrid", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_GRID", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_ID", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "String", "queryBookmarks", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_BOOKMARKS", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_ID", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_NAME", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "String", "querySmb", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_SMB", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_ID", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_NAME", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "db", ".", "execSQL", "(", "queryHistory", ")", ";", "db", ".", "execSQL", "(", "queryHidden", ")", ";", "db", ".", "execSQL", "(", "queryList", ")", ";", "db", ".", "execSQL", "(", "queryGrid", ")", ";", "db", ".", "execSQL", "(", "queryBookmarks", ")", ";", "db", ".", "execSQL", "(", "querySmb", ")", ";", "db", ".", "execSQL", "(", "querySftp", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpgrade", "(", "SQLiteDatabase", "db", ",", "int", "oldVersion", ",", "int", "newVersion", ")", "{", "switch", "(", "oldVersion", ")", "{", "case", "1", ":", "db", ".", "execSQL", "(", "querySftp", ")", ";", "break", ";", "default", ":", "break", ";", "}", "}", "</s>"]
["<s>", "public", "void", "saveToDatabase", "(", "OperationData", "operationData", ")", "{", "AppConfig", ".", "runInBackground", "(", "(", ")", "-", ">", "{", "switch", "(", "operationData", ".", "type", ")", "{", "case", "HIDDEN", ":", "case", "HISTORY", ":", "case", "LIST", ":", "case", "GRID", ":", "setPath", "(", "operationData", ".", "type", ",", "operationData", ".", "path", ")", ";", "break", ";", "case", "BOOKMARKS", ":", "case", "SMB", ":", "setPath", "(", "operationData", ".", "type", ",", "operationData", ".", "name", ",", "operationData", ".", "path", ")", ";", "break", ";", "case", "SFTP", ":", "addSsh", "(", "operationData", ".", "name", ",", "operationData", ".", "path", ",", "operationData", ".", "hostKey", ",", "operationData", ".", "sshKeyName", ",", "operationData", ".", "sshKey", ")", ";", "break", ";", "default", ":", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "public", "void", "removeFromDatabase", "(", "OperationData", "operationData", ")", "{", "AppConfig", ".", "runInBackground", "(", "(", ")", "-", ">", "{", "switch", "(", "operationData", ".", "type", ")", "{", "case", "HIDDEN", ":", "case", "HISTORY", ":", "case", "LIST", ":", "case", "GRID", ":", "removePath", "(", "operationData", ".", "type", ",", "operationData", ".", "path", ")", ";", "break", ";", "case", "BOOKMARKS", ":", "removeBookmarksPath", "(", "operationData", ".", "name", ",", "operationData", ".", "path", ")", ";", "break", ";", "case", "SMB", ":", "removeSmbPath", "(", "operationData", ".", "name", ",", "operationData", ".", "path", ")", ";", "break", ";", "case", "SFTP", ":", "removeSftpPath", "(", "operationData", ".", "name", ",", "operationData", ".", "path", ")", ";", "break", ";", "default", ":", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addCommonBookmarks", "(", ")", "{", "String", "sd", "=", "Environment", ".", "getExternalStorageDirectory", "(", ")", "+", "\"", "<STR_LIT:/>", "\"", ";", "String", "[", "]", "dirs", "=", "new", "String", "[", "]", "{", "sd", "+", "Environment", ".", "DIRECTORY_DCIM", ",", "sd", "+", "Environment", ".", "DIRECTORY_DOWNLOADS", ",", "sd", "+", "Environment", ".", "DIRECTORY_MOVIES", ",", "sd", "+", "Environment", ".", "DIRECTORY_MUSIC", ",", "sd", "+", "Environment", ".", "DIRECTORY_PICTURES", "}", ";", "for", "(", "String", "dir", ":", "dirs", ")", "{", "saveToDatabase", "(", "new", "OperationData", "(", "Operation", ".", "BOOKMARKS", ",", "new", "File", "(", "dir", ")", ".", "getName", "(", ")", ",", "dir", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "addSsh", "(", "String", "name", ",", "String", "path", ",", "String", "hostKey", ",", "String", "sshKeyName", ",", "String", "sshKey", ")", "{", "SQLiteDatabase", "database", "=", "getWritableDatabase", "(", ")", ";", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "COLUMN_NAME", ",", "name", ")", ";", "values", ".", "put", "(", "COLUMN_PATH", ",", "path", ")", ";", "values", ".", "put", "(", "COLUMN_HOST_PUBKEY", ",", "hostKey", ")", ";", "if", "(", "sshKey", "!", "=", "null", "&", "&", "!", "\"", "\"", ".", "equals", "(", "sshKey", ")", ")", "{", "values", ".", "put", "(", "COLUMN_PRIVATE_KEY_NAME", ",", "sshKeyName", ")", ";", "values", ".", "put", "(", "COLUMN_PRIVATE_KEY", ",", "sshKey", ")", ";", "}", "database", ".", "insert", "(", "getTableForOperation", "(", "Operation", ".", "SFTP", ")", ",", "null", ",", "values", ")", ";", "}", "</s>"]
["<s>", "public", "void", "updateSsh", "(", "String", "connectionName", ",", "String", "oldConnectionName", ",", "String", "path", ",", "String", "sshKeyName", ",", "String", "sshKey", ")", "{", "SQLiteDatabase", "database", "=", "getWritableDatabase", "(", ")", ";", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "COLUMN_NAME", ",", "connectionName", ")", ";", "values", ".", "put", "(", "COLUMN_PATH", ",", "path", ")", ";", "if", "(", "sshKeyName", "!", "=", "null", "&", "&", "sshKey", "!", "=", "null", ")", "{", "values", ".", "put", "(", "COLUMN_PRIVATE_KEY_NAME", ",", "sshKeyName", ")", ";", "values", ".", "put", "(", "COLUMN_PRIVATE_KEY", ",", "sshKey", ")", ";", "}", "database", ".", "update", "(", "getTableForOperation", "(", "Operation", ".", "SFTP", ")", ",", "values", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "COLUMN_NAME", ")", ",", "new", "String", "[", "]", "{", "oldConnectionName", "}", ")", ";", "}", "</s>"]
["<s>", "public", "LinkedList", "<", "String", ">", "getHistoryLinkedList", "(", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "sqLiteDatabase", ".", "query", "(", "getTableForOperation", "(", "Operation", ".", "HISTORY", ")", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ")", ";", "LinkedList", "<", "String", ">", "paths", "=", "new", "LinkedList", "<", ">", "(", ")", ";", "boolean", "hasNext", "=", "cursor", ".", "moveToFirst", "(", ")", ";", "while", "(", "hasNext", ")", "{", "paths", ".", "push", "(", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "COLUMN_PATH", ")", ")", ")", ";", "hasNext", "=", "cursor", ".", "moveToNext", "(", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "return", "paths", ";", "}", "</s>"]
["<s>", "public", "ConcurrentRadixTree", "<", "VoidValue", ">", "getHiddenFilesConcurrentRadixTree", "(", ")", "{", "ConcurrentRadixTree", "<", "VoidValue", ">", "paths", "=", "new", "ConcurrentRadixTree", "<", ">", "(", "new", "DefaultCharArrayNodeFactory", "(", ")", ")", ";", "Cursor", "cursor", "=", "getReadableDatabase", "(", ")", ".", "query", "(", "getTableForOperation", "(", "Operation", ".", "HIDDEN", ")", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ")", ";", "boolean", "hasNext", "=", "cursor", ".", "moveToFirst", "(", ")", ";", "while", "(", "hasNext", ")", "{", "paths", ".", "put", "(", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "COLUMN_PATH", ")", ")", ",", "VoidValue", ".", "SINGLETON", ")", ";", "hasNext", "=", "cursor", ".", "moveToNext", "(", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "return", "paths", ";", "}", "</s>"]
["<s>", "public", "ArrayList", "<", "String", ">", "getListViewList", "(", ")", "{", "return", "getPath", "(", "Operation", ".", "LIST", ")", ";", "}", "</s>"]
["<s>", "public", "ArrayList", "<", "String", ">", "getGridViewList", "(", ")", "{", "return", "getPath", "(", "Operation", ".", "GRID", ")", ";", "}", "</s>"]
["<s>", "public", "ArrayList", "<", "String", "[", "]", ">", "getBookmarksList", "(", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "sqLiteDatabase", ".", "query", "(", "getTableForOperation", "(", "Operation", ".", "BOOKMARKS", ")", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ")", ";", "boolean", "hasNext", "=", "cursor", ".", "moveToFirst", "(", ")", ";", "ArrayList", "<", "String", "[", "]", ">", "row", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "while", "(", "hasNext", ")", "{", "row", ".", "add", "(", "new", "String", "[", "]", "{", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "COLUMN_NAME", ")", ")", ",", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "COLUMN_PATH", ")", ")", "}", ")", ";", "hasNext", "=", "cursor", ".", "moveToNext", "(", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "return", "row", ";", "}", "</s>"]
["<s>", "public", "ArrayList", "<", "String", "[", "]", ">", "getSmbList", "(", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "sqLiteDatabase", ".", "query", "(", "getTableForOperation", "(", "Operation", ".", "SMB", ")", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ")", ";", "boolean", "hasNext", "=", "cursor", ".", "moveToFirst", "(", ")", ";", "ArrayList", "<", "String", "[", "]", ">", "row", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "while", "(", "hasNext", ")", "{", "try", "{", "row", ".", "add", "(", "new", "String", "[", "]", "{", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "COLUMN_NAME", ")", ")", ",", "SmbUtil", ".", "getSmbDecryptedPath", "(", "context", ",", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "COLUMN_PATH", ")", ")", ")", "}", ")", ";", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "failed_smb_decrypt_path", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "removeSmbPath", "(", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "COLUMN_NAME", ")", ")", ",", "\"", "\"", ")", ";", "continue", ";", "}", "hasNext", "=", "cursor", ".", "moveToNext", "(", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "return", "row", ";", "}", "</s>"]
["<s>", "public", "List", "<", "String", "[", "]", ">", "getSftpList", "(", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "sqLiteDatabase", ".", "query", "(", "getTableForOperation", "(", "Operation", ".", "SFTP", ")", ",", "new", "String", "[", "]", "{", "COLUMN_NAME", ",", "COLUMN_PATH", "}", ",", "null", ",", "null", ",", "null", ",", "null", ",", "COLUMN_ID", ")", ";", "boolean", "hasNext", "=", "cursor", ".", "moveToFirst", "(", ")", ";", "ArrayList", "<", "String", "[", "]", ">", "retval", "=", "new", "ArrayList", "<", "String", "[", "]", ">", "(", ")", ";", "while", "(", "hasNext", ")", "{", "String", "path", "=", "SshClientUtils", ".", "decryptSshPathAsNecessary", "(", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "COLUMN_PATH", ")", ")", ")", ";", "if", "(", "path", "=", "=", "null", ")", "{", "Log", ".", "e", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "COLUMN_PATH", ")", ")", ")", ";", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "failed_smb_decrypt_path", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "continue", ";", "}", "else", "{", "retval", ".", "add", "(", "new", "String", "[", "]", "{", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "COLUMN_NAME", ")", ")", ",", "path", "}", ")", ";", "}", "hasNext", "=", "cursor", ".", "moveToNext", "(", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "return", "retval", ";", "}", "</s>"]
["<s>", "public", "String", "getSshHostKey", "(", "String", "uri", ")", "{", "uri", "=", "SshClientUtils", ".", "encryptSshPathAsNecessary", "(", "uri", ")", ";", "if", "(", "uri", "!", "=", "null", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "result", "=", "sqLiteDatabase", ".", "query", "(", "TABLE_SFTP", ",", "new", "String", "[", "]", "{", "COLUMN_HOST_PUBKEY", "}", ",", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "uri", "}", ",", "null", ",", "null", ",", "null", ")", ";", "if", "(", "result", ".", "moveToFirst", "(", ")", ")", "{", "String", "retval", "=", "result", ".", "getString", "(", "0", ")", ";", "result", ".", "close", "(", ")", ";", "return", "retval", ";", "}", "else", "{", "result", ".", "close", "(", ")", ";", "return", "null", ";", "}", "}", "else", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "public", "String", "getSshAuthPrivateKeyName", "(", "String", "uri", ")", "{", "return", "getSshAuthPrivateKeyColumn", "(", "uri", ",", "COLUMN_PRIVATE_KEY_NAME", ")", ";", "}", "</s>"]
["<s>", "public", "String", "getSshAuthPrivateKey", "(", "String", "uri", ")", "{", "return", "getSshAuthPrivateKeyColumn", "(", "uri", ",", "COLUMN_PRIVATE_KEY", ")", ";", "}", "</s>"]
["<s>", "private", "String", "getSshAuthPrivateKeyColumn", "(", "String", "uri", ",", "String", "columnName", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "result", "=", "sqLiteDatabase", ".", "query", "(", "TABLE_SFTP", ",", "new", "String", "[", "]", "{", "columnName", "}", ",", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "uri", "}", ",", "null", ",", "null", ",", "null", ")", ";", "if", "(", "result", ".", "moveToFirst", "(", ")", ")", "{", "try", "{", "return", "result", ".", "getString", "(", "0", ")", ";", "}", "finally", "{", "result", ".", "close", "(", ")", ";", "}", "}", "else", "{", "result", ".", "close", "(", ")", ";", "return", "null", ";", "}", "}", "</s>"]
["<s>", "private", "void", "removeBookmarksPath", "(", "String", "name", ",", "String", "path", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "sqLiteDatabase", ".", "delete", "(", "TABLE_BOOKMARKS", ",", "COLUMN_NAME", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "name", ",", "path", "}", ")", ";", "}", "</s>"]
["<s>", "private", "void", "removeSmbPath", "(", "String", "name", ",", "String", "path", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "try", "{", "if", "(", "path", ".", "equals", "(", "\"", "\"", ")", ")", "{", "throw", "new", "IOException", "(", ")", ";", "}", "sqLiteDatabase", ".", "delete", "(", "TABLE_SMB", ",", "COLUMN_NAME", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "name", ",", "SmbUtil", ".", "getSmbEncryptedPath", "(", "context", ",", "path", ")", "}", ")", ";", "}", "catch", "(", "IOException", "|", "GeneralSecurityException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "sqLiteDatabase", ".", "delete", "(", "TABLE_SMB", ",", "COLUMN_NAME", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "name", "}", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "removeSftpPath", "(", "String", "name", ",", "String", "path", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "try", "{", "if", "(", "path", ".", "equals", "(", "\"", "\"", ")", ")", "{", "throw", "new", "IOException", "(", ")", ";", "}", "sqLiteDatabase", ".", "delete", "(", "TABLE_SFTP", ",", "COLUMN_NAME", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "name", ",", "SshClientUtils", ".", "encryptSshPathAsNecessary", "(", "path", ")", "}", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "sqLiteDatabase", ".", "delete", "(", "TABLE_SFTP", ",", "COLUMN_NAME", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "name", "}", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "renameBookmark", "(", "String", "oldName", ",", "String", "oldPath", ",", "String", "newName", ",", "String", "newPath", ")", "{", "renamePath", "(", "Operation", ".", "BOOKMARKS", ",", "oldName", ",", "oldPath", ",", "newName", ",", "newPath", ")", ";", "}", "</s>"]
["<s>", "public", "void", "renameSMB", "(", "String", "oldName", ",", "String", "oldPath", ",", "String", "newName", ",", "String", "newPath", ")", "{", "renamePath", "(", "Operation", ".", "SMB", ",", "oldName", ",", "oldPath", ",", "newName", ",", "newPath", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setPath", "(", "Operation", "operation", ",", "String", "path", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "ContentValues", "contentValues", "=", "new", "ContentValues", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_PATH", ",", "path", ")", ";", "sqLiteDatabase", ".", "insert", "(", "getTableForOperation", "(", "operation", ")", ",", "null", ",", "contentValues", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setPath", "(", "Operation", "operation", ",", "String", "name", ",", "String", "path", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "ContentValues", "contentValues", "=", "new", "ContentValues", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_NAME", ",", "name", ")", ";", "contentValues", ".", "put", "(", "COLUMN_PATH", ",", "path", ")", ";", "sqLiteDatabase", ".", "insert", "(", "getTableForOperation", "(", "operation", ")", ",", "null", ",", "contentValues", ")", ";", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "String", ">", "getPath", "(", "Operation", "operation", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "sqLiteDatabase", ".", "query", "(", "getTableForOperation", "(", "operation", ")", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ")", ";", "ArrayList", "<", "String", ">", "paths", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "switch", "(", "operation", ")", "{", "case", "LIST", ":", "case", "GRID", ":", "boolean", "hasNext", "=", "cursor", ".", "moveToFirst", "(", ")", ";", "while", "(", "hasNext", ")", "{", "paths", ".", "add", "(", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "COLUMN_PATH", ")", ")", ")", ";", "hasNext", "=", "cursor", ".", "moveToNext", "(", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "return", "paths", ";", "default", ":", "return", "null", ";", "}", "}", "</s>"]
["<s>", "private", "void", "removePath", "(", "Operation", "operation", ",", "String", "path", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "sqLiteDatabase", ".", "delete", "(", "getTableForOperation", "(", "operation", ")", ",", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "path", "}", ")", ";", "}", "</s>"]
["<s>", "public", "void", "clearTable", "(", "Operation", "table", ")", "{", "getWritableDatabase", "(", ")", ".", "delete", "(", "getTableForOperation", "(", "table", ")", ",", "null", ",", "null", ")", ";", "}", "</s>"]
["<s>", "private", "void", "renamePath", "(", "Operation", "operation", ",", "String", "name", ",", "String", "path", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "ContentValues", "contentValues", "=", "new", "ContentValues", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_NAME", ",", "name", ")", ";", "contentValues", ".", "put", "(", "COLUMN_PATH", ",", "path", ")", ";", "sqLiteDatabase", ".", "update", "(", "getTableForOperation", "(", "operation", ")", ",", "contentValues", ",", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "name", "}", ")", ";", "}", "</s>"]
["<s>", "private", "void", "renamePath", "(", "Operation", "operation", ",", "String", "oldName", ",", "String", "oldPath", ",", "String", "newName", ",", "String", "newPath", ")", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "ContentValues", "contentValues", "=", "new", "ContentValues", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_NAME", ",", "newName", ")", ";", "contentValues", ".", "put", "(", "COLUMN_PATH", ",", "newPath", ")", ";", "sqLiteDatabase", ".", "update", "(", "getTableForOperation", "(", "operation", ")", ",", "contentValues", ",", "COLUMN_NAME", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "oldName", ",", "oldPath", "}", ")", ";", "}", "</s>"]
["<s>", "private", "String", "getTableForOperation", "(", "Operation", "operation", ")", "{", "switch", "(", "operation", ")", "{", "case", "HISTORY", ":", "return", "TABLE_HISTORY", ";", "case", "HIDDEN", ":", "return", "TABLE_HIDDEN", ";", "case", "LIST", ":", "return", "TABLE_LIST", ";", "case", "GRID", ":", "return", "TABLE_GRID", ";", "case", "BOOKMARKS", ":", "return", "TABLE_BOOKMARKS", ";", "case", "SMB", ":", "return", "TABLE_SMB", ";", "case", "SFTP", ":", "return", "TABLE_SFTP", ";", "default", ":", "return", "null", ";", "}", "}", "</s>"]
["<s>", "public", "TabHandler", "(", "Context", "context", ")", "{", "super", "(", "context", ",", "DATABASE_NAME", ",", "null", ",", "DATABASE_VERSION", ")", ";", "this", ".", "context", "=", "context", ";", "getWritableDatabase", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "SQLiteDatabase", "db", ")", "{", "String", "CREATE_TAB_TABLE", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_TAB", "+", "\"", "<STR_LIT:(>", "\"", "+", "COLUMN_TAB_NO", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_HOME", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "String", "CREATE_TABLE_ENCRYPTED", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_ENCRYPTED", "+", "\"", "<STR_LIT:(>", "\"", "+", "COLUMN_ENCRYPTED_ID", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_ENCRYPTED_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_ENCRYPTED_PASSWORD", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "String", "CREATE_TABLE_CLOUD", "=", "\"", "<STR_LIT>", "\"", "+", "CloudHandler", ".", "TABLE_CLOUD_PERSIST", "+", "\"", "<STR_LIT:(>", "\"", "+", "CloudHandler", ".", "COLUMN_CLOUD_ID", "+", "\"", "<STR_LIT>", "\"", "+", "CloudHandler", ".", "COLUMN_CLOUD_SERVICE", "+", "\"", "<STR_LIT>", "\"", "+", "CloudHandler", ".", "COLUMN_CLOUD_PERSIST", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "String", "CREATE_TABLE_SORT", "=", "\"", "<STR_LIT>", "\"", "+", "SortHandler", ".", "TABLE_SORT", "+", "\"", "<STR_LIT:(>", "\"", "+", "SortHandler", ".", "COLUMN_SORT_PATH", "+", "\"", "<STR_LIT>", "\"", "+", "SortHandler", ".", "COLUMN_SORT_TYPE", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT:)>", "\"", ";", "db", ".", "execSQL", "(", "CREATE_TAB_TABLE", ")", ";", "db", ".", "execSQL", "(", "CREATE_TABLE_ENCRYPTED", ")", ";", "db", ".", "execSQL", "(", "CREATE_TABLE_CLOUD", ")", ";", "db", ".", "execSQL", "(", "CREATE_TABLE_SORT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpgrade", "(", "SQLiteDatabase", "sqLiteDatabase", ",", "int", "i", ",", "int", "i2", ")", "{", "onCreate", "(", "sqLiteDatabase", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDowngrade", "(", "SQLiteDatabase", "db", ",", "int", "oldVersion", ",", "int", "newVersion", ")", "{", "onUpgrade", "(", "db", ",", "oldVersion", ",", "newVersion", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addTab", "(", "Tab", "tab", ")", "{", "ContentValues", "contentValues", "=", "new", "ContentValues", "(", ")", ";", "contentValues", ".", "put", "(", "COLUMN_TAB_NO", ",", "tab", ".", "tabNumber", ")", ";", "contentValues", ".", "put", "(", "COLUMN_PATH", ",", "tab", ".", "path", ")", ";", "contentValues", ".", "put", "(", "COLUMN_HOME", ",", "tab", ".", "home", ")", ";", "SQLiteDatabase", "sqLiteDatabase", "=", "this", ".", "getWritableDatabase", "(", ")", ";", "sqLiteDatabase", ".", "insert", "(", "TABLE_TAB", ",", "null", ",", "contentValues", ")", ";", "}", "</s>"]
["<s>", "public", "void", "clear", "(", ")", "{", "try", "{", "SQLiteDatabase", "sqLiteDatabase", "=", "getWritableDatabase", "(", ")", ";", "sqLiteDatabase", ".", "delete", "(", "TABLE_TAB", ",", "COLUMN_TAB_NO", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "\"", "\"", "+", "1", "}", ")", ";", "sqLiteDatabase", ".", "delete", "(", "TABLE_TAB", ",", "COLUMN_TAB_NO", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "\"", "\"", "+", "<NUM_LIT:2>", "}", ")", ";", "}", "catch", "(", "NumberFormatException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "Tab", "findTab", "(", "int", "tabNo", ")", "{", "String", "query", "=", "\"", "<STR_LIT>", "\"", "+", "TABLE_TAB", "+", "\"", "<STR_LIT>", "\"", "+", "COLUMN_TAB_NO", "+", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "tabNo", "+", "\"", "<STR_LIT:\\\">", "\"", ";", "SQLiteDatabase", "sqLiteDatabase", "=", "this", ".", "getWritableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "sqLiteDatabase", ".", "rawQuery", "(", "query", ",", "null", ")", ";", "Tab", "tab", ";", "if", "(", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "tab", "=", "new", "Tab", "(", "cursor", ".", "getInt", "(", "0", ")", ",", "cursor", ".", "getString", "(", "1", ")", ",", "cursor", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ";", "cursor", ".", "close", "(", ")", ";", "}", "else", "{", "tab", "=", "null", ";", "}", "return", "tab", ";", "}", "</s>"]
["<s>", "public", "List", "<", "Tab", ">", "getAllTabs", "(", ")", "{", "List", "<", "Tab", ">", "tabList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "SQLiteDatabase", "sqLiteDatabase", "=", "getReadableDatabase", "(", ")", ";", "Cursor", "cursor", "=", "sqLiteDatabase", ".", "query", "(", "TABLE_TAB", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ")", ";", "boolean", "hasNext", "=", "cursor", ".", "moveToFirst", "(", ")", ";", "while", "(", "hasNext", ")", "{", "Tab", "tab", "=", "new", "Tab", "(", "cursor", ".", "getInt", "(", "0", ")", ",", "cursor", ".", "getString", "(", "1", ")", ",", "cursor", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ";", "tabList", ".", "add", "(", "tab", ")", ";", "hasNext", "=", "cursor", ".", "moveToNext", "(", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "return", "tabList", ";", "}", "</s>"]
["<s>", "public", "Sort", "(", "String", "path", ",", "int", "type", ")", "{", "this", ".", "path", "=", "path", ";", "this", ".", "type", "=", "type", ";", "}", "</s>"]
["<s>", "public", "OperationData", "(", "Operation", "type", ",", "String", "path", ")", "{", "if", "(", "type", "!", "=", "HIDDEN", "&", "&", "type", "!", "=", "HISTORY", "&", "&", "type", "!", "=", "LIST", "&", "&", "type", "!", "=", "GRID", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "this", ".", "type", "=", "type", ";", "this", ".", "path", "=", "path", ";", "name", "=", "null", ";", "hostKey", "=", "null", ";", "sshKeyName", "=", "null", ";", "sshKey", "=", "null", ";", "}", "</s>"]
["<s>", "public", "OperationData", "(", "Operation", "type", ",", "String", "name", ",", "String", "path", ")", "{", "if", "(", "type", "!", "=", "BOOKMARKS", "&", "&", "type", "!", "=", "SMB", ")", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "this", ".", "type", "=", "type", ";", "this", ".", "path", "=", "path", ";", "this", ".", "name", "=", "name", ";", "hostKey", "=", "null", ";", "sshKeyName", "=", "null", ";", "sshKey", "=", "null", ";", "}", "</s>"]
["<s>", "public", "OperationData", "(", "Operation", "type", ",", "String", "path", ",", "String", "name", ",", "String", "hostKey", ",", "String", "sshKeyName", ",", "String", "sshKey", ")", "{", "if", "(", "type", "!", "=", "SFTP", ")", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "this", ".", "type", "=", "type", ";", "this", ".", "path", "=", "path", ";", "this", ".", "name", "=", "name", ";", "this", ".", "hostKey", "=", "hostKey", ";", "this", ".", "sshKeyName", "=", "sshKeyName", ";", "this", ".", "sshKey", "=", "sshKey", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "type", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "path", ")", ".", "append", "(", "\"", "<STR_LIT:]>", "\"", ")", ";", "if", "(", "!", "TextUtils", ".", "isEmpty", "(", "hostKey", ")", ")", "sb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "hostKey", ")", ".", "append", "(", "<CHAR_LIT:]>", ")", ";", "if", "(", "!", "TextUtils", ".", "isEmpty", "(", "sshKeyName", ")", ")", "sb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "sshKeyName", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "return", "sb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "public", "EncryptedEntry", "(", ")", "{", "}", "</s>"]
["<s>", "public", "EncryptedEntry", "(", "String", "path", ",", "String", "password", ")", "{", "this", ".", "path", "=", "path", ";", "this", ".", "password", "=", "password", ";", "}", "</s>"]
["<s>", "public", "void", "setId", "(", "int", "_id", ")", "{", "this", ".", "_id", "=", "_id", ";", "}", "</s>"]
["<s>", "public", "int", "getId", "(", ")", "{", "return", "this", ".", "_id", ";", "}", "</s>"]
["<s>", "public", "void", "setPath", "(", "String", "path", ")", "{", "this", ".", "path", "=", "path", ";", "}", "</s>"]
["<s>", "public", "String", "getPath", "(", ")", "{", "return", "this", ".", "path", ";", "}", "</s>"]
["<s>", "public", "void", "setPassword", "(", "String", "password", ")", "{", "this", ".", "password", "=", "password", ";", "}", "</s>"]
["<s>", "public", "String", "getPassword", "(", ")", "{", "return", "this", ".", "password", ";", "}", "</s>"]
["<s>", "public", "CloudEntry", "(", ")", "{", "}", "</s>"]
["<s>", "public", "CloudEntry", "(", "OpenMode", "serviceType", ",", "String", "persistData", ")", "{", "this", ".", "serviceType", "=", "serviceType", ";", "this", ".", "persistData", "=", "persistData", ";", "}", "</s>"]
["<s>", "public", "void", "setId", "(", "int", "_id", ")", "{", "this", ".", "_id", "=", "_id", ";", "}", "</s>"]
["<s>", "public", "int", "getId", "(", ")", "{", "return", "this", ".", "_id", ";", "}", "</s>"]
["<s>", "public", "void", "setPersistData", "(", "String", "persistData", ")", "{", "this", ".", "persistData", "=", "persistData", ";", "}", "</s>"]
["<s>", "public", "String", "getPersistData", "(", ")", "{", "return", "this", ".", "persistData", ";", "}", "</s>"]
["<s>", "public", "void", "setServiceType", "(", "OpenMode", "openMode", ")", "{", "this", ".", "serviceType", "=", "openMode", ";", "}", "</s>"]
["<s>", "public", "OpenMode", "getServiceType", "(", ")", "{", "return", "this", ".", "serviceType", ";", "}", "</s>"]
["<s>", "public", "Tab", "(", "int", "tabNo", ",", "String", "path", ",", "String", "home", ")", "{", "this", ".", "tabNumber", "=", "tabNo", ";", "this", ".", "path", "=", "path", ";", "this", ".", "home", "=", "home", ";", "}", "</s>"]
["<s>", "public", "String", "getOriginalPath", "(", "boolean", "savePaths", ",", "SharedPreferences", "sharedPreferences", ")", "{", "if", "(", "savePaths", "&", "&", "FileUtils", ".", "isPathAccessible", "(", "path", ",", "sharedPreferences", ")", ")", "{", "return", "path", ";", "}", "else", "{", "return", "home", ";", "}", "}", "</s>"]
["<s>", "public", "LoadFilesListTask", "(", "Context", "c", ",", "String", "path", ",", "MainFragment", "ma", ",", "OpenMode", "openmode", ",", "boolean", "showThumbs", ",", "boolean", "showHiddenFiles", ",", "OnAsyncTaskFinished", "<", "Pair", "<", "OpenMode", ",", "ArrayList", "<", "LayoutElementParcelable", ">", ">", ">", "l", ")", "{", "this", ".", "path", "=", "path", ";", "this", ".", "ma", "=", "ma", ";", "this", ".", "openmode", "=", "openmode", ";", "this", ".", "c", "=", "c", ";", "this", ".", "showThumbs", "=", "showThumbs", ";", "this", ".", "showHiddenFiles", "=", "showHiddenFiles", ";", "this", ".", "listener", "=", "l", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Pair", "<", "OpenMode", ",", "ArrayList", "<", "LayoutElementParcelable", ">", ">", "doInBackground", "(", "Void", ".", ".", ".", "p", ")", "{", "HybridFile", "hFile", "=", "null", ";", "if", "(", "openmode", "=", "=", "OpenMode", ".", "UNKNOWN", ")", "{", "hFile", "=", "new", "HybridFile", "(", "OpenMode", ".", "UNKNOWN", ",", "path", ")", ";", "hFile", ".", "generateMode", "(", "ma", ".", "getActivity", "(", ")", ")", ";", "openmode", "=", "hFile", ".", "getMode", "(", ")", ";", "if", "(", "hFile", ".", "isSmb", "(", ")", ")", "{", "ma", ".", "smbPath", "=", "path", ";", "}", "else", "if", "(", "android", ".", "util", ".", "Patterns", ".", "EMAIL_ADDRESS", ".", "matcher", "(", "path", ")", ".", "matches", "(", ")", ")", "{", "openmode", "=", "OpenMode", ".", "ROOT", ";", "}", "}", "if", "(", "isCancelled", "(", ")", ")", "return", "null", ";", "ma", ".", "folder_count", "=", "0", ";", "ma", ".", "file_count", "=", "0", ";", "final", "ArrayList", "<", "LayoutElementParcelable", ">", "list", ";", "switch", "(", "openmode", ")", "{", "case", "SMB", ":", "if", "(", "hFile", "=", "=", "null", ")", "{", "hFile", "=", "new", "HybridFile", "(", "OpenMode", ".", "SMB", ",", "path", ")", ";", "}", "try", "{", "SmbFile", "[", "]", "smbFile", "=", "hFile", ".", "getSmbFile", "(", "<NUM_LIT>", ")", ".", "listFiles", "(", ")", ";", "list", "=", "ma", ".", "addToSmb", "(", "smbFile", ",", "path", ",", "showHiddenFiles", ")", ";", "openmode", "=", "OpenMode", ".", "SMB", ";", "}", "catch", "(", "SmbAuthException", "e", ")", "{", "if", "(", "!", "e", ".", "getMessage", "(", ")", ".", "toLowerCase", "(", ")", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "ma", ".", "reauthenticateSmb", "(", ")", ";", "}", "return", "null", ";", "}", "catch", "(", "SmbException", "|", "NullPointerException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "null", ";", "}", "break", ";", "case", "SFTP", ":", "HybridFile", "sftpHFile", "=", "new", "HybridFile", "(", "OpenMode", ".", "SFTP", ",", "path", ")", ";", "list", "=", "new", "ArrayList", "<", "LayoutElementParcelable", ">", "(", ")", ";", "sftpHFile", ".", "forEachChildrenFile", "(", "c", ",", "false", ",", "file", "-", ">", "{", "LayoutElementParcelable", "elem", "=", "createListParcelables", "(", "file", ")", ";", "if", "(", "elem", "!", "=", "null", ")", "list", ".", "add", "(", "elem", ")", ";", "}", ")", ";", "break", ";", "case", "CUSTOM", ":", "switch", "(", "Integer", ".", "parseInt", "(", "path", ")", ")", "{", "case", "0", ":", "list", "=", "listImages", "(", ")", ";", "break", ";", "case", "1", ":", "list", "=", "listVideos", "(", ")", ";", "break", ";", "case", "<NUM_LIT:2>", ":", "list", "=", "listaudio", "(", ")", ";", "break", ";", "case", "<NUM_LIT:3>", ":", "list", "=", "listDocs", "(", ")", ";", "break", ";", "case", "<NUM_LIT:4>", ":", "list", "=", "listApks", "(", ")", ";", "break", ";", "case", "<NUM_LIT:5>", ":", "list", "=", "listRecent", "(", ")", ";", "break", ";", "case", "<NUM_LIT:6>", ":", "list", "=", "listRecentFiles", "(", ")", ";", "break", ";", "default", ":", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "break", ";", "case", "OTG", ":", "list", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "listOtg", "(", "path", ",", "file", "-", ">", "{", "LayoutElementParcelable", "elem", "=", "createListParcelables", "(", "file", ")", ";", "if", "(", "elem", "!", "=", "null", ")", "list", ".", "add", "(", "elem", ")", ";", "}", ")", ";", "openmode", "=", "OpenMode", ".", "OTG", ";", "break", ";", "case", "DROPBOX", ":", "case", "BOX", ":", "case", "GDRIVE", ":", "case", "ONEDRIVE", ":", "CloudStorage", "cloudStorage", "=", "dataUtils", ".", "getAccount", "(", "openmode", ")", ";", "list", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "try", "{", "listCloud", "(", "path", ",", "cloudStorage", ",", "openmode", ",", "file", "-", ">", "{", "LayoutElementParcelable", "elem", "=", "createListParcelables", "(", "file", ")", ";", "if", "(", "elem", "!", "=", "null", ")", "list", ".", "add", "(", "elem", ")", ";", "}", ")", ";", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "c", ",", "c", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "failed_no_connection", ")", ")", ";", "return", "new", "Pair", "<", ">", "(", "openmode", ",", "list", ")", ";", "}", "break", ";", "default", ":", "list", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "RootHelper", ".", "getFiles", "(", "path", ",", "ma", ".", "getMainActivity", "(", ")", ".", "isRootExplorer", "(", ")", ",", "showHiddenFiles", ",", "mode", "-", ">", "openmode", "=", "mode", ",", "file", "-", ">", "{", "LayoutElementParcelable", "elem", "=", "createListParcelables", "(", "file", ")", ";", "if", "(", "elem", "!", "=", "null", ")", "list", ".", "add", "(", "elem", ")", ";", "}", ")", ";", "break", ";", "}", "if", "(", "list", "!", "=", "null", "&", "&", "!", "(", "openmode", "=", "=", "OpenMode", ".", "CUSTOM", "&", "&", "(", "(", "path", ")", ".", "equals", "(", "\"", "<STR_LIT:5>", "\"", ")", "|", "|", "(", "path", ")", ".", "equals", "(", "\"", "<STR_LIT:6>", "\"", ")", ")", ")", ")", "{", "int", "t", "=", "SortHandler", ".", "getSortType", "(", "ma", ".", "getContext", "(", ")", ",", "path", ")", ";", "int", "sortby", ";", "int", "asc", ";", "if", "(", "t", "<", "=", "<NUM_LIT:3>", ")", "{", "sortby", "=", "t", ";", "asc", "=", "1", ";", "}", "else", "{", "asc", "=", "-", "1", ";", "sortby", "=", "t", "-", "<NUM_LIT:4>", ";", "}", "Collections", ".", "sort", "(", "list", ",", "new", "FileListSorter", "(", "ma", ".", "dsort", ",", "sortby", ",", "asc", ")", ")", ";", "}", "return", "new", "Pair", "<", ">", "(", "openmode", ",", "list", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "Pair", "<", "OpenMode", ",", "ArrayList", "<", "LayoutElementParcelable", ">", ">", "list", ")", "{", "super", ".", "onPostExecute", "(", "list", ")", ";", "listener", ".", "onAsyncTaskFinished", "(", "list", ")", ";", "}", "</s>"]
["<s>", "private", "LayoutElementParcelable", "createListParcelables", "(", "HybridFileParcelable", "baseFile", ")", "{", "if", "(", "!", "dataUtils", ".", "isFileHidden", "(", "baseFile", ".", "getPath", "(", ")", ")", ")", "{", "String", "size", "=", "\"", "\"", ";", "long", "longSize", "=", "0", ";", "if", "(", "baseFile", ".", "isDirectory", "(", ")", ")", "{", "ma", ".", "folder_count", "+", "+", ";", "}", "else", "{", "if", "(", "baseFile", ".", "getSize", "(", ")", "!", "=", "-", "1", ")", "{", "try", "{", "longSize", "=", "baseFile", ".", "getSize", "(", ")", ";", "size", "=", "Formatter", ".", "formatFileSize", "(", "c", ",", "longSize", ")", ";", "}", "catch", "(", "NumberFormatException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "ma", ".", "file_count", "+", "+", ";", "}", "LayoutElementParcelable", "layoutElement", "=", "new", "LayoutElementParcelable", "(", "baseFile", ".", "getName", "(", ")", ",", "baseFile", ".", "getPath", "(", ")", ",", "baseFile", ".", "getPermission", "(", ")", ",", "baseFile", ".", "getLink", "(", ")", ",", "size", ",", "longSize", ",", "false", ",", "baseFile", ".", "getDate", "(", ")", "+", "\"", "\"", ",", "baseFile", ".", "isDirectory", "(", ")", ",", "showThumbs", ",", "baseFile", ".", "getMode", "(", ")", ")", ";", "return", "layoutElement", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "LayoutElementParcelable", ">", "listImages", "(", ")", "{", "ArrayList", "<", "LayoutElementParcelable", ">", "images", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "final", "String", "[", "]", "projection", "=", "{", "MediaStore", ".", "Images", ".", "Media", ".", "DATA", "}", ";", "final", "Cursor", "cursor", "=", "c", ".", "getContentResolver", "(", ")", ".", "query", "(", "MediaStore", ".", "Images", ".", "Media", ".", "EXTERNAL_CONTENT_URI", ",", "projection", ",", "null", ",", "null", ",", "null", ")", ";", "if", "(", "cursor", "=", "=", "null", ")", "return", "images", ";", "else", "if", "(", "cursor", ".", "getCount", "(", ")", ">", "0", "&", "&", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "do", "{", "String", "path", "=", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "MediaStore", ".", "Files", ".", "FileColumns", ".", "DATA", ")", ")", ";", "HybridFileParcelable", "strings", "=", "RootHelper", ".", "generateBaseFile", "(", "new", "File", "(", "path", ")", ",", "showHiddenFiles", ")", ";", "if", "(", "strings", "!", "=", "null", ")", "{", "LayoutElementParcelable", "parcelable", "=", "createListParcelables", "(", "strings", ")", ";", "if", "(", "parcelable", "!", "=", "null", ")", "images", ".", "add", "(", "parcelable", ")", ";", "}", "}", "while", "(", "cursor", ".", "moveToNext", "(", ")", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "return", "images", ";", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "LayoutElementParcelable", ">", "listVideos", "(", ")", "{", "ArrayList", "<", "LayoutElementParcelable", ">", "videos", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "final", "String", "[", "]", "projection", "=", "{", "MediaStore", ".", "Images", ".", "Media", ".", "DATA", "}", ";", "final", "Cursor", "cursor", "=", "c", ".", "getContentResolver", "(", ")", ".", "query", "(", "MediaStore", ".", "Video", ".", "Media", ".", "EXTERNAL_CONTENT_URI", ",", "projection", ",", "null", ",", "null", ",", "null", ")", ";", "if", "(", "cursor", "=", "=", "null", ")", "return", "videos", ";", "else", "if", "(", "cursor", ".", "getCount", "(", ")", ">", "0", "&", "&", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "do", "{", "String", "path", "=", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "MediaStore", ".", "Files", ".", "FileColumns", ".", "DATA", ")", ")", ";", "HybridFileParcelable", "strings", "=", "RootHelper", ".", "generateBaseFile", "(", "new", "File", "(", "path", ")", ",", "showHiddenFiles", ")", ";", "if", "(", "strings", "!", "=", "null", ")", "{", "LayoutElementParcelable", "parcelable", "=", "createListParcelables", "(", "strings", ")", ";", "if", "(", "parcelable", "!", "=", "null", ")", "videos", ".", "add", "(", "parcelable", ")", ";", "}", "}", "while", "(", "cursor", ".", "moveToNext", "(", ")", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "return", "videos", ";", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "LayoutElementParcelable", ">", "listaudio", "(", ")", "{", "String", "selection", "=", "MediaStore", ".", "Audio", ".", "Media", ".", "IS_MUSIC", "+", "\"", "<STR_LIT>", "\"", ";", "String", "[", "]", "projection", "=", "{", "MediaStore", ".", "Audio", ".", "Media", ".", "DATA", "}", ";", "Cursor", "cursor", "=", "c", ".", "getContentResolver", "(", ")", ".", "query", "(", "MediaStore", ".", "Audio", ".", "Media", ".", "EXTERNAL_CONTENT_URI", ",", "projection", ",", "selection", ",", "null", ",", "null", ")", ";", "ArrayList", "<", "LayoutElementParcelable", ">", "songs", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "if", "(", "cursor", "=", "=", "null", ")", "return", "songs", ";", "else", "if", "(", "cursor", ".", "getCount", "(", ")", ">", "0", "&", "&", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "do", "{", "String", "path", "=", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "MediaStore", ".", "Files", ".", "FileColumns", ".", "DATA", ")", ")", ";", "HybridFileParcelable", "strings", "=", "RootHelper", ".", "generateBaseFile", "(", "new", "File", "(", "path", ")", ",", "showHiddenFiles", ")", ";", "if", "(", "strings", "!", "=", "null", ")", "{", "LayoutElementParcelable", "parcelable", "=", "createListParcelables", "(", "strings", ")", ";", "if", "(", "parcelable", "!", "=", "null", ")", "songs", ".", "add", "(", "parcelable", ")", ";", "}", "}", "while", "(", "cursor", ".", "moveToNext", "(", ")", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "return", "songs", ";", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "LayoutElementParcelable", ">", "listDocs", "(", ")", "{", "ArrayList", "<", "LayoutElementParcelable", ">", "docs", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "final", "String", "[", "]", "projection", "=", "{", "MediaStore", ".", "Files", ".", "FileColumns", ".", "DATA", "}", ";", "Cursor", "cursor", "=", "c", ".", "getContentResolver", "(", ")", ".", "query", "(", "MediaStore", ".", "Files", ".", "getContentUri", "(", "\"", "<STR_LIT>", "\"", ")", ",", "projection", ",", "null", ",", "null", ",", "null", ")", ";", "String", "[", "]", "types", "=", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ";", "if", "(", "cursor", "=", "=", "null", ")", "return", "docs", ";", "else", "if", "(", "cursor", ".", "getCount", "(", ")", ">", "0", "&", "&", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "do", "{", "String", "path", "=", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "MediaStore", ".", "Files", ".", "FileColumns", ".", "DATA", ")", ")", ";", "if", "(", "path", "!", "=", "null", "&", "&", "Arrays", ".", "asList", "(", "types", ")", ".", "contains", "(", "path", ")", ")", "{", "HybridFileParcelable", "strings", "=", "RootHelper", ".", "generateBaseFile", "(", "new", "File", "(", "path", ")", ",", "showHiddenFiles", ")", ";", "if", "(", "strings", "!", "=", "null", ")", "{", "LayoutElementParcelable", "parcelable", "=", "createListParcelables", "(", "strings", ")", ";", "if", "(", "parcelable", "!", "=", "null", ")", "docs", ".", "add", "(", "parcelable", ")", ";", "}", "}", "}", "while", "(", "cursor", ".", "moveToNext", "(", ")", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "Collections", ".", "sort", "(", "docs", ",", "(", "lhs", ",", "rhs", ")", "-", ">", "-", "1", "*", "Long", ".", "valueOf", "(", "lhs", ".", "date", ")", ".", "compareTo", "(", "rhs", ".", "date", ")", ")", ";", "if", "(", "docs", ".", "size", "(", ")", ">", "<NUM_LIT:20>", ")", "for", "(", "int", "i", "=", "docs", ".", "size", "(", ")", "-", "1", ";", "i", ">", "<NUM_LIT:20>", ";", "i", "-", "-", ")", "{", "docs", ".", "remove", "(", "i", ")", ";", "}", "return", "docs", ";", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "LayoutElementParcelable", ">", "listApks", "(", ")", "{", "ArrayList", "<", "LayoutElementParcelable", ">", "apks", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "final", "String", "[", "]", "projection", "=", "{", "MediaStore", ".", "Files", ".", "FileColumns", ".", "DATA", "}", ";", "Cursor", "cursor", "=", "c", ".", "getContentResolver", "(", ")", ".", "query", "(", "MediaStore", ".", "Files", ".", "getContentUri", "(", "\"", "<STR_LIT>", "\"", ")", ",", "projection", ",", "null", ",", "null", ",", "null", ")", ";", "if", "(", "cursor", "=", "=", "null", ")", "return", "apks", ";", "else", "if", "(", "cursor", ".", "getCount", "(", ")", ">", "0", "&", "&", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "do", "{", "String", "path", "=", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "MediaStore", ".", "Files", ".", "FileColumns", ".", "DATA", ")", ")", ";", "if", "(", "path", "!", "=", "null", "&", "&", "path", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "HybridFileParcelable", "strings", "=", "RootHelper", ".", "generateBaseFile", "(", "new", "File", "(", "path", ")", ",", "showHiddenFiles", ")", ";", "if", "(", "strings", "!", "=", "null", ")", "{", "LayoutElementParcelable", "parcelable", "=", "createListParcelables", "(", "strings", ")", ";", "if", "(", "parcelable", "!", "=", "null", ")", "apks", ".", "add", "(", "parcelable", ")", ";", "}", "}", "}", "while", "(", "cursor", ".", "moveToNext", "(", ")", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "return", "apks", ";", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "LayoutElementParcelable", ">", "listRecent", "(", ")", "{", "UtilsHandler", "utilsHandler", "=", "new", "UtilsHandler", "(", "c", ")", ";", "final", "LinkedList", "<", "String", ">", "paths", "=", "utilsHandler", ".", "getHistoryLinkedList", "(", ")", ";", "ArrayList", "<", "LayoutElementParcelable", ">", "songs", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "String", "f", ":", "paths", ")", "{", "if", "(", "!", "f", ".", "equals", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "{", "HybridFileParcelable", "hybridFileParcelable", "=", "RootHelper", ".", "generateBaseFile", "(", "new", "File", "(", "f", ")", ",", "showHiddenFiles", ")", ";", "if", "(", "hybridFileParcelable", "!", "=", "null", ")", "{", "hybridFileParcelable", ".", "generateMode", "(", "ma", ".", "getActivity", "(", ")", ")", ";", "if", "(", "!", "hybridFileParcelable", ".", "isSmb", "(", ")", "&", "&", "!", "hybridFileParcelable", ".", "isDirectory", "(", ")", "&", "&", "hybridFileParcelable", ".", "exists", "(", ")", ")", "{", "LayoutElementParcelable", "parcelable", "=", "createListParcelables", "(", "hybridFileParcelable", ")", ";", "if", "(", "parcelable", "!", "=", "null", ")", "songs", ".", "add", "(", "parcelable", ")", ";", "}", "}", "}", "}", "return", "songs", ";", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "LayoutElementParcelable", ">", "listRecentFiles", "(", ")", "{", "ArrayList", "<", "LayoutElementParcelable", ">", "recentFiles", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "final", "String", "[", "]", "projection", "=", "{", "MediaStore", ".", "Files", ".", "FileColumns", ".", "DATA", ",", "MediaStore", ".", "Files", ".", "FileColumns", ".", "DATE_MODIFIED", "}", ";", "Calendar", "c", "=", "Calendar", ".", "getInstance", "(", ")", ";", "c", ".", "set", "(", "Calendar", ".", "DAY_OF_YEAR", ",", "c", ".", "get", "(", "Calendar", ".", "DAY_OF_YEAR", ")", "-", "<NUM_LIT:2>", ")", ";", "Date", "d", "=", "c", ".", "getTime", "(", ")", ";", "Cursor", "cursor", "=", "this", ".", "c", ".", "getContentResolver", "(", ")", ".", "query", "(", "MediaStore", ".", "Files", ".", "getContentUri", "(", "\"", "<STR_LIT>", "\"", ")", ",", "projection", ",", "null", ",", "null", ",", "null", ")", ";", "if", "(", "cursor", "=", "=", "null", ")", "return", "recentFiles", ";", "if", "(", "cursor", ".", "getCount", "(", ")", ">", "0", "&", "&", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "do", "{", "String", "path", "=", "cursor", ".", "getString", "(", "cursor", ".", "getColumnIndex", "(", "MediaStore", ".", "Files", ".", "FileColumns", ".", "DATA", ")", ")", ";", "File", "f", "=", "new", "File", "(", "path", ")", ";", "if", "(", "d", ".", "compareTo", "(", "new", "Date", "(", "f", ".", "lastModified", "(", ")", ")", ")", "!", "=", "1", "&", "&", "!", "f", ".", "isDirectory", "(", ")", ")", "{", "HybridFileParcelable", "strings", "=", "RootHelper", ".", "generateBaseFile", "(", "new", "File", "(", "path", ")", ",", "showHiddenFiles", ")", ";", "if", "(", "strings", "!", "=", "null", ")", "{", "LayoutElementParcelable", "parcelable", "=", "createListParcelables", "(", "strings", ")", ";", "if", "(", "parcelable", "!", "=", "null", ")", "recentFiles", ".", "add", "(", "parcelable", ")", ";", "}", "}", "}", "while", "(", "cursor", ".", "moveToNext", "(", ")", ")", ";", "}", "cursor", ".", "close", "(", ")", ";", "Collections", ".", "sort", "(", "recentFiles", ",", "(", "lhs", ",", "rhs", ")", "-", ">", "-", "1", "*", "Long", ".", "valueOf", "(", "lhs", ".", "date", ")", ".", "compareTo", "(", "rhs", ".", "date", ")", ")", ";", "if", "(", "recentFiles", ".", "size", "(", ")", ">", "<NUM_LIT:20>", ")", "for", "(", "int", "i", "=", "recentFiles", ".", "size", "(", ")", "-", "1", ";", "i", ">", "<NUM_LIT:20>", ";", "i", "-", "-", ")", "{", "recentFiles", ".", "remove", "(", "i", ")", ";", "}", "return", "recentFiles", ";", "}", "</s>"]
["<s>", "private", "void", "listOtg", "(", "String", "path", ",", "OnFileFound", "fileFound", ")", "{", "OTGUtil", ".", "getDocumentFiles", "(", "path", ",", "c", ",", "fileFound", ")", ";", "}", "</s>"]
["<s>", "private", "void", "listCloud", "(", "String", "path", ",", "CloudStorage", "cloudStorage", ",", "OpenMode", "openMode", ",", "OnFileFound", "fileFoundCallback", ")", "throws", "CloudPluginException", "{", "if", "(", "!", "CloudSheetFragment", ".", "isCloudProviderAvailable", "(", "c", ")", ")", "{", "throw", "new", "CloudPluginException", "(", ")", ";", "}", "CloudUtil", ".", "getCloudFiles", "(", "path", ",", "cloudStorage", ",", "openMode", ",", "fileFoundCallback", ")", ";", "}", "</s>"]
["<s>", "public", "LoadFolderSpaceDataTask", "(", "Context", "c", ",", "AppTheme", "appTheme", ",", "PieChart", "chart", ",", "HybridFileParcelable", "f", ")", "{", "context", "=", "c", ";", "this", ".", "appTheme", "=", "appTheme", ";", "this", ".", "chart", "=", "chart", ";", "file", "=", "f", ";", "LEGENDS", "=", "new", "String", "[", "]", "{", "context", ".", "getString", "(", "R", ".", "string", ".", "size", ")", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "used_by_others", ")", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "free", ")", "}", ";", "COLORS", "=", "new", "int", "[", "]", "{", "getColor", "(", "c", ",", "R", ".", "color", ".", "piechart_red", ")", ",", "getColor", "(", "c", ",", "R", ".", "color", ".", "piechart_blue", ")", ",", "getColor", "(", "c", ",", "R", ".", "color", ".", "piechart_green", ")", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Pair", "<", "String", ",", "List", "<", "PieEntry", ">", ">", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "long", "[", "]", "dataArray", "=", "FileUtils", ".", "getSpaces", "(", "file", ",", "context", ",", "this", ":", ":", "publishProgress", ")", ";", "if", "(", "dataArray", "[", "0", "]", "!", "=", "-", "1", "&", "&", "dataArray", "[", "0", "]", "!", "=", "0", ")", "{", "long", "totalSpace", "=", "dataArray", "[", "0", "]", ";", "List", "<", "PieEntry", ">", "entries", "=", "createEntriesFromArray", "(", "dataArray", ",", "false", ")", ";", "return", "new", "Pair", "<", ">", "(", "Formatter", ".", "formatFileSize", "(", "context", ",", "totalSpace", ")", ",", "entries", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onProgressUpdate", "(", "Long", "[", "]", "dataArray", ")", "{", "if", "(", "dataArray", "[", "0", "]", "!", "=", "-", "1", "&", "&", "dataArray", "[", "0", "]", "!", "=", "0", ")", "{", "long", "totalSpace", "=", "dataArray", "[", "0", "]", ";", "List", "<", "PieEntry", ">", "entries", "=", "createEntriesFromArray", "(", "new", "long", "[", "]", "{", "dataArray", "[", "0", "]", ",", "dataArray", "[", "1", "]", ",", "dataArray", "[", "<NUM_LIT:2>", "]", "}", ",", "true", ")", ";", "updateChart", "(", "Formatter", ".", "formatFileSize", "(", "context", ",", "totalSpace", ")", ",", "entries", ")", ";", "chart", ".", "notifyDataSetChanged", "(", ")", ";", "chart", ".", "invalidate", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "Pair", "<", "String", ",", "List", "<", "PieEntry", ">", ">", "data", ")", "{", "if", "(", "data", "=", "=", "null", ")", "{", "chart", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "return", ";", "}", "updateChart", "(", "data", ".", "first", ",", "data", ".", "second", ")", ";", "chart", ".", "notifyDataSetChanged", "(", ")", ";", "chart", ".", "invalidate", "(", ")", ";", "}", "</s>"]
["<s>", "private", "List", "<", "PieEntry", ">", "createEntriesFromArray", "(", "long", "[", "]", "dataArray", ",", "boolean", "loading", ")", "{", "long", "usedByFolder", "=", "dataArray", "[", "<NUM_LIT:2>", "]", ",", "usedByOther", "=", "dataArray", "[", "0", "]", "-", "dataArray", "[", "1", "]", "-", "dataArray", "[", "<NUM_LIT:2>", "]", ",", "freeSpace", "=", "dataArray", "[", "1", "]", ";", "List", "<", "PieEntry", ">", "entries", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "entries", ".", "add", "(", "new", "PieEntry", "(", "usedByFolder", ",", "LEGENDS", "[", "0", "]", ",", "loading", "?", "\"", "<STR_LIT:>>", "\"", ":", "null", ")", ")", ";", "entries", ".", "add", "(", "new", "PieEntry", "(", "usedByOther", ",", "LEGENDS", "[", "1", "]", ",", "loading", "?", "\"", "<STR_LIT:<>", "\"", ":", "null", ")", ")", ";", "entries", ".", "add", "(", "new", "PieEntry", "(", "freeSpace", ",", "LEGENDS", "[", "<NUM_LIT:2>", "]", ")", ")", ";", "return", "entries", ";", "}", "</s>"]
["<s>", "private", "void", "updateChart", "(", "String", "totalSpace", ",", "List", "<", "PieEntry", ">", "entries", ")", "{", "boolean", "isDarkTheme", "=", "appTheme", ".", "getMaterialDialogTheme", "(", ")", "=", "=", "Theme", ".", "DARK", ";", "PieDataSet", "set", "=", "new", "PieDataSet", "(", "entries", ",", "null", ")", ";", "set", ".", "setColors", "(", "COLORS", ")", ";", "set", ".", "setXValuePosition", "(", "PieDataSet", ".", "ValuePosition", ".", "OUTSIDE_SLICE", ")", ";", "set", ".", "setYValuePosition", "(", "PieDataSet", ".", "ValuePosition", ".", "OUTSIDE_SLICE", ")", ";", "set", ".", "setSliceSpace", "(", "<NUM_LIT>", ")", ";", "set", ".", "setAutomaticallyDisableSliceSpacing", "(", "true", ")", ";", "set", ".", "setValueLinePart2Length", "(", "<NUM_LIT>", ")", ";", "set", ".", "setSelectionShift", "(", "<NUM_LIT>", ")", ";", "PieData", "pieData", "=", "new", "PieData", "(", "set", ")", ";", "pieData", ".", "setValueFormatter", "(", "new", "GeneralDialogCreation", ".", "SizeFormatter", "(", "context", ")", ")", ";", "pieData", ".", "setValueTextColor", "(", "isDarkTheme", "?", "Color", ".", "WHITE", ":", "Color", ".", "BLACK", ")", ";", "chart", ".", "setCenterText", "(", "new", "SpannableString", "(", "context", ".", "getString", "(", "R", ".", "string", ".", "total", ")", "+", "\"", "<STR_LIT>", "<STR_LIT>", "\"", "+", "totalSpace", ")", ")", ";", "chart", ".", "setData", "(", "pieData", ")", ";", "}", "</s>"]
["<s>", "public", "SearchAsyncTask", "(", "Activity", "a", ",", "SearchWorkerFragment", ".", "HelperCallbacks", "l", ",", "String", "input", ",", "OpenMode", "openMode", ",", "boolean", "root", ",", "boolean", "regex", ",", "boolean", "matches", ")", "{", "activity", "=", "new", "WeakReference", "<", ">", "(", "a", ")", ";", "mCallbacks", "=", "l", ";", "mInput", "=", "input", ";", "mOpenMode", "=", "openMode", ";", "mRootMode", "=", "root", ";", "isRegexEnabled", "=", "regex", ";", "isMatchesEnabled", "=", "matches", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPreExecute", "(", ")", "{", "if", "(", "mCallbacks", "!", "=", "null", ")", "{", "mCallbacks", ".", "onPreExecute", "(", "mInput", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "Void", "doInBackground", "(", "String", ".", ".", ".", "params", ")", "{", "String", "path", "=", "params", "[", "0", "]", ";", "HybridFile", "file", "=", "new", "HybridFile", "(", "mOpenMode", ",", "path", ")", ";", "file", ".", "generateMode", "(", "activity", ".", "get", "(", ")", ")", ";", "if", "(", "file", ".", "isSmb", "(", ")", ")", "return", "null", ";", "if", "(", "!", "isRegexEnabled", ")", "{", "search", "(", "file", ",", "mInput", ")", ";", "}", "else", "{", "Pattern", "pattern", "=", "Pattern", ".", "compile", "(", "bashRegexToJava", "(", "mInput", ")", ")", ";", "if", "(", "!", "isMatchesEnabled", ")", "searchRegExFind", "(", "file", ",", "pattern", ")", ";", "else", "searchRegExMatch", "(", "file", ",", "pattern", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPostExecute", "(", "Void", "c", ")", "{", "if", "(", "mCallbacks", "!", "=", "null", ")", "{", "mCallbacks", ".", "onPostExecute", "(", "mInput", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCancelled", "(", ")", "{", "if", "(", "mCallbacks", "!", "=", "null", ")", "mCallbacks", ".", "onCancelled", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onProgressUpdate", "(", "HybridFileParcelable", ".", ".", ".", "val", ")", "{", "if", "(", "!", "isCancelled", "(", ")", "&", "&", "mCallbacks", "!", "=", "null", ")", "{", "mCallbacks", ".", "onProgressUpdate", "(", "val", "[", "0", "]", ",", "mInput", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "search", "(", "HybridFile", "directory", ",", "final", "SearchFilter", "filter", ")", "{", "if", "(", "directory", ".", "isDirectory", "(", "activity", ".", "get", "(", ")", ")", ")", "{", "directory", ".", "forEachChildrenFile", "(", "activity", ".", "get", "(", ")", ",", "mRootMode", ",", "file", "-", ">", "{", "if", "(", "!", "isCancelled", "(", ")", ")", "{", "if", "(", "filter", ".", "searchFilter", "(", "file", ".", "getName", "(", ")", ")", ")", "{", "publishProgress", "(", "file", ")", ";", "}", "if", "(", "file", ".", "isDirectory", "(", ")", "&", "&", "!", "isCancelled", "(", ")", ")", "{", "search", "(", "file", ",", "filter", ")", ";", "}", "}", "}", ")", ";", "}", "else", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "directory", ".", "getPath", "(", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "search", "(", "HybridFile", "file", ",", "final", "String", "query", ")", "{", "search", "(", "file", ",", "fileName", "-", ">", "fileName", ".", "toLowerCase", "(", ")", ".", "contains", "(", "query", ".", "toLowerCase", "(", ")", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "searchRegExFind", "(", "HybridFile", "file", ",", "final", "Pattern", "pattern", ")", "{", "search", "(", "file", ",", "fileName", "-", ">", "pattern", ".", "matcher", "(", "fileName", ")", ".", "find", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "searchRegExMatch", "(", "HybridFile", "file", ",", "final", "Pattern", "pattern", ")", "{", "search", "(", "file", ",", "fileName", "-", ">", "pattern", ".", "matcher", "(", "fileName", ")", ".", "matches", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "String", "bashRegexToJava", "(", "String", "originalString", ")", "{", "StringBuilder", "stringBuilder", "=", "new", "StringBuilder", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "originalString", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "switch", "(", "originalString", ".", "charAt", "(", "i", ")", "+", "\"", "\"", ")", "{", "case", "\"", "<STR_LIT:*>", "\"", ":", "stringBuilder", ".", "append", "(", "\"", "<STR_LIT:\\\\>", "<STR_LIT:*>", "\"", ")", ";", "break", ";", "case", "\"", "<STR_LIT:?>", "\"", ":", "stringBuilder", ".", "append", "(", "\"", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ")", ";", "break", ";", "default", ":", "stringBuilder", ".", "append", "(", "originalString", ".", "charAt", "(", "i", ")", ")", ";", "break", ";", "}", "}", "Log", ".", "d", "(", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ",", "stringBuilder", ".", "toString", "(", ")", ")", ";", "return", "stringBuilder", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "boolean", "searchFilter", "(", "String", "fileName", ")", ";", "</s>"]
["<s>", "public", "WriteFileAbstraction", "(", "Context", "context", ",", "ContentResolver", "contentResolver", ",", "EditableFileAbstraction", "file", ",", "String", "dataToSave", ",", "File", "cachedFile", ",", "boolean", "isRootExplorer", ",", "OnAsyncTaskFinished", "<", "Integer", ">", "onAsyncTaskFinished", ")", "{", "this", ".", "context", "=", "new", "WeakReference", "<", ">", "(", "context", ")", ";", "this", ".", "contentResolver", "=", "contentResolver", ";", "this", ".", "fileAbstraction", "=", "file", ";", "this", ".", "cachedFile", "=", "cachedFile", ";", "this", ".", "dataToSave", "=", "dataToSave", ";", "this", ".", "isRootExplorer", "=", "isRootExplorer", ";", "this", ".", "onAsyncTaskFinished", "=", "onAsyncTaskFinished", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Integer", "doInBackground", "(", "Void", ".", ".", ".", "voids", ")", "{", "try", "{", "OutputStream", "outputStream", ";", "switch", "(", "fileAbstraction", ".", "scheme", ")", "{", "case", "EditableFileAbstraction", ".", "SCHEME_CONTENT", ":", "if", "(", "fileAbstraction", ".", "uri", "=", "=", "null", ")", "throw", "new", "NullPointerException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "try", "{", "outputStream", "=", "contentResolver", ".", "openOutputStream", "(", "fileAbstraction", ".", "uri", ")", ";", "}", "catch", "(", "RuntimeException", "e", ")", "{", "throw", "new", "StreamNotFoundException", "(", "e", ")", ";", "}", "break", ";", "case", "EditableFileAbstraction", ".", "SCHEME_FILE", ":", "final", "HybridFileParcelable", "hybridFileParcelable", "=", "fileAbstraction", ".", "hybridFileParcelable", ";", "if", "(", "hybridFileParcelable", "=", "=", "null", ")", "throw", "new", "NullPointerException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Context", "context", "=", "this", ".", "context", ".", "get", "(", ")", ";", "if", "(", "context", "=", "=", "null", ")", "{", "cancel", "(", "true", ")", ";", "return", "null", ";", "}", "outputStream", "=", "FileUtil", ".", "getOutputStream", "(", "hybridFileParcelable", ".", "getFile", "(", ")", ",", "context", ")", ";", "if", "(", "isRootExplorer", "&", "&", "outputStream", "=", "=", "null", ")", "{", "try", "{", "if", "(", "cachedFile", "!", "=", "null", "&", "&", "cachedFile", ".", "exists", "(", ")", ")", "{", "outputStream", "=", "new", "FileOutputStream", "(", "cachedFile", ")", ";", "}", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "outputStream", "=", "null", ";", "}", "}", "break", ";", "default", ":", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "fileAbstraction", ".", "scheme", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "outputStream", "=", "=", "null", ")", "throw", "new", "StreamNotFoundException", "(", ")", ";", "outputStream", ".", "write", "(", "dataToSave", ".", "getBytes", "(", ")", ")", ";", "outputStream", ".", "close", "(", ")", ";", "if", "(", "cachedFile", "!", "=", "null", "&", "&", "cachedFile", ".", "exists", "(", ")", ")", "{", "RootUtils", ".", "cat", "(", "cachedFile", ".", "getPath", "(", ")", ",", "fileAbstraction", ".", "hybridFileParcelable", ".", "getPath", "(", ")", ")", ";", "cachedFile", ".", "delete", "(", ")", ";", "}", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "EXCEPTION_IO", ";", "}", "catch", "(", "StreamNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "EXCEPTION_STREAM_NOT_FOUND", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "EXCEPTION_SHELL_NOT_RUNNING", ";", "}", "return", "NORMAL", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "Integer", "integer", ")", "{", "super", ".", "onPostExecute", "(", "integer", ")", ";", "onAsyncTaskFinished", ".", "onAsyncTaskFinished", "(", "integer", ")", ";", "}", "</s>"]
["<s>", "public", "SearchTextTask", "(", "TextEditorActivity", "textEditorActivity", ")", "{", "this", ".", "textEditorActivity", "=", "textEditorActivity", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPreExecute", "(", ")", "{", "super", ".", "onPreExecute", "(", ")", ";", "this", ".", "searchEditText", "=", "textEditorActivity", ".", "searchEditText", ";", "this", ".", "nodes", "=", "textEditorActivity", ".", "nodes", ";", "this", ".", "upButton", "=", "textEditorActivity", ".", "upButton", ";", "this", ".", "downButton", "=", "textEditorActivity", ".", "downButton", ";", "this", ".", "mInput", "=", "textEditorActivity", ".", "mInput", ";", "searchTextLength", "=", "searchEditText", ".", "length", "(", ")", ";", "editText", "=", "mInput", ".", "getText", "(", ")", ";", "stringReader", "=", "new", "StringReader", "(", "editText", ".", "toString", "(", ")", ")", ";", "lineNumberReader", "=", "new", "LineNumberReader", "(", "stringReader", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "ArrayList", "<", "MapEntry", ">", "doInBackground", "(", "Editable", ".", ".", ".", "params", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "(", "editText", ".", "length", "(", ")", "-", "params", "[", "0", "]", ".", "length", "(", ")", ")", ";", "i", "+", "+", ")", "{", "if", "(", "searchTextLength", "=", "=", "0", "|", "|", "isCancelled", "(", ")", ")", "break", ";", "searchSubString", "=", "editText", ".", "subSequence", "(", "i", ",", "i", "+", "params", "[", "0", "]", ".", "length", "(", ")", ")", ".", "toString", "(", ")", ";", "if", "(", "searchSubString", ".", "equalsIgnoreCase", "(", "params", "[", "0", "]", ".", "toString", "(", ")", ")", ")", "{", "nodes", ".", "add", "(", "new", "MapEntry", "(", "new", "ImmutableEntry", "<", ">", "(", "i", ",", "i", "+", "params", "[", "0", "]", ".", "length", "(", ")", ")", ",", "lineNumberReader", ".", "getLineNumber", "(", ")", ")", ")", ";", "}", "try", "{", "lineNumberReader", ".", "skip", "(", "params", "[", "0", "]", ".", "length", "(", ")", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "return", "nodes", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "final", "ArrayList", "<", "MapEntry", ">", "mapEntries", ")", "{", "super", ".", "onPostExecute", "(", "mapEntries", ")", ";", "for", "(", "Map", ".", "Entry", "mapEntry", ":", "mapEntries", ")", "{", "Map", ".", "Entry", "keyMapEntry", "=", "(", "Map", ".", "Entry", ")", "mapEntry", ".", "getKey", "(", ")", ";", "if", "(", "textEditorActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "mInput", ".", "getText", "(", ")", ".", "setSpan", "(", "new", "BackgroundColorSpan", "(", "Color", ".", "YELLOW", ")", ",", "(", "Integer", ")", "keyMapEntry", ".", "getKey", "(", ")", ",", "(", "Integer", ")", "keyMapEntry", ".", "getValue", "(", ")", ",", "Spanned", ".", "SPAN_INCLUSIVE_INCLUSIVE", ")", ";", "}", "else", "{", "mInput", ".", "getText", "(", ")", ".", "setSpan", "(", "new", "BackgroundColorSpan", "(", "Color", ".", "LTGRAY", ")", ",", "(", "Integer", ")", "keyMapEntry", ".", "getKey", "(", ")", ",", "(", "Integer", ")", "keyMapEntry", ".", "getValue", "(", ")", ",", "Spanned", ".", "SPAN_INCLUSIVE_INCLUSIVE", ")", ";", "}", "}", "if", "(", "mapEntries", ".", "size", "(", ")", "!", "=", "0", ")", "{", "upButton", ".", "setEnabled", "(", "true", ")", ";", "downButton", ".", "setEnabled", "(", "true", ")", ";", "textEditorActivity", ".", "onClick", "(", "downButton", ")", ";", "}", "else", "{", "upButton", ".", "setEnabled", "(", "false", ")", ";", "downButton", ".", "setEnabled", "(", "false", ")", ";", "}", "}", "</s>"]
["<s>", "public", "DeleteTask", "(", "ContentResolver", "c", ",", "Context", "cd", ")", "{", "this", ".", "cd", "=", "cd", ";", "rootMode", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "cd", ")", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_ROOTMODE", ",", "false", ")", ";", "}", "</s>"]
["<s>", "public", "DeleteTask", "(", "ContentResolver", "c", ",", "Context", "cd", ",", "CompressedExplorerFragment", "compressedExplorerFragment", ")", "{", "this", ".", "cd", "=", "cd", ";", "rootMode", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "cd", ")", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_ROOTMODE", ",", "false", ")", ";", "this", ".", "compressedExplorerFragment", "=", "compressedExplorerFragment", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onProgressUpdate", "(", "String", ".", ".", ".", "values", ")", "{", "super", ".", "onProgressUpdate", "(", "values", ")", ";", "Toast", ".", "makeText", "(", "cd", ",", "values", "[", "0", "]", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "protected", "Boolean", "doInBackground", "(", "ArrayList", "<", "HybridFileParcelable", ">", ".", ".", ".", "p1", ")", "{", "files", "=", "p1", "[", "0", "]", ";", "boolean", "wasDeleted", "=", "true", ";", "if", "(", "files", ".", "size", "(", ")", "=", "=", "0", ")", "return", "true", ";", "if", "(", "files", ".", "get", "(", "0", ")", ".", "isOtgFile", "(", ")", ")", "{", "for", "(", "HybridFileParcelable", "file", ":", "files", ")", "{", "DocumentFile", "documentFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "file", ".", "getPath", "(", ")", ",", "cd", ",", "false", ")", ";", "wasDeleted", "=", "documentFile", ".", "delete", "(", ")", ";", "}", "}", "else", "if", "(", "files", ".", "get", "(", "0", ")", ".", "isDropBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "for", "(", "HybridFileParcelable", "baseFile", ":", "files", ")", "{", "try", "{", "cloudStorageDropbox", ".", "delete", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "baseFile", ".", "getPath", "(", ")", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "wasDeleted", "=", "false", ";", "break", ";", "}", "}", "}", "else", "if", "(", "files", ".", "get", "(", "0", ")", ".", "isBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "for", "(", "HybridFileParcelable", "baseFile", ":", "files", ")", "{", "try", "{", "cloudStorageBox", ".", "delete", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "baseFile", ".", "getPath", "(", ")", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "wasDeleted", "=", "false", ";", "break", ";", "}", "}", "}", "else", "if", "(", "files", ".", "get", "(", "0", ")", ".", "isGoogleDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageGdrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "for", "(", "HybridFileParcelable", "baseFile", ":", "files", ")", "{", "try", "{", "cloudStorageGdrive", ".", "delete", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "baseFile", ".", "getPath", "(", ")", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "wasDeleted", "=", "false", ";", "break", ";", "}", "}", "}", "else", "if", "(", "files", ".", "get", "(", "0", ")", ".", "isOneDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageOnedrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "for", "(", "HybridFileParcelable", "baseFile", ":", "files", ")", "{", "try", "{", "cloudStorageOnedrive", ".", "delete", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "baseFile", ".", "getPath", "(", ")", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "wasDeleted", "=", "false", ";", "break", ";", "}", "}", "}", "else", "{", "for", "(", "HybridFileParcelable", "file", ":", "files", ")", "{", "try", "{", "if", "(", "file", ".", "delete", "(", "cd", ",", "rootMode", ")", ")", "{", "wasDeleted", "=", "true", ";", "}", "else", "{", "wasDeleted", "=", "false", ";", "break", ";", "}", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "wasDeleted", "=", "false", ";", "break", ";", "}", "}", "}", "if", "(", "!", "files", ".", "get", "(", "0", ")", ".", "isSmb", "(", ")", ")", "{", "try", "{", "for", "(", "HybridFileParcelable", "f", ":", "files", ")", "{", "delete", "(", "cd", ",", "f", ".", "getPath", "(", ")", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "for", "(", "HybridFileParcelable", "f", ":", "files", ")", "{", "FileUtils", ".", "scanFile", "(", "f", ".", "getFile", "(", ")", ",", "cd", ")", ";", "}", "}", "}", "for", "(", "HybridFileParcelable", "file", ":", "files", ")", "{", "if", "(", "file", ".", "getName", "(", ")", ".", "endsWith", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ")", ")", "{", "CryptHandler", "handler", "=", "new", "CryptHandler", "(", "cd", ")", ";", "handler", ".", "clear", "(", "file", ".", "getPath", "(", ")", ")", ";", "}", "}", "return", "wasDeleted", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPostExecute", "(", "Boolean", "wasDeleted", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST", ")", ";", "String", "path", "=", "files", ".", "get", "(", "0", ")", ".", "getParent", "(", "cd", ")", ";", "intent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST_FILE", ",", "path", ")", ";", "cd", ".", "sendBroadcast", "(", "intent", ")", ";", "if", "(", "!", "wasDeleted", ")", "{", "Toast", ".", "makeText", "(", "cd", ",", "cd", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "error", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "else", "if", "(", "compressedExplorerFragment", "=", "=", "null", ")", "{", "Toast", ".", "makeText", "(", "cd", ",", "cd", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "done", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "if", "(", "compressedExplorerFragment", "!", "=", "null", ")", "{", "compressedExplorerFragment", ".", "files", ".", "clear", "(", ")", ";", "}", "NotificationManager", "notificationManager", "=", "(", "NotificationManager", ")", "cd", ".", "getSystemService", "(", "Context", ".", "NOTIFICATION_SERVICE", ")", ";", "notificationManager", ".", "cancel", "(", "NotificationConstants", ".", "COPY_ID", ")", ";", "}", "</s>"]
["<s>", "private", "void", "delete", "(", "final", "Context", "context", ",", "final", "String", "file", ")", "{", "final", "String", "where", "=", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ";", "final", "String", "[", "]", "selectionArgs", "=", "new", "String", "[", "]", "{", "file", "}", ";", "final", "ContentResolver", "contentResolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "final", "Uri", "filesUri", "=", "MediaStore", ".", "Files", ".", "getContentUri", "(", "\"", "<STR_LIT>", "\"", ")", ";", "contentResolver", ".", "delete", "(", "filesUri", ",", "where", ",", "selectionArgs", ")", ";", "}", "</s>"]
["<s>", "public", "DbViewerTask", "(", "Cursor", "schemaCursor", ",", "Cursor", "contentCursor", ",", "WebView", "webView", ",", "DbViewerFragment", "dbViewerFragment", ")", "{", "this", ".", "schemaCursor", "=", "schemaCursor", ";", "this", ".", "contentCursor", "=", "contentCursor", ";", "this", ".", "webView", "=", "webView", ";", "this", ".", "dbViewerFragment", "=", "dbViewerFragment", ";", "stringBuilder", "=", "new", "StringBuilder", "(", ")", ";", "webView", ".", "getSettings", "(", ")", ".", "setDefaultTextEncodingName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPreExecute", "(", ")", "{", "super", ".", "onPreExecute", "(", ")", ";", "if", "(", "dbViewerFragment", ".", "databaseViewerActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "dbViewerFragment", ".", "databaseViewerActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "htmlInit", "=", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", ";", "}", "else", "{", "htmlInit", "=", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", ";", "}", "stringBuilder", ".", "append", "(", "htmlInit", ")", ";", "dbViewerFragment", ".", "loadingText", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onProgressUpdate", "(", "Integer", ".", ".", ".", "values", ")", "{", "super", ".", "onProgressUpdate", "(", "values", ")", ";", "dbViewerFragment", ".", "loadingText", ".", "setText", "(", "values", "[", "0", "]", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "schemaList", "=", "getDbTableSchema", "(", "schemaCursor", ")", ";", "contentList", "=", "getDbTableDetails", "(", "contentCursor", ")", ";", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCancelled", "(", ")", "{", "super", ".", "onCancelled", "(", ")", ";", "dbViewerFragment", ".", "getActivity", "(", ")", ".", "onBackPressed", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "Void", "aVoid", ")", "{", "super", ".", "onPostExecute", "(", "aVoid", ")", ";", "dbViewerFragment", ".", "loadingText", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "stringBuilder", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "for", "(", "String", "s", ":", "schemaList", ")", "{", "stringBuilder", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "s", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "stringBuilder", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "for", "(", "String", "[", "]", "strings", ":", "contentList", ")", "{", "stringBuilder", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "strings", ".", "length", ";", "i", "+", "+", ")", "{", "stringBuilder", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "strings", "[", "i", "]", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "stringBuilder", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "stringBuilder", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "webView", ".", "loadData", "(", "stringBuilder", ".", "toString", "(", ")", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "webView", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "String", "[", "]", ">", "getDbTableDetails", "(", "Cursor", "c", ")", "{", "ArrayList", "<", "String", "[", "]", ">", "result", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "int", "j", "=", "0", ";", "for", "(", "c", ".", "moveToFirst", "(", ")", ";", "!", "c", ".", "isAfterLast", "(", ")", ";", "c", ".", "moveToNext", "(", ")", ")", "{", "if", "(", "!", "isCancelled", "(", ")", ")", "{", "j", "+", "+", ";", "publishProgress", "(", "j", ")", ";", "String", "[", "]", "temp", "=", "new", "String", "[", "c", ".", "getColumnCount", "(", ")", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "temp", ".", "length", ";", "i", "+", "+", ")", "{", "int", "dataType", "=", "c", ".", "getType", "(", "i", ")", ";", "switch", "(", "dataType", ")", "{", "case", "0", ":", "temp", "[", "i", "]", "=", "null", ";", "break", ";", "case", "1", ":", "temp", "[", "i", "]", "=", "String", ".", "valueOf", "(", "c", ".", "getInt", "(", "i", ")", ")", ";", "break", ";", "case", "<NUM_LIT:2>", ":", "temp", "[", "i", "]", "=", "String", ".", "valueOf", "(", "c", ".", "getFloat", "(", "i", ")", ")", ";", "break", ";", "case", "<NUM_LIT:3>", ":", "temp", "[", "i", "]", "=", "c", ".", "getString", "(", "i", ")", ";", "break", ";", "case", "<NUM_LIT:4>", ":", "temp", "[", "i", "]", "=", "\"", "<STR_LIT>", "\"", ";", "break", ";", "}", "}", "result", ".", "add", "(", "temp", ")", ";", "}", "else", "{", "break", ";", "}", "}", "return", "result", ";", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "String", ">", "getDbTableSchema", "(", "Cursor", "c", ")", "{", "ArrayList", "<", "String", ">", "result", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "c", ".", "moveToFirst", "(", ")", ";", "!", "c", ".", "isAfterLast", "(", ")", ";", "c", ".", "moveToNext", "(", ")", ")", "{", "if", "(", "!", "isCancelled", "(", ")", ")", "{", "result", ".", "add", "(", "c", ".", "getString", "(", "1", ")", ")", ";", "}", "else", "break", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "public", "AsyncTaskResult", "(", "T", "result", ")", "{", "this", ".", "result", "=", "result", ";", "this", ".", "exception", "=", "null", ";", "}", "</s>"]
["<s>", "public", "AsyncTaskResult", "(", "Throwable", "exception", ")", "{", "this", ".", "result", "=", "null", ";", "this", ".", "exception", "=", "exception", ";", "}", "</s>"]
["<s>", "void", "onResult", "(", "T", "result", ")", ";", "</s>"]
["<s>", "public", "CountItemsOrAndSizeTask", "(", "Context", "c", ",", "TextView", "itemsText", ",", "HybridFileParcelable", "f", ",", "boolean", "storage", ")", "{", "this", ".", "context", "=", "c", ";", "this", ".", "itemsText", "=", "itemsText", ";", "file", "=", "f", ";", "isStorage", "=", "storage", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "doInBackground", "(", "Void", "[", "]", "params", ")", "{", "String", "items", "=", "\"", "\"", ";", "long", "fileLength", "=", "file", ".", "length", "(", "context", ")", ";", "if", "(", "file", ".", "isDirectory", "(", "context", ")", ")", "{", "final", "AtomicInteger", "x", "=", "new", "AtomicInteger", "(", "0", ")", ";", "file", ".", "forEachChildrenFile", "(", "context", ",", "false", ",", "file", "-", ">", "x", ".", "incrementAndGet", "(", ")", ")", ";", "final", "int", "folderLength", "=", "x", ".", "intValue", "(", ")", ";", "long", "folderSize", ";", "if", "(", "isStorage", ")", "{", "folderSize", "=", "file", ".", "getUsableSpace", "(", ")", ";", "}", "else", "{", "folderSize", "=", "FileUtils", ".", "folderSize", "(", "file", ",", "data", "-", ">", "publishProgress", "(", "new", "Pair", "<", ">", "(", "folderLength", ",", "data", ")", ")", ")", ";", "}", "items", "=", "getText", "(", "folderLength", ",", "folderSize", ",", "false", ")", ";", "}", "else", "{", "items", "=", "Formatter", ".", "formatFileSize", "(", "context", ",", "fileLength", ")", "+", "(", "\"", "<STR_LIT>", "\"", "+", "fileLength", "+", "\"", "\"", "+", "context", ".", "getResources", "(", ")", ".", "getQuantityString", "(", "R", ".", "plurals", ".", "bytes", ",", "(", "int", ")", "fileLength", ")", "+", "\"", "<STR_LIT:)>", "\"", ")", ";", "}", "return", "items", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onProgressUpdate", "(", "Pair", "<", "Integer", ",", "Long", ">", "[", "]", "dataArr", ")", "{", "Pair", "<", "Integer", ",", "Long", ">", "data", "=", "dataArr", "[", "0", "]", ";", "itemsText", ".", "setText", "(", "getText", "(", "data", ".", "first", ",", "data", ".", "second", ",", "true", ")", ")", ";", "}", "</s>"]
["<s>", "private", "String", "getText", "(", "int", "filesInFolder", ",", "long", "length", ",", "boolean", "loading", ")", "{", "String", "numOfItems", "=", "(", "filesInFolder", "!", "=", "0", "?", "filesInFolder", "+", "\"", "\"", ":", "\"", "\"", ")", "+", "context", ".", "getResources", "(", ")", ".", "getQuantityString", "(", "R", ".", "plurals", ".", "items", ",", "filesInFolder", ")", ";", "return", "numOfItems", "+", "\"", "<STR_LIT>", "\"", "+", "(", "loading", "?", "\"", "<STR_LIT:>>", "\"", ":", "\"", "\"", ")", "+", "Formatter", ".", "formatFileSize", "(", "context", ",", "length", ")", ";", "}", "</s>"]
["<s>", "protected", "void", "onPostExecute", "(", "String", "items", ")", "{", "itemsText", ".", "setText", "(", "items", ")", ";", "}", "</s>"]
["<s>", "public", "MoveFiles", "(", "ArrayList", "<", "ArrayList", "<", "HybridFileParcelable", ">", ">", "files", ",", "MainFragment", "ma", ",", "Context", "context", ",", "OpenMode", "mode", ")", "{", "mainFrag", "=", "ma", ";", "this", ".", "context", "=", "context", ";", "this", ".", "files", "=", "files", ";", "this", ".", "mode", "=", "mode", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Boolean", "doInBackground", "(", "ArrayList", "<", "String", ">", ".", ".", ".", "strings", ")", "{", "paths", "=", "strings", "[", "0", "]", ";", "if", "(", "files", ".", "size", "(", ")", "=", "=", "0", ")", "return", "true", ";", "for", "(", "ArrayList", "<", "HybridFileParcelable", ">", "filesCurrent", ":", "files", ")", "{", "totalBytes", "+", "=", "FileUtils", ".", "getTotalBytes", "(", "filesCurrent", ",", "context", ")", ";", "}", "HybridFile", "destination", "=", "new", "HybridFile", "(", "mode", ",", "paths", ".", "get", "(", "0", ")", ")", ";", "destinationSize", "=", "destination", ".", "getUsableSpace", "(", ")", ";", "switch", "(", "mode", ")", "{", "case", "SMB", ":", "for", "(", "int", "i", "=", "0", ";", "i", "<", "paths", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "for", "(", "HybridFileParcelable", "f", ":", "files", ".", "get", "(", "i", ")", ")", "{", "try", "{", "SmbFile", "source", "=", "new", "SmbFile", "(", "f", ".", "getPath", "(", ")", ")", ";", "SmbFile", "dest", "=", "new", "SmbFile", "(", "paths", ".", "get", "(", "i", ")", "+", "\"", "<STR_LIT:/>", "\"", "+", "f", ".", "getName", "(", ")", ")", ";", "source", ".", "renameTo", "(", "dest", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "false", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "false", ";", "}", "}", "}", "break", ";", "case", "FILE", ":", "for", "(", "int", "i", "=", "0", ";", "i", "<", "paths", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "for", "(", "HybridFileParcelable", "f", ":", "files", ".", "get", "(", "i", ")", ")", "{", "File", "dest", "=", "new", "File", "(", "paths", ".", "get", "(", "i", ")", "+", "\"", "<STR_LIT:/>", "\"", "+", "f", ".", "getName", "(", ")", ")", ";", "File", "source", "=", "new", "File", "(", "f", ".", "getPath", "(", ")", ")", ";", "if", "(", "!", "source", ".", "renameTo", "(", "dest", ")", ")", "{", "if", "(", "mainFrag", ".", "getMainActivity", "(", ")", ".", "isRootExplorer", "(", ")", ")", "{", "try", "{", "if", "(", "!", "RootUtils", ".", "rename", "(", "f", ".", "getPath", "(", ")", ",", "paths", ".", "get", "(", "i", ")", "+", "\"", "<STR_LIT:/>", "\"", "+", "f", ".", "getName", "(", ")", ")", ")", "return", "false", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "false", ";", "}", "}", "else", "return", "false", ";", "}", "}", "}", "break", ";", "case", "DROPBOX", ":", "case", "BOX", ":", "case", "ONEDRIVE", ":", "case", "GDRIVE", ":", "for", "(", "int", "i", "=", "0", ";", "i", "<", "paths", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "for", "(", "HybridFileParcelable", "baseFile", ":", "files", ".", "get", "(", "i", ")", ")", "{", "DataUtils", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "CloudStorage", "cloudStorage", "=", "dataUtils", ".", "getAccount", "(", "mode", ")", ";", "String", "targetPath", "=", "paths", ".", "get", "(", "i", ")", "+", "\"", "<STR_LIT:/>", "\"", "+", "baseFile", ".", "getName", "(", ")", ";", "if", "(", "baseFile", ".", "getMode", "(", ")", "=", "=", "mode", ")", "{", "try", "{", "cloudStorage", ".", "move", "(", "CloudUtil", ".", "stripPath", "(", "mode", ",", "baseFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "mode", ",", "targetPath", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "return", "false", ";", "}", "}", "else", "{", "return", "false", ";", "}", "}", "}", "default", ":", "return", "false", ";", "}", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPostExecute", "(", "Boolean", "movedCorrectly", ")", "{", "if", "(", "movedCorrectly", ")", "{", "if", "(", "mainFrag", "!", "=", "null", "&", "&", "mainFrag", ".", "getCurrentPath", "(", ")", ".", "equals", "(", "paths", ".", "get", "(", "0", ")", ")", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST", ")", ";", "intent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST_FILE", ",", "paths", ".", "get", "(", "0", ")", ")", ";", "context", ".", "sendBroadcast", "(", "intent", ")", ";", "}", "for", "(", "int", "i", "=", "0", ";", "i", "<", "paths", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "for", "(", "HybridFileParcelable", "f", ":", "files", ".", "get", "(", "i", ")", ")", "{", "FileUtils", ".", "scanFile", "(", "f", ".", "getFile", "(", ")", ",", "context", ")", ";", "FileUtils", ".", "scanFile", "(", "new", "File", "(", "paths", ".", "get", "(", "i", ")", "+", "\"", "<STR_LIT:/>", "\"", "+", "f", ".", "getName", "(", ")", ")", ",", "context", ")", ";", "}", "}", "AppConfig", ".", "runInBackground", "(", "(", ")", "-", ">", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "paths", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "for", "(", "HybridFileParcelable", "file", ":", "files", ".", "get", "(", "i", ")", ")", "{", "if", "(", "file", ".", "getName", "(", ")", ".", "endsWith", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ")", ")", "{", "try", "{", "CryptHandler", "cryptHandler", "=", "new", "CryptHandler", "(", "context", ")", ";", "EncryptedEntry", "oldEntry", "=", "cryptHandler", ".", "findEntry", "(", "file", ".", "getPath", "(", ")", ")", ";", "EncryptedEntry", "newEntry", "=", "new", "EncryptedEntry", "(", ")", ";", "newEntry", ".", "setId", "(", "oldEntry", ".", "getId", "(", ")", ")", ";", "newEntry", ".", "setPassword", "(", "oldEntry", ".", "getPassword", "(", ")", ")", ";", "newEntry", ".", "setPath", "(", "paths", ".", "get", "(", "i", ")", "+", "\"", "<STR_LIT:/>", "\"", "+", "file", ".", "getName", "(", ")", ")", ";", "cryptHandler", ".", "updateEntry", "(", "oldEntry", ",", "newEntry", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "}", "}", ")", ";", "}", "else", "{", "if", "(", "destinationSize", "<", "totalBytes", ")", "{", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "in_safe", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", ";", "}", "for", "(", "int", "i", "=", "0", ";", "i", "<", "paths", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "context", ",", "CopyService", ".", "class", ")", ";", "intent", ".", "putExtra", "(", "CopyService", ".", "TAG_COPY_SOURCES", ",", "files", ".", "get", "(", "i", ")", ")", ";", "intent", ".", "putExtra", "(", "CopyService", ".", "TAG_COPY_TARGET", ",", "paths", ".", "get", "(", "i", ")", ")", ";", "intent", ".", "putExtra", "(", "CopyService", ".", "TAG_COPY_MOVE", ",", "true", ")", ";", "intent", ".", "putExtra", "(", "CopyService", ".", "TAG_COPY_OPEN_MODE", ",", "mode", ".", "ordinal", "(", ")", ")", ";", "ServiceWatcherUtil", ".", "runService", "(", "context", ",", "intent", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "static", "HashSet", "<", "OpenMode", ">", "getOperationSupportedFileSystem", "(", ")", "{", "HashSet", "<", "OpenMode", ">", "hashSet", "=", "new", "HashSet", "<", ">", "(", ")", ";", "hashSet", ".", "add", "(", "OpenMode", ".", "SMB", ")", ";", "hashSet", ".", "add", "(", "OpenMode", ".", "FILE", ")", ";", "hashSet", ".", "add", "(", "OpenMode", ".", "DROPBOX", ")", ";", "hashSet", ".", "add", "(", "OpenMode", ".", "BOX", ")", ";", "hashSet", ".", "add", "(", "OpenMode", ".", "GDRIVE", ")", ";", "hashSet", ".", "add", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "return", "hashSet", ";", "}", "</s>"]
["<s>", "public", "PrepareCopyTask", "(", "MainFragment", "ma", ",", "String", "path", ",", "Boolean", "move", ",", "MainActivity", "con", ",", "boolean", "rootMode", ")", "{", "mainFrag", "=", "ma", ";", "this", ".", "move", "=", "move", ";", "mainActivity", "=", "con", ";", "context", "=", "con", ";", "openMode", "=", "mainFrag", ".", "openMode", ";", "this", ".", "rootMode", "=", "rootMode", ";", "this", ".", "path", "=", "path", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPreExecute", "(", ")", "{", "super", ".", "onPreExecute", "(", ")", ";", "dialog", "=", "ProgressDialog", ".", "show", "(", "context", ",", "\"", "\"", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "processing", ")", ",", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onProgressUpdate", "(", "String", ".", ".", ".", "message", ")", "{", "Toast", ".", "makeText", "(", "context", ",", "message", "[", "0", "]", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "CopyNode", "doInBackground", "(", "ArrayList", "<", "HybridFileParcelable", ">", ".", ".", ".", "params", ")", "{", "filesToCopy", "=", "params", "[", "0", "]", ";", "long", "totalBytes", "=", "0", ";", "if", "(", "openMode", "=", "=", "OpenMode", ".", "OTG", "|", "|", "openMode", "=", "=", "OpenMode", ".", "DROPBOX", "|", "|", "openMode", "=", "=", "OpenMode", ".", "BOX", "|", "|", "openMode", "=", "=", "OpenMode", ".", "GDRIVE", "|", "|", "openMode", "=", "=", "OpenMode", ".", "ONEDRIVE", ")", "{", "return", "null", ";", "}", "HybridFile", "destination", "=", "new", "HybridFile", "(", "openMode", ",", "path", ")", ";", "destination", ".", "generateMode", "(", "context", ")", ";", "if", "(", "move", "&", "&", "destination", ".", "getMode", "(", ")", "=", "=", "openMode", "&", "&", "MoveFiles", ".", "getOperationSupportedFileSystem", "(", ")", ".", "contains", "(", "openMode", ")", ")", "{", "isRenameMoveSupport", "=", "true", ";", "}", "totalBytes", "=", "FileUtils", ".", "getTotalBytes", "(", "filesToCopy", ",", "context", ")", ";", "if", "(", "destination", ".", "getUsableSpace", "(", ")", "<", "totalBytes", "&", "&", "!", "isRenameMoveSupport", ")", "{", "publishProgress", "(", "context", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "in_safe", ")", ")", ";", "return", "null", ";", "}", "copyFolder", "=", "new", "CopyNode", "(", "path", ",", "filesToCopy", ")", ";", "return", "copyFolder", ";", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "HybridFileParcelable", ">", "checkConflicts", "(", "final", "ArrayList", "<", "HybridFileParcelable", ">", "filesToCopy", ",", "HybridFile", "destination", ")", "{", "final", "ArrayList", "<", "HybridFileParcelable", ">", "conflictingFiles", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "destination", ".", "forEachChildrenFile", "(", "context", ",", "rootMode", ",", "file", "-", ">", "{", "for", "(", "HybridFileParcelable", "j", ":", "filesToCopy", ")", "{", "if", "(", "file", ".", "getName", "(", ")", ".", "equals", "(", "(", "j", ")", ".", "getName", "(", ")", ")", ")", "{", "conflictingFiles", ".", "add", "(", "j", ")", ";", "}", "}", "}", ")", ";", "return", "conflictingFiles", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "CopyNode", "copyFolder", ")", "{", "super", ".", "onPostExecute", "(", "copyFolder", ")", ";", "if", "(", "openMode", "=", "=", "OpenMode", ".", "OTG", "|", "|", "openMode", "=", "=", "OpenMode", ".", "GDRIVE", "|", "|", "openMode", "=", "=", "OpenMode", ".", "DROPBOX", "|", "|", "openMode", "=", "=", "OpenMode", ".", "BOX", "|", "|", "openMode", "=", "=", "OpenMode", ".", "ONEDRIVE", ")", "{", "startService", "(", "filesToCopy", ",", "path", ",", "openMode", ")", ";", "}", "else", "{", "if", "(", "copyFolder", "=", "=", "null", ")", "{", "dialog", ".", "dismiss", "(", ")", ";", "return", ";", "}", "onEndDialog", "(", "null", ",", "null", ",", "null", ")", ";", "}", "dialog", ".", "dismiss", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "startService", "(", "ArrayList", "<", "HybridFileParcelable", ">", "sourceFiles", ",", "String", "target", ",", "OpenMode", "openmode", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "context", ",", "CopyService", ".", "class", ")", ";", "intent", ".", "putParcelableArrayListExtra", "(", "CopyService", ".", "TAG_COPY_SOURCES", ",", "sourceFiles", ")", ";", "intent", ".", "putExtra", "(", "CopyService", ".", "TAG_COPY_TARGET", ",", "target", ")", ";", "intent", ".", "putExtra", "(", "CopyService", ".", "TAG_COPY_OPEN_MODE", ",", "openmode", ".", "ordinal", "(", ")", ")", ";", "intent", ".", "putExtra", "(", "CopyService", ".", "TAG_COPY_MOVE", ",", "move", ")", ";", "ServiceWatcherUtil", ".", "runService", "(", "context", ",", "intent", ")", ";", "}", "</s>"]
["<s>", "private", "void", "showDialog", "(", "final", "String", "path", ",", "final", "ArrayList", "<", "HybridFileParcelable", ">", "filesToCopy", ",", "final", "ArrayList", "<", "HybridFileParcelable", ">", "conflictingFiles", ")", "{", "int", "accentColor", "=", "mainActivity", ".", "getAccent", "(", ")", ";", "final", "MaterialDialog", ".", "Builder", "dialogBuilder", "=", "new", "MaterialDialog", ".", "Builder", "(", "context", ")", ";", "LayoutInflater", "layoutInflater", "=", "(", "LayoutInflater", ")", "mainActivity", ".", "getSystemService", "(", "Context", ".", "LAYOUT_INFLATER_SERVICE", ")", ";", "View", "view", "=", "layoutInflater", ".", "inflate", "(", "R", ".", "layout", ".", "copy_dialog", ",", "null", ")", ";", "dialogBuilder", ".", "customView", "(", "view", ",", "true", ")", ";", "TextView", "textView", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "fileNameText", ")", ";", "textView", ".", "setText", "(", "conflictingFiles", ".", "get", "(", "counter", ")", ".", "getName", "(", ")", ")", ";", "final", "CheckBox", "checkBox", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "checkBox", ")", ";", "Utils", ".", "setTint", "(", "context", ",", "checkBox", ",", "accentColor", ")", ";", "dialogBuilder", ".", "theme", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "dialogBuilder", ".", "title", "(", "context", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "paste", ")", ")", ";", "dialogBuilder", ".", "positiveText", "(", "R", ".", "string", ".", "skip", ")", ";", "dialogBuilder", ".", "negativeText", "(", "R", ".", "string", ".", "overwrite", ")", ";", "dialogBuilder", ".", "neutralText", "(", "R", ".", "string", ".", "cancel", ")", ";", "dialogBuilder", ".", "positiveColor", "(", "accentColor", ")", ";", "dialogBuilder", ".", "negativeColor", "(", "accentColor", ")", ";", "dialogBuilder", ".", "neutralColor", "(", "accentColor", ")", ";", "dialogBuilder", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "if", "(", "checkBox", ".", "isChecked", "(", ")", ")", "dialogState", "=", "DO_FOR_ALL_ELEMENTS", ".", "DO_NOT_REPLACE", ";", "doNotReplaceFiles", "(", "path", ",", "filesToCopy", ",", "conflictingFiles", ")", ";", "}", ")", ";", "dialogBuilder", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "if", "(", "checkBox", ".", "isChecked", "(", ")", ")", "dialogState", "=", "DO_FOR_ALL_ELEMENTS", ".", "REPLACE", ";", "replaceFiles", "(", "path", ",", "filesToCopy", ",", "conflictingFiles", ")", ";", "}", ")", ";", "final", "MaterialDialog", "dialog", "=", "dialogBuilder", ".", "build", "(", ")", ";", "dialog", ".", "show", "(", ")", ";", "if", "(", "filesToCopy", ".", "get", "(", "0", ")", ".", "getParent", "(", ")", ".", "equals", "(", "path", ")", ")", "{", "View", "negative", "=", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "NEGATIVE", ")", ";", "negative", ".", "setEnabled", "(", "false", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "onEndDialog", "(", "String", "path", ",", "ArrayList", "<", "HybridFileParcelable", ">", "filesToCopy", ",", "ArrayList", "<", "HybridFileParcelable", ">", "conflictingFiles", ")", "{", "if", "(", "conflictingFiles", "!", "=", "null", "&", "&", "counter", "!", "=", "conflictingFiles", ".", "size", "(", ")", "&", "&", "conflictingFiles", ".", "size", "(", ")", ">", "0", ")", "{", "if", "(", "dialogState", "=", "=", "null", ")", "showDialog", "(", "path", ",", "filesToCopy", ",", "conflictingFiles", ")", ";", "else", "if", "(", "dialogState", "=", "=", "DO_FOR_ALL_ELEMENTS", ".", "DO_NOT_REPLACE", ")", "doNotReplaceFiles", "(", "path", ",", "filesToCopy", ",", "conflictingFiles", ")", ";", "else", "if", "(", "dialogState", "=", "=", "DO_FOR_ALL_ELEMENTS", ".", "REPLACE", ")", "replaceFiles", "(", "path", ",", "filesToCopy", ",", "conflictingFiles", ")", ";", "}", "else", "{", "CopyNode", "c", "=", "!", "copyFolder", ".", "hasStarted", "(", ")", "?", "copyFolder", ".", "startCopy", "(", ")", ":", "copyFolder", ".", "goToNextNode", "(", ")", ";", "if", "(", "c", "!", "=", "null", ")", "{", "counter", "=", "0", ";", "paths", ".", "add", "(", "c", ".", "getPath", "(", ")", ")", ";", "filesToCopyPerFolder", ".", "add", "(", "c", ".", "filesToCopy", ")", ";", "if", "(", "dialogState", "=", "=", "null", ")", "onEndDialog", "(", "c", ".", "path", ",", "c", ".", "filesToCopy", ",", "c", ".", "conflictingFiles", ")", ";", "else", "if", "(", "dialogState", "=", "=", "DO_FOR_ALL_ELEMENTS", ".", "DO_NOT_REPLACE", ")", "doNotReplaceFiles", "(", "c", ".", "path", ",", "c", ".", "filesToCopy", ",", "c", ".", "conflictingFiles", ")", ";", "else", "if", "(", "dialogState", "=", "=", "DO_FOR_ALL_ELEMENTS", ".", "REPLACE", ")", "replaceFiles", "(", "c", ".", "path", ",", "c", ".", "filesToCopy", ",", "c", ".", "conflictingFiles", ")", ";", "}", "else", "{", "finishCopying", "(", "paths", ",", "filesToCopyPerFolder", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "doNotReplaceFiles", "(", "String", "path", ",", "ArrayList", "<", "HybridFileParcelable", ">", "filesToCopy", ",", "ArrayList", "<", "HybridFileParcelable", ">", "conflictingFiles", ")", "{", "if", "(", "counter", "<", "conflictingFiles", ".", "size", "(", ")", ")", "{", "if", "(", "dialogState", "!", "=", "null", ")", "{", "filesToCopy", ".", "remove", "(", "conflictingFiles", ".", "get", "(", "counter", ")", ")", ";", "counter", "+", "+", ";", "}", "else", "{", "for", "(", "int", "j", "=", "counter", ";", "j", "<", "conflictingFiles", ".", "size", "(", ")", ";", "j", "+", "+", ")", "{", "filesToCopy", ".", "remove", "(", "conflictingFiles", ".", "get", "(", "j", ")", ")", ";", "}", "counter", "=", "conflictingFiles", ".", "size", "(", ")", ";", "}", "}", "onEndDialog", "(", "path", ",", "filesToCopy", ",", "conflictingFiles", ")", ";", "}", "</s>"]
["<s>", "private", "void", "replaceFiles", "(", "String", "path", ",", "ArrayList", "<", "HybridFileParcelable", ">", "filesToCopy", ",", "ArrayList", "<", "HybridFileParcelable", ">", "conflictingFiles", ")", "{", "if", "(", "counter", "<", "conflictingFiles", ".", "size", "(", ")", ")", "{", "if", "(", "dialogState", "!", "=", "null", ")", "{", "counter", "+", "+", ";", "}", "else", "{", "counter", "=", "conflictingFiles", ".", "size", "(", ")", ";", "}", "}", "onEndDialog", "(", "path", ",", "filesToCopy", ",", "conflictingFiles", ")", ";", "}", "</s>"]
["<s>", "private", "void", "finishCopying", "(", "ArrayList", "<", "String", ">", "paths", ",", "ArrayList", "<", "ArrayList", "<", "HybridFileParcelable", ">", ">", "filesToCopyPerFolder", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "filesToCopyPerFolder", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "if", "(", "filesToCopyPerFolder", ".", "get", "(", "i", ")", "=", "=", "null", "|", "|", "filesToCopyPerFolder", ".", "get", "(", "i", ")", ".", "size", "(", ")", "=", "=", "0", ")", "{", "filesToCopyPerFolder", ".", "remove", "(", "i", ")", ";", "paths", ".", "remove", "(", "i", ")", ";", "i", "-", "-", ";", "}", "}", "if", "(", "filesToCopyPerFolder", ".", "size", "(", ")", "!", "=", "0", ")", "{", "int", "mode", "=", "mainActivity", ".", "mainActivityHelper", ".", "checkFolder", "(", "new", "File", "(", "path", ")", ",", "context", ")", ";", "if", "(", "mode", "=", "=", "MainActivityHelper", ".", "CAN_CREATE_FILES", "&", "&", "!", "path", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "mainActivity", ".", "oparrayListList", "=", "filesToCopyPerFolder", ";", "mainActivity", ".", "oparrayList", "=", "null", ";", "mainActivity", ".", "operation", "=", "move", "?", "DataUtils", ".", "MOVE", ":", "DataUtils", ".", "COPY", ";", "mainActivity", ".", "oppatheList", "=", "paths", ";", "}", "else", "{", "if", "(", "!", "move", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "filesToCopyPerFolder", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "startService", "(", "filesToCopyPerFolder", ".", "get", "(", "i", ")", ",", "paths", ".", "get", "(", "i", ")", ",", "openMode", ")", ";", "}", "}", "else", "{", "new", "MoveFiles", "(", "filesToCopyPerFolder", ",", "mainFrag", ",", "context", ",", "openMode", ")", ".", "executeOnExecutor", "(", "AsyncTask", ".", "THREAD_POOL_EXECUTOR", ",", "paths", ")", ";", "}", "}", "}", "else", "{", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "no_file_overwrite", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", "</s>"]
["<s>", "CopyNode", "(", "String", "p", ",", "ArrayList", "<", "HybridFileParcelable", ">", "filesToCopy", ")", "{", "path", "=", "p", ";", "this", ".", "filesToCopy", "=", "filesToCopy", ";", "HybridFile", "destination", "=", "new", "HybridFile", "(", "openMode", ",", "path", ")", ";", "conflictingFiles", "=", "checkConflicts", "(", "filesToCopy", ",", "destination", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "conflictingFiles", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "if", "(", "conflictingFiles", ".", "get", "(", "i", ")", ".", "isDirectory", "(", ")", ")", "{", "if", "(", "deleteCopiedFolder", "=", "=", "null", ")", "deleteCopiedFolder", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "deleteCopiedFolder", ".", "add", "(", "new", "File", "(", "conflictingFiles", ".", "get", "(", "i", ")", ".", "getPath", "(", ")", ")", ")", ";", "nextNodes", ".", "add", "(", "new", "CopyNode", "(", "path", "+", "\"", "<STR_LIT:/>", "\"", "+", "conflictingFiles", ".", "get", "(", "i", ")", ".", "getName", "(", ")", ",", "conflictingFiles", ".", "get", "(", "i", ")", ".", "listFiles", "(", "context", ",", "rootMode", ")", ")", ")", ";", "filesToCopy", ".", "remove", "(", "filesToCopy", ".", "indexOf", "(", "conflictingFiles", ".", "get", "(", "i", ")", ")", ")", ";", "conflictingFiles", ".", "remove", "(", "i", ")", ";", "i", "-", "-", ";", "}", "}", "}", "</s>"]
["<s>", "CopyNode", "startCopy", "(", ")", "{", "queue", "=", "new", "LinkedList", "<", ">", "(", ")", ";", "visited", "=", "new", "HashSet", "<", ">", "(", ")", ";", "queue", ".", "add", "(", "this", ")", ";", "visited", ".", "add", "(", "this", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "CopyNode", "goToNextNode", "(", ")", "{", "if", "(", "queue", ".", "isEmpty", "(", ")", ")", "return", "null", ";", "else", "{", "CopyNode", "node", "=", "queue", ".", "element", "(", ")", ";", "CopyNode", "child", ";", "if", "(", "(", "child", "=", "getUnvisitedChildNode", "(", "visited", ",", "node", ")", ")", "!", "=", "null", ")", "{", "visited", ".", "add", "(", "child", ")", ";", "queue", ".", "add", "(", "child", ")", ";", "return", "child", ";", "}", "else", "{", "queue", ".", "remove", "(", ")", ";", "return", "goToNextNode", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "boolean", "hasStarted", "(", ")", "{", "return", "queue", "!", "=", "null", ";", "}", "</s>"]
["<s>", "String", "getPath", "(", ")", "{", "return", "path", ";", "}", "</s>"]
["<s>", "ArrayList", "<", "HybridFileParcelable", ">", "getFilesToCopy", "(", ")", "{", "return", "filesToCopy", ";", "}", "</s>"]
["<s>", "ArrayList", "<", "HybridFileParcelable", ">", "getConflictingFiles", "(", ")", "{", "return", "conflictingFiles", ";", "}", "</s>"]
["<s>", "private", "CopyNode", "getUnvisitedChildNode", "(", "Set", "<", "CopyNode", ">", "visited", ",", "CopyNode", "node", ")", "{", "for", "(", "CopyNode", "n", ":", "node", ".", "nextNodes", ")", "{", "if", "(", "!", "visited", ".", "contains", "(", "n", ")", ")", "{", "return", "n", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "ReadFileTask", "(", "ContentResolver", "contentResolver", ",", "EditableFileAbstraction", "file", ",", "File", "cacheDir", ",", "boolean", "isRootExplorer", ",", "OnAsyncTaskFinished", "<", "ReturnedValues", ">", "onAsyncTaskFinished", ")", "{", "this", ".", "contentResolver", "=", "contentResolver", ";", "this", ".", "fileAbstraction", "=", "file", ";", "this", ".", "externalCacheDir", "=", "cacheDir", ";", "this", ".", "isRootExplorer", "=", "isRootExplorer", ";", "this", ".", "onAsyncTaskFinished", "=", "onAsyncTaskFinished", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "ReturnedValues", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "StringBuilder", "stringBuilder", "=", "new", "StringBuilder", "(", ")", ";", "try", "{", "InputStream", "inputStream", "=", "null", ";", "switch", "(", "fileAbstraction", ".", "scheme", ")", "{", "case", "EditableFileAbstraction", ".", "SCHEME_CONTENT", ":", "if", "(", "fileAbstraction", ".", "uri", "=", "=", "null", ")", "throw", "new", "NullPointerException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "inputStream", "=", "contentResolver", ".", "openInputStream", "(", "fileAbstraction", ".", "uri", ")", ";", "break", ";", "case", "EditableFileAbstraction", ".", "SCHEME_FILE", ":", "final", "HybridFileParcelable", "hybridFileParcelable", "=", "fileAbstraction", ".", "hybridFileParcelable", ";", "if", "(", "hybridFileParcelable", "=", "=", "null", ")", "throw", "new", "NullPointerException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "File", "file", "=", "hybridFileParcelable", ".", "getFile", "(", ")", ";", "if", "(", "!", "file", ".", "canWrite", "(", ")", "&", "&", "isRootExplorer", ")", "{", "try", "{", "cachedFile", "=", "new", "File", "(", "externalCacheDir", ",", "hybridFileParcelable", ".", "getName", "(", ")", ")", ";", "RootUtils", ".", "copy", "(", "hybridFileParcelable", ".", "getPath", "(", ")", ",", "cachedFile", ".", "getPath", "(", ")", ")", ";", "inputStream", "=", "new", "FileInputStream", "(", "cachedFile", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "inputStream", "=", "null", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "inputStream", "=", "null", ";", "}", "}", "else", "if", "(", "file", ".", "canRead", "(", ")", ")", "{", "try", "{", "inputStream", "=", "new", "FileInputStream", "(", "hybridFileParcelable", ".", "getPath", "(", ")", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "inputStream", "=", "null", ";", "}", "}", "break", ";", "default", ":", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "fileAbstraction", ".", "scheme", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "inputStream", "=", "=", "null", ")", "throw", "new", "StreamNotFoundException", "(", ")", ";", "BufferedReader", "bufferedReader", "=", "new", "BufferedReader", "(", "new", "InputStreamReader", "(", "inputStream", ")", ")", ";", "String", "buffer", ";", "while", "(", "(", "buffer", "=", "bufferedReader", ".", "readLine", "(", ")", ")", "!", "=", "null", ")", "{", "stringBuilder", ".", "append", "(", "buffer", ")", ".", "append", "(", "\"", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "}", "inputStream", ".", "close", "(", ")", ";", "bufferedReader", ".", "close", "(", ")", ";", "}", "catch", "(", "StreamNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "new", "ReturnedValues", "(", "EXCEPTION_STREAM_NOT_FOUND", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "new", "ReturnedValues", "(", "EXCEPTION_IO", ")", ";", "}", "return", "new", "ReturnedValues", "(", "stringBuilder", ".", "toString", "(", ")", ",", "cachedFile", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "ReturnedValues", "s", ")", "{", "super", ".", "onPostExecute", "(", "s", ")", ";", "onAsyncTaskFinished", ".", "onAsyncTaskFinished", "(", "s", ")", ";", "}", "</s>"]
["<s>", "private", "ReturnedValues", "(", "String", "fileContents", ",", "File", "cachedFile", ")", "{", "this", ".", "fileContents", "=", "fileContents", ";", "this", ".", "cachedFile", "=", "cachedFile", ";", "this", ".", "error", "=", "NORMAL", ";", "}", "</s>"]
["<s>", "private", "ReturnedValues", "(", "int", "error", ")", "{", "this", ".", "error", "=", "error", ";", "this", ".", "fileContents", "=", "null", ";", "this", ".", "cachedFile", "=", "null", ";", "}", "</s>"]
["<s>", "public", "GenerateHashesTask", "(", "HybridFileParcelable", "f", ",", "final", "Context", "c", ",", "final", "View", "view", ")", "{", "this", ".", "context", "=", "c", ";", "this", ".", "file", "=", "f", ";", "md5HashText", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "t9", ")", ";", "sha256Text", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "t10", ")", ";", "mMD5LinearLayout", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "properties_dialog_md5", ")", ";", "mSHA256LinearLayout", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "properties_dialog_sha256", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "[", "]", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "String", "md5", "=", "context", ".", "getString", "(", "R", ".", "string", ".", "error", ")", ";", "String", "sha256", "=", "context", ".", "getString", "(", "R", ".", "string", ".", "error", ")", ";", "try", "{", "if", "(", "file", ".", "isSftp", "(", ")", ")", "{", "md5", "=", "SshClientUtils", ".", "execute", "(", "new", "SshClientSessionTemplate", "(", "file", ".", "getPath", "(", ")", ")", "{", "@", "Override", "public", "String", "execute", "(", "Session", "session", ")", "throws", "IOException", "{", "Session", ".", "Command", "cmd", "=", "session", ".", "exec", "(", "String", ".", "format", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "<STR_LIT:%s>", "<STR_LIT:\\\">", "<STR_LIT>", "\"", ",", "SshClientUtils", ".", "extractRemotePathFrom", "(", "file", ".", "getPath", "(", ")", ")", ")", ")", ";", "String", "result", "=", "new", "String", "(", "IOUtils", ".", "readFully", "(", "cmd", ".", "getInputStream", "(", ")", ")", ".", "toByteArray", "(", ")", ")", ";", "cmd", ".", "close", "(", ")", ";", "if", "(", "cmd", ".", "getExitStatus", "(", ")", "=", "=", "0", ")", "return", "result", ";", "else", "{", "return", "null", ";", "}", "}", "}", ")", ";", "sha256", "=", "SshClientUtils", ".", "execute", "(", "new", "SshClientSessionTemplate", "(", "file", ".", "getPath", "(", ")", ")", "{", "@", "Override", "public", "String", "execute", "(", "Session", "session", ")", "throws", "IOException", "{", "Session", ".", "Command", "cmd", "=", "session", ".", "exec", "(", "String", ".", "format", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "<STR_LIT:%s>", "<STR_LIT:\\\">", "<STR_LIT>", "\"", ",", "SshClientUtils", ".", "extractRemotePathFrom", "(", "file", ".", "getPath", "(", ")", ")", ")", ")", ";", "String", "result", "=", "new", "String", "(", "IOUtils", ".", "readFully", "(", "cmd", ".", "getInputStream", "(", ")", ")", ".", "toByteArray", "(", ")", ")", ";", "cmd", ".", "close", "(", ")", ";", "if", "(", "cmd", ".", "getExitStatus", "(", ")", "=", "=", "0", ")", "return", "result", ";", "else", "{", "return", "null", ";", "}", "}", "}", ")", ";", "}", "else", "if", "(", "!", "file", ".", "isDirectory", "(", "context", ")", ")", "{", "md5", "=", "getMD5Checksum", "(", ")", ";", "sha256", "=", "getSHA256Checksum", "(", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "new", "String", "[", "]", "{", "md5", ",", "sha256", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "execute", "(", "Session", "session", ")", "throws", "IOException", "{", "Session", ".", "Command", "cmd", "=", "session", ".", "exec", "(", "String", ".", "format", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "<STR_LIT:%s>", "<STR_LIT:\\\">", "<STR_LIT>", "\"", ",", "SshClientUtils", ".", "extractRemotePathFrom", "(", "file", ".", "getPath", "(", ")", ")", ")", ")", ";", "String", "result", "=", "new", "String", "(", "IOUtils", ".", "readFully", "(", "cmd", ".", "getInputStream", "(", ")", ")", ".", "toByteArray", "(", ")", ")", ";", "cmd", ".", "close", "(", ")", ";", "if", "(", "cmd", ".", "getExitStatus", "(", ")", "=", "=", "0", ")", "return", "result", ";", "else", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "execute", "(", "Session", "session", ")", "throws", "IOException", "{", "Session", ".", "Command", "cmd", "=", "session", ".", "exec", "(", "String", ".", "format", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "<STR_LIT:%s>", "<STR_LIT:\\\">", "<STR_LIT>", "\"", ",", "SshClientUtils", ".", "extractRemotePathFrom", "(", "file", ".", "getPath", "(", ")", ")", ")", ")", ";", "String", "result", "=", "new", "String", "(", "IOUtils", ".", "readFully", "(", "cmd", ".", "getInputStream", "(", ")", ")", ".", "toByteArray", "(", ")", ")", ";", "cmd", ".", "close", "(", ")", ";", "if", "(", "cmd", ".", "getExitStatus", "(", ")", "=", "=", "0", ")", "return", "result", ";", "else", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "final", "String", "[", "]", "hashes", ")", "{", "super", ".", "onPostExecute", "(", "hashes", ")", ";", "if", "(", "!", "file", ".", "isDirectory", "(", ")", "&", "&", "file", ".", "getSize", "(", ")", "!", "=", "0", ")", "{", "md5HashText", ".", "setText", "(", "hashes", "[", "0", "]", ")", ";", "sha256Text", ".", "setText", "(", "hashes", "[", "1", "]", ")", ";", "mMD5LinearLayout", ".", "setOnLongClickListener", "(", "v", "-", ">", "{", "FileUtils", ".", "copyToClipboard", "(", "context", ",", "hashes", "[", "0", "]", ")", ";", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "md5", ")", ".", "toUpperCase", "(", ")", "+", "\"", "\"", "+", "context", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "properties_copied_clipboard", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "return", "false", ";", "}", ")", ";", "mSHA256LinearLayout", ".", "setOnLongClickListener", "(", "v", "-", ">", "{", "FileUtils", ".", "copyToClipboard", "(", "context", ",", "hashes", "[", "1", "]", ")", ";", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "hash_sha256", ")", "+", "\"", "\"", "+", "context", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "properties_copied_clipboard", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "return", "false", ";", "}", ")", ";", "}", "else", "{", "mMD5LinearLayout", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "mSHA256LinearLayout", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "}", "</s>"]
["<s>", "private", "String", "getMD5Checksum", "(", ")", "throws", "Exception", "{", "byte", "[", "]", "b", "=", "createChecksum", "(", ")", ";", "String", "result", "=", "\"", "\"", ";", "for", "(", "byte", "aB", ":", "b", ")", "{", "result", "+", "=", "Integer", ".", "toString", "(", "(", "aB", "&", "<NUM_LIT>", ")", "+", "<NUM_LIT>", ",", "<NUM_LIT:16>", ")", ".", "substring", "(", "1", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "private", "String", "getSHA256Checksum", "(", ")", "throws", "NoSuchAlgorithmException", ",", "IOException", "{", "MessageDigest", "messageDigest", "=", "MessageDigest", ".", "getInstance", "(", "\"", "<STR_LIT>", "\"", ")", ";", "byte", "[", "]", "input", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "int", "length", ";", "InputStream", "inputStream", "=", "file", ".", "getInputStream", "(", "context", ")", ";", "while", "(", "(", "length", "=", "inputStream", ".", "read", "(", "input", ")", ")", "!", "=", "-", "1", ")", "{", "if", "(", "length", ">", "0", ")", "messageDigest", ".", "update", "(", "input", ",", "0", ",", "length", ")", ";", "}", "byte", "[", "]", "hash", "=", "messageDigest", ".", "digest", "(", ")", ";", "StringBuilder", "hexString", "=", "new", "StringBuilder", "(", ")", ";", "for", "(", "byte", "aHash", ":", "hash", ")", "{", "String", "hex", "=", "Integer", ".", "toHexString", "(", "<NUM_LIT>", "&", "aHash", ")", ";", "if", "(", "hex", ".", "length", "(", ")", "=", "=", "1", ")", "hexString", ".", "append", "(", "<CHAR_LIT:0>", ")", ";", "hexString", ".", "append", "(", "hex", ")", ";", "}", "inputStream", ".", "close", "(", ")", ";", "return", "hexString", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "private", "byte", "[", "]", "createChecksum", "(", ")", "throws", "Exception", "{", "InputStream", "fis", "=", "file", ".", "getInputStream", "(", "context", ")", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "<NUM_LIT>", "]", ";", "MessageDigest", "complete", "=", "MessageDigest", ".", "getInstance", "(", "\"", "<STR_LIT>", "\"", ")", ";", "int", "numRead", ";", "do", "{", "numRead", "=", "fis", ".", "read", "(", "buffer", ")", ";", "if", "(", "numRead", ">", "0", ")", "{", "complete", ".", "update", "(", "buffer", ",", "0", ",", "numRead", ")", ";", "}", "}", "while", "(", "numRead", "!", "=", "-", "1", ")", ";", "fis", ".", "close", "(", ")", ";", "return", "complete", ".", "digest", "(", ")", ";", "}", "</s>"]
["<s>", "public", "Bzip2HelperTask", "(", "String", "filePath", ",", "String", "relativePath", ",", "boolean", "goBack", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "l", ")", "{", "super", "(", "goBack", ",", "l", ")", ";", "this", ".", "filePath", "=", "filePath", ";", "this", ".", "relativePath", "=", "relativePath", ";", "}", "</s>"]
["<s>", "@", "Override", "void", "addElements", "(", "ArrayList", "<", "CompressedObjectParcelable", ">", "elements", ")", "{", "TarArchiveInputStream", "tarInputStream", "=", "null", ";", "try", "{", "tarInputStream", "=", "new", "TarArchiveInputStream", "(", "new", "BZip2CompressorInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ")", ";", "TarArchiveEntry", "entry", ";", "while", "(", "(", "entry", "=", "tarInputStream", ".", "getNextTarEntry", "(", ")", ")", "!", "=", "null", ")", "{", "String", "name", "=", "entry", ".", "getName", "(", ")", ";", "if", "(", "name", ".", "endsWith", "(", "SEPARATOR", ")", ")", "name", "=", "name", ".", "substring", "(", "0", ",", "name", ".", "length", "(", ")", "-", "1", ")", ";", "boolean", "isInBaseDir", "=", "relativePath", ".", "equals", "(", "\"", "\"", ")", "&", "&", "!", "name", ".", "contains", "(", "SEPARATOR", ")", ";", "boolean", "isInRelativeDir", "=", "name", ".", "contains", "(", "SEPARATOR", ")", "&", "&", "name", ".", "substring", "(", "0", ",", "name", ".", "lastIndexOf", "(", "SEPARATOR", ")", ")", ".", "equals", "(", "relativePath", ")", ";", "if", "(", "isInBaseDir", "|", "|", "isInRelativeDir", ")", "{", "elements", ".", "add", "(", "new", "CompressedObjectParcelable", "(", "entry", ".", "getName", "(", ")", ",", "entry", ".", "getLastModifiedDate", "(", ")", ".", "getTime", "(", ")", ",", "entry", ".", "getSize", "(", ")", ",", "entry", ".", "isDirectory", "(", ")", ")", ")", ";", "}", "}", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "GzipHelperTask", "(", "Context", "context", ",", "String", "filePath", ",", "String", "relativePath", ",", "boolean", "goBack", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "l", ")", "{", "super", "(", "goBack", ",", "l", ")", ";", "this", ".", "context", "=", "new", "WeakReference", "<", ">", "(", "context", ")", ";", "this", ".", "filePath", "=", "filePath", ";", "this", ".", "relativePath", "=", "relativePath", ";", "}", "</s>"]
["<s>", "@", "Override", "void", "addElements", "(", "ArrayList", "<", "CompressedObjectParcelable", ">", "elements", ")", "{", "TarArchiveInputStream", "tarInputStream", "=", "null", ";", "try", "{", "tarInputStream", "=", "new", "TarArchiveInputStream", "(", "new", "GzipCompressorInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ")", ";", "TarArchiveEntry", "entry", ";", "while", "(", "(", "entry", "=", "tarInputStream", ".", "getNextTarEntry", "(", ")", ")", "!", "=", "null", ")", "{", "String", "name", "=", "entry", ".", "getName", "(", ")", ";", "if", "(", "!", "CompressedHelper", ".", "isEntryPathValid", "(", "name", ")", ")", "{", "AppConfig", ".", "toast", "(", "context", ".", "get", "(", ")", ",", "context", ".", "get", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "multiple_invalid_archive_entries", ")", ")", ";", "continue", ";", "}", "if", "(", "name", ".", "endsWith", "(", "SEPARATOR", ")", ")", "name", "=", "name", ".", "substring", "(", "0", ",", "name", ".", "length", "(", ")", "-", "1", ")", ";", "boolean", "isInBaseDir", "=", "relativePath", ".", "equals", "(", "\"", "\"", ")", "&", "&", "!", "name", ".", "contains", "(", "SEPARATOR", ")", ";", "boolean", "isInRelativeDir", "=", "name", ".", "contains", "(", "SEPARATOR", ")", "&", "&", "name", ".", "substring", "(", "0", ",", "name", ".", "lastIndexOf", "(", "SEPARATOR", ")", ")", ".", "equals", "(", "relativePath", ")", ";", "if", "(", "isInBaseDir", "|", "|", "isInRelativeDir", ")", "{", "elements", ".", "add", "(", "new", "CompressedObjectParcelable", "(", "entry", ".", "getName", "(", ")", ",", "entry", ".", "getLastModifiedDate", "(", ")", ".", "getTime", "(", ")", ",", "entry", ".", "getSize", "(", ")", ",", "entry", ".", "isDirectory", "(", ")", ")", ")", ";", "}", "}", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "RarHelperTask", "(", "Context", "context", ",", "String", "realFileDirectory", ",", "String", "dir", ",", "boolean", "goBack", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "l", ")", "{", "super", "(", "goBack", ",", "l", ")", ";", "this", ".", "context", "=", "new", "WeakReference", "<", ">", "(", "context", ")", ";", "fileLocation", "=", "realFileDirectory", ";", "relativeDirectory", "=", "dir", ";", "}", "</s>"]
["<s>", "@", "Override", "void", "addElements", "(", "ArrayList", "<", "CompressedObjectParcelable", ">", "elements", ")", "{", "try", "{", "Archive", "zipfile", "=", "new", "Archive", "(", "new", "File", "(", "fileLocation", ")", ")", ";", "String", "relativeDirDiffSeparator", "=", "relativeDirectory", ".", "replace", "(", "CompressedHelper", ".", "SEPARATOR", ",", "\"", "<STR_LIT:\\\\>", "\"", ")", ";", "for", "(", "FileHeader", "rarArchive", ":", "zipfile", ".", "getFileHeaders", "(", ")", ")", "{", "String", "name", "=", "rarArchive", ".", "getFileNameString", "(", ")", ";", "if", "(", "!", "CompressedHelper", ".", "isEntryPathValid", "(", "name", ")", ")", "{", "continue", ";", "}", "boolean", "isInBaseDir", "=", "(", "relativeDirDiffSeparator", "=", "=", "null", "|", "|", "relativeDirDiffSeparator", ".", "equals", "(", "\"", "\"", ")", ")", "&", "&", "!", "name", ".", "contains", "(", "\"", "<STR_LIT:\\\\>", "\"", ")", ";", "boolean", "isInRelativeDir", "=", "relativeDirDiffSeparator", "!", "=", "null", "&", "&", "name", ".", "contains", "(", "\"", "<STR_LIT:\\\\>", "\"", ")", "&", "&", "name", ".", "substring", "(", "0", ",", "name", ".", "lastIndexOf", "(", "\"", "<STR_LIT:\\\\>", "\"", ")", ")", ".", "equals", "(", "relativeDirDiffSeparator", ")", ";", "if", "(", "isInBaseDir", "|", "|", "isInRelativeDir", ")", "{", "elements", ".", "add", "(", "new", "CompressedObjectParcelable", "(", "RarDecompressor", ".", "convertName", "(", "rarArchive", ")", ",", "0", ",", "rarArchive", ".", "getDataSize", "(", ")", ",", "rarArchive", ".", "isDirectory", "(", ")", ")", ")", ";", "}", "}", "}", "catch", "(", "RarException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "ZipHelperTask", "(", "Context", "c", ",", "String", "realFileDirectory", ",", "String", "dir", ",", "boolean", "goback", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "l", ")", "{", "super", "(", "goback", ",", "l", ")", ";", "context", "=", "new", "WeakReference", "<", ">", "(", "c", ")", ";", "fileLocation", "=", "Uri", ".", "parse", "(", "realFileDirectory", ")", ";", "relativeDirectory", "=", "dir", ";", "}", "</s>"]
["<s>", "@", "Override", "void", "addElements", "(", "ArrayList", "<", "CompressedObjectParcelable", ">", "elements", ")", "{", "try", "{", "ArrayList", "<", "CompressedObjectParcelable", ">", "wholelist", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "ZipFile", "zipfile", "=", "new", "ZipFile", "(", "fileLocation", ".", "getPath", "(", ")", ")", ";", "for", "(", "Iterator", "<", "FileHeader", ">", "headers", "=", "zipfile", ".", "getFileHeaders", "(", ")", ".", "iterator", "(", ")", ";", "headers", ".", "hasNext", "(", ")", ";", ")", "{", "FileHeader", "entry", "=", "(", "FileHeader", ")", "headers", ".", "next", "(", ")", ";", "if", "(", "!", "CompressedHelper", ".", "isEntryPathValid", "(", "entry", ".", "getFileName", "(", ")", ")", ")", "{", "AppConfig", ".", "toast", "(", "context", ".", "get", "(", ")", ",", "context", ".", "get", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "multiple_invalid_archive_entries", ")", ")", ";", "continue", ";", "}", "wholelist", ".", "add", "(", "new", "CompressedObjectParcelable", "(", "entry", ".", "getFileName", "(", ")", ",", "entry", ".", "getLastModFileTime", "(", ")", ",", "entry", ".", "getUncompressedSize", "(", ")", ",", "entry", ".", "isDirectory", "(", ")", ")", ")", ";", "}", "ArrayList", "<", "String", ">", "strings", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "CompressedObjectParcelable", "entry", ":", "wholelist", ")", "{", "File", "file", "=", "new", "File", "(", "entry", ".", "path", ")", ";", "if", "(", "relativeDirectory", "=", "=", "null", "|", "|", "relativeDirectory", ".", "trim", "(", ")", ".", "length", "(", ")", "=", "=", "0", ")", "{", "String", "y", "=", "entry", ".", "path", ";", "if", "(", "y", ".", "startsWith", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "y", "=", "y", ".", "substring", "(", "1", ",", "y", ".", "length", "(", ")", ")", ";", "if", "(", "file", ".", "getParent", "(", ")", "=", "=", "null", "|", "|", "file", ".", "getParent", "(", ")", ".", "length", "(", ")", "=", "=", "0", "|", "|", "file", ".", "getParent", "(", ")", ".", "equals", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "{", "if", "(", "!", "strings", ".", "contains", "(", "y", ")", ")", "{", "elements", ".", "add", "(", "new", "CompressedObjectParcelable", "(", "y", ",", "entry", ".", "date", ",", "entry", ".", "size", ",", "entry", ".", "directory", ")", ")", ";", "strings", ".", "add", "(", "y", ")", ";", "}", "}", "else", "{", "String", "path", "=", "y", ".", "substring", "(", "0", ",", "y", ".", "indexOf", "(", "\"", "<STR_LIT:/>", "\"", ")", "+", "1", ")", ";", "if", "(", "!", "strings", ".", "contains", "(", "path", ")", ")", "{", "CompressedObjectParcelable", "zipObj", "=", "new", "CompressedObjectParcelable", "(", "path", ",", "entry", ".", "date", ",", "entry", ".", "size", ",", "true", ")", ";", "strings", ".", "add", "(", "path", ")", ";", "elements", ".", "add", "(", "zipObj", ")", ";", "}", "}", "}", "else", "{", "String", "y", "=", "entry", ".", "path", ";", "if", "(", "entry", ".", "path", ".", "startsWith", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "y", "=", "y", ".", "substring", "(", "1", ",", "y", ".", "length", "(", ")", ")", ";", "if", "(", "file", ".", "getParent", "(", ")", "!", "=", "null", "&", "&", "(", "file", ".", "getParent", "(", ")", ".", "equals", "(", "relativeDirectory", ")", "|", "|", "file", ".", "getParent", "(", ")", ".", "equals", "(", "\"", "<STR_LIT:/>", "\"", "+", "relativeDirectory", ")", ")", ")", "{", "if", "(", "!", "strings", ".", "contains", "(", "y", ")", ")", "{", "elements", ".", "add", "(", "new", "CompressedObjectParcelable", "(", "y", ",", "entry", ".", "date", ",", "entry", ".", "size", ",", "entry", ".", "directory", ")", ")", ";", "strings", ".", "add", "(", "y", ")", ";", "}", "}", "else", "{", "if", "(", "y", ".", "startsWith", "(", "relativeDirectory", "+", "\"", "<STR_LIT:/>", "\"", ")", "&", "&", "y", ".", "length", "(", ")", ">", "relativeDirectory", ".", "length", "(", ")", "+", "1", ")", "{", "String", "path1", "=", "y", ".", "substring", "(", "relativeDirectory", ".", "length", "(", ")", "+", "1", ",", "y", ".", "length", "(", ")", ")", ";", "int", "index", "=", "relativeDirectory", ".", "length", "(", ")", "+", "1", "+", "path1", ".", "indexOf", "(", "\"", "<STR_LIT:/>", "\"", ")", ";", "String", "path", "=", "y", ".", "substring", "(", "0", ",", "index", "+", "1", ")", ";", "if", "(", "!", "strings", ".", "contains", "(", "path", ")", ")", "{", "CompressedObjectParcelable", "zipObj", "=", "new", "CompressedObjectParcelable", "(", "y", ".", "substring", "(", "0", ",", "index", "+", "1", ")", ",", "entry", ".", "date", ",", "entry", ".", "size", ",", "true", ")", ";", "strings", ".", "add", "(", "path", ")", ";", "elements", ".", "add", "(", "zipObj", ")", ";", "}", "}", "}", "}", "}", "}", "catch", "(", "ZipException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "CompressedHelperTask", "(", "boolean", "goBack", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "l", ")", "{", "createBackItem", "=", "goBack", ";", "onFinish", "=", "l", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "final", "ArrayList", "<", "CompressedObjectParcelable", ">", "doInBackground", "(", "Void", ".", ".", ".", "voids", ")", "{", "ArrayList", "<", "CompressedObjectParcelable", ">", "elements", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "if", "(", "createBackItem", ")", "elements", ".", "add", "(", "0", ",", "new", "CompressedObjectParcelable", "(", ")", ")", ";", "addElements", "(", "elements", ")", ";", "Collections", ".", "sort", "(", "elements", ",", "new", "CompressedObjectParcelable", ".", "Sorter", "(", ")", ")", ";", "return", "elements", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "final", "void", "onPostExecute", "(", "ArrayList", "<", "CompressedObjectParcelable", ">", "zipEntries", ")", "{", "super", ".", "onPostExecute", "(", "zipEntries", ")", ";", "onFinish", ".", "onAsyncTaskFinished", "(", "zipEntries", ")", ";", "}", "</s>"]
["<s>", "abstract", "void", "addElements", "(", "ArrayList", "<", "CompressedObjectParcelable", ">", "elements", ")", ";", "</s>"]
["<s>", "public", "LzmaHelperTask", "(", "String", "filePath", ",", "String", "relativePath", ",", "boolean", "goBack", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "l", ")", "{", "super", "(", "goBack", ",", "l", ")", ";", "this", ".", "filePath", "=", "filePath", ";", "this", ".", "relativePath", "=", "relativePath", ";", "}", "</s>"]
["<s>", "@", "Override", "void", "addElements", "(", "ArrayList", "<", "CompressedObjectParcelable", ">", "elements", ")", "{", "TarArchiveInputStream", "tarInputStream", "=", "null", ";", "try", "{", "tarInputStream", "=", "new", "TarArchiveInputStream", "(", "new", "LZMACompressorInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ")", ";", "TarArchiveEntry", "entry", ";", "while", "(", "(", "entry", "=", "tarInputStream", ".", "getNextTarEntry", "(", ")", ")", "!", "=", "null", ")", "{", "String", "name", "=", "entry", ".", "getName", "(", ")", ";", "if", "(", "name", ".", "endsWith", "(", "SEPARATOR", ")", ")", "name", "=", "name", ".", "substring", "(", "0", ",", "name", ".", "length", "(", ")", "-", "1", ")", ";", "boolean", "isInBaseDir", "=", "relativePath", ".", "equals", "(", "\"", "\"", ")", "&", "&", "!", "name", ".", "contains", "(", "SEPARATOR", ")", ";", "boolean", "isInRelativeDir", "=", "name", ".", "contains", "(", "SEPARATOR", ")", "&", "&", "name", ".", "substring", "(", "0", ",", "name", ".", "lastIndexOf", "(", "SEPARATOR", ")", ")", ".", "equals", "(", "relativePath", ")", ";", "if", "(", "isInBaseDir", "|", "|", "isInRelativeDir", ")", "{", "elements", ".", "add", "(", "new", "CompressedObjectParcelable", "(", "entry", ".", "getName", "(", ")", ",", "entry", ".", "getLastModifiedDate", "(", ")", ".", "getTime", "(", ")", ",", "entry", ".", "getSize", "(", ")", ",", "entry", ".", "isDirectory", "(", ")", ")", ")", ";", "}", "}", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "TarHelperTask", "(", "Context", "context", ",", "String", "filePath", ",", "String", "relativePath", ",", "boolean", "goBack", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "l", ")", "{", "super", "(", "goBack", ",", "l", ")", ";", "this", ".", "context", "=", "new", "WeakReference", "<", ">", "(", "context", ")", ";", "this", ".", "filePath", "=", "filePath", ";", "this", ".", "relativePath", "=", "relativePath", ";", "}", "</s>"]
["<s>", "@", "Override", "void", "addElements", "(", "ArrayList", "<", "CompressedObjectParcelable", ">", "elements", ")", "{", "TarArchiveInputStream", "tarInputStream", "=", "null", ";", "try", "{", "tarInputStream", "=", "new", "TarArchiveInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ";", "TarArchiveEntry", "entry", ";", "while", "(", "(", "entry", "=", "tarInputStream", ".", "getNextTarEntry", "(", ")", ")", "!", "=", "null", ")", "{", "String", "name", "=", "entry", ".", "getName", "(", ")", ";", "if", "(", "!", "CompressedHelper", ".", "isEntryPathValid", "(", "name", ")", ")", "{", "continue", ";", "}", "if", "(", "name", ".", "endsWith", "(", "SEPARATOR", ")", ")", "name", "=", "name", ".", "substring", "(", "0", ",", "name", ".", "length", "(", ")", "-", "1", ")", ";", "boolean", "isInBaseDir", "=", "relativePath", ".", "equals", "(", "\"", "\"", ")", "&", "&", "!", "name", ".", "contains", "(", "SEPARATOR", ")", ";", "boolean", "isInRelativeDir", "=", "name", ".", "contains", "(", "SEPARATOR", ")", "&", "&", "name", ".", "substring", "(", "0", ",", "name", ".", "lastIndexOf", "(", "SEPARATOR", ")", ")", ".", "equals", "(", "relativePath", ")", ";", "if", "(", "isInBaseDir", "|", "|", "isInRelativeDir", ")", "{", "elements", ".", "add", "(", "new", "CompressedObjectParcelable", "(", "entry", ".", "getName", "(", ")", ",", "entry", ".", "getLastModifiedDate", "(", ")", ".", "getTime", "(", ")", ",", "entry", ".", "getSize", "(", ")", ",", "entry", ".", "isDirectory", "(", ")", ")", ")", ";", "}", "}", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "XzHelperTask", "(", "String", "filePath", ",", "String", "relativePath", ",", "boolean", "goBack", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "l", ")", "{", "super", "(", "goBack", ",", "l", ")", ";", "this", ".", "filePath", "=", "filePath", ";", "this", ".", "relativePath", "=", "relativePath", ";", "}", "</s>"]
["<s>", "@", "Override", "void", "addElements", "(", "ArrayList", "<", "CompressedObjectParcelable", ">", "elements", ")", "{", "TarArchiveInputStream", "tarInputStream", "=", "null", ";", "try", "{", "tarInputStream", "=", "new", "TarArchiveInputStream", "(", "new", "XZCompressorInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ")", ";", "TarArchiveEntry", "entry", ";", "while", "(", "(", "entry", "=", "tarInputStream", ".", "getNextTarEntry", "(", ")", ")", "!", "=", "null", ")", "{", "String", "name", "=", "entry", ".", "getName", "(", ")", ";", "if", "(", "name", ".", "endsWith", "(", "SEPARATOR", ")", ")", "name", "=", "name", ".", "substring", "(", "0", ",", "name", ".", "length", "(", ")", "-", "1", ")", ";", "boolean", "isInBaseDir", "=", "relativePath", ".", "equals", "(", "\"", "\"", ")", "&", "&", "!", "name", ".", "contains", "(", "SEPARATOR", ")", ";", "boolean", "isInRelativeDir", "=", "name", ".", "contains", "(", "SEPARATOR", ")", "&", "&", "name", ".", "substring", "(", "0", ",", "name", ".", "lastIndexOf", "(", "SEPARATOR", ")", ")", ".", "equals", "(", "relativePath", ")", ";", "if", "(", "isInBaseDir", "|", "|", "isInRelativeDir", ")", "{", "elements", ".", "add", "(", "new", "CompressedObjectParcelable", "(", "entry", ".", "getName", "(", ")", ",", "entry", ".", "getLastModifiedDate", "(", ")", ".", "getTime", "(", ")", ",", "entry", ".", "getSize", "(", ")", ",", "entry", ".", "isDirectory", "(", ")", ")", ")", ";", "}", "}", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "SevenZipHelperTask", "(", "String", "filePath", ",", "String", "relativePath", ",", "boolean", "goBack", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "l", ")", "{", "super", "(", "goBack", ",", "l", ")", ";", "this", ".", "filePath", "=", "filePath", ";", "this", ".", "relativePath", "=", "relativePath", ";", "}", "</s>"]
["<s>", "@", "Override", "void", "addElements", "(", "ArrayList", "<", "CompressedObjectParcelable", ">", "elements", ")", "{", "SevenZFile", "sevenzFile", "=", "null", ";", "try", "{", "sevenzFile", "=", "new", "SevenZFile", "(", "new", "File", "(", "filePath", ")", ")", ";", "for", "(", "SevenZArchiveEntry", "entry", ":", "sevenzFile", ".", "getEntries", "(", ")", ")", "{", "String", "name", "=", "entry", ".", "getName", "(", ")", ";", "boolean", "isInBaseDir", "=", "relativePath", ".", "equals", "(", "\"", "\"", ")", "&", "&", "!", "name", ".", "contains", "(", "SEPARATOR", ")", ";", "boolean", "isInRelativeDir", "=", "name", ".", "contains", "(", "SEPARATOR", ")", "&", "&", "name", ".", "substring", "(", "0", ",", "name", ".", "lastIndexOf", "(", "SEPARATOR", ")", ")", ".", "equals", "(", "relativePath", ")", ";", "if", "(", "isInBaseDir", "|", "|", "isInRelativeDir", ")", "{", "elements", ".", "add", "(", "new", "CompressedObjectParcelable", "(", "entry", ".", "getName", "(", ")", ",", "entry", ".", "getLastModifiedDate", "(", ")", ".", "getTime", "(", ")", ",", "entry", ".", "getSize", "(", ")", ",", "entry", ".", "isDirectory", "(", ")", ")", ")", ";", "}", "}", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "GetSshHostFingerprintTask", "(", "@", "NonNull", "String", "hostname", ",", "int", "port", ",", "AsyncTaskResult", ".", "Callback", "<", "AsyncTaskResult", "<", "PublicKey", ">", ">", "callback", ")", "{", "this", ".", "hostname", "=", "hostname", ";", "this", ".", "port", "=", "port", ";", "this", ".", "callback", "=", "callback", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "AsyncTaskResult", "<", "PublicKey", ">", "doInBackground", "(", "Void", ".", ".", ".", "voids", ")", "{", "final", "AtomicReference", "<", "AsyncTaskResult", "<", "PublicKey", ">", ">", "holder", "=", "new", "AtomicReference", "<", "AsyncTaskResult", "<", "PublicKey", ">", ">", "(", ")", ";", "final", "CountDownLatch", "latch", "=", "new", "CountDownLatch", "(", "1", ")", ";", "final", "SSHClient", "sshClient", "=", "new", "SSHClient", "(", "new", "CustomSshJConfig", "(", ")", ")", ";", "sshClient", ".", "setConnectTimeout", "(", "SSH_CONNECT_TIMEOUT", ")", ";", "sshClient", ".", "addHostKeyVerifier", "(", "(", "hostname", ",", "port", ",", "key", ")", "-", ">", "{", "holder", ".", "set", "(", "new", "AsyncTaskResult", "<", "PublicKey", ">", "(", "key", ")", ")", ";", "latch", ".", "countDown", "(", ")", ";", "return", "true", ";", "}", ")", ";", "try", "{", "sshClient", ".", "connect", "(", "hostname", ",", "port", ")", ";", "latch", ".", "await", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "holder", ".", "set", "(", "new", "AsyncTaskResult", "<", "PublicKey", ">", "(", "e", ")", ")", ";", "latch", ".", "countDown", "(", ")", ";", "}", "catch", "(", "InterruptedException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "holder", ".", "set", "(", "new", "AsyncTaskResult", "<", "PublicKey", ">", "(", "e", ")", ")", ";", "latch", ".", "countDown", "(", ")", ";", "}", "finally", "{", "SshClientUtils", ".", "tryDisconnect", "(", "sshClient", ")", ";", "return", "holder", ".", "get", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPreExecute", "(", ")", "{", "progressDialog", "=", "ProgressDialog", ".", "show", "(", "AppConfig", ".", "getInstance", "(", ")", ".", "getMainActivityContext", "(", ")", ",", "\"", "\"", ",", "AppConfig", ".", "getInstance", "(", ")", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "processing", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "AsyncTaskResult", "<", "PublicKey", ">", "result", ")", "{", "progressDialog", ".", "dismiss", "(", ")", ";", "if", "(", "result", ".", "exception", "!", "=", "null", ")", "{", "if", "(", "SocketException", ".", "class", ".", "isAssignableFrom", "(", "result", ".", "exception", ".", "getClass", "(", ")", ")", "|", "|", "SocketTimeoutException", ".", "class", ".", "isAssignableFrom", "(", "result", ".", "exception", ".", "getClass", "(", ")", ")", ")", "{", "Toast", ".", "makeText", "(", "AppConfig", ".", "getInstance", "(", ")", ",", "AppConfig", ".", "getInstance", "(", ")", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ssh_connect_failed", ",", "hostname", ",", "port", ",", "result", ".", "exception", ".", "getLocalizedMessage", "(", ")", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", "else", "{", "callback", ".", "onResult", "(", "result", ")", ";", "}", "}", "</s>"]
["<s>", "public", "PemToKeyPairTask", "(", "@", "NonNull", "InputStream", "pemFile", ",", "AsyncTaskResult", ".", "Callback", "<", "KeyPair", ">", "callback", ")", "throws", "IOException", "{", "this", "(", "IOUtils", ".", "readFully", "(", "pemFile", ")", ".", "toByteArray", "(", ")", ",", "callback", ")", ";", "}", "</s>"]
["<s>", "public", "PemToKeyPairTask", "(", "@", "NonNull", "String", "pemContent", ",", "AsyncTaskResult", ".", "Callback", "<", "KeyPair", ">", "callback", ")", "{", "this", "(", "pemContent", ".", "getBytes", "(", ")", ",", "callback", ")", ";", "}", "</s>"]
["<s>", "private", "PemToKeyPairTask", "(", "@", "NonNull", "byte", "[", "]", "pemContent", ",", "AsyncTaskResult", ".", "Callback", "<", "KeyPair", ">", "callback", ")", "{", "this", ".", "pemFile", "=", "pemContent", ";", "this", ".", "callback", "=", "callback", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "KeyPair", "doInBackground", "(", "Void", ".", ".", ".", "voids", ")", "{", "while", "(", "true", ")", "{", "if", "(", "isCancelled", "(", ")", ")", "return", "null", ";", "if", "(", "paused", ")", "continue", ";", "for", "(", "PemToKeyPairConverter", "converter", ":", "converters", ")", "{", "KeyPair", "keyPair", "=", "converter", ".", "convert", "(", "new", "String", "(", "pemFile", ")", ")", ";", "if", "(", "keyPair", "!", "=", "null", ")", "{", "paused", "=", "false", ";", "return", "keyPair", ";", "}", "}", "if", "(", "this", ".", "passwordFinder", "!", "=", "null", ")", "{", "this", ".", "errorMessage", "=", "AppConfig", ".", "getInstance", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ssh_key_invalid_passphrase", ")", ";", "}", "paused", "=", "true", ";", "publishProgress", "(", "new", "IOException", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onProgressUpdate", "(", "IOException", ".", ".", ".", "values", ")", "{", "super", ".", "onProgressUpdate", "(", "values", ")", ";", "if", "(", "values", ".", "length", "<", "1", ")", "return", ";", "IOException", "result", "=", "values", "[", "0", "]", ";", "MaterialDialog", ".", "Builder", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "AppConfig", ".", "getInstance", "(", ")", ".", "getMainActivityContext", "(", ")", ")", ";", "View", "dialogLayout", "=", "View", ".", "inflate", "(", "AppConfig", ".", "getInstance", "(", ")", ".", "getMainActivityContext", "(", ")", ",", "R", ".", "layout", ".", "dialog_singleedittext", ",", "null", ")", ";", "WarnableTextInputLayout", "wilTextfield", "=", "dialogLayout", ".", "findViewById", "(", "R", ".", "id", ".", "singleedittext_warnabletextinputlayout", ")", ";", "EditText", "textfield", "=", "dialogLayout", ".", "findViewById", "(", "R", ".", "id", ".", "singleedittext_input", ")", ";", "textfield", ".", "setInputType", "(", "InputType", ".", "TYPE_CLASS_TEXT", "|", "InputType", ".", "TYPE_TEXT_VARIATION_PASSWORD", ")", ";", "builder", ".", "customView", "(", "dialogLayout", ",", "false", ")", ".", "autoDismiss", "(", "false", ")", ".", "title", "(", "R", ".", "string", ".", "ssh_key_prompt_passphrase", ")", ".", "positiveText", "(", "R", ".", "string", ".", "ok", ")", ".", "onPositive", "(", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "this", ".", "passwordFinder", "=", "new", "PasswordFinder", "(", ")", "{", "@", "Override", "public", "char", "[", "]", "reqPassword", "(", "Resource", "<", "?", ">", "resource", ")", "{", "return", "textfield", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "toCharArray", "(", ")", ";", "}", "@", "Override", "public", "boolean", "shouldRetry", "(", "Resource", "<", "?", ">", "resource", ")", "{", "return", "false", ";", "}", "}", ";", "this", ".", "paused", "=", "false", ";", "dialog", ".", "dismiss", "(", ")", ";", "}", ")", ")", ".", "negativeText", "(", "R", ".", "string", ".", "cancel", ")", ".", "onNegative", "(", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "dialog", ".", "dismiss", "(", ")", ";", "toastOnParseError", "(", "result", ")", ";", "cancel", "(", "true", ")", ";", "}", ")", ")", ";", "MaterialDialog", "dialog", "=", "builder", ".", "show", "(", ")", ";", "new", "WarnableTextInputValidator", "(", "AppConfig", ".", "getInstance", "(", ")", ".", "getMainActivityContext", "(", ")", ",", "textfield", ",", "wilTextfield", ",", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ",", "(", "text", ")", "-", ">", "{", "if", "(", "text", ".", "length", "(", ")", "<", "1", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "field_empty", ")", ";", "}", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", ")", ";", "}", ")", ";", "if", "(", "errorMessage", "!", "=", "null", ")", "{", "wilTextfield", ".", "setError", "(", "errorMessage", ")", ";", "textfield", ".", "selectAll", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "char", "[", "]", "reqPassword", "(", "Resource", "<", "?", ">", "resource", ")", "{", "return", "textfield", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "toCharArray", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "shouldRetry", "(", "Resource", "<", "?", ">", "resource", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "KeyPair", "result", ")", "{", "if", "(", "callback", "!", "=", "null", ")", "{", "callback", ".", "onResult", "(", "result", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "toastOnParseError", "(", "IOException", "result", ")", "{", "Toast", ".", "makeText", "(", "AppConfig", ".", "getInstance", "(", ")", ".", "getMainActivityContext", "(", ")", ",", "AppConfig", ".", "getInstance", "(", ")", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ssh_pem_key_parse_error", ",", "result", ".", "getLocalizedMessage", "(", ")", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "KeyPair", "convert", "(", "String", "source", ")", "{", "try", "{", "return", "throwingConvert", "(", "source", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "null", ";", "}", "}", "</s>"]
["<s>", "protected", "abstract", "KeyPair", "throwingConvert", "(", "String", "source", ")", "throws", "Exception", ";", "</s>"]
["<s>", "@", "Override", "public", "KeyPair", "throwingConvert", "(", "String", "source", ")", "throws", "Exception", "{", "PEMParser", "pemParser", "=", "new", "PEMParser", "(", "new", "StringReader", "(", "source", ")", ")", ";", "PEMKeyPair", "keyPair", "=", "(", "PEMKeyPair", ")", "pemParser", ".", "readObject", "(", ")", ";", "JcaPEMKeyConverter", "converter", "=", "new", "JcaPEMKeyConverter", "(", ")", ";", "return", "converter", ".", "getKeyPair", "(", "keyPair", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "KeyPair", "throwingConvert", "(", "String", "source", ")", "throws", "Exception", "{", "OpenSSHKeyFile", "converter", "=", "new", "OpenSSHKeyFile", "(", ")", ";", "converter", ".", "init", "(", "new", "StringReader", "(", "source", ")", ",", "passwordFinder", ")", ";", "return", "new", "KeyPair", "(", "converter", ".", "getPublic", "(", ")", ",", "converter", ".", "getPrivate", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "KeyPair", "throwingConvert", "(", "String", "source", ")", "throws", "Exception", "{", "OpenSSHKeyV1KeyFile", "converter", "=", "new", "OpenSSHKeyV1KeyFile", "(", ")", ";", "converter", ".", "init", "(", "new", "StringReader", "(", "source", ")", ",", "passwordFinder", ")", ";", "return", "new", "KeyPair", "(", "converter", ".", "getPublic", "(", ")", ",", "converter", ".", "getPrivate", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "KeyPair", "throwingConvert", "(", "String", "source", ")", "throws", "Exception", "{", "PuTTYKeyFile", "converter", "=", "new", "PuTTYKeyFile", "(", ")", ";", "converter", ".", "init", "(", "new", "StringReader", "(", "source", ")", ",", "passwordFinder", ")", ";", "return", "new", "KeyPair", "(", "converter", ".", "getPublic", "(", ")", ",", "converter", ".", "getPrivate", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "SshAuthenticationTask", "(", "@", "NonNull", "String", "hostname", ",", "@", "NonNull", "int", "port", ",", "@", "NonNull", "String", "hostKey", ",", "@", "NonNull", "String", "username", ",", "String", "password", ",", "KeyPair", "privateKey", ")", "{", "this", ".", "hostname", "=", "hostname", ";", "this", ".", "port", "=", "port", ";", "this", ".", "hostKey", "=", "hostKey", ";", "this", ".", "username", "=", "username", ";", "this", ".", "password", "=", "password", ";", "this", ".", "privateKey", "=", "privateKey", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "AsyncTaskResult", "<", "SSHClient", ">", "doInBackground", "(", "Void", ".", ".", ".", "voids", ")", "{", "final", "SSHClient", "sshClient", "=", "new", "SSHClient", "(", "new", "CustomSshJConfig", "(", ")", ")", ";", "sshClient", ".", "addHostKeyVerifier", "(", "hostKey", ")", ";", "sshClient", ".", "setConnectTimeout", "(", "SSH_CONNECT_TIMEOUT", ")", ";", "try", "{", "sshClient", ".", "connect", "(", "hostname", ",", "port", ")", ";", "if", "(", "password", "!", "=", "null", "&", "&", "!", "\"", "\"", ".", "equals", "(", "password", ")", ")", "{", "sshClient", ".", "authPassword", "(", "username", ",", "password", ")", ";", "return", "new", "AsyncTaskResult", "<", "SSHClient", ">", "(", "sshClient", ")", ";", "}", "else", "{", "sshClient", ".", "authPublickey", "(", "username", ",", "new", "KeyProvider", "(", ")", "{", "@", "Override", "public", "PrivateKey", "getPrivate", "(", ")", "{", "return", "privateKey", ".", "getPrivate", "(", ")", ";", "}", "@", "Override", "public", "PublicKey", "getPublic", "(", ")", "{", "return", "privateKey", ".", "getPublic", "(", ")", ";", "}", "@", "Override", "public", "KeyType", "getType", "(", ")", "{", "return", "KeyType", ".", "fromKey", "(", "getPublic", "(", ")", ")", ";", "}", "}", ")", ";", "return", "new", "AsyncTaskResult", "<", "SSHClient", ">", "(", "sshClient", ")", ";", "}", "}", "catch", "(", "UserAuthException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "new", "AsyncTaskResult", "<", "SSHClient", ">", "(", "e", ")", ";", "}", "catch", "(", "TransportException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "new", "AsyncTaskResult", "<", "SSHClient", ">", "(", "e", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "new", "AsyncTaskResult", "<", "SSHClient", ">", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "PrivateKey", "getPrivate", "(", ")", "{", "return", "privateKey", ".", "getPrivate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PublicKey", "getPublic", "(", ")", "{", "return", "privateKey", ".", "getPublic", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "KeyType", "getType", "(", ")", "{", "return", "KeyType", ".", "fromKey", "(", "getPublic", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "AsyncTaskResult", "<", "SSHClient", ">", "result", ")", "{", "if", "(", "result", ".", "exception", "!", "=", "null", ")", "{", "if", "(", "SocketException", ".", "class", ".", "isAssignableFrom", "(", "result", ".", "exception", ".", "getClass", "(", ")", ")", "|", "|", "SocketTimeoutException", ".", "class", ".", "isAssignableFrom", "(", "result", ".", "exception", ".", "getClass", "(", ")", ")", ")", "{", "Toast", ".", "makeText", "(", "AppConfig", ".", "getInstance", "(", ")", ",", "AppConfig", ".", "getInstance", "(", ")", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ssh_connect_failed", ",", "hostname", ",", "port", ",", "result", ".", "exception", ".", "getLocalizedMessage", "(", ")", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "else", "if", "(", "TransportException", ".", "class", ".", "isAssignableFrom", "(", "result", ".", "exception", ".", "getClass", "(", ")", ")", ")", "{", "DisconnectReason", "disconnectReason", "=", "TransportException", ".", "class", ".", "cast", "(", "result", ".", "exception", ")", ".", "getDisconnectReason", "(", ")", ";", "if", "(", "DisconnectReason", ".", "HOST_KEY_NOT_VERIFIABLE", ".", "equals", "(", "disconnectReason", ")", ")", "{", "new", "AlertDialog", ".", "Builder", "(", "AppConfig", ".", "getInstance", "(", ")", ".", "getMainActivityContext", "(", ")", ")", ".", "setTitle", "(", "R", ".", "string", ".", "ssh_connect_failed_host_key_changed_title", ")", ".", "setMessage", "(", "R", ".", "string", ".", "ssh_connect_failed_host_key_changed_message", ")", ".", "setPositiveButton", "(", "R", ".", "string", ".", "ok", ",", "(", "dialog", ",", "which", ")", "-", ">", "dialog", ".", "dismiss", "(", ")", ")", ".", "show", "(", ")", ";", "}", "}", "else", "if", "(", "password", "!", "=", "null", ")", "{", "Toast", ".", "makeText", "(", "AppConfig", ".", "getInstance", "(", ")", ",", "R", ".", "string", ".", "ssh_authentication_failure_password", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "else", "if", "(", "privateKey", "!", "=", "null", ")", "{", "Toast", ".", "makeText", "(", "AppConfig", ".", "getInstance", "(", ")", ",", "R", ".", "string", ".", "ssh_authentication_failure_key", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "AppListLoader", "(", "Context", "context", ",", "int", "sortBy", ",", "int", "asc", ")", "{", "super", "(", "context", ")", ";", "this", ".", "sortBy", "=", "sortBy", ";", "this", ".", "asc", "=", "asc", ";", "packageManager", "=", "getContext", "(", ")", ".", "getPackageManager", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "AppsDataPair", "loadInBackground", "(", ")", "{", "List", "<", "ApplicationInfo", ">", "apps", "=", "packageManager", ".", "getInstalledApplications", "(", "PackageManager", ".", "MATCH_UNINSTALLED_PACKAGES", "|", "PackageManager", ".", "MATCH_DISABLED_UNTIL_USED_COMPONENTS", ")", ";", "if", "(", "apps", "=", "=", "null", ")", "return", "new", "AppsDataPair", "(", "Collections", ".", "emptyList", "(", ")", ",", "Collections", ".", "emptyList", "(", ")", ")", ";", "mApps", "=", "new", "AppsDataPair", "(", "new", "ArrayList", "<", ">", "(", "apps", ".", "size", "(", ")", ")", ",", "new", "ArrayList", "<", ">", "(", "apps", ".", "size", "(", ")", ")", ")", ";", "for", "(", "ApplicationInfo", "object", ":", "apps", ")", "{", "File", "sourceDir", "=", "new", "File", "(", "object", ".", "sourceDir", ")", ";", "String", "label", "=", "object", ".", "loadLabel", "(", "packageManager", ")", ".", "toString", "(", ")", ";", "PackageInfo", "info", ";", "try", "{", "info", "=", "packageManager", ".", "getPackageInfo", "(", "object", ".", "packageName", ",", "0", ")", ";", "}", "catch", "(", "PackageManager", ".", "NameNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "info", "=", "null", ";", "}", "AppDataParcelable", "elem", "=", "new", "AppDataParcelable", "(", "label", "=", "=", "null", "?", "object", ".", "packageName", ":", "label", ",", "object", ".", "sourceDir", ",", "object", ".", "packageName", ",", "object", ".", "flags", "+", "\"", "<STR_LIT:_>", "\"", "+", "(", "info", "!", "=", "null", "?", "info", ".", "versionName", ":", "\"", "\"", ")", ",", "Formatter", ".", "formatFileSize", "(", "getContext", "(", ")", ",", "sourceDir", ".", "length", "(", ")", ")", ",", "sourceDir", ".", "length", "(", ")", ",", "sourceDir", ".", "lastModified", "(", ")", ")", ";", "mApps", ".", "first", ".", "add", "(", "elem", ")", ";", "Collections", ".", "sort", "(", "mApps", ".", "first", ",", "new", "AppDataParcelable", ".", "AppDataSorter", "(", "sortBy", ",", "asc", ")", ")", ";", "for", "(", "AppDataParcelable", "p", ":", "mApps", ".", "first", ")", "{", "mApps", ".", "second", ".", "add", "(", "p", ".", "path", ")", ";", "}", "}", "return", "mApps", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "deliverResult", "(", "AppsDataPair", "data", ")", "{", "if", "(", "isReset", "(", ")", ")", "{", "if", "(", "data", "!", "=", "null", ")", "onReleaseResources", "(", "data", ")", ";", "}", "AppsDataPair", "oldData", "=", "mApps", ";", "mApps", "=", "data", ";", "if", "(", "isStarted", "(", ")", ")", "{", "super", ".", "deliverResult", "(", "mApps", ")", ";", "}", "if", "(", "oldData", "!", "=", "null", ")", "{", "onReleaseResources", "(", "oldData", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onStartLoading", "(", ")", "{", "if", "(", "mApps", "!", "=", "null", ")", "{", "deliverResult", "(", "mApps", ")", ";", "}", "if", "(", "packageReceiver", "!", "=", "null", ")", "{", "packageReceiver", "=", "new", "PackageReceiver", "(", "this", ")", ";", "}", "boolean", "didConfigChange", "=", "InterestingConfigChange", ".", "isConfigChanged", "(", "getContext", "(", ")", ".", "getResources", "(", ")", ")", ";", "if", "(", "takeContentChanged", "(", ")", "|", "|", "mApps", "=", "=", "null", "|", "|", "didConfigChange", ")", "{", "forceLoad", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onStopLoading", "(", ")", "{", "cancelLoad", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCanceled", "(", "AppsDataPair", "data", ")", "{", "super", ".", "onCanceled", "(", "data", ")", ";", "onReleaseResources", "(", "data", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onReset", "(", ")", "{", "super", ".", "onReset", "(", ")", ";", "onStopLoading", "(", ")", ";", "if", "(", "mApps", "!", "=", "null", ")", "{", "onReleaseResources", "(", "mApps", ")", ";", "mApps", "=", "null", ";", "}", "if", "(", "packageReceiver", "!", "=", "null", ")", "{", "getContext", "(", ")", ".", "unregisterReceiver", "(", "packageReceiver", ")", ";", "packageReceiver", "=", "null", ";", "}", "InterestingConfigChange", ".", "recycle", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "onReleaseResources", "(", "AppsDataPair", "layoutElementList", ")", "{", "}", "</s>"]
["<s>", "public", "AppsDataPair", "(", "List", "<", "AppDataParcelable", ">", "first", ",", "List", "<", "String", ">", "second", ")", "{", "super", "(", "first", ",", "second", ")", ";", "}", "</s>"]
["<s>", "public", "FileHandler", "(", "MainFragment", "mainFragment", ",", "RecyclerView", "listView", ",", "boolean", "useThumbs", ")", "{", "super", "(", "Looper", ".", "getMainLooper", "(", ")", ")", ";", "this", ".", "mainFragment", "=", "new", "WeakReference", "<", ">", "(", "mainFragment", ")", ";", "this", ".", "listView", "=", "listView", ";", "this", ".", "useThumbs", "=", "useThumbs", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "handleMessage", "(", "Message", "msg", ")", "{", "super", ".", "handleMessage", "(", "msg", ")", ";", "final", "MainFragment", "main", "=", "mainFragment", ".", "get", "(", ")", ";", "if", "(", "main", "=", "=", "null", "|", "|", "main", ".", "getActivity", "(", ")", "=", "=", "null", ")", "{", "return", ";", "}", "String", "path", "=", "(", "String", ")", "msg", ".", "obj", ";", "switch", "(", "msg", ".", "what", ")", "{", "case", "CustomFileObserver", ".", "GOBACK", ":", "main", ".", "goBack", "(", ")", ";", "break", ";", "case", "CustomFileObserver", ".", "NEW_ITEM", ":", "HybridFile", "fileCreated", "=", "new", "HybridFile", "(", "main", ".", "openMode", ",", "main", ".", "getCurrentPath", "(", ")", "+", "\"", "<STR_LIT:/>", "\"", "+", "path", ")", ";", "main", ".", "getElementsList", "(", ")", ".", "add", "(", "fileCreated", ".", "generateLayoutElement", "(", "useThumbs", ")", ")", ";", "break", ";", "case", "CustomFileObserver", ".", "DELETED_ITEM", ":", "for", "(", "int", "i", "=", "0", ";", "i", "<", "main", ".", "getElementsList", "(", ")", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "File", "currentFile", "=", "new", "File", "(", "main", ".", "getElementsList", "(", ")", ".", "get", "(", "i", ")", ".", "desc", ")", ";", "if", "(", "currentFile", ".", "getName", "(", ")", ".", "equals", "(", "path", ")", ")", "{", "main", ".", "getElementsList", "(", ")", ".", "remove", "(", "i", ")", ";", "break", ";", "}", "}", "break", ";", "default", ":", "super", ".", "handleMessage", "(", "msg", ")", ";", "return", ";", "}", "if", "(", "listView", ".", "getVisibility", "(", ")", "=", "=", "View", ".", "VISIBLE", ")", "{", "if", "(", "main", ".", "getElementsList", "(", ")", ".", "size", "(", ")", "=", "=", "0", ")", "{", "main", ".", "reloadListElements", "(", "true", ",", "main", ".", "results", ",", "!", "main", ".", "IS_LIST", ")", ";", "}", "else", "{", "(", "(", "RecyclerAdapter", ")", "listView", ".", "getAdapter", "(", ")", ")", ".", "setItems", "(", "listView", ",", "main", ".", "getElementsList", "(", ")", ")", ";", "}", "}", "else", "{", "main", ".", "loadlist", "(", "main", ".", "getCurrentPath", "(", ")", ",", "true", ",", "main", ".", "openMode", ")", ";", "}", "main", ".", "computeScroll", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "c", "=", "getApplicationContext", "(", ")", ";", "registerReceiver", "(", "receiver3", ",", "new", "IntentFilter", "(", "TAG_BROADCAST_COPY_CANCEL", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "onStartCommand", "(", "Intent", "intent", ",", "int", "flags", ",", "final", "int", "startId", ")", "{", "Bundle", "b", "=", "new", "Bundle", "(", ")", ";", "isRootExplorer", "=", "intent", ".", "getBooleanExtra", "(", "TAG_IS_ROOT_EXPLORER", ",", "false", ")", ";", "ArrayList", "<", "HybridFileParcelable", ">", "files", "=", "intent", ".", "getParcelableArrayListExtra", "(", "TAG_COPY_SOURCES", ")", ";", "String", "targetPath", "=", "intent", ".", "getStringExtra", "(", "TAG_COPY_TARGET", ")", ";", "int", "mode", "=", "intent", ".", "getIntExtra", "(", "TAG_COPY_OPEN_MODE", ",", "OpenMode", ".", "UNKNOWN", ".", "ordinal", "(", ")", ")", ";", "final", "boolean", "move", "=", "intent", ".", "getBooleanExtra", "(", "TAG_COPY_MOVE", ",", "false", ")", ";", "sharedPreferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "c", ")", ";", "accentColor", "=", "(", "(", "AppConfig", ")", "getApplication", "(", ")", ")", ".", "getUtilsProvider", "(", ")", ".", "getColorPreference", "(", ")", ".", "getCurrentUserColorPreferences", "(", "this", ",", "sharedPreferences", ")", ".", "accent", ";", "mNotifyManager", "=", "(", "NotificationManager", ")", "getSystemService", "(", "Context", ".", "NOTIFICATION_SERVICE", ")", ";", "b", ".", "putInt", "(", "TAG_COPY_START_ID", ",", "startId", ")", ";", "Intent", "notificationIntent", "=", "new", "Intent", "(", "this", ",", "MainActivity", ".", "class", ")", ";", "notificationIntent", ".", "setAction", "(", "Intent", ".", "ACTION_MAIN", ")", ";", "notificationIntent", ".", "setFlags", "(", "Intent", ".", "FLAG_ACTIVITY_NEW_TASK", ")", ";", "notificationIntent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_PROCESS_VIEWER", ",", "true", ")", ";", "PendingIntent", "pendingIntent", "=", "PendingIntent", ".", "getActivity", "(", "this", ",", "0", ",", "notificationIntent", ",", "0", ")", ";", "customSmallContentViews", "=", "new", "RemoteViews", "(", "getPackageName", "(", ")", ",", "R", ".", "layout", ".", "notification_service_small", ")", ";", "customBigContentViews", "=", "new", "RemoteViews", "(", "getPackageName", "(", ")", ",", "R", ".", "layout", ".", "notification_service_big", ")", ";", "Intent", "stopIntent", "=", "new", "Intent", "(", "TAG_BROADCAST_COPY_CANCEL", ")", ";", "PendingIntent", "stopPendingIntent", "=", "PendingIntent", ".", "getBroadcast", "(", "c", ",", "<NUM_LIT>", ",", "stopIntent", ",", "PendingIntent", ".", "FLAG_UPDATE_CURRENT", ")", ";", "NotificationCompat", ".", "Action", "action", "=", "new", "NotificationCompat", ".", "Action", "(", "R", ".", "drawable", ".", "ic_content_copy_white_36dp", ",", "getString", "(", "R", ".", "string", ".", "stop_ftp", ")", ",", "stopPendingIntent", ")", ";", "mBuilder", "=", "new", "NotificationCompat", ".", "Builder", "(", "c", ",", "NotificationConstants", ".", "CHANNEL_NORMAL_ID", ")", ".", "setContentIntent", "(", "pendingIntent", ")", ".", "setSmallIcon", "(", "R", ".", "drawable", ".", "ic_content_copy_white_36dp", ")", ".", "setCustomContentView", "(", "customSmallContentViews", ")", ".", "setCustomBigContentView", "(", "customBigContentViews", ")", ".", "setCustomHeadsUpContentView", "(", "customSmallContentViews", ")", ".", "setStyle", "(", "new", "NotificationCompat", ".", "DecoratedCustomViewStyle", "(", ")", ")", ".", "addAction", "(", "action", ")", ".", "setOngoing", "(", "true", ")", ".", "setColor", "(", "accentColor", ")", ";", "NotificationConstants", ".", "setMetadata", "(", "c", ",", "mBuilder", ",", "NotificationConstants", ".", "TYPE_NORMAL", ")", ";", "startForeground", "(", "NotificationConstants", ".", "COPY_ID", ",", "mBuilder", ".", "build", "(", ")", ")", ";", "initNotificationViews", "(", ")", ";", "b", ".", "putBoolean", "(", "TAG_COPY_MOVE", ",", "move", ")", ";", "b", ".", "putString", "(", "TAG_COPY_TARGET", ",", "targetPath", ")", ";", "b", ".", "putInt", "(", "TAG_COPY_OPEN_MODE", ",", "mode", ")", ";", "b", ".", "putParcelableArrayList", "(", "TAG_COPY_SOURCES", ",", "files", ")", ";", "super", ".", "onStartCommand", "(", "intent", ",", "flags", ",", "startId", ")", ";", "super", ".", "progressHalted", "(", ")", ";", "new", "DoInBackground", "(", "isRootExplorer", ")", ".", "execute", "(", "b", ")", ";", "return", "START_STICKY", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "NotificationManager", "getNotificationManager", "(", ")", "{", "return", "mNotifyManager", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "NotificationCompat", ".", "Builder", "getNotificationBuilder", "(", ")", "{", "return", "mBuilder", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "int", "getNotificationId", "(", ")", "{", "return", "NotificationConstants", ".", "COPY_ID", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "float", "getPercentProgress", "(", ")", "{", "return", "progressPercent", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "RemoteViews", "getNotificationCustomViewSmall", "(", ")", "{", "return", "customSmallContentViews", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "RemoteViews", "getNotificationCustomViewBig", "(", ")", "{", "return", "customBigContentViews", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "setPercentProgress", "(", "float", "progress", ")", "{", "progressPercent", "=", "progress", ";", "}", "</s>"]
["<s>", "public", "ProgressListener", "getProgressListener", "(", ")", "{", "return", "progressListener", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setProgressListener", "(", "ProgressListener", "progressListener", ")", "{", "this", ".", "progressListener", "=", "progressListener", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "ArrayList", "<", "DatapointParcelable", ">", "getDataPackages", "(", ")", "{", "return", "dataPackages", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "ProgressHandler", "getProgressHandler", "(", ")", "{", "return", "progressHandler", ";", "}", "</s>"]
["<s>", "public", "void", "onDestroy", "(", ")", "{", "this", ".", "unregisterReceiver", "(", "receiver3", ")", ";", "}", "</s>"]
["<s>", "private", "DoInBackground", "(", "boolean", "isRootExplorer", ")", "{", "this", ".", "isRootExplorer", "=", "isRootExplorer", ";", "}", "</s>"]
["<s>", "protected", "Void", "doInBackground", "(", "Bundle", ".", ".", ".", "p1", ")", "{", "sourceFiles", "=", "p1", "[", "0", "]", ".", "getParcelableArrayList", "(", "TAG_COPY_SOURCES", ")", ";", "totalSize", "=", "FileUtils", ".", "getTotalBytes", "(", "sourceFiles", ",", "c", ")", ";", "totalSourceFiles", "=", "sourceFiles", ".", "size", "(", ")", ";", "progressHandler", ".", "setSourceSize", "(", "totalSourceFiles", ")", ";", "progressHandler", ".", "setTotalSize", "(", "totalSize", ")", ";", "progressHandler", ".", "setProgressListener", "(", "(", "speed", ")", "-", ">", "publishResults", "(", "speed", ",", "false", ",", "move", ")", ")", ";", "watcherUtil", "=", "new", "ServiceWatcherUtil", "(", "progressHandler", ")", ";", "addFirstDatapoint", "(", "sourceFiles", ".", "get", "(", "0", ")", ".", "getName", "(", ")", ",", "sourceFiles", ".", "size", "(", ")", ",", "totalSize", ",", "move", ")", ";", "targetPath", "=", "p1", "[", "0", "]", ".", "getString", "(", "TAG_COPY_TARGET", ")", ";", "move", "=", "p1", "[", "0", "]", ".", "getBoolean", "(", "TAG_COPY_MOVE", ")", ";", "openMode", "=", "OpenMode", ".", "getOpenMode", "(", "p1", "[", "0", "]", ".", "getInt", "(", "TAG_COPY_OPEN_MODE", ")", ")", ";", "copy", "=", "new", "Copy", "(", ")", ";", "copy", ".", "execute", "(", "sourceFiles", ",", "targetPath", ",", "move", ",", "openMode", ")", ";", "if", "(", "copy", ".", "failedFOps", ".", "size", "(", ")", "=", "=", "0", ")", "{", "for", "(", "HybridFileParcelable", "sourceFile", ":", "sourceFiles", ")", "{", "try", "{", "findAndReplaceEncryptedEntry", "(", "sourceFile", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "Toast", ".", "makeText", "(", "c", ",", "getString", "(", "R", ".", "string", ".", "encryption_fail_copy", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPostExecute", "(", "Void", "b", ")", "{", "super", ".", "onPostExecute", "(", "b", ")", ";", "watcherUtil", ".", "stopWatch", "(", ")", ";", "finalizeNotification", "(", "copy", ".", "failedFOps", ",", "move", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST", ")", ";", "intent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST_FILE", ",", "targetPath", ")", ";", "sendBroadcast", "(", "intent", ")", ";", "stopSelf", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "findAndReplaceEncryptedEntry", "(", "HybridFileParcelable", "sourceFile", ")", "{", "if", "(", "sourceFile", ".", "isDirectory", "(", ")", "&", "&", "!", "sourceFile", ".", "getName", "(", ")", ".", "endsWith", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ")", ")", "{", "sourceFile", ".", "forEachChildrenFile", "(", "getApplicationContext", "(", ")", ",", "isRootExplorer", ",", "file", "-", ">", "{", "findAndReplaceEncryptedEntry", "(", "file", ")", ";", "}", ")", ";", "}", "else", "{", "if", "(", "sourceFile", ".", "getName", "(", ")", ".", "endsWith", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ")", ")", "{", "try", "{", "CryptHandler", "cryptHandler", "=", "new", "CryptHandler", "(", "getApplicationContext", "(", ")", ")", ";", "EncryptedEntry", "oldEntry", "=", "cryptHandler", ".", "findEntry", "(", "sourceFile", ".", "getPath", "(", ")", ")", ";", "EncryptedEntry", "newEntry", "=", "new", "EncryptedEntry", "(", ")", ";", "newEntry", ".", "setPassword", "(", "oldEntry", ".", "getPassword", "(", ")", ")", ";", "newEntry", ".", "setPath", "(", "targetPath", "+", "\"", "<STR_LIT:/>", "\"", "+", "sourceFile", ".", "getName", "(", ")", ")", ";", "if", "(", "move", ")", "{", "newEntry", ".", "setId", "(", "oldEntry", ".", "getId", "(", ")", ")", ";", "cryptHandler", ".", "updateEntry", "(", "oldEntry", ",", "newEntry", ")", ";", "}", "else", "{", "cryptHandler", ".", "addEntry", "(", "newEntry", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "}", "</s>"]
["<s>", "Copy", "(", ")", "{", "failedFOps", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "toDelete", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "execute", "(", "final", "ArrayList", "<", "HybridFileParcelable", ">", "sourceFiles", ",", "final", "String", "targetPath", ",", "final", "boolean", "move", ",", "OpenMode", "mode", ")", "{", "watcherUtil", ".", "watch", "(", "CopyService", ".", "this", ")", ";", "if", "(", "FileUtil", ".", "checkFolder", "(", "(", "targetPath", ")", ",", "c", ")", "=", "=", "1", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "sourceFiles", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "sourceProgress", "=", "i", ";", "HybridFileParcelable", "f1", "=", "(", "sourceFiles", ".", "get", "(", "i", ")", ")", ";", "try", "{", "HybridFile", "hFile", ";", "if", "(", "targetPath", ".", "contains", "(", "getExternalCacheDir", "(", ")", ".", "getPath", "(", ")", ")", ")", "{", "hFile", "=", "new", "HybridFile", "(", "OpenMode", ".", "FILE", ",", "targetPath", ",", "sourceFiles", ".", "get", "(", "i", ")", ".", "getName", "(", ")", ",", "f1", ".", "isDirectory", "(", ")", ")", ";", "}", "else", "{", "hFile", "=", "new", "HybridFile", "(", "mode", ",", "targetPath", ",", "sourceFiles", ".", "get", "(", "i", ")", ".", "getName", "(", ")", ",", "f1", ".", "isDirectory", "(", ")", ")", ";", "}", "if", "(", "!", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "if", "(", "!", "f1", ".", "isSmb", "(", ")", "&", "&", "(", "f1", ".", "getMode", "(", ")", "=", "=", "OpenMode", ".", "ROOT", "|", "|", "mode", "=", "=", "OpenMode", ".", "ROOT", ")", "&", "&", "isRootExplorer", ")", "{", "progressHandler", ".", "setSourceFilesProcessed", "(", "+", "+", "sourceProgress", ")", ";", "copyRoot", "(", "f1", ",", "hFile", ",", "move", ")", ";", "continue", ";", "}", "progressHandler", ".", "setSourceFilesProcessed", "(", "+", "+", "sourceProgress", ")", ";", "copyFiles", "(", "(", "f1", ")", ",", "hFile", ",", "progressHandler", ")", ";", "}", "else", "{", "break", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Log", ".", "e", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "f1", ".", "getPath", "(", ")", ")", ";", "failedFOps", ".", "add", "(", "sourceFiles", ".", "get", "(", "i", ")", ")", ";", "for", "(", "int", "j", "=", "i", "+", "1", ";", "j", "<", "sourceFiles", ".", "size", "(", ")", ";", "j", "+", "+", ")", "failedFOps", ".", "add", "(", "sourceFiles", ".", "get", "(", "j", ")", ")", ";", "break", ";", "}", "}", "}", "else", "if", "(", "isRootExplorer", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "sourceFiles", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "if", "(", "!", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "HybridFile", "hFile", "=", "new", "HybridFile", "(", "mode", ",", "targetPath", ",", "sourceFiles", ".", "get", "(", "i", ")", ".", "getName", "(", ")", ",", "sourceFiles", ".", "get", "(", "i", ")", ".", "isDirectory", "(", ")", ")", ";", "progressHandler", ".", "setSourceFilesProcessed", "(", "+", "+", "sourceProgress", ")", ";", "progressHandler", ".", "setFileName", "(", "sourceFiles", ".", "get", "(", "i", ")", ".", "getName", "(", ")", ")", ";", "copyRoot", "(", "sourceFiles", ".", "get", "(", "i", ")", ",", "hFile", ",", "move", ")", ";", "}", "}", "}", "else", "{", "for", "(", "HybridFileParcelable", "f", ":", "sourceFiles", ")", "failedFOps", ".", "add", "(", "f", ")", ";", "return", ";", "}", "if", "(", "move", "&", "&", "!", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "ArrayList", "<", "HybridFileParcelable", ">", "toDelete", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "HybridFileParcelable", "a", ":", "sourceFiles", ")", "{", "if", "(", "!", "failedFOps", ".", "contains", "(", "a", ")", ")", "toDelete", ".", "add", "(", "a", ")", ";", "}", "new", "DeleteTask", "(", "getContentResolver", "(", ")", ",", "c", ")", ".", "execute", "(", "(", "toDelete", ")", ")", ";", "}", "}", "</s>"]
["<s>", "void", "copyRoot", "(", "HybridFileParcelable", "sourceFile", ",", "HybridFile", "targetFile", ",", "boolean", "move", ")", "{", "try", "{", "if", "(", "!", "move", ")", "RootUtils", ".", "copy", "(", "sourceFile", ".", "getPath", "(", ")", ",", "targetFile", ".", "getPath", "(", ")", ")", ";", "else", "if", "(", "move", ")", "RootUtils", ".", "move", "(", "sourceFile", ".", "getPath", "(", ")", ",", "targetFile", ".", "getPath", "(", ")", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "sourceFile", ".", "getSize", "(", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "failedFOps", ".", "add", "(", "sourceFile", ")", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "FileUtils", ".", "scanFile", "(", "targetFile", ".", "getFile", "(", ")", ",", "c", ")", ";", "}", "</s>"]
["<s>", "private", "void", "copyFiles", "(", "final", "HybridFileParcelable", "sourceFile", ",", "final", "HybridFile", "targetFile", ",", "final", "ProgressHandler", "progressHandler", ")", "throws", "IOException", "{", "if", "(", "progressHandler", ".", "getCancelled", "(", ")", ")", "return", ";", "if", "(", "sourceFile", ".", "isDirectory", "(", ")", ")", "{", "if", "(", "!", "targetFile", ".", "exists", "(", ")", ")", "targetFile", ".", "mkdir", "(", "c", ")", ";", "if", "(", "!", "Operations", ".", "isFileNameValid", "(", "sourceFile", ".", "getName", "(", ")", ")", "|", "|", "Operations", ".", "isCopyLoopPossible", "(", "sourceFile", ",", "targetFile", ")", ")", "{", "failedFOps", ".", "add", "(", "sourceFile", ")", ";", "return", ";", "}", "targetFile", ".", "setLastModified", "(", "sourceFile", ".", "lastModified", "(", ")", ")", ";", "if", "(", "progressHandler", ".", "getCancelled", "(", ")", ")", "return", ";", "sourceFile", ".", "forEachChildrenFile", "(", "c", ",", "false", ",", "file", "-", ">", "{", "HybridFile", "destFile", "=", "new", "HybridFile", "(", "targetFile", ".", "getMode", "(", ")", ",", "targetFile", ".", "getPath", "(", ")", ",", "file", ".", "getName", "(", ")", ",", "file", ".", "isDirectory", "(", ")", ")", ";", "try", "{", "copyFiles", "(", "file", ",", "destFile", ",", "progressHandler", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "throw", "new", "IllegalStateException", "(", "e", ")", ";", "}", "}", ")", ";", "}", "else", "{", "if", "(", "!", "Operations", ".", "isFileNameValid", "(", "sourceFile", ".", "getName", "(", ")", ")", ")", "{", "failedFOps", ".", "add", "(", "sourceFile", ")", ";", "return", ";", "}", "GenericCopyUtil", "copyUtil", "=", "new", "GenericCopyUtil", "(", "c", ",", "progressHandler", ")", ";", "progressHandler", ".", "setFileName", "(", "sourceFile", ".", "getName", "(", ")", ")", ";", "copyUtil", ".", "copy", "(", "sourceFile", ",", "targetFile", ")", ";", "}", "}", "</s>"]
["<s>", "boolean", "checkFiles", "(", "HybridFile", "hFile1", ",", "HybridFile", "hFile2", ")", "throws", "ShellNotRunningException", "{", "if", "(", "RootHelper", ".", "isDirectory", "(", "hFile1", ".", "getPath", "(", ")", ",", "isRootExplorer", ",", "<NUM_LIT:5>", ")", ")", "{", "if", "(", "RootHelper", ".", "fileExists", "(", "hFile2", ".", "getPath", "(", ")", ")", ")", "return", "false", ";", "ArrayList", "<", "HybridFileParcelable", ">", "baseFiles", "=", "RootHelper", ".", "getFilesList", "(", "hFile1", ".", "getPath", "(", ")", ",", "true", ",", "true", ",", "null", ")", ";", "if", "(", "baseFiles", ".", "size", "(", ")", ">", "0", ")", "{", "boolean", "b", "=", "true", ";", "for", "(", "HybridFileParcelable", "baseFile", ":", "baseFiles", ")", "{", "if", "(", "!", "checkFiles", "(", "new", "HybridFile", "(", "baseFile", ".", "getMode", "(", ")", ",", "baseFile", ".", "getPath", "(", ")", ")", ",", "new", "HybridFile", "(", "hFile2", ".", "getMode", "(", ")", ",", "hFile2", ".", "getPath", "(", ")", "+", "\"", "<STR_LIT:/>", "\"", "+", "(", "baseFile", ".", "getName", "(", ")", ")", ")", ")", ")", "b", "=", "false", ";", "}", "return", "b", ";", "}", "return", "RootHelper", ".", "fileExists", "(", "hFile2", ".", "getPath", "(", ")", ")", ";", "}", "else", "{", "ArrayList", "<", "HybridFileParcelable", ">", "baseFiles", "=", "RootHelper", ".", "getFilesList", "(", "hFile1", ".", "getParent", "(", ")", ",", "true", ",", "true", ",", "null", ")", ";", "int", "i", "=", "-", "1", ";", "int", "index", "=", "-", "1", ";", "for", "(", "HybridFileParcelable", "b", ":", "baseFiles", ")", "{", "i", "+", "+", ";", "if", "(", "b", ".", "getPath", "(", ")", ".", "equals", "(", "hFile1", ".", "getPath", "(", ")", ")", ")", "{", "index", "=", "i", ";", "break", ";", "}", "}", "ArrayList", "<", "HybridFileParcelable", ">", "baseFiles1", "=", "RootHelper", ".", "getFilesList", "(", "hFile1", ".", "getParent", "(", ")", ",", "true", ",", "true", ",", "null", ")", ";", "int", "i1", "=", "-", "1", ";", "int", "index1", "=", "-", "1", ";", "for", "(", "HybridFileParcelable", "b", ":", "baseFiles1", ")", "{", "i1", "+", "+", ";", "if", "(", "b", ".", "getPath", "(", ")", ".", "equals", "(", "hFile1", ".", "getPath", "(", ")", ")", ")", "{", "index1", "=", "i1", ";", "break", ";", "}", "}", "return", "baseFiles", ".", "get", "(", "index", ")", ".", "getSize", "(", ")", "=", "=", "baseFiles1", ".", "get", "(", "index1", ")", ".", "getSize", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "progressHandler", ".", "setCancelled", "(", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "arg0", ")", "{", "return", "mBinder", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "registerReceiver", "(", "receiver1", ",", "new", "IntentFilter", "(", "KEY_COMPRESS_BROADCAST_CANCEL", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "onStartCommand", "(", "Intent", "intent", ",", "int", "flags", ",", "final", "int", "startId", ")", "{", "String", "mZipPath", "=", "intent", ".", "getStringExtra", "(", "KEY_COMPRESS_PATH", ")", ";", "ArrayList", "<", "HybridFileParcelable", ">", "baseFiles", "=", "intent", ".", "getParcelableArrayListExtra", "(", "KEY_COMPRESS_FILES", ")", ";", "File", "zipFile", "=", "new", "File", "(", "mZipPath", ")", ";", "mNotifyManager", "=", "(", "NotificationManager", ")", "getSystemService", "(", "Context", ".", "NOTIFICATION_SERVICE", ")", ";", "if", "(", "!", "zipFile", ".", "exists", "(", ")", ")", "{", "try", "{", "zipFile", ".", "createNewFile", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "sharedPreferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "getApplicationContext", "(", ")", ")", ";", "accentColor", "=", "(", "(", "AppConfig", ")", "getApplication", "(", ")", ")", ".", "getUtilsProvider", "(", ")", ".", "getColorPreference", "(", ")", ".", "getCurrentUserColorPreferences", "(", "this", ",", "sharedPreferences", ")", ".", "accent", ";", "Intent", "notificationIntent", "=", "new", "Intent", "(", "this", ",", "MainActivity", ".", "class", ")", ";", "notificationIntent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_PROCESS_VIEWER", ",", "true", ")", ";", "PendingIntent", "pendingIntent", "=", "PendingIntent", ".", "getActivity", "(", "this", ",", "0", ",", "notificationIntent", ",", "0", ")", ";", "customSmallContentViews", "=", "new", "RemoteViews", "(", "getPackageName", "(", ")", ",", "R", ".", "layout", ".", "notification_service_small", ")", ";", "customBigContentViews", "=", "new", "RemoteViews", "(", "getPackageName", "(", ")", ",", "R", ".", "layout", ".", "notification_service_big", ")", ";", "Intent", "stopIntent", "=", "new", "Intent", "(", "KEY_COMPRESS_BROADCAST_CANCEL", ")", ";", "PendingIntent", "stopPendingIntent", "=", "PendingIntent", ".", "getBroadcast", "(", "getApplicationContext", "(", ")", ",", "<NUM_LIT>", ",", "stopIntent", ",", "PendingIntent", ".", "FLAG_UPDATE_CURRENT", ")", ";", "NotificationCompat", ".", "Action", "action", "=", "new", "NotificationCompat", ".", "Action", "(", "R", ".", "drawable", ".", "ic_zip_box_grey", ",", "getString", "(", "R", ".", "string", ".", "stop_ftp", ")", ",", "stopPendingIntent", ")", ";", "mBuilder", "=", "new", "NotificationCompat", ".", "Builder", "(", "this", ",", "NotificationConstants", ".", "CHANNEL_NORMAL_ID", ")", ".", "setSmallIcon", "(", "R", ".", "drawable", ".", "ic_zip_box_grey", ")", ".", "setContentIntent", "(", "pendingIntent", ")", ".", "setCustomContentView", "(", "customSmallContentViews", ")", ".", "setCustomBigContentView", "(", "customBigContentViews", ")", ".", "setCustomHeadsUpContentView", "(", "customSmallContentViews", ")", ".", "setStyle", "(", "new", "NotificationCompat", ".", "DecoratedCustomViewStyle", "(", ")", ")", ".", "addAction", "(", "action", ")", ".", "setOngoing", "(", "true", ")", ".", "setColor", "(", "accentColor", ")", ";", "NotificationConstants", ".", "setMetadata", "(", "this", ",", "mBuilder", ",", "NotificationConstants", ".", "TYPE_NORMAL", ")", ";", "startForeground", "(", "NotificationConstants", ".", "ZIP_ID", ",", "mBuilder", ".", "build", "(", ")", ")", ";", "initNotificationViews", "(", ")", ";", "super", ".", "onStartCommand", "(", "intent", ",", "flags", ",", "startId", ")", ";", "super", ".", "progressHalted", "(", ")", ";", "asyncTask", "=", "new", "CompressAsyncTask", "(", "this", ",", "baseFiles", ",", "mZipPath", ")", ";", "asyncTask", ".", "execute", "(", ")", ";", "return", "START_STICKY", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "NotificationManager", "getNotificationManager", "(", ")", "{", "return", "mNotifyManager", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "NotificationCompat", ".", "Builder", "getNotificationBuilder", "(", ")", "{", "return", "mBuilder", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "int", "getNotificationId", "(", ")", "{", "return", "NotificationConstants", ".", "ZIP_ID", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "float", "getPercentProgress", "(", ")", "{", "return", "progressPercent", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "setPercentProgress", "(", "float", "progress", ")", "{", "progressPercent", "=", "progress", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "RemoteViews", "getNotificationCustomViewSmall", "(", ")", "{", "return", "customSmallContentViews", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "RemoteViews", "getNotificationCustomViewBig", "(", ")", "{", "return", "customBigContentViews", ";", "}", "</s>"]
["<s>", "public", "ProgressListener", "getProgressListener", "(", ")", "{", "return", "progressListener", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setProgressListener", "(", "ProgressListener", "progressListener", ")", "{", "this", ".", "progressListener", "=", "progressListener", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "ArrayList", "<", "DatapointParcelable", ">", "getDataPackages", "(", ")", "{", "return", "dataPackages", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "ProgressHandler", "getProgressHandler", "(", ")", "{", "return", "progressHandler", ";", "}", "</s>"]
["<s>", "public", "CompressAsyncTask", "(", "ZipService", "zipService", ",", "ArrayList", "<", "HybridFileParcelable", ">", "baseFiles", ",", "String", "zipPath", ")", "{", "this", ".", "zipService", "=", "zipService", ";", "this", ".", "baseFiles", "=", "baseFiles", ";", "this", ".", "zipPath", "=", "zipPath", ";", "}", "</s>"]
["<s>", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "p1", ")", "{", "totalBytes", "=", "FileUtils", ".", "getTotalBytes", "(", "baseFiles", ",", "zipService", ".", "getApplicationContext", "(", ")", ")", ";", "progressHandler", ".", "setSourceSize", "(", "baseFiles", ".", "size", "(", ")", ")", ";", "progressHandler", ".", "setTotalSize", "(", "totalBytes", ")", ";", "progressHandler", ".", "setProgressListener", "(", "(", "speed", ")", "-", ">", "publishResults", "(", "speed", ",", "false", ",", "false", ")", ")", ";", "zipService", ".", "addFirstDatapoint", "(", "baseFiles", ".", "get", "(", "0", ")", ".", "getName", "(", ")", ",", "baseFiles", ".", "size", "(", ")", ",", "totalBytes", ",", "false", ")", ";", "execute", "(", "zipService", ".", "getApplicationContext", "(", ")", ",", "FileUtils", ".", "hybridListToFileArrayList", "(", "baseFiles", ")", ",", "zipPath", ")", ";", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCancelled", "(", ")", "{", "super", ".", "onCancelled", "(", ")", ";", "progressHandler", ".", "setCancelled", "(", "true", ")", ";", "File", "zipFile", "=", "new", "File", "(", "zipPath", ")", ";", "if", "(", "zipFile", ".", "exists", "(", ")", ")", "zipFile", ".", "delete", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPostExecute", "(", "Void", "a", ")", "{", "watcherUtil", ".", "stopWatch", "(", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST", ")", ";", "intent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST_FILE", ",", "zipPath", ")", ";", "zipService", ".", "sendBroadcast", "(", "intent", ")", ";", "zipService", ".", "stopSelf", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "execute", "(", "final", "@", "NonNull", "Context", "context", ",", "ArrayList", "<", "File", ">", "baseFiles", ",", "String", "zipPath", ")", "{", "OutputStream", "out", ";", "File", "zipDirectory", "=", "new", "File", "(", "zipPath", ")", ";", "watcherUtil", "=", "new", "ServiceWatcherUtil", "(", "progressHandler", ")", ";", "watcherUtil", ".", "watch", "(", "ZipService", ".", "this", ")", ";", "try", "{", "out", "=", "FileUtil", ".", "getOutputStream", "(", "zipDirectory", ",", "context", ")", ";", "zos", "=", "new", "ZipOutputStream", "(", "new", "BufferedOutputStream", "(", "out", ")", ")", ";", "int", "fileProgress", "=", "0", ";", "for", "(", "File", "file", ":", "baseFiles", ")", "{", "if", "(", "isCancelled", "(", ")", ")", "return", ";", "progressHandler", ".", "setFileName", "(", "file", ".", "getName", "(", ")", ")", ";", "progressHandler", ".", "setSourceFilesProcessed", "(", "+", "+", "fileProgress", ")", ";", "compressFile", "(", "file", ",", "\"", "\"", ")", ";", "}", "}", "catch", "(", "IOException", "|", "ZipException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "finally", "{", "try", "{", "zos", ".", "flush", "(", ")", ";", "zos", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "compressFile", "(", "File", "file", ",", "String", "path", ")", "throws", "IOException", ",", "NullPointerException", ",", "ZipException", "{", "if", "(", "progressHandler", ".", "getCancelled", "(", ")", ")", "return", ";", "if", "(", "!", "file", ".", "isDirectory", "(", ")", ")", "{", "byte", "[", "]", "buf", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "int", "len", ";", "ZipParameters", "parameters", "=", "new", "ZipParameters", "(", ")", ";", "parameters", ".", "setCompressionLevel", "(", "Zip4jConstants", ".", "DEFLATE_LEVEL_NORMAL", ")", ";", "parameters", ".", "setFileNameInZip", "(", "path", "+", "\"", "<STR_LIT:/>", "\"", "+", "file", ".", "getName", "(", ")", ")", ";", "zos", ".", "putNextEntry", "(", "file", ",", "parameters", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "file", ".", "length", "(", ")", ";", "return", ";", "}", "if", "(", "file", ".", "list", "(", ")", "=", "=", "null", ")", "return", ";", "for", "(", "File", "currentFile", ":", "file", ".", "listFiles", "(", ")", ")", "{", "compressFile", "(", "currentFile", ",", "path", "+", "File", ".", "separator", "+", "file", ".", "getName", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "progressHandler", ".", "setCancelled", "(", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "arg0", ")", "{", "return", "mBinder", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroy", "(", ")", "{", "this", ".", "unregisterReceiver", "(", "receiver1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "onStartCommand", "(", "Intent", "intent", ",", "int", "flags", ",", "int", "startId", ")", "{", "return", "super", ".", "onStartCommand", "(", "intent", ",", "flags", ",", "startId", ")", ";", "}", "</s>"]
["<s>", "protected", "abstract", "NotificationManager", "getNotificationManager", "(", ")", ";", "</s>"]
["<s>", "protected", "abstract", "NotificationCompat", ".", "Builder", "getNotificationBuilder", "(", ")", ";", "</s>"]
["<s>", "protected", "abstract", "int", "getNotificationId", "(", ")", ";", "</s>"]
["<s>", "protected", "abstract", "float", "getPercentProgress", "(", ")", ";", "</s>"]
["<s>", "protected", "abstract", "void", "setPercentProgress", "(", "float", "progress", ")", ";", "</s>"]
["<s>", "protected", "abstract", "RemoteViews", "getNotificationCustomViewSmall", "(", ")", ";", "</s>"]
["<s>", "protected", "abstract", "RemoteViews", "getNotificationCustomViewBig", "(", ")", ";", "</s>"]
["<s>", "public", "abstract", "ProgressListener", "getProgressListener", "(", ")", ";", "</s>"]
["<s>", "public", "abstract", "void", "setProgressListener", "(", "ProgressListener", "progressListener", ")", ";", "</s>"]
["<s>", "protected", "abstract", "ArrayList", "<", "DatapointParcelable", ">", "getDataPackages", "(", ")", ";", "</s>"]
["<s>", "protected", "abstract", "ProgressHandler", "getProgressHandler", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "void", "progressHalted", "(", ")", "{", "getNotificationCustomViewSmall", "(", ")", ".", "setProgressBar", "(", "R", ".", "id", ".", "notification_service_progressBar_small", ",", "0", ",", "0", ",", "true", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setProgressBar", "(", "R", ".", "id", ".", "notification_service_progressBar_big", ",", "0", ",", "0", ",", "true", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_timeRemaining_big", ",", "getString", "(", "R", ".", "string", ".", "unknown", ")", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_transferRate_big", ",", "getString", "(", "R", ".", "string", ".", "unknown", ")", ")", ";", "getNotificationManager", "(", ")", ".", "notify", "(", "getNotificationId", "(", ")", ",", "getNotificationBuilder", "(", ")", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "progressResumed", "(", ")", "{", "getNotificationCustomViewSmall", "(", ")", ".", "setProgressBar", "(", "R", ".", "id", ".", "notification_service_progressBar_small", ",", "<NUM_LIT:100>", ",", "Math", ".", "round", "(", "getPercentProgress", "(", ")", ")", ",", "false", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setProgressBar", "(", "R", ".", "id", ".", "notification_service_progressBar_big", ",", "<NUM_LIT:100>", ",", "Math", ".", "round", "(", "getPercentProgress", "(", ")", ")", ",", "false", ")", ";", "getNotificationManager", "(", ")", ".", "notify", "(", "getNotificationId", "(", ")", ",", "getNotificationBuilder", "(", ")", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "final", "void", "publishResults", "(", "long", "speed", ",", "boolean", "isComplete", ",", "boolean", "move", ")", "{", "if", "(", "!", "getProgressHandler", "(", ")", ".", "getCancelled", "(", ")", ")", "{", "String", "fileName", "=", "getProgressHandler", "(", ")", ".", "getFileName", "(", ")", ";", "long", "totalSize", "=", "getProgressHandler", "(", ")", ".", "getTotalSize", "(", ")", ";", "long", "writtenSize", "=", "getProgressHandler", "(", ")", ".", "getWrittenSize", "(", ")", ";", "setPercentProgress", "(", "(", "(", "float", ")", "writtenSize", "/", "totalSize", ")", "*", "<NUM_LIT:100>", ")", ";", "if", "(", "!", "isNotificationTitleSet", ")", "{", "int", "titleResource", ";", "switch", "(", "getNotificationId", "(", ")", ")", "{", "case", "NotificationConstants", ".", "COPY_ID", ":", "titleResource", "=", "move", "?", "R", ".", "string", ".", "moving", ":", "R", ".", "string", ".", "copying", ";", "break", ";", "case", "NotificationConstants", ".", "ENCRYPT_ID", ":", "titleResource", "=", "move", "?", "R", ".", "string", ".", "crypt_decrypting", ":", "R", ".", "string", ".", "crypt_encrypting", ";", "break", ";", "case", "NotificationConstants", ".", "EXTRACT_ID", ":", "titleResource", "=", "R", ".", "string", ".", "extracting", ";", "break", ";", "case", "NotificationConstants", ".", "ZIP_ID", ":", "titleResource", "=", "R", ".", "string", ".", "compressing", ";", "break", ";", "case", "NotificationConstants", ".", "DECRYPT_ID", ":", "titleResource", "=", "R", ".", "string", ".", "crypt_decrypting", ";", "break", ";", "default", ":", "titleResource", "=", "R", ".", "string", ".", "processing", ";", "break", ";", "}", "getNotificationBuilder", "(", ")", ".", "setSubText", "(", "getString", "(", "titleResource", ")", ")", ";", "isNotificationTitleSet", "=", "true", ";", "}", "if", "(", "ServiceWatcherUtil", ".", "state", "!", "=", "ServiceWatcherUtil", ".", "ServiceWatcherInteractionInterface", ".", "STATE_HALTED", ")", "{", "String", "written", "=", "Formatter", ".", "formatFileSize", "(", "this", ",", "writtenSize", ")", "+", "\"", "<STR_LIT:/>", "\"", "+", "Formatter", ".", "formatFileSize", "(", "this", ",", "totalSize", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_filename_big", ",", "fileName", ")", ";", "getNotificationCustomViewSmall", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_filename_small", ",", "fileName", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_written_big", ",", "written", ")", ";", "getNotificationCustomViewSmall", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_written_small", ",", "written", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_transferRate_big", ",", "Formatter", ".", "formatFileSize", "(", "this", ",", "speed", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "String", "remainingTime", ";", "if", "(", "speed", "!", "=", "0", ")", "{", "remainingTime", "=", "Utils", ".", "formatTimer", "(", "Math", ".", "round", "(", "(", "totalSize", "-", "writtenSize", ")", "/", "speed", ")", ")", ";", "}", "else", "{", "remainingTime", "=", "getString", "(", "R", ".", "string", ".", "unknown", ")", ";", "}", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_timeRemaining_big", ",", "remainingTime", ")", ";", "getNotificationCustomViewSmall", "(", ")", ".", "setProgressBar", "(", "R", ".", "id", ".", "notification_service_progressBar_small", ",", "<NUM_LIT:100>", ",", "Math", ".", "round", "(", "getPercentProgress", "(", ")", ")", ",", "false", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setProgressBar", "(", "R", ".", "id", ".", "notification_service_progressBar_big", ",", "<NUM_LIT:100>", ",", "Math", ".", "round", "(", "getPercentProgress", "(", ")", ")", ",", "false", ")", ";", "getNotificationManager", "(", ")", ".", "notify", "(", "getNotificationId", "(", ")", ",", "getNotificationBuilder", "(", ")", ".", "build", "(", ")", ")", ";", "}", "if", "(", "writtenSize", "=", "=", "totalSize", "|", "|", "totalSize", "=", "=", "0", ")", "{", "if", "(", "move", "&", "&", "getNotificationId", "(", ")", "=", "=", "NotificationConstants", ".", "COPY_ID", ")", "{", "getNotificationCustomViewSmall", "(", ")", ".", "setProgressBar", "(", "R", ".", "id", ".", "notification_service_progressBar_small", ",", "0", ",", "0", ",", "true", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setProgressBar", "(", "R", ".", "id", ".", "notification_service_progressBar_big", ",", "0", ",", "0", ",", "true", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_filename_big", ",", "getString", "(", "R", ".", "string", ".", "processing", ")", ")", ";", "getNotificationCustomViewSmall", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_filename_small", ",", "getString", "(", "R", ".", "string", ".", "processing", ")", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_timeRemaining_big", ",", "getString", "(", "R", ".", "string", ".", "unknown", ")", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_transferRate_big", ",", "getString", "(", "R", ".", "string", ".", "unknown", ")", ")", ";", "getNotificationBuilder", "(", ")", ".", "setOngoing", "(", "false", ")", ";", "getNotificationBuilder", "(", ")", ".", "setAutoCancel", "(", "true", ")", ";", "getNotificationManager", "(", ")", ".", "notify", "(", "getNotificationId", "(", ")", ",", "getNotificationBuilder", "(", ")", ".", "build", "(", ")", ")", ";", "}", "else", "{", "publishCompletedResult", "(", "getNotificationId", "(", ")", ")", ";", "}", "}", "DatapointParcelable", "intent", "=", "new", "DatapointParcelable", "(", "fileName", ",", "getProgressHandler", "(", ")", ".", "getSourceSize", "(", ")", ",", "getProgressHandler", "(", ")", ".", "getSourceFilesProcessed", "(", ")", ",", "totalSize", ",", "writtenSize", ",", "speed", ",", "move", ",", "isComplete", ")", ";", "addDatapoint", "(", "intent", ")", ";", "}", "else", "publishCompletedResult", "(", "getNotificationId", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "publishCompletedResult", "(", "int", "id1", ")", "{", "try", "{", "getNotificationManager", "(", ")", ".", "cancel", "(", "id1", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "protected", "void", "addFirstDatapoint", "(", "String", "name", ",", "int", "amountOfFiles", ",", "long", "totalBytes", ",", "boolean", "move", ")", "{", "if", "(", "!", "getDataPackages", "(", ")", ".", "isEmpty", "(", ")", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "DatapointParcelable", "intent1", "=", "new", "DatapointParcelable", "(", "name", ",", "amountOfFiles", ",", "totalBytes", ",", "move", ")", ";", "putDataPackage", "(", "intent1", ")", ";", "}", "</s>"]
["<s>", "protected", "void", "addDatapoint", "(", "DatapointParcelable", "datapoint", ")", "{", "if", "(", "getDataPackages", "(", ")", ".", "isEmpty", "(", ")", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "putDataPackage", "(", "datapoint", ")", ";", "if", "(", "getProgressListener", "(", ")", "!", "=", "null", ")", "{", "getProgressListener", "(", ")", ".", "onUpdate", "(", "datapoint", ")", ";", "if", "(", "datapoint", ".", "completed", ")", "getProgressListener", "(", ")", ".", "refresh", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "final", "synchronized", "DatapointParcelable", "getDataPackage", "(", "int", "index", ")", "{", "return", "getDataPackages", "(", ")", ".", "get", "(", "index", ")", ";", "}", "</s>"]
["<s>", "public", "final", "synchronized", "int", "getDataPackageSize", "(", ")", "{", "return", "getDataPackages", "(", ")", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "private", "synchronized", "void", "putDataPackage", "(", "DatapointParcelable", "dataPackage", ")", "{", "getDataPackages", "(", ")", ".", "add", "(", "dataPackage", ")", ";", "}", "</s>"]
["<s>", "void", "onUpdate", "(", "DatapointParcelable", "dataPackage", ")", ";", "</s>"]
["<s>", "void", "refresh", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isDecryptService", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "void", "finalizeNotification", "(", "ArrayList", "<", "HybridFile", ">", "failedOps", ",", "boolean", "move", ")", "{", "if", "(", "!", "move", ")", "getNotificationManager", "(", ")", ".", "cancelAll", "(", ")", ";", "if", "(", "failedOps", ".", "size", "(", ")", "=", "=", "0", ")", "return", ";", "NotificationCompat", ".", "Builder", "mBuilder", "=", "new", "NotificationCompat", ".", "Builder", "(", "getApplicationContext", "(", ")", ",", "NotificationConstants", ".", "CHANNEL_NORMAL_ID", ")", ";", "mBuilder", ".", "setContentTitle", "(", "getString", "(", "R", ".", "string", ".", "operationunsuccesful", ")", ")", ";", "String", "titleResource", ";", "switch", "(", "getNotificationId", "(", ")", ")", "{", "case", "NotificationConstants", ".", "COPY_ID", ":", "titleResource", "=", "move", "?", "getString", "(", "R", ".", "string", ".", "moved", ")", ":", "getString", "(", "R", ".", "string", ".", "copied", ")", ";", "break", ";", "case", "NotificationConstants", ".", "ENCRYPT_ID", ":", "titleResource", "=", "getString", "(", "R", ".", "string", ".", "crypt_encrypted", ")", ";", "break", ";", "case", "NotificationConstants", ".", "EXTRACT_ID", ":", "titleResource", "=", "getString", "(", "R", ".", "string", ".", "extracted", ")", ";", "break", ";", "case", "NotificationConstants", ".", "ZIP_ID", ":", "titleResource", "=", "getString", "(", "R", ".", "string", ".", "compressed", ")", ";", "break", ";", "case", "NotificationConstants", ".", "DECRYPT_ID", ":", "titleResource", "=", "getString", "(", "R", ".", "string", ".", "crypt_decrypted", ")", ";", "break", ";", "default", ":", "titleResource", "=", "getString", "(", "R", ".", "string", ".", "processed", ")", ";", "break", ";", "}", "mBuilder", ".", "setContentText", "(", "getString", "(", "R", ".", "string", ".", "copy_error", ")", ".", "replace", "(", "\"", "<STR_LIT:%s>", "\"", ",", "titleResource", ".", "toLowerCase", "(", ")", ")", ")", ";", "mBuilder", ".", "setAutoCancel", "(", "true", ")", ";", "getProgressHandler", "(", ")", ".", "setCancelled", "(", "true", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "this", ",", "MainActivity", ".", "class", ")", ";", "intent", ".", "putExtra", "(", "MainActivity", ".", "TAG_INTENT_FILTER_FAILED_OPS", ",", "failedOps", ")", ";", "intent", ".", "putExtra", "(", "\"", "<STR_LIT>", "\"", ",", "move", ")", ";", "PendingIntent", "pIntent", "=", "PendingIntent", ".", "getActivity", "(", "this", ",", "<NUM_LIT>", ",", "intent", ",", "PendingIntent", ".", "FLAG_UPDATE_CURRENT", ")", ";", "mBuilder", ".", "setContentIntent", "(", "pIntent", ")", ";", "mBuilder", ".", "setSmallIcon", "(", "R", ".", "drawable", ".", "ic_folder_lock_open_white_36dp", ")", ";", "getNotificationManager", "(", ")", ".", "notify", "(", "NotificationConstants", ".", "FAILED_ID", ",", "mBuilder", ".", "build", "(", ")", ")", ";", "intent", "=", "new", "Intent", "(", "MainActivity", ".", "TAG_INTENT_FILTER_GENERAL", ")", ";", "intent", ".", "putExtra", "(", "MainActivity", ".", "TAG_INTENT_FILTER_FAILED_OPS", ",", "failedOps", ")", ";", "sendBroadcast", "(", "intent", ")", ";", "}", "</s>"]
["<s>", "public", "void", "initNotificationViews", "(", ")", "{", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_filename_big", ",", "getString", "(", "R", ".", "string", ".", "processing", ")", ")", ";", "getNotificationCustomViewSmall", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_filename_small", ",", "getString", "(", "R", ".", "string", ".", "processing", ")", ")", ";", "String", "zeroBytesFormat", "=", "Formatter", ".", "formatFileSize", "(", "this", ",", "0", "l", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_written_big", ",", "zeroBytesFormat", ")", ";", "getNotificationCustomViewSmall", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_written_small", ",", "zeroBytesFormat", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_transferRate_big", ",", "zeroBytesFormat", "+", "\"", "<STR_LIT>", "\"", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setTextViewText", "(", "R", ".", "id", ".", "notification_service_textView_timeRemaining_big", ",", "getString", "(", "R", ".", "string", ".", "unknown", ")", ")", ";", "getNotificationCustomViewSmall", "(", ")", ".", "setProgressBar", "(", "R", ".", "id", ".", "notification_service_progressBar_small", ",", "0", ",", "0", ",", "true", ")", ";", "getNotificationCustomViewBig", "(", ")", ".", "setProgressBar", "(", "R", ".", "id", ".", "notification_service_progressBar_big", ",", "0", ",", "0", ",", "true", ")", ";", "getNotificationManager", "(", ")", ".", "notify", "(", "getNotificationId", "(", ")", ",", "getNotificationBuilder", "(", ")", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "registerReceiver", "(", "receiver1", ",", "new", "IntentFilter", "(", "TAG_BROADCAST_EXTRACT_CANCEL", ")", ")", ";", "context", "=", "getApplicationContext", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "onStartCommand", "(", "Intent", "intent", ",", "int", "flags", ",", "final", "int", "startId", ")", "{", "String", "file", "=", "intent", ".", "getStringExtra", "(", "KEY_PATH_ZIP", ")", ";", "String", "extractPath", "=", "intent", ".", "getStringExtra", "(", "KEY_PATH_EXTRACT", ")", ";", "String", "[", "]", "entries", "=", "intent", ".", "getStringArrayExtra", "(", "KEY_ENTRIES_ZIP", ")", ";", "mNotifyManager", "=", "(", "NotificationManager", ")", "getSystemService", "(", "Context", ".", "NOTIFICATION_SERVICE", ")", ";", "sharedPreferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "context", ")", ";", "accentColor", "=", "(", "(", "AppConfig", ")", "getApplication", "(", ")", ")", ".", "getUtilsProvider", "(", ")", ".", "getColorPreference", "(", ")", ".", "getCurrentUserColorPreferences", "(", "this", ",", "sharedPreferences", ")", ".", "accent", ";", "Intent", "notificationIntent", "=", "new", "Intent", "(", "this", ",", "MainActivity", ".", "class", ")", ";", "notificationIntent", ".", "setAction", "(", "Intent", ".", "ACTION_MAIN", ")", ";", "notificationIntent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_PROCESS_VIEWER", ",", "true", ")", ";", "PendingIntent", "pendingIntent", "=", "PendingIntent", ".", "getActivity", "(", "this", ",", "0", ",", "notificationIntent", ",", "0", ")", ";", "customSmallContentViews", "=", "new", "RemoteViews", "(", "getPackageName", "(", ")", ",", "R", ".", "layout", ".", "notification_service_small", ")", ";", "customBigContentViews", "=", "new", "RemoteViews", "(", "getPackageName", "(", ")", ",", "R", ".", "layout", ".", "notification_service_big", ")", ";", "Intent", "stopIntent", "=", "new", "Intent", "(", "TAG_BROADCAST_EXTRACT_CANCEL", ")", ";", "PendingIntent", "stopPendingIntent", "=", "PendingIntent", ".", "getBroadcast", "(", "context", ",", "<NUM_LIT>", ",", "stopIntent", ",", "PendingIntent", ".", "FLAG_UPDATE_CURRENT", ")", ";", "NotificationCompat", ".", "Action", "action", "=", "new", "NotificationCompat", ".", "Action", "(", "R", ".", "drawable", ".", "ic_zip_box_grey", ",", "getString", "(", "R", ".", "string", ".", "stop_ftp", ")", ",", "stopPendingIntent", ")", ";", "mBuilder", "=", "new", "NotificationCompat", ".", "Builder", "(", "context", ",", "NotificationConstants", ".", "CHANNEL_NORMAL_ID", ")", ";", "mBuilder", ".", "setContentIntent", "(", "pendingIntent", ")", ".", "setSmallIcon", "(", "R", ".", "drawable", ".", "ic_zip_box_grey", ")", ".", "setContentIntent", "(", "pendingIntent", ")", ".", "setCustomContentView", "(", "customSmallContentViews", ")", ".", "setCustomBigContentView", "(", "customBigContentViews", ")", ".", "setCustomHeadsUpContentView", "(", "customSmallContentViews", ")", ".", "setStyle", "(", "new", "NotificationCompat", ".", "DecoratedCustomViewStyle", "(", ")", ")", ".", "addAction", "(", "action", ")", ".", "setOngoing", "(", "true", ")", ".", "setColor", "(", "accentColor", ")", ";", "NotificationConstants", ".", "setMetadata", "(", "getApplicationContext", "(", ")", ",", "mBuilder", ",", "NotificationConstants", ".", "TYPE_NORMAL", ")", ";", "startForeground", "(", "NotificationConstants", ".", "EXTRACT_ID", ",", "mBuilder", ".", "build", "(", ")", ")", ";", "initNotificationViews", "(", ")", ";", "long", "totalSize", "=", "getTotalSize", "(", "file", ")", ";", "progressHandler", ".", "setSourceSize", "(", "1", ")", ";", "progressHandler", ".", "setTotalSize", "(", "totalSize", ")", ";", "progressHandler", ".", "setProgressListener", "(", "(", "speed", ")", "-", ">", "publishResults", "(", "speed", ",", "false", ",", "false", ")", ")", ";", "super", ".", "onStartCommand", "(", "intent", ",", "flags", ",", "startId", ")", ";", "super", ".", "progressHalted", "(", ")", ";", "new", "DoWork", "(", "this", ",", "progressHandler", ",", "file", ",", "extractPath", ",", "entries", ")", ".", "execute", "(", ")", ";", "return", "START_STICKY", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "NotificationManager", "getNotificationManager", "(", ")", "{", "return", "mNotifyManager", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "NotificationCompat", ".", "Builder", "getNotificationBuilder", "(", ")", "{", "return", "mBuilder", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "int", "getNotificationId", "(", ")", "{", "return", "NotificationConstants", ".", "EXTRACT_ID", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "float", "getPercentProgress", "(", ")", "{", "return", "progressPercent", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "setPercentProgress", "(", "float", "progress", ")", "{", "progressPercent", "=", "progress", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "RemoteViews", "getNotificationCustomViewSmall", "(", ")", "{", "return", "customSmallContentViews", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "RemoteViews", "getNotificationCustomViewBig", "(", ")", "{", "return", "customBigContentViews", ";", "}", "</s>"]
["<s>", "public", "ProgressListener", "getProgressListener", "(", ")", "{", "return", "progressListener", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setProgressListener", "(", "ProgressListener", "progressListener", ")", "{", "this", ".", "progressListener", "=", "progressListener", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "ArrayList", "<", "DatapointParcelable", ">", "getDataPackages", "(", ")", "{", "return", "dataPackages", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "ProgressHandler", "getProgressHandler", "(", ")", "{", "return", "progressHandler", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroy", "(", ")", "{", "unregisterReceiver", "(", "receiver1", ")", ";", "}", "</s>"]
["<s>", "private", "long", "getTotalSize", "(", "String", "filePath", ")", "{", "return", "new", "File", "(", "filePath", ")", ".", "length", "(", ")", ";", "}", "</s>"]
["<s>", "private", "DoWork", "(", "ExtractService", "extractService", ",", "ProgressHandler", "progressHandler", ",", "String", "cpath", ",", "String", "epath", ",", "String", "[", "]", "entries", ")", "{", "this", ".", "extractService", "=", "new", "WeakReference", "<", ">", "(", "extractService", ")", ";", "this", ".", "progressHandler", "=", "progressHandler", ";", "compressedPath", "=", "cpath", ";", "extractionPath", "=", "epath", ";", "entriesToExtract", "=", "entries", ";", "password", "=", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Boolean", "doInBackground", "(", "Void", ".", ".", ".", "p", ")", "{", "final", "ExtractService", "extractService", "=", "this", ".", "extractService", ".", "get", "(", ")", ";", "if", "(", "extractService", "=", "=", "null", ")", "return", "null", ";", "File", "f", "=", "new", "File", "(", "compressedPath", ")", ";", "String", "extractDirName", "=", "CompressedHelper", ".", "getFileName", "(", "f", ".", "getName", "(", ")", ")", ";", "if", "(", "compressedPath", ".", "equals", "(", "extractionPath", ")", ")", "{", "extractionPath", "=", "f", ".", "getParent", "(", ")", "+", "\"", "<STR_LIT:/>", "\"", "+", "extractDirName", ";", "}", "else", "{", "if", "(", "extractionPath", ".", "endsWith", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "{", "extractionPath", "=", "extractionPath", "+", "extractDirName", ";", "}", "else", "{", "extractionPath", "=", "extractionPath", "+", "\"", "<STR_LIT:/>", "\"", "+", "extractDirName", ";", "}", "}", "try", "{", "if", "(", "entriesToExtract", ".", "length", "=", "=", "0", ")", "entriesToExtract", "=", "null", ";", "final", "Extractor", "extractor", "=", "CompressedHelper", ".", "getExtractorInstance", "(", "extractService", ".", "getApplicationContext", "(", ")", ",", "f", ",", "extractionPath", ",", "new", "Extractor", ".", "OnUpdate", "(", ")", "{", "private", "int", "sourceFilesProcessed", "=", "0", ";", "@", "Override", "public", "void", "onStart", "(", "long", "totalBytes", ",", "String", "firstEntryName", ")", "{", "progressHandler", ".", "setTotalSize", "(", "totalBytes", ")", ";", "extractService", ".", "addFirstDatapoint", "(", "firstEntryName", ",", "1", ",", "totalBytes", ",", "false", ")", ";", "watcherUtil", "=", "new", "ServiceWatcherUtil", "(", "progressHandler", ")", ";", "watcherUtil", ".", "watch", "(", "ExtractService", ".", "this", ")", ";", "}", "@", "Override", "public", "void", "onUpdate", "(", "String", "entryPath", ")", "{", "progressHandler", ".", "setFileName", "(", "entryPath", ")", ";", "if", "(", "entriesToExtract", "!", "=", "null", ")", "{", "progressHandler", ".", "setSourceFilesProcessed", "(", "sourceFilesProcessed", "+", "+", ")", ";", "}", "}", "@", "Override", "public", "void", "onFinish", "(", ")", "{", "if", "(", "entriesToExtract", "=", "=", "null", ")", "{", "progressHandler", ".", "setSourceFilesProcessed", "(", "1", ")", ";", "}", "}", "@", "Override", "public", "boolean", "isCancelled", "(", ")", "{", "return", "progressHandler", ".", "getCancelled", "(", ")", ";", "}", "}", ",", "password", ")", ";", "if", "(", "entriesToExtract", "!", "=", "null", ")", "{", "extractor", ".", "extractFiles", "(", "entriesToExtract", ")", ";", "}", "else", "{", "extractor", ".", "extractEverything", "(", ")", ";", "}", "return", "(", "extractor", ".", "getInvalidArchiveEntries", "(", ")", ".", "size", "(", ")", "=", "=", "0", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "e", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "compressedPath", ",", "e", ")", ";", "AppConfig", ".", "toast", "(", "extractService", ",", "extractService", ".", "getString", "(", "R", ".", "string", ".", "error", ")", ")", ";", "return", "false", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onStart", "(", "long", "totalBytes", ",", "String", "firstEntryName", ")", "{", "progressHandler", ".", "setTotalSize", "(", "totalBytes", ")", ";", "extractService", ".", "addFirstDatapoint", "(", "firstEntryName", ",", "1", ",", "totalBytes", ",", "false", ")", ";", "watcherUtil", "=", "new", "ServiceWatcherUtil", "(", "progressHandler", ")", ";", "watcherUtil", ".", "watch", "(", "ExtractService", ".", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpdate", "(", "String", "entryPath", ")", "{", "progressHandler", ".", "setFileName", "(", "entryPath", ")", ";", "if", "(", "entriesToExtract", "!", "=", "null", ")", "{", "progressHandler", ".", "setSourceFilesProcessed", "(", "sourceFilesProcessed", "+", "+", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onFinish", "(", ")", "{", "if", "(", "entriesToExtract", "=", "=", "null", ")", "{", "progressHandler", ".", "setSourceFilesProcessed", "(", "1", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isCancelled", "(", ")", "{", "return", "progressHandler", ".", "getCancelled", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onProgressUpdate", "(", "Void", ".", ".", ".", "values", ")", "{", "super", ".", "onProgressUpdate", "(", "values", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPostExecute", "(", "Boolean", "hasInvalidEntries", ")", "{", "final", "ExtractService", "extractService", "=", "this", ".", "extractService", ".", "get", "(", ")", ";", "if", "(", "extractService", "=", "=", "null", ")", "return", ";", "if", "(", "watcherUtil", "!", "=", "null", ")", "watcherUtil", ".", "stopWatch", "(", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST", ")", ";", "intent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST_FILE", ",", "extractionPath", ")", ";", "extractService", ".", "sendBroadcast", "(", "intent", ")", ";", "extractService", ".", "stopSelf", "(", ")", ";", "if", "(", "!", "hasInvalidEntries", ")", "AppConfig", ".", "toast", "(", "extractService", ",", "getString", "(", "R", ".", "string", ".", "multiple_invalid_archive_entries", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "progressHandler", ".", "setCancelled", "(", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "intent", ")", "{", "return", "mBinder", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "context", "=", "getApplicationContext", "(", ")", ";", "registerReceiver", "(", "cancelReceiver", ",", "new", "IntentFilter", "(", "TAG_BROADCAST_CRYPT_CANCEL", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "onStartCommand", "(", "Intent", "intent", ",", "int", "flags", ",", "int", "startId", ")", "{", "baseFile", "=", "intent", ".", "getParcelableExtra", "(", "TAG_SOURCE", ")", ";", "sharedPreferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "context", ")", ";", "accentColor", "=", "(", "(", "AppConfig", ")", "getApplication", "(", ")", ")", ".", "getUtilsProvider", "(", ")", ".", "getColorPreference", "(", ")", ".", "getCurrentUserColorPreferences", "(", "this", ",", "sharedPreferences", ")", ".", "accent", ";", "openMode", "=", "OpenMode", ".", "values", "(", ")", "[", "intent", ".", "getIntExtra", "(", "TAG_OPEN_MODE", ",", "OpenMode", ".", "UNKNOWN", ".", "ordinal", "(", ")", ")", "]", ";", "notificationManager", "=", "(", "NotificationManager", ")", "getSystemService", "(", "NOTIFICATION_SERVICE", ")", ";", "Intent", "notificationIntent", "=", "new", "Intent", "(", "this", ",", "MainActivity", ".", "class", ")", ";", "notificationIntent", ".", "setAction", "(", "Intent", ".", "ACTION_MAIN", ")", ";", "notificationIntent", ".", "setFlags", "(", "Intent", ".", "FLAG_ACTIVITY_NEW_TASK", ")", ";", "notificationIntent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_PROCESS_VIEWER", ",", "true", ")", ";", "PendingIntent", "pendingIntent", "=", "PendingIntent", ".", "getActivity", "(", "this", ",", "0", ",", "notificationIntent", ",", "0", ")", ";", "customSmallContentViews", "=", "new", "RemoteViews", "(", "getPackageName", "(", ")", ",", "R", ".", "layout", ".", "notification_service_small", ")", ";", "customBigContentViews", "=", "new", "RemoteViews", "(", "getPackageName", "(", ")", ",", "R", ".", "layout", ".", "notification_service_big", ")", ";", "Intent", "stopIntent", "=", "new", "Intent", "(", "TAG_BROADCAST_CRYPT_CANCEL", ")", ";", "PendingIntent", "stopPendingIntent", "=", "PendingIntent", ".", "getBroadcast", "(", "context", ",", "<NUM_LIT>", ",", "stopIntent", ",", "PendingIntent", ".", "FLAG_UPDATE_CURRENT", ")", ";", "NotificationCompat", ".", "Action", "action", "=", "new", "NotificationCompat", ".", "Action", "(", "R", ".", "drawable", ".", "ic_folder_lock_open_white_36dp", ",", "getString", "(", "R", ".", "string", ".", "stop_ftp", ")", ",", "stopPendingIntent", ")", ";", "notificationBuilder", "=", "new", "NotificationCompat", ".", "Builder", "(", "this", ",", "NotificationConstants", ".", "CHANNEL_NORMAL_ID", ")", ";", "notificationBuilder", ".", "setContentIntent", "(", "pendingIntent", ")", ".", "setCustomContentView", "(", "customSmallContentViews", ")", ".", "setCustomBigContentView", "(", "customBigContentViews", ")", ".", "setCustomHeadsUpContentView", "(", "customSmallContentViews", ")", ".", "setStyle", "(", "new", "NotificationCompat", ".", "DecoratedCustomViewStyle", "(", ")", ")", ".", "addAction", "(", "action", ")", ".", "setOngoing", "(", "true", ")", ".", "setColor", "(", "accentColor", ")", ";", "decryptPath", "=", "intent", ".", "getStringExtra", "(", "TAG_DECRYPT_PATH", ")", ";", "notificationBuilder", ".", "setSmallIcon", "(", "R", ".", "drawable", ".", "ic_folder_lock_open_white_36dp", ")", ";", "NotificationConstants", ".", "setMetadata", "(", "context", ",", "notificationBuilder", ",", "NotificationConstants", ".", "TYPE_NORMAL", ")", ";", "startForeground", "(", "NotificationConstants", ".", "DECRYPT_ID", ",", "notificationBuilder", ".", "build", "(", ")", ")", ";", "initNotificationViews", "(", ")", ";", "super", ".", "onStartCommand", "(", "intent", ",", "flags", ",", "startId", ")", ";", "super", ".", "progressHalted", "(", ")", ";", "new", "DecryptService", ".", "BackgroundTask", "(", ")", ".", "execute", "(", ")", ";", "return", "START_STICKY", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "String", "baseFileFolder", "=", "baseFile", ".", "isDirectory", "(", ")", "?", "baseFile", ".", "getPath", "(", ")", ":", "baseFile", ".", "getPath", "(", ")", ".", "substring", "(", "0", ",", "baseFile", ".", "getPath", "(", ")", ".", "lastIndexOf", "(", "<CHAR_LIT:/>", ")", ")", ";", "if", "(", "baseFile", ".", "isDirectory", "(", ")", ")", "totalSize", "=", "baseFile", ".", "folderSize", "(", "context", ")", ";", "else", "totalSize", "=", "baseFile", ".", "length", "(", "context", ")", ";", "progressHandler", ".", "setSourceSize", "(", "1", ")", ";", "progressHandler", ".", "setTotalSize", "(", "totalSize", ")", ";", "progressHandler", ".", "setProgressListener", "(", "(", "speed", ")", "-", ">", "publishResults", "(", "speed", ",", "false", ",", "false", ")", ")", ";", "serviceWatcherUtil", "=", "new", "ServiceWatcherUtil", "(", "progressHandler", ")", ";", "addFirstDatapoint", "(", "baseFile", ".", "getName", "(", ")", ",", "1", ",", "totalSize", ",", "false", ")", ";", "if", "(", "FileUtil", ".", "checkFolder", "(", "baseFileFolder", ",", "context", ")", "=", "=", "1", ")", "{", "serviceWatcherUtil", ".", "watch", "(", "DecryptService", ".", "this", ")", ";", "try", "{", "new", "CryptUtil", "(", "context", ",", "baseFile", ",", "decryptPath", ",", "progressHandler", ",", "failedOps", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "failedOps", ".", "add", "(", "baseFile", ")", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "Void", "aVoid", ")", "{", "super", ".", "onPostExecute", "(", "aVoid", ")", ";", "serviceWatcherUtil", ".", "stopWatch", "(", ")", ";", "finalizeNotification", "(", "failedOps", ",", "false", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "EncryptDecryptUtils", ".", "DECRYPT_BROADCAST", ")", ";", "intent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST_FILE", ",", "\"", "\"", ")", ";", "sendBroadcast", "(", "intent", ")", ";", "stopSelf", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "NotificationManager", "getNotificationManager", "(", ")", "{", "return", "notificationManager", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "NotificationCompat", ".", "Builder", "getNotificationBuilder", "(", ")", "{", "return", "notificationBuilder", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "int", "getNotificationId", "(", ")", "{", "return", "NotificationConstants", ".", "DECRYPT_ID", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "float", "getPercentProgress", "(", ")", "{", "return", "progressPercent", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "setPercentProgress", "(", "float", "progress", ")", "{", "progressPercent", "=", "progress", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "RemoteViews", "getNotificationCustomViewSmall", "(", ")", "{", "return", "customSmallContentViews", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "RemoteViews", "getNotificationCustomViewBig", "(", ")", "{", "return", "customBigContentViews", ";", "}", "</s>"]
["<s>", "public", "ProgressListener", "getProgressListener", "(", ")", "{", "return", "progressListener", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setProgressListener", "(", "ProgressListener", "progressListener", ")", "{", "this", ".", "progressListener", "=", "progressListener", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "ArrayList", "<", "DatapointParcelable", ">", "getDataPackages", "(", ")", "{", "return", "dataPackages", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "ProgressHandler", "getProgressHandler", "(", ")", "{", "return", "progressHandler", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isDecryptService", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "intent", ")", "{", "return", "mBinder", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroy", "(", ")", "{", "super", ".", "onDestroy", "(", ")", ";", "this", ".", "unregisterReceiver", "(", "cancelReceiver", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "progressHandler", ".", "setCancelled", "(", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "context", "=", "getApplicationContext", "(", ")", ";", "registerReceiver", "(", "cancelReceiver", ",", "new", "IntentFilter", "(", "TAG_BROADCAST_CRYPT_CANCEL", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "onStartCommand", "(", "Intent", "intent", ",", "int", "flags", ",", "int", "startId", ")", "{", "baseFile", "=", "intent", ".", "getParcelableExtra", "(", "TAG_SOURCE", ")", ";", "targetFilename", "=", "intent", ".", "getStringExtra", "(", "TAG_ENCRYPT_TARGET", ")", ";", "sharedPreferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "context", ")", ";", "accentColor", "=", "(", "(", "AppConfig", ")", "getApplication", "(", ")", ")", ".", "getUtilsProvider", "(", ")", ".", "getColorPreference", "(", ")", ".", "getCurrentUserColorPreferences", "(", "this", ",", "sharedPreferences", ")", ".", "accent", ";", "openMode", "=", "OpenMode", ".", "values", "(", ")", "[", "intent", ".", "getIntExtra", "(", "TAG_OPEN_MODE", ",", "OpenMode", ".", "UNKNOWN", ".", "ordinal", "(", ")", ")", "]", ";", "notificationManager", "=", "(", "NotificationManager", ")", "getSystemService", "(", "NOTIFICATION_SERVICE", ")", ";", "Intent", "notificationIntent", "=", "new", "Intent", "(", "this", ",", "MainActivity", ".", "class", ")", ";", "notificationIntent", ".", "setAction", "(", "Intent", ".", "ACTION_MAIN", ")", ";", "notificationIntent", ".", "setFlags", "(", "Intent", ".", "FLAG_ACTIVITY_NEW_TASK", ")", ";", "notificationIntent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_PROCESS_VIEWER", ",", "true", ")", ";", "PendingIntent", "pendingIntent", "=", "PendingIntent", ".", "getActivity", "(", "this", ",", "0", ",", "notificationIntent", ",", "0", ")", ";", "customSmallContentViews", "=", "new", "RemoteViews", "(", "getPackageName", "(", ")", ",", "R", ".", "layout", ".", "notification_service_small", ")", ";", "customBigContentViews", "=", "new", "RemoteViews", "(", "getPackageName", "(", ")", ",", "R", ".", "layout", ".", "notification_service_big", ")", ";", "Intent", "stopIntent", "=", "new", "Intent", "(", "TAG_BROADCAST_CRYPT_CANCEL", ")", ";", "PendingIntent", "stopPendingIntent", "=", "PendingIntent", ".", "getBroadcast", "(", "context", ",", "<NUM_LIT>", ",", "stopIntent", ",", "PendingIntent", ".", "FLAG_UPDATE_CURRENT", ")", ";", "NotificationCompat", ".", "Action", "action", "=", "new", "NotificationCompat", ".", "Action", "(", "R", ".", "drawable", ".", "ic_folder_lock_white_36dp", ",", "getString", "(", "R", ".", "string", ".", "stop_ftp", ")", ",", "stopPendingIntent", ")", ";", "notificationBuilder", "=", "new", "NotificationCompat", ".", "Builder", "(", "this", ",", "NotificationConstants", ".", "CHANNEL_NORMAL_ID", ")", ";", "notificationBuilder", ".", "setContentIntent", "(", "pendingIntent", ")", ".", "setCustomContentView", "(", "customSmallContentViews", ")", ".", "setCustomBigContentView", "(", "customBigContentViews", ")", ".", "setCustomHeadsUpContentView", "(", "customSmallContentViews", ")", ".", "setStyle", "(", "new", "NotificationCompat", ".", "DecoratedCustomViewStyle", "(", ")", ")", ".", "addAction", "(", "action", ")", ".", "setColor", "(", "accentColor", ")", ".", "setOngoing", "(", "true", ")", ".", "setSmallIcon", "(", "R", ".", "drawable", ".", "ic_folder_lock_white_36dp", ")", ";", "NotificationConstants", ".", "setMetadata", "(", "getApplicationContext", "(", ")", ",", "notificationBuilder", ",", "NotificationConstants", ".", "TYPE_NORMAL", ")", ";", "startForeground", "(", "NotificationConstants", ".", "ENCRYPT_ID", ",", "notificationBuilder", ".", "build", "(", ")", ")", ";", "initNotificationViews", "(", ")", ";", "super", ".", "onStartCommand", "(", "intent", ",", "flags", ",", "startId", ")", ";", "super", ".", "progressHalted", "(", ")", ";", "new", "BackgroundTask", "(", ")", ".", "execute", "(", ")", ";", "return", "START_STICKY", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "NotificationManager", "getNotificationManager", "(", ")", "{", "return", "notificationManager", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "NotificationCompat", ".", "Builder", "getNotificationBuilder", "(", ")", "{", "return", "notificationBuilder", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "int", "getNotificationId", "(", ")", "{", "return", "NotificationConstants", ".", "ENCRYPT_ID", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "float", "getPercentProgress", "(", ")", "{", "return", "progressPercent", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "setPercentProgress", "(", "float", "progress", ")", "{", "this", ".", "progressPercent", "=", "progress", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "RemoteViews", "getNotificationCustomViewSmall", "(", ")", "{", "return", "customSmallContentViews", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "RemoteViews", "getNotificationCustomViewBig", "(", ")", "{", "return", "customBigContentViews", ";", "}", "</s>"]
["<s>", "public", "ProgressListener", "getProgressListener", "(", ")", "{", "return", "progressListener", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setProgressListener", "(", "ProgressListener", "progressListener", ")", "{", "this", ".", "progressListener", "=", "progressListener", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "ArrayList", "<", "DatapointParcelable", ">", "getDataPackages", "(", ")", "{", "return", "dataPackages", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "ProgressHandler", "getProgressHandler", "(", ")", "{", "return", "progressHandler", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "if", "(", "baseFile", ".", "isDirectory", "(", ")", ")", "totalSize", "=", "baseFile", ".", "folderSize", "(", "context", ")", ";", "else", "totalSize", "=", "baseFile", ".", "length", "(", "context", ")", ";", "progressHandler", ".", "setSourceSize", "(", "1", ")", ";", "progressHandler", ".", "setTotalSize", "(", "totalSize", ")", ";", "progressHandler", ".", "setProgressListener", "(", "(", "speed", ")", "-", ">", "publishResults", "(", "speed", ",", "false", ",", "false", ")", ")", ";", "serviceWatcherUtil", "=", "new", "ServiceWatcherUtil", "(", "progressHandler", ")", ";", "addFirstDatapoint", "(", "baseFile", ".", "getName", "(", ")", ",", "1", ",", "totalSize", ",", "true", ")", ";", "if", "(", "FileUtil", ".", "checkFolder", "(", "baseFile", ".", "getPath", "(", ")", ",", "context", ")", "=", "=", "1", ")", "{", "serviceWatcherUtil", ".", "watch", "(", "EncryptService", ".", "this", ")", ";", "try", "{", "new", "CryptUtil", "(", "context", ",", "baseFile", ",", "progressHandler", ",", "failedOps", ",", "targetFilename", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "failedOps", ".", "add", "(", "baseFile", ")", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "Void", "aVoid", ")", "{", "super", ".", "onPostExecute", "(", "aVoid", ")", ";", "serviceWatcherUtil", ".", "stopWatch", "(", ")", ";", "finalizeNotification", "(", "failedOps", ",", "false", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST", ")", ";", "intent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST_FILE", ",", "\"", "\"", ")", ";", "sendBroadcast", "(", "intent", ")", ";", "stopSelf", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "intent", ")", "{", "return", "mBinder", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroy", "(", ")", "{", "super", ".", "onDestroy", "(", ")", ";", "this", ".", "unregisterReceiver", "(", "cancelReceiver", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "progressHandler", ".", "setCancelled", "(", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "updateTileState", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onStartListening", "(", ")", "{", "super", ".", "onStartListening", "(", ")", ";", "IntentFilter", "f", "=", "new", "IntentFilter", "(", ")", ";", "f", ".", "addAction", "(", "FtpService", ".", "ACTION_STARTED", ")", ";", "f", ".", "addAction", "(", "FtpService", ".", "ACTION_STOPPED", ")", ";", "registerReceiver", "(", "ftpReceiver", ",", "f", ")", ";", "updateTileState", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onStopListening", "(", ")", "{", "super", ".", "onStopListening", "(", ")", ";", "unregisterReceiver", "(", "ftpReceiver", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", ")", "{", "super", ".", "onClick", "(", ")", ";", "if", "(", "getQsTile", "(", ")", ".", "getState", "(", ")", "=", "=", "Tile", ".", "STATE_ACTIVE", ")", "{", "getApplicationContext", "(", ")", ".", "sendBroadcast", "(", "new", "Intent", "(", "FtpService", ".", "ACTION_STOP_FTPSERVER", ")", ")", ";", "}", "else", "{", "if", "(", "FtpService", ".", "isConnectedToWifi", "(", "getApplicationContext", "(", ")", ")", "|", "|", "FtpService", ".", "isConnectedToLocalNetwork", "(", "getApplicationContext", "(", ")", ")", "|", "|", "FtpService", ".", "isEnabledWifiHotspot", "(", "getApplicationContext", "(", ")", ")", ")", "{", "Intent", "i", "=", "new", "Intent", "(", "FtpService", ".", "ACTION_START_FTPSERVER", ")", ";", "i", ".", "putExtra", "(", "FtpService", ".", "TAG_STARTED_BY_TILE", ",", "true", ")", ";", "getApplicationContext", "(", ")", ".", "sendBroadcast", "(", "i", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "getApplicationContext", "(", ")", ",", "getString", "(", "R", ".", "string", ".", "ftp_no_wifi", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "updateTileState", "(", ")", "{", "Tile", "tile", "=", "getQsTile", "(", ")", ";", "if", "(", "FtpService", ".", "isRunning", "(", ")", ")", "{", "tile", ".", "setState", "(", "Tile", ".", "STATE_ACTIVE", ")", ";", "tile", ".", "setIcon", "(", "Icon", ".", "createWithResource", "(", "this", ",", "R", ".", "drawable", ".", "ic_ftp_dark", ")", ")", ";", "}", "else", "{", "tile", ".", "setState", "(", "Tile", ".", "STATE_INACTIVE", ")", ";", "tile", ".", "setIcon", "(", "Icon", ".", "createWithResource", "(", "this", ",", "R", ".", "drawable", ".", "ic_ftp_light", ")", ")", ";", "}", "tile", ".", "updateTile", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "Log", ".", "v", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "intent", ".", "getAction", "(", ")", ")", ";", "try", "{", "Intent", "service", "=", "new", "Intent", "(", "context", ",", "FtpService", ".", "class", ")", ";", "service", ".", "putExtras", "(", "intent", ")", ";", "if", "(", "intent", ".", "getAction", "(", ")", ".", "equals", "(", "FtpService", ".", "ACTION_START_FTPSERVER", ")", "&", "&", "!", "FtpService", ".", "isRunning", "(", ")", ")", "{", "context", ".", "startService", "(", "service", ")", ";", "}", "else", "if", "(", "intent", ".", "getAction", "(", ")", ".", "equals", "(", "FtpService", ".", "ACTION_STOP_FTPSERVER", ")", ")", "{", "context", ".", "stopService", "(", "service", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "e", ".", "getMessage", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "onStartCommand", "(", "Intent", "intent", ",", "int", "flags", ",", "int", "startId", ")", "{", "isStartedByTile", "=", "intent", ".", "getBooleanExtra", "(", "TAG_STARTED_BY_TILE", ",", "false", ")", ";", "int", "attempts", "=", "<NUM_LIT:10>", ";", "while", "(", "serverThread", "!", "=", "null", ")", "{", "if", "(", "attempts", ">", "0", ")", "{", "attempts", "-", "-", ";", "try", "{", "Thread", ".", "sleep", "(", "<NUM_LIT:1000>", ")", ";", "}", "catch", "(", "InterruptedException", "ignored", ")", "{", "}", "}", "else", "{", "return", "START_STICKY", ";", "}", "}", "serverThread", "=", "new", "Thread", "(", "this", ")", ";", "serverThread", ".", "start", "(", ")", ";", "return", "START_STICKY", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "IBinder", "onBind", "(", "Intent", "intent", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "SharedPreferences", "preferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "this", ")", ";", "FtpServerFactory", "serverFactory", "=", "new", "FtpServerFactory", "(", ")", ";", "ConnectionConfigFactory", "connectionConfigFactory", "=", "new", "ConnectionConfigFactory", "(", ")", ";", "connectionConfigFactory", ".", "setAnonymousLoginEnabled", "(", "true", ")", ";", "serverFactory", ".", "setConnectionConfig", "(", "connectionConfigFactory", ".", "createConnectionConfig", "(", ")", ")", ";", "String", "usernamePreference", "=", "preferences", ".", "getString", "(", "KEY_PREFERENCE_USERNAME", ",", "DEFAULT_USERNAME", ")", ";", "if", "(", "!", "usernamePreference", ".", "equals", "(", "DEFAULT_USERNAME", ")", ")", "{", "username", "=", "usernamePreference", ";", "try", "{", "password", "=", "CryptUtil", ".", "decryptPassword", "(", "getApplicationContext", "(", ")", ",", "preferences", ".", "getString", "(", "KEY_PREFERENCE_PASSWORD", ",", "\"", "\"", ")", ")", ";", "isPasswordProtected", "=", "true", ";", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "getApplicationContext", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "error", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "preferences", ".", "edit", "(", ")", ".", "putString", "(", "FtpService", ".", "KEY_PREFERENCE_PASSWORD", ",", "\"", "\"", ")", ".", "apply", "(", ")", ";", "isPasswordProtected", "=", "false", ";", "}", "}", "BaseUser", "user", "=", "new", "BaseUser", "(", ")", ";", "if", "(", "!", "isPasswordProtected", ")", "{", "user", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "else", "{", "user", ".", "setName", "(", "username", ")", ";", "user", ".", "setPassword", "(", "password", ")", ";", "}", "user", ".", "setHomeDirectory", "(", "preferences", ".", "getString", "(", "KEY_PREFERENCE_PATH", ",", "DEFAULT_PATH", ")", ")", ";", "List", "<", "Authority", ">", "list", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "list", ".", "add", "(", "new", "WritePermission", "(", ")", ")", ";", "user", ".", "setAuthorities", "(", "list", ")", ";", "try", "{", "serverFactory", ".", "getUserManager", "(", ")", ".", "save", "(", "user", ")", ";", "}", "catch", "(", "FtpException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "ListenerFactory", "fac", "=", "new", "ListenerFactory", "(", ")", ";", "if", "(", "preferences", ".", "getBoolean", "(", "KEY_PREFERENCE_SECURE", ",", "DEFAULT_SECURE", ")", ")", "{", "try", "{", "KeyStore", "keyStore", "=", "KeyStore", ".", "getInstance", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "keyStore", ".", "load", "(", "getResources", "(", ")", ".", "openRawResource", "(", "R", ".", "raw", ".", "key", ")", ",", "KEYSTORE_PASSWORD", ")", ";", "KeyManagerFactory", "keyManagerFactory", "=", "KeyManagerFactory", ".", "getInstance", "(", "KeyManagerFactory", ".", "getDefaultAlgorithm", "(", ")", ")", ";", "keyManagerFactory", ".", "init", "(", "keyStore", ",", "KEYSTORE_PASSWORD", ")", ";", "TrustManagerFactory", "trustManagerFactory", "=", "TrustManagerFactory", ".", "getInstance", "(", "TrustManagerFactory", ".", "getDefaultAlgorithm", "(", ")", ")", ";", "trustManagerFactory", ".", "init", "(", "keyStore", ")", ";", "fac", ".", "setSslConfiguration", "(", "new", "DefaultSslConfiguration", "(", "keyManagerFactory", ",", "trustManagerFactory", ",", "ClientAuth", ".", "WANT", ",", "\"", "<STR_LIT>", "\"", ",", "null", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "fac", ".", "setImplicitSsl", "(", "true", ")", ";", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "preferences", ".", "edit", "(", ")", ".", "putBoolean", "(", "KEY_PREFERENCE_SECURE", ",", "false", ")", ".", "apply", "(", ")", ";", "}", "}", "fac", ".", "setPort", "(", "getPort", "(", "preferences", ")", ")", ";", "fac", ".", "setIdleTimeout", "(", "preferences", ".", "getInt", "(", "KEY_PREFERENCE_TIMEOUT", ",", "DEFAULT_TIMEOUT", ")", ")", ";", "serverFactory", ".", "addListener", "(", "\"", "<STR_LIT>", "\"", ",", "fac", ".", "createListener", "(", ")", ")", ";", "try", "{", "server", "=", "serverFactory", ".", "createServer", "(", ")", ";", "server", ".", "start", "(", ")", ";", "sendBroadcast", "(", "new", "Intent", "(", "FtpService", ".", "ACTION_STARTED", ")", ".", "putExtra", "(", "TAG_STARTED_BY_TILE", ",", "isStartedByTile", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "sendBroadcast", "(", "new", "Intent", "(", "FtpService", ".", "ACTION_FAILEDTOSTART", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroy", "(", ")", "{", "if", "(", "serverThread", "=", "=", "null", ")", "{", "return", ";", "}", "serverThread", ".", "interrupt", "(", ")", ";", "try", "{", "serverThread", ".", "join", "(", "<NUM_LIT>", ")", ";", "}", "catch", "(", "InterruptedException", "e", ")", "{", "}", "if", "(", "!", "serverThread", ".", "isAlive", "(", ")", ")", "{", "serverThread", "=", "null", ";", "}", "if", "(", "server", "!", "=", "null", ")", "{", "server", ".", "stop", "(", ")", ";", "sendBroadcast", "(", "new", "Intent", "(", "FtpService", ".", "ACTION_STOPPED", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onTaskRemoved", "(", "Intent", "rootIntent", ")", "{", "super", ".", "onTaskRemoved", "(", "rootIntent", ")", ";", "Intent", "restartService", "=", "new", "Intent", "(", "getApplicationContext", "(", ")", ",", "this", ".", "getClass", "(", ")", ")", ";", "restartService", ".", "setPackage", "(", "getPackageName", "(", ")", ")", ";", "PendingIntent", "restartServicePI", "=", "PendingIntent", ".", "getService", "(", "getApplicationContext", "(", ")", ",", "1", ",", "restartService", ",", "PendingIntent", ".", "FLAG_ONE_SHOT", ")", ";", "AlarmManager", "alarmService", "=", "(", "AlarmManager", ")", "getApplicationContext", "(", ")", ".", "getSystemService", "(", "Context", ".", "ALARM_SERVICE", ")", ";", "alarmService", ".", "set", "(", "AlarmManager", ".", "ELAPSED_REALTIME", ",", "SystemClock", ".", "elapsedRealtime", "(", ")", "+", "<NUM_LIT>", ",", "restartServicePI", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isRunning", "(", ")", "{", "return", "serverThread", "!", "=", "null", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isConnectedToLocalNetwork", "(", "Context", "context", ")", "{", "ConnectivityManager", "cm", "=", "(", "ConnectivityManager", ")", "context", ".", "getSystemService", "(", "Context", ".", "CONNECTIVITY_SERVICE", ")", ";", "NetworkInfo", "ni", "=", "cm", ".", "getActiveNetworkInfo", "(", ")", ";", "boolean", "connected", "=", "ni", "!", "=", "null", "&", "&", "ni", ".", "isConnected", "(", ")", "&", "&", "(", "ni", ".", "getType", "(", ")", "&", "(", "ConnectivityManager", ".", "TYPE_WIFI", "|", "ConnectivityManager", ".", "TYPE_ETHERNET", ")", ")", "!", "=", "0", ";", "if", "(", "!", "connected", ")", "{", "try", "{", "for", "(", "NetworkInterface", "netInterface", ":", "Collections", ".", "list", "(", "NetworkInterface", ".", "getNetworkInterfaces", "(", ")", ")", ")", "{", "if", "(", "netInterface", ".", "getDisplayName", "(", ")", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "connected", "=", "true", ";", "}", "}", "}", "catch", "(", "SocketException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "return", "connected", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isConnectedToWifi", "(", "Context", "context", ")", "{", "ConnectivityManager", "cm", "=", "(", "ConnectivityManager", ")", "context", ".", "getSystemService", "(", "Context", ".", "CONNECTIVITY_SERVICE", ")", ";", "NetworkInfo", "ni", "=", "cm", ".", "getActiveNetworkInfo", "(", ")", ";", "return", "ni", "!", "=", "null", "&", "&", "ni", ".", "isConnected", "(", ")", "&", "&", "ni", ".", "getType", "(", ")", "=", "=", "ConnectivityManager", ".", "TYPE_WIFI", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isEnabledWifiHotspot", "(", "Context", "context", ")", "{", "WifiManager", "wm", "=", "(", "WifiManager", ")", "context", ".", "getApplicationContext", "(", ")", ".", "getSystemService", "(", "Context", ".", "WIFI_SERVICE", ")", ";", "Boolean", "enabled", "=", "callIsWifiApEnabled", "(", "wm", ")", ";", "return", "enabled", "!", "=", "null", "?", "enabled", ":", "false", ";", "}", "</s>"]
["<s>", "public", "static", "InetAddress", "getLocalInetAddress", "(", "Context", "context", ")", "{", "if", "(", "!", "isConnectedToLocalNetwork", "(", "context", ")", "&", "&", "!", "isEnabledWifiHotspot", "(", "context", ")", ")", "{", "return", "null", ";", "}", "if", "(", "isConnectedToWifi", "(", "context", ")", ")", "{", "WifiManager", "wm", "=", "(", "WifiManager", ")", "context", ".", "getApplicationContext", "(", ")", ".", "getSystemService", "(", "Context", ".", "WIFI_SERVICE", ")", ";", "int", "ipAddress", "=", "wm", ".", "getConnectionInfo", "(", ")", ".", "getIpAddress", "(", ")", ";", "if", "(", "ipAddress", "=", "=", "0", ")", "return", "null", ";", "return", "intToInet", "(", "ipAddress", ")", ";", "}", "try", "{", "Enumeration", "<", "NetworkInterface", ">", "netinterfaces", "=", "NetworkInterface", ".", "getNetworkInterfaces", "(", ")", ";", "while", "(", "netinterfaces", ".", "hasMoreElements", "(", ")", ")", "{", "NetworkInterface", "netinterface", "=", "netinterfaces", ".", "nextElement", "(", ")", ";", "Enumeration", "<", "InetAddress", ">", "addresses", "=", "netinterface", ".", "getInetAddresses", "(", ")", ";", "while", "(", "addresses", ".", "hasMoreElements", "(", ")", ")", "{", "InetAddress", "address", "=", "addresses", ".", "nextElement", "(", ")", ";", "if", "(", "WIFI_AP_ADDRESS", ".", "equals", "(", "address", ".", "getHostAddress", "(", ")", ")", "&", "&", "isEnabledWifiHotspot", "(", "context", ")", ")", "return", "address", ";", "if", "(", "!", "address", ".", "isLoopbackAddress", "(", ")", "&", "&", "!", "address", ".", "isLinkLocalAddress", "(", ")", "&", "&", "!", "isEnabledWifiHotspot", "(", "context", ")", ")", "return", "address", ";", "}", "}", "}", "catch", "(", "SocketException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "static", "InetAddress", "intToInet", "(", "int", "value", ")", "{", "byte", "[", "]", "bytes", "=", "new", "byte", "[", "<NUM_LIT:4>", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:4>", ";", "i", "+", "+", ")", "{", "bytes", "[", "i", "]", "=", "byteOfInt", "(", "value", ",", "i", ")", ";", "}", "try", "{", "return", "InetAddress", ".", "getByAddress", "(", "bytes", ")", ";", "}", "catch", "(", "UnknownHostException", "e", ")", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "public", "static", "byte", "byteOfInt", "(", "int", "value", ",", "int", "which", ")", "{", "int", "shift", "=", "which", "*", "<NUM_LIT:8>", ";", "return", "(", "byte", ")", "(", "value", ">", ">", "shift", ")", ";", "}", "</s>"]
["<s>", "public", "static", "int", "getPort", "(", "SharedPreferences", "preferences", ")", "{", "return", "preferences", ".", "getInt", "(", "PORT_PREFERENCE_KEY", ",", "DEFAULT_PORT", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "private", "static", "Boolean", "callIsWifiApEnabled", "(", "@", "NonNull", "WifiManager", "wifiManager", ")", "{", "Boolean", "r", "=", "null", ";", "try", "{", "Method", "method", "=", "wifiManager", ".", "getClass", "(", ")", ".", "getDeclaredMethod", "(", "\"", "<STR_LIT>", "\"", ")", ";", "r", "=", "(", "Boolean", ")", "method", ".", "invoke", "(", "wifiManager", ")", ";", "}", "catch", "(", "NoSuchMethodException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "IllegalAccessException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "InvocationTargetException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "r", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setupDialog", "(", "Dialog", "dialog", ",", "int", "style", ")", "{", "super", ".", "setupDialog", "(", "dialog", ",", "style", ")", ";", "rootView", "=", "View", ".", "inflate", "(", "getContext", "(", ")", ",", "R", ".", "layout", ".", "fragment_sheet_properties", ",", "null", ")", ";", "dialog", ".", "setContentView", "(", "rootView", ")", ";", "mBundle", "=", "getArguments", "(", ")", ";", "mFile", "=", "mBundle", ".", "getParcelable", "(", "KEY_FILE", ")", ";", "mPermission", "=", "mBundle", ".", "getString", "(", "KEY_PERMISSION", ")", ";", "mIsRoot", "=", "mBundle", ".", "getBoolean", "(", "KEY_ROOT", ")", ";", "mToolbar", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "collapsing_toolbar_layout", ")", ";", "mAppBarLayout", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "appBarLayout", ")", ";", "mToolbar", ".", "setTitle", "(", "getString", "(", "R", ".", "string", ".", "properties", ")", ")", ";", "mToolbar", ".", "setCollapsedTitleTextAppearance", "(", "R", ".", "style", ".", "collapsed_appbar", ")", ";", "mToolbar", ".", "setExpandedTitleTextAppearance", "(", "R", ".", "style", ".", "expanded_appbar", ")", ";", "mFileNameTextView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_file_name", ")", ";", "mFileNameTextView", ".", "setText", "(", "mFile", ".", "getName", "(", ")", ")", ";", "mFileTypeTextView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_file_type", ")", ";", "mFileTypeTextView", ".", "setText", "(", "mFile", ".", "isDirectory", "(", ")", "?", "getString", "(", "R", ".", "string", ".", "folder", ")", ":", "mFile", ".", "getName", "(", ")", ".", "substring", "(", "mFile", ".", "getName", "(", ")", ".", "lastIndexOf", "(", "\"", "<STR_LIT:.>", "\"", ")", ")", ")", ";", "mFileSizeTextView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_file_size", ")", ";", "mFileSizeTextView", ".", "setText", "(", "Formatter", ".", "formatFileSize", "(", "dialog", ".", "getContext", "(", ")", ",", "mFile", ".", "isDirectory", "(", ")", "?", "FileUtils", ".", "folderSize", "(", "new", "File", "(", "mFile", ".", "getPath", "(", ")", ")", ",", "null", ")", ":", "mFile", ".", "getSize", "(", ")", ")", ")", ";", "mFileLocationTextView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_file_location", ")", ";", "mFileLocationTextView", ".", "setText", "(", "mFile", ".", "getPath", "(", ")", ")", ";", "mFileAccessedTextView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_file_accessed", ")", ";", "mFileAccessedTextView", ".", "setText", "(", "Utils", ".", "getDate", "(", "mFile", ".", "getDate", "(", ")", ")", ")", ";", "mFileModifiedTextView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_file_modified", ")", ";", "mFileModifiedTextView", ".", "setText", "(", "Utils", ".", "getDate", "(", "mFile", ".", "getDate", "(", ")", ")", ")", ";", "CoordinatorLayout", ".", "LayoutParams", "layoutParams", "=", "(", "CoordinatorLayout", ".", "LayoutParams", ")", "(", "(", "View", ")", "rootView", ".", "getParent", "(", ")", ")", ".", "getLayoutParams", "(", ")", ";", "mBottomSheetBehavior", "=", "(", "BottomSheetBehavior", ")", "layoutParams", ".", "getBehavior", "(", ")", ";", "mBottomSheetBehavior", ".", "setBottomSheetCallback", "(", "mCallback", ")", ";", "mNestedScrollView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "nested_view", ")", ";", "mNestedScrollView", ".", "setOnScrollChangeListener", "(", "new", "NestedScrollView", ".", "OnScrollChangeListener", "(", ")", "{", "@", "Override", "public", "void", "onScrollChange", "(", "NestedScrollView", "v", ",", "int", "scrollX", ",", "int", "scrollY", ",", "int", "oldScrollX", ",", "int", "oldScrollY", ")", "{", "Log", ".", "d", "(", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ",", "\"", "<STR_LIT>", "\"", "+", "scrollY", "+", "\"", "<STR_LIT>", "\"", "+", "oldScrollY", ")", ";", "if", "(", "scrollY", "=", "=", "0", ")", "{", "mBottomSheetBehavior", ".", "setState", "(", "BottomSheetBehavior", ".", "STATE_COLLAPSED", ")", ";", "}", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScrollChange", "(", "NestedScrollView", "v", ",", "int", "scrollX", ",", "int", "scrollY", ",", "int", "oldScrollX", ",", "int", "oldScrollY", ")", "{", "Log", ".", "d", "(", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ",", "\"", "<STR_LIT>", "\"", "+", "scrollY", "+", "\"", "<STR_LIT>", "\"", "+", "oldScrollY", ")", ";", "if", "(", "scrollY", "=", "=", "0", ")", "{", "mBottomSheetBehavior", ".", "setState", "(", "BottomSheetBehavior", ".", "STATE_COLLAPSED", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "generate", "(", "BottomSheetBehavior", ".", "BottomSheetCallback", "callback", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onStateChanged", "(", "@", "NonNull", "View", "bottomSheet", ",", "int", "newState", ")", "{", "if", "(", "newState", "=", "=", "BottomSheetBehavior", ".", "STATE_HIDDEN", ")", "{", "dismiss", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onSlide", "(", "@", "NonNull", "View", "bottomSheet", ",", "float", "slideOffset", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "@", "Nullable", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "utilsProvider", "=", "(", "(", "BasicActivity", ")", "getActivity", "(", ")", ")", ".", "getUtilsProvider", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "View", "onCreateView", "(", "LayoutInflater", "inflater", ",", "ViewGroup", "container", ",", "Bundle", "savedInstanceState", ")", "{", "rootView", "=", "inflater", ".", "inflate", "(", "R", ".", "layout", ".", "main_frag", ",", "container", ",", "false", ")", ";", "mainActivity", "=", "(", "MainActivity", ")", "getActivity", "(", ")", ";", "listView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "listView", ")", ";", "listView", ".", "setOnTouchListener", "(", "(", "view", ",", "motionEvent", ")", "-", ">", "{", "if", "(", "compressedExplorerAdapter", "!", "=", "null", ")", "{", "if", "(", "stopAnims", "&", "&", "!", "compressedExplorerAdapter", ".", "stoppedAnimation", ")", "{", "stopAnim", "(", ")", ";", "}", "compressedExplorerAdapter", ".", "stoppedAnimation", "=", "true", ";", "stopAnims", "=", "false", ";", "}", "return", "false", ";", "}", ")", ";", "swipeRefreshLayout", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "activity_main_swipe_refresh_layout", ")", ";", "swipeRefreshLayout", ".", "setOnRefreshListener", "(", "this", ":", ":", "refresh", ")", ";", "swipeRefreshLayout", ".", "setRefreshing", "(", "true", ")", ";", "return", "rootView", ";", "}", "</s>"]
["<s>", "public", "void", "stopAnim", "(", ")", "{", "for", "(", "int", "j", "=", "0", ";", "j", "<", "listView", ".", "getChildCount", "(", ")", ";", "j", "+", "+", ")", "{", "View", "v", "=", "listView", ".", "getChildAt", "(", "j", ")", ";", "if", "(", "v", "!", "=", "null", ")", "v", ".", "clearAnimation", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityCreated", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onActivityCreated", "(", "savedInstanceState", ")", ";", "SharedPreferences", "sp", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "getActivity", "(", ")", ")", ";", "compressedFile", "=", "new", "File", "(", "Uri", ".", "parse", "(", "getArguments", "(", ")", ".", "getString", "(", "KEY_PATH", ")", ")", ".", "getPath", "(", ")", ")", ";", "mToolbarContainer", "=", "mainActivity", ".", "getAppbar", "(", ")", ".", "getAppbarLayout", "(", ")", ";", "mToolbarContainer", ".", "setOnTouchListener", "(", "(", "view", ",", "motionEvent", ")", "-", ">", "{", "if", "(", "stopAnims", ")", "{", "if", "(", "(", "!", "compressedExplorerAdapter", ".", "stoppedAnimation", ")", ")", "{", "stopAnim", "(", ")", ";", "}", "compressedExplorerAdapter", ".", "stoppedAnimation", "=", "true", ";", "}", "stopAnims", "=", "false", ";", "return", "false", ";", "}", ")", ";", "listView", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "mLayoutManager", "=", "new", "LinearLayoutManager", "(", "getActivity", "(", ")", ")", ";", "listView", ".", "setLayoutManager", "(", "mLayoutManager", ")", ";", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", ")", "{", "rootView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "holo_dark_background", ")", ")", ";", "}", "else", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "listView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "}", "else", "{", "listView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "background_light", ")", ")", ";", "}", "gobackitem", "=", "sp", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_SHOW_GOBACK_BUTTON", ",", "false", ")", ";", "coloriseIcons", "=", "sp", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_COLORIZE_ICONS", ",", "true", ")", ";", "showSize", "=", "sp", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_SHOW_FILE_SIZE", ",", "false", ")", ";", "showLastModified", "=", "sp", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_SHOW_LAST_MODIFIED", ",", "true", ")", ";", "showDividers", "=", "sp", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_SHOW_DIVIDERS", ",", "true", ")", ";", "year", "=", "(", "\"", "\"", "+", "Calendar", ".", "getInstance", "(", ")", ".", "get", "(", "Calendar", ".", "YEAR", ")", ")", ".", "substring", "(", "<NUM_LIT:2>", ",", "<NUM_LIT:4>", ")", ";", "accentColor", "=", "mainActivity", ".", "getAccent", "(", ")", ";", "iconskin", "=", "mainActivity", ".", "getCurrentColorPreference", "(", ")", ".", "iconSkin", ";", "if", "(", "savedInstanceState", "=", "=", "null", "&", "&", "compressedFile", "!", "=", "null", ")", "{", "files", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "String", "fileName", "=", "compressedFile", ".", "getName", "(", ")", ".", "substring", "(", "0", ",", "compressedFile", ".", "getName", "(", ")", ".", "lastIndexOf", "(", "\"", "<STR_LIT:.>", "\"", ")", ")", ";", "String", "path", "=", "getActivity", "(", ")", ".", "getExternalCacheDir", "(", ")", ".", "getPath", "(", ")", "+", "SEPARATOR", "+", "fileName", ";", "files", ".", "add", "(", "new", "HybridFileParcelable", "(", "path", ")", ")", ";", "decompressor", "=", "CompressedHelper", ".", "getCompressorInstance", "(", "getContext", "(", ")", ",", "compressedFile", ")", ";", "changePath", "(", "\"", "\"", ")", ";", "}", "else", "{", "onRestoreInstanceState", "(", "savedInstanceState", ")", ";", "}", "mainActivity", ".", "supportInvalidateOptionsMenu", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onSaveInstanceState", "(", "Bundle", "outState", ")", "{", "super", ".", "onSaveInstanceState", "(", "outState", ")", ";", "outState", ".", "putParcelableArrayList", "(", "KEY_ELEMENTS", ",", "elements", ")", ";", "outState", ".", "putString", "(", "KEY_PATH", ",", "relativeDirectory", ")", ";", "outState", ".", "putString", "(", "KEY_URI", ",", "compressedFile", ".", "getPath", "(", ")", ")", ";", "outState", ".", "putString", "(", "KEY_FILE", ",", "compressedFile", ".", "getPath", "(", ")", ")", ";", "outState", ".", "putParcelableArrayList", "(", "KEY_CACHE_FILES", ",", "files", ")", ";", "outState", ".", "putBoolean", "(", "KEY_OPEN", ",", "isOpen", ")", ";", "}", "</s>"]
["<s>", "private", "void", "onRestoreInstanceState", "(", "Bundle", "savedInstanceState", ")", "{", "compressedFile", "=", "new", "File", "(", "Uri", ".", "parse", "(", "savedInstanceState", ".", "getString", "(", "KEY_URI", ")", ")", ".", "getPath", "(", ")", ")", ";", "files", "=", "savedInstanceState", ".", "getParcelableArrayList", "(", "KEY_CACHE_FILES", ")", ";", "isOpen", "=", "savedInstanceState", ".", "getBoolean", "(", "KEY_OPEN", ")", ";", "elements", "=", "savedInstanceState", ".", "getParcelableArrayList", "(", "KEY_ELEMENTS", ")", ";", "relativeDirectory", "=", "savedInstanceState", ".", "getString", "(", "KEY_PATH", ",", "\"", "\"", ")", ";", "decompressor", "=", "CompressedHelper", ".", "getCompressorInstance", "(", "getContext", "(", ")", ",", "compressedFile", ")", ";", "createViews", "(", "elements", ",", "relativeDirectory", ")", ";", "}", "</s>"]
["<s>", "private", "void", "hideOption", "(", "int", "id", ",", "Menu", "menu", ")", "{", "MenuItem", "item", "=", "menu", ".", "findItem", "(", "id", ")", ";", "item", ".", "setVisible", "(", "false", ")", ";", "}", "</s>"]
["<s>", "private", "void", "showOption", "(", "int", "id", ",", "Menu", "menu", ")", "{", "MenuItem", "item", "=", "menu", ".", "findItem", "(", "id", ")", ";", "item", ".", "setVisible", "(", "true", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "onCreateActionMode", "(", "ActionMode", "mode", ",", "Menu", "menu", ")", "{", "MenuInflater", "inflater", "=", "mode", ".", "getMenuInflater", "(", ")", ";", "v", "=", "getActivity", "(", ")", ".", "getLayoutInflater", "(", ")", ".", "inflate", "(", "R", ".", "layout", ".", "actionmode", ",", "null", ")", ";", "mode", ".", "setCustomView", "(", "v", ")", ";", "inflater", ".", "inflate", "(", "R", ".", "menu", ".", "contextual", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "cpy", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "cut", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "delete", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "addshortcut", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "share", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "openwith", ",", "menu", ")", ";", "showOption", "(", "R", ".", "id", ".", "all", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "compress", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "hide", ",", "menu", ")", ";", "showOption", "(", "R", ".", "id", ".", "ex", ",", "menu", ")", ";", "mode", ".", "setTitle", "(", "getString", "(", "R", ".", "string", ".", "select", ")", ")", ";", "mainActivity", ".", "updateViews", "(", "new", "ColorDrawable", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "holo_dark_action_mode", ")", ")", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "Window", "window", "=", "getActivity", "(", ")", ".", "getWindow", "(", ")", ";", "if", "(", "mainActivity", ".", "getBoolean", "(", "PREFERENCE_COLORED_NAVIGATION", ")", ")", "window", ".", "setNavigationBarColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "<", "<NUM_LIT>", ")", "{", "mainActivity", ".", "getAppbar", "(", ")", ".", "getToolbar", "(", ")", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "return", "true", ";", "}", "</s>"]
["<s>", "public", "boolean", "onPrepareActionMode", "(", "ActionMode", "mode", ",", "Menu", "menu", ")", "{", "ArrayList", "<", "Integer", ">", "positions", "=", "compressedExplorerAdapter", ".", "getCheckedItemPositions", "(", ")", ";", "(", "(", "TextView", ")", "v", ".", "findViewById", "(", "R", ".", "id", ".", "item_count", ")", ")", ".", "setText", "(", "positions", ".", "size", "(", ")", "+", "\"", "\"", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "all", ")", ".", "setTitle", "(", "positions", ".", "size", "(", ")", "=", "=", "folder", "+", "file", "?", "R", ".", "string", ".", "deselect_all", ":", "R", ".", "string", ".", "selectall", ")", ";", "return", "false", ";", "}", "</s>"]
["<s>", "public", "boolean", "onActionItemClicked", "(", "ActionMode", "mode", ",", "MenuItem", "item", ")", "{", "switch", "(", "item", ".", "getItemId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "all", ":", "ArrayList", "<", "Integer", ">", "positions", "=", "compressedExplorerAdapter", ".", "getCheckedItemPositions", "(", ")", ";", "boolean", "shouldDeselectAll", "=", "positions", ".", "size", "(", ")", "!", "=", "folder", "+", "file", ";", "compressedExplorerAdapter", ".", "toggleChecked", "(", "shouldDeselectAll", ")", ";", "mode", ".", "invalidate", "(", ")", ";", "item", ".", "setTitle", "(", "shouldDeselectAll", "?", "R", ".", "string", ".", "deselect_all", ":", "R", ".", "string", ".", "selectall", ")", ";", "if", "(", "!", "shouldDeselectAll", ")", "{", "selection", "=", "false", ";", "mActionMode", ".", "finish", "(", ")", ";", "mActionMode", "=", "null", ";", "}", "return", "true", ";", "case", "R", ".", "id", ".", "ex", ":", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "getString", "(", "R", ".", "string", ".", "extracting", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "String", "[", "]", "dirs", "=", "new", "String", "[", "compressedExplorerAdapter", ".", "getCheckedItemPositions", "(", ")", ".", "size", "(", ")", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "dirs", ".", "length", ";", "i", "+", "+", ")", "{", "dirs", "[", "i", "]", "=", "elements", ".", "get", "(", "compressedExplorerAdapter", ".", "getCheckedItemPositions", "(", ")", ".", "get", "(", "i", ")", ")", ".", "path", ";", "}", "decompressor", ".", "decompress", "(", "compressedFile", ".", "getPath", "(", ")", ",", "dirs", ")", ";", "mode", ".", "finish", "(", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroyActionMode", "(", "ActionMode", "actionMode", ")", "{", "if", "(", "compressedExplorerAdapter", "!", "=", "null", ")", "compressedExplorerAdapter", ".", "toggleChecked", "(", "false", ")", ";", "@", "ColorInt", "int", "primaryColor", "=", "ColorPreferenceHelper", ".", "getPrimary", "(", "mainActivity", ".", "getCurrentColorPreference", "(", ")", ",", "MainActivity", ".", "currentTab", ")", ";", "selection", "=", "false", ";", "mainActivity", ".", "updateViews", "(", "new", "ColorDrawable", "(", "primaryColor", ")", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "Window", "window", "=", "getActivity", "(", ")", ".", "getWindow", "(", ")", ";", "if", "(", "mainActivity", ".", "getBoolean", "(", "PREFERENCE_COLORED_NAVIGATION", ")", ")", "window", ".", "setNavigationBarColor", "(", "mainActivity", ".", "skinStatusBar", ")", ";", "}", "mActionMode", "=", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroyView", "(", ")", "{", "super", ".", "onDestroyView", "(", ")", ";", "mainActivity", ".", "supportInvalidateOptionsMenu", "(", ")", ";", "if", "(", "files", ".", "get", "(", "0", ")", ".", "exists", "(", ")", ")", "{", "new", "DeleteTask", "(", "getActivity", "(", ")", ".", "getContentResolver", "(", ")", ",", "getActivity", "(", ")", ",", "this", ")", ".", "execute", "(", "files", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onResume", "(", ")", "{", "super", ".", "onResume", "(", ")", ";", "mainActivity", ".", "floatingActionButton", ".", "getMenuButton", "(", ")", ".", "hide", "(", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "getActivity", "(", ")", ",", "ExtractService", ".", "class", ")", ";", "getActivity", "(", ")", ".", "bindService", "(", "intent", ",", "mServiceConnection", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPause", "(", ")", "{", "super", ".", "onPause", "(", ")", ";", "getActivity", "(", ")", ".", "unbindService", "(", "mServiceConnection", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onServiceConnected", "(", "ComponentName", "name", ",", "IBinder", "service", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onServiceDisconnected", "(", "ComponentName", "name", ")", "{", "if", "(", "isOpen", ")", "{", "File", "cacheFile", "=", "new", "File", "(", "files", ".", "get", "(", "files", ".", "size", "(", ")", "-", "1", ")", ".", "getPath", "(", ")", ")", ";", "if", "(", "cacheFile", ".", "exists", "(", ")", ")", "{", "FileUtils", ".", "openFile", "(", "cacheFile", ",", "mainActivity", ",", "mainActivity", ".", "getPrefs", "(", ")", ")", ";", "}", "isOpen", "=", "false", ";", "files", ".", "remove", "(", "files", ".", "size", "(", ")", "-", "1", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "changePath", "(", "String", "folder", ")", "{", "if", "(", "folder", "=", "=", "null", ")", "folder", "=", "\"", "\"", ";", "if", "(", "folder", ".", "startsWith", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "folder", "=", "folder", ".", "substring", "(", "1", ")", ";", "boolean", "addGoBackItem", "=", "gobackitem", "&", "&", "!", "isRoot", "(", "folder", ")", ";", "String", "finalfolder", "=", "folder", ";", "decompressor", ".", "changePath", "(", "folder", ",", "addGoBackItem", ",", "data", "-", ">", "{", "elements", "=", "data", ";", "createViews", "(", "elements", ",", "finalfolder", ")", ";", "swipeRefreshLayout", ".", "setRefreshing", "(", "false", ")", ";", "updateBottomBar", "(", ")", ";", "}", ")", ".", "execute", "(", ")", ";", "swipeRefreshLayout", ".", "setRefreshing", "(", "true", ")", ";", "updateBottomBar", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getPath", "(", ")", "{", "if", "(", "!", "isRootRelativePath", "(", ")", ")", "return", "SEPARATOR", "+", "relativeDirectory", ";", "else", "return", "\"", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getRootDrawable", "(", ")", "{", "return", "R", ".", "drawable", ".", "ic_compressed_white_24dp", ";", "}", "</s>"]
["<s>", "private", "void", "refresh", "(", ")", "{", "changePath", "(", "relativeDirectory", ")", ";", "}", "</s>"]
["<s>", "private", "void", "updateBottomBar", "(", ")", "{", "String", "path", "=", "!", "isRootRelativePath", "(", ")", "?", "compressedFile", ".", "getName", "(", ")", "+", "SEPARATOR", "+", "relativeDirectory", ":", "compressedFile", ".", "getName", "(", ")", ";", "mainActivity", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "updatePath", "(", "path", ",", "false", ",", "null", ",", "OpenMode", ".", "FILE", ",", "folder", ",", "file", ",", "this", ")", ";", "}", "</s>"]
["<s>", "private", "void", "createViews", "(", "List", "<", "CompressedObjectParcelable", ">", "items", ",", "String", "dir", ")", "{", "if", "(", "compressedExplorerAdapter", "=", "=", "null", ")", "{", "compressedExplorerAdapter", "=", "new", "CompressedExplorerAdapter", "(", "getActivity", "(", ")", ",", "utilsProvider", ",", "items", ",", "this", ",", "decompressor", ")", ";", "listView", ".", "setAdapter", "(", "compressedExplorerAdapter", ")", ";", "}", "else", "{", "compressedExplorerAdapter", ".", "generateZip", "(", "items", ")", ";", "}", "folder", "=", "0", ";", "file", "=", "0", ";", "for", "(", "CompressedObjectParcelable", "item", ":", "items", ")", "{", "if", "(", "item", ".", "type", "=", "=", "CompressedObjectParcelable", ".", "TYPE_GOBACK", ")", "continue", ";", "if", "(", "item", ".", "directory", ")", "folder", "+", "+", ";", "else", "file", "+", "+", ";", "}", "stopAnims", "=", "true", ";", "if", "(", "!", "addheader", ")", "{", "listView", ".", "removeItemDecoration", "(", "dividerItemDecoration", ")", ";", "addheader", "=", "true", ";", "}", "else", "{", "dividerItemDecoration", "=", "new", "DividerItemDecoration", "(", "getActivity", "(", ")", ",", "true", ",", "showDividers", ")", ";", "listView", ".", "addItemDecoration", "(", "dividerItemDecoration", ")", ";", "addheader", "=", "false", ";", "}", "final", "FastScroller", "fastScroller", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "fastscroll", ")", ";", "fastScroller", ".", "setRecyclerView", "(", "listView", ",", "1", ")", ";", "fastScroller", ".", "setPressedHandleColor", "(", "mainActivity", ".", "getAccent", "(", ")", ")", ";", "(", "(", "AppBarLayout", ")", "mToolbarContainer", ")", ".", "addOnOffsetChangedListener", "(", "(", "appBarLayout", ",", "verticalOffset", ")", "-", ">", "{", "fastScroller", ".", "updateHandlePosition", "(", "verticalOffset", ",", "<NUM_LIT>", ")", ";", "}", ")", ";", "listView", ".", "stopScroll", "(", ")", ";", "relativeDirectory", "=", "dir", ";", "updateBottomBar", "(", ")", ";", "swipeRefreshLayout", ".", "setRefreshing", "(", "false", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "canGoBack", "(", ")", "{", "return", "!", "isRootRelativePath", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "goBack", "(", ")", "{", "changePath", "(", "new", "File", "(", "relativeDirectory", ")", ".", "getParent", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isRootRelativePath", "(", ")", "{", "return", "isRoot", "(", "relativeDirectory", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isRoot", "(", "String", "folder", ")", "{", "return", "folder", "=", "=", "null", "|", "|", "folder", ".", "isEmpty", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setHasOptionsMenu", "(", "true", ")", ";", "mainActivity", "=", "(", "MainActivity", ")", "getActivity", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "View", "onCreateView", "(", "LayoutInflater", "inflater", ",", "ViewGroup", "container", ",", "Bundle", "savedInstanceState", ")", "{", "View", "rootView", "=", "inflater", ".", "inflate", "(", "R", ".", "layout", ".", "fragment_ftp", ",", "container", ",", "false", ")", ";", "statusText", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_ftp_status", ")", ";", "url", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_ftp_url", ")", ";", "username", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_ftp_username", ")", ";", "password", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_ftp_password", ")", ";", "port", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_ftp_port", ")", ";", "sharedPath", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_ftp_path", ")", ";", "ftpBtn", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "startStopButton", ")", ";", "View", "startDividerView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "divider_ftp_start", ")", ";", "View", "statusDividerView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "divider_ftp_status", ")", ";", "ftpPasswordVisibleButton", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "ftp_password_visible", ")", ";", "updateSpans", "(", ")", ";", "updateStatus", "(", ")", ";", "switch", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "getSimpleTheme", "(", ")", ")", "{", "case", "LIGHT", ":", "startDividerView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "divider", ")", ")", ";", "statusDividerView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "divider", ")", ")", ";", "break", ";", "case", "DARK", ":", "case", "BLACK", ":", "startDividerView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "divider_dark_card", ")", ")", ";", "statusDividerView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "divider_dark_card", ")", ")", ";", "break", ";", "}", "ftpBtn", ".", "setOnClickListener", "(", "v", "-", ">", "{", "if", "(", "!", "FtpService", ".", "isRunning", "(", ")", ")", "{", "if", "(", "FtpService", ".", "isConnectedToWifi", "(", "getContext", "(", ")", ")", "|", "|", "FtpService", ".", "isConnectedToLocalNetwork", "(", "getContext", "(", ")", ")", "|", "|", "FtpService", ".", "isEnabledWifiHotspot", "(", "getContext", "(", ")", ")", ")", "startServer", "(", ")", ";", "else", "{", "statusText", ".", "setText", "(", "spannedStatusNoConnection", ")", ";", "}", "}", "else", "{", "stopServer", "(", ")", ";", "}", "}", ")", ";", "return", "rootView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityCreated", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onActivityCreated", "(", "savedInstanceState", ")", ";", "setRetainInstance", "(", "true", ")", ";", "mainActivity", ".", "getAppbar", "(", ")", ".", "setTitle", "(", "R", ".", "string", ".", "ftp", ")", ";", "mainActivity", ".", "floatingActionButton", ".", "getMenuButton", "(", ")", ".", "hide", "(", ")", ";", "mainActivity", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "mainActivity", ".", "supportInvalidateOptionsMenu", "(", ")", ";", "int", "skin_color", "=", "mainActivity", ".", "getCurrentColorPreference", "(", ")", ".", "primaryFirstTab", ";", "int", "skinTwoColor", "=", "mainActivity", ".", "getCurrentColorPreference", "(", ")", ".", "primarySecondTab", ";", "accentColor", "=", "mainActivity", ".", "getAccent", "(", ")", ";", "mainActivity", ".", "updateViews", "(", "new", "ColorDrawable", "(", "MainActivity", ".", "currentTab", "=", "=", "1", "?", "skinTwoColor", ":", "skin_color", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onOptionsItemSelected", "(", "MenuItem", "item", ")", "{", "switch", "(", "item", ".", "getItemId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "choose_ftp_port", ":", "int", "currentFtpPort", "=", "getDefaultPortFromPreferences", "(", ")", ";", "new", "MaterialDialog", ".", "Builder", "(", "getContext", "(", ")", ")", ".", "input", "(", "getString", "(", "R", ".", "string", ".", "ftp_port_edit_menu_title", ")", ",", "Integer", ".", "toString", "(", "currentFtpPort", ")", ",", "true", ",", "(", "dialog", ",", "input", ")", "-", ">", "{", "}", ")", ".", "inputType", "(", "InputType", ".", "TYPE_CLASS_NUMBER", ")", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "EditText", "editText", "=", "dialog", ".", "getInputEditText", "(", ")", ";", "if", "(", "editText", "!", "=", "null", ")", "{", "String", "name", "=", "editText", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "int", "portNumber", "=", "Integer", ".", "parseInt", "(", "name", ")", ";", "if", "(", "portNumber", "<", "<NUM_LIT>", ")", "{", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "R", ".", "string", ".", "ftp_port_change_error_invalid", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "else", "{", "changeFTPServerPort", "(", "portNumber", ")", ";", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "R", ".", "string", ".", "ftp_port_change_success", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", "}", ")", ".", "positiveText", "(", "getString", "(", "R", ".", "string", ".", "change", ")", ".", "toUpperCase", "(", ")", ")", ".", "negativeText", "(", "R", ".", "string", ".", "cancel", ")", ".", "build", "(", ")", ".", "show", "(", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "ftp_path", ":", "MaterialDialog", ".", "Builder", "dialogBuilder", "=", "new", "MaterialDialog", ".", "Builder", "(", "getContext", "(", ")", ")", ";", "dialogBuilder", ".", "title", "(", "getString", "(", "R", ".", "string", ".", "ftp_path", ")", ")", ";", "dialogBuilder", ".", "input", "(", "getString", "(", "R", ".", "string", ".", "ftp_path_hint", ")", ",", "getDefaultPathFromPreferences", "(", ")", ",", "false", ",", "(", "dialog", ",", "input", ")", "-", ">", "{", "}", ")", ";", "dialogBuilder", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "EditText", "editText", "=", "dialog", ".", "getInputEditText", "(", ")", ";", "if", "(", "editText", "!", "=", "null", ")", "{", "String", "path", "=", "editText", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "File", "pathFile", "=", "new", "File", "(", "path", ")", ";", "if", "(", "pathFile", ".", "exists", "(", ")", "&", "&", "pathFile", ".", "isDirectory", "(", ")", ")", "{", "changeFTPServerPath", "(", "pathFile", ".", "getPath", "(", ")", ")", ";", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "R", ".", "string", ".", "ftp_path_change_success", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "else", "{", "File", "pathParentFile", "=", "new", "File", "(", "pathFile", ".", "getParent", "(", ")", ")", ";", "if", "(", "pathParentFile", ".", "exists", "(", ")", "&", "&", "pathParentFile", ".", "isDirectory", "(", ")", ")", "{", "changeFTPServerPath", "(", "pathParentFile", ".", "getPath", "(", ")", ")", ";", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "R", ".", "string", ".", "ftp_path_change_success", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "R", ".", "string", ".", "ftp_path_change_error_invalid", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", "}", "}", ")", ";", "dialogBuilder", ".", "positiveText", "(", "getString", "(", "R", ".", "string", ".", "change", ")", ".", "toUpperCase", "(", ")", ")", ".", "negativeText", "(", "R", ".", "string", ".", "cancel", ")", ".", "build", "(", ")", ".", "show", "(", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "ftp_login", ":", "MaterialDialog", ".", "Builder", "loginDialogBuilder", "=", "new", "MaterialDialog", ".", "Builder", "(", "getContext", "(", ")", ")", ";", "LayoutInflater", "inflater", "=", "getActivity", "(", ")", ".", "getLayoutInflater", "(", ")", ";", "View", "rootView", "=", "inflater", ".", "inflate", "(", "R", ".", "layout", ".", "dialog_ftp_login", ",", "null", ")", ";", "initLoginDialogViews", "(", "rootView", ")", ";", "loginDialogBuilder", ".", "customView", "(", "rootView", ",", "true", ")", ";", "loginDialogBuilder", ".", "title", "(", "getString", "(", "R", ".", "string", ".", "ftp_login", ")", ")", ";", "loginDialogBuilder", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "if", "(", "mAnonymousCheckBox", ".", "isChecked", "(", ")", ")", "{", "setFTPUsername", "(", "\"", "\"", ")", ";", "setFTPPassword", "(", "\"", "\"", ")", ";", "}", "else", "{", "if", "(", "passwordEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "equals", "(", "\"", "\"", ")", ")", "{", "passwordTextInput", ".", "setError", "(", "getString", "(", "R", ".", "string", ".", "field_empty", ")", ")", ";", "}", "else", "if", "(", "usernameEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "equals", "(", "\"", "\"", ")", ")", "{", "usernameTextInput", ".", "setError", "(", "getString", "(", "R", ".", "string", ".", "field_empty", ")", ")", ";", "}", "else", "{", "setFTPUsername", "(", "usernameEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "setFTPPassword", "(", "passwordEditText", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "}", "}", "if", "(", "mSecureCheckBox", ".", "isChecked", "(", ")", ")", "{", "setSecurePreference", "(", "true", ")", ";", "}", "else", "setSecurePreference", "(", "false", ")", ";", "}", ")", ";", "loginDialogBuilder", ".", "positiveText", "(", "getString", "(", "R", ".", "string", ".", "set", ")", ".", "toUpperCase", "(", ")", ")", ".", "negativeText", "(", "getString", "(", "R", ".", "string", ".", "cancel", ")", ")", ".", "build", "(", ")", ".", "show", "(", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "ftp_timeout", ":", "MaterialDialog", ".", "Builder", "timeoutBuilder", "=", "new", "MaterialDialog", ".", "Builder", "(", "getActivity", "(", ")", ")", ";", "timeoutBuilder", ".", "title", "(", "getString", "(", "R", ".", "string", ".", "ftp_timeout", ")", "+", "\"", "<STR_LIT>", "\"", "+", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ftp_seconds", ")", "+", "\"", "<STR_LIT:)>", "\"", ")", ";", "timeoutBuilder", ".", "input", "(", "String", ".", "valueOf", "(", "FtpService", ".", "DEFAULT_TIMEOUT", "+", "\"", "\"", "+", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ftp_seconds", ")", ")", ",", "String", ".", "valueOf", "(", "getFTPTimeout", "(", ")", ")", ",", "true", ",", "(", "dialog", ",", "input", ")", "-", ">", "{", "boolean", "isInputInteger", ";", "try", "{", "Integer", ".", "parseInt", "(", "input", ".", "toString", "(", ")", ")", ";", "isInputInteger", "=", "true", ";", "}", "catch", "(", "NumberFormatException", "e", ")", "{", "isInputInteger", "=", "false", ";", "}", "if", "(", "input", ".", "length", "(", ")", "=", "=", "0", "|", "|", "!", "isInputInteger", ")", "setFTPTimeout", "(", "FtpService", ".", "DEFAULT_TIMEOUT", ")", ";", "else", "setFTPTimeout", "(", "Integer", ".", "valueOf", "(", "input", ".", "toString", "(", ")", ")", ")", ";", "}", ")", ";", "timeoutBuilder", ".", "positiveText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "set", ")", ".", "toUpperCase", "(", ")", ")", ".", "negativeText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cancel", ")", ")", ".", "build", "(", ")", ".", "show", "(", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreateOptionsMenu", "(", "Menu", "menu", ",", "MenuInflater", "inflater", ")", "{", "mainActivity", ".", "getMenuInflater", "(", ")", ".", "inflate", "(", "R", ".", "menu", ".", "ftp_server_menu", ",", "menu", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "ConnectivityManager", "conMan", "=", "(", "ConnectivityManager", ")", "context", ".", "getSystemService", "(", "Context", ".", "CONNECTIVITY_SERVICE", ")", ";", "NetworkInfo", "netInfo", "=", "conMan", ".", "getActiveNetworkInfo", "(", ")", ";", "if", "(", "(", "netInfo", "!", "=", "null", "&", "&", "(", "netInfo", ".", "getType", "(", ")", "=", "=", "ConnectivityManager", ".", "TYPE_WIFI", "|", "|", "netInfo", ".", "getType", "(", ")", "=", "=", "ConnectivityManager", ".", "TYPE_ETHERNET", ")", ")", "|", "|", "FtpService", ".", "isEnabledWifiHotspot", "(", "getContext", "(", ")", ")", ")", "{", "ftpBtn", ".", "setEnabled", "(", "true", ")", ";", "}", "else", "{", "stopServer", "(", ")", ";", "statusText", ".", "setText", "(", "spannedStatusNoConnection", ")", ";", "ftpBtn", ".", "setEnabled", "(", "true", ")", ";", "ftpBtn", ".", "setEnabled", "(", "false", ")", ";", "ftpBtn", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "start_ftp", ")", ".", "toUpperCase", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "updateSpans", "(", ")", ";", "switch", "(", "intent", ".", "getAction", "(", ")", ")", "{", "case", "FtpService", ".", "ACTION_STARTED", ":", "if", "(", "getSecurePreference", "(", ")", ")", "{", "statusText", ".", "setText", "(", "spannedStatusSecure", ")", ";", "}", "else", "{", "statusText", ".", "setText", "(", "spannedStatusConnected", ")", ";", "}", "url", ".", "setText", "(", "spannedStatusUrl", ")", ";", "ftpBtn", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "stop_ftp", ")", ".", "toUpperCase", "(", ")", ")", ";", "break", ";", "case", "FtpService", ".", "ACTION_FAILEDTOSTART", ":", "statusText", ".", "setText", "(", "spannedStatusNotRunning", ")", ";", "Toast", ".", "makeText", "(", "getContext", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "unknown_error", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "ftpBtn", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "start_ftp", ")", ".", "toUpperCase", "(", ")", ")", ";", "url", ".", "setText", "(", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "case", "FtpService", ".", "ACTION_STOPPED", ":", "statusText", ".", "setText", "(", "spannedStatusNotRunning", ")", ";", "url", ".", "setText", "(", "\"", "<STR_LIT>", "\"", ")", ";", "ftpBtn", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "start_ftp", ")", ".", "toUpperCase", "(", ")", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "private", "void", "startServer", "(", ")", "{", "getContext", "(", ")", ".", "sendBroadcast", "(", "new", "Intent", "(", "FtpService", ".", "ACTION_START_FTPSERVER", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "stopServer", "(", ")", "{", "getContext", "(", ")", ".", "sendBroadcast", "(", "new", "Intent", "(", "FtpService", ".", "ACTION_STOP_FTPSERVER", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onResume", "(", ")", "{", "super", ".", "onResume", "(", ")", ";", "IntentFilter", "wifiFilter", "=", "new", "IntentFilter", "(", ")", ";", "wifiFilter", ".", "addAction", "(", "ConnectivityManager", ".", "CONNECTIVITY_ACTION", ")", ";", "getContext", "(", ")", ".", "registerReceiver", "(", "mWifiReceiver", ",", "wifiFilter", ")", ";", "IntentFilter", "ftpFilter", "=", "new", "IntentFilter", "(", ")", ";", "ftpFilter", ".", "addAction", "(", "FtpService", ".", "ACTION_STARTED", ")", ";", "ftpFilter", ".", "addAction", "(", "FtpService", ".", "ACTION_STOPPED", ")", ";", "ftpFilter", ".", "addAction", "(", "FtpService", ".", "ACTION_FAILEDTOSTART", ")", ";", "getContext", "(", ")", ".", "registerReceiver", "(", "ftpReceiver", ",", "ftpFilter", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPause", "(", ")", "{", "super", ".", "onPause", "(", ")", ";", "getContext", "(", ")", ".", "unregisterReceiver", "(", "mWifiReceiver", ")", ";", "getContext", "(", ")", ".", "unregisterReceiver", "(", "ftpReceiver", ")", ";", "}", "</s>"]
["<s>", "private", "void", "updateStatus", "(", ")", "{", "if", "(", "!", "FtpService", ".", "isRunning", "(", ")", ")", "{", "if", "(", "!", "FtpService", ".", "isConnectedToWifi", "(", "getContext", "(", ")", ")", "&", "&", "!", "FtpService", ".", "isConnectedToLocalNetwork", "(", "getContext", "(", ")", ")", "&", "&", "!", "FtpService", ".", "isEnabledWifiHotspot", "(", "getContext", "(", ")", ")", ")", "{", "statusText", ".", "setText", "(", "spannedStatusNoConnection", ")", ";", "ftpBtn", ".", "setEnabled", "(", "false", ")", ";", "}", "else", "{", "statusText", ".", "setText", "(", "spannedStatusNotRunning", ")", ";", "ftpBtn", ".", "setEnabled", "(", "true", ")", ";", "}", "url", ".", "setText", "(", "\"", "<STR_LIT>", "\"", ")", ";", "ftpBtn", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "start_ftp", ")", ".", "toUpperCase", "(", ")", ")", ";", "}", "else", "{", "url", ".", "setText", "(", "spannedStatusUrl", ")", ";", "statusText", ".", "setText", "(", "spannedStatusConnected", ")", ";", "ftpBtn", ".", "setEnabled", "(", "true", ")", ";", "ftpBtn", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "stop_ftp", ")", ".", "toUpperCase", "(", ")", ")", ";", "}", "final", "String", "passwordDecrypted", "=", "getPasswordFromPreferences", "(", ")", ";", "final", "CharSequence", "passwordBulleted", "=", "new", "OneCharacterCharSequence", "(", "<STR_LIT>", ",", "passwordDecrypted", ".", "length", "(", ")", ")", ";", "username", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "username", ")", "+", "\"", "<STR_LIT>", "\"", "+", "getUsernameFromPreferences", "(", ")", ")", ";", "password", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "password", ")", "+", "\"", "<STR_LIT>", "\"", "+", "passwordBulleted", ")", ";", "ftpPasswordVisibleButton", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_eye_grey600_24dp", ")", ")", ";", "if", "(", "passwordDecrypted", ".", "equals", "(", "\"", "\"", ")", ")", "{", "ftpPasswordVisibleButton", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "else", "{", "ftpPasswordVisibleButton", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "}", "ftpPasswordVisibleButton", ".", "setOnClickListener", "(", "v", "-", ">", "{", "if", "(", "password", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "contains", "(", "\"", "<STR_LIT>", "<STR_LIT>", "\"", ")", ")", "{", "password", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "password", ")", "+", "\"", "<STR_LIT>", "\"", "+", "passwordDecrypted", ")", ";", "ftpPasswordVisibleButton", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_eye_off_grey600_24dp", ")", ")", ";", "}", "else", "{", "password", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "password", ")", "+", "\"", "<STR_LIT>", "\"", "+", "passwordBulleted", ")", ";", "ftpPasswordVisibleButton", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_eye_grey600_24dp", ")", ")", ";", "}", "}", ")", ";", "port", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ftp_port", ")", "+", "\"", "<STR_LIT>", "\"", "+", "getDefaultPortFromPreferences", "(", ")", ")", ";", "sharedPath", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ftp_path", ")", "+", "\"", "<STR_LIT>", "\"", "+", "getDefaultPathFromPreferences", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "updateSpans", "(", ")", "{", "String", "ftpAddress", "=", "getFTPAddressString", "(", ")", ";", "if", "(", "ftpAddress", "=", "=", "null", ")", "{", "ftpAddress", "=", "\"", "\"", ";", "Toast", ".", "makeText", "(", "getContext", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "local_inet_addr_error", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "String", "statusHead", "=", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ftp_status_title", ")", "+", "\"", "<STR_LIT>", "\"", ";", "spannedStatusConnected", "=", "Html", ".", "fromHtml", "(", "statusHead", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", "+", "accentColor", "+", "\"", "<CHAR_LIT:>>", "\"", "+", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ftp_status_running", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "spannedStatusUrl", "=", "Html", ".", "fromHtml", "(", "\"", "<STR_LIT>", "\"", "+", "ftpAddress", ")", ";", "spannedStatusNoConnection", "=", "Html", ".", "fromHtml", "(", "statusHead", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", "+", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "holo_red_light", ")", "+", "\"", "<CHAR_LIT:>>", "\"", "+", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ftp_status_no_connection", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "spannedStatusNotRunning", "=", "Html", ".", "fromHtml", "(", "statusHead", "+", "\"", "<STR_LIT>", "\"", "+", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ftp_status_not_running", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "spannedStatusSecure", "=", "Html", ".", "fromHtml", "(", "statusHead", "+", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", "+", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "holo_green_light", ")", "+", "\"", "<CHAR_LIT:>>", "\"", "+", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ftp_status_secure_connection", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "spannedStatusUrl", "=", "Html", ".", "fromHtml", "(", "\"", "<STR_LIT>", "\"", "+", "ftpAddress", ")", ";", "}", "</s>"]
["<s>", "private", "void", "initLoginDialogViews", "(", "View", "loginDialogView", ")", "{", "usernameEditText", "=", "loginDialogView", ".", "findViewById", "(", "R", ".", "id", ".", "edit_text_dialog_ftp_username", ")", ";", "passwordEditText", "=", "loginDialogView", ".", "findViewById", "(", "R", ".", "id", ".", "edit_text_dialog_ftp_password", ")", ";", "usernameTextInput", "=", "loginDialogView", ".", "findViewById", "(", "R", ".", "id", ".", "text_input_dialog_ftp_username", ")", ";", "passwordTextInput", "=", "loginDialogView", ".", "findViewById", "(", "R", ".", "id", ".", "text_input_dialog_ftp_password", ")", ";", "mAnonymousCheckBox", "=", "loginDialogView", ".", "findViewById", "(", "R", ".", "id", ".", "checkbox_ftp_anonymous", ")", ";", "mSecureCheckBox", "=", "loginDialogView", ".", "findViewById", "(", "R", ".", "id", ".", "checkbox_ftp_secure", ")", ";", "mAnonymousCheckBox", ".", "setOnCheckedChangeListener", "(", "(", "buttonView", ",", "isChecked", ")", "-", ">", "{", "if", "(", "isChecked", ")", "{", "usernameEditText", ".", "setEnabled", "(", "false", ")", ";", "passwordEditText", ".", "setEnabled", "(", "false", ")", ";", "}", "else", "{", "usernameEditText", ".", "setEnabled", "(", "true", ")", ";", "passwordEditText", ".", "setEnabled", "(", "true", ")", ";", "}", "}", ")", ";", "if", "(", "getUsernameFromPreferences", "(", ")", ".", "equals", "(", "FtpService", ".", "DEFAULT_USERNAME", ")", ")", "{", "mAnonymousCheckBox", ".", "setChecked", "(", "true", ")", ";", "}", "else", "{", "usernameEditText", ".", "setText", "(", "getUsernameFromPreferences", "(", ")", ")", ";", "passwordEditText", ".", "setText", "(", "getPasswordFromPreferences", "(", ")", ")", ";", "}", "if", "(", "getSecurePreference", "(", ")", ")", "{", "mSecureCheckBox", ".", "setChecked", "(", "true", ")", ";", "}", "else", "mSecureCheckBox", ".", "setChecked", "(", "false", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "private", "String", "getFTPAddressString", "(", ")", "{", "InetAddress", "ia", "=", "FtpService", ".", "getLocalInetAddress", "(", "getContext", "(", ")", ")", ";", "if", "(", "ia", "=", "=", "null", ")", "return", "null", ";", "return", "(", "getSecurePreference", "(", ")", "?", "FtpService", ".", "INITIALS_HOST_SFTP", ":", "FtpService", ".", "INITIALS_HOST_FTP", ")", "+", "ia", ".", "getHostAddress", "(", ")", "+", "\"", "<STR_LIT::>", "\"", "+", "getDefaultPortFromPreferences", "(", ")", ";", "}", "</s>"]
["<s>", "private", "int", "getDefaultPortFromPreferences", "(", ")", "{", "return", "mainActivity", ".", "getPrefs", "(", ")", ".", "getInt", "(", "FtpService", ".", "PORT_PREFERENCE_KEY", ",", "FtpService", ".", "DEFAULT_PORT", ")", ";", "}", "</s>"]
["<s>", "private", "String", "getUsernameFromPreferences", "(", ")", "{", "return", "mainActivity", ".", "getPrefs", "(", ")", ".", "getString", "(", "FtpService", ".", "KEY_PREFERENCE_USERNAME", ",", "FtpService", ".", "DEFAULT_USERNAME", ")", ";", "}", "</s>"]
["<s>", "private", "String", "getPasswordFromPreferences", "(", ")", "{", "try", "{", "String", "encryptedPassword", "=", "mainActivity", ".", "getPrefs", "(", ")", ".", "getString", "(", "FtpService", ".", "KEY_PREFERENCE_PASSWORD", ",", "\"", "\"", ")", ";", "if", "(", "encryptedPassword", ".", "equals", "(", "\"", "\"", ")", ")", "{", "return", "\"", "\"", ";", "}", "else", "{", "return", "CryptUtil", ".", "decryptPassword", "(", "getContext", "(", ")", ",", "encryptedPassword", ")", ";", "}", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "getContext", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "error", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "mainActivity", ".", "getPrefs", "(", ")", ".", "edit", "(", ")", ".", "putString", "(", "FtpService", ".", "KEY_PREFERENCE_PASSWORD", ",", "\"", "\"", ")", ".", "apply", "(", ")", ";", "return", "\"", "\"", ";", "}", "}", "</s>"]
["<s>", "private", "String", "getDefaultPathFromPreferences", "(", ")", "{", "SharedPreferences", "preferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "getActivity", "(", ")", ")", ";", "return", "preferences", ".", "getString", "(", "FtpService", ".", "KEY_PREFERENCE_PATH", ",", "FtpService", ".", "DEFAULT_PATH", ")", ";", "}", "</s>"]
["<s>", "private", "void", "changeFTPServerPort", "(", "int", "port", ")", "{", "mainActivity", ".", "getPrefs", "(", ")", ".", "edit", "(", ")", ".", "putInt", "(", "FtpService", ".", "PORT_PREFERENCE_KEY", ",", "port", ")", ".", "apply", "(", ")", ";", "updateSpans", "(", ")", ";", "updateStatus", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "changeFTPServerPath", "(", "String", "path", ")", "{", "SharedPreferences", "preferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "getActivity", "(", ")", ")", ";", "preferences", ".", "edit", "(", ")", ".", "putString", "(", "FtpService", ".", "KEY_PREFERENCE_PATH", ",", "path", ")", ".", "apply", "(", ")", ";", "updateStatus", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setFTPUsername", "(", "String", "username", ")", "{", "mainActivity", ".", "getPrefs", "(", ")", ".", "edit", "(", ")", ".", "putString", "(", "FtpService", ".", "KEY_PREFERENCE_USERNAME", ",", "username", ")", ".", "apply", "(", ")", ";", "updateStatus", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setFTPPassword", "(", "String", "password", ")", "{", "try", "{", "mainActivity", ".", "getPrefs", "(", ")", ".", "edit", "(", ")", ".", "putString", "(", "FtpService", ".", "KEY_PREFERENCE_PASSWORD", ",", "CryptUtil", ".", "encryptPassword", "(", "getContext", "(", ")", ",", "password", ")", ")", ".", "apply", "(", ")", ";", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "getContext", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "error", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "updateStatus", "(", ")", ";", "}", "</s>"]
["<s>", "private", "int", "getFTPTimeout", "(", ")", "{", "return", "mainActivity", ".", "getPrefs", "(", ")", ".", "getInt", "(", "FtpService", ".", "KEY_PREFERENCE_TIMEOUT", ",", "FtpService", ".", "DEFAULT_TIMEOUT", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setFTPTimeout", "(", "int", "seconds", ")", "{", "mainActivity", ".", "getPrefs", "(", ")", ".", "edit", "(", ")", ".", "putInt", "(", "FtpService", ".", "KEY_PREFERENCE_TIMEOUT", ",", "seconds", ")", ".", "apply", "(", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "getSecurePreference", "(", ")", "{", "return", "mainActivity", ".", "getPrefs", "(", ")", ".", "getBoolean", "(", "FtpService", ".", "KEY_PREFERENCE_SECURE", ",", "FtpService", ".", "DEFAULT_SECURE", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setSecurePreference", "(", "boolean", "isSecureEnabled", ")", "{", "mainActivity", ".", "getPrefs", "(", ")", ".", "edit", "(", ")", ".", "putBoolean", "(", "FtpService", ".", "KEY_PREFERENCE_SECURE", ",", "isSecureEnabled", ")", ".", "apply", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "@", "Nullable", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setupDialog", "(", "Dialog", "dialog", ",", "int", "style", ")", "{", "super", ".", "setupDialog", "(", "dialog", ",", "style", ")", ";", "rootView", "=", "getActivity", "(", ")", ".", "getLayoutInflater", "(", ")", ".", "inflate", "(", "R", ".", "layout", ".", "fragment_sheet_cloud", ",", "null", ")", ";", "if", "(", "(", "(", "MainActivity", ")", "getActivity", "(", ")", ")", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", ")", "{", "rootView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "holo_dark_background", ")", ")", ";", "}", "else", "if", "(", "(", "(", "MainActivity", ")", "getActivity", "(", ")", ")", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "rootView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "}", "else", "{", "rootView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "white", ")", ")", ";", "}", "mSmbLayout", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "linear_layout_smb", ")", ";", "mScpLayout", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "linear_layout_scp", ")", ";", "mBoxLayout", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "linear_layout_box", ")", ";", "mDropboxLayout", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "linear_layout_dropbox", ")", ";", "mGoogleDriveLayout", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "linear_layout_google_drive", ")", ";", "mOnedriveLayout", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "linear_layout_onedrive", ")", ";", "mGetCloudLayout", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "linear_layout_get_cloud", ")", ";", "if", "(", "isCloudProviderAvailable", "(", "getContext", "(", ")", ")", ")", "{", "mBoxLayout", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "mDropboxLayout", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "mGoogleDriveLayout", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "mOnedriveLayout", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "mGetCloudLayout", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "mSmbLayout", ".", "setOnClickListener", "(", "this", ")", ";", "mScpLayout", ".", "setOnClickListener", "(", "this", ")", ";", "mBoxLayout", ".", "setOnClickListener", "(", "this", ")", ";", "mDropboxLayout", ".", "setOnClickListener", "(", "this", ")", ";", "mGoogleDriveLayout", ".", "setOnClickListener", "(", "this", ")", ";", "mOnedriveLayout", ".", "setOnClickListener", "(", "this", ")", ";", "mGetCloudLayout", ".", "setOnClickListener", "(", "this", ")", ";", "dialog", ".", "setContentView", "(", "rootView", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "boolean", "isCloudProviderAvailable", "(", "Context", "context", ")", "{", "PackageManager", "pm", "=", "context", ".", "getPackageManager", "(", ")", ";", "try", "{", "pm", ".", "getPackageInfo", "(", "CloudContract", ".", "APP_PACKAGE_NAME", ",", "PackageManager", ".", "GET_ACTIVITIES", ")", ";", "return", "true", ";", "}", "catch", "(", "PackageManager", ".", "NameNotFoundException", "e", ")", "{", "return", "false", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "Log", ".", "d", "(", "TAG_FRAGMENT", ",", "\"", "<STR_LIT>", "\"", "+", "v", ".", "getId", "(", ")", ")", ";", "switch", "(", "v", ".", "getId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "linear_layout_smb", ":", "dismiss", "(", ")", ";", "SmbSearchDialog", "smbDialog", "=", "new", "SmbSearchDialog", "(", ")", ";", "smbDialog", ".", "show", "(", "getActivity", "(", ")", ".", "getFragmentManager", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "return", ";", "case", "R", ".", "id", ".", "linear_layout_scp", ":", "dismiss", "(", ")", ";", "SftpConnectDialog", "sftpConnectDialog", "=", "new", "SftpConnectDialog", "(", ")", ";", "Bundle", "args", "=", "new", "Bundle", "(", ")", ";", "args", ".", "putBoolean", "(", "\"", "<STR_LIT>", "\"", ",", "false", ")", ";", "sftpConnectDialog", ".", "setArguments", "(", "args", ")", ";", "sftpConnectDialog", ".", "show", "(", "getActivity", "(", ")", ".", "getFragmentManager", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "return", ";", "case", "R", ".", "id", ".", "linear_layout_box", ":", "(", "(", "MainActivity", ")", "getActivity", "(", ")", ")", ".", "addConnection", "(", "OpenMode", ".", "BOX", ")", ";", "break", ";", "case", "R", ".", "id", ".", "linear_layout_dropbox", ":", "(", "(", "MainActivity", ")", "getActivity", "(", ")", ")", ".", "addConnection", "(", "OpenMode", ".", "DROPBOX", ")", ";", "break", ";", "case", "R", ".", "id", ".", "linear_layout_google_drive", ":", "(", "(", "MainActivity", ")", "getActivity", "(", ")", ")", ".", "addConnection", "(", "OpenMode", ".", "GDRIVE", ")", ";", "break", ";", "case", "R", ".", "id", ".", "linear_layout_onedrive", ":", "(", "(", "MainActivity", ")", "getActivity", "(", ")", ")", ".", "addConnection", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "break", ";", "case", "R", ".", "id", ".", "linear_layout_get_cloud", ":", "Intent", "cloudPluginIntent", "=", "new", "Intent", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "cloudPluginIntent", ".", "setData", "(", "Uri", ".", "parse", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "startActivity", "(", "cloudPluginIntent", ")", ";", "break", ";", "}", "dismiss", "(", ")", ";", "}", "</s>"]
["<s>", "void", "addConnection", "(", "OpenMode", "service", ")", ";", "</s>"]
["<s>", "void", "deleteConnection", "(", "OpenMode", "service", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "utilsProvider", "=", "(", "(", "BasicActivity", ")", "getActivity", "(", ")", ")", ".", "getUtilsProvider", "(", ")", ";", "setHasOptionsMenu", "(", "false", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityCreated", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onActivityCreated", "(", "savedInstanceState", ")", ";", "setRetainInstance", "(", "true", ")", ";", "MainActivity", "mainActivity", "=", "(", "MainActivity", ")", "getActivity", "(", ")", ";", "mainActivity", ".", "getAppbar", "(", ")", ".", "setTitle", "(", "R", ".", "string", ".", "apps", ")", ";", "mainActivity", ".", "floatingActionButton", ".", "getMenuButton", "(", ")", ".", "hide", "(", ")", ";", "mainActivity", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "mainActivity", ".", "supportInvalidateOptionsMenu", "(", ")", ";", "vl", "=", "getListView", "(", ")", ";", "Sp", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "getActivity", "(", ")", ")", ";", "getSortModes", "(", ")", ";", "ListView", "vl", "=", "getListView", "(", ")", ";", "vl", ".", "setDivider", "(", "null", ")", ";", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", ")", "getActivity", "(", ")", ".", "getWindow", "(", ")", ".", "getDecorView", "(", ")", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "holo_dark_background", ")", ")", ";", "else", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "getActivity", "(", ")", ".", "getWindow", "(", ")", ".", "getDecorView", "(", ")", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "modelProvider", "=", "new", "AppsAdapterPreloadModel", "(", "app", ")", ";", "ViewPreloadSizeProvider", "<", "String", ">", "sizeProvider", "=", "new", "ViewPreloadSizeProvider", "<", ">", "(", ")", ";", "ListPreloader", "<", "String", ">", "preloader", "=", "new", "ListPreloader", "<", ">", "(", "GlideApp", ".", "with", "(", "app", ")", ",", "modelProvider", ",", "sizeProvider", ",", "GlideConstants", ".", "MAX_PRELOAD_APPSADAPTER", ")", ";", "adapter", "=", "new", "AppsAdapter", "(", "getContext", "(", ")", ",", "(", "ThemedActivity", ")", "getActivity", "(", ")", ",", "utilsProvider", ",", "modelProvider", ",", "sizeProvider", ",", "R", ".", "layout", ".", "rowlayout", ",", "app", ")", ";", "getListView", "(", ")", ".", "setOnScrollListener", "(", "preloader", ")", ";", "setListAdapter", "(", "adapter", ")", ";", "setListShown", "(", "false", ")", ";", "setEmptyText", "(", "getString", "(", "R", ".", "string", ".", "no_applications", ")", ")", ";", "getLoaderManager", "(", ")", ".", "initLoader", "(", "ID_LOADER_APP_LIST", ",", "null", ",", "this", ")", ";", "if", "(", "savedInstanceState", "!", "=", "null", ")", "{", "index", "=", "savedInstanceState", ".", "getInt", "(", "KEY_INDEX", ")", ";", "top", "=", "savedInstanceState", ".", "getInt", "(", "KEY_TOP", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onSaveInstanceState", "(", "Bundle", "b", ")", "{", "super", ".", "onSaveInstanceState", "(", "b", ")", ";", "if", "(", "vl", "!", "=", "null", ")", "{", "int", "index", "=", "vl", ".", "getFirstVisiblePosition", "(", ")", ";", "View", "vi", "=", "vl", ".", "getChildAt", "(", "0", ")", ";", "int", "top", "=", "(", "vi", "=", "=", "null", ")", "?", "0", ":", "vi", ".", "getTop", "(", ")", ";", "b", ".", "putInt", "(", "KEY_INDEX", ",", "index", ")", ";", "b", ".", "putInt", "(", "KEY_TOP", ",", "top", ")", ";", "}", "}", "</s>"]
["<s>", "public", "boolean", "unin", "(", "String", "pkg", ")", "{", "try", "{", "Intent", "intent", "=", "new", "Intent", "(", "Intent", ".", "ACTION_DELETE", ")", ";", "intent", ".", "setData", "(", "Uri", ".", "parse", "(", "\"", "<STR_LIT::>", "\"", "+", "pkg", ")", ")", ";", "startActivity", "(", "intent", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "\"", "\"", "+", "e", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "e", ".", "printStackTrace", "(", ")", ";", "return", "false", ";", "}", "return", "true", ";", "}", "</s>"]
["<s>", "public", "void", "getSortModes", "(", ")", "{", "int", "t", "=", "Integer", ".", "parseInt", "(", "Sp", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT:0>", "\"", ")", ")", ";", "if", "(", "t", "<", "=", "<NUM_LIT:2>", ")", "{", "sortby", "=", "t", ";", "asc", "=", "1", ";", "}", "else", "if", "(", "t", ">", "<NUM_LIT:2>", ")", "{", "asc", "=", "-", "1", ";", "sortby", "=", "t", "-", "<NUM_LIT:3>", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Loader", "<", "AppListLoader", ".", "AppsDataPair", ">", "onCreateLoader", "(", "int", "id", ",", "Bundle", "args", ")", "{", "return", "new", "AppListLoader", "(", "getContext", "(", ")", ",", "sortby", ",", "asc", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onLoadFinished", "(", "Loader", "<", "AppListLoader", ".", "AppsDataPair", ">", "loader", ",", "AppListLoader", ".", "AppsDataPair", "data", ")", "{", "adapter", ".", "setData", "(", "data", ".", "first", ")", ";", "modelProvider", ".", "setItemList", "(", "data", ".", "second", ")", ";", "if", "(", "isResumed", "(", ")", ")", "{", "setListShown", "(", "true", ")", ";", "}", "else", "{", "setListShownNoAnimation", "(", "true", ")", ";", "}", "if", "(", "vl", "!", "=", "null", ")", "vl", ".", "setSelectionFromTop", "(", "index", ",", "top", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onLoaderReset", "(", "Loader", "<", "AppListLoader", ".", "AppsDataPair", ">", "loader", ")", "{", "adapter", ".", "setData", "(", "null", ")", ";", "}", "</s>"]
["<s>", "void", "onPreExecute", "(", "String", "query", ")", ";", "</s>"]
["<s>", "void", "onPostExecute", "(", "String", "query", ")", ";", "</s>"]
["<s>", "void", "onProgressUpdate", "(", "HybridFileParcelable", "val", ",", "String", "query", ")", ";", "</s>"]
["<s>", "void", "onCancelled", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "void", "onAttach", "(", "Context", "context", ")", "{", "super", ".", "onAttach", "(", "context", ")", ";", "mCallbacks", "=", "(", "HelperCallbacks", ")", "context", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setRetainInstance", "(", "true", ")", ";", "String", "mPath", "=", "getArguments", "(", ")", ".", "getString", "(", "KEY_PATH", ")", ";", "String", "mInput", "=", "getArguments", "(", ")", ".", "getString", "(", "KEY_INPUT", ")", ";", "OpenMode", "mOpenMode", "=", "OpenMode", ".", "getOpenMode", "(", "getArguments", "(", ")", ".", "getInt", "(", "KEY_OPEN_MODE", ")", ")", ";", "boolean", "mRootMode", "=", "getArguments", "(", ")", ".", "getBoolean", "(", "KEY_ROOT_MODE", ")", ";", "boolean", "isRegexEnabled", "=", "getArguments", "(", ")", ".", "getBoolean", "(", "KEY_REGEX", ")", ";", "boolean", "isMatchesEnabled", "=", "getArguments", "(", ")", ".", "getBoolean", "(", "KEY_REGEX_MATCHES", ")", ";", "mSearchAsyncTask", "=", "new", "SearchAsyncTask", "(", "getActivity", "(", ")", ",", "mCallbacks", ",", "mInput", ",", "mOpenMode", ",", "mRootMode", ",", "isRegexEnabled", ",", "isMatchesEnabled", ")", ";", "mSearchAsyncTask", ".", "execute", "(", "mPath", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDetach", "(", ")", "{", "super", ".", "onDetach", "(", ")", ";", "mCallbacks", "=", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "View", "onCreateView", "(", "LayoutInflater", "inflater", ",", "ViewGroup", "container", ",", "Bundle", "savedInstanceState", ")", "{", "ViewGroup", "rootView", "=", "(", "ViewGroup", ")", "inflater", ".", "inflate", "(", "R", ".", "layout", ".", "tabfragment", ",", "container", ",", "false", ")", ";", "tabHandler", "=", "new", "TabHandler", "(", "getContext", "(", ")", ")", ";", "fragmentManager", "=", "getActivity", "(", ")", ".", "getSupportFragmentManager", "(", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "indicator", "=", "getActivity", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "indicator", ")", ";", "}", "else", "{", "circleDrawable1", "=", "getActivity", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "tab_indicator1", ")", ";", "circleDrawable2", "=", "getActivity", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "tab_indicator2", ")", ";", "}", "sharedPrefs", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "getActivity", "(", ")", ")", ";", "savepaths", "=", "sharedPrefs", ".", "getBoolean", "(", "\"", "<STR_LIT>", "\"", ",", "true", ")", ";", "mViewPager", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "pager", ")", ";", "if", "(", "getArguments", "(", ")", "!", "=", "null", ")", "{", "path", "=", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "mainActivity", "=", "(", "(", "MainActivity", ")", "getActivity", "(", ")", ")", ";", "mainActivity", ".", "supportInvalidateOptionsMenu", "(", ")", ";", "mViewPager", ".", "addOnPageChangeListener", "(", "this", ")", ";", "mSectionsPagerAdapter", "=", "new", "ScreenSlidePagerAdapter", "(", "getActivity", "(", ")", ".", "getSupportFragmentManager", "(", ")", ")", ";", "if", "(", "savedInstanceState", "=", "=", "null", ")", "{", "int", "l", "=", "sharedPrefs", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_CURRENT_TAB", ",", "PreferenceUtils", ".", "DEFAULT_CURRENT_TAB", ")", ";", "MainActivity", ".", "currentTab", "=", "l", ";", "List", "<", "Tab", ">", "tabs1", "=", "tabHandler", ".", "getAllTabs", "(", ")", ";", "int", "i", "=", "tabs1", ".", "size", "(", ")", ";", "if", "(", "i", "=", "=", "0", ")", "{", "if", "(", "mainActivity", ".", "getDrawer", "(", ")", ".", "getFirstPath", "(", ")", "!", "=", "null", ")", "{", "addNewTab", "(", "1", ",", "mainActivity", ".", "getDrawer", "(", ")", ".", "getFirstPath", "(", ")", ")", ";", "}", "else", "{", "if", "(", "mainActivity", ".", "getDrawer", "(", ")", ".", "getSecondPath", "(", ")", "!", "=", "null", ")", "{", "addNewTab", "(", "1", ",", "mainActivity", ".", "getDrawer", "(", ")", ".", "getSecondPath", "(", ")", ")", ";", "}", "else", "{", "sharedPrefs", ".", "edit", "(", ")", ".", "putBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_ROOTMODE", ",", "true", ")", ".", "apply", "(", ")", ";", "addNewTab", "(", "1", ",", "\"", "<STR_LIT:/>", "\"", ")", ";", "}", "}", "if", "(", "mainActivity", ".", "getDrawer", "(", ")", ".", "getSecondPath", "(", ")", "!", "=", "null", ")", "{", "addNewTab", "(", "<NUM_LIT:2>", ",", "mainActivity", ".", "getDrawer", "(", ")", ".", "getSecondPath", "(", ")", ")", ";", "}", "else", "{", "addNewTab", "(", "<NUM_LIT:2>", ",", "mainActivity", ".", "getDrawer", "(", ")", ".", "getFirstPath", "(", ")", ")", ";", "}", "}", "else", "{", "if", "(", "path", "!", "=", "null", "&", "&", "path", ".", "length", "(", ")", "!", "=", "0", ")", "{", "if", "(", "l", "=", "=", "1", ")", "{", "addTab", "(", "tabHandler", ".", "findTab", "(", "1", ")", ",", "\"", "\"", ")", ";", "}", "addTab", "(", "tabHandler", ".", "findTab", "(", "l", "+", "1", ")", ",", "path", ")", ";", "if", "(", "l", "=", "=", "0", ")", "{", "addTab", "(", "tabHandler", ".", "findTab", "(", "<NUM_LIT:2>", ")", ",", "\"", "\"", ")", ";", "}", "}", "else", "{", "addTab", "(", "tabHandler", ".", "findTab", "(", "1", ")", ",", "\"", "\"", ")", ";", "addTab", "(", "tabHandler", ".", "findTab", "(", "<NUM_LIT:2>", ")", ",", "\"", "\"", ")", ";", "}", "}", "mViewPager", ".", "setAdapter", "(", "mSectionsPagerAdapter", ")", ";", "try", "{", "mViewPager", ".", "setCurrentItem", "(", "l", ",", "true", ")", ";", "if", "(", "circleDrawable1", "!", "=", "null", "&", "&", "circleDrawable2", "!", "=", "null", ")", "{", "updateIndicator", "(", "mViewPager", ".", "getCurrentItem", "(", ")", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "{", "fragments", ".", "clear", "(", ")", ";", "try", "{", "if", "(", "fragmentManager", "=", "=", "null", ")", "{", "fragmentManager", "=", "getActivity", "(", ")", ".", "getSupportFragmentManager", "(", ")", ";", "}", "fragments", ".", "add", "(", "0", ",", "fragmentManager", ".", "getFragment", "(", "savedInstanceState", ",", "\"", "<STR_LIT>", "\"", "+", "0", ")", ")", ";", "fragments", ".", "add", "(", "1", ",", "fragmentManager", ".", "getFragment", "(", "savedInstanceState", ",", "\"", "<STR_LIT>", "\"", "+", "1", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "mSectionsPagerAdapter", "=", "new", "ScreenSlidePagerAdapter", "(", "getActivity", "(", ")", ".", "getSupportFragmentManager", "(", ")", ")", ";", "mViewPager", ".", "setAdapter", "(", "mSectionsPagerAdapter", ")", ";", "int", "pos1", "=", "savedInstanceState", ".", "getInt", "(", "KEY_POSITION", ",", "0", ")", ";", "MainActivity", ".", "currentTab", "=", "pos1", ";", "mViewPager", ".", "setCurrentItem", "(", "pos1", ")", ";", "mSectionsPagerAdapter", ".", "notifyDataSetChanged", "(", ")", ";", "}", "if", "(", "indicator", "!", "=", "null", ")", "indicator", ".", "setViewPager", "(", "mViewPager", ")", ";", "UserColorPreferences", "userColorPreferences", "=", "mainActivity", ".", "getCurrentColorPreference", "(", ")", ";", "startColor", "=", "userColorPreferences", ".", "primaryFirstTab", ";", "endColor", "=", "userColorPreferences", ".", "primarySecondTab", ";", "mainActivity", ".", "mainFragment", "=", "(", "MainFragment", ")", "getCurrentTabFragment", "(", ")", ";", "return", "rootView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroyView", "(", ")", "{", "sharedPrefs", ".", "edit", "(", ")", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_CURRENT_TAB", ",", "MainActivity", ".", "currentTab", ")", ".", "apply", "(", ")", ";", "super", ".", "onDestroyView", "(", ")", ";", "try", "{", "if", "(", "tabHandler", "!", "=", "null", ")", "tabHandler", ".", "close", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "updatepaths", "(", "int", "pos", ")", "{", "if", "(", "tabHandler", "=", "=", "null", ")", "tabHandler", "=", "new", "TabHandler", "(", "getActivity", "(", ")", ")", ";", "int", "i", "=", "1", ";", "tabHandler", ".", "clear", "(", ")", ";", "for", "(", "Fragment", "fragment", ":", "fragments", ")", "{", "if", "(", "fragment", "instanceof", "MainFragment", ")", "{", "MainFragment", "m", "=", "(", "MainFragment", ")", "fragment", ";", "if", "(", "i", "-", "1", "=", "=", "MainActivity", ".", "currentTab", "&", "&", "i", "=", "=", "pos", ")", "{", "mainActivity", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "updatePath", "(", "m", ".", "getCurrentPath", "(", ")", ",", "m", ".", "results", ",", "MainActivityHelper", ".", "SEARCH_TEXT", ",", "m", ".", "openMode", ",", "m", ".", "folder_count", ",", "m", ".", "file_count", ",", "m", ")", ";", "mainActivity", ".", "getDrawer", "(", ")", ".", "selectCorrectDrawerItemForPath", "(", "m", ".", "getCurrentPath", "(", ")", ")", ";", "}", "if", "(", "m", ".", "openMode", "=", "=", "OpenMode", ".", "FILE", ")", "{", "tabHandler", ".", "addTab", "(", "new", "Tab", "(", "i", ",", "m", ".", "getCurrentPath", "(", ")", ",", "m", ".", "home", ")", ")", ";", "}", "else", "{", "tabHandler", ".", "addTab", "(", "new", "Tab", "(", "i", ",", "m", ".", "home", ",", "m", ".", "home", ")", ")", ";", "}", "i", "+", "+", ";", "}", "}", "}", "</s>"]
["<s>", "String", "parseSmbPath", "(", "String", "a", ")", "{", "if", "(", "a", ".", "contains", "(", "\"", "<STR_LIT:@>", "\"", ")", ")", "return", "\"", "<STR_LIT>", "\"", "+", "a", ".", "substring", "(", "a", ".", "indexOf", "(", "\"", "<STR_LIT:@>", "\"", ")", "+", "1", ",", "a", ".", "length", "(", ")", ")", ";", "else", "return", "a", ";", "}", "</s>"]
["<s>", "String", "parsePathForName", "(", "String", "path", ",", "OpenMode", "openmode", ")", "{", "Resources", "resources", "=", "getActivity", "(", ")", ".", "getResources", "(", ")", ";", "if", "(", "\"", "<STR_LIT:/>", "\"", ".", "equals", "(", "path", ")", ")", "{", "return", "resources", ".", "getString", "(", "R", ".", "string", ".", "rootdirectory", ")", ";", "}", "else", "if", "(", "openmode", "=", "=", "OpenMode", ".", "SMB", "&", "&", "path", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "return", "(", "new", "File", "(", "parseSmbPath", "(", "path", ")", ")", ".", "getName", "(", ")", ")", ";", "}", "else", "if", "(", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "path", ")", ")", "{", "return", "resources", ".", "getString", "(", "R", ".", "string", ".", "internalstorage", ")", ";", "}", "else", "if", "(", "openmode", "=", "=", "OpenMode", ".", "CUSTOM", ")", "{", "return", "new", "MainActivityHelper", "(", "mainActivity", ")", ".", "getIntegralNames", "(", "path", ")", ";", "}", "else", "{", "return", "new", "File", "(", "path", ")", ".", "getName", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onSaveInstanceState", "(", "Bundle", "outState", ")", "{", "super", ".", "onSaveInstanceState", "(", "outState", ")", ";", "int", "i", "=", "0", ";", "if", "(", "sharedPrefs", "!", "=", "null", ")", "{", "sharedPrefs", ".", "edit", "(", ")", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_CURRENT_TAB", ",", "MainActivity", ".", "currentTab", ")", ".", "commit", "(", ")", ";", "}", "if", "(", "fragments", "!", "=", "null", "&", "&", "fragments", ".", "size", "(", ")", "!", "=", "0", ")", "{", "if", "(", "fragmentManager", "=", "=", "null", ")", "return", ";", "for", "(", "Fragment", "fragment", ":", "fragments", ")", "{", "fragmentManager", ".", "putFragment", "(", "outState", ",", "\"", "<STR_LIT>", "\"", "+", "i", ",", "fragment", ")", ";", "i", "+", "+", ";", "}", "outState", ".", "putInt", "(", "KEY_POSITION", ",", "mViewPager", ".", "getCurrentItem", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPageScrolled", "(", "int", "position", ",", "float", "positionOffset", ",", "int", "positionOffsetPixels", ")", "{", "MainFragment", "mainFragment", "=", "mainActivity", ".", "getCurrentMainFragment", "(", ")", ";", "if", "(", "mainFragment", "!", "=", "null", "&", "&", "!", "mainFragment", ".", "selection", ")", "{", "@", "ColorInt", "int", "color", "=", "(", "int", ")", "evaluator", ".", "evaluate", "(", "position", "+", "positionOffset", ",", "startColor", ",", "endColor", ")", ";", "colorDrawable", ".", "setColor", "(", "color", ")", ";", "mainActivity", ".", "updateViews", "(", "colorDrawable", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPageSelected", "(", "int", "p1", ")", "{", "mainActivity", ".", "getAppbar", "(", ")", ".", "getAppbarLayout", "(", ")", ".", "animate", "(", ")", ".", "translationY", "(", "0", ")", ".", "setInterpolator", "(", "new", "DecelerateInterpolator", "(", "<NUM_LIT:2>", ")", ")", ".", "start", "(", ")", ";", "MainActivity", ".", "currentTab", "=", "p1", ";", "if", "(", "sharedPrefs", "!", "=", "null", ")", "{", "sharedPrefs", ".", "edit", "(", ")", ".", "putInt", "(", "PreferencesConstants", ".", "PREFERENCE_CURRENT_TAB", ",", "MainActivity", ".", "currentTab", ")", ".", "commit", "(", ")", ";", "}", "Log", ".", "d", "(", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ",", "\"", "<STR_LIT>", "\"", "+", "MainActivity", ".", "currentTab", ")", ";", "Fragment", "fragment", "=", "fragments", ".", "get", "(", "p1", ")", ";", "if", "(", "fragment", "!", "=", "null", "&", "&", "fragment", "instanceof", "MainFragment", ")", "{", "MainFragment", "ma", "=", "(", "MainFragment", ")", "fragment", ";", "if", "(", "ma", ".", "getCurrentPath", "(", ")", "!", "=", "null", ")", "{", "mainActivity", ".", "getDrawer", "(", ")", ".", "selectCorrectDrawerItemForPath", "(", "ma", ".", "getCurrentPath", "(", ")", ")", ";", "mainActivity", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "updatePath", "(", "ma", ".", "getCurrentPath", "(", ")", ",", "ma", ".", "results", ",", "MainActivityHelper", ".", "SEARCH_TEXT", ",", "ma", ".", "openMode", ",", "ma", ".", "folder_count", ",", "ma", ".", "file_count", ",", "ma", ")", ";", "}", "}", "if", "(", "circleDrawable1", "!", "=", "null", "&", "&", "circleDrawable2", "!", "=", "null", ")", "updateIndicator", "(", "p1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPageScrollStateChanged", "(", "int", "state", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemPosition", "(", "Object", "object", ")", "{", "int", "index", "=", "fragments", ".", "indexOf", "(", "object", ")", ";", "if", "(", "index", "=", "=", "-", "1", ")", "return", "POSITION_NONE", ";", "else", "return", "index", ";", "}", "</s>"]
["<s>", "public", "int", "getCount", "(", ")", "{", "return", "fragments", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ScreenSlidePagerAdapter", "(", "android", ".", "support", ".", "v4", ".", "app", ".", "FragmentManager", "fm", ")", "{", "super", "(", "fm", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Fragment", "getItem", "(", "int", "position", ")", "{", "Fragment", "f", ";", "f", "=", "fragments", ".", "get", "(", "position", ")", ";", "return", "f", ";", "}", "</s>"]
["<s>", "private", "void", "addNewTab", "(", "int", "num", ",", "String", "path", ")", "{", "addTab", "(", "new", "Tab", "(", "num", ",", "path", ",", "path", ")", ",", "\"", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addTab", "(", "@", "NonNull", "Tab", "tab", ",", "String", "path", ")", "{", "Fragment", "main", "=", "new", "MainFragment", "(", ")", ";", "Bundle", "b", "=", "new", "Bundle", "(", ")", ";", "if", "(", "path", "!", "=", "null", "&", "&", "path", ".", "length", "(", ")", "!", "=", "0", ")", "{", "b", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "path", ")", ";", "}", "else", "{", "b", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "tab", ".", "getOriginalPath", "(", "savepaths", ",", "mainActivity", ".", "getPrefs", "(", ")", ")", ")", ";", "}", "b", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "tab", ".", "home", ")", ";", "b", ".", "putInt", "(", "\"", "<STR_LIT>", "\"", ",", "tab", ".", "tabNumber", ")", ";", "main", ".", "setArguments", "(", "b", ")", ";", "fragments", ".", "add", "(", "main", ")", ";", "mSectionsPagerAdapter", ".", "notifyDataSetChanged", "(", ")", ";", "mViewPager", ".", "setOffscreenPageLimit", "(", "<NUM_LIT:4>", ")", ";", "}", "</s>"]
["<s>", "public", "Fragment", "getCurrentTabFragment", "(", ")", "{", "if", "(", "fragments", ".", "size", "(", ")", "=", "=", "<NUM_LIT:2>", ")", "return", "fragments", ".", "get", "(", "mViewPager", ".", "getCurrentItem", "(", ")", ")", ";", "else", "return", "null", ";", "}", "</s>"]
["<s>", "public", "Fragment", "getFragmentAtIndex", "(", "int", "pos", ")", "{", "if", "(", "fragments", ".", "size", "(", ")", "=", "=", "<NUM_LIT:2>", "&", "&", "pos", "<", "<NUM_LIT:2>", ")", "return", "fragments", ".", "get", "(", "pos", ")", ";", "else", "return", "null", ";", "}", "</s>"]
["<s>", "void", "updateIndicator", "(", "int", "index", ")", "{", "if", "(", "index", "!", "=", "0", "&", "&", "index", "!", "=", "1", ")", "return", ";", "int", "accentColor", "=", "mainActivity", ".", "getAccent", "(", ")", ";", "if", "(", "index", "=", "=", "0", ")", "{", "circleDrawable1", ".", "setImageDrawable", "(", "new", "ColorCircleDrawable", "(", "accentColor", ")", ")", ";", "circleDrawable2", ".", "setImageDrawable", "(", "new", "ColorCircleDrawable", "(", "Color", ".", "GRAY", ")", ")", ";", "}", "else", "{", "circleDrawable1", ".", "setImageDrawable", "(", "new", "ColorCircleDrawable", "(", "accentColor", ")", ")", ";", "circleDrawable2", ".", "setImageDrawable", "(", "new", "ColorCircleDrawable", "(", "Color", ".", "GRAY", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "View", "onCreateView", "(", "LayoutInflater", "inflater", ",", "ViewGroup", "container", ",", "Bundle", "savedInstanceState", ")", "{", "rootView", "=", "inflater", ".", "inflate", "(", "R", ".", "layout", ".", "processparent", ",", "container", ",", "false", ")", ";", "mainActivity", "=", "(", "MainActivity", ")", "getActivity", "(", ")", ";", "accentColor", "=", "mainActivity", ".", "getAccent", "(", ")", ";", "if", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "rootView", ".", "setBackgroundResource", "(", "(", "R", ".", "color", ".", "cardView_background", ")", ")", ";", "mCardView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "card_view", ")", ";", "mLineChart", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "progress_chart", ")", ";", "mProgressImage", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "progress_image", ")", ";", "mCancelButton", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "delete_button", ")", ";", "mProgressTypeText", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_progress_type", ")", ";", "mProgressFileNameText", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_progress_file_name", ")", ";", "mProgressBytesText", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_progress_bytes", ")", ";", "mProgressFileText", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_progress_file", ")", ";", "mProgressSpeedText", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_progress_speed", ")", ";", "mProgressTimer", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "text_view_progress_timer", ")", ";", "if", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "mCancelButton", ".", "setImageResource", "(", "R", ".", "drawable", ".", "ic_action_cancel", ")", ";", "mCardView", ".", "setCardBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "cardView_foreground", ")", ")", ";", "mCardView", ".", "setCardElevation", "(", "<NUM_LIT>", ")", ";", "}", "mCopyConnection", "=", "new", "CustomServiceConnection", "(", "this", ",", "mLineChart", ",", "SERVICE_COPY", ")", ";", "mExtractConnection", "=", "new", "CustomServiceConnection", "(", "this", ",", "mLineChart", ",", "SERVICE_EXTRACT", ")", ";", "mCompressConnection", "=", "new", "CustomServiceConnection", "(", "this", ",", "mLineChart", ",", "SERVICE_COMPRESS", ")", ";", "mEncryptConnection", "=", "new", "CustomServiceConnection", "(", "this", ",", "mLineChart", ",", "SERVICE_ENCRYPT", ")", ";", "mDecryptConnection", "=", "new", "CustomServiceConnection", "(", "this", ",", "mLineChart", ",", "SERVICE_DECRYPT", ")", ";", "return", "rootView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityCreated", "(", "@", "Nullable", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onActivityCreated", "(", "savedInstanceState", ")", ";", "setRetainInstance", "(", "true", ")", ";", "mainActivity", ".", "getAppbar", "(", ")", ".", "setTitle", "(", "R", ".", "string", ".", "process_viewer", ")", ";", "mainActivity", ".", "floatingActionButton", ".", "getMenuButton", "(", ")", ".", "hide", "(", ")", ";", "mainActivity", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "mainActivity", ".", "supportInvalidateOptionsMenu", "(", ")", ";", "int", "skin_color", "=", "mainActivity", ".", "getCurrentColorPreference", "(", ")", ".", "primaryFirstTab", ";", "int", "skinTwoColor", "=", "mainActivity", ".", "getCurrentColorPreference", "(", ")", ".", "primarySecondTab", ";", "accentColor", "=", "mainActivity", ".", "getAccent", "(", ")", ";", "mainActivity", ".", "updateViews", "(", "new", "ColorDrawable", "(", "MainActivity", ".", "currentTab", "=", "=", "1", "?", "skinTwoColor", ":", "skin_color", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onResume", "(", ")", "{", "super", ".", "onResume", "(", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "getActivity", "(", ")", ",", "CopyService", ".", "class", ")", ";", "getActivity", "(", ")", ".", "bindService", "(", "intent", ",", "mCopyConnection", ",", "0", ")", ";", "Intent", "intent1", "=", "new", "Intent", "(", "getActivity", "(", ")", ",", "ExtractService", ".", "class", ")", ";", "getActivity", "(", ")", ".", "bindService", "(", "intent1", ",", "mExtractConnection", ",", "0", ")", ";", "Intent", "intent2", "=", "new", "Intent", "(", "getActivity", "(", ")", ",", "ZipService", ".", "class", ")", ";", "getActivity", "(", ")", ".", "bindService", "(", "intent2", ",", "mCompressConnection", ",", "0", ")", ";", "Intent", "intent3", "=", "new", "Intent", "(", "getActivity", "(", ")", ",", "EncryptService", ".", "class", ")", ";", "getActivity", "(", ")", ".", "bindService", "(", "intent3", ",", "mEncryptConnection", ",", "0", ")", ";", "Intent", "intent4", "=", "new", "Intent", "(", "getActivity", "(", ")", ",", "DecryptService", ".", "class", ")", ";", "getActivity", "(", ")", ".", "bindService", "(", "intent4", ",", "mDecryptConnection", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPause", "(", ")", "{", "super", ".", "onPause", "(", ")", ";", "getActivity", "(", ")", ".", "unbindService", "(", "mCopyConnection", ")", ";", "getActivity", "(", ")", ".", "unbindService", "(", "mExtractConnection", ")", ";", "getActivity", "(", ")", ".", "unbindService", "(", "mCompressConnection", ")", ";", "getActivity", "(", ")", ".", "unbindService", "(", "mEncryptConnection", ")", ";", "getActivity", "(", ")", ".", "unbindService", "(", "mDecryptConnection", ")", ";", "}", "</s>"]
["<s>", "public", "void", "processResults", "(", "final", "DatapointParcelable", "dataPackage", ",", "int", "serviceType", ")", "{", "if", "(", "dataPackage", "!", "=", "null", ")", "{", "String", "name", "=", "dataPackage", ".", "name", ";", "long", "total", "=", "dataPackage", ".", "totalSize", ";", "long", "doneBytes", "=", "dataPackage", ".", "byteProgress", ";", "boolean", "move", "=", "dataPackage", ".", "move", ";", "if", "(", "!", "isInitialized", ")", "{", "chartInit", "(", "total", ")", ";", "setupDrawables", "(", "serviceType", ",", "move", ")", ";", "isInitialized", "=", "true", ";", "}", "addEntry", "(", "FileUtils", ".", "readableFileSizeFloat", "(", "doneBytes", ")", ",", "FileUtils", ".", "readableFileSizeFloat", "(", "dataPackage", ".", "speedRaw", ")", ")", ";", "mProgressFileNameText", ".", "setText", "(", "name", ")", ";", "Spanned", "bytesText", "=", "Html", ".", "fromHtml", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "written", ")", "+", "\"", "<STR_LIT>", "\"", "+", "accentColor", "+", "\"", "<STR_LIT>", "\"", "+", "Formatter", ".", "formatFileSize", "(", "getContext", "(", ")", ",", "doneBytes", ")", "+", "\"", "<STR_LIT>", "\"", "+", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "out_of", ")", "+", "\"", "<STR_LIT>", "\"", "+", "Formatter", ".", "formatFileSize", "(", "getContext", "(", ")", ",", "total", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "mProgressBytesText", ".", "setText", "(", "bytesText", ")", ";", "Spanned", "fileProcessedSpan", "=", "Html", ".", "fromHtml", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "processing_file", ")", "+", "\"", "<STR_LIT>", "\"", "+", "accentColor", "+", "\"", "<STR_LIT>", "\"", "+", "(", "dataPackage", ".", "sourceProgress", ")", "+", "\"", "<STR_LIT>", "\"", "+", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "of", ")", "+", "\"", "<STR_LIT>", "\"", "+", "dataPackage", ".", "sourceFiles", "+", "\"", "<STR_LIT>", "\"", ")", ";", "mProgressFileText", ".", "setText", "(", "fileProcessedSpan", ")", ";", "Spanned", "speedSpan", "=", "Html", ".", "fromHtml", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "current_speed", ")", "+", "\"", "<STR_LIT>", "\"", "+", "accentColor", "+", "\"", "<STR_LIT>", "\"", "+", "Formatter", ".", "formatFileSize", "(", "getContext", "(", ")", ",", "dataPackage", ".", "speedRaw", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "mProgressSpeedText", ".", "setText", "(", "speedSpan", ")", ";", "Spanned", "timerSpan", "=", "Html", ".", "fromHtml", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "service_timer", ")", "+", "\"", "<STR_LIT>", "\"", "+", "accentColor", "+", "\"", "<STR_LIT>", "\"", "+", "Utils", ".", "formatTimer", "(", "+", "+", "looseTimeInSeconds", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "mProgressTimer", ".", "setText", "(", "timerSpan", ")", ";", "if", "(", "dataPackage", ".", "completed", ")", "mCancelButton", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "setupDrawables", "(", "int", "serviceType", ",", "boolean", "isMove", ")", "{", "switch", "(", "serviceType", ")", "{", "case", "SERVICE_COPY", ":", "if", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "mProgressImage", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_content_copy_white_36dp", ")", ")", ";", "}", "else", "{", "mProgressImage", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_content_copy_grey600_36dp", ")", ")", ";", "}", "mProgressTypeText", ".", "setText", "(", "isMove", "?", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "moving", ")", ":", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "copying", ")", ")", ";", "cancelBroadcast", "(", "new", "Intent", "(", "CopyService", ".", "TAG_BROADCAST_COPY_CANCEL", ")", ")", ";", "break", ";", "case", "SERVICE_EXTRACT", ":", "if", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "mProgressImage", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_zip_box_white", ")", ")", ";", "}", "else", "{", "mProgressImage", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_zip_box_grey", ")", ")", ";", "}", "mProgressTypeText", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "extracting", ")", ")", ";", "cancelBroadcast", "(", "new", "Intent", "(", "ExtractService", ".", "TAG_BROADCAST_EXTRACT_CANCEL", ")", ")", ";", "break", ";", "case", "SERVICE_COMPRESS", ":", "if", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "mProgressImage", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_zip_box_white", ")", ")", ";", "}", "else", "{", "mProgressImage", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_zip_box_grey", ")", ")", ";", "}", "mProgressTypeText", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "compressing", ")", ")", ";", "cancelBroadcast", "(", "new", "Intent", "(", "ZipService", ".", "KEY_COMPRESS_BROADCAST_CANCEL", ")", ")", ";", "break", ";", "case", "SERVICE_ENCRYPT", ":", "if", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "mProgressImage", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_folder_lock_white_36dp", ")", ")", ";", "}", "else", "{", "mProgressImage", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_folder_lock_grey600_36dp", ")", ")", ";", "}", "mProgressTypeText", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "crypt_encrypting", ")", ")", ";", "cancelBroadcast", "(", "new", "Intent", "(", "EncryptService", ".", "TAG_BROADCAST_CRYPT_CANCEL", ")", ")", ";", "break", ";", "case", "SERVICE_DECRYPT", ":", "if", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "mainActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "mProgressImage", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_folder_lock_open_white_36dp", ")", ")", ";", "}", "else", "{", "mProgressImage", ".", "setImageDrawable", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_folder_lock_open_grey600_36dp", ")", ")", ";", "}", "mProgressTypeText", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "crypt_decrypting", ")", ")", ";", "cancelBroadcast", "(", "new", "Intent", "(", "EncryptService", ".", "TAG_BROADCAST_CRYPT_CANCEL", ")", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "private", "void", "cancelBroadcast", "(", "final", "Intent", "intent", ")", "{", "mCancelButton", ".", "setOnClickListener", "(", "v", "-", ">", "{", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "stopping", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "getActivity", "(", ")", ".", "sendBroadcast", "(", "intent", ")", ";", "mProgressTypeText", ".", "setText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cancelled", ")", ")", ";", "mProgressSpeedText", ".", "setText", "(", "\"", "\"", ")", ";", "mProgressFileText", ".", "setText", "(", "\"", "\"", ")", ";", "mProgressBytesText", ".", "setText", "(", "\"", "\"", ")", ";", "mProgressFileNameText", ".", "setText", "(", "\"", "\"", ")", ";", "mProgressTypeText", ".", "setTextColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "holo_red_light", ")", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "private", "void", "addEntry", "(", "float", "xValue", ",", "float", "yValue", ")", "{", "ILineDataSet", "dataSet", "=", "mLineData", ".", "getDataSetByIndex", "(", "0", ")", ";", "if", "(", "dataSet", "=", "=", "null", ")", "{", "dataSet", "=", "createDataSet", "(", ")", ";", "mLineData", ".", "addDataSet", "(", "dataSet", ")", ";", "}", "dataSet", ".", "addEntry", "(", "new", "Entry", "(", "xValue", ",", "yValue", ")", ")", ";", "mLineData", ".", "notifyDataChanged", "(", ")", ";", "mLineChart", ".", "notifyDataSetChanged", "(", ")", ";", "mLineChart", ".", "invalidate", "(", ")", ";", "}", "</s>"]
["<s>", "private", "LineDataSet", "createDataSet", "(", ")", "{", "LineDataSet", "lineDataset", "=", "new", "LineDataSet", "(", "new", "ArrayList", "<", "Entry", ">", "(", ")", ",", "null", ")", ";", "lineDataset", ".", "setLineWidth", "(", "<NUM_LIT>", ")", ";", "lineDataset", ".", "setCircleRadius", "(", "<NUM_LIT>", ")", ";", "lineDataset", ".", "setCircleHoleRadius", "(", "<NUM_LIT>", ")", ";", "lineDataset", ".", "setColor", "(", "Color", ".", "WHITE", ")", ";", "lineDataset", ".", "setCircleColor", "(", "Color", ".", "WHITE", ")", ";", "lineDataset", ".", "setHighLightColor", "(", "Color", ".", "WHITE", ")", ";", "lineDataset", ".", "setDrawValues", "(", "false", ")", ";", "lineDataset", ".", "setCircleColorHole", "(", "accentColor", ")", ";", "return", "lineDataset", ";", "}", "</s>"]
["<s>", "private", "void", "chartInit", "(", "long", "totalBytes", ")", "{", "mLineChart", ".", "setBackgroundColor", "(", "accentColor", ")", ";", "mLineChart", ".", "getLegend", "(", ")", ".", "setEnabled", "(", "false", ")", ";", "mLineChart", ".", "getDescription", "(", ")", ".", "setEnabled", "(", "false", ")", ";", "XAxis", "xAxis", "=", "mLineChart", ".", "getXAxis", "(", ")", ";", "YAxis", "yAxisLeft", "=", "mLineChart", ".", "getAxisLeft", "(", ")", ";", "mLineChart", ".", "getAxisRight", "(", ")", ".", "setEnabled", "(", "false", ")", ";", "yAxisLeft", ".", "setTextColor", "(", "Color", ".", "WHITE", ")", ";", "yAxisLeft", ".", "setAxisLineColor", "(", "Color", ".", "TRANSPARENT", ")", ";", "yAxisLeft", ".", "setTypeface", "(", "Typeface", ".", "DEFAULT_BOLD", ")", ";", "yAxisLeft", ".", "setGridColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "white_translucent", ")", ")", ";", "xAxis", ".", "setAxisMaximum", "(", "FileUtils", ".", "readableFileSizeFloat", "(", "totalBytes", ")", ")", ";", "xAxis", ".", "setAxisMinimum", "(", "<NUM_LIT:0.0f>", ")", ";", "xAxis", ".", "setAxisLineColor", "(", "Color", ".", "TRANSPARENT", ")", ";", "xAxis", ".", "setGridColor", "(", "Color", ".", "TRANSPARENT", ")", ";", "xAxis", ".", "setTextColor", "(", "Color", ".", "WHITE", ")", ";", "xAxis", ".", "setTypeface", "(", "Typeface", ".", "DEFAULT_BOLD", ")", ";", "mLineChart", ".", "setData", "(", "mLineData", ")", ";", "mLineChart", ".", "invalidate", "(", ")", ";", "}", "</s>"]
["<s>", "public", "CustomServiceConnection", "(", "ProcessViewerFragment", "frag", ",", "LineChart", "lineChart", ",", "int", "serviceType", ")", "{", "fragment", "=", "frag", ";", "this", ".", "lineChart", "=", "lineChart", ";", "this", ".", "serviceType", "=", "serviceType", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onServiceConnected", "(", "ComponentName", "name", ",", "IBinder", "service", ")", "{", "ObtainableServiceBinder", "<", "?", "extends", "AbstractProgressiveService", ">", "binder", "=", "(", "ObtainableServiceBinder", "<", "?", "extends", "AbstractProgressiveService", ">", ")", "service", ";", "AbstractProgressiveService", "specificService", "=", "binder", ".", "getService", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "specificService", ".", "getDataPackageSize", "(", ")", ";", "i", "+", "+", ")", "{", "DatapointParcelable", "dataPackage", "=", "specificService", ".", "getDataPackage", "(", "i", ")", ";", "fragment", ".", "processResults", "(", "dataPackage", ",", "serviceType", ")", ";", "}", "lineChart", ".", "animateXY", "(", "<NUM_LIT>", ",", "<NUM_LIT>", ")", ";", "specificService", ".", "setProgressListener", "(", "new", "AbstractProgressiveService", ".", "ProgressListener", "(", ")", "{", "@", "Override", "public", "void", "onUpdate", "(", "final", "DatapointParcelable", "dataPackage", ")", "{", "if", "(", "fragment", ".", "getActivity", "(", ")", "=", "=", "null", ")", "{", "return", ";", "}", "fragment", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "fragment", ".", "processResults", "(", "dataPackage", ",", "serviceType", ")", ")", ";", "}", "@", "Override", "public", "void", "refresh", "(", ")", "{", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpdate", "(", "final", "DatapointParcelable", "dataPackage", ")", "{", "if", "(", "fragment", ".", "getActivity", "(", ")", "=", "=", "null", ")", "{", "return", ";", "}", "fragment", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "fragment", ".", "processResults", "(", "dataPackage", ",", "serviceType", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "refresh", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onServiceDisconnected", "(", "ComponentName", "name", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "View", "onCreateView", "(", "LayoutInflater", "inflater", ",", "@", "Nullable", "ViewGroup", "container", ",", "@", "Nullable", "Bundle", "savedInstanceState", ")", "{", "databaseViewerActivity", "=", "(", "DatabaseViewerActivity", ")", "getActivity", "(", ")", ";", "rootView", "=", "inflater", ".", "inflate", "(", "R", ".", "layout", ".", "fragment_db_viewer", ",", "null", ")", ";", "webView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "webView1", ")", ";", "loadingText", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "loadingText", ")", ";", "relativeLayout", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "tableLayout", ")", ";", "tableName", "=", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "databaseViewerActivity", ".", "setTitle", "(", "tableName", ")", ";", "schemaCursor", "=", "databaseViewerActivity", ".", "sqLiteDatabase", ".", "rawQuery", "(", "\"", "<STR_LIT>", "\"", "+", "tableName", "+", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "contentCursor", "=", "databaseViewerActivity", ".", "sqLiteDatabase", ".", "rawQuery", "(", "\"", "<STR_LIT>", "\"", "+", "tableName", ",", "null", ")", ";", "new", "DbViewerTask", "(", "schemaCursor", ",", "contentCursor", ",", "webView", ",", "this", ")", ".", "execute", "(", ")", ";", "return", "rootView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityCreated", "(", "@", "Nullable", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onActivityCreated", "(", "savedInstanceState", ")", ";", "if", "(", "databaseViewerActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", ")", "{", "relativeLayout", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "holo_dark_background", ")", ")", ";", "webView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "holo_dark_background", ")", ")", ";", "}", "else", "if", "(", "databaseViewerActivity", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "relativeLayout", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "webView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "}", "else", "{", "relativeLayout", ".", "setBackgroundColor", "(", "Color", ".", "parseColor", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "webView", ".", "setBackgroundColor", "(", "Color", ".", "parseColor", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDetach", "(", ")", "{", "super", ".", "onDetach", "(", ")", ";", "schemaCursor", ".", "close", "(", ")", ";", "contentCursor", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setRetainInstance", "(", "true", ")", ";", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "utilsProvider", "=", "getMainActivity", "(", ")", ".", "getUtilsProvider", "(", ")", ";", "sharedPref", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "getActivity", "(", ")", ")", ";", "res", "=", "getResources", "(", ")", ";", "no", "=", "getArguments", "(", ")", ".", "getInt", "(", "\"", "<STR_LIT>", "\"", ",", "1", ")", ";", "home", "=", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "CURRENT_PATH", "=", "getArguments", "(", ")", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "IS_LIST", "=", "dataUtils", ".", "getListOrGridForPath", "(", "CURRENT_PATH", ",", "DataUtils", ".", "LIST", ")", "=", "=", "DataUtils", ".", "LIST", ";", "accentColor", "=", "getMainActivity", "(", ")", ".", "getAccent", "(", ")", ";", "primaryColor", "=", "getMainActivity", "(", ")", ".", "getCurrentColorPreference", "(", ")", ".", "primaryFirstTab", ";", "primaryTwoColor", "=", "getMainActivity", "(", ")", ".", "getCurrentColorPreference", "(", ")", ".", "primarySecondTab", ";", "}", "</s>"]
["<s>", "public", "void", "stopAnimation", "(", ")", "{", "if", "(", "(", "!", "adapter", ".", "stoppedAnimation", ")", ")", "{", "for", "(", "int", "j", "=", "0", ";", "j", "<", "listView", ".", "getChildCount", "(", ")", ";", "j", "+", "+", ")", "{", "View", "v", "=", "listView", ".", "getChildAt", "(", "j", ")", ";", "if", "(", "v", "!", "=", "null", ")", "v", ".", "clearAnimation", "(", ")", ";", "}", "}", "adapter", ".", "stoppedAnimation", "=", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "View", "onCreateView", "(", "LayoutInflater", "inflater", ",", "ViewGroup", "container", ",", "Bundle", "savedInstanceState", ")", "{", "rootView", "=", "inflater", ".", "inflate", "(", "R", ".", "layout", ".", "main_frag", ",", "container", ",", "false", ")", ";", "setRetainInstance", "(", "true", ")", ";", "listView", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "listView", ")", ";", "mToolbarContainer", "=", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getAppbarLayout", "(", ")", ";", "fastScroller", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "fastscroll", ")", ";", "fastScroller", ".", "setPressedHandleColor", "(", "accentColor", ")", ";", "listView", ".", "setOnTouchListener", "(", "(", "view", ",", "motionEvent", ")", "-", ">", "{", "if", "(", "adapter", "!", "=", "null", "&", "&", "stopAnims", ")", "{", "stopAnimation", "(", ")", ";", "stopAnims", "=", "false", ";", "}", "return", "false", ";", "}", ")", ";", "mToolbarContainer", ".", "setOnTouchListener", "(", "(", "view", ",", "motionEvent", ")", "-", ">", "{", "if", "(", "adapter", "!", "=", "null", "&", "&", "stopAnims", ")", "{", "stopAnimation", "(", ")", ";", "stopAnims", "=", "false", ";", "}", "return", "false", ";", "}", ")", ";", "mSwipeRefreshLayout", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "activity_main_swipe_refresh_layout", ")", ";", "mSwipeRefreshLayout", ".", "setOnRefreshListener", "(", "(", ")", "-", ">", "loadlist", "(", "(", "CURRENT_PATH", ")", ",", "false", ",", "openMode", ")", ")", ";", "mToolbarContainer", ".", "setBackgroundColor", "(", "MainActivity", ".", "currentTab", "=", "=", "1", "?", "primaryTwoColor", ":", "primaryColor", ")", ";", "return", "rootView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onActivityCreated", "(", "final", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onActivityCreated", "(", "savedInstanceState", ")", ";", "setHasOptionsMenu", "(", "false", ")", ";", "initNoFileLayout", "(", ")", ";", "getSortModes", "(", ")", ";", "this", ".", "setRetainInstance", "(", "false", ")", ";", "HybridFile", "f", "=", "new", "HybridFile", "(", "OpenMode", ".", "UNKNOWN", ",", "CURRENT_PATH", ")", ";", "f", ".", "generateMode", "(", "getActivity", "(", ")", ")", ";", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "setClickListener", "(", ")", ";", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", "&", "&", "!", "IS_LIST", ")", "{", "listView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "grid_background_light", ")", ")", ";", "}", "else", "{", "listView", ".", "setBackgroundDrawable", "(", "null", ")", ";", "}", "listView", ".", "setHasFixedSize", "(", "true", ")", ";", "columns", "=", "Integer", ".", "parseInt", "(", "sharedPref", ".", "getString", "(", "PREFERENCE_GRID_COLUMNS", ",", "\"", "<STR_LIT:-1>", "\"", ")", ")", ";", "if", "(", "IS_LIST", ")", "{", "mLayoutManager", "=", "new", "LinearLayoutManager", "(", "getContext", "(", ")", ")", ";", "listView", ".", "setLayoutManager", "(", "mLayoutManager", ")", ";", "}", "else", "{", "if", "(", "columns", "=", "=", "-", "1", "|", "|", "columns", "=", "=", "0", ")", "mLayoutManagerGrid", "=", "new", "GridLayoutManager", "(", "getActivity", "(", ")", ",", "<NUM_LIT:3>", ")", ";", "else", "mLayoutManagerGrid", "=", "new", "GridLayoutManager", "(", "getActivity", "(", ")", ",", "columns", ")", ";", "setGridLayoutSpanSizeLookup", "(", "mLayoutManagerGrid", ")", ";", "listView", ".", "setLayoutManager", "(", "mLayoutManagerGrid", ")", ";", "}", "dividerItemDecoration", "=", "new", "DividerItemDecoration", "(", "getActivity", "(", ")", ",", "false", ",", "getBoolean", "(", "PREFERENCE_SHOW_DIVIDERS", ")", ")", ";", "listView", ".", "addItemDecoration", "(", "dividerItemDecoration", ")", ";", "mSwipeRefreshLayout", ".", "setColorSchemeColors", "(", "accentColor", ")", ";", "DefaultItemAnimator", "animator", "=", "new", "DefaultItemAnimator", "(", ")", ";", "listView", ".", "setItemAnimator", "(", "animator", ")", ";", "mToolbarContainer", ".", "getViewTreeObserver", "(", ")", ".", "addOnGlobalLayoutListener", "(", "new", "ViewTreeObserver", ".", "OnGlobalLayoutListener", "(", ")", "{", "@", "Override", "public", "void", "onGlobalLayout", "(", ")", "{", "if", "(", "(", "columns", "=", "=", "0", "|", "|", "columns", "=", "=", "-", "1", ")", ")", "{", "int", "screen_width", "=", "listView", ".", "getWidth", "(", ")", ";", "int", "dptopx", "=", "Utils", ".", "dpToPx", "(", "getContext", "(", ")", ",", "<NUM_LIT>", ")", ";", "columns", "=", "screen_width", "/", "dptopx", ";", "if", "(", "columns", "=", "=", "0", "|", "|", "columns", "=", "=", "-", "1", ")", "columns", "=", "<NUM_LIT:3>", ";", "if", "(", "!", "IS_LIST", ")", "mLayoutManagerGrid", ".", "setSpanCount", "(", "columns", ")", ";", "}", "if", "(", "savedInstanceState", "!", "=", "null", "&", "&", "!", "IS_LIST", ")", "onSavedInstanceState", "(", "savedInstanceState", ")", ";", "if", "(", "android", ".", "os", ".", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "android", ".", "os", ".", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN", ")", "{", "mToolbarContainer", ".", "getViewTreeObserver", "(", ")", ".", "removeOnGlobalLayoutListener", "(", "this", ")", ";", "}", "else", "{", "mToolbarContainer", ".", "getViewTreeObserver", "(", ")", ".", "removeGlobalOnLayoutListener", "(", "this", ")", ";", "}", "}", "}", ")", ";", "if", "(", "savedInstanceState", "=", "=", "null", ")", "{", "loadlist", "(", "CURRENT_PATH", ",", "false", ",", "openMode", ")", ";", "}", "else", "{", "if", "(", "IS_LIST", ")", "onSavedInstanceState", "(", "savedInstanceState", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onGlobalLayout", "(", ")", "{", "if", "(", "(", "columns", "=", "=", "0", "|", "|", "columns", "=", "=", "-", "1", ")", ")", "{", "int", "screen_width", "=", "listView", ".", "getWidth", "(", ")", ";", "int", "dptopx", "=", "Utils", ".", "dpToPx", "(", "getContext", "(", ")", ",", "<NUM_LIT>", ")", ";", "columns", "=", "screen_width", "/", "dptopx", ";", "if", "(", "columns", "=", "=", "0", "|", "|", "columns", "=", "=", "-", "1", ")", "columns", "=", "<NUM_LIT:3>", ";", "if", "(", "!", "IS_LIST", ")", "mLayoutManagerGrid", ".", "setSpanCount", "(", "columns", ")", ";", "}", "if", "(", "savedInstanceState", "!", "=", "null", "&", "&", "!", "IS_LIST", ")", "onSavedInstanceState", "(", "savedInstanceState", ")", ";", "if", "(", "android", ".", "os", ".", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "android", ".", "os", ".", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN", ")", "{", "mToolbarContainer", ".", "getViewTreeObserver", "(", ")", ".", "removeOnGlobalLayoutListener", "(", "this", ")", ";", "}", "else", "{", "mToolbarContainer", ".", "getViewTreeObserver", "(", ")", ".", "removeGlobalOnLayoutListener", "(", "this", ")", ";", "}", "}", "</s>"]
["<s>", "void", "setGridLayoutSpanSizeLookup", "(", "GridLayoutManager", "mLayoutManagerGrid", ")", "{", "mLayoutManagerGrid", ".", "setSpanSizeLookup", "(", "new", "GridLayoutManager", ".", "SpanSizeLookup", "(", ")", "{", "@", "Override", "public", "int", "getSpanSize", "(", "int", "position", ")", "{", "switch", "(", "adapter", ".", "getItemViewType", "(", "position", ")", ")", "{", "case", "RecyclerAdapter", ".", "TYPE_HEADER_FILES", ":", "case", "RecyclerAdapter", ".", "TYPE_HEADER_FOLDERS", ":", "return", "columns", ";", "default", ":", "return", "1", ";", "}", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSpanSize", "(", "int", "position", ")", "{", "switch", "(", "adapter", ".", "getItemViewType", "(", "position", ")", ")", "{", "case", "RecyclerAdapter", ".", "TYPE_HEADER_FILES", ":", "case", "RecyclerAdapter", ".", "TYPE_HEADER_FOLDERS", ":", "return", "columns", ";", "default", ":", "return", "1", ";", "}", "}", "</s>"]
["<s>", "void", "switchToGrid", "(", ")", "{", "IS_LIST", "=", "false", ";", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "listView", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "grid_background_light", ")", ")", ";", "}", "if", "(", "mLayoutManagerGrid", "=", "=", "null", ")", "if", "(", "columns", "=", "=", "-", "1", "|", "|", "columns", "=", "=", "0", ")", "mLayoutManagerGrid", "=", "new", "GridLayoutManager", "(", "getActivity", "(", ")", ",", "<NUM_LIT:3>", ")", ";", "else", "mLayoutManagerGrid", "=", "new", "GridLayoutManager", "(", "getActivity", "(", ")", ",", "columns", ")", ";", "setGridLayoutSpanSizeLookup", "(", "mLayoutManagerGrid", ")", ";", "listView", ".", "setLayoutManager", "(", "mLayoutManagerGrid", ")", ";", "listView", ".", "clearOnScrollListeners", "(", ")", ";", "adapter", "=", "null", ";", "}", "</s>"]
["<s>", "void", "switchToList", "(", ")", "{", "IS_LIST", "=", "true", ";", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "listView", ".", "setBackgroundDrawable", "(", "null", ")", ";", "}", "if", "(", "mLayoutManager", "=", "=", "null", ")", "mLayoutManager", "=", "new", "LinearLayoutManager", "(", "getActivity", "(", ")", ")", ";", "listView", ".", "setLayoutManager", "(", "mLayoutManager", ")", ";", "listView", ".", "clearOnScrollListeners", "(", ")", ";", "adapter", "=", "null", ";", "}", "</s>"]
["<s>", "public", "void", "switchView", "(", ")", "{", "boolean", "isPathLayoutGrid", "=", "dataUtils", ".", "getListOrGridForPath", "(", "CURRENT_PATH", ",", "DataUtils", ".", "LIST", ")", "=", "=", "DataUtils", ".", "GRID", ";", "reloadListElements", "(", "false", ",", "results", ",", "isPathLayoutGrid", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onSaveInstanceState", "(", "Bundle", "outState", ")", "{", "super", ".", "onSaveInstanceState", "(", "outState", ")", ";", "int", "index", ";", "View", "vi", ";", "if", "(", "listView", "!", "=", "null", ")", "{", "if", "(", "IS_LIST", ")", "{", "index", "=", "(", "mLayoutManager", ")", ".", "findFirstVisibleItemPosition", "(", ")", ";", "vi", "=", "listView", ".", "getChildAt", "(", "0", ")", ";", "}", "else", "{", "index", "=", "(", "mLayoutManagerGrid", ")", ".", "findFirstVisibleItemPosition", "(", ")", ";", "vi", "=", "listView", ".", "getChildAt", "(", "0", ")", ";", "}", "int", "top", "=", "(", "vi", "=", "=", "null", ")", "?", "0", ":", "vi", ".", "getTop", "(", ")", ";", "outState", ".", "putInt", "(", "\"", "<STR_LIT>", "\"", ",", "index", ")", ";", "outState", ".", "putInt", "(", "\"", "<STR_LIT>", "\"", ",", "top", ")", ";", "outState", ".", "putParcelableArrayList", "(", "\"", "<STR_LIT>", "\"", ",", "LIST_ELEMENTS", ")", ";", "outState", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "CURRENT_PATH", ")", ";", "outState", ".", "putBoolean", "(", "\"", "<STR_LIT>", "\"", ",", "selection", ")", ";", "outState", ".", "putInt", "(", "\"", "<STR_LIT>", "\"", ",", "openMode", ".", "ordinal", "(", ")", ")", ";", "outState", ".", "putInt", "(", "\"", "<STR_LIT>", "\"", ",", "folder_count", ")", ";", "outState", ".", "putInt", "(", "\"", "<STR_LIT>", "\"", ",", "file_count", ")", ";", "if", "(", "selection", ")", "{", "outState", ".", "putIntegerArrayList", "(", "\"", "<STR_LIT>", "\"", ",", "adapter", ".", "getCheckedItemsIndex", "(", ")", ")", ";", "}", "outState", ".", "putBoolean", "(", "\"", "<STR_LIT>", "\"", ",", "results", ")", ";", "if", "(", "openMode", "=", "=", "OpenMode", ".", "SMB", ")", "{", "outState", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "smbPath", ")", ";", "}", "}", "}", "</s>"]
["<s>", "void", "onSavedInstanceState", "(", "final", "Bundle", "savedInstanceState", ")", "{", "Bundle", "b", "=", "new", "Bundle", "(", ")", ";", "String", "cur", "=", "savedInstanceState", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "cur", "!", "=", "null", ")", "{", "b", ".", "putInt", "(", "\"", "<STR_LIT>", "\"", ",", "savedInstanceState", ".", "getInt", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "b", ".", "putInt", "(", "\"", "<STR_LIT>", "\"", ",", "savedInstanceState", ".", "getInt", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "scrolls", ".", "put", "(", "cur", ",", "b", ")", ";", "openMode", "=", "OpenMode", ".", "getOpenMode", "(", "savedInstanceState", ".", "getInt", "(", "\"", "<STR_LIT>", "\"", ",", "0", ")", ")", ";", "if", "(", "openMode", "=", "=", "OpenMode", ".", "SMB", ")", "smbPath", "=", "savedInstanceState", ".", "getString", "(", "\"", "<STR_LIT>", "\"", ")", ";", "LIST_ELEMENTS", "=", "savedInstanceState", ".", "getParcelableArrayList", "(", "\"", "<STR_LIT>", "\"", ")", ";", "CURRENT_PATH", "=", "cur", ";", "folder_count", "=", "savedInstanceState", ".", "getInt", "(", "\"", "<STR_LIT>", "\"", ",", "0", ")", ";", "file_count", "=", "savedInstanceState", ".", "getInt", "(", "\"", "<STR_LIT>", "\"", ",", "0", ")", ";", "results", "=", "savedInstanceState", ".", "getBoolean", "(", "\"", "<STR_LIT>", "\"", ")", ";", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "updatePath", "(", "CURRENT_PATH", ",", "results", ",", "MainActivityHelper", ".", "SEARCH_TEXT", ",", "openMode", ",", "folder_count", ",", "file_count", ",", "this", ")", ";", "reloadListElements", "(", "true", ",", "results", ",", "!", "IS_LIST", ")", ";", "if", "(", "savedInstanceState", ".", "getBoolean", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "for", "(", "Integer", "index", ":", "savedInstanceState", ".", "getIntegerArrayList", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "adapter", ".", "toggleChecked", "(", "index", ",", "null", ")", ";", "}", "}", "}", "}", "</s>"]
["<s>", "private", "void", "hideOption", "(", "int", "id", ",", "Menu", "menu", ")", "{", "MenuItem", "item", "=", "menu", ".", "findItem", "(", "id", ")", ";", "item", ".", "setVisible", "(", "false", ")", ";", "}", "</s>"]
["<s>", "private", "void", "showOption", "(", "int", "id", ",", "Menu", "menu", ")", "{", "MenuItem", "item", "=", "menu", ".", "findItem", "(", "id", ")", ";", "item", ".", "setVisible", "(", "true", ")", ";", "}", "</s>"]
["<s>", "void", "initMenu", "(", "Menu", "menu", ")", "{", "}", "</s>"]
["<s>", "public", "boolean", "onCreateActionMode", "(", "ActionMode", "mode", ",", "Menu", "menu", ")", "{", "MenuInflater", "inflater", "=", "mode", ".", "getMenuInflater", "(", ")", ";", "actionModeView", "=", "getActivity", "(", ")", ".", "getLayoutInflater", "(", ")", ".", "inflate", "(", "R", ".", "layout", ".", "actionmode", ",", "null", ")", ";", "mode", ".", "setCustomView", "(", "actionModeView", ")", ";", "getMainActivity", "(", ")", ".", "setPagingEnabled", "(", "false", ")", ";", "getMainActivity", "(", ")", ".", "floatingActionButton", ".", "getMenuButton", "(", ")", ".", "hide", "(", ")", ";", "inflater", ".", "inflate", "(", "R", ".", "menu", ".", "contextual", ",", "menu", ")", ";", "initMenu", "(", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "addshortcut", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "share", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "openwith", ",", "menu", ")", ";", "if", "(", "getMainActivity", "(", ")", ".", "mReturnIntent", ")", "showOption", "(", "R", ".", "id", ".", "openmulti", ",", "menu", ")", ";", "mode", ".", "setTitle", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "select", ")", ")", ";", "getMainActivity", "(", ")", ".", "updateViews", "(", "new", "ColorDrawable", "(", "res", ".", "getColor", "(", "R", ".", "color", ".", "holo_dark_action_mode", ")", ")", ")", ";", "if", "(", "!", "getMainActivity", "(", ")", ".", "getDrawer", "(", ")", ".", "isLocked", "(", ")", ")", "{", "getMainActivity", "(", ")", ".", "getDrawer", "(", ")", ".", "lock", "(", "DrawerLayout", ".", "LOCK_MODE_LOCKED_CLOSED", ")", ";", "}", "return", "true", ";", "}", "</s>"]
["<s>", "public", "boolean", "onPrepareActionMode", "(", "ActionMode", "mode", ",", "Menu", "menu", ")", "{", "ArrayList", "<", "LayoutElementParcelable", ">", "positions", "=", "adapter", ".", "getCheckedItems", "(", ")", ";", "TextView", "textView1", "=", "actionModeView", ".", "findViewById", "(", "R", ".", "id", ".", "item_count", ")", ";", "textView1", ".", "setText", "(", "String", ".", "valueOf", "(", "positions", ".", "size", "(", ")", ")", ")", ";", "textView1", ".", "setOnClickListener", "(", "null", ")", ";", "mode", ".", "setTitle", "(", "positions", ".", "size", "(", ")", "+", "\"", "\"", ")", ";", "hideOption", "(", "R", ".", "id", ".", "openmulti", ",", "menu", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "all", ")", ".", "setTitle", "(", "positions", ".", "size", "(", ")", "=", "=", "folder_count", "+", "file_count", "?", "R", ".", "string", ".", "deselect_all", ":", "R", ".", "string", ".", "selectall", ")", ";", "if", "(", "openMode", "!", "=", "OpenMode", ".", "FILE", ")", "{", "hideOption", "(", "R", ".", "id", ".", "addshortcut", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "compress", ",", "menu", ")", ";", "return", "true", ";", "}", "if", "(", "getMainActivity", "(", ")", ".", "mReturnIntent", ")", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT:16>", ")", "showOption", "(", "R", ".", "id", ".", "openmulti", ",", "menu", ")", ";", "if", "(", "!", "results", ")", "{", "hideOption", "(", "R", ".", "id", ".", "openparent", ",", "menu", ")", ";", "if", "(", "positions", ".", "size", "(", ")", "=", "=", "1", ")", "{", "showOption", "(", "R", ".", "id", ".", "addshortcut", ",", "menu", ")", ";", "showOption", "(", "R", ".", "id", ".", "openwith", ",", "menu", ")", ";", "showOption", "(", "R", ".", "id", ".", "share", ",", "menu", ")", ";", "File", "x", "=", "new", "File", "(", "adapter", ".", "getCheckedItems", "(", ")", ".", "get", "(", "0", ")", ".", "desc", ")", ";", "if", "(", "x", ".", "isDirectory", "(", ")", ")", "{", "hideOption", "(", "R", ".", "id", ".", "openwith", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "share", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "openmulti", ",", "menu", ")", ";", "}", "if", "(", "getMainActivity", "(", ")", ".", "mReturnIntent", ")", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT:16>", ")", "showOption", "(", "R", ".", "id", ".", "openmulti", ",", "menu", ")", ";", "}", "else", "{", "try", "{", "showOption", "(", "R", ".", "id", ".", "share", ",", "menu", ")", ";", "if", "(", "getMainActivity", "(", ")", ".", "mReturnIntent", ")", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT:16>", ")", "showOption", "(", "R", ".", "id", ".", "openmulti", ",", "menu", ")", ";", "for", "(", "LayoutElementParcelable", "e", ":", "adapter", ".", "getCheckedItems", "(", ")", ")", "{", "File", "x", "=", "new", "File", "(", "e", ".", "desc", ")", ";", "if", "(", "x", ".", "isDirectory", "(", ")", ")", "{", "hideOption", "(", "R", ".", "id", ".", "share", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "openmulti", ",", "menu", ")", ";", "}", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "hideOption", "(", "R", ".", "id", ".", "openwith", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "addshortcut", ",", "menu", ")", ";", "}", "}", "else", "{", "if", "(", "positions", ".", "size", "(", ")", "=", "=", "1", ")", "{", "showOption", "(", "R", ".", "id", ".", "addshortcut", ",", "menu", ")", ";", "showOption", "(", "R", ".", "id", ".", "openparent", ",", "menu", ")", ";", "showOption", "(", "R", ".", "id", ".", "openwith", ",", "menu", ")", ";", "showOption", "(", "R", ".", "id", ".", "share", ",", "menu", ")", ";", "File", "x", "=", "new", "File", "(", "adapter", ".", "getCheckedItems", "(", ")", ".", "get", "(", "0", ")", ".", "desc", ")", ";", "if", "(", "x", ".", "isDirectory", "(", ")", ")", "{", "hideOption", "(", "R", ".", "id", ".", "openwith", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "share", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "openmulti", ",", "menu", ")", ";", "}", "if", "(", "getMainActivity", "(", ")", ".", "mReturnIntent", ")", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT:16>", ")", "showOption", "(", "R", ".", "id", ".", "openmulti", ",", "menu", ")", ";", "}", "else", "{", "hideOption", "(", "R", ".", "id", ".", "openparent", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "addshortcut", ",", "menu", ")", ";", "if", "(", "getMainActivity", "(", ")", ".", "mReturnIntent", ")", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT:16>", ")", "showOption", "(", "R", ".", "id", ".", "openmulti", ",", "menu", ")", ";", "try", "{", "for", "(", "LayoutElementParcelable", "e", ":", "adapter", ".", "getCheckedItems", "(", ")", ")", "{", "File", "x", "=", "new", "File", "(", "e", ".", "desc", ")", ";", "if", "(", "x", ".", "isDirectory", "(", ")", ")", "{", "hideOption", "(", "R", ".", "id", ".", "share", ",", "menu", ")", ";", "hideOption", "(", "R", ".", "id", ".", "openmulti", ",", "menu", ")", ";", "}", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "hideOption", "(", "R", ".", "id", ".", "openwith", ",", "menu", ")", ";", "}", "}", "return", "true", ";", "}", "</s>"]
["<s>", "public", "boolean", "onActionItemClicked", "(", "ActionMode", "mode", ",", "MenuItem", "item", ")", "{", "computeScroll", "(", ")", ";", "ArrayList", "<", "LayoutElementParcelable", ">", "checkedItems", "=", "adapter", ".", "getCheckedItems", "(", ")", ";", "switch", "(", "item", ".", "getItemId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "openmulti", ":", "try", "{", "Intent", "intent_result", "=", "new", "Intent", "(", "Intent", ".", "ACTION_SEND_MULTIPLE", ")", ";", "ArrayList", "<", "Uri", ">", "resulturis", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "LayoutElementParcelable", "element", ":", "checkedItems", ")", "{", "HybridFileParcelable", "baseFile", "=", "element", ".", "generateBaseFile", "(", ")", ";", "Uri", "resultUri", "=", "Utils", ".", "getUriForBaseFile", "(", "getActivity", "(", ")", ",", "baseFile", ")", ";", "if", "(", "resultUri", "!", "=", "null", ")", "{", "resulturis", ".", "add", "(", "resultUri", ")", ";", "}", "}", "intent_result", ".", "setFlags", "(", "Intent", ".", "FLAG_GRANT_READ_URI_PERMISSION", ")", ";", "getActivity", "(", ")", ".", "setResult", "(", "FragmentActivity", ".", "RESULT_OK", ",", "intent_result", ")", ";", "intent_result", ".", "putParcelableArrayListExtra", "(", "Intent", ".", "EXTRA_STREAM", ",", "resulturis", ")", ";", "getActivity", "(", ")", ".", "finish", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "true", ";", "case", "R", ".", "id", ".", "about", ":", "LayoutElementParcelable", "x", "=", "checkedItems", ".", "get", "(", "0", ")", ";", "GeneralDialogCreation", ".", "showPropertiesDialogWithPermissions", "(", "(", "x", ")", ".", "generateBaseFile", "(", ")", ",", "x", ".", "permissions", ",", "(", "ThemedActivity", ")", "getActivity", "(", ")", ",", "getMainActivity", "(", ")", ".", "isRootExplorer", "(", ")", ",", "utilsProvider", ".", "getAppTheme", "(", ")", ")", ";", "mode", ".", "finish", "(", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "delete", ":", "GeneralDialogCreation", ".", "deleteFilesDialog", "(", "getContext", "(", ")", ",", "LIST_ELEMENTS", ",", "getMainActivity", "(", ")", ",", "checkedItems", ",", "utilsProvider", ".", "getAppTheme", "(", ")", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "share", ":", "ArrayList", "<", "File", ">", "arrayList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "LayoutElementParcelable", "e", ":", "checkedItems", ")", "{", "arrayList", ".", "add", "(", "new", "File", "(", "e", ".", "desc", ")", ")", ";", "}", "if", "(", "arrayList", ".", "size", "(", ")", ">", "<NUM_LIT:100>", ")", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "share_limit", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "else", "{", "switch", "(", "LIST_ELEMENTS", ".", "get", "(", "0", ")", ".", "getMode", "(", ")", ")", "{", "case", "DROPBOX", ":", "case", "BOX", ":", "case", "GDRIVE", ":", "case", "ONEDRIVE", ":", "FileUtils", ".", "shareCloudFile", "(", "LIST_ELEMENTS", ".", "get", "(", "0", ")", ".", "desc", ",", "LIST_ELEMENTS", ".", "get", "(", "0", ")", ".", "getMode", "(", ")", ",", "getContext", "(", ")", ")", ";", "break", ";", "default", ":", "FileUtils", ".", "shareFiles", "(", "arrayList", ",", "getActivity", "(", ")", ",", "utilsProvider", ".", "getAppTheme", "(", ")", ",", "accentColor", ")", ";", "break", ";", "}", "}", "return", "true", ";", "case", "R", ".", "id", ".", "openparent", ":", "loadlist", "(", "new", "File", "(", "checkedItems", ".", "get", "(", "0", ")", ".", "desc", ")", ".", "getParent", "(", ")", ",", "false", ",", "OpenMode", ".", "FILE", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "all", ":", "if", "(", "adapter", ".", "areAllChecked", "(", "CURRENT_PATH", ")", ")", "{", "adapter", ".", "toggleChecked", "(", "false", ",", "CURRENT_PATH", ")", ";", "item", ".", "setTitle", "(", "R", ".", "string", ".", "selectall", ")", ";", "}", "else", "{", "adapter", ".", "toggleChecked", "(", "true", ",", "CURRENT_PATH", ")", ";", "item", ".", "setTitle", "(", "R", ".", "string", ".", "deselect_all", ")", ";", "}", "mode", ".", "invalidate", "(", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "rename", ":", "final", "ActionMode", "m", "=", "mode", ";", "final", "HybridFileParcelable", "f", ";", "f", "=", "checkedItems", ".", "get", "(", "0", ")", ".", "generateBaseFile", "(", ")", ";", "rename", "(", "f", ")", ";", "mode", ".", "finish", "(", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "hide", ":", "for", "(", "int", "i1", "=", "0", ";", "i1", "<", "checkedItems", ".", "size", "(", ")", ";", "i1", "+", "+", ")", "{", "hide", "(", "checkedItems", ".", "get", "(", "i1", ")", ".", "desc", ")", ";", "}", "updateList", "(", ")", ";", "mode", ".", "finish", "(", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "ex", ":", "getMainActivity", "(", ")", ".", "mainActivityHelper", ".", "extractFile", "(", "new", "File", "(", "checkedItems", ".", "get", "(", "0", ")", ".", "desc", ")", ")", ";", "mode", ".", "finish", "(", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "cpy", ":", "case", "R", ".", "id", ".", "cut", ":", "{", "HybridFileParcelable", "[", "]", "copies", "=", "new", "HybridFileParcelable", "[", "checkedItems", ".", "size", "(", ")", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "checkedItems", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "copies", "[", "i", "]", "=", "checkedItems", ".", "get", "(", "i", ")", ".", "generateBaseFile", "(", ")", ";", "}", "int", "op", "=", "item", ".", "getItemId", "(", ")", "=", "=", "R", ".", "id", ".", "cpy", "?", "PasteHelper", ".", "OPERATION_COPY", ":", "PasteHelper", ".", "OPERATION_CUT", ";", "PasteHelper", "pasteHelper", "=", "new", "PasteHelper", "(", "op", ",", "copies", ")", ";", "getMainActivity", "(", ")", ".", "setPaste", "(", "pasteHelper", ")", ";", "mode", ".", "finish", "(", ")", ";", "return", "true", ";", "}", "case", "R", ".", "id", ".", "compress", ":", "ArrayList", "<", "HybridFileParcelable", ">", "copies1", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i4", "=", "0", ";", "i4", "<", "checkedItems", ".", "size", "(", ")", ";", "i4", "+", "+", ")", "{", "copies1", ".", "add", "(", "checkedItems", ".", "get", "(", "i4", ")", ".", "generateBaseFile", "(", ")", ")", ";", "}", "GeneralDialogCreation", ".", "showCompressDialog", "(", "(", "MainActivity", ")", "getActivity", "(", ")", ",", "copies1", ",", "CURRENT_PATH", ")", ";", "mode", ".", "finish", "(", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "openwith", ":", "boolean", "useNewStack", "=", "sharedPref", ".", "getBoolean", "(", "PREFERENCE_TEXTEDITOR_NEWSTACK", ",", "false", ")", ";", "FileUtils", ".", "openunknown", "(", "new", "File", "(", "checkedItems", ".", "get", "(", "0", ")", ".", "desc", ")", ",", "getActivity", "(", ")", ",", "true", ",", "useNewStack", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "addshortcut", ":", "addShortcut", "(", "checkedItems", ".", "get", "(", "0", ")", ")", ";", "mode", ".", "finish", "(", ")", ";", "return", "true", ";", "default", ":", "return", "false", ";", "}", "}", "</s>"]
["<s>", "public", "void", "onDestroyActionMode", "(", "ActionMode", "mode", ")", "{", "mActionMode", "=", "null", ";", "selection", "=", "false", ";", "getMainActivity", "(", ")", ".", "floatingActionButton", ".", "getMenuButton", "(", ")", ".", "show", "(", ")", ";", "if", "(", "!", "results", ")", "adapter", ".", "toggleChecked", "(", "false", ",", "CURRENT_PATH", ")", ";", "else", "adapter", ".", "toggleChecked", "(", "false", ")", ";", "getMainActivity", "(", ")", ".", "setPagingEnabled", "(", "true", ")", ";", "getMainActivity", "(", ")", ".", "updateViews", "(", "new", "ColorDrawable", "(", "MainActivity", ".", "currentTab", "=", "=", "1", "?", "primaryTwoColor", ":", "primaryColor", ")", ")", ";", "if", "(", "getMainActivity", "(", ")", ".", "getDrawer", "(", ")", ".", "isLocked", "(", ")", ")", "{", "getMainActivity", "(", ")", ".", "getDrawer", "(", ")", ".", "unlock", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "switch", "(", "openMode", ")", "{", "case", "ROOT", ":", "case", "FILE", ":", "String", "[", "]", "path", "=", "new", "String", "[", "1", "]", ";", "String", "arg", "=", "intent", ".", "getStringExtra", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST_FILE", ")", ";", "if", "(", "arg", "!", "=", "null", "&", "&", "getMainActivity", "(", ")", ".", "getCurrentMainFragment", "(", ")", "=", "=", "MainFragment", ".", "this", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "path", "[", "0", "]", "=", "arg", ";", "MediaScannerConnection", ".", "MediaScannerConnectionClient", "mediaScannerConnectionClient", "=", "new", "MediaScannerConnection", ".", "MediaScannerConnectionClient", "(", ")", "{", "@", "Override", "public", "void", "onMediaScannerConnected", "(", ")", "{", "}", "@", "Override", "public", "void", "onScanCompleted", "(", "String", "path", ",", "Uri", "uri", ")", "{", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "path", ")", ";", "}", "}", ";", "if", "(", "mediaScannerConnection", "!", "=", "null", ")", "{", "mediaScannerConnection", ".", "disconnect", "(", ")", ";", "}", "mediaScannerConnection", "=", "new", "MediaScannerConnection", "(", "context", ",", "mediaScannerConnectionClient", ")", ";", "}", "else", "{", "FileUtils", ".", "scanFile", "(", "new", "File", "(", "arg", ")", ",", "context", ")", ";", "}", "}", "default", ":", "updateList", "(", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onMediaScannerConnected", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onScanCompleted", "(", "String", "path", ",", "Uri", "uri", ")", "{", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "path", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "if", "(", "isEncryptOpen", "&", "&", "encryptBaseFile", "!", "=", "null", ")", "{", "FileUtils", ".", "openFile", "(", "new", "File", "(", "encryptBaseFile", ".", "getPath", "(", ")", ")", ",", "getMainActivity", "(", ")", ",", "sharedPref", ")", ";", "isEncryptOpen", "=", "false", ";", "}", "}", "</s>"]
["<s>", "public", "void", "home", "(", ")", "{", "ma", ".", "loadlist", "(", "(", "ma", ".", "home", ")", ",", "false", ",", "OpenMode", ".", "FILE", ")", ";", "}", "</s>"]
["<s>", "public", "void", "onListItemClicked", "(", "boolean", "isBackButton", ",", "int", "position", ",", "LayoutElementParcelable", "e", ",", "ImageView", "imageView", ")", "{", "if", "(", "results", ")", "{", "FragmentManager", "fragmentManager", "=", "getActivity", "(", ")", ".", "getSupportFragmentManager", "(", ")", ";", "SearchWorkerFragment", "fragment", "=", "(", "SearchWorkerFragment", ")", "fragmentManager", ".", "findFragmentByTag", "(", "MainActivity", ".", "TAG_ASYNC_HELPER", ")", ";", "if", "(", "fragment", "!", "=", "null", ")", "{", "if", "(", "fragment", ".", "mSearchAsyncTask", ".", "getStatus", "(", ")", "=", "=", "AsyncTask", ".", "Status", ".", "RUNNING", ")", "{", "fragment", ".", "mSearchAsyncTask", ".", "cancel", "(", "true", ")", ";", "}", "getActivity", "(", ")", ".", "getSupportFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ".", "remove", "(", "fragment", ")", ".", "commit", "(", ")", ";", "}", "mRetainSearchTask", "=", "true", ";", "results", "=", "false", ";", "}", "else", "{", "mRetainSearchTask", "=", "false", ";", "MainActivityHelper", ".", "SEARCH_TEXT", "=", "null", ";", "}", "if", "(", "selection", ")", "{", "if", "(", "isBackButton", ")", "{", "selection", "=", "false", ";", "if", "(", "mActionMode", "!", "=", "null", ")", "mActionMode", ".", "finish", "(", ")", ";", "mActionMode", "=", "null", ";", "}", "else", "{", "adapter", ".", "toggleChecked", "(", "position", ",", "imageView", ")", ";", "}", "}", "else", "{", "if", "(", "isBackButton", ")", "{", "goBackItemClick", "(", ")", ";", "}", "else", "{", "if", "(", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getSearchView", "(", ")", ".", "isEnabled", "(", ")", ")", "{", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getSearchView", "(", ")", ".", "hideSearchView", "(", ")", ";", "}", "String", "path", "=", "!", "e", ".", "hasSymlink", "(", ")", "?", "e", ".", "desc", ":", "e", ".", "symlink", ";", "if", "(", "e", ".", "isDirectory", ")", "{", "computeScroll", "(", ")", ";", "loadlist", "(", "path", ",", "false", ",", "openMode", ")", ";", "}", "else", "if", "(", "e", ".", "desc", ".", "endsWith", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ")", ")", "{", "isEncryptOpen", "=", "true", ";", "encryptBaseFile", "=", "new", "HybridFileParcelable", "(", "getActivity", "(", ")", ".", "getExternalCacheDir", "(", ")", ".", "getPath", "(", ")", "+", "\"", "<STR_LIT:/>", "\"", "+", "e", ".", "generateBaseFile", "(", ")", ".", "getName", "(", ")", ".", "replace", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ",", "\"", "\"", ")", ")", ";", "encryptBaseFiles", ".", "add", "(", "encryptBaseFile", ")", ";", "EncryptDecryptUtils", ".", "decryptFile", "(", "getContext", "(", ")", ",", "getMainActivity", "(", ")", ",", "ma", ",", "openMode", ",", "e", ".", "generateBaseFile", "(", ")", ",", "getActivity", "(", ")", ".", "getExternalCacheDir", "(", ")", ".", "getPath", "(", ")", ",", "utilsProvider", ",", "true", ")", ";", "}", "else", "{", "if", "(", "getMainActivity", "(", ")", ".", "mReturnIntent", ")", "{", "returnIntentResults", "(", "e", ".", "generateBaseFile", "(", ")", ")", ";", "}", "else", "{", "switch", "(", "e", ".", "getMode", "(", ")", ")", "{", "case", "SMB", ":", "launchSMB", "(", "e", ".", "generateBaseFile", "(", ")", ",", "getMainActivity", "(", ")", ")", ";", "break", ";", "case", "SFTP", ":", "Toast", ".", "makeText", "(", "getContext", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "please_wait", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "SshClientUtils", ".", "launchSftp", "(", "e", ".", "generateBaseFile", "(", ")", ",", "getMainActivity", "(", ")", ")", ";", "break", ";", "case", "OTG", ":", "FileUtils", ".", "openFile", "(", "OTGUtil", ".", "getDocumentFile", "(", "e", ".", "desc", ",", "getContext", "(", ")", ",", "false", ")", ",", "(", "MainActivity", ")", "getActivity", "(", ")", ",", "sharedPref", ")", ";", "break", ";", "case", "DROPBOX", ":", "case", "BOX", ":", "case", "GDRIVE", ":", "case", "ONEDRIVE", ":", "Toast", ".", "makeText", "(", "getContext", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "please_wait", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "CloudUtil", ".", "launchCloud", "(", "e", ".", "generateBaseFile", "(", ")", ",", "openMode", ",", "getMainActivity", "(", ")", ")", ";", "break", ";", "default", ":", "FileUtils", ".", "openFile", "(", "new", "File", "(", "e", ".", "desc", ")", ",", "(", "MainActivity", ")", "getActivity", "(", ")", ",", "sharedPref", ")", ";", "break", ";", "}", "dataUtils", ".", "addHistoryFile", "(", "e", ".", "desc", ")", ";", "}", "}", "}", "}", "}", "</s>"]
["<s>", "private", "static", "EncryptedEntry", "findEncryptedEntry", "(", "Context", "context", ",", "String", "path", ")", "throws", "Exception", "{", "CryptHandler", "handler", "=", "new", "CryptHandler", "(", "context", ")", ";", "EncryptedEntry", "matchedEntry", "=", "null", ";", "for", "(", "EncryptedEntry", "encryptedEntry", ":", "handler", ".", "getAllEntries", "(", ")", ")", "{", "if", "(", "path", ".", "contains", "(", "encryptedEntry", ".", "getPath", "(", ")", ")", ")", "{", "if", "(", "matchedEntry", "=", "=", "null", "|", "|", "matchedEntry", ".", "getPath", "(", ")", ".", "length", "(", ")", "<", "encryptedEntry", ".", "getPath", "(", ")", ".", "length", "(", ")", ")", "{", "matchedEntry", "=", "encryptedEntry", ";", "}", "}", "}", "return", "matchedEntry", ";", "}", "</s>"]
["<s>", "public", "void", "updateTabWithDb", "(", "Tab", "tab", ")", "{", "CURRENT_PATH", "=", "tab", ".", "path", ";", "home", "=", "tab", ".", "home", ";", "loadlist", "(", "CURRENT_PATH", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "}", "</s>"]
["<s>", "public", "void", "returnIntentResults", "(", "HybridFileParcelable", "baseFile", ")", "{", "getMainActivity", "(", ")", ".", "mReturnIntent", "=", "false", ";", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "if", "(", "getMainActivity", "(", ")", ".", "mRingtonePickerIntent", ")", "{", "Uri", "mediaStoreUri", "=", "MediaStoreHack", ".", "getUriFromFile", "(", "baseFile", ".", "getPath", "(", ")", ",", "getActivity", "(", ")", ")", ";", "Log", ".", "d", "(", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ",", "mediaStoreUri", ".", "toString", "(", ")", "+", "\"", "<STR_LIT>", "<STR_LIT>", "\"", "+", "MimeTypes", ".", "getMimeType", "(", "baseFile", ".", "getPath", "(", ")", ",", "baseFile", ".", "isDirectory", "(", ")", ")", ")", ";", "intent", ".", "setDataAndType", "(", "mediaStoreUri", ",", "MimeTypes", ".", "getMimeType", "(", "baseFile", ".", "getPath", "(", ")", ",", "baseFile", ".", "isDirectory", "(", ")", ")", ")", ";", "intent", ".", "putExtra", "(", "RingtoneManager", ".", "EXTRA_RINGTONE_PICKED_URI", ",", "mediaStoreUri", ")", ";", "getActivity", "(", ")", ".", "setResult", "(", "FragmentActivity", ".", "RESULT_OK", ",", "intent", ")", ";", "getActivity", "(", ")", ".", "finish", "(", ")", ";", "}", "else", "{", "Log", ".", "d", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Intent", "intentresult", "=", "new", "Intent", "(", ")", ";", "Uri", "resultUri", "=", "Utils", ".", "getUriForBaseFile", "(", "getActivity", "(", ")", ",", "baseFile", ")", ";", "intentresult", ".", "setAction", "(", "Intent", ".", "ACTION_SEND", ")", ";", "intentresult", ".", "setFlags", "(", "Intent", ".", "FLAG_GRANT_READ_URI_PERMISSION", ")", ";", "if", "(", "resultUri", "!", "=", "null", ")", "intentresult", ".", "setDataAndType", "(", "resultUri", ",", "MimeTypes", ".", "getExtension", "(", "baseFile", ".", "getPath", "(", ")", ")", ")", ";", "getActivity", "(", ")", ".", "setResult", "(", "FragmentActivity", ".", "RESULT_OK", ",", "intentresult", ")", ";", "getActivity", "(", ")", ".", "finish", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "loadlist", "(", "final", "String", "path", ",", "final", "boolean", "back", ",", "final", "OpenMode", "openMode", ")", "{", "if", "(", "mActionMode", "!", "=", "null", ")", "mActionMode", ".", "finish", "(", ")", ";", "mSwipeRefreshLayout", ".", "setRefreshing", "(", "true", ")", ";", "if", "(", "loadFilesListTask", "!", "=", "null", "&", "&", "loadFilesListTask", ".", "getStatus", "(", ")", "=", "=", "AsyncTask", ".", "Status", ".", "RUNNING", ")", "{", "loadFilesListTask", ".", "cancel", "(", "true", ")", ";", "}", "loadFilesListTask", "=", "new", "LoadFilesListTask", "(", "ma", ".", "getActivity", "(", ")", ",", "path", ",", "ma", ",", "openMode", ",", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ",", "getBoolean", "(", "PREFERENCE_SHOW_HIDDENFILES", ")", ",", "(", "data", ")", "-", ">", "{", "if", "(", "data", "!", "=", "null", "&", "&", "data", ".", "second", "!", "=", "null", ")", "{", "boolean", "isPathLayoutGrid", "=", "dataUtils", ".", "getListOrGridForPath", "(", "path", ",", "DataUtils", ".", "LIST", ")", "=", "=", "DataUtils", ".", "GRID", ";", "setListElements", "(", "data", ".", "second", ",", "back", ",", "path", ",", "data", ".", "first", ",", "false", ",", "isPathLayoutGrid", ")", ";", "mSwipeRefreshLayout", ".", "setRefreshing", "(", "false", ")", ";", "}", "}", ")", ";", "loadFilesListTask", ".", "executeOnExecutor", "(", "AsyncTask", ".", "THREAD_POOL_EXECUTOR", ")", ";", "}", "</s>"]
["<s>", "void", "initNoFileLayout", "(", ")", "{", "nofilesview", "=", "rootView", ".", "findViewById", "(", "R", ".", "id", ".", "nofilelayout", ")", ";", "nofilesview", ".", "setColorSchemeColors", "(", "accentColor", ")", ";", "nofilesview", ".", "setOnRefreshListener", "(", "(", ")", "-", ">", "{", "loadlist", "(", "(", "CURRENT_PATH", ")", ",", "false", ",", "openMode", ")", ";", "nofilesview", ".", "setRefreshing", "(", "false", ")", ";", "}", ")", ";", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "(", "(", "ImageView", ")", "nofilesview", ".", "findViewById", "(", "R", ".", "id", ".", "image", ")", ")", ".", "setColorFilter", "(", "Color", ".", "parseColor", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "else", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "nofilesview", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "(", "(", "TextView", ")", "nofilesview", ".", "findViewById", "(", "R", ".", "id", ".", "nofiletext", ")", ")", ".", "setTextColor", "(", "Color", ".", "WHITE", ")", ";", "}", "else", "{", "nofilesview", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "R", ".", "color", ".", "holo_dark_background", ")", ")", ";", "(", "(", "TextView", ")", "nofilesview", ".", "findViewById", "(", "R", ".", "id", ".", "nofiletext", ")", ")", ".", "setTextColor", "(", "Color", ".", "WHITE", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setListElements", "(", "ArrayList", "<", "LayoutElementParcelable", ">", "bitmap", ",", "boolean", "back", ",", "String", "path", ",", "final", "OpenMode", "openMode", ",", "boolean", "results", ",", "boolean", "grid", ")", "{", "if", "(", "bitmap", "!", "=", "null", ")", "{", "LIST_ELEMENTS", "=", "bitmap", ";", "CURRENT_PATH", "=", "path", ";", "this", ".", "openMode", "=", "openMode", ";", "reloadListElements", "(", "back", ",", "results", ",", "grid", ")", ";", "}", "else", "{", "loadlist", "(", "home", ",", "true", ",", "OpenMode", ".", "FILE", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "reloadListElements", "(", "boolean", "back", ",", "boolean", "results", ",", "boolean", "grid", ")", "{", "if", "(", "isAdded", "(", ")", ")", "{", "boolean", "isOtg", "=", "CURRENT_PATH", ".", "equals", "(", "OTGUtil", ".", "PREFIX_OTG", "+", "\"", "<STR_LIT:/>", "\"", ")", ",", "isOnTheCloud", "=", "CURRENT_PATH", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", "+", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", "+", "\"", "<STR_LIT:/>", "\"", ")", ";", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_GOBACK_BUTTON", ")", "&", "&", "!", "CURRENT_PATH", ".", "equals", "(", "\"", "<STR_LIT:/>", "\"", ")", "&", "&", "(", "openMode", "=", "=", "OpenMode", ".", "FILE", "|", "|", "openMode", "=", "=", "OpenMode", ".", "ROOT", ")", "&", "&", "!", "isOtg", "&", "&", "!", "isOnTheCloud", "&", "&", "(", "LIST_ELEMENTS", ".", "size", "(", ")", "=", "=", "0", "|", "|", "!", "LIST_ELEMENTS", ".", "get", "(", "0", ")", ".", "size", ".", "equals", "(", "getString", "(", "R", ".", "string", ".", "goback", ")", ")", ")", ")", "{", "LIST_ELEMENTS", ".", "add", "(", "0", ",", "getBackElement", "(", ")", ")", ";", "}", "if", "(", "LIST_ELEMENTS", ".", "size", "(", ")", "=", "=", "0", "&", "&", "!", "results", ")", "{", "nofilesview", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "listView", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "mSwipeRefreshLayout", ".", "setEnabled", "(", "false", ")", ";", "}", "else", "{", "mSwipeRefreshLayout", ".", "setEnabled", "(", "true", ")", ";", "nofilesview", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "listView", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "}", "if", "(", "grid", "&", "&", "IS_LIST", ")", "switchToGrid", "(", ")", ";", "else", "if", "(", "!", "grid", "&", "&", "!", "IS_LIST", ")", "switchToList", "(", ")", ";", "if", "(", "adapter", "=", "=", "null", ")", "{", "adapter", "=", "new", "RecyclerAdapter", "(", "getMainActivity", "(", ")", ",", "ma", ",", "utilsProvider", ",", "sharedPref", ",", "listView", ",", "LIST_ELEMENTS", ",", "ma", ".", "getActivity", "(", ")", ")", ";", "}", "else", "{", "adapter", ".", "setItems", "(", "listView", ",", "new", "ArrayList", "<", ">", "(", "LIST_ELEMENTS", ")", ")", ";", "}", "stopAnims", "=", "true", ";", "if", "(", "openMode", "!", "=", "OpenMode", ".", "CUSTOM", ")", "{", "dataUtils", ".", "addHistoryFile", "(", "CURRENT_PATH", ")", ";", "}", "listView", ".", "setAdapter", "(", "adapter", ")", ";", "if", "(", "!", "addheader", ")", "{", "listView", ".", "removeItemDecoration", "(", "dividerItemDecoration", ")", ";", "addheader", "=", "true", ";", "}", "if", "(", "addheader", "&", "&", "IS_LIST", ")", "{", "dividerItemDecoration", "=", "new", "DividerItemDecoration", "(", "getActivity", "(", ")", ",", "true", ",", "getBoolean", "(", "PREFERENCE_SHOW_DIVIDERS", ")", ")", ";", "listView", ".", "addItemDecoration", "(", "dividerItemDecoration", ")", ";", "addheader", "=", "false", ";", "}", "if", "(", "!", "results", ")", "{", "this", ".", "results", "=", "false", ";", "}", "if", "(", "back", "&", "&", "scrolls", ".", "containsKey", "(", "CURRENT_PATH", ")", ")", "{", "Bundle", "b", "=", "scrolls", ".", "get", "(", "CURRENT_PATH", ")", ";", "int", "index", "=", "b", ".", "getInt", "(", "\"", "<STR_LIT>", "\"", ")", ",", "top", "=", "b", ".", "getInt", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "IS_LIST", ")", "{", "mLayoutManager", ".", "scrollToPositionWithOffset", "(", "index", ",", "top", ")", ";", "}", "else", "{", "mLayoutManagerGrid", ".", "scrollToPositionWithOffset", "(", "index", ",", "top", ")", ";", "}", "}", "getMainActivity", "(", ")", ".", "updatePaths", "(", "no", ")", ";", "listView", ".", "stopScroll", "(", ")", ";", "fastScroller", ".", "setRecyclerView", "(", "listView", ",", "IS_LIST", "?", "1", ":", "columns", ")", ";", "mToolbarContainer", ".", "addOnOffsetChangedListener", "(", "(", "appBarLayout", ",", "verticalOffset", ")", "-", ">", "{", "fastScroller", ".", "updateHandlePosition", "(", "verticalOffset", ",", "<NUM_LIT>", ")", ";", "}", ")", ";", "fastScroller", ".", "registerOnTouchListener", "(", "(", ")", "-", ">", "{", "if", "(", "stopAnims", "&", "&", "adapter", "!", "=", "null", ")", "{", "stopAnimation", "(", ")", ";", "stopAnims", "=", "false", ";", "}", "}", ")", ";", "startFileObserver", "(", ")", ";", "}", "else", "{", "loadlist", "(", "home", ",", "true", ",", "OpenMode", ".", "FILE", ")", ";", "}", "}", "</s>"]
["<s>", "private", "LayoutElementParcelable", "getBackElement", "(", ")", "{", "if", "(", "back", "=", "=", "null", ")", "{", "back", "=", "new", "LayoutElementParcelable", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", ",", "\"", "\"", ",", "getString", "(", "R", ".", "string", ".", "goback", ")", ",", "0", ",", "false", ",", "\"", "\"", ",", "true", ",", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "}", "return", "back", ";", "}", "</s>"]
["<s>", "private", "void", "startFileObserver", "(", ")", "{", "switch", "(", "openMode", ")", "{", "case", "ROOT", ":", "case", "FILE", ":", "if", "(", "customFileObserver", "!", "=", "null", "&", "&", "!", "customFileObserver", ".", "wasStopped", "(", ")", "&", "&", "customFileObserver", ".", "getPath", "(", ")", ".", "equals", "(", "getCurrentPath", "(", ")", ")", ")", "{", "return", ";", "}", "File", "file", "=", "new", "File", "(", "CURRENT_PATH", ")", ";", "if", "(", "file", ".", "isDirectory", "(", ")", "&", "&", "file", ".", "canRead", "(", ")", ")", "{", "if", "(", "customFileObserver", "!", "=", "null", ")", "{", "customFileObserver", ".", "stopWatching", "(", ")", ";", "}", "customFileObserver", "=", "new", "CustomFileObserver", "(", "CURRENT_PATH", ",", "new", "FileHandler", "(", "this", ",", "listView", ",", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ")", ")", ";", "customFileObserver", ".", "startWatching", "(", ")", ";", "}", "break", ";", "default", ":", "break", ";", "}", "}", "</s>"]
["<s>", "public", "void", "rename", "(", "final", "HybridFileParcelable", "f", ")", "{", "MaterialDialog", "renameDialog", "=", "GeneralDialogCreation", ".", "showNameDialog", "(", "getMainActivity", "(", ")", ",", "\"", "\"", ",", "f", ".", "getName", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "rename", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "save", ")", ",", "null", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cancel", ")", ",", "(", "dialog", ",", "which", ")", "-", ">", "{", "EditText", "textfield", "=", "dialog", ".", "getCustomView", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "singleedittext_input", ")", ";", "String", "name1", "=", "textfield", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "if", "(", "f", ".", "isSmb", "(", ")", ")", "{", "if", "(", "f", ".", "isDirectory", "(", ")", "&", "&", "!", "name1", ".", "endsWith", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "name1", "=", "name1", "+", "\"", "<STR_LIT:/>", "\"", ";", "}", "getMainActivity", "(", ")", ".", "mainActivityHelper", ".", "rename", "(", "openMode", ",", "f", ".", "getPath", "(", ")", ",", "CURRENT_PATH", "+", "\"", "<STR_LIT:/>", "\"", "+", "name1", ",", "getActivity", "(", ")", ",", "getMainActivity", "(", ")", ".", "isRootExplorer", "(", ")", ")", ";", "}", ",", "(", "text", ")", "-", ">", "{", "boolean", "isValidFilename", "=", "FileUtil", ".", "isValidFilename", "(", "text", ")", ";", "if", "(", "!", "isValidFilename", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "invalid_name", ")", ";", "}", "else", "if", "(", "text", ".", "length", "(", ")", "<", "1", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "field_empty", ")", ";", "}", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", ")", ";", "}", ")", ";", "EditText", "textfield", "=", "renameDialog", ".", "getCustomView", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "singleedittext_input", ")", ";", "textfield", ".", "post", "(", "(", ")", "-", ">", "{", "if", "(", "!", "f", ".", "isDirectory", "(", ")", ")", "{", "textfield", ".", "setSelection", "(", "f", ".", "getNameString", "(", "getContext", "(", ")", ")", ".", "length", "(", ")", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "public", "void", "computeScroll", "(", ")", "{", "View", "vi", "=", "listView", ".", "getChildAt", "(", "0", ")", ";", "int", "top", "=", "(", "vi", "=", "=", "null", ")", "?", "0", ":", "vi", ".", "getTop", "(", ")", ";", "int", "index", ";", "if", "(", "IS_LIST", ")", "index", "=", "mLayoutManager", ".", "findFirstVisibleItemPosition", "(", ")", ";", "else", "index", "=", "mLayoutManagerGrid", ".", "findFirstVisibleItemPosition", "(", ")", ";", "Bundle", "b", "=", "new", "Bundle", "(", ")", ";", "b", ".", "putInt", "(", "\"", "<STR_LIT>", "\"", ",", "index", ")", ";", "b", ".", "putInt", "(", "\"", "<STR_LIT>", "\"", ",", "top", ")", ";", "scrolls", ".", "put", "(", "CURRENT_PATH", ",", "b", ")", ";", "}", "</s>"]
["<s>", "public", "void", "goBack", "(", ")", "{", "if", "(", "openMode", "=", "=", "OpenMode", ".", "CUSTOM", ")", "{", "loadlist", "(", "home", ",", "false", ",", "OpenMode", ".", "FILE", ")", ";", "return", ";", "}", "HybridFile", "currentFile", "=", "new", "HybridFile", "(", "openMode", ",", "CURRENT_PATH", ")", ";", "if", "(", "!", "results", ")", "{", "if", "(", "!", "mRetainSearchTask", ")", "{", "if", "(", "selection", ")", "{", "adapter", ".", "toggleChecked", "(", "false", ")", ";", "}", "else", "{", "if", "(", "openMode", "=", "=", "OpenMode", ".", "SMB", ")", "{", "try", "{", "if", "(", "!", "smbPath", ".", "equals", "(", "CURRENT_PATH", ")", ")", "{", "String", "path", "=", "(", "new", "SmbFile", "(", "CURRENT_PATH", ")", ".", "getParent", "(", ")", ")", ";", "loadlist", "(", "(", "path", ")", ",", "true", ",", "openMode", ")", ";", "}", "else", "loadlist", "(", "home", ",", "false", ",", "OpenMode", ".", "FILE", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "if", "(", "openMode", "=", "=", "OpenMode", ".", "SFTP", ")", "{", "if", "(", "!", "CURRENT_PATH", ".", "substring", "(", "\"", "<STR_LIT>", "\"", ".", "length", "(", ")", ")", ".", "contains", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "loadlist", "(", "home", ",", "false", ",", "OpenMode", ".", "FILE", ")", ";", "else", "loadlist", "(", "currentFile", ".", "getParent", "(", "getContext", "(", ")", ")", ",", "true", ",", "openMode", ")", ";", "}", "else", "if", "(", "CURRENT_PATH", ".", "equals", "(", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "home", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "OTGUtil", ".", "PREFIX_OTG", "+", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", "+", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", "+", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ")", ")", "getMainActivity", "(", ")", ".", "exit", "(", ")", ";", "else", "if", "(", "FileUtils", ".", "canGoBack", "(", "getContext", "(", ")", ",", "currentFile", ")", ")", "{", "loadlist", "(", "currentFile", ".", "getParent", "(", "getContext", "(", ")", ")", ",", "true", ",", "openMode", ")", ";", "}", "else", "getMainActivity", "(", ")", ".", "exit", "(", ")", ";", "}", "}", "else", "{", "if", "(", "MainActivityHelper", ".", "SEARCH_TEXT", "!", "=", "null", ")", "{", "getMainActivity", "(", ")", ".", "mainFragment", "=", "(", "MainFragment", ")", "getMainActivity", "(", ")", ".", "getTabFragment", "(", ")", ".", "getCurrentTabFragment", "(", ")", ";", "FragmentManager", "fm", "=", "getMainActivity", "(", ")", ".", "getSupportFragmentManager", "(", ")", ";", "String", "parentPath", "=", "new", "HybridFile", "(", "openMode", ",", "CURRENT_PATH", ")", ".", "getParent", "(", "getActivity", "(", ")", ")", ";", "CURRENT_PATH", "=", "parentPath", ";", "MainActivityHelper", ".", "addSearchFragment", "(", "fm", ",", "new", "SearchWorkerFragment", "(", ")", ",", "parentPath", ",", "MainActivityHelper", ".", "SEARCH_TEXT", ",", "openMode", ",", "getMainActivity", "(", ")", ".", "isRootExplorer", "(", ")", ",", "sharedPref", ".", "getBoolean", "(", "SearchWorkerFragment", ".", "KEY_REGEX", ",", "false", ")", ",", "sharedPref", ".", "getBoolean", "(", "SearchWorkerFragment", ".", "KEY_REGEX_MATCHES", ",", "false", ")", ")", ";", "}", "else", "loadlist", "(", "CURRENT_PATH", ",", "true", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "mRetainSearchTask", "=", "false", ";", "}", "}", "else", "{", "FragmentManager", "fm", "=", "getActivity", "(", ")", ".", "getSupportFragmentManager", "(", ")", ";", "SearchWorkerFragment", "fragment", "=", "(", "SearchWorkerFragment", ")", "fm", ".", "findFragmentByTag", "(", "MainActivity", ".", "TAG_ASYNC_HELPER", ")", ";", "if", "(", "fragment", "!", "=", "null", ")", "{", "if", "(", "fragment", ".", "mSearchAsyncTask", ".", "getStatus", "(", ")", "=", "=", "AsyncTask", ".", "Status", ".", "RUNNING", ")", "{", "fragment", ".", "mSearchAsyncTask", ".", "cancel", "(", "true", ")", ";", "}", "}", "loadlist", "(", "new", "File", "(", "CURRENT_PATH", ")", ".", "getPath", "(", ")", ",", "true", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "results", "=", "false", ";", "}", "}", "</s>"]
["<s>", "public", "void", "reauthenticateSmb", "(", ")", "{", "if", "(", "smbPath", "!", "=", "null", ")", "{", "try", "{", "getMainActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "int", "i", ";", "if", "(", "(", "i", "=", "dataUtils", ".", "containsServer", "(", "smbPath", ")", ")", "!", "=", "-", "1", ")", "{", "getMainActivity", "(", ")", ".", "showSMBDialog", "(", "dataUtils", ".", "getServers", "(", ")", ".", "get", "(", "i", ")", "[", "0", "]", ",", "smbPath", ",", "true", ")", ";", "}", "}", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "void", "goBackItemClick", "(", ")", "{", "if", "(", "openMode", "=", "=", "OpenMode", ".", "CUSTOM", ")", "{", "loadlist", "(", "home", ",", "false", ",", "OpenMode", ".", "FILE", ")", ";", "return", ";", "}", "HybridFile", "currentFile", "=", "new", "HybridFile", "(", "openMode", ",", "CURRENT_PATH", ")", ";", "if", "(", "!", "results", ")", "{", "if", "(", "selection", ")", "{", "adapter", ".", "toggleChecked", "(", "false", ")", ";", "}", "else", "{", "if", "(", "openMode", "=", "=", "OpenMode", ".", "SMB", ")", "{", "try", "{", "if", "(", "!", "CURRENT_PATH", ".", "equals", "(", "smbPath", ")", ")", "{", "String", "path", "=", "(", "new", "SmbFile", "(", "CURRENT_PATH", ")", ".", "getParent", "(", ")", ")", ";", "loadlist", "(", "(", "path", ")", ",", "true", ",", "OpenMode", ".", "SMB", ")", ";", "}", "else", "loadlist", "(", "home", ",", "false", ",", "OpenMode", ".", "FILE", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "if", "(", "CURRENT_PATH", ".", "equals", "(", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "OTGUtil", ".", "PREFIX_OTG", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", "+", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", "+", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "CURRENT_PATH", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ")", ")", "{", "getMainActivity", "(", ")", ".", "exit", "(", ")", ";", "}", "else", "if", "(", "FileUtils", ".", "canGoBack", "(", "getContext", "(", ")", ",", "currentFile", ")", ")", "{", "loadlist", "(", "currentFile", ".", "getParent", "(", "getContext", "(", ")", ")", ",", "true", ",", "openMode", ")", ";", "}", "else", "getMainActivity", "(", ")", ".", "exit", "(", ")", ";", "}", "}", "else", "{", "loadlist", "(", "currentFile", ".", "getPath", "(", ")", ",", "true", ",", "openMode", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "updateList", "(", ")", "{", "computeScroll", "(", ")", ";", "loadlist", "(", "(", "CURRENT_PATH", ")", ",", "true", ",", "openMode", ")", ";", "}", "</s>"]
["<s>", "public", "void", "getSortModes", "(", ")", "{", "int", "t", "=", "SortHandler", ".", "getSortType", "(", "getContext", "(", ")", ",", "getCurrentPath", "(", ")", ")", ";", "if", "(", "t", "<", "=", "<NUM_LIT:3>", ")", "{", "sortby", "=", "t", ";", "asc", "=", "1", ";", "}", "else", "{", "asc", "=", "-", "1", ";", "sortby", "=", "t", "-", "<NUM_LIT:4>", ";", "}", "dsort", "=", "Integer", ".", "parseInt", "(", "sharedPref", ".", "getString", "(", "PREFERENCE_DIRECTORY_SORT_MODE", ",", "\"", "<STR_LIT:0>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onResume", "(", ")", "{", "super", ".", "onResume", "(", ")", ";", "(", "getActivity", "(", ")", ")", ".", "registerReceiver", "(", "receiver2", ",", "new", "IntentFilter", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST", ")", ")", ";", "getMainActivity", "(", ")", ".", "getDrawer", "(", ")", ".", "selectCorrectDrawerItemForPath", "(", "getPath", "(", ")", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "{", "(", "getActivity", "(", ")", ")", ".", "registerReceiver", "(", "decryptReceiver", ",", "new", "IntentFilter", "(", "EncryptDecryptUtils", ".", "DECRYPT_BROADCAST", ")", ")", ";", "}", "startFileObserver", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPause", "(", ")", "{", "super", ".", "onPause", "(", ")", ";", "(", "getActivity", "(", ")", ")", ".", "unregisterReceiver", "(", "receiver2", ")", ";", "if", "(", "customFileObserver", "!", "=", "null", ")", "{", "customFileObserver", ".", "stopWatching", "(", ")", ";", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "{", "(", "getActivity", "(", ")", ")", ".", "unregisterReceiver", "(", "decryptReceiver", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onStop", "(", ")", "{", "super", ".", "onStop", "(", ")", ";", "if", "(", "mediaScannerConnection", "!", "=", "null", ")", "mediaScannerConnection", ".", "disconnect", "(", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "{", "if", "(", "!", "isEncryptOpen", "&", "&", "encryptBaseFiles", ".", "size", "(", ")", "!", "=", "0", ")", "{", "new", "DeleteTask", "(", "getMainActivity", "(", ")", ".", "getContentResolver", "(", ")", ",", "getActivity", "(", ")", ")", ".", "execute", "(", "encryptBaseFiles", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "ArrayList", "<", "LayoutElementParcelable", ">", "addToSmb", "(", "SmbFile", "[", "]", "mFile", ",", "String", "path", ",", "boolean", "showHiddenFiles", ")", "throws", "SmbException", "{", "ArrayList", "<", "LayoutElementParcelable", ">", "smbFileList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "if", "(", "searchHelper", ".", "size", "(", ")", ">", "<NUM_LIT>", ")", "searchHelper", ".", "clear", "(", ")", ";", "for", "(", "SmbFile", "aMFile", ":", "mFile", ")", "{", "if", "(", "(", "dataUtils", ".", "isFileHidden", "(", "aMFile", ".", "getPath", "(", ")", ")", "|", "|", "aMFile", ".", "isHidden", "(", ")", ")", "&", "&", "!", "showHiddenFiles", ")", "{", "continue", ";", "}", "String", "name", "=", "aMFile", ".", "getName", "(", ")", ";", "name", "=", "(", "aMFile", ".", "isDirectory", "(", ")", "&", "&", "name", ".", "endsWith", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "?", "name", ".", "substring", "(", "0", ",", "name", ".", "length", "(", ")", "-", "1", ")", ":", "name", ";", "if", "(", "path", ".", "equals", "(", "smbPath", ")", ")", "{", "if", "(", "name", ".", "endsWith", "(", "\"", "<STR_LIT:$>", "\"", ")", ")", "continue", ";", "}", "if", "(", "aMFile", ".", "isDirectory", "(", ")", ")", "{", "folder_count", "+", "+", ";", "LayoutElementParcelable", "layoutElement", "=", "new", "LayoutElementParcelable", "(", "name", ",", "aMFile", ".", "getPath", "(", ")", ",", "\"", "\"", ",", "\"", "\"", ",", "\"", "\"", ",", "0", ",", "false", ",", "aMFile", ".", "lastModified", "(", ")", "+", "\"", "\"", ",", "true", ",", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ",", "OpenMode", ".", "SMB", ")", ";", "searchHelper", ".", "add", "(", "layoutElement", ".", "generateBaseFile", "(", ")", ")", ";", "smbFileList", ".", "add", "(", "layoutElement", ")", ";", "}", "else", "{", "file_count", "+", "+", ";", "LayoutElementParcelable", "layoutElement", "=", "new", "LayoutElementParcelable", "(", "name", ",", "aMFile", ".", "getPath", "(", ")", ",", "\"", "\"", ",", "\"", "\"", ",", "Formatter", ".", "formatFileSize", "(", "getContext", "(", ")", ",", "aMFile", ".", "length", "(", ")", ")", ",", "aMFile", ".", "length", "(", ")", ",", "false", ",", "aMFile", ".", "lastModified", "(", ")", "+", "\"", "\"", ",", "false", ",", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ",", "OpenMode", ".", "SMB", ")", ";", "layoutElement", ".", "setMode", "(", "OpenMode", ".", "SMB", ")", ";", "searchHelper", ".", "add", "(", "layoutElement", ".", "generateBaseFile", "(", ")", ")", ";", "smbFileList", ".", "add", "(", "layoutElement", ")", ";", "}", "}", "return", "smbFileList", ";", "}", "</s>"]
["<s>", "private", "LayoutElementParcelable", "addTo", "(", "HybridFileParcelable", "mFile", ")", "{", "File", "f", "=", "new", "File", "(", "mFile", ".", "getPath", "(", ")", ")", ";", "String", "size", "=", "\"", "\"", ";", "if", "(", "!", "dataUtils", ".", "isFileHidden", "(", "mFile", ".", "getPath", "(", ")", ")", ")", "{", "if", "(", "mFile", ".", "isDirectory", "(", ")", ")", "{", "size", "=", "\"", "\"", ";", "LayoutElementParcelable", "layoutElement", "=", "new", "LayoutElementParcelable", "(", "f", ".", "getPath", "(", ")", ",", "mFile", ".", "getPermission", "(", ")", ",", "mFile", ".", "getLink", "(", ")", ",", "size", ",", "0", ",", "true", ",", "mFile", ".", "getDate", "(", ")", "+", "\"", "\"", ",", "false", ",", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ",", "mFile", ".", "getMode", "(", ")", ")", ";", "LIST_ELEMENTS", ".", "add", "(", "layoutElement", ")", ";", "folder_count", "+", "+", ";", "return", "layoutElement", ";", "}", "else", "{", "long", "longSize", "=", "0", ";", "try", "{", "if", "(", "mFile", ".", "getSize", "(", ")", "!", "=", "-", "1", ")", "{", "longSize", "=", "mFile", ".", "getSize", "(", ")", ";", "size", "=", "Formatter", ".", "formatFileSize", "(", "getContext", "(", ")", ",", "longSize", ")", ";", "}", "else", "{", "size", "=", "\"", "\"", ";", "longSize", "=", "0", ";", "}", "}", "catch", "(", "NumberFormatException", "e", ")", "{", "}", "try", "{", "LayoutElementParcelable", "layoutElement", "=", "new", "LayoutElementParcelable", "(", "f", ".", "getPath", "(", ")", ",", "mFile", ".", "getPermission", "(", ")", ",", "mFile", ".", "getLink", "(", ")", ",", "size", ",", "longSize", ",", "false", ",", "mFile", ".", "getDate", "(", ")", "+", "\"", "\"", ",", "false", ",", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ",", "mFile", ".", "getMode", "(", ")", ")", ";", "LIST_ELEMENTS", ".", "add", "(", "layoutElement", ")", ";", "file_count", "+", "+", ";", "return", "layoutElement", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDestroy", "(", ")", "{", "super", ".", "onDestroy", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "hide", "(", "String", "path", ")", "{", "dataUtils", ".", "addHiddenFile", "(", "path", ")", ";", "File", "file", "=", "new", "File", "(", "path", ")", ";", "if", "(", "file", ".", "isDirectory", "(", ")", ")", "{", "File", "f1", "=", "new", "File", "(", "path", "+", "\"", "<STR_LIT:/>", "\"", "+", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "!", "f1", ".", "exists", "(", ")", ")", "{", "try", "{", "getMainActivity", "(", ")", ".", "mainActivityHelper", ".", "mkFile", "(", "new", "HybridFile", "(", "OpenMode", ".", "FILE", ",", "f1", ".", "getPath", "(", ")", ")", ",", "this", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "FileUtils", ".", "scanFile", "(", "file", ",", "getActivity", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "String", "getCurrentPath", "(", ")", "{", "return", "CURRENT_PATH", ";", "}", "</s>"]
["<s>", "private", "void", "addShortcut", "(", "LayoutElementParcelable", "path", ")", "{", "final", "Context", "ctx", "=", "getContext", "(", ")", ";", "if", "(", "!", "ShortcutManagerCompat", ".", "isRequestPinShortcutSupported", "(", "ctx", ")", ")", "{", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "getString", "(", "R", ".", "string", ".", "addshortcut_not_supported_by_launcher", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "return", ";", "}", "Intent", "shortcutIntent", "=", "new", "Intent", "(", "ctx", ",", "MainActivity", ".", "class", ")", ";", "shortcutIntent", ".", "putExtra", "(", "\"", "<STR_LIT>", "\"", ",", "path", ".", "desc", ")", ";", "shortcutIntent", ".", "setAction", "(", "Intent", ".", "ACTION_MAIN", ")", ";", "shortcutIntent", ".", "setFlags", "(", "Intent", ".", "FLAG_ACTIVITY_SINGLE_TOP", ")", ";", "ShortcutInfoCompat", "info", "=", "new", "ShortcutInfoCompat", ".", "Builder", "(", "ctx", ",", "path", ".", "desc", ")", ".", "setActivity", "(", "getMainActivity", "(", ")", ".", "getComponentName", "(", ")", ")", ".", "setIcon", "(", "IconCompat", ".", "createWithResource", "(", "ctx", ",", "R", ".", "mipmap", ".", "ic_launcher", ")", ")", ".", "setIntent", "(", "shortcutIntent", ")", ".", "setLongLabel", "(", "path", ".", "desc", ")", ".", "setShortLabel", "(", "new", "File", "(", "path", ".", "desc", ")", ".", "getName", "(", ")", ")", ".", "build", "(", ")", ";", "ShortcutManagerCompat", ".", "requestPinShortcut", "(", "ctx", ",", "info", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "void", "onSearchPreExecute", "(", "String", "query", ")", "{", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "setPathText", "(", "\"", "\"", ")", ";", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "setFullPathText", "(", "getString", "(", "R", ".", "string", ".", "searching", ",", "query", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addSearchResult", "(", "HybridFileParcelable", "a", ",", "String", "query", ")", "{", "if", "(", "listView", "!", "=", "null", ")", "{", "if", "(", "!", "results", ")", "{", "LIST_ELEMENTS", ".", "clear", "(", ")", ";", "file_count", "=", "0", ";", "folder_count", "=", "0", ";", "}", "LayoutElementParcelable", "layoutElementAdded", "=", "addTo", "(", "a", ")", ";", "if", "(", "!", "results", ")", "{", "reloadListElements", "(", "false", ",", "false", ",", "!", "IS_LIST", ")", ";", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "setPathText", "(", "\"", "\"", ")", ";", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "setFullPathText", "(", "getString", "(", "R", ".", "string", ".", "searching", ",", "query", ")", ")", ";", "results", "=", "true", ";", "}", "else", "{", "adapter", ".", "addItem", "(", "layoutElementAdded", ")", ";", "}", "stopAnimation", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "onSearchCompleted", "(", "final", "String", "query", ")", "{", "if", "(", "!", "results", ")", "{", "LIST_ELEMENTS", ".", "clear", "(", ")", ";", "}", "new", "AsyncTask", "<", "Void", ",", "Void", ",", "Void", ">", "(", ")", "{", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "Collections", ".", "sort", "(", "LIST_ELEMENTS", ",", "new", "FileListSorter", "(", "dsort", ",", "sortby", ",", "asc", ")", ")", ";", "return", "null", ";", "}", "@", "Override", "public", "void", "onPostExecute", "(", "Void", "c", ")", "{", "reloadListElements", "(", "true", ",", "true", ",", "!", "IS_LIST", ")", ";", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "setPathText", "(", "\"", "\"", ")", ";", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "setFullPathText", "(", "getString", "(", "R", ".", "string", ".", "searchresults", ",", "query", ")", ")", ";", "}", "}", ".", "executeOnExecutor", "(", "AsyncTask", ".", "THREAD_POOL_EXECUTOR", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "Collections", ".", "sort", "(", "LIST_ELEMENTS", ",", "new", "FileListSorter", "(", "dsort", ",", "sortby", ",", "asc", ")", ")", ";", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPostExecute", "(", "Void", "c", ")", "{", "reloadListElements", "(", "true", ",", "true", ",", "!", "IS_LIST", ")", ";", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "setPathText", "(", "\"", "\"", ")", ";", "getMainActivity", "(", ")", ".", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "setFullPathText", "(", "getString", "(", "R", ".", "string", ".", "searchresults", ",", "query", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "launchSMB", "(", "final", "HybridFileParcelable", "baseFile", ",", "final", "Activity", "activity", ")", "{", "final", "Streamer", "s", "=", "Streamer", ".", "getInstance", "(", ")", ";", "new", "Thread", "(", ")", "{", "public", "void", "run", "(", ")", "{", "try", "{", "s", ".", "setStreamSrc", "(", "new", "SmbFile", "(", "baseFile", ".", "getPath", "(", ")", ")", ",", "baseFile", ".", "getSize", "(", ")", ")", ";", "activity", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "try", "{", "Uri", "uri", "=", "Uri", ".", "parse", "(", "Streamer", ".", "URL", "+", "Uri", ".", "fromFile", "(", "new", "File", "(", "Uri", ".", "parse", "(", "baseFile", ".", "getPath", "(", ")", ")", ".", "getPath", "(", ")", ")", ")", ".", "getEncodedPath", "(", ")", ")", ";", "Intent", "i", "=", "new", "Intent", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "i", ".", "setDataAndType", "(", "uri", ",", "MimeTypes", ".", "getMimeType", "(", "baseFile", ".", "getPath", "(", ")", ",", "baseFile", ".", "isDirectory", "(", ")", ")", ")", ";", "PackageManager", "packageManager", "=", "activity", ".", "getPackageManager", "(", ")", ";", "List", "<", "ResolveInfo", ">", "resInfos", "=", "packageManager", ".", "queryIntentActivities", "(", "i", ",", "0", ")", ";", "if", "(", "resInfos", "!", "=", "null", "&", "&", "resInfos", ".", "size", "(", ")", ">", "0", ")", "activity", ".", "startActivity", "(", "i", ")", ";", "else", "Toast", ".", "makeText", "(", "activity", ",", "activity", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "smb_launch_error", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "catch", "(", "ActivityNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "run", "(", ")", "{", "try", "{", "s", ".", "setStreamSrc", "(", "new", "SmbFile", "(", "baseFile", ".", "getPath", "(", ")", ")", ",", "baseFile", ".", "getSize", "(", ")", ")", ";", "activity", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "try", "{", "Uri", "uri", "=", "Uri", ".", "parse", "(", "Streamer", ".", "URL", "+", "Uri", ".", "fromFile", "(", "new", "File", "(", "Uri", ".", "parse", "(", "baseFile", ".", "getPath", "(", ")", ")", ".", "getPath", "(", ")", ")", ")", ".", "getEncodedPath", "(", ")", ")", ";", "Intent", "i", "=", "new", "Intent", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "i", ".", "setDataAndType", "(", "uri", ",", "MimeTypes", ".", "getMimeType", "(", "baseFile", ".", "getPath", "(", ")", ",", "baseFile", ".", "isDirectory", "(", ")", ")", ")", ";", "PackageManager", "packageManager", "=", "activity", ".", "getPackageManager", "(", ")", ";", "List", "<", "ResolveInfo", ">", "resInfos", "=", "packageManager", ".", "queryIntentActivities", "(", "i", ",", "0", ")", ";", "if", "(", "resInfos", "!", "=", "null", "&", "&", "resInfos", ".", "size", "(", ")", ">", "0", ")", "activity", ".", "startActivity", "(", "i", ")", ";", "else", "Toast", ".", "makeText", "(", "activity", ",", "activity", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "smb_launch_error", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "catch", "(", "ActivityNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDetach", "(", ")", "{", "super", ".", "onDetach", "(", ")", ";", "}", "</s>"]
["<s>", "public", "MainActivity", "getMainActivity", "(", ")", "{", "return", "(", "MainActivity", ")", "getActivity", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ArrayList", "<", "LayoutElementParcelable", ">", "getElementsList", "(", ")", "{", "return", "LIST_ELEMENTS", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "changePath", "(", "String", "path", ")", "{", "loadlist", "(", "path", ",", "false", ",", "openMode", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getPath", "(", ")", "{", "return", "getCurrentPath", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getRootDrawable", "(", ")", "{", "return", "R", ".", "drawable", ".", "ic_root_white_24px", ";", "}", "</s>"]
["<s>", "private", "boolean", "getBoolean", "(", "String", "key", ")", "{", "return", "getMainActivity", "(", ")", ".", "getBoolean", "(", "key", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "utilsProvider", "=", "(", "(", "BasicActivity", ")", "getActivity", "(", ")", ")", ".", "getUtilsProvider", "(", ")", ";", "addPreferencesFromResource", "(", "R", ".", "xml", ".", "preferences", ")", ";", "sharedPref", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "getActivity", "(", ")", ")", ";", "for", "(", "String", "PREFERENCE_KEY", ":", "PREFERENCE_KEYS", ")", "{", "findPreference", "(", "PREFERENCE_KEY", ")", ".", "setOnPreferenceClickListener", "(", "this", ")", ";", "}", "final", "Preference", "masterPasswordPreference", "=", "findPreference", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "<", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", "|", "|", "sharedPref", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_FINGERPRINT", ",", "false", ")", ")", "{", "masterPasswordPreference", ".", "setEnabled", "(", "false", ")", ";", "}", "masterPasswordPreference", ".", "setOnPreferenceClickListener", "(", "this", ")", ";", "CheckBox", "checkBoxFingerprint", "=", "(", "CheckBox", ")", "findPreference", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_FINGERPRINT", ")", ";", "try", "{", "final", "FingerprintManager", "fingerprintManager", "=", "(", "FingerprintManager", ")", "getActivity", "(", ")", ".", "getSystemService", "(", "Context", ".", "FINGERPRINT_SERVICE", ")", ";", "final", "KeyguardManager", "keyguardManager", "=", "(", "KeyguardManager", ")", "getActivity", "(", ")", ".", "getSystemService", "(", "Context", ".", "KEYGUARD_SERVICE", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", "&", "&", "fingerprintManager", ".", "isHardwareDetected", "(", ")", ")", "{", "checkBoxFingerprint", ".", "setEnabled", "(", "true", ")", ";", "}", "checkBoxFingerprint", ".", "setOnPreferenceChangeListener", "(", "(", "preference", ",", "newValue", ")", "-", ">", "{", "if", "(", "ActivityCompat", ".", "checkSelfPermission", "(", "getActivity", "(", ")", ",", "Manifest", ".", "permission", ".", "USE_FINGERPRINT", ")", "!", "=", "PackageManager", ".", "PERMISSION_GRANTED", ")", "{", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "crypt_fingerprint_no_permission", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", "false", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", "&", "&", "!", "fingerprintManager", ".", "hasEnrolledFingerprints", "(", ")", ")", "{", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "crypt_fingerprint_not_enrolled", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", "false", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", "&", "&", "!", "keyguardManager", ".", "isKeyguardSecure", "(", ")", ")", "{", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "crypt_fingerprint_no_security", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", "false", ";", "}", "masterPasswordPreference", ".", "setEnabled", "(", "false", ")", ";", "return", "true", ";", "}", ")", ";", "}", "catch", "(", "NoClassDefFoundError", "error", ")", "{", "error", ".", "printStackTrace", "(", ")", ";", "checkBoxFingerprint", ".", "setEnabled", "(", "false", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onPreferenceClick", "(", "Preference", "preference", ")", "{", "final", "String", "[", "]", "sort", ";", "MaterialDialog", ".", "Builder", "builder", ";", "switch", "(", "preference", ".", "getKey", "(", ")", ")", "{", "case", "PreferencesConstants", ".", "PREFERENCE_GRID_COLUMNS", ":", "sort", "=", "getResources", "(", ")", ".", "getStringArray", "(", "R", ".", "array", ".", "columns", ")", ";", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "getActivity", "(", ")", ")", ";", "builder", ".", "theme", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "builder", ".", "title", "(", "R", ".", "string", ".", "gridcolumnno", ")", ";", "int", "current", "=", "Integer", ".", "parseInt", "(", "sharedPref", ".", "getString", "(", "PreferencesConstants", ".", "PREFERENCE_GRID_COLUMNS", ",", "\"", "<STR_LIT:-1>", "\"", ")", ")", ";", "current", "=", "current", "=", "=", "-", "1", "?", "0", ":", "current", ";", "if", "(", "current", "!", "=", "0", ")", "current", "=", "current", "-", "1", ";", "builder", ".", "items", "(", "sort", ")", ".", "itemsCallbackSingleChoice", "(", "current", ",", "(", "dialog", ",", "view", ",", "which", ",", "text", ")", "-", ">", "{", "sharedPref", ".", "edit", "(", ")", ".", "putString", "(", "PreferencesConstants", ".", "PREFERENCE_GRID_COLUMNS", ",", "\"", "\"", "+", "(", "which", "!", "=", "0", "?", "sort", "[", "which", "]", ":", "\"", "\"", "+", "-", "1", ")", ")", ".", "commit", "(", ")", ";", "dialog", ".", "dismiss", "(", ")", ";", "return", "true", ";", "}", ")", ";", "builder", ".", "build", "(", ")", ".", "show", "(", ")", ";", "return", "true", ";", "case", "PreferencesConstants", ".", "FRAGMENT_THEME", ":", "sort", "=", "getResources", "(", ")", ".", "getStringArray", "(", "R", ".", "array", ".", "theme", ")", ";", "current", "=", "Integer", ".", "parseInt", "(", "sharedPref", ".", "getString", "(", "PreferencesConstants", ".", "FRAGMENT_THEME", ",", "\"", "<STR_LIT:0>", "\"", ")", ")", ";", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "getActivity", "(", ")", ")", ";", "builder", ".", "items", "(", "sort", ")", ".", "itemsCallbackSingleChoice", "(", "current", ",", "(", "dialog", ",", "view", ",", "which", ",", "text", ")", "-", ">", "{", "utilsProvider", ".", "getThemeManager", "(", ")", ".", "setAppTheme", "(", "AppTheme", ".", "getTheme", "(", "which", ")", ")", ";", "dialog", ".", "dismiss", "(", ")", ";", "restartPC", "(", "getActivity", "(", ")", ")", ";", "return", "true", ";", "}", ")", ";", "builder", ".", "title", "(", "R", ".", "string", ".", "theme", ")", ";", "builder", ".", "build", "(", ")", ".", "show", "(", ")", ";", "return", "true", ";", "case", "PreferencesConstants", ".", "FRAGMENT_FEEDBACK", ":", "Intent", "emailIntent", "=", "new", "Intent", "(", "Intent", ".", "ACTION_SENDTO", ",", "Uri", ".", "fromParts", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "null", ")", ")", ";", "emailIntent", ".", "putExtra", "(", "Intent", ".", "EXTRA_SUBJECT", ",", "\"", "<STR_LIT>", "\"", ")", ";", "PackageManager", "packageManager", "=", "getActivity", "(", ")", ".", "getPackageManager", "(", ")", ";", "List", "activities", "=", "packageManager", ".", "queryIntentActivities", "(", "emailIntent", ",", "PackageManager", ".", "MATCH_DEFAULT_ONLY", ")", ";", "boolean", "isIntentSafe", "=", "activities", ".", "size", "(", ")", ">", "0", ";", "if", "(", "isIntentSafe", ")", "startActivity", "(", "Intent", ".", "createChooser", "(", "emailIntent", ",", "getResources", "(", ")", ".", "getString", "(", "feedback", ")", ")", ")", ";", "else", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "send_email_to", ")", "+", "\"", "<STR_LIT>", "\"", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", "false", ";", "case", "PreferencesConstants", ".", "FRAGMENT_ABOUT", ":", "startActivity", "(", "new", "Intent", "(", "getActivity", "(", ")", ",", "AboutActivity", ".", "class", ")", ")", ";", "return", "false", ";", "case", "PreferencesConstants", ".", "FRAGMENT_COLORS", ":", "(", "(", "PreferencesActivity", ")", "getActivity", "(", ")", ")", ".", "selectItem", "(", "PreferencesActivity", ".", "COLORS_PREFERENCE", ")", ";", "return", "true", ";", "case", "PreferencesConstants", ".", "FRAGMENT_FOLDERS", ":", "(", "(", "PreferencesActivity", ")", "getActivity", "(", ")", ")", ".", "selectItem", "(", "PreferencesActivity", ".", "FOLDERS_PREFERENCE", ")", ";", "return", "true", ";", "case", "PreferencesConstants", ".", "FRAGMENT_QUICKACCESSES", ":", "(", "(", "PreferencesActivity", ")", "getActivity", "(", ")", ")", ".", "selectItem", "(", "PreferencesActivity", ".", "QUICKACCESS_PREFERENCE", ")", ";", "return", "true", ";", "case", "PreferencesConstants", ".", "FRAGMENT_ADVANCED_SEARCH", ":", "(", "(", "PreferencesActivity", ")", "getActivity", "(", ")", ")", ".", "selectItem", "(", "PreferencesActivity", ".", "ADVANCEDSEARCH_PREFERENCE", ")", ";", "return", "true", ";", "case", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD", ":", "MaterialDialog", ".", "Builder", "masterPasswordDialogBuilder", "=", "new", "MaterialDialog", ".", "Builder", "(", "getActivity", "(", ")", ")", ";", "masterPasswordDialogBuilder", ".", "title", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "crypt_pref_master_password_title", ")", ")", ";", "String", "decryptedPassword", "=", "null", ";", "try", "{", "String", "preferencePassword", "=", "sharedPref", ".", "getString", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD", ",", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD_DEFAULT", ")", ";", "if", "(", "!", "preferencePassword", ".", "equals", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD_DEFAULT", ")", ")", "{", "decryptedPassword", "=", "CryptUtil", ".", "decryptPassword", "(", "getActivity", "(", ")", ",", "preferencePassword", ")", ";", "}", "else", "{", "decryptedPassword", "=", "\"", "\"", ";", "}", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "masterPasswordDialogBuilder", ".", "input", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "authenticate_password", ")", ",", "decryptedPassword", ",", "false", ",", "(", "dialog", ",", "input", ")", "-", ">", "{", "}", ")", ";", "masterPasswordDialogBuilder", ".", "theme", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "masterPasswordDialogBuilder", ".", "positiveText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "ok", ")", ")", ";", "masterPasswordDialogBuilder", ".", "negativeText", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cancel", ")", ")", ";", "masterPasswordDialogBuilder", ".", "positiveColor", "(", "(", "(", "ThemedActivity", ")", "getActivity", "(", ")", ")", ".", "getAccent", "(", ")", ")", ";", "masterPasswordDialogBuilder", ".", "negativeColor", "(", "(", "(", "ThemedActivity", ")", "getActivity", "(", ")", ")", ".", "getAccent", "(", ")", ")", ";", "masterPasswordDialogBuilder", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "try", "{", "String", "inputText", "=", "dialog", ".", "getInputEditText", "(", ")", ".", "getText", "(", ")", ".", "toString", "(", ")", ";", "if", "(", "!", "inputText", ".", "equals", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD_DEFAULT", ")", ")", "{", "sharedPref", ".", "edit", "(", ")", ".", "putString", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD", ",", "CryptUtil", ".", "encryptPassword", "(", "getActivity", "(", ")", ",", "dialog", ".", "getInputEditText", "(", ")", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ")", ".", "apply", "(", ")", ";", "}", "else", "{", "sharedPref", ".", "edit", "(", ")", ".", "putString", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD", ",", "\"", "\"", ")", ".", "apply", "(", ")", ";", "}", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "sharedPref", ".", "edit", "(", ")", ".", "putString", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD", ",", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD_DEFAULT", ")", ".", "apply", "(", ")", ";", "}", "}", ")", ";", "masterPasswordDialogBuilder", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "dialog", ".", "cancel", "(", ")", ")", ";", "masterPasswordDialogBuilder", ".", "build", "(", ")", ".", "show", "(", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "public", "static", "void", "restartPC", "(", "final", "Activity", "activity", ")", "{", "if", "(", "activity", "=", "=", "null", ")", "return", ";", "final", "int", "enter_anim", "=", "android", ".", "R", ".", "anim", ".", "fade_in", ";", "final", "int", "exit_anim", "=", "android", ".", "R", ".", "anim", ".", "fade_out", ";", "activity", ".", "overridePendingTransition", "(", "enter_anim", ",", "exit_anim", ")", ";", "activity", ".", "finish", "(", ")", ";", "activity", ".", "overridePendingTransition", "(", "enter_anim", ",", "exit_anim", ")", ";", "activity", ".", "startActivity", "(", "activity", ".", "getIntent", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "View", "onCreateView", "(", "LayoutInflater", "inflater", ",", "@", "Nullable", "ViewGroup", "container", ",", "@", "Nullable", "Bundle", "savedInstanceState", ")", "{", "View", "v", "=", "super", ".", "onCreateView", "(", "inflater", ",", "container", ",", "savedInstanceState", ")", ";", "listView", "=", "v", ".", "findViewById", "(", "android", ".", "R", ".", "id", ".", "list", ")", ";", "return", "v", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPause", "(", ")", "{", "super", ".", "onPause", "(", ")", ";", "if", "(", "listView", "!", "=", "null", ")", "{", "(", "(", "PreferencesActivity", ")", "getActivity", "(", ")", ")", ".", "saveListViewState", "(", "START_PREFERENCE", ",", "listView", ".", "onSaveInstanceState", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onResume", "(", ")", "{", "super", ".", "onResume", "(", ")", ";", "if", "(", "listView", "!", "=", "null", ")", "{", "Parcelable", "restored", "=", "(", "(", "PreferencesActivity", ")", "getActivity", "(", ")", ")", ".", "restoreListViewState", "(", "START_PREFERENCE", ")", ";", "if", "(", "restored", "!", "=", "null", ")", "{", "listView", ".", "onRestoreInstanceState", "(", "restored", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "activity", "=", "(", "PreferencesActivity", ")", "getActivity", "(", ")", ";", "sharedPref", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "getActivity", "(", ")", ")", ";", "if", "(", "savedInstanceState", "=", "=", "null", ")", "{", "loadSection0", "(", ")", ";", "reloadListeners", "(", ")", ";", "}", "else", "{", "onRestoreInstanceState", "(", "savedInstanceState", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPause", "(", ")", "{", "if", "(", "dialog", "!", "=", "null", ")", "dialog", ".", "dismiss", "(", ")", ";", "super", ".", "onPause", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onOptionsItemSelected", "(", "MenuItem", "item", ")", "{", "if", "(", "item", ".", "getItemId", "(", ")", "=", "=", "android", ".", "R", ".", "id", ".", "home", "&", "&", "currentSection", "!", "=", "SECTION_0", ")", "{", "switchSections", "(", ")", ";", "return", "true", ";", "}", "return", "super", ".", "onOptionsItemSelected", "(", "item", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "onBackPressed", "(", ")", "{", "if", "(", "currentSection", "!", "=", "SECTION_0", ")", "{", "switchSections", "(", ")", ";", "return", "true", ";", "}", "else", "{", "return", "false", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onPreferenceClick", "(", "final", "Preference", "preference", ")", "{", "switch", "(", "preference", ".", "getKey", "(", ")", ")", "{", "case", "KEY_COLOREDNAV", ":", "activity", ".", "invalidateNavBar", "(", ")", ";", "break", ";", "case", "PreferencesConstants", ".", "PREFERENCE_SKIN", ":", "case", "PreferencesConstants", ".", "PREFERENCE_SKIN_TWO", ":", "case", "PreferencesConstants", ".", "PREFERENCE_ACCENT", ":", "case", "PreferencesConstants", ".", "PREFERENCE_ICON_SKIN", ":", "colorChangeDialog", "(", "preference", ".", "getKey", "(", ")", ")", ";", "return", "false", ";", "case", "\"", "<STR_LIT>", "\"", ":", "switchSections", "(", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "private", "void", "colorChangeDialog", "(", "String", "colorPrefKey", ")", "{", "final", "UserColorPreferences", "userColorPreferences", "=", "activity", ".", "getCurrentColorPreference", "(", ")", ";", "if", "(", "userColorPreferences", "!", "=", "null", ")", "{", "@", "ColorInt", "int", "currentColor", "=", "0", ";", "switch", "(", "colorPrefKey", ")", "{", "case", "PreferencesConstants", ".", "PREFERENCE_SKIN", ":", "currentColor", "=", "userColorPreferences", ".", "primaryFirstTab", ";", "break", ";", "case", "PreferencesConstants", ".", "PREFERENCE_SKIN_TWO", ":", "currentColor", "=", "userColorPreferences", ".", "primarySecondTab", ";", "break", ";", "case", "PreferencesConstants", ".", "PREFERENCE_ACCENT", ":", "currentColor", "=", "userColorPreferences", ".", "accent", ";", "break", ";", "case", "PreferencesConstants", ".", "PREFERENCE_ICON_SKIN", ":", "currentColor", "=", "userColorPreferences", ".", "iconSkin", ";", "break", ";", "}", "ColorAdapter", "adapter", "=", "new", "ColorAdapter", "(", "getActivity", "(", ")", ",", "ColorPreference", ".", "availableColors", ",", "currentColor", ",", "(", "selectedColor", ")", "-", ">", "{", "@", "ColorInt", "int", "primaryFirst", "=", "userColorPreferences", ".", "primaryFirstTab", ",", "primarySecond", "=", "userColorPreferences", ".", "primarySecondTab", ",", "accent", "=", "userColorPreferences", ".", "accent", ",", "iconSkin", "=", "userColorPreferences", ".", "iconSkin", ";", "switch", "(", "colorPrefKey", ")", "{", "case", "PreferencesConstants", ".", "PREFERENCE_SKIN", ":", "primaryFirst", "=", "selectedColor", ";", "break", ";", "case", "PreferencesConstants", ".", "PREFERENCE_SKIN_TWO", ":", "primarySecond", "=", "selectedColor", ";", "break", ";", "case", "PreferencesConstants", ".", "PREFERENCE_ACCENT", ":", "accent", "=", "selectedColor", ";", "break", ";", "case", "PreferencesConstants", ".", "PREFERENCE_ICON_SKIN", ":", "iconSkin", "=", "selectedColor", ";", "break", ";", "}", "activity", ".", "getColorPreference", "(", ")", ".", "saveColorPreferences", "(", "sharedPref", ",", "new", "UserColorPreferences", "(", "primaryFirst", ",", "primarySecond", ",", "accent", ",", "iconSkin", ")", ")", ";", "if", "(", "dialog", "!", "=", "null", ")", "dialog", ".", "dismiss", "(", ")", ";", "invalidateEverything", "(", ")", ";", "}", ")", ";", "GridView", "v", "=", "(", "GridView", ")", "getActivity", "(", ")", ".", "getLayoutInflater", "(", ")", ".", "inflate", "(", "R", ".", "layout", ".", "dialog_grid", ",", "null", ")", ";", "v", ".", "setAdapter", "(", "adapter", ")", ";", "v", ".", "setOnItemClickListener", "(", "adapter", ")", ";", "int", "fab_skin", "=", "activity", ".", "getAccent", "(", ")", ";", "dialog", "=", "new", "MaterialDialog", ".", "Builder", "(", "getActivity", "(", ")", ")", ".", "positiveText", "(", "R", ".", "string", ".", "cancel", ")", ".", "title", "(", "R", ".", "string", ".", "choose_color", ")", ".", "theme", "(", "activity", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ".", "autoDismiss", "(", "true", ")", ".", "positiveColor", "(", "fab_skin", ")", ".", "neutralColor", "(", "fab_skin", ")", ".", "neutralText", "(", "R", ".", "string", ".", "defualt", ")", ".", "callback", "(", "new", "MaterialDialog", ".", "ButtonCallback", "(", ")", "{", "@", "Override", "public", "void", "onNeutral", "(", "MaterialDialog", "dialog", ")", "{", "super", ".", "onNeutral", "(", "dialog", ")", ";", "if", "(", "activity", "!", "=", "null", ")", "activity", ".", "setRestartActivity", "(", ")", ";", "activity", ".", "getColorPreference", "(", ")", ".", "saveColorPreferences", "(", "sharedPref", ",", "userColorPreferences", ")", ";", "invalidateEverything", "(", ")", ";", "}", "}", ")", ".", "customView", "(", "v", ",", "false", ")", ".", "show", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onNeutral", "(", "MaterialDialog", "dialog", ")", "{", "super", ".", "onNeutral", "(", "dialog", ")", ";", "if", "(", "activity", "!", "=", "null", ")", "activity", ".", "setRestartActivity", "(", ")", ";", "activity", ".", "getColorPreference", "(", ")", ".", "saveColorPreferences", "(", "sharedPref", ",", "userColorPreferences", ")", ";", "invalidateEverything", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "switchSections", "(", ")", "{", "getPreferenceScreen", "(", ")", ".", "removeAll", "(", ")", ";", "if", "(", "currentSection", "=", "=", "SECTION_0", ")", "{", "currentSection", "=", "SECTION_1", ";", "loadSection1", "(", ")", ";", "}", "else", "if", "(", "currentSection", "=", "=", "SECTION_1", ")", "{", "currentSection", "=", "SECTION_0", ";", "loadSection0", "(", ")", ";", "}", "reloadListeners", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "loadSection0", "(", ")", "{", "if", "(", "(", "(", "PreferencesActivity", ")", "getActivity", "(", ")", ")", ".", "getRestartActivity", "(", ")", ")", "{", "(", "(", "PreferencesActivity", ")", "getActivity", "(", ")", ")", ".", "restartActivity", "(", "getActivity", "(", ")", ")", ";", "}", "addPreferencesFromResource", "(", "R", ".", "xml", ".", "color_prefs", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "findPreference", "(", "KEY_COLOREDNAV", ")", ".", "setEnabled", "(", "true", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "loadSection1", "(", ")", "{", "addPreferencesFromResource", "(", "R", ".", "xml", ".", "conficolor_prefs", ")", ";", "ColorPickerDialog", "selectedColors", "=", "(", "ColorPickerDialog", ")", "findPreference", "(", "KEY_PRESELECTED_CONFIGS", ")", ";", "invalidateColorPreference", "(", "selectedColors", ")", ";", "selectedColors", ".", "setColorPreference", "(", "activity", ".", "getColorPreference", "(", ")", ",", "activity", ".", "getCurrentColorPreference", "(", ")", ",", "activity", ".", "getAppTheme", "(", ")", ")", ";", "selectedColors", ".", "setListener", "(", "(", ")", "-", ">", "{", "if", "(", "activity", "!", "=", "null", ")", "activity", ".", "setRestartActivity", "(", ")", ";", "checkCustomization", "(", ")", ";", "invalidateEverything", "(", ")", ";", "int", "colorPickerPref", "=", "sharedPref", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_COLOR_CONFIG", ",", "ColorPickerDialog", ".", "NO_DATA", ")", ";", "if", "(", "colorPickerPref", "=", "=", "ColorPickerDialog", ".", "RANDOM_INDEX", ")", "{", "Toast", ".", "makeText", "(", "getActivity", "(", ")", ",", "R", ".", "string", ".", "setRandom", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", ")", ";", "(", "(", "InvalidablePreferenceCategory", ")", "findPreference", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "invalidate", "(", "activity", ".", "getAccent", "(", ")", ")", ";", "checkCustomization", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "checkCustomization", "(", ")", "{", "boolean", "enableCustomization", "=", "sharedPref", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_COLOR_CONFIG", ",", "ColorPickerDialog", ".", "NO_DATA", ")", "=", "=", "ColorPickerDialog", ".", "CUSTOM_INDEX", ";", "findPreference", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN", ")", ".", "setEnabled", "(", "enableCustomization", ")", ";", "findPreference", "(", "PreferencesConstants", ".", "PREFERENCE_SKIN_TWO", ")", ".", "setEnabled", "(", "enableCustomization", ")", ";", "findPreference", "(", "PreferencesConstants", ".", "PREFERENCE_ACCENT", ")", ".", "setEnabled", "(", "enableCustomization", ")", ";", "findPreference", "(", "PreferencesConstants", ".", "PREFERENCE_ICON_SKIN", ")", ".", "setEnabled", "(", "enableCustomization", ")", ";", "}", "</s>"]
["<s>", "private", "void", "reloadListeners", "(", ")", "{", "for", "(", "final", "String", "PREFERENCE_KEY", ":", "(", "currentSection", "=", "=", "SECTION_0", "?", "PREFERENCE_KEYS_SECTION_0", ":", "PREFERENCE_KEYS_SECTION_1", ")", ")", "{", "findPreference", "(", "PREFERENCE_KEY", ")", ".", "setOnPreferenceClickListener", "(", "this", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "invalidateEverything", "(", ")", "{", "activity", ".", "invalidateRecentsColorAndIcon", "(", ")", ";", "activity", ".", "invalidateToolbarColor", "(", ")", ";", "activity", ".", "invalidateNavBar", "(", ")", ";", "if", "(", "currentSection", "=", "=", "SECTION_1", ")", "{", "ColorPickerDialog", "selectedColors", "=", "(", "ColorPickerDialog", ")", "findPreference", "(", "KEY_PRESELECTED_CONFIGS", ")", ";", "if", "(", "selectedColors", "!", "=", "null", ")", "{", "invalidateColorPreference", "(", "selectedColors", ")", ";", "selectedColors", ".", "invalidateColors", "(", ")", ";", "}", "(", "(", "InvalidablePreferenceCategory", ")", "findPreference", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "invalidate", "(", "activity", ".", "getAccent", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "invalidateColorPreference", "(", "ColorPickerDialog", "selectedColors", ")", "{", "int", "colorPickerPref", "=", "sharedPref", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_COLOR_CONFIG", ",", "ColorPickerDialog", ".", "NO_DATA", ")", ";", "boolean", "isColor", "=", "colorPickerPref", "!", "=", "ColorPickerDialog", ".", "CUSTOM_INDEX", "&", "&", "colorPickerPref", "!", "=", "ColorPickerDialog", ".", "RANDOM_INDEX", ";", "if", "(", "isColor", ")", "{", "selectedColors", ".", "setColorsVisibility", "(", "View", ".", "VISIBLE", ")", ";", "UserColorPreferences", "userColorPreferences", "=", "activity", ".", "getCurrentColorPreference", "(", ")", ";", "selectedColors", ".", "setColors", "(", "userColorPreferences", ".", "primaryFirstTab", ",", "userColorPreferences", ".", "primarySecondTab", ",", "userColorPreferences", ".", "accent", ",", "userColorPreferences", ".", "iconSkin", ")", ";", "if", "(", "activity", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", "=", "=", "Theme", ".", "LIGHT", ")", "{", "selectedColors", ".", "setDividerColor", "(", "Color", ".", "WHITE", ")", ";", "}", "else", "{", "selectedColors", ".", "setDividerColor", "(", "Color", ".", "BLACK", ")", ";", "}", "}", "else", "{", "selectedColors", ".", "setColorsVisibility", "(", "View", ".", "GONE", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onSaveInstanceState", "(", "Bundle", "outState", ")", "{", "super", ".", "onSaveInstanceState", "(", "outState", ")", ";", "outState", ".", "putInt", "(", "KEY_SECTION", ",", "currentSection", ")", ";", "}", "</s>"]
["<s>", "private", "void", "onRestoreInstanceState", "(", "Bundle", "inState", ")", "{", "currentSection", "=", "inState", ".", "getInt", "(", "KEY_SECTION", ",", "SECTION_0", ")", ";", "if", "(", "currentSection", "=", "=", "SECTION_0", ")", "{", "loadSection0", "(", ")", ";", "reloadListeners", "(", ")", ";", "}", "else", "{", "loadSection1", "(", ")", ";", "reloadListeners", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "activity", "=", "(", "PreferencesActivity", ")", "getActivity", "(", ")", ";", "utilsHandler", "=", "new", "UtilsHandler", "(", "getActivity", "(", ")", ")", ";", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "addPreferencesFromResource", "(", "R", ".", "xml", ".", "folders_prefs", ")", ";", "sharedPrefs", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "activity", ")", ";", "findPreference", "(", "PreferencesConstants", ".", "PREFERENCE_SHORTCUT", ")", ".", "setOnPreferenceClickListener", "(", "this", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "dataUtils", ".", "getBooks", "(", ")", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "PathSwitchPreference", "p", "=", "new", "PathSwitchPreference", "(", "getActivity", "(", ")", ")", ";", "p", ".", "setTitle", "(", "dataUtils", ".", "getBooks", "(", ")", ".", "get", "(", "i", ")", "[", "0", "]", ")", ";", "p", ".", "setSummary", "(", "dataUtils", ".", "getBooks", "(", ")", ".", "get", "(", "i", ")", "[", "1", "]", ")", ";", "p", ".", "setOnPreferenceClickListener", "(", "this", ")", ";", "position", ".", "put", "(", "p", ",", "i", ")", ";", "getPreferenceScreen", "(", ")", ".", "addPreference", "(", "p", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onResume", "(", ")", "{", "super", ".", "onResume", "(", ")", ";", "onCreate", "(", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onPreferenceClick", "(", "final", "Preference", "preference", ")", "{", "if", "(", "preference", "instanceof", "PathSwitchPreference", ")", "{", "PathSwitchPreference", "p", "=", "(", "PathSwitchPreference", ")", "preference", ";", "switch", "(", "p", ".", "getLastItemClicked", "(", ")", ")", "{", "case", "PathSwitchPreference", ".", "EDIT", ":", "loadEditDialog", "(", "(", "PathSwitchPreference", ")", "preference", ")", ";", "break", ";", "case", "PathSwitchPreference", ".", "DELETE", ":", "loadDeleteDialog", "(", "(", "PathSwitchPreference", ")", "preference", ")", ";", "break", ";", "default", ":", "break", ";", "}", "}", "else", "if", "(", "preference", ".", "getKey", "(", ")", ".", "equals", "(", "PreferencesConstants", ".", "PREFERENCE_SHORTCUT", ")", ")", "{", "if", "(", "getPreferenceScreen", "(", ")", ".", "getPreferenceCount", "(", ")", ">", "=", "findPreference", "(", "PreferencesConstants", ".", "PREFERENCE_SHORTCUT", ")", ".", "getOrder", "(", ")", ")", "findPreference", "(", "PreferencesConstants", ".", "PREFERENCE_SHORTCUT", ")", ".", "setOrder", "(", "getPreferenceScreen", "(", ")", ".", "getPreferenceCount", "(", ")", "+", "<NUM_LIT:10>", ")", ";", "loadCreateDialog", "(", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "private", "void", "loadCreateDialog", "(", ")", "{", "int", "fab_skin", "=", "activity", ".", "getAccent", "(", ")", ";", "LayoutInflater", "li", "=", "LayoutInflater", ".", "from", "(", "activity", ")", ";", "final", "View", "v", "=", "li", ".", "inflate", "(", "R", ".", "layout", ".", "dialog_twoedittexts", ",", "null", ")", ";", "(", "(", "TextInputLayout", ")", "v", ".", "findViewById", "(", "R", ".", "id", ".", "text_input1", ")", ")", ".", "setHint", "(", "getString", "(", "R", ".", "string", ".", "name", ")", ")", ";", "(", "(", "TextInputLayout", ")", "v", ".", "findViewById", "(", "R", ".", "id", ".", "text_input2", ")", ")", ".", "setHint", "(", "getString", "(", "R", ".", "string", ".", "directory", ")", ")", ";", "final", "AppCompatEditText", "editText1", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "text1", ")", ",", "editText2", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "text2", ")", ";", "final", "MaterialDialog", "dialog", "=", "new", "MaterialDialog", ".", "Builder", "(", "getActivity", "(", ")", ")", ".", "title", "(", "R", ".", "string", ".", "create_shortcut", ")", ".", "theme", "(", "activity", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ".", "positiveColor", "(", "fab_skin", ")", ".", "positiveText", "(", "R", ".", "string", ".", "create", ")", ".", "negativeColor", "(", "fab_skin", ")", ".", "negativeText", "(", "android", ".", "R", ".", "string", ".", "cancel", ")", ".", "customView", "(", "v", ",", "false", ")", ".", "build", "(", ")", ";", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setEnabled", "(", "false", ")", ";", "disableButtonIfTitleEmpty", "(", "editText1", ",", "dialog", ")", ";", "disableButtonIfNotPath", "(", "editText2", ",", "dialog", ")", ";", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setOnClickListener", "(", "view", "-", ">", "{", "PathSwitchPreference", "p", "=", "new", "PathSwitchPreference", "(", "getActivity", "(", ")", ")", ";", "p", ".", "setTitle", "(", "editText1", ".", "getText", "(", ")", ")", ";", "p", ".", "setSummary", "(", "editText2", ".", "getText", "(", ")", ")", ";", "p", ".", "setOnPreferenceClickListener", "(", "FoldersPref", ".", "this", ")", ";", "position", ".", "put", "(", "p", ",", "dataUtils", ".", "getBooks", "(", ")", ".", "size", "(", ")", ")", ";", "getPreferenceScreen", "(", ")", ".", "addPreference", "(", "p", ")", ";", "String", "[", "]", "values", "=", "new", "String", "[", "]", "{", "editText1", ".", "getText", "(", ")", ".", "toString", "(", ")", ",", "editText2", ".", "getText", "(", ")", ".", "toString", "(", ")", "}", ";", "dataUtils", ".", "addBook", "(", "values", ")", ";", "utilsHandler", ".", "saveToDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "BOOKMARKS", ",", "editText2", ".", "getText", "(", ")", ".", "toString", "(", ")", ",", "editText1", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ")", ";", "dialog", ".", "dismiss", "(", ")", ";", "}", ")", ";", "dialog", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "loadEditDialog", "(", "final", "PathSwitchPreference", "p", ")", "{", "int", "fab_skin", "=", "activity", ".", "getAccent", "(", ")", ";", "LayoutInflater", "li", "=", "LayoutInflater", ".", "from", "(", "activity", ")", ";", "final", "View", "v", "=", "li", ".", "inflate", "(", "R", ".", "layout", ".", "dialog_twoedittexts", ",", "null", ")", ";", "(", "(", "TextInputLayout", ")", "v", ".", "findViewById", "(", "R", ".", "id", ".", "text_input1", ")", ")", ".", "setHint", "(", "getString", "(", "R", ".", "string", ".", "name", ")", ")", ";", "(", "(", "TextInputLayout", ")", "v", ".", "findViewById", "(", "R", ".", "id", ".", "text_input2", ")", ")", ".", "setHint", "(", "getString", "(", "R", ".", "string", ".", "directory", ")", ")", ";", "final", "EditText", "editText1", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "text1", ")", ",", "editText2", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "text2", ")", ";", "editText1", ".", "setText", "(", "p", ".", "getTitle", "(", ")", ")", ";", "editText2", ".", "setText", "(", "p", ".", "getSummary", "(", ")", ")", ";", "final", "MaterialDialog", "dialog", "=", "new", "MaterialDialog", ".", "Builder", "(", "getActivity", "(", ")", ")", ".", "title", "(", "R", ".", "string", ".", "edit_shortcut", ")", ".", "theme", "(", "activity", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ".", "positiveColor", "(", "fab_skin", ")", ".", "positiveText", "(", "getString", "(", "R", ".", "string", ".", "edit", ")", ".", "toUpperCase", "(", ")", ")", ".", "negativeColor", "(", "fab_skin", ")", ".", "negativeText", "(", "android", ".", "R", ".", "string", ".", "cancel", ")", ".", "customView", "(", "v", ",", "false", ")", ".", "build", "(", ")", ";", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setEnabled", "(", "FileUtils", ".", "isPathAccessible", "(", "editText2", ".", "getText", "(", ")", ".", "toString", "(", ")", ",", "sharedPrefs", ")", ")", ";", "disableButtonIfTitleEmpty", "(", "editText1", ",", "dialog", ")", ";", "disableButtonIfNotPath", "(", "editText2", ",", "dialog", ")", ";", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setOnClickListener", "(", "view", "-", ">", "{", "final", "String", "oldName", "=", "p", ".", "getTitle", "(", ")", ".", "toString", "(", ")", ";", "final", "String", "oldPath", "=", "p", ".", "getSummary", "(", ")", ".", "toString", "(", ")", ";", "dataUtils", ".", "removeBook", "(", "position", ".", "get", "(", "p", ")", ")", ";", "position", ".", "remove", "(", "p", ")", ";", "getPreferenceScreen", "(", ")", ".", "removePreference", "(", "p", ")", ";", "p", ".", "setTitle", "(", "editText1", ".", "getText", "(", ")", ")", ";", "p", ".", "setSummary", "(", "editText2", ".", "getText", "(", ")", ")", ";", "position", ".", "put", "(", "p", ",", "position", ".", "size", "(", ")", ")", ";", "getPreferenceScreen", "(", ")", ".", "addPreference", "(", "p", ")", ";", "String", "[", "]", "values", "=", "new", "String", "[", "]", "{", "editText1", ".", "getText", "(", ")", ".", "toString", "(", ")", ",", "editText2", ".", "getText", "(", ")", ".", "toString", "(", ")", "}", ";", "dataUtils", ".", "addBook", "(", "values", ")", ";", "AppConfig", ".", "runInBackground", "(", "(", ")", "-", ">", "utilsHandler", ".", "renameBookmark", "(", "oldName", ",", "oldPath", ",", "editText1", ".", "getText", "(", ")", ".", "toString", "(", ")", ",", "editText2", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ")", ";", "dialog", ".", "dismiss", "(", ")", ";", "}", ")", ";", "dialog", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "loadDeleteDialog", "(", "final", "PathSwitchPreference", "p", ")", "{", "int", "fab_skin", "=", "activity", ".", "getAccent", "(", ")", ";", "final", "MaterialDialog", "dialog", "=", "new", "MaterialDialog", ".", "Builder", "(", "getActivity", "(", ")", ")", ".", "title", "(", "R", ".", "string", ".", "questiondelete_shortcut", ")", ".", "theme", "(", "activity", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ".", "positiveColor", "(", "fab_skin", ")", ".", "positiveText", "(", "getString", "(", "R", ".", "string", ".", "delete", ")", ".", "toUpperCase", "(", ")", ")", ".", "negativeColor", "(", "fab_skin", ")", ".", "negativeText", "(", "android", ".", "R", ".", "string", ".", "cancel", ")", ".", "build", "(", ")", ";", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setOnClickListener", "(", "view", "-", ">", "{", "dataUtils", ".", "removeBook", "(", "position", ".", "get", "(", "p", ")", ")", ";", "utilsHandler", ".", "removeFromDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "BOOKMARKS", ",", "p", ".", "getTitle", "(", ")", ".", "toString", "(", ")", ",", "p", ".", "getSummary", "(", ")", ".", "toString", "(", ")", ")", ")", ";", "getPreferenceScreen", "(", ")", ".", "removePreference", "(", "p", ")", ";", "position", ".", "remove", "(", "p", ")", ";", "dialog", ".", "dismiss", "(", ")", ";", "}", ")", ";", "dialog", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "disableButtonIfNotPath", "(", "EditText", "path", ",", "final", "MaterialDialog", "dialog", ")", "{", "path", ".", "addTextChangedListener", "(", "new", "SimpleTextWatcher", "(", ")", "{", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setEnabled", "(", "FileUtils", ".", "isPathAccessible", "(", "s", ".", "toString", "(", ")", ",", "sharedPrefs", ")", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setEnabled", "(", "FileUtils", ".", "isPathAccessible", "(", "s", ".", "toString", "(", ")", ",", "sharedPrefs", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "disableButtonIfTitleEmpty", "(", "final", "EditText", "title", ",", "final", "MaterialDialog", "dialog", ")", "{", "title", ".", "addTextChangedListener", "(", "new", "SimpleTextWatcher", "(", ")", "{", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setEnabled", "(", "title", ".", "length", "(", ")", ">", "0", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setEnabled", "(", "title", ".", "length", "(", ")", ">", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "addPreferencesFromResource", "(", "R", ".", "xml", ".", "fastaccess_prefs", ")", ";", "preferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "getActivity", "(", ")", ")", ";", "currentValue", "=", "TinyDB", ".", "getBooleanArray", "(", "preferences", ",", "KEY", ",", "DEFAULT", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "getPreferenceScreen", "(", ")", ".", "getPreferenceCount", "(", ")", ";", "i", "+", "+", ")", "{", "getPreferenceScreen", "(", ")", ".", "getPreference", "(", "i", ")", ".", "setOnPreferenceClickListener", "(", "this", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onPreferenceClick", "(", "Preference", "preference", ")", "{", "currentValue", "[", "prefPos", ".", "get", "(", "preference", ".", "getKey", "(", ")", ")", "]", "=", "(", "(", "SwitchPreference", ")", "preference", ")", ".", "isChecked", "(", ")", ";", "TinyDB", ".", "putBooleanArray", "(", "preferences", ",", "KEY", ",", "currentValue", ")", ";", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "addPreferencesFromResource", "(", "R", ".", "xml", ".", "advancedsearch_prefs", ")", ";", "}", "</s>"]
["<s>", "public", "ComputerParcelable", "(", "String", "str", ",", "String", "str2", ")", "{", "this", ".", "name", "=", "str", ";", "this", ".", "addr", "=", "str2", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ComputerParcelable", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "ComputerParcelable", "(", "in", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ComputerParcelable", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "ComputerParcelable", "[", "size", "]", ";", "}", "</s>"]
["<s>", "public", "String", "toString", "(", ")", "{", "return", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "this", ".", "name", ",", "this", ".", "addr", ")", ";", "}", "</s>"]
["<s>", "public", "int", "describeContents", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "public", "void", "writeToParcel", "(", "Parcel", "parcel", ",", "int", "i", ")", "{", "parcel", ".", "writeString", "(", "this", ".", "name", ")", ";", "parcel", ".", "writeString", "(", "this", ".", "addr", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "return", "obj", "instanceof", "ComputerParcelable", "&", "&", "(", "this", "=", "=", "obj", "|", "|", "(", "this", ".", "name", ".", "equals", "(", "(", "(", "ComputerParcelable", ")", "obj", ")", ".", "name", ")", "&", "&", "this", ".", "addr", ".", "equals", "(", "(", "(", "ComputerParcelable", ")", "obj", ")", ".", "addr", ")", ")", ")", ";", "}", "</s>"]
["<s>", "public", "int", "hashCode", "(", ")", "{", "return", "this", ".", "name", ".", "hashCode", "(", ")", "+", "this", ".", "addr", ".", "hashCode", "(", ")", ";", "}", "</s>"]
["<s>", "private", "ComputerParcelable", "(", "Parcel", "parcel", ")", "{", "this", ".", "name", "=", "parcel", ".", "readString", "(", ")", ";", "this", ".", "addr", "=", "parcel", ".", "readString", "(", ")", ";", "}", "</s>"]
["<s>", "private", "static", "String", "mountFileSystemRW", "(", "String", "path", ")", "throws", "ShellNotRunningException", "{", "String", "command", "=", "\"", "<STR_LIT>", "\"", ";", "ArrayList", "<", "String", ">", "output", "=", "RootHelper", ".", "runShellCommand", "(", "command", ")", ";", "String", "mountPoint", "=", "\"", "\"", ",", "types", "=", "null", ";", "for", "(", "String", "line", ":", "output", ")", "{", "String", "[", "]", "words", "=", "line", ".", "split", "(", "\"", "\"", ")", ";", "if", "(", "path", ".", "contains", "(", "words", "[", "<NUM_LIT:2>", "]", ")", ")", "{", "if", "(", "words", "[", "<NUM_LIT:2>", "]", ".", "length", "(", ")", ">", "mountPoint", ".", "length", "(", ")", ")", "{", "mountPoint", "=", "words", "[", "<NUM_LIT:2>", "]", ";", "types", "=", "words", "[", "<NUM_LIT:5>", "]", ";", "}", "}", "}", "if", "(", "!", "mountPoint", ".", "equals", "(", "\"", "\"", ")", "&", "&", "types", "!", "=", "null", ")", "{", "if", "(", "types", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "return", "null", ";", "}", "else", "if", "(", "types", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "String", "mountCommand", "=", "\"", "<STR_LIT>", "\"", "+", "mountPoint", ";", "ArrayList", "<", "String", ">", "mountOutput", "=", "RootHelper", ".", "runShellCommand", "(", "mountCommand", ")", ";", "if", "(", "mountOutput", ".", "size", "(", ")", "!", "=", "0", ")", "{", "return", "null", ";", "}", "else", "return", "mountPoint", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "private", "static", "void", "mountFileSystemRO", "(", "String", "path", ")", "throws", "ShellNotRunningException", "{", "String", "command", "=", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "path", "+", "\"", "<STR_LIT:\\\">", "\"", ";", "RootHelper", ".", "runShellCommand", "(", "command", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "copy", "(", "String", "source", ",", "String", "destination", ")", "throws", "ShellNotRunningException", "{", "String", "mountPoint", "=", "mountFileSystemRW", "(", "destination", ")", ";", "RootHelper", ".", "runShellCommand", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "source", "+", "\"", "<STR_LIT:\\\">", "<STR_LIT:\\\">", "\"", "+", "destination", "+", "\"", "<STR_LIT:\\\">", "\"", ")", ";", "if", "(", "mountPoint", "!", "=", "null", ")", "{", "mountFileSystemRO", "(", "mountPoint", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "mkDir", "(", "String", "path", ",", "String", "name", ")", "throws", "ShellNotRunningException", "{", "String", "mountPoint", "=", "mountFileSystemRW", "(", "path", ")", ";", "RootHelper", ".", "runShellCommand", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "path", "+", "\"", "<STR_LIT:/>", "\"", "+", "name", "+", "\"", "<STR_LIT:\\\">", "\"", ")", ";", "if", "(", "mountPoint", "!", "=", "null", ")", "{", "mountFileSystemRO", "(", "mountPoint", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "mkFile", "(", "String", "path", ")", "throws", "ShellNotRunningException", "{", "String", "mountPoint", "=", "mountFileSystemRW", "(", "path", ")", ";", "RootHelper", ".", "runShellCommand", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "path", "+", "\"", "<STR_LIT:\\\">", "\"", ")", ";", "if", "(", "mountPoint", "!", "=", "null", ")", "{", "mountFileSystemRO", "(", "mountPoint", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "int", "getFilePermissions", "(", "String", "path", ")", "throws", "ShellNotRunningException", "{", "String", "line", "=", "RootHelper", ".", "runShellCommand", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "path", "+", "\"", "<STR_LIT:\\\">", "\"", ")", ".", "get", "(", "0", ")", ";", "return", "Integer", ".", "valueOf", "(", "line", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "delete", "(", "String", "path", ")", "throws", "ShellNotRunningException", "{", "String", "mountPoint", "=", "mountFileSystemRW", "(", "path", ")", ";", "ArrayList", "<", "String", ">", "result", "=", "RootHelper", ".", "runShellCommand", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "path", "+", "\"", "<STR_LIT:\\\">", "\"", ")", ";", "if", "(", "mountPoint", "!", "=", "null", ")", "{", "mountFileSystemRO", "(", "mountPoint", ")", ";", "}", "return", "result", ".", "size", "(", ")", "!", "=", "0", ";", "}", "</s>"]
["<s>", "public", "static", "void", "move", "(", "String", "path", ",", "String", "destination", ")", "throws", "ShellNotRunningException", "{", "String", "mountPoint", "=", "mountFileSystemRW", "(", "destination", ")", ";", "RootHelper", ".", "runShellCommand", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "path", "+", "\"", "<STR_LIT:\\\">", "<STR_LIT:\\\">", "\"", "+", "destination", "+", "\"", "<STR_LIT:\\\">", "\"", ")", ";", "if", "(", "mountPoint", "!", "=", "null", ")", "{", "mountFileSystemRO", "(", "mountPoint", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "boolean", "rename", "(", "String", "oldPath", ",", "String", "newPath", ")", "throws", "ShellNotRunningException", "{", "String", "mountPoint", "=", "mountFileSystemRW", "(", "oldPath", ")", ";", "ArrayList", "<", "String", ">", "output", "=", "RootHelper", ".", "runShellCommand", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "oldPath", "+", "\"", "<STR_LIT:\\\">", "<STR_LIT:\\\">", "\"", "+", "newPath", "+", "\"", "<STR_LIT:\\\">", "\"", ")", ";", "if", "(", "mountPoint", "!", "=", "null", ")", "{", "mountFileSystemRO", "(", "mountPoint", ")", ";", "}", "return", "output", ".", "size", "(", ")", "=", "=", "0", ";", "}", "</s>"]
["<s>", "public", "static", "void", "cat", "(", "String", "sourcePath", ",", "String", "destinationPath", ")", "throws", "ShellNotRunningException", "{", "String", "mountPoint", "=", "mountFileSystemRW", "(", "destinationPath", ")", ";", "RootHelper", ".", "runShellCommand", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "sourcePath", "+", "\"", "<STR_LIT:\\\">", "<STR_LIT>", "<STR_LIT:\\\">", "\"", "+", "destinationPath", "+", "\"", "<STR_LIT:\\\">", "\"", ")", ";", "if", "(", "mountPoint", "!", "=", "null", ")", "{", "mountFileSystemRO", "(", "mountPoint", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "int", "permissionsToOctalString", "(", "boolean", "ur", ",", "boolean", "uw", ",", "boolean", "ux", ",", "boolean", "gr", ",", "boolean", "gw", ",", "boolean", "gx", ",", "boolean", "or", ",", "boolean", "ow", ",", "boolean", "ox", ")", "{", "int", "u", "=", "(", "(", "ur", "?", "CHMOD_READ", ":", "0", ")", "|", "(", "uw", "?", "CHMOD_WRITE", ":", "0", ")", "|", "(", "ux", "?", "CHMOD_EXECUTE", ":", "0", ")", ")", "<", "<", "<NUM_LIT:6>", ";", "int", "g", "=", "(", "(", "gr", "?", "CHMOD_READ", ":", "0", ")", "|", "(", "gw", "?", "CHMOD_WRITE", ":", "0", ")", "|", "(", "gx", "?", "CHMOD_EXECUTE", ":", "0", ")", ")", "<", "<", "<NUM_LIT:3>", ";", "int", "o", "=", "(", "or", "?", "CHMOD_READ", ":", "0", ")", "|", "(", "ow", "?", "CHMOD_WRITE", ":", "0", ")", "|", "(", "ox", "?", "CHMOD_EXECUTE", ":", "0", ")", ";", "return", "u", "|", "g", "|", "o", ";", "}", "</s>"]
["<s>", "public", "FingerprintHandler", "(", "Context", "mContext", ",", "Intent", "intent", ",", "MaterialDialog", "materialDialog", ",", "EncryptDecryptUtils", ".", "DecryptButtonCallbackInterface", "decryptButtonCallbackInterface", ")", "{", "context", "=", "mContext", ";", "this", ".", "decryptIntent", "=", "intent", ";", "this", ".", "materialDialog", "=", "materialDialog", ";", "this", ".", "decryptButtonCallbackInterface", "=", "decryptButtonCallbackInterface", ";", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "public", "void", "authenticate", "(", "FingerprintManager", "manager", ",", "FingerprintManager", ".", "CryptoObject", "cryptoObject", ")", "{", "CancellationSignal", "cancellationSignal", "=", "new", "CancellationSignal", "(", ")", ";", "if", "(", "ActivityCompat", ".", "checkSelfPermission", "(", "context", ",", "Manifest", ".", "permission", ".", "USE_FINGERPRINT", ")", "!", "=", "PackageManager", ".", "PERMISSION_GRANTED", ")", "{", "return", ";", "}", "manager", ".", "authenticate", "(", "cryptoObject", ",", "cancellationSignal", ",", "0", ",", "this", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAuthenticationError", "(", "int", "errMsgId", ",", "CharSequence", "errString", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAuthenticationHelp", "(", "int", "helpMsgId", ",", "CharSequence", "helpString", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAuthenticationFailed", "(", ")", "{", "materialDialog", ".", "cancel", "(", ")", ";", "decryptButtonCallbackInterface", ".", "failed", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAuthenticationSucceeded", "(", "FingerprintManager", ".", "AuthenticationResult", "result", ")", "{", "materialDialog", ".", "cancel", "(", ")", ";", "decryptButtonCallbackInterface", ".", "confirm", "(", "decryptIntent", ")", ";", "}", "</s>"]
["<s>", "public", "ImmutableEntry", "(", "@", "Nullable", "K", "key", ",", "@", "Nullable", "V", "value", ")", "{", "this", ".", "key", "=", "key", ";", "this", ".", "value", "=", "value", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "final", "K", "getKey", "(", ")", "{", "return", "key", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "final", "V", "getValue", "(", ")", "{", "return", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "final", "V", "setValue", "(", "V", "value", ")", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ProgressHandler", "(", "int", "sourceFiles", ",", "long", "totalSize", ")", "{", "this", ".", "sourceFiles", "=", "sourceFiles", ";", "this", ".", "totalSize", "=", "totalSize", ";", "}", "</s>"]
["<s>", "public", "ProgressHandler", "(", ")", "{", "}", "</s>"]
["<s>", "public", "synchronized", "void", "addWrittenLength", "(", "long", "newPosition", ")", "{", "long", "speedRaw", "=", "(", "newPosition", "-", "writtenSize", ")", ";", "this", ".", "writtenSize", "=", "newPosition", ";", "progressListener", ".", "onProgressed", "(", "speedRaw", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setFileName", "(", "String", "fileName", ")", "{", "this", ".", "fileName", "=", "fileName", ";", "}", "</s>"]
["<s>", "public", "String", "getFileName", "(", ")", "{", "return", "fileName", ";", "}", "</s>"]
["<s>", "public", "void", "setSourceFilesProcessed", "(", "int", "sourceFilesProcessed", ")", "{", "this", ".", "sourceFilesProcessed", "=", "sourceFilesProcessed", ";", "}", "</s>"]
["<s>", "public", "int", "getSourceFilesProcessed", "(", ")", "{", "return", "sourceFilesProcessed", ";", "}", "</s>"]
["<s>", "public", "void", "setSourceSize", "(", "int", "sourceFiles", ")", "{", "this", ".", "sourceFiles", "=", "sourceFiles", ";", "}", "</s>"]
["<s>", "public", "int", "getSourceSize", "(", ")", "{", "return", "sourceFiles", ";", "}", "</s>"]
["<s>", "public", "void", "setTotalSize", "(", "long", "totalSize", ")", "{", "this", ".", "totalSize", "=", "totalSize", ";", "}", "</s>"]
["<s>", "public", "long", "getTotalSize", "(", ")", "{", "return", "this", ".", "totalSize", ";", "}", "</s>"]
["<s>", "public", "void", "setCancelled", "(", "boolean", "isCancelled", ")", "{", "this", ".", "isCancelled", "=", "isCancelled", ";", "}", "</s>"]
["<s>", "public", "boolean", "getCancelled", "(", ")", "{", "return", "isCancelled", ";", "}", "</s>"]
["<s>", "public", "long", "getWrittenSize", "(", ")", "{", "return", "writtenSize", ";", "}", "</s>"]
["<s>", "public", "void", "setProgressListener", "(", "ProgressListener", "progressListener", ")", "{", "this", ".", "progressListener", "=", "progressListener", ";", "}", "</s>"]
["<s>", "void", "onProgressed", "(", "long", "speed", ")", ";", "</s>"]
["<s>", "public", "static", "int", "getStatusColor", "(", "String", "skin", ")", "{", "return", "darker", "(", "Color", ".", "parseColor", "(", "skin", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "int", "getStatusColor", "(", "int", "skin", ")", "{", "return", "darker", "(", "skin", ")", ";", "}", "</s>"]
["<s>", "private", "static", "int", "darker", "(", "int", "color", ")", "{", "int", "a", "=", "Color", ".", "alpha", "(", "color", ")", ";", "int", "r", "=", "Color", ".", "red", "(", "color", ")", ";", "int", "g", "=", "Color", ".", "green", "(", "color", ")", ";", "int", "b", "=", "Color", ".", "blue", "(", "color", ")", ";", "return", "Color", ".", "argb", "(", "a", ",", "Math", ".", "max", "(", "(", "int", ")", "(", "r", "*", "<NUM_LIT>", ")", ",", "0", ")", ",", "Math", ".", "max", "(", "(", "int", ")", "(", "g", "*", "<NUM_LIT>", ")", ",", "0", ")", ",", "Math", ".", "max", "(", "(", "int", ")", "(", "b", "*", "<NUM_LIT>", ")", ",", "0", ")", ")", ";", "}", "</s>"]
["<s>", "void", "onAsyncTaskFinished", "(", "T", "data", ")", ";", "</s>"]
["<s>", "public", "LruBitmapCache", "(", "int", "maxSize", ")", "{", "super", "(", "maxSize", ")", ";", "}", "</s>"]
["<s>", "public", "LruBitmapCache", "(", ")", "{", "this", "(", "getDefaultCacheSize", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "static", "int", "getDefaultCacheSize", "(", ")", "{", "int", "memory", "=", "(", "int", ")", "(", "Runtime", ".", "getRuntime", "(", ")", ".", "maxMemory", "(", ")", "/", "<NUM_LIT>", ")", ";", "return", "memory", "/", "<NUM_LIT:8>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Bitmap", "getBitmap", "(", "String", "url", ")", "{", "return", "get", "(", "url", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "putBitmap", "(", "String", "url", ",", "Bitmap", "bitmap", ")", "{", "put", "(", "url", ",", "bitmap", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "int", "sizeOf", "(", "String", "key", ",", "Bitmap", "value", ")", "{", "return", "value", ".", "getByteCount", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "compare", "(", "String", "[", "]", "lhs", ",", "String", "[", "]", "rhs", ")", "{", "int", "result", "=", "lhs", "[", "0", "]", ".", "compareToIgnoreCase", "(", "rhs", "[", "0", "]", ")", ";", "if", "(", "result", "=", "=", "0", ")", "{", "result", "=", "lhs", "[", "1", "]", ".", "compareToIgnoreCase", "(", "rhs", "[", "1", "]", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "public", "static", "Interpolator", "getFastOutSlowInInterpolator", "(", "Context", "context", ")", "{", "if", "(", "fastOutSlowIn", "=", "=", "null", ")", "{", "fastOutSlowIn", "=", "AnimationUtils", ".", "loadInterpolator", "(", "context", ",", "android", ".", "R", ".", "interpolator", ".", "fast_out_slow_in", ")", ";", "}", "return", "fastOutSlowIn", ";", "}", "</s>"]
["<s>", "public", "static", "void", "marqueeAfterDelay", "(", "int", "delayInMillis", ",", "ThemedTextView", "marqueeView", ")", "{", "new", "Handler", "(", ")", ".", "postDelayed", "(", "(", ")", "-", ">", "{", "marqueeView", ".", "setSelected", "(", "true", ")", ";", "}", ",", "delayInMillis", ")", ";", "}", "</s>"]
["<s>", "public", "ObtainableServiceBinder", "(", "T", "service", ")", "{", "this", ".", "service", "=", "service", ";", "}", "</s>"]
["<s>", "public", "T", "getService", "(", ")", "{", "return", "service", ";", "}", "</s>"]
["<s>", "public", "static", "float", "clamp", "(", "float", "min", ",", "float", "max", ",", "float", "value", ")", "{", "float", "minimum", "=", "Math", ".", "max", "(", "min", ",", "value", ")", ";", "return", "Math", ".", "min", "(", "minimum", ",", "max", ")", ";", "}", "</s>"]
["<s>", "public", "static", "float", "getViewRawY", "(", "View", "view", ")", "{", "int", "[", "]", "location", "=", "new", "int", "[", "<NUM_LIT:2>", "]", ";", "location", "[", "0", "]", "=", "0", ";", "location", "[", "1", "]", "=", "(", "int", ")", "view", ".", "getY", "(", ")", ";", "(", "(", "View", ")", "view", ".", "getParent", "(", ")", ")", ".", "getLocationInWindow", "(", "location", ")", ";", "return", "location", "[", "1", "]", ";", "}", "</s>"]
["<s>", "public", "static", "void", "setTint", "(", "Context", "context", ",", "CheckBox", "box", ",", "int", "color", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "return", ";", "ColorStateList", "sl", "=", "new", "ColorStateList", "(", "new", "int", "[", "]", "[", "]", "{", "new", "int", "[", "]", "{", "-", "android", ".", "R", ".", "attr", ".", "state_checked", "}", ",", "new", "int", "[", "]", "{", "android", ".", "R", ".", "attr", ".", "state_checked", "}", "}", ",", "new", "int", "[", "]", "{", "getColor", "(", "context", ",", "R", ".", "color", ".", "grey", ")", ",", "color", "}", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "box", ".", "setButtonTintList", "(", "sl", ")", ";", "}", "else", "{", "Drawable", "drawable", "=", "DrawableCompat", ".", "wrap", "(", "ContextCompat", ".", "getDrawable", "(", "box", ".", "getContext", "(", ")", ",", "R", ".", "drawable", ".", "abc_btn_check_material", ")", ")", ";", "DrawableCompat", ".", "setTintList", "(", "drawable", ",", "sl", ")", ";", "box", ".", "setButtonDrawable", "(", "drawable", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "String", "getDate", "(", "long", "f", ")", "{", "return", "DATE_WITH_MINUTES", ".", "format", "(", "f", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "getDate", "(", "long", "f", ",", "String", "year", ")", "{", "String", "date", "=", "DATE_NO_MINUTES", ".", "format", "(", "f", ")", ";", "if", "(", "date", ".", "substring", "(", "date", ".", "length", "(", ")", "-", "<NUM_LIT:4>", ",", "date", ".", "length", "(", ")", ")", ".", "equals", "(", "year", ")", ")", "date", "=", "date", ".", "substring", "(", "0", ",", "date", ".", "length", "(", ")", "-", "<NUM_LIT:6>", ")", ";", "return", "date", ";", "}", "</s>"]
["<s>", "public", "static", "int", "getColor", "(", "Context", "c", ",", "@", "ColorRes", "int", "color", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "{", "return", "c", ".", "getColor", "(", "color", ")", ";", "}", "else", "{", "return", "c", ".", "getResources", "(", ")", ".", "getColor", "(", "color", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "int", "dpToPx", "(", "Context", "c", ",", "int", "dp", ")", "{", "DisplayMetrics", "displayMetrics", "=", "c", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ";", "return", "Math", ".", "round", "(", "dp", "*", "(", "displayMetrics", ".", "xdpi", "/", "DisplayMetrics", ".", "DENSITY_DEFAULT", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "differenceStrings", "(", "String", "str1", ",", "String", "str2", ")", "{", "if", "(", "str1", "=", "=", "null", ")", "return", "str2", ";", "if", "(", "str2", "=", "=", "null", ")", "return", "str1", ";", "int", "at", "=", "indexOfDifferenceStrings", "(", "str1", ",", "str2", ")", ";", "if", "(", "at", "=", "=", "INDEX_NOT_FOUND", ")", "return", "\"", "\"", ";", "return", "str2", ".", "substring", "(", "at", ")", ";", "}", "</s>"]
["<s>", "private", "static", "int", "indexOfDifferenceStrings", "(", "CharSequence", "cs1", ",", "CharSequence", "cs2", ")", "{", "if", "(", "cs1", "=", "=", "cs2", ")", "return", "INDEX_NOT_FOUND", ";", "if", "(", "cs1", "=", "=", "null", "|", "|", "cs2", "=", "=", "null", ")", "return", "0", ";", "int", "i", ";", "for", "(", "i", "=", "0", ";", "i", "<", "cs1", ".", "length", "(", ")", "&", "&", "i", "<", "cs2", ".", "length", "(", ")", ";", "+", "+", "i", ")", "{", "if", "(", "cs1", ".", "charAt", "(", "i", ")", "!", "=", "cs2", ".", "charAt", "(", "i", ")", ")", "break", ";", "}", "if", "(", "i", "<", "cs2", ".", "length", "(", ")", "|", "|", "i", "<", "cs1", ".", "length", "(", ")", ")", "return", "i", ";", "return", "INDEX_NOT_FOUND", ";", "}", "</s>"]
["<s>", "public", "static", "void", "disableScreenRotation", "(", "MainActivity", "mainActivity", ")", "{", "int", "screenOrientation", "=", "mainActivity", ".", "getResources", "(", ")", ".", "getConfiguration", "(", ")", ".", "orientation", ";", "if", "(", "screenOrientation", "=", "=", "Configuration", ".", "ORIENTATION_LANDSCAPE", ")", "{", "mainActivity", ".", "setRequestedOrientation", "(", "ActivityInfo", ".", "SCREEN_ORIENTATION_LANDSCAPE", ")", ";", "}", "else", "if", "(", "screenOrientation", "=", "=", "Configuration", ".", "ORIENTATION_PORTRAIT", ")", "{", "mainActivity", ".", "setRequestedOrientation", "(", "ActivityInfo", ".", "SCREEN_ORIENTATION_PORTRAIT", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "boolean", "isDeviceInLandScape", "(", "Activity", "activity", ")", "{", "return", "activity", ".", "getResources", "(", ")", ".", "getConfiguration", "(", ")", ".", "orientation", "=", "=", "Configuration", ".", "ORIENTATION_LANDSCAPE", ";", "}", "</s>"]
["<s>", "public", "static", "String", "sanitizeInput", "(", "String", "input", ")", "{", "String", "sanitizedInput", ";", "String", "sanitizedInputTemp", "=", "input", ";", "while", "(", "true", ")", "{", "sanitizedInput", "=", "sanitizeInputOnce", "(", "sanitizedInputTemp", ")", ";", "if", "(", "sanitizedInput", ".", "equals", "(", "sanitizedInputTemp", ")", ")", "break", ";", "sanitizedInputTemp", "=", "sanitizedInput", ";", "}", "return", "sanitizedInput", ";", "}", "</s>"]
["<s>", "private", "static", "String", "sanitizeInputOnce", "(", "String", "input", ")", "{", "return", "input", ".", "replaceAll", "(", "INPUT_INTENT_BLACKLIST_PIPE", ",", "\"", "\"", ")", ".", "replaceAll", "(", "INPUT_INTENT_BLACKLIST_AMP", ",", "\"", "\"", ")", ".", "replaceAll", "(", "INPUT_INTENT_BLACKLIST_DOTS", ",", "\"", "\"", ")", ".", "replaceAll", "(", "INPUT_INTENT_BLACKLIST_COLON", ",", "\"", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Uri", "getUriForBaseFile", "(", "Context", "context", ",", "HybridFileParcelable", "baseFile", ")", "{", "switch", "(", "baseFile", ".", "getMode", "(", ")", ")", "{", "case", "FILE", ":", "case", "ROOT", ":", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "N", ")", "{", "return", "GenericFileProvider", ".", "getUriForFile", "(", "context", ",", "GenericFileProvider", ".", "PROVIDER_NAME", ",", "new", "File", "(", "baseFile", ".", "getPath", "(", ")", ")", ")", ";", "}", "else", "{", "return", "Uri", ".", "fromFile", "(", "new", "File", "(", "baseFile", ".", "getPath", "(", ")", ")", ")", ";", "}", "case", "OTG", ":", "return", "OTGUtil", ".", "getDocumentFile", "(", "baseFile", ".", "getPath", "(", ")", ",", "context", ",", "true", ")", ".", "getUri", "(", ")", ";", "case", "SMB", ":", "case", "DROPBOX", ":", "case", "GDRIVE", ":", "case", "ONEDRIVE", ":", "case", "BOX", ":", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "smb_launch_error", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", "null", ";", "default", ":", "return", "null", ";", "}", "}", "</s>"]
["<s>", "public", "static", "int", "nthToLastCharIndex", "(", "int", "elementNumber", ",", "String", "str", ",", "char", "element", ")", "{", "if", "(", "elementNumber", "<", "=", "0", ")", "throw", "new", "IllegalArgumentException", "(", ")", ";", "int", "occurencies", "=", "0", ";", "for", "(", "int", "i", "=", "str", ".", "length", "(", ")", "-", "1", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "if", "(", "str", ".", "charAt", "(", "i", ")", "=", "=", "element", "&", "&", "+", "+", "occurencies", "=", "=", "elementNumber", ")", "{", "return", "i", ";", "}", "}", "return", "-", "1", ";", "}", "</s>"]
["<s>", "public", "static", "String", "formatTimer", "(", "long", "timer", ")", "{", "final", "long", "min", "=", "TimeUnit", ".", "SECONDS", ".", "toMinutes", "(", "timer", ")", ";", "final", "long", "sec", "=", "TimeUnit", ".", "SECONDS", ".", "toSeconds", "(", "timer", "-", "TimeUnit", ".", "MINUTES", ".", "toMillis", "(", "min", ")", ")", ";", "return", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "min", ",", "sec", ")", ";", "}", "</s>"]
["<s>", "private", "DataUtils", "(", ")", "{", "}", "</s>"]
["<s>", "public", "static", "DataUtils", "getInstance", "(", ")", "{", "return", "DataUtilsHolder", ".", "INSTANCE", ";", "}", "</s>"]
["<s>", "public", "int", "containsServer", "(", "String", "[", "]", "a", ")", "{", "return", "contains", "(", "a", ",", "servers", ")", ";", "}", "</s>"]
["<s>", "public", "int", "containsServer", "(", "String", "path", ")", "{", "synchronized", "(", "servers", ")", "{", "if", "(", "servers", "=", "=", "null", ")", "return", "-", "1", ";", "int", "i", "=", "0", ";", "for", "(", "String", "[", "]", "x", ":", "servers", ")", "{", "if", "(", "x", "[", "1", "]", ".", "equals", "(", "path", ")", ")", "return", "i", ";", "i", "+", "+", ";", "}", "}", "return", "-", "1", ";", "}", "</s>"]
["<s>", "public", "int", "containsBooks", "(", "String", "[", "]", "a", ")", "{", "return", "contains", "(", "a", ",", "books", ")", ";", "}", "</s>"]
["<s>", "public", "synchronized", "int", "containsAccounts", "(", "OpenMode", "serviceType", ")", "{", "int", "i", "=", "0", ";", "for", "(", "CloudStorage", "storage", ":", "accounts", ")", "{", "switch", "(", "serviceType", ")", "{", "case", "BOX", ":", "if", "(", "storage", "instanceof", "Box", ")", "return", "i", ";", "break", ";", "case", "DROPBOX", ":", "if", "(", "storage", "instanceof", "Dropbox", ")", "return", "i", ";", "break", ";", "case", "GDRIVE", ":", "if", "(", "storage", "instanceof", "GoogleDrive", ")", "return", "i", ";", "break", ";", "case", "ONEDRIVE", ":", "if", "(", "storage", "instanceof", "OneDrive", ")", "return", "i", ";", "break", ";", "default", ":", "return", "-", "1", ";", "}", "i", "+", "+", ";", "}", "return", "-", "1", ";", "}", "</s>"]
["<s>", "public", "void", "clear", "(", ")", "{", "hiddenfiles", "=", "new", "ConcurrentRadixTree", "<", ">", "(", "new", "DefaultCharArrayNodeFactory", "(", ")", ")", ";", "filesGridOrList", "=", "new", "ConcurrentInvertedRadixTree", "<", ">", "(", "new", "DefaultCharArrayNodeFactory", "(", ")", ")", ";", "history", ".", "clear", "(", ")", ";", "storages", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "tree", "=", "new", "ConcurrentInvertedRadixTree", "<", ">", "(", "new", "DefaultCharArrayNodeFactory", "(", ")", ")", ";", "menuMetadataMap", ".", "clear", "(", ")", ";", "servers", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "books", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "accounts", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "registerOnDataChangedListener", "(", "DataChangeListener", "l", ")", "{", "dataChangeListener", "=", "l", ";", "clear", "(", ")", ";", "}", "</s>"]
["<s>", "int", "contains", "(", "String", "a", ",", "ArrayList", "<", "String", "[", "]", ">", "b", ")", "{", "int", "i", "=", "0", ";", "for", "(", "String", "[", "]", "x", ":", "b", ")", "{", "if", "(", "x", "[", "1", "]", ".", "equals", "(", "a", ")", ")", "return", "i", ";", "i", "+", "+", ";", "}", "return", "-", "1", ";", "}", "</s>"]
["<s>", "int", "contains", "(", "String", "[", "]", "a", ",", "ArrayList", "<", "String", "[", "]", ">", "b", ")", "{", "if", "(", "b", "=", "=", "null", ")", "return", "-", "1", ";", "int", "i", "=", "0", ";", "for", "(", "String", "[", "]", "x", ":", "b", ")", "{", "if", "(", "x", "[", "0", "]", ".", "equals", "(", "a", "[", "0", "]", ")", "&", "&", "x", "[", "1", "]", ".", "equals", "(", "a", "[", "1", "]", ")", ")", "return", "i", ";", "i", "+", "+", ";", "}", "return", "-", "1", ";", "}", "</s>"]
["<s>", "public", "void", "removeBook", "(", "int", "i", ")", "{", "synchronized", "(", "books", ")", "{", "if", "(", "books", ".", "size", "(", ")", ">", "i", ")", "books", ".", "remove", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "synchronized", "void", "removeAccount", "(", "OpenMode", "serviceType", ")", "{", "for", "(", "CloudStorage", "storage", ":", "accounts", ")", "{", "switch", "(", "serviceType", ")", "{", "case", "BOX", ":", "if", "(", "storage", "instanceof", "Box", ")", "{", "accounts", ".", "remove", "(", "storage", ")", ";", "return", ";", "}", "break", ";", "case", "DROPBOX", ":", "if", "(", "storage", "instanceof", "Dropbox", ")", "{", "accounts", ".", "remove", "(", "storage", ")", ";", "return", ";", "}", "break", ";", "case", "GDRIVE", ":", "if", "(", "storage", "instanceof", "GoogleDrive", ")", "{", "accounts", ".", "remove", "(", "storage", ")", ";", "return", ";", "}", "break", ";", "case", "ONEDRIVE", ":", "if", "(", "storage", "instanceof", "OneDrive", ")", "{", "accounts", ".", "remove", "(", "storage", ")", ";", "return", ";", "}", "break", ";", "default", ":", "return", ";", "}", "}", "}", "</s>"]
["<s>", "public", "void", "removeServer", "(", "int", "i", ")", "{", "synchronized", "(", "servers", ")", "{", "if", "(", "servers", ".", "size", "(", ")", ">", "i", ")", "servers", ".", "remove", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "addBook", "(", "String", "[", "]", "i", ")", "{", "synchronized", "(", "books", ")", "{", "books", ".", "add", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "addBook", "(", "final", "String", "[", "]", "i", ",", "boolean", "refreshdrawer", ")", "{", "synchronized", "(", "books", ")", "{", "books", ".", "add", "(", "i", ")", ";", "}", "if", "(", "refreshdrawer", "&", "&", "dataChangeListener", "!", "=", "null", ")", "{", "dataChangeListener", ".", "onBookAdded", "(", "i", ",", "true", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "addAccount", "(", "CloudStorage", "storage", ")", "{", "accounts", ".", "add", "(", "storage", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addServer", "(", "String", "[", "]", "i", ")", "{", "servers", ".", "add", "(", "i", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addHiddenFile", "(", "final", "String", "i", ")", "{", "synchronized", "(", "hiddenfiles", ")", "{", "hiddenfiles", ".", "put", "(", "i", ",", "VoidValue", ".", "SINGLETON", ")", ";", "}", "if", "(", "dataChangeListener", "!", "=", "null", ")", "{", "dataChangeListener", ".", "onHiddenFileAdded", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "removeHiddenFile", "(", "final", "String", "i", ")", "{", "synchronized", "(", "hiddenfiles", ")", "{", "hiddenfiles", ".", "remove", "(", "i", ")", ";", "}", "if", "(", "dataChangeListener", "!", "=", "null", ")", "{", "dataChangeListener", ".", "onHiddenFileRemoved", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setHistory", "(", "LinkedList", "<", "String", ">", "s", ")", "{", "history", ".", "clear", "(", ")", ";", "history", ".", "addAll", "(", "s", ")", ";", "}", "</s>"]
["<s>", "public", "LinkedList", "<", "String", ">", "getHistory", "(", ")", "{", "return", "history", ";", "}", "</s>"]
["<s>", "public", "void", "addHistoryFile", "(", "final", "String", "i", ")", "{", "history", ".", "push", "(", "i", ")", ";", "if", "(", "dataChangeListener", "!", "=", "null", ")", "{", "dataChangeListener", ".", "onHistoryAdded", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "sortBook", "(", ")", "{", "Collections", ".", "sort", "(", "books", ",", "new", "BookSorter", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "synchronized", "void", "setServers", "(", "ArrayList", "<", "String", "[", "]", ">", "servers", ")", "{", "if", "(", "servers", "!", "=", "null", ")", "this", ".", "servers", "=", "servers", ";", "}", "</s>"]
["<s>", "public", "synchronized", "void", "setBooks", "(", "ArrayList", "<", "String", "[", "]", ">", "books", ")", "{", "if", "(", "books", "!", "=", "null", ")", "this", ".", "books", "=", "books", ";", "}", "</s>"]
["<s>", "public", "synchronized", "void", "setAccounts", "(", "ArrayList", "<", "CloudStorage", ">", "accounts", ")", "{", "if", "(", "accounts", "!", "=", "null", ")", "this", ".", "accounts", "=", "accounts", ";", "}", "</s>"]
["<s>", "public", "synchronized", "ArrayList", "<", "String", "[", "]", ">", "getServers", "(", ")", "{", "return", "servers", ";", "}", "</s>"]
["<s>", "public", "synchronized", "ArrayList", "<", "String", "[", "]", ">", "getBooks", "(", ")", "{", "return", "books", ";", "}", "</s>"]
["<s>", "public", "synchronized", "ArrayList", "<", "CloudStorage", ">", "getAccounts", "(", ")", "{", "return", "accounts", ";", "}", "</s>"]
["<s>", "public", "synchronized", "CloudStorage", "getAccount", "(", "OpenMode", "serviceType", ")", "{", "for", "(", "CloudStorage", "storage", ":", "accounts", ")", "{", "switch", "(", "serviceType", ")", "{", "case", "BOX", ":", "if", "(", "storage", "instanceof", "Box", ")", "return", "storage", ";", "break", ";", "case", "DROPBOX", ":", "if", "(", "storage", "instanceof", "Dropbox", ")", "return", "storage", ";", "break", ";", "case", "GDRIVE", ":", "if", "(", "storage", "instanceof", "GoogleDrive", ")", "return", "storage", ";", "break", ";", "case", "ONEDRIVE", ":", "if", "(", "storage", "instanceof", "OneDrive", ")", "return", "storage", ";", "break", ";", "default", ":", "return", "null", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "boolean", "isFileHidden", "(", "String", "path", ")", "{", "return", "getHiddenFiles", "(", ")", ".", "getValueForExactKey", "(", "path", ")", "!", "=", "null", ";", "}", "</s>"]
["<s>", "public", "ConcurrentRadixTree", "<", "VoidValue", ">", "getHiddenFiles", "(", ")", "{", "return", "hiddenfiles", ";", "}", "</s>"]
["<s>", "public", "synchronized", "void", "setHiddenFiles", "(", "ConcurrentRadixTree", "<", "VoidValue", ">", "hiddenfiles", ")", "{", "if", "(", "hiddenfiles", "!", "=", "null", ")", "this", ".", "hiddenfiles", "=", "hiddenfiles", ";", "}", "</s>"]
["<s>", "public", "synchronized", "void", "setGridfiles", "(", "ArrayList", "<", "String", ">", "gridfiles", ")", "{", "if", "(", "gridfiles", "!", "=", "null", ")", "{", "for", "(", "String", "gridfile", ":", "gridfiles", ")", "{", "setPathAsGridOrList", "(", "gridfile", ",", "GRID", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "synchronized", "void", "setListfiles", "(", "ArrayList", "<", "String", ">", "listfiles", ")", "{", "if", "(", "listfiles", "!", "=", "null", ")", "{", "for", "(", "String", "gridfile", ":", "listfiles", ")", "{", "setPathAsGridOrList", "(", "gridfile", ",", "LIST", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "void", "setPathAsGridOrList", "(", "String", "path", ",", "int", "value", ")", "{", "filesGridOrList", ".", "put", "(", "path", ",", "value", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getListOrGridForPath", "(", "String", "path", ",", "int", "defaultValue", ")", "{", "Integer", "value", "=", "filesGridOrList", ".", "getValueForLongestKeyPrefixing", "(", "path", ")", ";", "return", "value", "!", "=", "null", "?", "value", ":", "defaultValue", ";", "}", "</s>"]
["<s>", "public", "void", "clearHistory", "(", ")", "{", "history", ".", "clear", "(", ")", ";", "if", "(", "dataChangeListener", "!", "=", "null", ")", "{", "AppConfig", ".", "runInBackground", "(", "(", ")", "-", ">", "dataChangeListener", ".", "onHistoryCleared", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "synchronized", "List", "<", "String", ">", "getStorages", "(", ")", "{", "return", "storages", ";", "}", "</s>"]
["<s>", "public", "synchronized", "void", "setStorages", "(", "ArrayList", "<", "String", ">", "storages", ")", "{", "this", ".", "storages", "=", "storages", ";", "}", "</s>"]
["<s>", "public", "MenuMetadata", "getDrawerMetadata", "(", "MenuItem", "item", ")", "{", "return", "menuMetadataMap", ".", "get", "(", "item", ")", ";", "}", "</s>"]
["<s>", "public", "void", "putDrawerMetadata", "(", "MenuItem", "item", ",", "MenuMetadata", "metadata", ")", "{", "menuMetadataMap", ".", "put", "(", "item", ",", "metadata", ")", ";", "if", "(", "metadata", ".", "path", "!", "=", "null", ")", "tree", ".", "put", "(", "metadata", ".", "path", ",", "item", ".", "getItemId", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "@", "Nullable", "Integer", "findLongestContainingDrawerItem", "(", "CharSequence", "path", ")", "{", "return", "tree", ".", "getValueForLongestKeyPrefixing", "(", "path", ")", ";", "}", "</s>"]
["<s>", "void", "onHiddenFileAdded", "(", "String", "path", ")", ";", "</s>"]
["<s>", "void", "onHiddenFileRemoved", "(", "String", "path", ")", ";", "</s>"]
["<s>", "void", "onHistoryAdded", "(", "String", "path", ")", ";", "</s>"]
["<s>", "void", "onBookAdded", "(", "String", "path", "[", "]", ",", "boolean", "refreshdrawer", ")", ";", "</s>"]
["<s>", "void", "onHistoryCleared", "(", ")", ";", "</s>"]
["<s>", "public", "static", "String", "getSmbDecryptedPath", "(", "Context", "context", ",", "String", "path", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "if", "(", "!", "(", "path", ".", "contains", "(", "\"", "<STR_LIT::>", "\"", ")", "&", "&", "path", ".", "contains", "(", "\"", "<STR_LIT:@>", "\"", ")", ")", ")", "{", "return", "path", ";", "}", "StringBuilder", "buffer", "=", "new", "StringBuilder", "(", ")", ";", "buffer", ".", "append", "(", "path", ".", "substring", "(", "0", ",", "path", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ",", "<NUM_LIT:4>", ")", "+", "1", ")", ")", ";", "String", "encryptedPassword", "=", "path", ".", "substring", "(", "path", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ",", "<NUM_LIT:4>", ")", "+", "1", ",", "path", ".", "lastIndexOf", "(", "\"", "<STR_LIT:@>", "\"", ")", ")", ";", "if", "(", "!", "TextUtils", ".", "isEmpty", "(", "encryptedPassword", ")", ")", "{", "String", "decryptedPassword", "=", "CryptUtil", ".", "decryptPassword", "(", "context", ",", "encryptedPassword", ")", ";", "buffer", ".", "append", "(", "decryptedPassword", ")", ";", "}", "buffer", ".", "append", "(", "path", ".", "substring", "(", "path", ".", "lastIndexOf", "(", "\"", "<STR_LIT:@>", "\"", ")", ",", "path", ".", "length", "(", ")", ")", ")", ";", "return", "buffer", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "getSmbEncryptedPath", "(", "Context", "context", ",", "String", "path", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "if", "(", "!", "(", "path", ".", "contains", "(", "\"", "<STR_LIT::>", "\"", ")", "&", "&", "path", ".", "contains", "(", "\"", "<STR_LIT:@>", "\"", ")", ")", ")", "{", "return", "path", ";", "}", "StringBuilder", "buffer", "=", "new", "StringBuilder", "(", ")", ";", "buffer", ".", "append", "(", "path", ".", "substring", "(", "0", ",", "path", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ",", "<NUM_LIT:4>", ")", "+", "1", ")", ")", ";", "String", "decryptedPassword", "=", "path", ".", "substring", "(", "path", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ",", "<NUM_LIT:4>", ")", "+", "1", ",", "path", ".", "lastIndexOf", "(", "\"", "<STR_LIT:@>", "\"", ")", ")", ";", "if", "(", "!", "TextUtils", ".", "isEmpty", "(", "decryptedPassword", ")", ")", "{", "String", "encryptPassword", "=", "CryptUtil", ".", "encryptPassword", "(", "context", ",", "decryptedPassword", ")", ";", "buffer", ".", "append", "(", "encryptPassword", ")", ";", "}", "buffer", ".", "append", "(", "path", ".", "substring", "(", "path", ".", "lastIndexOf", "(", "\"", "<STR_LIT:@>", "\"", ")", ",", "path", ".", "length", "(", ")", ")", ")", ";", "return", "buffer", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "public", "MainActivityHelper", "(", "MainActivity", "mainActivity", ")", "{", "this", ".", "mainActivity", "=", "mainActivity", ";", "accentColor", "=", "mainActivity", ".", "getAccent", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "showFailedOperationDialog", "(", "ArrayList", "<", "HybridFileParcelable", ">", "failedOps", ",", "Context", "contextc", ")", "{", "MaterialDialog", ".", "Builder", "mat", "=", "new", "MaterialDialog", ".", "Builder", "(", "contextc", ")", ";", "mat", ".", "title", "(", "contextc", ".", "getString", "(", "R", ".", "string", ".", "operationunsuccesful", ")", ")", ";", "mat", ".", "theme", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "mat", ".", "positiveColor", "(", "accentColor", ")", ";", "mat", ".", "positiveText", "(", "R", ".", "string", ".", "cancel", ")", ";", "String", "content", "=", "contextc", ".", "getString", "(", "R", ".", "string", ".", "operation_fail_following", ")", ";", "int", "k", "=", "1", ";", "for", "(", "HybridFileParcelable", "s", ":", "failedOps", ")", "{", "content", "=", "content", "+", "\"", "<STR_LIT>", "<STR_LIT>", "\"", "+", "(", "k", ")", "+", "\"", "<STR_LIT>", "\"", "+", "s", ".", "getName", "(", ")", ";", "k", "+", "+", ";", "}", "mat", ".", "content", "(", "content", ")", ";", "mat", ".", "build", "(", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "if", "(", "intent", "!", "=", "null", ")", "{", "if", "(", "intent", ".", "getAction", "(", ")", ".", "equals", "(", "Intent", ".", "ACTION_MEDIA_MOUNTED", ")", ")", "{", "Toast", ".", "makeText", "(", "mainActivity", ",", "\"", "<STR_LIT>", "\"", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "String", "a", "=", "intent", ".", "getData", "(", ")", ".", "getPath", "(", ")", ";", "if", "(", "a", "!", "=", "null", "&", "&", "a", ".", "trim", "(", ")", ".", "length", "(", ")", "!", "=", "0", "&", "&", "new", "File", "(", "a", ")", ".", "exists", "(", ")", "&", "&", "new", "File", "(", "a", ")", ".", "canExecute", "(", ")", ")", "{", "dataUtils", ".", "getStorages", "(", ")", ".", "add", "(", "a", ")", ";", "mainActivity", ".", "getDrawer", "(", ")", ".", "refreshDrawer", "(", ")", ";", "}", "else", "{", "mainActivity", ".", "getDrawer", "(", ")", ".", "refreshDrawer", "(", ")", ";", "}", "}", "else", "if", "(", "intent", ".", "getAction", "(", ")", ".", "equals", "(", "Intent", ".", "ACTION_MEDIA_UNMOUNTED", ")", ")", "{", "mainActivity", ".", "getDrawer", "(", ")", ".", "refreshDrawer", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "void", "mkdir", "(", "final", "OpenMode", "openMode", ",", "final", "String", "path", ",", "final", "MainFragment", "ma", ")", "{", "mk", "(", "R", ".", "string", ".", "newfolder", ",", "\"", "\"", ",", "(", "dialog", ",", "which", ")", "-", ">", "{", "EditText", "textfield", "=", "dialog", ".", "getCustomView", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "singleedittext_input", ")", ";", "mkDir", "(", "new", "HybridFile", "(", "openMode", ",", "path", "+", "\"", "<STR_LIT:/>", "\"", "+", "textfield", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ",", "ma", ")", ";", "dialog", ".", "dismiss", "(", ")", ";", "}", ",", "(", "text", ")", "-", ">", "{", "boolean", "isValidFilename", "=", "FileUtil", ".", "isValidFilename", "(", "text", ")", ";", "if", "(", "!", "isValidFilename", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "invalid_name", ")", ";", "}", "else", "if", "(", "text", ".", "length", "(", ")", "<", "1", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "field_empty", ")", ";", "}", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "void", "mkfile", "(", "final", "OpenMode", "openMode", ",", "final", "String", "path", ",", "final", "MainFragment", "ma", ")", "{", "mk", "(", "R", ".", "string", ".", "newfile", ",", "NEW_FILE_TXT_EXTENSION", ",", "(", "dialog", ",", "which", ")", "-", ">", "{", "EditText", "textfield", "=", "dialog", ".", "getCustomView", "(", ")", ".", "findViewById", "(", "R", ".", "id", ".", "singleedittext_input", ")", ";", "mkFile", "(", "new", "HybridFile", "(", "openMode", ",", "path", "+", "\"", "<STR_LIT:/>", "\"", "+", "textfield", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ",", "ma", ")", ";", "dialog", ".", "dismiss", "(", ")", ";", "}", ",", "(", "text", ")", "-", ">", "{", "boolean", "isValidFilename", "=", "FileUtil", ".", "isValidFilename", "(", "text", ")", ";", "if", "(", "isValidFilename", "&", "&", "text", ".", "length", "(", ")", ">", "0", ")", "{", "SharedPreferences", "prefs", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "mainActivity", ")", ";", "if", "(", "text", ".", "startsWith", "(", "\"", "<STR_LIT:.>", "\"", ")", "&", "&", "!", "prefs", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_SHOW_HIDDENFILES", ",", "false", ")", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_WARNING", ",", "R", ".", "string", ".", "create_hidden_file_warn", ")", ";", "}", "else", "if", "(", "!", "text", ".", "toLowerCase", "(", ")", ".", "endsWith", "(", "NEW_FILE_TXT_EXTENSION", ")", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_WARNING", ",", "R", ".", "string", ".", "create_file_suggest_txt_extension", ")", ";", "}", "}", "else", "{", "if", "(", "!", "isValidFilename", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "invalid_name", ")", ";", "}", "else", "if", "(", "text", ".", "length", "(", ")", "<", "1", ")", "{", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", "WarnableTextInputValidator", ".", "ReturnState", ".", "STATE_ERROR", ",", "R", ".", "string", ".", "field_empty", ")", ";", "}", "}", "return", "new", "WarnableTextInputValidator", ".", "ReturnState", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "private", "void", "mk", "(", "@", "StringRes", "int", "newText", ",", "String", "prefill", ",", "final", "MaterialDialog", ".", "SingleButtonCallback", "onPositiveAction", ",", "final", "WarnableTextInputValidator", ".", "OnTextValidate", "validator", ")", "{", "GeneralDialogCreation", ".", "showNameDialog", "(", "mainActivity", ",", "mainActivity", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "entername", ")", ",", "prefill", ",", "mainActivity", ".", "getResources", "(", ")", ".", "getString", "(", "newText", ")", ",", "mainActivity", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "create", ")", ",", "mainActivity", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cancel", ")", ",", "null", ",", "onPositiveAction", ",", "validator", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "add", "(", "int", "pos", ")", "{", "final", "MainFragment", "ma", "=", "(", "MainFragment", ")", "(", "(", "TabFragment", ")", "mainActivity", ".", "getSupportFragmentManager", "(", ")", ".", "findFragmentById", "(", "R", ".", "id", ".", "content_frame", ")", ")", ".", "getCurrentTabFragment", "(", ")", ";", "final", "String", "path", "=", "ma", ".", "getCurrentPath", "(", ")", ";", "switch", "(", "pos", ")", "{", "case", "NEW_FOLDER", ":", "mkdir", "(", "ma", ".", "openMode", ",", "path", ",", "ma", ")", ";", "break", ";", "case", "NEW_FILE", ":", "mkfile", "(", "ma", ".", "openMode", ",", "path", ",", "ma", ")", ";", "break", ";", "case", "NEW_CLOUD", ":", "BottomSheetDialogFragment", "fragment", "=", "new", "CloudSheetFragment", "(", ")", ";", "fragment", ".", "show", "(", "ma", ".", "getActivity", "(", ")", ".", "getSupportFragmentManager", "(", ")", ",", "CloudSheetFragment", ".", "TAG_FRAGMENT", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "public", "String", "getIntegralNames", "(", "String", "path", ")", "{", "String", "newPath", "=", "\"", "\"", ";", "switch", "(", "Integer", ".", "parseInt", "(", "path", ")", ")", "{", "case", "0", ":", "newPath", "=", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "images", ")", ";", "break", ";", "case", "1", ":", "newPath", "=", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "videos", ")", ";", "break", ";", "case", "<NUM_LIT:2>", ":", "newPath", "=", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "audio", ")", ";", "break", ";", "case", "<NUM_LIT:3>", ":", "newPath", "=", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "documents", ")", ";", "break", ";", "case", "<NUM_LIT:4>", ":", "newPath", "=", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "apks", ")", ";", "break", ";", "case", "<NUM_LIT:5>", ":", "newPath", "=", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "quick", ")", ";", "break", ";", "case", "<NUM_LIT:6>", ":", "newPath", "=", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "recent", ")", ";", "break", ";", "}", "return", "newPath", ";", "}", "</s>"]
["<s>", "public", "void", "guideDialogForLEXA", "(", "String", "path", ")", "{", "final", "MaterialDialog", ".", "Builder", "x", "=", "new", "MaterialDialog", ".", "Builder", "(", "mainActivity", ")", ";", "x", ".", "theme", "(", "mainActivity", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "x", ".", "title", "(", "R", ".", "string", ".", "needsaccess", ")", ";", "LayoutInflater", "layoutInflater", "=", "(", "LayoutInflater", ")", "mainActivity", ".", "getSystemService", "(", "Context", ".", "LAYOUT_INFLATER_SERVICE", ")", ";", "View", "view", "=", "layoutInflater", ".", "inflate", "(", "R", ".", "layout", ".", "lexadrawer", ",", "null", ")", ";", "x", ".", "customView", "(", "view", ",", "true", ")", ";", "TextView", "textView", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "description", ")", ";", "textView", ".", "setText", "(", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "needsaccesssummary", ")", "+", "path", "+", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "needsaccesssummary1", ")", ")", ";", "(", "(", "ImageView", ")", "view", ".", "findViewById", "(", "R", ".", "id", ".", "icon", ")", ")", ".", "setImageResource", "(", "R", ".", "drawable", ".", "sd_operate_step", ")", ";", "x", ".", "positiveText", "(", "R", ".", "string", ".", "open", ")", ".", "negativeText", "(", "R", ".", "string", ".", "cancel", ")", ".", "positiveColor", "(", "accentColor", ")", ".", "negativeColor", "(", "accentColor", ")", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "triggerStorageAccessFramework", "(", ")", ")", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "Toast", ".", "makeText", "(", "mainActivity", ",", "R", ".", "string", ".", "error", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ")", ";", "final", "MaterialDialog", "y", "=", "x", ".", "build", "(", ")", ";", "y", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "triggerStorageAccessFramework", "(", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "Intent", ".", "ACTION_OPEN_DOCUMENT_TREE", ")", ";", "mainActivity", ".", "startActivityForResult", "(", "intent", ",", "<NUM_LIT:3>", ")", ";", "}", "</s>"]
["<s>", "public", "void", "rename", "(", "OpenMode", "mode", ",", "final", "String", "oldPath", ",", "final", "String", "newPath", ",", "final", "Activity", "context", ",", "boolean", "rootmode", ")", "{", "final", "Toast", "toast", "=", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "renaming", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ";", "toast", ".", "show", "(", ")", ";", "Operations", ".", "rename", "(", "new", "HybridFile", "(", "mode", ",", "oldPath", ")", ",", "new", "HybridFile", "(", "mode", ",", "newPath", ")", ",", "rootmode", ",", "context", ",", "new", "Operations", ".", "ErrorCallBack", "(", ")", "{", "@", "Override", "public", "void", "exists", "(", "HybridFile", "file", ")", "{", "context", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "Toast", ".", "makeText", "(", "mainActivity", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "fileexist", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", ")", ";", "}", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ")", "{", "}", "@", "Override", "public", "void", "launchSAF", "(", "final", "HybridFile", "file", ",", "final", "HybridFile", "file1", ")", "{", "context", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "mainActivity", ".", "oppathe", "=", "file", ".", "getPath", "(", ")", ";", "mainActivity", ".", "oppathe1", "=", "file1", ".", "getPath", "(", ")", ";", "mainActivity", ".", "operation", "=", "DataUtils", ".", "RENAME", ";", "guideDialogForLEXA", "(", "mainActivity", ".", "oppathe1", ")", ";", "}", ")", ";", "}", "@", "Override", "public", "void", "done", "(", "final", "HybridFile", "hFile", ",", "final", "boolean", "b", ")", "{", "context", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "b", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST", ")", ";", "intent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST_FILE", ",", "hFile", ".", "getParent", "(", "context", ")", ")", ";", "mainActivity", ".", "sendBroadcast", "(", "intent", ")", ";", "if", "(", "oldPath", ".", "endsWith", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ")", ")", "{", "try", "{", "CryptHandler", "cryptHandler", "=", "new", "CryptHandler", "(", "context", ")", ";", "EncryptedEntry", "oldEntry", "=", "cryptHandler", ".", "findEntry", "(", "oldPath", ")", ";", "EncryptedEntry", "newEntry", "=", "new", "EncryptedEntry", "(", ")", ";", "newEntry", ".", "setId", "(", "oldEntry", ".", "getId", "(", ")", ")", ";", "newEntry", ".", "setPassword", "(", "oldEntry", ".", "getPassword", "(", ")", ")", ";", "newEntry", ".", "setPath", "(", "newPath", ")", ";", "cryptHandler", ".", "updateEntry", "(", "oldEntry", ",", "newEntry", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "else", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "operationunsuccesful", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", ")", ";", "}", "@", "Override", "public", "void", "invalidName", "(", "final", "HybridFile", "file", ")", "{", "context", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "invalid_name", ")", "+", "\"", "<STR_LIT>", "\"", "+", "file", ".", "getName", "(", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "exists", "(", "HybridFile", "file", ")", "{", "context", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "Toast", ".", "makeText", "(", "mainActivity", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "fileexist", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "launchSAF", "(", "final", "HybridFile", "file", ",", "final", "HybridFile", "file1", ")", "{", "context", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "mainActivity", ".", "oppathe", "=", "file", ".", "getPath", "(", ")", ";", "mainActivity", ".", "oppathe1", "=", "file1", ".", "getPath", "(", ")", ";", "mainActivity", ".", "operation", "=", "DataUtils", ".", "RENAME", ";", "guideDialogForLEXA", "(", "mainActivity", ".", "oppathe1", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "done", "(", "final", "HybridFile", "hFile", ",", "final", "boolean", "b", ")", "{", "context", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "b", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST", ")", ";", "intent", ".", "putExtra", "(", "MainActivity", ".", "KEY_INTENT_LOAD_LIST_FILE", ",", "hFile", ".", "getParent", "(", "context", ")", ")", ";", "mainActivity", ".", "sendBroadcast", "(", "intent", ")", ";", "if", "(", "oldPath", ".", "endsWith", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ")", ")", "{", "try", "{", "CryptHandler", "cryptHandler", "=", "new", "CryptHandler", "(", "context", ")", ";", "EncryptedEntry", "oldEntry", "=", "cryptHandler", ".", "findEntry", "(", "oldPath", ")", ";", "EncryptedEntry", "newEntry", "=", "new", "EncryptedEntry", "(", ")", ";", "newEntry", ".", "setId", "(", "oldEntry", ".", "getId", "(", ")", ")", ";", "newEntry", ".", "setPassword", "(", "oldEntry", ".", "getPassword", "(", ")", ")", ";", "newEntry", ".", "setPath", "(", "newPath", ")", ";", "cryptHandler", ".", "updateEntry", "(", "oldEntry", ",", "newEntry", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "else", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "operationunsuccesful", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "invalidName", "(", "final", "HybridFile", "file", ")", "{", "context", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "invalid_name", ")", "+", "\"", "<STR_LIT>", "\"", "+", "file", ".", "getName", "(", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "public", "int", "checkFolder", "(", "final", "File", "folder", ",", "Context", "context", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "if", "(", "FileUtil", ".", "isOnExtSdCard", "(", "folder", ",", "context", ")", ")", "{", "if", "(", "!", "folder", ".", "exists", "(", ")", "|", "|", "!", "folder", ".", "isDirectory", "(", ")", ")", "{", "return", "DOESNT_EXIST", ";", "}", "if", "(", "!", "FileUtil", ".", "isWritableNormalOrSaf", "(", "folder", ",", "context", ")", ")", "{", "guideDialogForLEXA", "(", "folder", ".", "getPath", "(", ")", ")", ";", "return", "CAN_CREATE_FILES", ";", "}", "return", "WRITABLE_OR_ON_SDCARD", ";", "}", "else", "if", "(", "FileUtil", ".", "isWritable", "(", "new", "File", "(", "folder", ",", "\"", "<STR_LIT>", "\"", ")", ")", ")", "{", "return", "WRITABLE_OR_ON_SDCARD", ";", "}", "else", "return", "DOESNT_EXIST", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "<NUM_LIT>", ")", "{", "if", "(", "FileUtil", ".", "isOnExtSdCard", "(", "folder", ",", "context", ")", ")", "{", "return", "WRITABLE_OR_ON_SDCARD", ";", "}", "else", "if", "(", "FileUtil", ".", "isWritable", "(", "new", "File", "(", "folder", ",", "\"", "<STR_LIT>", "\"", ")", ")", ")", "{", "return", "WRITABLE_OR_ON_SDCARD", ";", "}", "else", "return", "DOESNT_EXIST", ";", "}", "else", "if", "(", "FileUtil", ".", "isWritable", "(", "new", "File", "(", "folder", ",", "\"", "<STR_LIT>", "\"", ")", ")", ")", "{", "return", "WRITABLE_OR_ON_SDCARD", ";", "}", "else", "{", "return", "DOESNT_EXIST", ";", "}", "}", "</s>"]
["<s>", "public", "void", "compressFiles", "(", "File", "file", ",", "ArrayList", "<", "HybridFileParcelable", ">", "baseFiles", ")", "{", "int", "mode", "=", "checkFolder", "(", "file", ".", "getParentFile", "(", ")", ",", "mainActivity", ")", ";", "if", "(", "mode", "=", "=", "<NUM_LIT:2>", ")", "{", "mainActivity", ".", "oppathe", "=", "(", "file", ".", "getPath", "(", ")", ")", ";", "mainActivity", ".", "operation", "=", "DataUtils", ".", "COMPRESS", ";", "mainActivity", ".", "oparrayList", "=", "baseFiles", ";", "}", "else", "if", "(", "mode", "=", "=", "1", ")", "{", "Intent", "intent2", "=", "new", "Intent", "(", "mainActivity", ",", "ZipService", ".", "class", ")", ";", "intent2", ".", "putExtra", "(", "ZipService", ".", "KEY_COMPRESS_PATH", ",", "file", ".", "getPath", "(", ")", ")", ";", "intent2", ".", "putExtra", "(", "ZipService", ".", "KEY_COMPRESS_FILES", ",", "baseFiles", ")", ";", "ServiceWatcherUtil", ".", "runService", "(", "mainActivity", ",", "intent2", ")", ";", "}", "else", "Toast", ".", "makeText", "(", "mainActivity", ",", "R", ".", "string", ".", "not_allowed", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "mkFile", "(", "final", "HybridFile", "path", ",", "final", "MainFragment", "ma", ")", "{", "final", "Toast", "toast", "=", "Toast", ".", "makeText", "(", "ma", ".", "getActivity", "(", ")", ",", "ma", ".", "getString", "(", "R", ".", "string", ".", "creatingfile", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ";", "toast", ".", "show", "(", ")", ";", "Operations", ".", "mkfile", "(", "path", ",", "ma", ".", "getActivity", "(", ")", ",", "mainActivity", ".", "isRootExplorer", "(", ")", ",", "new", "Operations", ".", "ErrorCallBack", "(", ")", "{", "@", "Override", "public", "void", "exists", "(", "final", "HybridFile", "file", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "Toast", ".", "makeText", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "fileexist", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "if", "(", "ma", "!", "=", "null", "&", "&", "ma", ".", "getActivity", "(", ")", "!", "=", "null", ")", "{", "mkfile", "(", "file", ".", "getMode", "(", ")", ",", "file", ".", "getParent", "(", ")", ",", "ma", ")", ";", "}", "}", ")", ";", "}", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "mainActivity", ".", "oppathe", "=", "path", ".", "getPath", "(", ")", ";", "mainActivity", ".", "operation", "=", "DataUtils", ".", "NEW_FILE", ";", "guideDialogForLEXA", "(", "mainActivity", ".", "oppathe", ")", ";", "}", ")", ";", "}", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ",", "HybridFile", "file1", ")", "{", "}", "@", "Override", "public", "void", "done", "(", "HybridFile", "hFile", ",", "final", "boolean", "b", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "b", ")", "{", "ma", ".", "updateList", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "ma", ".", "getActivity", "(", ")", ",", "ma", ".", "getString", "(", "R", ".", "string", ".", "operationunsuccesful", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", ")", ";", "}", "@", "Override", "public", "void", "invalidName", "(", "final", "HybridFile", "file", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "Toast", ".", "makeText", "(", "ma", ".", "getActivity", "(", ")", ",", "ma", ".", "getString", "(", "R", ".", "string", ".", "invalid_name", ")", "+", "\"", "<STR_LIT>", "\"", "+", "file", ".", "getName", "(", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "exists", "(", "final", "HybridFile", "file", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "Toast", ".", "makeText", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "fileexist", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "if", "(", "ma", "!", "=", "null", "&", "&", "ma", ".", "getActivity", "(", ")", "!", "=", "null", ")", "{", "mkfile", "(", "file", ".", "getMode", "(", ")", ",", "file", ".", "getParent", "(", ")", ",", "ma", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "mainActivity", ".", "oppathe", "=", "path", ".", "getPath", "(", ")", ";", "mainActivity", ".", "operation", "=", "DataUtils", ".", "NEW_FILE", ";", "guideDialogForLEXA", "(", "mainActivity", ".", "oppathe", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ",", "HybridFile", "file1", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "done", "(", "HybridFile", "hFile", ",", "final", "boolean", "b", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "b", ")", "{", "ma", ".", "updateList", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "ma", ".", "getActivity", "(", ")", ",", "ma", ".", "getString", "(", "R", ".", "string", ".", "operationunsuccesful", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "invalidName", "(", "final", "HybridFile", "file", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "Toast", ".", "makeText", "(", "ma", ".", "getActivity", "(", ")", ",", "ma", ".", "getString", "(", "R", ".", "string", ".", "invalid_name", ")", "+", "\"", "<STR_LIT>", "\"", "+", "file", ".", "getName", "(", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "public", "void", "mkDir", "(", "final", "HybridFile", "path", ",", "final", "MainFragment", "ma", ")", "{", "final", "Toast", "toast", "=", "Toast", ".", "makeText", "(", "ma", ".", "getActivity", "(", ")", ",", "ma", ".", "getString", "(", "R", ".", "string", ".", "creatingfolder", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ";", "toast", ".", "show", "(", ")", ";", "Operations", ".", "mkdir", "(", "path", ",", "ma", ".", "getActivity", "(", ")", ",", "mainActivity", ".", "isRootExplorer", "(", ")", ",", "new", "Operations", ".", "ErrorCallBack", "(", ")", "{", "@", "Override", "public", "void", "exists", "(", "final", "HybridFile", "file", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "Toast", ".", "makeText", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "fileexist", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "if", "(", "ma", "!", "=", "null", "&", "&", "ma", ".", "getActivity", "(", ")", "!", "=", "null", ")", "{", "mkdir", "(", "file", ".", "getMode", "(", ")", ",", "file", ".", "getParent", "(", ")", ",", "ma", ")", ";", "}", "}", ")", ";", "}", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ")", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "mainActivity", ".", "oppathe", "=", "path", ".", "getPath", "(", ")", ";", "mainActivity", ".", "operation", "=", "DataUtils", ".", "NEW_FOLDER", ";", "guideDialogForLEXA", "(", "mainActivity", ".", "oppathe", ")", ";", "}", ")", ";", "}", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ",", "HybridFile", "file1", ")", "{", "}", "@", "Override", "public", "void", "done", "(", "HybridFile", "hFile", ",", "final", "boolean", "b", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "b", ")", "{", "ma", ".", "updateList", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "ma", ".", "getActivity", "(", ")", ",", "ma", ".", "getString", "(", "R", ".", "string", ".", "operationunsuccesful", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", ")", ";", "}", "@", "Override", "public", "void", "invalidName", "(", "final", "HybridFile", "file", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "Toast", ".", "makeText", "(", "ma", ".", "getActivity", "(", ")", ",", "ma", ".", "getString", "(", "R", ".", "string", ".", "invalid_name", ")", "+", "\"", "<STR_LIT>", "\"", "+", "file", ".", "getName", "(", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "exists", "(", "final", "HybridFile", "file", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "Toast", ".", "makeText", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "fileexist", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "if", "(", "ma", "!", "=", "null", "&", "&", "ma", ".", "getActivity", "(", ")", "!", "=", "null", ")", "{", "mkdir", "(", "file", ".", "getMode", "(", ")", ",", "file", ".", "getParent", "(", ")", ",", "ma", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ")", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "mainActivity", ".", "oppathe", "=", "path", ".", "getPath", "(", ")", ";", "mainActivity", ".", "operation", "=", "DataUtils", ".", "NEW_FOLDER", ";", "guideDialogForLEXA", "(", "mainActivity", ".", "oppathe", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ",", "HybridFile", "file1", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "done", "(", "HybridFile", "hFile", ",", "final", "boolean", "b", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "b", ")", "{", "ma", ".", "updateList", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "ma", ".", "getActivity", "(", ")", ",", "ma", ".", "getString", "(", "R", ".", "string", ".", "operationunsuccesful", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "invalidName", "(", "final", "HybridFile", "file", ")", "{", "ma", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "if", "(", "toast", "!", "=", "null", ")", "toast", ".", "cancel", "(", ")", ";", "Toast", ".", "makeText", "(", "ma", ".", "getActivity", "(", ")", ",", "ma", ".", "getString", "(", "R", ".", "string", ".", "invalid_name", ")", "+", "\"", "<STR_LIT>", "\"", "+", "file", ".", "getName", "(", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "public", "void", "deleteFiles", "(", "ArrayList", "<", "HybridFileParcelable", ">", "files", ")", "{", "if", "(", "files", "=", "=", "null", "|", "|", "files", ".", "size", "(", ")", "=", "=", "0", ")", "return", ";", "if", "(", "files", ".", "get", "(", "0", ")", ".", "isSmb", "(", ")", ")", "{", "new", "DeleteTask", "(", "null", ",", "mainActivity", ")", ".", "execute", "(", "(", "files", ")", ")", ";", "return", ";", "}", "int", "mode", "=", "checkFolder", "(", "new", "File", "(", "files", ".", "get", "(", "0", ")", ".", "getPath", "(", ")", ")", ".", "getParentFile", "(", ")", ",", "mainActivity", ")", ";", "if", "(", "mode", "=", "=", "<NUM_LIT:2>", ")", "{", "mainActivity", ".", "oparrayList", "=", "(", "files", ")", ";", "mainActivity", ".", "operation", "=", "DataUtils", ".", "DELETE", ";", "}", "else", "if", "(", "mode", "=", "=", "1", "|", "|", "mode", "=", "=", "0", ")", "new", "DeleteTask", "(", "null", ",", "mainActivity", ")", ".", "execute", "(", "(", "files", ")", ")", ";", "else", "Toast", ".", "makeText", "(", "mainActivity", ",", "R", ".", "string", ".", "not_allowed", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "extractFile", "(", "File", "file", ")", "{", "int", "mode", "=", "checkFolder", "(", "file", ".", "getParentFile", "(", ")", ",", "mainActivity", ")", ";", "if", "(", "mode", "=", "=", "<NUM_LIT:2>", ")", "{", "mainActivity", ".", "oppathe", "=", "(", "file", ".", "getPath", "(", ")", ")", ";", "mainActivity", ".", "operation", "=", "DataUtils", ".", "EXTRACT", ";", "}", "else", "if", "(", "mode", "=", "=", "1", ")", "{", "Decompressor", "decompressor", "=", "CompressedHelper", ".", "getCompressorInstance", "(", "mainActivity", ",", "file", ")", ";", "decompressor", ".", "decompress", "(", "file", ".", "getPath", "(", ")", ")", ";", "}", "else", "Toast", ".", "makeText", "(", "mainActivity", ",", "R", ".", "string", ".", "not_allowed", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "String", "parseSftpPath", "(", "String", "a", ")", "{", "if", "(", "a", ".", "contains", "(", "\"", "<STR_LIT:@>", "\"", ")", ")", "return", "\"", "<STR_LIT>", "\"", "+", "a", ".", "substring", "(", "a", ".", "lastIndexOf", "(", "\"", "<STR_LIT:@>", "\"", ")", "+", "1", ",", "a", ".", "length", "(", ")", ")", ";", "else", "return", "a", ";", "}", "</s>"]
["<s>", "public", "String", "parseSmbPath", "(", "String", "a", ")", "{", "if", "(", "a", ".", "contains", "(", "\"", "<STR_LIT:@>", "\"", ")", ")", "return", "\"", "<STR_LIT>", "\"", "+", "a", ".", "substring", "(", "a", ".", "indexOf", "(", "\"", "<STR_LIT:@>", "\"", ")", "+", "1", ",", "a", ".", "length", "(", ")", ")", ";", "else", "return", "a", ";", "}", "</s>"]
["<s>", "public", "String", "parseOTGPath", "(", "String", "path", ")", "{", "if", "(", "path", ".", "contains", "(", "OTGUtil", ".", "PREFIX_OTG", ")", ")", "return", "path", ";", "else", "return", "OTGUtil", ".", "PREFIX_OTG", "+", "path", ".", "substring", "(", "path", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ")", "+", "1", ",", "path", ".", "length", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "String", "parseCloudPath", "(", "OpenMode", "serviceType", ",", "String", "path", ")", "{", "switch", "(", "serviceType", ")", "{", "case", "DROPBOX", ":", "if", "(", "path", ".", "contains", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", ")", ")", "return", "path", ";", "else", "return", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", "+", "path", ".", "substring", "(", "path", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ")", "+", "1", ",", "path", ".", "length", "(", ")", ")", ";", "case", "BOX", ":", "if", "(", "path", ".", "contains", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", ")", ")", "return", "path", ";", "else", "return", "CloudHandler", ".", "CLOUD_PREFIX_BOX", "+", "path", ".", "substring", "(", "path", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ")", "+", "1", ",", "path", ".", "length", "(", ")", ")", ";", "case", "GDRIVE", ":", "if", "(", "path", ".", "contains", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", ")", ")", "return", "path", ";", "else", "return", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", "+", "path", ".", "substring", "(", "path", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ")", "+", "1", ",", "path", ".", "length", "(", ")", ")", ";", "case", "ONEDRIVE", ":", "if", "(", "path", ".", "contains", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", ")", ")", "return", "path", ";", "else", "return", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", "+", "path", ".", "substring", "(", "path", ".", "indexOf", "(", "\"", "<STR_LIT::>", "\"", ")", "+", "1", ",", "path", ".", "length", "(", ")", ")", ";", "default", ":", "return", "path", ";", "}", "}", "</s>"]
["<s>", "public", "void", "search", "(", "SharedPreferences", "sharedPrefs", ",", "String", "query", ")", "{", "TabFragment", "tabFragment", "=", "mainActivity", ".", "getTabFragment", "(", ")", ";", "if", "(", "tabFragment", "=", "=", "null", ")", "return", ";", "final", "MainFragment", "ma", "=", "(", "MainFragment", ")", "tabFragment", ".", "getCurrentTabFragment", "(", ")", ";", "final", "String", "fpath", "=", "ma", ".", "getCurrentPath", "(", ")", ";", "SEARCH_TEXT", "=", "query", ";", "mainActivity", ".", "mainFragment", "=", "(", "MainFragment", ")", "mainActivity", ".", "getTabFragment", "(", ")", ".", "getCurrentTabFragment", "(", ")", ";", "FragmentManager", "fm", "=", "mainActivity", ".", "getSupportFragmentManager", "(", ")", ";", "SearchWorkerFragment", "fragment", "=", "(", "SearchWorkerFragment", ")", "fm", ".", "findFragmentByTag", "(", "MainActivity", ".", "TAG_ASYNC_HELPER", ")", ";", "if", "(", "fragment", "!", "=", "null", ")", "{", "if", "(", "fragment", ".", "mSearchAsyncTask", ".", "getStatus", "(", ")", "=", "=", "AsyncTask", ".", "Status", ".", "RUNNING", ")", "{", "fragment", ".", "mSearchAsyncTask", ".", "cancel", "(", "true", ")", ";", "}", "fm", ".", "beginTransaction", "(", ")", ".", "remove", "(", "fragment", ")", ".", "commit", "(", ")", ";", "}", "addSearchFragment", "(", "fm", ",", "new", "SearchWorkerFragment", "(", ")", ",", "fpath", ",", "query", ",", "ma", ".", "openMode", ",", "mainActivity", ".", "isRootExplorer", "(", ")", ",", "sharedPrefs", ".", "getBoolean", "(", "SearchWorkerFragment", ".", "KEY_REGEX", ",", "false", ")", ",", "sharedPrefs", ".", "getBoolean", "(", "SearchWorkerFragment", ".", "KEY_REGEX_MATCHES", ",", "false", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "addSearchFragment", "(", "FragmentManager", "fragmentManager", ",", "Fragment", "fragment", ",", "String", "path", ",", "String", "input", ",", "OpenMode", "openMode", ",", "boolean", "rootMode", ",", "boolean", "regex", ",", "boolean", "matches", ")", "{", "Bundle", "args", "=", "new", "Bundle", "(", ")", ";", "args", ".", "putString", "(", "SearchWorkerFragment", ".", "KEY_INPUT", ",", "input", ")", ";", "args", ".", "putString", "(", "SearchWorkerFragment", ".", "KEY_PATH", ",", "path", ")", ";", "args", ".", "putInt", "(", "SearchWorkerFragment", ".", "KEY_OPEN_MODE", ",", "openMode", ".", "ordinal", "(", ")", ")", ";", "args", ".", "putBoolean", "(", "SearchWorkerFragment", ".", "KEY_ROOT_MODE", ",", "rootMode", ")", ";", "args", ".", "putBoolean", "(", "SearchWorkerFragment", ".", "KEY_REGEX", ",", "regex", ")", ";", "args", ".", "putBoolean", "(", "SearchWorkerFragment", ".", "KEY_REGEX_MATCHES", ",", "matches", ")", ";", "fragment", ".", "setArguments", "(", "args", ")", ";", "fragmentManager", ".", "beginTransaction", "(", ")", ".", "add", "(", "fragment", ",", "MainActivity", ".", "TAG_ASYNC_HELPER", ")", ".", "commit", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isNewDirectoryRecursive", "(", "HybridFile", "file", ")", "{", "return", "file", ".", "getName", "(", ")", ".", "equals", "(", "file", ".", "getParentName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "OneCharacterCharSequence", "(", "final", "char", "value", ",", "final", "int", "length", ")", "{", "this", ".", "value", "=", "value", ";", "this", ".", "length", "=", "length", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "char", "charAt", "(", "int", "index", ")", "{", "if", "(", "index", "<", "length", ")", "return", "value", ";", "throw", "new", "IndexOutOfBoundsException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "length", "(", ")", "{", "return", "length", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CharSequence", "subSequence", "(", "int", "start", ",", "int", "end", ")", "{", "return", "new", "OneCharacterCharSequence", "(", "value", ",", "(", "end", "-", "start", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "char", "[", "]", "array", "=", "new", "char", "[", "length", "]", ";", "Arrays", ".", "fill", "(", "array", ",", "value", ")", ";", "return", "new", "String", "(", "array", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeTextChanged", "(", "CharSequence", "s", ",", "int", "start", ",", "int", "count", ",", "int", "after", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onTextChanged", "(", "CharSequence", "s", ",", "int", "start", ",", "int", "before", ",", "int", "count", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "s", ")", "{", "}", "</s>"]
["<s>", "public", "ScreenUtils", "(", "Activity", "activity", ")", "{", "this", ".", "activity", "=", "activity", ";", "}", "</s>"]
["<s>", "public", "int", "convertDbToPx", "(", "float", "dp", ")", "{", "return", "Math", ".", "round", "(", "activity", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ".", "density", "*", "dp", ")", ";", "}", "</s>"]
["<s>", "public", "int", "convertPxToDb", "(", "float", "px", ")", "{", "return", "Math", ".", "round", "(", "px", "/", "activity", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ".", "density", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getScreenWidthInPx", "(", ")", "{", "DisplayMetrics", "displayMetrics", "=", "new", "DisplayMetrics", "(", ")", ";", "activity", ".", "getWindowManager", "(", ")", ".", "getDefaultDisplay", "(", ")", ".", "getMetrics", "(", "displayMetrics", ")", ";", "return", "displayMetrics", ".", "widthPixels", ";", "}", "</s>"]
["<s>", "public", "int", "getScreenHeightInPx", "(", ")", "{", "DisplayMetrics", "displayMetrics", "=", "new", "DisplayMetrics", "(", ")", ";", "activity", ".", "getWindowManager", "(", ")", ".", "getDefaultDisplay", "(", ")", ".", "getMetrics", "(", "displayMetrics", ")", ";", "return", "displayMetrics", ".", "heightPixels", ";", "}", "</s>"]
["<s>", "public", "int", "getScreenWidthInDp", "(", ")", "{", "return", "convertPxToDb", "(", "getScreenWidthInPx", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "int", "getScreeHeightInDb", "(", ")", "{", "return", "convertPxToDb", "(", "getScreenHeightInPx", "(", ")", ")", ";", "}", "</s>"]
["<s>", "void", "onUpdate", "(", "T", "data", ")", ";", "</s>"]
["<s>", "void", "onFileFound", "(", "HybridFileParcelable", "file", ")", ";", "</s>"]
["<s>", "public", "static", "void", "putBooleanArray", "(", "SharedPreferences", "preferences", ",", "String", "key", ",", "Boolean", "[", "]", "array", ")", "{", "preferences", ".", "edit", "(", ")", ".", "putString", "(", "key", ",", "TextUtils", ".", "join", "(", "DIVIDER", ",", "array", ")", ")", ".", "apply", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Boolean", "[", "]", "getBooleanArray", "(", "SharedPreferences", "preferences", ",", "String", "key", ",", "Boolean", "[", "]", "defaultValue", ")", "{", "String", "prefValue", "=", "preferences", ".", "getString", "(", "key", ",", "\"", "\"", ")", ";", "if", "(", "prefValue", ".", "equals", "(", "\"", "\"", ")", ")", "{", "return", "defaultValue", ";", "}", "String", "[", "]", "temp", "=", "TextUtils", ".", "split", "(", "prefValue", ",", "DIVIDER", ")", ";", "Boolean", "[", "]", "newArray", "=", "new", "Boolean", "[", "temp", ".", "length", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "temp", ".", "length", ";", "i", "+", "+", ")", "newArray", "[", "i", "]", "=", "Boolean", ".", "valueOf", "(", "temp", "[", "i", "]", ")", ";", "return", "newArray", ";", "}", "</s>"]
["<s>", "void", "computerFound", "(", "ComputerParcelable", "computer", ")", ";", "</s>"]
["<s>", "void", "searchFinished", "(", ")", ";", "</s>"]
["<s>", "public", "Task", "(", "String", "str", ")", "{", "this", ".", "addr", "=", "str", ";", "}", "</s>"]
["<s>", "public", "ComputerParcelable", "call", "(", ")", "{", "try", "{", "NbtAddress", "[", "]", "allByAddress", "=", "NbtAddress", ".", "getAllByAddress", "(", "this", ".", "addr", ")", ";", "if", "(", "allByAddress", "=", "=", "null", "|", "|", "allByAddress", ".", "length", "<", "=", "0", ")", "{", "return", "new", "ComputerParcelable", "(", "null", ",", "this", ".", "addr", ")", ";", "}", "return", "new", "ComputerParcelable", "(", "allByAddress", "[", "0", "]", ".", "getHostName", "(", ")", ",", "this", ".", "addr", ")", ";", "}", "catch", "(", "UnknownHostException", "e", ")", "{", "return", "new", "ComputerParcelable", "(", "null", ",", "this", ".", "addr", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "void", "configure", "(", ")", "{", "Config", ".", "setProperty", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Config", ".", "setProperty", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Config", ".", "setProperty", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Config", ".", "setProperty", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT:-1>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "SubnetScanner", "(", "Context", "context", ")", "{", "this", ".", "context", "=", "context", ";", "mLock", "=", "new", "Object", "(", ")", ";", "tasks", "=", "new", "ArrayList", "<", ">", "(", "<NUM_LIT>", ")", ";", "pool", "=", "Executors", ".", "newFixedThreadPool", "(", "<NUM_LIT>", ")", ";", "mResults", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "run", "(", ")", "{", "int", "ipAddress", "=", "(", "(", "WifiManager", ")", "context", ".", "getApplicationContext", "(", ")", ".", "getSystemService", "(", "Context", ".", "WIFI_SERVICE", ")", ")", ".", "getConnectionInfo", "(", ")", ".", "getIpAddress", "(", ")", ";", "if", "(", "ipAddress", "!", "=", "0", ")", "{", "tryWithBroadcast", "(", ")", ";", "String", "formatIpAddress", "=", "Formatter", ".", "formatIpAddress", "(", "ipAddress", ")", ";", "String", "substring", "=", "formatIpAddress", ".", "substring", "(", "0", ",", "formatIpAddress", ".", "lastIndexOf", "(", "<NUM_LIT>", ")", "+", "1", ")", ";", "if", "(", "!", "isInterrupted", "(", ")", ")", "{", "for", "(", "ipAddress", "=", "0", ";", "ipAddress", "<", "<NUM_LIT:100>", ";", "ipAddress", "+", "+", ")", "{", "this", ".", "tasks", ".", "add", "(", "this", ".", "pool", ".", "submit", "(", "new", "Task", "(", "substring", "+", "ipAddress", ")", ")", ")", ";", "this", ".", "tasks", ".", "add", "(", "this", ".", "pool", ".", "submit", "(", "new", "Task", "(", "substring", "+", "(", "ipAddress", "+", "<NUM_LIT:100>", ")", ")", ")", ")", ";", "if", "(", "ipAddress", "<", "<NUM_LIT>", ")", "{", "this", ".", "tasks", ".", "add", "(", "this", ".", "pool", ".", "submit", "(", "new", "Task", "(", "substring", "+", "(", "ipAddress", "+", "<NUM_LIT>", ")", ")", ")", ")", ";", "}", "}", "while", "(", "!", "this", ".", "tasks", ".", "isEmpty", "(", ")", ")", "{", "int", "size", "=", "this", ".", "tasks", ".", "size", "(", ")", ";", "int", "i", "=", "0", ";", "while", "(", "i", "<", "size", ")", "{", "if", "(", "!", "isInterrupted", "(", ")", ")", "{", "try", "{", "ComputerParcelable", "computer", "=", "(", "ComputerParcelable", ")", "(", "(", "Future", ")", "this", ".", "tasks", ".", "get", "(", "i", ")", ")", ".", "get", "(", "1", ",", "TimeUnit", ".", "MILLISECONDS", ")", ";", "this", ".", "tasks", ".", "remove", "(", "i", ")", ";", "size", "-", "-", ";", "if", "(", "computer", ".", "name", "!", "=", "null", ")", "{", "onFound", "(", "computer", ")", ";", "}", "ipAddress", "=", "size", ";", "}", "catch", "(", "InterruptedException", "e", ")", "{", "return", ";", "}", "catch", "(", "ExecutionException", "e2", ")", "{", "ipAddress", "=", "size", ";", "}", "catch", "(", "TimeoutException", "e3", ")", "{", "ipAddress", "=", "size", ";", "}", "i", "+", "+", ";", "size", "=", "ipAddress", ";", "}", "else", "{", "return", ";", "}", "}", "}", "try", "{", "this", ".", "bdThread", ".", "join", "(", ")", ";", "}", "catch", "(", "InterruptedException", "e4", ")", "{", "}", "}", "else", "{", "return", ";", "}", "}", "synchronized", "(", "this", ".", "mLock", ")", "{", "if", "(", "this", ".", "observer", "!", "=", "null", ")", "{", "this", ".", "observer", ".", "searchFinished", "(", ")", ";", "}", "}", "this", ".", "pool", ".", "shutdown", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "tryWithBroadcast", "(", ")", "{", "this", ".", "bdThread", "=", "new", "Thread", "(", ")", "{", "public", "void", "run", "(", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "SubnetScanner", ".", "RETRY_COUNT", ";", "i", "+", "+", ")", "{", "try", "{", "SmbFile", "smbFile", "=", "new", "SmbFile", "(", "\"", "<STR_LIT>", "\"", ")", ";", "smbFile", ".", "setConnectTimeout", "(", "<NUM_LIT>", ")", ";", "SmbFile", "[", "]", "listFiles", "=", "smbFile", ".", "listFiles", "(", ")", ";", "for", "(", "SmbFile", "smbFile2", ":", "listFiles", ")", "{", "SmbFile", "[", "]", "listFiles2", "=", "smbFile2", ".", "listFiles", "(", ")", ";", "for", "(", "SmbFile", "files", ":", "listFiles2", ")", "{", "try", "{", "String", "substring", "=", "files", ".", "getName", "(", ")", ".", "substring", "(", "0", ",", "files", ".", "getName", "(", ")", ".", "length", "(", ")", "-", "1", ")", ";", "UniAddress", "byName", "=", "UniAddress", ".", "getByName", "(", "substring", ")", ";", "if", "(", "byName", "!", "=", "null", ")", "{", "SubnetScanner", ".", "this", ".", "onFound", "(", "new", "ComputerParcelable", "(", "substring", ",", "byName", ".", "getHostAddress", "(", ")", ")", ")", ";", "}", "}", "catch", "(", "Throwable", "e", ")", "{", "}", "}", "}", "}", "catch", "(", "Throwable", "e2", ")", "{", "}", "}", "}", "}", ";", "this", ".", "bdThread", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "run", "(", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "SubnetScanner", ".", "RETRY_COUNT", ";", "i", "+", "+", ")", "{", "try", "{", "SmbFile", "smbFile", "=", "new", "SmbFile", "(", "\"", "<STR_LIT>", "\"", ")", ";", "smbFile", ".", "setConnectTimeout", "(", "<NUM_LIT>", ")", ";", "SmbFile", "[", "]", "listFiles", "=", "smbFile", ".", "listFiles", "(", ")", ";", "for", "(", "SmbFile", "smbFile2", ":", "listFiles", ")", "{", "SmbFile", "[", "]", "listFiles2", "=", "smbFile2", ".", "listFiles", "(", ")", ";", "for", "(", "SmbFile", "files", ":", "listFiles2", ")", "{", "try", "{", "String", "substring", "=", "files", ".", "getName", "(", ")", ".", "substring", "(", "0", ",", "files", ".", "getName", "(", ")", ".", "length", "(", ")", "-", "1", ")", ";", "UniAddress", "byName", "=", "UniAddress", ".", "getByName", "(", "substring", ")", ";", "if", "(", "byName", "!", "=", "null", ")", "{", "SubnetScanner", ".", "this", ".", "onFound", "(", "new", "ComputerParcelable", "(", "substring", ",", "byName", ".", "getHostAddress", "(", ")", ")", ")", ";", "}", "}", "catch", "(", "Throwable", "e", ")", "{", "}", "}", "}", "}", "catch", "(", "Throwable", "e2", ")", "{", "}", "}", "}", "</s>"]
["<s>", "private", "void", "onFound", "(", "ComputerParcelable", "computer", ")", "{", "mResults", ".", "add", "(", "computer", ")", ";", "synchronized", "(", "this", ".", "mLock", ")", "{", "if", "(", "this", ".", "observer", "!", "=", "null", ")", "{", "this", ".", "observer", ".", "computerFound", "(", "computer", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "void", "setObserver", "(", "ScanObserver", "scanObserver", ")", "{", "synchronized", "(", "this", ".", "mLock", ")", "{", "this", ".", "observer", "=", "scanObserver", ";", "}", "}", "</s>"]
["<s>", "public", "void", "interrupt", "(", ")", "{", "super", ".", "interrupt", "(", ")", ";", "try", "{", "this", ".", "pool", ".", "shutdownNow", "(", ")", ";", "}", "catch", "(", "Throwable", "th", ")", "{", "}", "}", "</s>"]
["<s>", "public", "List", "<", "ComputerParcelable", ">", "getResults", "(", ")", "{", "return", "new", "ArrayList", "<", ">", "(", "this", ".", "mResults", ")", ";", "}", "</s>"]
["<s>", "public", "static", "ArrayList", "<", "HybridFileParcelable", ">", "getDocumentFilesList", "(", "String", "path", ",", "Context", "context", ")", "{", "final", "ArrayList", "<", "HybridFileParcelable", ">", "files", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "getDocumentFiles", "(", "path", ",", "context", ",", "files", ":", ":", "add", ")", ";", "return", "files", ";", "}", "</s>"]
["<s>", "public", "static", "void", "getDocumentFiles", "(", "String", "path", ",", "Context", "context", ",", "OnFileFound", "fileFound", ")", "{", "Uri", "rootUriString", "=", "SingletonUsbOtg", ".", "getInstance", "(", ")", ".", "getUsbOtgRoot", "(", ")", ";", "if", "(", "rootUriString", "=", "=", "null", ")", "throw", "new", "NullPointerException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "DocumentFile", "rootUri", "=", "DocumentFile", ".", "fromTreeUri", "(", "context", ",", "rootUriString", ")", ";", "String", "[", "]", "parts", "=", "path", ".", "split", "(", "\"", "<STR_LIT:/>", "\"", ")", ";", "for", "(", "String", "part", ":", "parts", ")", "{", "if", "(", "path", ".", "equals", "(", "OTGUtil", ".", "PREFIX_OTG", "+", "\"", "<STR_LIT:/>", "\"", ")", ")", "break", ";", "if", "(", "part", ".", "equals", "(", "\"", "<STR_LIT::>", "\"", ")", "|", "|", "part", ".", "equals", "(", "\"", "\"", ")", ")", "continue", ";", "rootUri", "=", "rootUri", ".", "findFile", "(", "part", ")", ";", "}", "for", "(", "DocumentFile", "file", ":", "rootUri", ".", "listFiles", "(", ")", ")", "{", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "long", "size", "=", "0", ";", "if", "(", "!", "file", ".", "isDirectory", "(", ")", ")", "size", "=", "file", ".", "length", "(", ")", ";", "Log", ".", "d", "(", "context", ".", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ",", "\"", "<STR_LIT>", "\"", "+", "file", ".", "getName", "(", ")", ")", ";", "HybridFileParcelable", "baseFile", "=", "new", "HybridFileParcelable", "(", "path", "+", "\"", "<STR_LIT:/>", "\"", "+", "file", ".", "getName", "(", ")", ",", "RootHelper", ".", "parseDocumentFilePermission", "(", "file", ")", ",", "file", ".", "lastModified", "(", ")", ",", "size", ",", "file", ".", "isDirectory", "(", ")", ")", ";", "baseFile", ".", "setName", "(", "file", ".", "getName", "(", ")", ")", ";", "baseFile", ".", "setMode", "(", "OpenMode", ".", "OTG", ")", ";", "fileFound", ".", "onFileFound", "(", "baseFile", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "static", "DocumentFile", "getDocumentFile", "(", "String", "path", ",", "Context", "context", ",", "boolean", "createRecursive", ")", "{", "Uri", "rootUriString", "=", "SingletonUsbOtg", ".", "getInstance", "(", ")", ".", "getUsbOtgRoot", "(", ")", ";", "if", "(", "rootUriString", "=", "=", "null", ")", "throw", "new", "NullPointerException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "DocumentFile", "rootUri", "=", "DocumentFile", ".", "fromTreeUri", "(", "context", ",", "rootUriString", ")", ";", "String", "[", "]", "parts", "=", "path", ".", "split", "(", "\"", "<STR_LIT:/>", "\"", ")", ";", "for", "(", "String", "part", ":", "parts", ")", "{", "if", "(", "path", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", "break", ";", "if", "(", "part", ".", "equals", "(", "\"", "<STR_LIT::>", "\"", ")", "|", "|", "part", ".", "equals", "(", "\"", "\"", ")", ")", "continue", ";", "DocumentFile", "nextDocument", "=", "rootUri", ".", "findFile", "(", "part", ")", ";", "if", "(", "createRecursive", "&", "&", "(", "nextDocument", "=", "=", "null", "|", "|", "!", "nextDocument", ".", "exists", "(", ")", ")", ")", "{", "nextDocument", "=", "rootUri", ".", "createFile", "(", "part", ".", "substring", "(", "part", ".", "lastIndexOf", "(", "\"", "<STR_LIT:.>", "\"", ")", ")", ",", "part", ")", ";", "}", "rootUri", "=", "nextDocument", ";", "}", "return", "rootUri", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isMassStorageDeviceConnected", "(", "@", "NonNull", "final", "Context", "context", ")", "{", "UsbManager", "usbManager", "=", "(", "UsbManager", ")", "context", ".", "getSystemService", "(", "USB_SERVICE", ")", ";", "if", "(", "usbManager", "=", "=", "null", ")", "return", "false", ";", "HashMap", "<", "String", ",", "UsbDevice", ">", "devices", "=", "usbManager", ".", "getDeviceList", "(", ")", ";", "for", "(", "String", "deviceName", ":", "devices", ".", "keySet", "(", ")", ")", "{", "UsbDevice", "device", "=", "devices", ".", "get", "(", "deviceName", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "device", ".", "getInterfaceCount", "(", ")", ";", "i", "+", "+", ")", "{", "if", "(", "device", ".", "getInterface", "(", "i", ")", ".", "getInterfaceClass", "(", ")", "=", "=", "UsbConstants", ".", "USB_CLASS_MASS_STORAGE", ")", "{", "return", "true", ";", "}", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "public", "MapEntry", "(", "ImmutableEntry", "<", "Integer", ",", "Integer", ">", "key", ",", "Integer", "value", ")", "{", "super", "(", "key", ",", "value", ")", ";", "}", "</s>"]
["<s>", "void", "changePath", "(", "String", "path", ")", ";", "</s>"]
["<s>", "String", "getPath", "(", ")", ";", "</s>"]
["<s>", "@", "DrawableRes", "int", "getRootDrawable", "(", ")", ";", "</s>"]
["<s>", "public", "static", "void", "setTint", "(", "Context", "context", ",", "EditText", "editText", ",", "int", "color", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "return", ";", "ColorStateList", "editTextColorStateList", "=", "createEditTextColorStateList", "(", "context", ",", "color", ")", ";", "if", "(", "editText", "instanceof", "AppCompatEditText", ")", "{", "(", "(", "AppCompatEditText", ")", "editText", ")", ".", "setSupportBackgroundTintList", "(", "editTextColorStateList", ")", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "editText", ".", "setBackgroundTintList", "(", "editTextColorStateList", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "ColorStateList", "createEditTextColorStateList", "(", "Context", "context", ",", "int", "color", ")", "{", "int", "[", "]", "[", "]", "states", "=", "new", "int", "[", "<NUM_LIT:3>", "]", "[", "]", ";", "int", "[", "]", "colors", "=", "new", "int", "[", "<NUM_LIT:3>", "]", ";", "int", "i", "=", "0", ";", "states", "[", "i", "]", "=", "new", "int", "[", "]", "{", "-", "android", ".", "R", ".", "attr", ".", "state_enabled", "}", ";", "colors", "[", "i", "]", "=", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "text_disabled", ")", ";", "i", "+", "+", ";", "states", "[", "i", "]", "=", "new", "int", "[", "]", "{", "-", "android", ".", "R", ".", "attr", ".", "state_pressed", ",", "-", "android", ".", "R", ".", "attr", ".", "state_focused", "}", ";", "colors", "[", "i", "]", "=", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "grey", ")", ";", "i", "+", "+", ";", "states", "[", "i", "]", "=", "new", "int", "[", "]", "{", "}", ";", "colors", "[", "i", "]", "=", "color", ";", "return", "new", "ColorStateList", "(", "states", ",", "colors", ")", ";", "}", "</s>"]
["<s>", "public", "static", "OpenMode", "getOpenMode", "(", "int", "ordinal", ")", "{", "return", "OpenMode", ".", "values", "(", ")", "[", "ordinal", "]", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isConfigChanged", "(", "Resources", "resources", ")", "{", "int", "changedFieldsMask", "=", "lastConfiguration", ".", "updateFrom", "(", "resources", ".", "getConfiguration", "(", ")", ")", ";", "boolean", "densityChanged", "=", "lastDensity", "!", "=", "resources", ".", "getDisplayMetrics", "(", ")", ".", "densityDpi", ";", "int", "mode", "=", "ActivityInfo", ".", "CONFIG_SCREEN_LAYOUT", "|", "ActivityInfo", ".", "CONFIG_UI_MODE", "|", "ActivityInfo", ".", "CONFIG_LOCALE", ";", "return", "densityChanged", "|", "|", "(", "changedFieldsMask", "&", "mode", ")", "!", "=", "0", ";", "}", "</s>"]
["<s>", "public", "static", "void", "recycle", "(", ")", "{", "lastConfiguration", "=", "new", "Configuration", "(", ")", ";", "lastDensity", "=", "-", "1", ";", "}", "</s>"]
["<s>", "public", "ServiceWatcherUtil", "(", "ProgressHandler", "progressHandler", ")", "{", "this", ".", "progressHandler", "=", "progressHandler", ";", "position", "=", "0", "L", ";", "haltCounter", "=", "-", "1", ";", "handlerThread", "=", "new", "HandlerThread", "(", "\"", "<STR_LIT>", "\"", ")", ";", "handlerThread", ".", "start", "(", ")", ";", "handler", "=", "new", "Handler", "(", "handlerThread", ".", "getLooper", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "watch", "(", "ServiceWatcherInteractionInterface", "interactionInterface", ")", "{", "runnable", "=", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "progressHandler", ".", "getFileName", "(", ")", "=", "=", "null", ")", "handler", ".", "postDelayed", "(", "this", ",", "<NUM_LIT:1000>", ")", ";", "if", "(", "position", "=", "=", "progressHandler", ".", "getWrittenSize", "(", ")", "&", "&", "(", "state", "!", "=", "STATE_HALTED", "&", "&", "+", "+", "haltCounter", ">", "<NUM_LIT:5>", ")", ")", "{", "String", "writtenSize", "=", "Formatter", ".", "formatShortFileSize", "(", "interactionInterface", ".", "getApplicationContext", "(", ")", ",", "progressHandler", ".", "getWrittenSize", "(", ")", ")", ";", "String", "totalSize", "=", "Formatter", ".", "formatShortFileSize", "(", "interactionInterface", ".", "getApplicationContext", "(", ")", ",", "progressHandler", ".", "getTotalSize", "(", ")", ")", ";", "if", "(", "interactionInterface", ".", "isDecryptService", "(", ")", "&", "&", "writtenSize", ".", "equals", "(", "totalSize", ")", ")", "{", "progressHandler", ".", "addWrittenLength", "(", "progressHandler", ".", "getTotalSize", "(", ")", ")", ";", "pendingIntents", ".", "remove", "(", ")", ";", "handler", ".", "removeCallbacks", "(", "this", ")", ";", "handlerThread", ".", "quit", "(", ")", ";", "return", ";", "}", "haltCounter", "=", "0", ";", "state", "=", "STATE_HALTED", ";", "interactionInterface", ".", "progressHalted", "(", ")", ";", "}", "else", "if", "(", "position", "!", "=", "progressHandler", ".", "getWrittenSize", "(", ")", ")", "{", "if", "(", "state", "=", "=", "STATE_HALTED", ")", "{", "state", "=", "STATE_RESUMED", ";", "haltCounter", "=", "0", ";", "interactionInterface", ".", "progressResumed", "(", ")", ";", "}", "else", "{", "state", "=", "STATE_UNSET", ";", "haltCounter", "=", "0", ";", "}", "}", "progressHandler", ".", "addWrittenLength", "(", "position", ")", ";", "if", "(", "position", "=", "=", "progressHandler", ".", "getTotalSize", "(", ")", "|", "|", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "pendingIntents", ".", "remove", "(", ")", ";", "handler", ".", "removeCallbacks", "(", "this", ")", ";", "handlerThread", ".", "quit", "(", ")", ";", "return", ";", "}", "handler", ".", "postDelayed", "(", "this", ",", "<NUM_LIT:1000>", ")", ";", "}", "}", ";", "handler", ".", "postDelayed", "(", "runnable", ",", "<NUM_LIT:1000>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "progressHandler", ".", "getFileName", "(", ")", "=", "=", "null", ")", "handler", ".", "postDelayed", "(", "this", ",", "<NUM_LIT:1000>", ")", ";", "if", "(", "position", "=", "=", "progressHandler", ".", "getWrittenSize", "(", ")", "&", "&", "(", "state", "!", "=", "STATE_HALTED", "&", "&", "+", "+", "haltCounter", ">", "<NUM_LIT:5>", ")", ")", "{", "String", "writtenSize", "=", "Formatter", ".", "formatShortFileSize", "(", "interactionInterface", ".", "getApplicationContext", "(", ")", ",", "progressHandler", ".", "getWrittenSize", "(", ")", ")", ";", "String", "totalSize", "=", "Formatter", ".", "formatShortFileSize", "(", "interactionInterface", ".", "getApplicationContext", "(", ")", ",", "progressHandler", ".", "getTotalSize", "(", ")", ")", ";", "if", "(", "interactionInterface", ".", "isDecryptService", "(", ")", "&", "&", "writtenSize", ".", "equals", "(", "totalSize", ")", ")", "{", "progressHandler", ".", "addWrittenLength", "(", "progressHandler", ".", "getTotalSize", "(", ")", ")", ";", "pendingIntents", ".", "remove", "(", ")", ";", "handler", ".", "removeCallbacks", "(", "this", ")", ";", "handlerThread", ".", "quit", "(", ")", ";", "return", ";", "}", "haltCounter", "=", "0", ";", "state", "=", "STATE_HALTED", ";", "interactionInterface", ".", "progressHalted", "(", ")", ";", "}", "else", "if", "(", "position", "!", "=", "progressHandler", ".", "getWrittenSize", "(", ")", ")", "{", "if", "(", "state", "=", "=", "STATE_HALTED", ")", "{", "state", "=", "STATE_RESUMED", ";", "haltCounter", "=", "0", ";", "interactionInterface", ".", "progressResumed", "(", ")", ";", "}", "else", "{", "state", "=", "STATE_UNSET", ";", "haltCounter", "=", "0", ";", "}", "}", "progressHandler", ".", "addWrittenLength", "(", "position", ")", ";", "if", "(", "position", "=", "=", "progressHandler", ".", "getTotalSize", "(", ")", "|", "|", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "pendingIntents", ".", "remove", "(", ")", ";", "handler", ".", "removeCallbacks", "(", "this", ")", ";", "handlerThread", ".", "quit", "(", ")", ";", "return", ";", "}", "handler", ".", "postDelayed", "(", "this", ",", "<NUM_LIT:1000>", ")", ";", "}", "</s>"]
["<s>", "public", "void", "stopWatch", "(", ")", "{", "if", "(", "handlerThread", ".", "isAlive", "(", ")", ")", "handler", ".", "post", "(", "runnable", ")", ";", "}", "</s>"]
["<s>", "public", "static", "synchronized", "void", "runService", "(", "final", "Context", "context", ",", "final", "Intent", "intent", ")", "{", "pendingIntents", ".", "add", "(", "intent", ")", ";", "switch", "(", "pendingIntents", ".", "size", "(", ")", ")", "{", "case", "1", ":", "postWaiting", "(", "context", ")", ";", "break", ";", "case", "<NUM_LIT:2>", ":", "notificationManager", ".", "notify", "(", "NotificationConstants", ".", "WAIT_ID", ",", "builder", ".", "build", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "synchronized", "void", "postWaiting", "(", "final", "Context", "context", ")", "{", "waitingHandlerThread", "=", "new", "HandlerThread", "(", "\"", "<STR_LIT>", "\"", ")", ";", "waitingHandlerThread", ".", "start", "(", ")", ";", "waitingHandler", "=", "new", "Handler", "(", "waitingHandlerThread", ".", "getLooper", "(", ")", ")", ";", "notificationManager", "=", "(", "NotificationManager", ")", "context", ".", "getSystemService", "(", "Context", ".", "NOTIFICATION_SERVICE", ")", ";", "builder", "=", "new", "NotificationCompat", ".", "Builder", "(", "context", ",", "NotificationConstants", ".", "CHANNEL_NORMAL_ID", ")", ".", "setContentTitle", "(", "context", ".", "getString", "(", "R", ".", "string", ".", "waiting_title", ")", ")", ".", "setContentText", "(", "context", ".", "getString", "(", "R", ".", "string", ".", "waiting_content", ")", ")", ".", "setAutoCancel", "(", "false", ")", ".", "setSmallIcon", "(", "R", ".", "drawable", ".", "ic_all_inclusive_white_36dp", ")", ".", "setProgress", "(", "0", ",", "0", ",", "true", ")", ";", "NotificationConstants", ".", "setMetadata", "(", "context", ",", "builder", ",", "NotificationConstants", ".", "TYPE_NORMAL", ")", ";", "Runnable", "runnable", "=", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "handlerThread", "=", "=", "null", "|", "|", "!", "handlerThread", ".", "isAlive", "(", ")", ")", "{", "if", "(", "pendingIntents", ".", "size", "(", ")", "=", "=", "0", ")", "{", "waitingHandler", ".", "removeCallbacks", "(", "this", ")", ";", "waitingHandlerThread", ".", "quit", "(", ")", ";", "return", ";", "}", "else", "{", "if", "(", "pendingIntents", ".", "size", "(", ")", "=", "=", "1", ")", "{", "notificationManager", ".", "cancel", "(", "NotificationConstants", ".", "WAIT_ID", ")", ";", "}", "context", ".", "startService", "(", "pendingIntents", ".", "element", "(", ")", ")", ";", "}", "}", "Log", ".", "d", "(", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "waitingHandler", ".", "postDelayed", "(", "this", ",", "<NUM_LIT:1000>", ")", ";", "}", "}", ";", "waitingHandler", ".", "postDelayed", "(", "runnable", ",", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "handlerThread", "=", "=", "null", "|", "|", "!", "handlerThread", ".", "isAlive", "(", ")", ")", "{", "if", "(", "pendingIntents", ".", "size", "(", ")", "=", "=", "0", ")", "{", "waitingHandler", ".", "removeCallbacks", "(", "this", ")", ";", "waitingHandlerThread", ".", "quit", "(", ")", ";", "return", ";", "}", "else", "{", "if", "(", "pendingIntents", ".", "size", "(", ")", "=", "=", "1", ")", "{", "notificationManager", ".", "cancel", "(", "NotificationConstants", ".", "WAIT_ID", ")", ";", "}", "context", ".", "startService", "(", "pendingIntents", ".", "element", "(", ")", ")", ";", "}", "}", "Log", ".", "d", "(", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "waitingHandler", ".", "postDelayed", "(", "this", ",", "<NUM_LIT:1000>", ")", ";", "}", "</s>"]
["<s>", "void", "progressHalted", "(", ")", ";", "</s>"]
["<s>", "void", "progressResumed", "(", ")", ";", "</s>"]
["<s>", "Context", "getApplicationContext", "(", ")", ";", "</s>"]
["<s>", "boolean", "isDecryptService", "(", ")", ";", "</s>"]
["<s>", "public", "DatapointParcelable", "(", "String", "name", ",", "int", "amountOfSourceFiles", ",", "long", "totalSize", ",", "boolean", "move", ")", "{", "this", ".", "name", "=", "name", ";", "sourceFiles", "=", "amountOfSourceFiles", ";", "this", ".", "totalSize", "=", "totalSize", ";", "this", ".", "move", "=", "move", ";", "speedRaw", "=", "0", ";", "sourceProgress", "=", "0", ";", "byteProgress", "=", "0", ";", "completed", "=", "false", ";", "}", "</s>"]
["<s>", "public", "DatapointParcelable", "(", "String", "name", ",", "int", "amountOfSourceFiles", ",", "int", "sourceProgress", ",", "long", "totalSize", ",", "long", "byteProgress", ",", "long", "speedRaw", ",", "boolean", "completed", ")", "{", "this", ".", "name", "=", "name", ";", "sourceFiles", "=", "amountOfSourceFiles", ";", "this", ".", "sourceProgress", "=", "sourceProgress", ";", "this", ".", "totalSize", "=", "totalSize", ";", "this", ".", "byteProgress", "=", "byteProgress", ";", "this", ".", "speedRaw", "=", "speedRaw", ";", "this", ".", "completed", "=", "completed", ";", "move", "=", "false", ";", "}", "</s>"]
["<s>", "public", "DatapointParcelable", "(", "String", "name", ",", "int", "amountOfSourceFiles", ",", "int", "sourceProgress", ",", "long", "totalSize", ",", "long", "byteProgress", ",", "long", "speedRaw", ",", "boolean", "move", ",", "boolean", "completed", ")", "{", "this", ".", "name", "=", "name", ";", "sourceFiles", "=", "amountOfSourceFiles", ";", "this", ".", "sourceProgress", "=", "sourceProgress", ";", "this", ".", "totalSize", "=", "totalSize", ";", "this", ".", "byteProgress", "=", "byteProgress", ";", "this", ".", "speedRaw", "=", "speedRaw", ";", "this", ".", "move", "=", "move", ";", "this", ".", "completed", "=", "completed", ";", "}", "</s>"]
["<s>", "protected", "DatapointParcelable", "(", "Parcel", "in", ")", "{", "sourceProgress", "=", "in", ".", "readInt", "(", ")", ";", "byteProgress", "=", "in", ".", "readLong", "(", ")", ";", "sourceFiles", "=", "in", ".", "readInt", "(", ")", ";", "totalSize", "=", "in", ".", "readLong", "(", ")", ";", "completed", "=", "in", ".", "readByte", "(", ")", "!", "=", "0", ";", "move", "=", "in", ".", "readByte", "(", ")", "!", "=", "0", ";", "name", "=", "in", ".", "readString", "(", ")", ";", "speedRaw", "=", "in", ".", "readLong", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "DatapointParcelable", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "DatapointParcelable", "(", "in", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "DatapointParcelable", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "DatapointParcelable", "[", "size", "]", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "describeContents", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeToParcel", "(", "Parcel", "dest", ",", "int", "flags", ")", "{", "dest", ".", "writeInt", "(", "sourceProgress", ")", ";", "dest", ".", "writeLong", "(", "byteProgress", ")", ";", "dest", ".", "writeInt", "(", "sourceFiles", ")", ";", "dest", ".", "writeLong", "(", "totalSize", ")", ";", "dest", ".", "writeByte", "(", "(", "byte", ")", "(", "completed", "?", "1", ":", "0", ")", ")", ";", "dest", ".", "writeByte", "(", "(", "byte", ")", "(", "move", "?", "1", ":", "0", ")", ")", ";", "dest", ".", "writeString", "(", "name", ")", ";", "dest", ".", "writeLong", "(", "speedRaw", ")", ";", "}", "</s>"]
["<s>", "public", "PackageReceiver", "(", "AppListLoader", "listLoader", ")", "{", "this", ".", "listLoader", "=", "listLoader", ";", "IntentFilter", "filter", "=", "new", "IntentFilter", "(", "Intent", ".", "ACTION_PACKAGE_ADDED", ")", ";", "filter", ".", "addAction", "(", "Intent", ".", "ACTION_PACKAGE_REMOVED", ")", ";", "filter", ".", "addAction", "(", "Intent", ".", "ACTION_PACKAGE_CHANGED", ")", ";", "filter", ".", "addDataScheme", "(", "\"", "<STR_LIT>", "\"", ")", ";", "listLoader", ".", "getContext", "(", ")", ".", "registerReceiver", "(", "this", ",", "filter", ")", ";", "IntentFilter", "sdcardFilter", "=", "new", "IntentFilter", "(", "Intent", ".", "ACTION_EXTERNAL_APPLICATIONS_AVAILABLE", ")", ";", "sdcardFilter", ".", "addAction", "(", "Intent", ".", "ACTION_EXTERNAL_APPLICATIONS_UNAVAILABLE", ")", ";", "listLoader", ".", "getContext", "(", ")", ".", "registerReceiver", "(", "this", ",", "sdcardFilter", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "listLoader", ".", "onContentChanged", "(", ")", ";", "}", "</s>"]
["<s>", "public", "CloudIconModelFactory", "(", "Context", "context", ")", "{", "this", ".", "context", "=", "context", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ModelLoader", "<", "String", ",", "Bitmap", ">", "build", "(", "MultiModelLoaderFactory", "multiFactory", ")", "{", "return", "new", "CloudIconModelLoader", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "teardown", "(", ")", "{", "}", "</s>"]
["<s>", "public", "CloudIconDataFetcher", "(", "Context", "context", ",", "String", "path", ",", "int", "width", ",", "int", "height", ")", "{", "this", ".", "context", "=", "context", ";", "this", ".", "path", "=", "path", ";", "this", ".", "width", "=", "width", ";", "this", ".", "height", "=", "height", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "loadData", "(", "Priority", "priority", ",", "DataCallback", "<", "?", "super", "Bitmap", ">", "callback", ")", "{", "inputStream", "=", "CloudUtil", ".", "getThumbnailInputStreamForCloud", "(", "context", ",", "path", ")", ";", "BitmapFactory", ".", "Options", "options", "=", "new", "BitmapFactory", ".", "Options", "(", ")", ";", "options", ".", "outWidth", "=", "width", ";", "options", ".", "outHeight", "=", "height", ";", "Bitmap", "drawable", "=", "BitmapFactory", ".", "decodeStream", "(", "inputStream", ",", "null", ",", "options", ")", ";", "callback", ".", "onDataReady", "(", "drawable", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "cleanup", "(", ")", "{", "try", "{", "if", "(", "inputStream", "!", "=", "null", ")", "inputStream", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "cancel", "(", ")", "{", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "Class", "<", "Bitmap", ">", "getDataClass", "(", ")", "{", "return", "Bitmap", ".", "class", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "DataSource", "getDataSource", "(", ")", "{", "return", "DataSource", ".", "REMOTE", ";", "}", "</s>"]
["<s>", "public", "CloudIconModelLoader", "(", "Context", "context", ")", "{", "this", ".", "context", "=", "context", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "LoadData", "<", "Bitmap", ">", "buildLoadData", "(", "String", "s", ",", "int", "width", ",", "int", "height", ",", "Options", "options", ")", "{", "return", "new", "LoadData", "<", ">", "(", "new", "ObjectKey", "(", "System", ".", "currentTimeMillis", "(", ")", ")", ",", "new", "CloudIconDataFetcher", "(", "context", ",", "s", ",", "width", ",", "height", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "handles", "(", "String", "s", ")", "{", "return", "s", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", ")", "|", "|", "s", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", ")", "|", "|", "s", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", ")", "|", "|", "s", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", ")", "|", "|", "s", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "s", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "RandomAccessStream", "(", "long", "length", ")", "{", "this", ".", "length", "=", "length", ";", "mark", "(", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "synchronized", "void", "reset", "(", ")", "{", "moveTo", "(", "markedPosition", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "synchronized", "void", "mark", "(", "int", "readLimit", ")", "{", "if", "(", "readLimit", "!", "=", "-", "1", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "markedPosition", "=", "getCurrentPosition", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "markSupported", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "public", "long", "availableExact", "(", ")", "{", "return", "length", "-", "getCurrentPosition", "(", ")", ";", "}", "</s>"]
["<s>", "public", "long", "length", "(", ")", "{", "return", "length", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "available", "(", ")", "throws", "IOException", "{", "throw", "new", "IOException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "abstract", "int", "read", "(", ")", "throws", "IOException", ";", "</s>"]
["<s>", "public", "abstract", "void", "moveTo", "(", "long", "position", ")", ";", "</s>"]
["<s>", "protected", "abstract", "long", "getCurrentPosition", "(", ")", ";", "</s>"]
["<s>", "public", "StreamSource", "(", "SmbFile", "file", ",", "long", "l", ")", "{", "super", "(", "l", ")", ";", "fp", "=", "0", ";", "mime", "=", "MimeTypeMap", ".", "getFileExtensionFromUrl", "(", "file", ".", "getName", "(", ")", ")", ";", "name", "=", "file", ".", "getName", "(", ")", ";", "this", ".", "file", "=", "file", ";", "}", "</s>"]
["<s>", "public", "void", "open", "(", ")", "throws", "IOException", "{", "try", "{", "input", "=", "file", ".", "getInputStream", "(", ")", ";", "if", "(", "fp", ">", "0", ")", "input", ".", "skip", "(", "fp", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "throw", "new", "IOException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "read", "(", ")", "throws", "IOException", "{", "int", "read", "=", "input", ".", "read", "(", ")", ";", "if", "(", "read", "!", "=", "-", "1", ")", "fp", "+", "+", ";", "return", "read", ";", "}", "</s>"]
["<s>", "public", "int", "read", "(", "byte", "[", "]", "bytes", ",", "int", "start", ",", "int", "offs", ")", "throws", "IOException", "{", "int", "read", "=", "input", ".", "read", "(", "bytes", ",", "start", ",", "offs", ")", ";", "fp", "+", "=", "read", ";", "return", "read", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "moveTo", "(", "long", "position", ")", "throws", "IllegalArgumentException", "{", "if", "(", "position", "<", "0", "|", "|", "length", "(", ")", "<", "position", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "fp", "=", "position", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "try", "{", "input", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "String", "getMimeType", "(", ")", "{", "return", "mime", ";", "}", "</s>"]
["<s>", "public", "String", "getName", "(", ")", "{", "return", "name", ";", "}", "</s>"]
["<s>", "public", "SmbFile", "getFile", "(", ")", "{", "return", "file", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "long", "getCurrentPosition", "(", ")", "{", "return", "fp", ";", "}", "</s>"]
["<s>", "public", "abstract", "Response", "serve", "(", "String", "uri", ",", "String", "method", ",", "Properties", "header", ",", "Properties", "parms", ",", "Properties", "files", ")", ";", "</s>"]
["<s>", "public", "Response", "(", "String", "status", ",", "String", "mimeType", ",", "StreamSource", "data", ")", "{", "this", ".", "status", "=", "status", ";", "this", ".", "mimeType", "=", "mimeType", ";", "this", ".", "data", "=", "data", ";", "}", "</s>"]
["<s>", "public", "void", "addHeader", "(", "String", "name", ",", "String", "value", ")", "{", "header", ".", "put", "(", "name", ",", "value", ")", ";", "}", "</s>"]
["<s>", "public", "StreamServer", "(", "int", "port", ",", "File", "wwwroot", ")", "throws", "IOException", "{", "myTcpPort", "=", "port", ";", "this", ".", "myRootDir", "=", "wwwroot", ";", "myServerSocket", "=", "tryBind", "(", "myTcpPort", ")", ";", "myThread", "=", "new", "Thread", "(", "(", ")", "-", ">", "{", "try", "{", "while", "(", "true", ")", "{", "Socket", "accept", "=", "myServerSocket", ".", "accept", "(", ")", ";", "new", "HTTPSession", "(", "accept", ")", ";", "}", "}", "catch", "(", "IOException", "ioe", ")", "{", "}", "}", ")", ";", "myThread", ".", "setDaemon", "(", "true", ")", ";", "myThread", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "stop", "(", ")", "{", "try", "{", "myServerSocket", ".", "close", "(", ")", ";", "myThread", ".", "join", "(", ")", ";", "}", "catch", "(", "IOException", "|", "InterruptedException", "e", ")", "{", "}", "}", "</s>"]
["<s>", "private", "ServerSocket", "tryBind", "(", "int", "port", ")", "throws", "IOException", "{", "ServerSocket", "socket", ";", "try", "{", "socket", "=", "new", "ServerSocket", "(", "port", ")", ";", "}", "catch", "(", "BindException", "ifPortIsOccupiedByCloudStreamer", ")", "{", "CloudStreamer", ".", "getInstance", "(", ")", ".", "stop", "(", ")", ";", "socket", "=", "new", "ServerSocket", "(", "port", ")", ";", "}", "return", "socket", ";", "}", "</s>"]
["<s>", "public", "HTTPSession", "(", "Socket", "s", ")", "{", "socket", "=", "s", ";", "Thread", "t", "=", "new", "Thread", "(", "this", ")", ";", "t", ".", "setDaemon", "(", "true", ")", ";", "t", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "run", "(", ")", "{", "try", "{", "handleResponse", "(", "socket", ")", ";", "}", "finally", "{", "if", "(", "is", "!", "=", "null", ")", "{", "try", "{", "is", ".", "close", "(", ")", ";", "socket", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "}", "</s>"]
["<s>", "private", "void", "handleResponse", "(", "Socket", "socket", ")", "{", "try", "{", "is", "=", "socket", ".", "getInputStream", "(", ")", ";", "if", "(", "is", "=", "=", "null", ")", "return", ";", "int", "bufsize", "=", "<NUM_LIT>", ";", "byte", "[", "]", "buf", "=", "new", "byte", "[", "bufsize", "]", ";", "int", "rlen", "=", "is", ".", "read", "(", "buf", ",", "0", ",", "bufsize", ")", ";", "if", "(", "rlen", "<", "=", "0", ")", "return", ";", "ByteArrayInputStream", "hbis", "=", "new", "ByteArrayInputStream", "(", "buf", ",", "0", ",", "rlen", ")", ";", "BufferedReader", "hin", "=", "new", "BufferedReader", "(", "new", "InputStreamReader", "(", "hbis", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "Properties", "pre", "=", "new", "Properties", "(", ")", ";", "Properties", "parms", "=", "new", "Properties", "(", ")", ";", "Properties", "header", "=", "new", "Properties", "(", ")", ";", "Properties", "files", "=", "new", "Properties", "(", ")", ";", "decodeHeader", "(", "hin", ",", "pre", ",", "parms", ",", "header", ")", ";", "Log", ".", "d", "(", "CloudUtil", ".", "TAG", ",", "pre", ".", "toString", "(", ")", ")", ";", "Log", ".", "d", "(", "CloudUtil", ".", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "parms", ".", "toString", "(", ")", ")", ";", "Log", ".", "d", "(", "CloudUtil", ".", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "header", ".", "toString", "(", ")", ")", ";", "String", "method", "=", "pre", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "String", "uri", "=", "pre", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "long", "size", "=", "<NUM_LIT>", ";", "String", "contentLength", "=", "header", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "contentLength", "!", "=", "null", ")", "{", "try", "{", "size", "=", "Integer", ".", "parseInt", "(", "contentLength", ")", ";", "}", "catch", "(", "NumberFormatException", "ex", ")", "{", "}", "}", "int", "splitbyte", "=", "0", ";", "boolean", "sbfound", "=", "false", ";", "while", "(", "splitbyte", "<", "rlen", ")", "{", "if", "(", "buf", "[", "splitbyte", "]", "=", "=", "<STR_LIT>", "&", "&", "buf", "[", "+", "+", "splitbyte", "]", "=", "=", "<STR_LIT:\\n>", "&", "&", "buf", "[", "+", "+", "splitbyte", "]", "=", "=", "<STR_LIT>", "&", "&", "buf", "[", "+", "+", "splitbyte", "]", "=", "=", "<STR_LIT:\\n>", ")", "{", "sbfound", "=", "true", ";", "break", ";", "}", "splitbyte", "+", "+", ";", "}", "splitbyte", "+", "+", ";", "ByteArrayOutputStream", "f", "=", "new", "ByteArrayOutputStream", "(", ")", ";", "if", "(", "splitbyte", "<", "rlen", ")", "f", ".", "write", "(", "buf", ",", "splitbyte", ",", "rlen", "-", "splitbyte", ")", ";", "if", "(", "splitbyte", "<", "rlen", ")", "size", "-", "=", "rlen", "-", "splitbyte", "+", "1", ";", "else", "if", "(", "!", "sbfound", "|", "|", "size", "=", "=", "<NUM_LIT>", ")", "size", "=", "0", ";", "buf", "=", "new", "byte", "[", "<NUM_LIT>", "]", ";", "while", "(", "rlen", ">", "=", "0", "&", "&", "size", ">", "0", ")", "{", "rlen", "=", "is", ".", "read", "(", "buf", ",", "0", ",", "<NUM_LIT>", ")", ";", "size", "-", "=", "rlen", ";", "if", "(", "rlen", ">", "0", ")", "f", ".", "write", "(", "buf", ",", "0", ",", "rlen", ")", ";", "}", "byte", "[", "]", "fbuf", "=", "f", ".", "toByteArray", "(", ")", ";", "ByteArrayInputStream", "bin", "=", "new", "ByteArrayInputStream", "(", "fbuf", ")", ";", "BufferedReader", "in", "=", "new", "BufferedReader", "(", "new", "InputStreamReader", "(", "bin", ")", ")", ";", "if", "(", "method", ".", "equalsIgnoreCase", "(", "\"", "<STR_LIT:POST>", "\"", ")", ")", "{", "String", "contentType", "=", "\"", "\"", ";", "String", "contentTypeHeader", "=", "header", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "StringTokenizer", "st", "=", "new", "StringTokenizer", "(", "contentTypeHeader", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "st", ".", "hasMoreTokens", "(", ")", ")", "{", "contentType", "=", "st", ".", "nextToken", "(", ")", ";", "}", "if", "(", "contentType", ".", "equalsIgnoreCase", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "if", "(", "!", "st", ".", "hasMoreTokens", "(", ")", ")", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "String", "boundaryExp", "=", "st", ".", "nextToken", "(", ")", ";", "st", "=", "new", "StringTokenizer", "(", "boundaryExp", ",", "\"", "<STR_LIT:=>", "\"", ")", ";", "if", "(", "st", ".", "countTokens", "(", ")", "!", "=", "<NUM_LIT:2>", ")", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "st", ".", "nextToken", "(", ")", ";", "String", "boundary", "=", "st", ".", "nextToken", "(", ")", ";", "decodeMultipartData", "(", "boundary", ",", "fbuf", ",", "in", ",", "parms", ",", "files", ")", ";", "}", "else", "{", "String", "postLine", "=", "\"", "\"", ";", "char", "pbuf", "[", "]", "=", "new", "char", "[", "<NUM_LIT>", "]", ";", "int", "read", "=", "in", ".", "read", "(", "pbuf", ")", ";", "while", "(", "read", ">", "=", "0", "&", "&", "!", "postLine", ".", "endsWith", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ")", "{", "postLine", "+", "=", "String", ".", "valueOf", "(", "pbuf", ",", "0", ",", "read", ")", ";", "read", "=", "in", ".", "read", "(", "pbuf", ")", ";", "if", "(", "Thread", ".", "interrupted", "(", ")", ")", "{", "throw", "new", "InterruptedException", "(", ")", ";", "}", "}", "postLine", "=", "postLine", ".", "trim", "(", ")", ";", "decodeParms", "(", "postLine", ",", "parms", ")", ";", "}", "}", "Response", "r", "=", "serve", "(", "uri", ",", "method", ",", "header", ",", "parms", ",", "files", ")", ";", "if", "(", "r", "=", "=", "null", ")", "sendError", "(", "socket", ",", "HTTP_INTERNALERROR", ",", "\"", "<STR_LIT>", "\"", ")", ";", "else", "sendResponse", "(", "socket", ",", "r", ".", "status", ",", "r", ".", "mimeType", ",", "r", ".", "header", ",", "r", ".", "data", ")", ";", "in", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "ioe", ")", "{", "try", "{", "sendError", "(", "socket", ",", "HTTP_INTERNALERROR", ",", "\"", "<STR_LIT>", "\"", "+", "ioe", ".", "getMessage", "(", ")", ")", ";", "}", "catch", "(", "Throwable", "t", ")", "{", "}", "}", "catch", "(", "InterruptedException", "ie", ")", "{", "}", "}", "</s>"]
["<s>", "private", "void", "decodeHeader", "(", "BufferedReader", "in", ",", "Properties", "pre", ",", "Properties", "parms", ",", "Properties", "header", ")", "throws", "InterruptedException", "{", "try", "{", "String", "inLine", "=", "in", ".", "readLine", "(", ")", ";", "if", "(", "inLine", "=", "=", "null", ")", "return", ";", "StringTokenizer", "st", "=", "new", "StringTokenizer", "(", "inLine", ")", ";", "if", "(", "!", "st", ".", "hasMoreTokens", "(", ")", ")", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "String", "method", "=", "st", ".", "nextToken", "(", ")", ";", "pre", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "method", ")", ";", "if", "(", "!", "st", ".", "hasMoreTokens", "(", ")", ")", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "String", "uri", "=", "st", ".", "nextToken", "(", ")", ";", "int", "qmi", "=", "uri", ".", "indexOf", "(", "<CHAR_LIT>", ")", ";", "if", "(", "qmi", ">", "=", "0", ")", "{", "decodeParms", "(", "uri", ".", "substring", "(", "qmi", "+", "1", ")", ",", "parms", ")", ";", "uri", "=", "decodePercent", "(", "uri", ".", "substring", "(", "0", ",", "qmi", ")", ")", ";", "}", "else", "uri", "=", "Uri", ".", "decode", "(", "uri", ")", ";", "if", "(", "st", ".", "hasMoreTokens", "(", ")", ")", "{", "String", "line", "=", "in", ".", "readLine", "(", ")", ";", "while", "(", "line", "!", "=", "null", "&", "&", "line", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "0", ")", "{", "int", "p", "=", "line", ".", "indexOf", "(", "<CHAR_LIT::>", ")", ";", "if", "(", "p", ">", "=", "0", ")", "header", ".", "put", "(", "line", ".", "substring", "(", "0", ",", "p", ")", ".", "trim", "(", ")", ".", "toLowerCase", "(", ")", ",", "line", ".", "substring", "(", "p", "+", "1", ")", ".", "trim", "(", ")", ")", ";", "line", "=", "in", ".", "readLine", "(", ")", ";", "}", "}", "pre", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "uri", ")", ";", "}", "catch", "(", "IOException", "ioe", ")", "{", "sendError", "(", "socket", ",", "HTTP_INTERNALERROR", ",", "\"", "<STR_LIT>", "\"", "+", "ioe", ".", "getMessage", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "decodeMultipartData", "(", "String", "boundary", ",", "byte", "[", "]", "fbuf", ",", "BufferedReader", "in", ",", "Properties", "parms", ",", "Properties", "files", ")", "throws", "InterruptedException", "{", "try", "{", "int", "[", "]", "bpositions", "=", "getBoundaryPositions", "(", "fbuf", ",", "boundary", ".", "getBytes", "(", ")", ")", ";", "int", "boundarycount", "=", "1", ";", "String", "mpline", "=", "in", ".", "readLine", "(", ")", ";", "while", "(", "mpline", "!", "=", "null", ")", "{", "if", "(", "mpline", ".", "indexOf", "(", "boundary", ")", "=", "=", "-", "1", ")", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "boundarycount", "+", "+", ";", "Properties", "item", "=", "new", "Properties", "(", ")", ";", "mpline", "=", "in", ".", "readLine", "(", ")", ";", "while", "(", "mpline", "!", "=", "null", "&", "&", "mpline", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "0", ")", "{", "int", "p", "=", "mpline", ".", "indexOf", "(", "<CHAR_LIT::>", ")", ";", "if", "(", "p", "!", "=", "-", "1", ")", "item", ".", "put", "(", "mpline", ".", "substring", "(", "0", ",", "p", ")", ".", "trim", "(", ")", ".", "toLowerCase", "(", ")", ",", "mpline", ".", "substring", "(", "p", "+", "1", ")", ".", "trim", "(", ")", ")", ";", "mpline", "=", "in", ".", "readLine", "(", ")", ";", "}", "if", "(", "mpline", "!", "=", "null", ")", "{", "String", "contentDisposition", "=", "item", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "contentDisposition", "=", "=", "null", ")", "{", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "StringTokenizer", "st", "=", "new", "StringTokenizer", "(", "contentDisposition", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Properties", "disposition", "=", "new", "Properties", "(", ")", ";", "while", "(", "st", ".", "hasMoreTokens", "(", ")", ")", "{", "String", "token", "=", "st", ".", "nextToken", "(", ")", ";", "int", "p", "=", "token", ".", "indexOf", "(", "<CHAR_LIT:=>", ")", ";", "if", "(", "p", "!", "=", "-", "1", ")", "disposition", ".", "put", "(", "token", ".", "substring", "(", "0", ",", "p", ")", ".", "trim", "(", ")", ".", "toLowerCase", "(", ")", ",", "token", ".", "substring", "(", "p", "+", "1", ")", ".", "trim", "(", ")", ")", ";", "}", "String", "pname", "=", "disposition", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "pname", "=", "pname", ".", "substring", "(", "1", ",", "pname", ".", "length", "(", ")", "-", "1", ")", ";", "String", "value", "=", "\"", "\"", ";", "if", "(", "item", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", "=", "=", "null", ")", "{", "while", "(", "mpline", "!", "=", "null", "&", "&", "mpline", ".", "indexOf", "(", "boundary", ")", "=", "=", "-", "1", ")", "{", "mpline", "=", "in", ".", "readLine", "(", ")", ";", "if", "(", "mpline", "!", "=", "null", ")", "{", "int", "d", "=", "mpline", ".", "indexOf", "(", "boundary", ")", ";", "if", "(", "d", "=", "=", "-", "1", ")", "value", "+", "=", "mpline", ";", "else", "value", "+", "=", "mpline", ".", "substring", "(", "0", ",", "d", "-", "<NUM_LIT:2>", ")", ";", "}", "}", "}", "else", "{", "if", "(", "boundarycount", ">", "bpositions", ".", "length", ")", "sendError", "(", "socket", ",", "HTTP_INTERNALERROR", ",", "\"", "<STR_LIT>", "\"", ")", ";", "int", "offset", "=", "stripMultipartHeaders", "(", "fbuf", ",", "bpositions", "[", "boundarycount", "-", "<NUM_LIT:2>", "]", ")", ";", "String", "path", "=", "saveTmpFile", "(", "fbuf", ",", "offset", ",", "bpositions", "[", "boundarycount", "-", "1", "]", "-", "offset", "-", "<NUM_LIT:4>", ")", ";", "files", ".", "put", "(", "pname", ",", "path", ")", ";", "value", "=", "disposition", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "value", "=", "value", ".", "substring", "(", "1", ",", "value", ".", "length", "(", ")", "-", "1", ")", ";", "do", "{", "mpline", "=", "in", ".", "readLine", "(", ")", ";", "}", "while", "(", "mpline", "!", "=", "null", "&", "&", "mpline", ".", "indexOf", "(", "boundary", ")", "=", "=", "-", "1", ")", ";", "}", "parms", ".", "put", "(", "pname", ",", "value", ")", ";", "}", "}", "}", "catch", "(", "IOException", "ioe", ")", "{", "sendError", "(", "socket", ",", "HTTP_INTERNALERROR", ",", "\"", "<STR_LIT>", "\"", "+", "ioe", ".", "getMessage", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "int", "[", "]", "getBoundaryPositions", "(", "byte", "[", "]", "b", ",", "byte", "[", "]", "boundary", ")", "{", "int", "matchcount", "=", "0", ";", "int", "matchbyte", "=", "-", "1", ";", "Vector", "matchbytes", "=", "new", "Vector", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "b", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "b", "[", "i", "]", "=", "=", "boundary", "[", "matchcount", "]", ")", "{", "if", "(", "matchcount", "=", "=", "0", ")", "matchbyte", "=", "i", ";", "matchcount", "+", "+", ";", "if", "(", "matchcount", "=", "=", "boundary", ".", "length", ")", "{", "matchbytes", ".", "addElement", "(", "matchbyte", ")", ";", "matchcount", "=", "0", ";", "matchbyte", "=", "-", "1", ";", "}", "}", "else", "{", "i", "-", "=", "matchcount", ";", "matchcount", "=", "0", ";", "matchbyte", "=", "-", "1", ";", "}", "}", "int", "[", "]", "ret", "=", "new", "int", "[", "matchbytes", ".", "size", "(", ")", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "ret", ".", "length", ";", "i", "+", "+", ")", "{", "ret", "[", "i", "]", "=", "(", "Integer", ")", "matchbytes", ".", "elementAt", "(", "i", ")", ";", "}", "return", "ret", ";", "}", "</s>"]
["<s>", "private", "String", "saveTmpFile", "(", "byte", "[", "]", "b", ",", "int", "offset", ",", "int", "len", ")", "{", "String", "path", "=", "\"", "\"", ";", "if", "(", "len", ">", "0", ")", "{", "String", "tmpdir", "=", "System", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "try", "{", "File", "temp", "=", "File", ".", "createTempFile", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", ",", "new", "File", "(", "tmpdir", ")", ")", ";", "OutputStream", "fstream", "=", "new", "FileOutputStream", "(", "temp", ")", ";", "fstream", ".", "write", "(", "b", ",", "offset", ",", "len", ")", ";", "fstream", ".", "close", "(", ")", ";", "path", "=", "temp", ".", "getAbsolutePath", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "System", ".", "err", ".", "println", "(", "\"", "<STR_LIT>", "\"", "+", "e", ".", "getMessage", "(", ")", ")", ";", "}", "}", "return", "path", ";", "}", "</s>"]
["<s>", "private", "int", "stripMultipartHeaders", "(", "byte", "[", "]", "b", ",", "int", "offset", ")", "{", "int", "i", "=", "0", ";", "for", "(", "i", "=", "offset", ";", "i", "<", "b", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "b", "[", "i", "]", "=", "=", "<STR_LIT>", "&", "&", "b", "[", "+", "+", "i", "]", "=", "=", "<STR_LIT:\\n>", "&", "&", "b", "[", "+", "+", "i", "]", "=", "=", "<STR_LIT>", "&", "&", "b", "[", "+", "+", "i", "]", "=", "=", "<STR_LIT:\\n>", ")", "break", ";", "}", "return", "i", "+", "1", ";", "}", "</s>"]
["<s>", "private", "String", "decodePercent", "(", "String", "str", ")", "throws", "InterruptedException", "{", "try", "{", "StringBuffer", "sb", "=", "new", "StringBuffer", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "str", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "char", "c", "=", "str", ".", "charAt", "(", "i", ")", ";", "switch", "(", "c", ")", "{", "case", "<CHAR_LIT>", ":", "sb", ".", "append", "(", "<CHAR_LIT>", ")", ";", "break", ";", "case", "<CHAR_LIT>", ":", "sb", ".", "append", "(", "(", "char", ")", "Integer", ".", "parseInt", "(", "str", ".", "substring", "(", "i", "+", "1", ",", "i", "+", "<NUM_LIT:3>", ")", ",", "<NUM_LIT:16>", ")", ")", ";", "i", "+", "=", "<NUM_LIT:2>", ";", "break", ";", "default", ":", "sb", ".", "append", "(", "c", ")", ";", "break", ";", "}", "}", "return", "sb", ".", "toString", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "return", "null", ";", "}", "}", "</s>"]
["<s>", "private", "void", "decodeParms", "(", "String", "parms", ",", "Properties", "p", ")", "throws", "InterruptedException", "{", "if", "(", "parms", "=", "=", "null", ")", "return", ";", "StringTokenizer", "st", "=", "new", "StringTokenizer", "(", "parms", ",", "\"", "<STR_LIT:&>", "\"", ")", ";", "while", "(", "st", ".", "hasMoreTokens", "(", ")", ")", "{", "String", "e", "=", "st", ".", "nextToken", "(", ")", ";", "int", "sep", "=", "e", ".", "indexOf", "(", "<CHAR_LIT:=>", ")", ";", "if", "(", "sep", ">", "=", "0", ")", "p", ".", "put", "(", "decodePercent", "(", "e", ".", "substring", "(", "0", ",", "sep", ")", ")", ".", "trim", "(", ")", ",", "decodePercent", "(", "e", ".", "substring", "(", "sep", "+", "1", ")", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "sendError", "(", "Socket", "socket", ",", "String", "status", ",", "String", "msg", ")", "throws", "InterruptedException", "{", "sendResponse", "(", "socket", ",", "status", ",", "MIME_PLAINTEXT", ",", "null", ",", "null", ")", ";", "throw", "new", "InterruptedException", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "sendResponse", "(", "Socket", "socket", ",", "String", "status", ",", "String", "mime", ",", "Properties", "header", ",", "StreamSource", "data", ")", "{", "try", "{", "if", "(", "status", "=", "=", "null", ")", "throw", "new", "Error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "OutputStream", "out", "=", "socket", ".", "getOutputStream", "(", ")", ";", "PrintWriter", "pw", "=", "new", "PrintWriter", "(", "out", ")", ";", "pw", ".", "print", "(", "\"", "<STR_LIT>", "\"", "+", "status", "+", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "if", "(", "mime", "!", "=", "null", ")", "pw", ".", "print", "(", "\"", "<STR_LIT>", "\"", "+", "mime", "+", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "if", "(", "header", "=", "=", "null", "|", "|", "header", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", "=", "=", "null", ")", "pw", ".", "print", "(", "\"", "<STR_LIT>", "\"", "+", "gmtFrmt", ".", "format", "(", "new", "Date", "(", ")", ")", "+", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "if", "(", "header", "!", "=", "null", ")", "{", "Enumeration", "e", "=", "header", ".", "keys", "(", ")", ";", "while", "(", "e", ".", "hasMoreElements", "(", ")", ")", "{", "String", "key", "=", "(", "String", ")", "e", ".", "nextElement", "(", ")", ";", "String", "value", "=", "header", ".", "getProperty", "(", "key", ")", ";", "pw", ".", "print", "(", "key", "+", "\"", "<STR_LIT>", "\"", "+", "value", "+", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "}", "}", "pw", ".", "print", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "pw", ".", "flush", "(", ")", ";", "if", "(", "data", "!", "=", "null", ")", "{", "data", ".", "open", "(", ")", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "<NUM_LIT>", "]", ";", "int", "read", "=", "0", ";", "while", "(", "(", "read", "=", "data", ".", "read", "(", "buff", ")", ")", ">", "0", ")", "{", "out", ".", "write", "(", "buff", ",", "0", ",", "read", ")", ";", "}", "}", "out", ".", "flush", "(", ")", ";", "out", ".", "close", "(", ")", ";", "if", "(", "data", "!", "=", "null", ")", "data", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "ioe", ")", "{", "try", "{", "socket", ".", "close", "(", ")", ";", "}", "catch", "(", "Throwable", "t", ")", "{", "}", "}", "}", "</s>"]
["<s>", "protected", "Streamer", "(", "int", "port", ")", "throws", "IOException", "{", "super", "(", "port", ",", "new", "File", "(", "\"", "<STR_LIT:.>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Streamer", "getInstance", "(", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "try", "{", "instance", "=", "new", "Streamer", "(", "PORT", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "instance", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isStreamMedia", "(", "SmbFile", "file", ")", "{", "return", "pattern", ".", "matcher", "(", "file", ".", "getName", "(", ")", ")", ".", "matches", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setStreamSrc", "(", "SmbFile", "file", ",", "long", "len", ")", "{", "this", ".", "file", "=", "file", ";", "this", ".", "length", "=", "len", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "stop", "(", ")", "{", "super", ".", "stop", "(", ")", ";", "instance", "=", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Response", "serve", "(", "String", "uri", ",", "String", "method", ",", "Properties", "header", ",", "Properties", "parms", ",", "Properties", "files", ")", "{", "Response", "res", ";", "SmbFile", "sourceFile", "=", "null", ";", "String", "name", "=", "getNameFromPath", "(", "uri", ")", ";", "if", "(", "file", "!", "=", "null", "&", "&", "file", ".", "getName", "(", ")", ".", "equals", "(", "name", ")", ")", "sourceFile", "=", "file", ";", "if", "(", "sourceFile", "=", "=", "null", ")", "res", "=", "new", "Response", "(", "HTTP_NOTFOUND", ",", "MIME_PLAINTEXT", ",", "null", ")", ";", "else", "{", "long", "startFrom", "=", "0", ";", "long", "endAt", "=", "-", "1", ";", "String", "range", "=", "header", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "range", "!", "=", "null", ")", "{", "if", "(", "range", ".", "startsWith", "(", "\"", "<STR_LIT:=>", "\"", ")", ")", "{", "range", "=", "range", ".", "substring", "(", "\"", "<STR_LIT:=>", "\"", ".", "length", "(", ")", ")", ";", "int", "minus", "=", "range", ".", "indexOf", "(", "<CHAR_LIT:->", ")", ";", "try", "{", "if", "(", "minus", ">", "0", ")", "{", "startFrom", "=", "Long", ".", "parseLong", "(", "range", ".", "substring", "(", "0", ",", "minus", ")", ")", ";", "endAt", "=", "Long", ".", "parseLong", "(", "range", ".", "substring", "(", "minus", "+", "1", ")", ")", ";", "}", "}", "catch", "(", "NumberFormatException", "nfe", ")", "{", "}", "}", "}", "Log", ".", "d", "(", "CloudUtil", ".", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "range", "+", "\"", "<STR_LIT>", "\"", "+", "startFrom", "+", "\"", "<STR_LIT>", "\"", "+", "endAt", ")", ";", "final", "StreamSource", "source", "=", "new", "StreamSource", "(", "sourceFile", ",", "length", ")", ";", "long", "fileLen", "=", "source", ".", "length", "(", ")", ";", "if", "(", "range", "!", "=", "null", "&", "&", "startFrom", ">", "0", ")", "{", "if", "(", "startFrom", ">", "=", "fileLen", ")", "{", "res", "=", "new", "Response", "(", "HTTP_RANGE_NOT_SATISFIABLE", ",", "MIME_PLAINTEXT", ",", "null", ")", ";", "res", ".", "addHeader", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "fileLen", ")", ";", "}", "else", "{", "if", "(", "endAt", "<", "0", ")", "endAt", "=", "fileLen", "-", "1", ";", "long", "newLen", "=", "fileLen", "-", "startFrom", ";", "if", "(", "newLen", "<", "0", ")", "newLen", "=", "0", ";", "Log", ".", "d", "(", "CloudUtil", ".", "TAG", ",", "\"", "<STR_LIT:=>", "\"", "+", "startFrom", "+", "\"", "<STR_LIT>", "\"", "+", "endAt", "+", "\"", "<STR_LIT>", "\"", "+", "newLen", ")", ";", "final", "long", "dataLen", "=", "newLen", ";", "source", ".", "moveTo", "(", "startFrom", ")", ";", "Log", ".", "d", "(", "CloudUtil", ".", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "startFrom", "+", "\"", "<STR_LIT>", "\"", ")", ";", "res", "=", "new", "Response", "(", "HTTP_PARTIALCONTENT", ",", "source", ".", "getMimeType", "(", ")", ",", "source", ")", ";", "res", ".", "addHeader", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", "+", "dataLen", ")", ";", "}", "}", "else", "{", "source", ".", "reset", "(", ")", ";", "res", "=", "new", "Response", "(", "HTTP_OK", ",", "source", ".", "getMimeType", "(", ")", ",", "source", ")", ";", "res", ".", "addHeader", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", "+", "fileLen", ")", ";", "}", "}", "res", ".", "addHeader", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "return", "res", ";", "}", "</s>"]
["<s>", "private", "static", "String", "getNameFromPath", "(", "String", "path", ")", "{", "if", "(", "path", "=", "=", "null", "|", "|", "path", ".", "length", "(", ")", "<", "<NUM_LIT:2>", ")", "return", "null", ";", "int", "slash", "=", "path", ".", "lastIndexOf", "(", "<CHAR_LIT:/>", ")", ";", "if", "(", "slash", "=", "=", "-", "1", ")", "return", "path", ";", "else", "return", "path", ".", "substring", "(", "slash", "+", "1", ")", ";", "}", "</s>"]
["<s>", "public", "UtilitiesProvider", "(", "Context", "context", ")", "{", "SharedPreferences", "sharedPreferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "context", ")", ";", "colorPreference", "=", "new", "ColorPreferenceHelper", "(", ")", ";", "colorPreference", ".", "getCurrentUserColorPreferences", "(", "context", ",", "sharedPreferences", ")", ";", "appThemeManager", "=", "new", "AppThemeManager", "(", "sharedPreferences", ")", ";", "}", "</s>"]
["<s>", "public", "ColorPreferenceHelper", "getColorPreference", "(", ")", "{", "return", "colorPreference", ";", "}", "</s>"]
["<s>", "public", "AppTheme", "getAppTheme", "(", ")", "{", "return", "appThemeManager", ".", "getAppTheme", "(", ")", ";", "}", "</s>"]
["<s>", "public", "AppThemeManager", "getThemeManager", "(", ")", "{", "return", "appThemeManager", ";", "}", "</s>"]
["<s>", "public", "AppThemeManager", "(", "SharedPreferences", "preferences", ")", "{", "this", ".", "preferences", "=", "preferences", ";", "String", "themeId", "=", "preferences", ".", "getString", "(", "PreferencesConstants", ".", "FRAGMENT_THEME", ",", "\"", "<STR_LIT:0>", "\"", ")", ";", "appTheme", "=", "AppTheme", ".", "getTheme", "(", "Integer", ".", "parseInt", "(", "themeId", ")", ")", ".", "getSimpleTheme", "(", ")", ";", "}", "</s>"]
["<s>", "public", "AppTheme", "getAppTheme", "(", ")", "{", "return", "appTheme", ".", "getSimpleTheme", "(", ")", ";", "}", "</s>"]
["<s>", "public", "AppThemeManager", "setAppTheme", "(", "AppTheme", "appTheme", ")", "{", "this", ".", "appTheme", "=", "appTheme", ";", "preferences", ".", "edit", "(", ")", ".", "putString", "(", "PreferencesConstants", ".", "FRAGMENT_THEME", ",", "Integer", ".", "toString", "(", "appTheme", ".", "getId", "(", ")", ")", ")", ".", "apply", "(", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "AppTheme", "(", "int", "id", ")", "{", "this", ".", "id", "=", "id", ";", "}", "</s>"]
["<s>", "public", "static", "AppTheme", "getTheme", "(", "int", "index", ")", "{", "switch", "(", "index", ")", "{", "default", ":", "case", "LIGHT_INDEX", ":", "return", "LIGHT", ";", "case", "DARK_INDEX", ":", "return", "DARK", ";", "case", "TIME_INDEX", ":", "return", "TIMED", ";", "case", "BLACK_INDEX", ":", "return", "BLACK", ";", "}", "}", "</s>"]
["<s>", "public", "Theme", "getMaterialDialogTheme", "(", ")", "{", "switch", "(", "id", ")", "{", "default", ":", "case", "LIGHT_INDEX", ":", "return", "Theme", ".", "LIGHT", ";", "case", "DARK_INDEX", ":", "case", "BLACK_INDEX", ":", "return", "Theme", ".", "DARK", ";", "case", "TIME_INDEX", ":", "int", "hour", "=", "Calendar", ".", "getInstance", "(", ")", ".", "get", "(", "Calendar", ".", "HOUR_OF_DAY", ")", ";", "if", "(", "hour", "<", "=", "<NUM_LIT:6>", "|", "|", "hour", ">", "=", "<NUM_LIT>", ")", "{", "return", "Theme", ".", "DARK", ";", "}", "else", "{", "return", "Theme", ".", "LIGHT", ";", "}", "}", "}", "</s>"]
["<s>", "public", "AppTheme", "getSimpleTheme", "(", ")", "{", "switch", "(", "id", ")", "{", "default", ":", "case", "LIGHT_INDEX", ":", "return", "LIGHT", ";", "case", "DARK_INDEX", ":", "return", "DARK", ";", "case", "TIME_INDEX", ":", "int", "hour", "=", "Calendar", ".", "getInstance", "(", ")", ".", "get", "(", "Calendar", ".", "HOUR_OF_DAY", ")", ";", "if", "(", "hour", "<", "=", "<NUM_LIT:6>", "|", "|", "hour", ">", "=", "<NUM_LIT>", ")", "{", "return", "DARK", ";", "}", "else", "{", "return", "LIGHT", ";", "}", "case", "BLACK_INDEX", ":", "return", "BLACK", ";", "}", "}", "</s>"]
["<s>", "public", "int", "getId", "(", ")", "{", "return", "id", ";", "}", "</s>"]
["<s>", "public", "static", "ArrayList", "<", "HybridFileParcelable", ">", "listFiles", "(", "String", "path", ",", "CloudStorage", "cloudStorage", ",", "OpenMode", "openMode", ")", "throws", "CloudPluginException", "{", "final", "ArrayList", "<", "HybridFileParcelable", ">", "baseFiles", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "getCloudFiles", "(", "path", ",", "cloudStorage", ",", "openMode", ",", "baseFiles", ":", ":", "add", ")", ";", "return", "baseFiles", ";", "}", "</s>"]
["<s>", "public", "static", "void", "getCloudFiles", "(", "String", "path", ",", "CloudStorage", "cloudStorage", ",", "OpenMode", "openMode", ",", "OnFileFound", "fileFoundCallback", ")", "throws", "CloudPluginException", "{", "String", "strippedPath", "=", "stripPath", "(", "openMode", ",", "path", ")", ";", "try", "{", "for", "(", "CloudMetaData", "cloudMetaData", ":", "cloudStorage", ".", "getChildren", "(", "strippedPath", ")", ")", "{", "HybridFileParcelable", "baseFile", "=", "new", "HybridFileParcelable", "(", "path", "+", "\"", "<STR_LIT:/>", "\"", "+", "cloudMetaData", ".", "getName", "(", ")", ",", "\"", "\"", ",", "(", "cloudMetaData", ".", "getModifiedAt", "(", ")", "=", "=", "null", ")", "?", "0", "l", ":", "cloudMetaData", ".", "getModifiedAt", "(", ")", ",", "cloudMetaData", ".", "getSize", "(", ")", ",", "cloudMetaData", ".", "getFolder", "(", ")", ")", ";", "baseFile", ".", "setName", "(", "cloudMetaData", ".", "getName", "(", ")", ")", ";", "baseFile", ".", "setMode", "(", "openMode", ")", ";", "fileFoundCallback", ".", "onFileFound", "(", "baseFile", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "throw", "new", "CloudPluginException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "String", "stripPath", "(", "OpenMode", "openMode", ",", "String", "path", ")", "{", "String", "strippedPath", "=", "path", ";", "switch", "(", "openMode", ")", "{", "case", "DROPBOX", ":", "if", "(", "path", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", "+", "\"", "<STR_LIT:/>", "\"", ")", ")", "{", "strippedPath", "=", "path", ".", "replace", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", ",", "\"", "\"", ")", ";", "}", "else", "{", "strippedPath", "=", "path", ".", "replace", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", "+", "\"", "<STR_LIT:/>", "\"", ",", "\"", "\"", ")", ";", "}", "break", ";", "case", "BOX", ":", "if", "(", "path", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", "+", "\"", "<STR_LIT:/>", "\"", ")", ")", "{", "strippedPath", "=", "path", ".", "replace", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", ",", "\"", "\"", ")", ";", "}", "else", "{", "strippedPath", "=", "path", ".", "replace", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", "+", "\"", "<STR_LIT:/>", "\"", ",", "\"", "\"", ")", ";", "}", "break", ";", "case", "ONEDRIVE", ":", "if", "(", "path", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ")", ")", "{", "strippedPath", "=", "path", ".", "replace", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", ",", "\"", "\"", ")", ";", "}", "else", "{", "strippedPath", "=", "path", ".", "replace", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ",", "\"", "\"", ")", ";", "}", "break", ";", "case", "GDRIVE", ":", "if", "(", "path", ".", "equals", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ")", ")", "{", "strippedPath", "=", "path", ".", "replace", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", ",", "\"", "\"", ")", ";", "}", "else", "{", "strippedPath", "=", "path", ".", "replace", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", "+", "\"", "<STR_LIT:/>", "\"", ",", "\"", "\"", ")", ";", "}", "break", ";", "default", ":", "break", ";", "}", "return", "strippedPath", ";", "}", "</s>"]
["<s>", "public", "static", "void", "launchCloud", "(", "final", "HybridFileParcelable", "baseFile", ",", "final", "OpenMode", "serviceType", ",", "final", "Activity", "activity", ")", "{", "final", "CloudStreamer", "streamer", "=", "CloudStreamer", ".", "getInstance", "(", ")", ";", "new", "Thread", "(", "(", ")", "-", ">", "{", "try", "{", "streamer", ".", "setStreamSrc", "(", "baseFile", ".", "getInputStream", "(", "activity", ")", ",", "baseFile", ".", "getName", "(", ")", ",", "baseFile", ".", "length", "(", "activity", ")", ")", ";", "activity", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "try", "{", "File", "file", "=", "new", "File", "(", "Uri", ".", "parse", "(", "CloudUtil", ".", "stripPath", "(", "serviceType", ",", "baseFile", ".", "getPath", "(", ")", ")", ")", ".", "getPath", "(", ")", ")", ";", "Uri", "uri", "=", "Uri", ".", "parse", "(", "CloudStreamer", ".", "URL", "+", "Uri", ".", "fromFile", "(", "file", ")", ".", "getEncodedPath", "(", ")", ")", ";", "Intent", "i", "=", "new", "Intent", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "i", ".", "setDataAndType", "(", "uri", ",", "MimeTypes", ".", "getMimeType", "(", "baseFile", ".", "getPath", "(", ")", ",", "baseFile", ".", "isDirectory", "(", ")", ")", ")", ";", "PackageManager", "packageManager", "=", "activity", ".", "getPackageManager", "(", ")", ";", "List", "<", "ResolveInfo", ">", "resInfos", "=", "packageManager", ".", "queryIntentActivities", "(", "i", ",", "0", ")", ";", "if", "(", "resInfos", "!", "=", "null", "&", "&", "resInfos", ".", "size", "(", ")", ">", "0", ")", "activity", ".", "startActivity", "(", "i", ")", ";", "else", "Toast", ".", "makeText", "(", "activity", ",", "activity", ".", "getString", "(", "R", ".", "string", ".", "smb_launch_error", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "catch", "(", "ActivityNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "checkToken", "(", "String", "path", ",", "final", "MainActivity", "mainActivity", ")", "{", "new", "AsyncTask", "<", "String", ",", "Void", ",", "Boolean", ">", "(", ")", "{", "OpenMode", "serviceType", ";", "private", "DataUtils", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "@", "Override", "protected", "Boolean", "doInBackground", "(", "String", ".", ".", ".", "params", ")", "{", "boolean", "isTokenValid", "=", "true", ";", "String", "path", "=", "params", "[", "0", "]", ";", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", ")", ")", "{", "serviceType", "=", "OpenMode", ".", "DROPBOX", ";", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "try", "{", "cloudStorageDropbox", ".", "getUserLogin", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "isTokenValid", "=", "false", ";", "}", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", ")", ")", "{", "serviceType", "=", "OpenMode", ".", "ONEDRIVE", ";", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "try", "{", "cloudStorageOneDrive", ".", "getUserLogin", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "isTokenValid", "=", "false", ";", "}", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", ")", ")", "{", "serviceType", "=", "OpenMode", ".", "BOX", ";", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "try", "{", "cloudStorageBox", ".", "getUserLogin", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "isTokenValid", "=", "false", ";", "}", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", ")", ")", "{", "serviceType", "=", "OpenMode", ".", "GDRIVE", ";", "CloudStorage", "cloudStorageGDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "try", "{", "cloudStorageGDrive", ".", "getUserLogin", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "isTokenValid", "=", "false", ";", "}", "}", "return", "isTokenValid", ";", "}", "@", "Override", "protected", "void", "onPostExecute", "(", "Boolean", "aBoolean", ")", "{", "super", ".", "onPostExecute", "(", "aBoolean", ")", ";", "if", "(", "!", "aBoolean", ")", "{", "Toast", ".", "makeText", "(", "mainActivity", ",", "mainActivity", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_token_lost", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "mainActivity", ".", "deleteConnection", "(", "serviceType", ")", ";", "mainActivity", ".", "addConnection", "(", "serviceType", ")", ";", "}", "}", "}", ".", "execute", "(", "path", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Boolean", "doInBackground", "(", "String", ".", ".", ".", "params", ")", "{", "boolean", "isTokenValid", "=", "true", ";", "String", "path", "=", "params", "[", "0", "]", ";", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", ")", ")", "{", "serviceType", "=", "OpenMode", ".", "DROPBOX", ";", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "try", "{", "cloudStorageDropbox", ".", "getUserLogin", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "isTokenValid", "=", "false", ";", "}", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", ")", ")", "{", "serviceType", "=", "OpenMode", ".", "ONEDRIVE", ";", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "try", "{", "cloudStorageOneDrive", ".", "getUserLogin", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "isTokenValid", "=", "false", ";", "}", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", ")", ")", "{", "serviceType", "=", "OpenMode", ".", "BOX", ";", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "try", "{", "cloudStorageBox", ".", "getUserLogin", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "isTokenValid", "=", "false", ";", "}", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", ")", ")", "{", "serviceType", "=", "OpenMode", ".", "GDRIVE", ";", "CloudStorage", "cloudStorageGDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "try", "{", "cloudStorageGDrive", ".", "getUserLogin", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "isTokenValid", "=", "false", ";", "}", "}", "return", "isTokenValid", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "Boolean", "aBoolean", ")", "{", "super", ".", "onPostExecute", "(", "aBoolean", ")", ";", "if", "(", "!", "aBoolean", ")", "{", "Toast", ".", "makeText", "(", "mainActivity", ",", "mainActivity", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_token_lost", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "mainActivity", ".", "deleteConnection", "(", "serviceType", ")", ";", "mainActivity", ".", "addConnection", "(", "serviceType", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "InputStream", "getThumbnailInputStreamForCloud", "(", "Context", "context", ",", "String", "path", ")", "{", "InputStream", "inputStream", ";", "HybridFile", "hybridFile", "=", "new", "HybridFile", "(", "OpenMode", ".", "UNKNOWN", ",", "path", ")", ";", "hybridFile", ".", "generateMode", "(", "context", ")", ";", "DataUtils", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "switch", "(", "hybridFile", ".", "getMode", "(", ")", ")", "{", "case", "SFTP", ":", "inputStream", "=", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "hybridFile", ".", "getPath", "(", ")", ",", "false", ")", "{", "@", "Override", "public", "InputStream", "execute", "(", "final", "SFTPClient", "client", ")", "throws", "IOException", "{", "final", "RemoteFile", "rf", "=", "client", ".", "open", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "hybridFile", ".", "getPath", "(", ")", ")", ")", ";", "return", "rf", ".", "new", "RemoteFileInputStream", "(", ")", "{", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "try", "{", "super", ".", "close", "(", ")", ";", "}", "finally", "{", "rf", ".", "close", "(", ")", ";", "client", ".", "close", "(", ")", ";", "}", "}", "}", ";", "}", "}", ")", ";", "break", ";", "case", "SMB", ":", "try", "{", "inputStream", "=", "new", "SmbFile", "(", "hybridFile", ".", "getPath", "(", ")", ")", ".", "getInputStream", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "inputStream", "=", "null", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "OTG", ":", "ContentResolver", "contentResolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "DocumentFile", "documentSourceFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "hybridFile", ".", "getPath", "(", ")", ",", "context", ",", "false", ")", ";", "try", "{", "inputStream", "=", "contentResolver", ".", "openInputStream", "(", "documentSourceFile", ".", "getUri", "(", ")", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "inputStream", "=", "null", ";", "}", "break", ";", "case", "DROPBOX", ":", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "inputStream", "=", "cloudStorageDropbox", ".", "getThumbnail", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "hybridFile", ".", "getPath", "(", ")", ")", ")", ";", "break", ";", "case", "BOX", ":", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "inputStream", "=", "cloudStorageBox", ".", "getThumbnail", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "hybridFile", ".", "getPath", "(", ")", ")", ")", ";", "break", ";", "case", "GDRIVE", ":", "CloudStorage", "cloudStorageGDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "inputStream", "=", "cloudStorageGDrive", ".", "getThumbnail", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "hybridFile", ".", "getPath", "(", ")", ")", ")", ";", "break", ";", "case", "ONEDRIVE", ":", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "inputStream", "=", "cloudStorageOneDrive", ".", "getThumbnail", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "hybridFile", ".", "getPath", "(", ")", ")", ")", ";", "break", ";", "default", ":", "try", "{", "inputStream", "=", "new", "FileInputStream", "(", "hybridFile", ".", "getPath", "(", ")", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "inputStream", "=", "null", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "}", "return", "inputStream", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "execute", "(", "final", "SFTPClient", "client", ")", "throws", "IOException", "{", "final", "RemoteFile", "rf", "=", "client", ".", "open", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "hybridFile", ".", "getPath", "(", ")", ")", ")", ";", "return", "rf", ".", "new", "RemoteFileInputStream", "(", ")", "{", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "try", "{", "super", ".", "close", "(", ")", ";", "}", "finally", "{", "rf", ".", "close", "(", ")", ";", "client", ".", "close", "(", ")", ";", "}", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "try", "{", "super", ".", "close", "(", ")", ";", "}", "finally", "{", "rf", ".", "close", "(", ")", ";", "client", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "abstract", "Response", "serve", "(", "String", "uri", ",", "String", "method", ",", "Properties", "header", ",", "Properties", "parms", ",", "Properties", "files", ")", ";", "</s>"]
["<s>", "public", "Response", "(", ")", "{", "this", ".", "status", "=", "HTTP_OK", ";", "}", "</s>"]
["<s>", "public", "Response", "(", "String", "status", ",", "String", "mimeType", ",", "CloudStreamSource", "data", ")", "{", "this", ".", "status", "=", "status", ";", "this", ".", "mimeType", "=", "mimeType", ";", "this", ".", "data", "=", "data", ";", "}", "</s>"]
["<s>", "public", "void", "addHeader", "(", "String", "name", ",", "String", "value", ")", "{", "header", ".", "put", "(", "name", ",", "value", ")", ";", "}", "</s>"]
["<s>", "public", "CloudStreamServer", "(", "int", "port", ",", "File", "wwwroot", ")", "throws", "IOException", "{", "myTcpPort", "=", "port", ";", "this", ".", "myRootDir", "=", "wwwroot", ";", "myServerSocket", "=", "tryBind", "(", "myTcpPort", ")", ";", "myThread", "=", "new", "Thread", "(", "(", ")", "-", ">", "{", "try", "{", "while", "(", "true", ")", "{", "Socket", "accept", "=", "myServerSocket", ".", "accept", "(", ")", ";", "new", "HTTPSession", "(", "accept", ")", ";", "}", "}", "catch", "(", "IOException", "ioe", ")", "{", "}", "}", ")", ";", "myThread", ".", "setDaemon", "(", "true", ")", ";", "myThread", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "public", "CloudStreamServer", "(", "File", "wwwroot", ")", "throws", "IOException", "{", "this", ".", "myRootDir", "=", "wwwroot", ";", "myServerSocket", "=", "tryBind", "(", "myTcpPort", ")", ";", "myThread", "=", "new", "Thread", "(", "(", ")", "-", ">", "{", "try", "{", "while", "(", "true", ")", "{", "Socket", "accept", "=", "myServerSocket", ".", "accept", "(", ")", ";", "new", "HTTPSession", "(", "accept", ")", ";", "}", "}", "catch", "(", "IOException", "ioe", ")", "{", "}", "}", ")", ";", "myThread", ".", "setDaemon", "(", "true", ")", ";", "myThread", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "stop", "(", ")", "{", "try", "{", "myServerSocket", ".", "close", "(", ")", ";", "myThread", ".", "join", "(", ")", ";", "}", "catch", "(", "IOException", "ioe", ")", "{", "}", "catch", "(", "InterruptedException", "e", ")", "{", "}", "}", "</s>"]
["<s>", "private", "ServerSocket", "tryBind", "(", "int", "port", ")", "throws", "IOException", "{", "ServerSocket", "socket", ";", "try", "{", "socket", "=", "new", "ServerSocket", "(", "port", ")", ";", "}", "catch", "(", "BindException", "ifPortIsOccupiedByStreamer", ")", "{", "Streamer", ".", "getInstance", "(", ")", ".", "stop", "(", ")", ";", "socket", "=", "new", "ServerSocket", "(", "port", ")", ";", "}", "return", "socket", ";", "}", "</s>"]
["<s>", "public", "HTTPSession", "(", "Socket", "s", ")", "{", "socket", "=", "s", ";", "Thread", "t", "=", "new", "Thread", "(", "this", ")", ";", "t", ".", "setDaemon", "(", "true", ")", ";", "t", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "run", "(", ")", "{", "try", "{", "handleResponse", "(", "socket", ")", ";", "}", "finally", "{", "if", "(", "is", "!", "=", "null", ")", "{", "try", "{", "is", ".", "close", "(", ")", ";", "socket", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "}", "</s>"]
["<s>", "private", "void", "handleResponse", "(", "Socket", "socket", ")", "{", "try", "{", "is", "=", "socket", ".", "getInputStream", "(", ")", ";", "if", "(", "is", "=", "=", "null", ")", "return", ";", "int", "bufsize", "=", "<NUM_LIT>", ";", "byte", "[", "]", "buf", "=", "new", "byte", "[", "bufsize", "]", ";", "int", "rlen", "=", "is", ".", "read", "(", "buf", ",", "0", ",", "bufsize", ")", ";", "if", "(", "rlen", "<", "=", "0", ")", "return", ";", "ByteArrayInputStream", "hbis", "=", "new", "ByteArrayInputStream", "(", "buf", ",", "0", ",", "rlen", ")", ";", "BufferedReader", "hin", "=", "new", "BufferedReader", "(", "new", "InputStreamReader", "(", "hbis", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "Properties", "pre", "=", "new", "Properties", "(", ")", ";", "Properties", "parms", "=", "new", "Properties", "(", ")", ";", "Properties", "header", "=", "new", "Properties", "(", ")", ";", "Properties", "files", "=", "new", "Properties", "(", ")", ";", "decodeHeader", "(", "hin", ",", "pre", ",", "parms", ",", "header", ")", ";", "Log", ".", "d", "(", "CloudUtil", ".", "TAG", ",", "pre", ".", "toString", "(", ")", ")", ";", "Log", ".", "d", "(", "CloudUtil", ".", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "parms", ".", "toString", "(", ")", ")", ";", "Log", ".", "d", "(", "CloudUtil", ".", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "header", ".", "toString", "(", ")", ")", ";", "String", "method", "=", "pre", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "String", "uri", "=", "pre", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "long", "size", "=", "<NUM_LIT>", ";", "String", "contentLength", "=", "header", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "contentLength", "!", "=", "null", ")", "{", "try", "{", "size", "=", "Integer", ".", "parseInt", "(", "contentLength", ")", ";", "}", "catch", "(", "NumberFormatException", "ex", ")", "{", "}", "}", "int", "splitbyte", "=", "0", ";", "boolean", "sbfound", "=", "false", ";", "while", "(", "splitbyte", "<", "rlen", ")", "{", "if", "(", "buf", "[", "splitbyte", "]", "=", "=", "<STR_LIT>", "&", "&", "buf", "[", "+", "+", "splitbyte", "]", "=", "=", "<STR_LIT:\\n>", "&", "&", "buf", "[", "+", "+", "splitbyte", "]", "=", "=", "<STR_LIT>", "&", "&", "buf", "[", "+", "+", "splitbyte", "]", "=", "=", "<STR_LIT:\\n>", ")", "{", "sbfound", "=", "true", ";", "break", ";", "}", "splitbyte", "+", "+", ";", "}", "splitbyte", "+", "+", ";", "ByteArrayOutputStream", "f", "=", "new", "ByteArrayOutputStream", "(", ")", ";", "if", "(", "splitbyte", "<", "rlen", ")", "f", ".", "write", "(", "buf", ",", "splitbyte", ",", "rlen", "-", "splitbyte", ")", ";", "if", "(", "splitbyte", "<", "rlen", ")", "size", "-", "=", "rlen", "-", "splitbyte", "+", "1", ";", "else", "if", "(", "!", "sbfound", "|", "|", "size", "=", "=", "<NUM_LIT>", ")", "size", "=", "0", ";", "buf", "=", "new", "byte", "[", "<NUM_LIT>", "]", ";", "while", "(", "rlen", ">", "=", "0", "&", "&", "size", ">", "0", ")", "{", "rlen", "=", "is", ".", "read", "(", "buf", ",", "0", ",", "<NUM_LIT>", ")", ";", "size", "-", "=", "rlen", ";", "if", "(", "rlen", ">", "0", ")", "f", ".", "write", "(", "buf", ",", "0", ",", "rlen", ")", ";", "}", "byte", "[", "]", "fbuf", "=", "f", ".", "toByteArray", "(", ")", ";", "ByteArrayInputStream", "bin", "=", "new", "ByteArrayInputStream", "(", "fbuf", ")", ";", "BufferedReader", "in", "=", "new", "BufferedReader", "(", "new", "InputStreamReader", "(", "bin", ")", ")", ";", "if", "(", "method", ".", "equalsIgnoreCase", "(", "\"", "<STR_LIT:POST>", "\"", ")", ")", "{", "String", "contentType", "=", "\"", "\"", ";", "String", "contentTypeHeader", "=", "header", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "StringTokenizer", "st", "=", "new", "StringTokenizer", "(", "contentTypeHeader", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "st", ".", "hasMoreTokens", "(", ")", ")", "{", "contentType", "=", "st", ".", "nextToken", "(", ")", ";", "}", "if", "(", "contentType", ".", "equalsIgnoreCase", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "if", "(", "!", "st", ".", "hasMoreTokens", "(", ")", ")", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "String", "boundaryExp", "=", "st", ".", "nextToken", "(", ")", ";", "st", "=", "new", "StringTokenizer", "(", "boundaryExp", ",", "\"", "<STR_LIT:=>", "\"", ")", ";", "if", "(", "st", ".", "countTokens", "(", ")", "!", "=", "<NUM_LIT:2>", ")", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "st", ".", "nextToken", "(", ")", ";", "String", "boundary", "=", "st", ".", "nextToken", "(", ")", ";", "decodeMultipartData", "(", "boundary", ",", "fbuf", ",", "in", ",", "parms", ",", "files", ")", ";", "}", "else", "{", "String", "postLine", "=", "\"", "\"", ";", "char", "pbuf", "[", "]", "=", "new", "char", "[", "<NUM_LIT>", "]", ";", "int", "read", "=", "in", ".", "read", "(", "pbuf", ")", ";", "while", "(", "read", ">", "=", "0", "&", "&", "!", "postLine", ".", "endsWith", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ")", "{", "postLine", "+", "=", "String", ".", "valueOf", "(", "pbuf", ",", "0", ",", "read", ")", ";", "read", "=", "in", ".", "read", "(", "pbuf", ")", ";", "if", "(", "Thread", ".", "interrupted", "(", ")", ")", "{", "throw", "new", "InterruptedException", "(", ")", ";", "}", "}", "postLine", "=", "postLine", ".", "trim", "(", ")", ";", "decodeParms", "(", "postLine", ",", "parms", ")", ";", "}", "}", "Response", "r", "=", "serve", "(", "uri", ",", "method", ",", "header", ",", "parms", ",", "files", ")", ";", "if", "(", "r", "=", "=", "null", ")", "sendError", "(", "socket", ",", "HTTP_INTERNALERROR", ",", "\"", "<STR_LIT>", "\"", ")", ";", "else", "sendResponse", "(", "socket", ",", "r", ".", "status", ",", "r", ".", "mimeType", ",", "r", ".", "header", ",", "r", ".", "data", ")", ";", "in", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "ioe", ")", "{", "try", "{", "sendError", "(", "socket", ",", "HTTP_INTERNALERROR", ",", "\"", "<STR_LIT>", "\"", "+", "ioe", ".", "getMessage", "(", ")", ")", ";", "}", "catch", "(", "Throwable", "t", ")", "{", "}", "}", "catch", "(", "InterruptedException", "ie", ")", "{", "}", "}", "</s>"]
["<s>", "private", "void", "decodeHeader", "(", "BufferedReader", "in", ",", "Properties", "pre", ",", "Properties", "parms", ",", "Properties", "header", ")", "throws", "InterruptedException", "{", "try", "{", "String", "inLine", "=", "in", ".", "readLine", "(", ")", ";", "if", "(", "inLine", "=", "=", "null", ")", "return", ";", "StringTokenizer", "st", "=", "new", "StringTokenizer", "(", "inLine", ")", ";", "if", "(", "!", "st", ".", "hasMoreTokens", "(", ")", ")", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "String", "method", "=", "st", ".", "nextToken", "(", ")", ";", "pre", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "method", ")", ";", "if", "(", "!", "st", ".", "hasMoreTokens", "(", ")", ")", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "String", "uri", "=", "st", ".", "nextToken", "(", ")", ";", "int", "qmi", "=", "uri", ".", "indexOf", "(", "<CHAR_LIT>", ")", ";", "if", "(", "qmi", ">", "=", "0", ")", "{", "decodeParms", "(", "uri", ".", "substring", "(", "qmi", "+", "1", ")", ",", "parms", ")", ";", "uri", "=", "decodePercent", "(", "uri", ".", "substring", "(", "0", ",", "qmi", ")", ")", ";", "}", "else", "uri", "=", "Uri", ".", "decode", "(", "uri", ")", ";", "if", "(", "st", ".", "hasMoreTokens", "(", ")", ")", "{", "String", "line", "=", "in", ".", "readLine", "(", ")", ";", "while", "(", "line", "!", "=", "null", "&", "&", "line", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "0", ")", "{", "int", "p", "=", "line", ".", "indexOf", "(", "<CHAR_LIT::>", ")", ";", "if", "(", "p", ">", "=", "0", ")", "header", ".", "put", "(", "line", ".", "substring", "(", "0", ",", "p", ")", ".", "trim", "(", ")", ".", "toLowerCase", "(", ")", ",", "line", ".", "substring", "(", "p", "+", "1", ")", ".", "trim", "(", ")", ")", ";", "line", "=", "in", ".", "readLine", "(", ")", ";", "}", "}", "pre", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "uri", ")", ";", "}", "catch", "(", "IOException", "ioe", ")", "{", "sendError", "(", "socket", ",", "HTTP_INTERNALERROR", ",", "\"", "<STR_LIT>", "\"", "+", "ioe", ".", "getMessage", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "decodeMultipartData", "(", "String", "boundary", ",", "byte", "[", "]", "fbuf", ",", "BufferedReader", "in", ",", "Properties", "parms", ",", "Properties", "files", ")", "throws", "InterruptedException", "{", "try", "{", "int", "[", "]", "bpositions", "=", "getBoundaryPositions", "(", "fbuf", ",", "boundary", ".", "getBytes", "(", ")", ")", ";", "int", "boundarycount", "=", "1", ";", "String", "mpline", "=", "in", ".", "readLine", "(", ")", ";", "while", "(", "mpline", "!", "=", "null", ")", "{", "if", "(", "mpline", ".", "indexOf", "(", "boundary", ")", "=", "=", "-", "1", ")", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "boundarycount", "+", "+", ";", "Properties", "item", "=", "new", "Properties", "(", ")", ";", "mpline", "=", "in", ".", "readLine", "(", ")", ";", "while", "(", "mpline", "!", "=", "null", "&", "&", "mpline", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "0", ")", "{", "int", "p", "=", "mpline", ".", "indexOf", "(", "<CHAR_LIT::>", ")", ";", "if", "(", "p", "!", "=", "-", "1", ")", "item", ".", "put", "(", "mpline", ".", "substring", "(", "0", ",", "p", ")", ".", "trim", "(", ")", ".", "toLowerCase", "(", ")", ",", "mpline", ".", "substring", "(", "p", "+", "1", ")", ".", "trim", "(", ")", ")", ";", "mpline", "=", "in", ".", "readLine", "(", ")", ";", "}", "if", "(", "mpline", "!", "=", "null", ")", "{", "String", "contentDisposition", "=", "item", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "contentDisposition", "=", "=", "null", ")", "{", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "StringTokenizer", "st", "=", "new", "StringTokenizer", "(", "contentDisposition", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Properties", "disposition", "=", "new", "Properties", "(", ")", ";", "while", "(", "st", ".", "hasMoreTokens", "(", ")", ")", "{", "String", "token", "=", "st", ".", "nextToken", "(", ")", ";", "int", "p", "=", "token", ".", "indexOf", "(", "<CHAR_LIT:=>", ")", ";", "if", "(", "p", "!", "=", "-", "1", ")", "disposition", ".", "put", "(", "token", ".", "substring", "(", "0", ",", "p", ")", ".", "trim", "(", ")", ".", "toLowerCase", "(", ")", ",", "token", ".", "substring", "(", "p", "+", "1", ")", ".", "trim", "(", ")", ")", ";", "}", "String", "pname", "=", "disposition", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "pname", "=", "pname", ".", "substring", "(", "1", ",", "pname", ".", "length", "(", ")", "-", "1", ")", ";", "String", "value", "=", "\"", "\"", ";", "if", "(", "item", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", "=", "=", "null", ")", "{", "while", "(", "mpline", "!", "=", "null", "&", "&", "mpline", ".", "indexOf", "(", "boundary", ")", "=", "=", "-", "1", ")", "{", "mpline", "=", "in", ".", "readLine", "(", ")", ";", "if", "(", "mpline", "!", "=", "null", ")", "{", "int", "d", "=", "mpline", ".", "indexOf", "(", "boundary", ")", ";", "if", "(", "d", "=", "=", "-", "1", ")", "value", "+", "=", "mpline", ";", "else", "value", "+", "=", "mpline", ".", "substring", "(", "0", ",", "d", "-", "<NUM_LIT:2>", ")", ";", "}", "}", "}", "else", "{", "if", "(", "boundarycount", ">", "bpositions", ".", "length", ")", "sendError", "(", "socket", ",", "HTTP_INTERNALERROR", ",", "\"", "<STR_LIT>", "\"", ")", ";", "int", "offset", "=", "stripMultipartHeaders", "(", "fbuf", ",", "bpositions", "[", "boundarycount", "-", "<NUM_LIT:2>", "]", ")", ";", "String", "path", "=", "saveTmpFile", "(", "fbuf", ",", "offset", ",", "bpositions", "[", "boundarycount", "-", "1", "]", "-", "offset", "-", "<NUM_LIT:4>", ")", ";", "files", ".", "put", "(", "pname", ",", "path", ")", ";", "value", "=", "disposition", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "value", "=", "value", ".", "substring", "(", "1", ",", "value", ".", "length", "(", ")", "-", "1", ")", ";", "do", "{", "mpline", "=", "in", ".", "readLine", "(", ")", ";", "}", "while", "(", "mpline", "!", "=", "null", "&", "&", "mpline", ".", "indexOf", "(", "boundary", ")", "=", "=", "-", "1", ")", ";", "}", "parms", ".", "put", "(", "pname", ",", "value", ")", ";", "}", "}", "}", "catch", "(", "IOException", "ioe", ")", "{", "sendError", "(", "socket", ",", "HTTP_INTERNALERROR", ",", "\"", "<STR_LIT>", "\"", "+", "ioe", ".", "getMessage", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "int", "[", "]", "getBoundaryPositions", "(", "byte", "[", "]", "b", ",", "byte", "[", "]", "boundary", ")", "{", "int", "matchcount", "=", "0", ";", "int", "matchbyte", "=", "-", "1", ";", "Vector", "matchbytes", "=", "new", "Vector", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "b", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "b", "[", "i", "]", "=", "=", "boundary", "[", "matchcount", "]", ")", "{", "if", "(", "matchcount", "=", "=", "0", ")", "matchbyte", "=", "i", ";", "matchcount", "+", "+", ";", "if", "(", "matchcount", "=", "=", "boundary", ".", "length", ")", "{", "matchbytes", ".", "addElement", "(", "matchbyte", ")", ";", "matchcount", "=", "0", ";", "matchbyte", "=", "-", "1", ";", "}", "}", "else", "{", "i", "-", "=", "matchcount", ";", "matchcount", "=", "0", ";", "matchbyte", "=", "-", "1", ";", "}", "}", "int", "[", "]", "ret", "=", "new", "int", "[", "matchbytes", ".", "size", "(", ")", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "ret", ".", "length", ";", "i", "+", "+", ")", "{", "ret", "[", "i", "]", "=", "(", "Integer", ")", "matchbytes", ".", "elementAt", "(", "i", ")", ";", "}", "return", "ret", ";", "}", "</s>"]
["<s>", "private", "String", "saveTmpFile", "(", "byte", "[", "]", "b", ",", "int", "offset", ",", "int", "len", ")", "{", "String", "path", "=", "\"", "\"", ";", "if", "(", "len", ">", "0", ")", "{", "String", "tmpdir", "=", "System", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "try", "{", "File", "temp", "=", "File", ".", "createTempFile", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", ",", "new", "File", "(", "tmpdir", ")", ")", ";", "OutputStream", "fstream", "=", "new", "FileOutputStream", "(", "temp", ")", ";", "fstream", ".", "write", "(", "b", ",", "offset", ",", "len", ")", ";", "fstream", ".", "close", "(", ")", ";", "path", "=", "temp", ".", "getAbsolutePath", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "System", ".", "err", ".", "println", "(", "\"", "<STR_LIT>", "\"", "+", "e", ".", "getMessage", "(", ")", ")", ";", "}", "}", "return", "path", ";", "}", "</s>"]
["<s>", "private", "int", "stripMultipartHeaders", "(", "byte", "[", "]", "b", ",", "int", "offset", ")", "{", "int", "i", "=", "0", ";", "for", "(", "i", "=", "offset", ";", "i", "<", "b", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "b", "[", "i", "]", "=", "=", "<STR_LIT>", "&", "&", "b", "[", "+", "+", "i", "]", "=", "=", "<STR_LIT:\\n>", "&", "&", "b", "[", "+", "+", "i", "]", "=", "=", "<STR_LIT>", "&", "&", "b", "[", "+", "+", "i", "]", "=", "=", "<STR_LIT:\\n>", ")", "break", ";", "}", "return", "i", "+", "1", ";", "}", "</s>"]
["<s>", "private", "String", "decodePercent", "(", "String", "str", ")", "throws", "InterruptedException", "{", "try", "{", "StringBuffer", "sb", "=", "new", "StringBuffer", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "str", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "char", "c", "=", "str", ".", "charAt", "(", "i", ")", ";", "switch", "(", "c", ")", "{", "case", "<CHAR_LIT>", ":", "sb", ".", "append", "(", "<CHAR_LIT>", ")", ";", "break", ";", "case", "<CHAR_LIT>", ":", "sb", ".", "append", "(", "(", "char", ")", "Integer", ".", "parseInt", "(", "str", ".", "substring", "(", "i", "+", "1", ",", "i", "+", "<NUM_LIT:3>", ")", ",", "<NUM_LIT:16>", ")", ")", ";", "i", "+", "=", "<NUM_LIT:2>", ";", "break", ";", "default", ":", "sb", ".", "append", "(", "c", ")", ";", "break", ";", "}", "}", "return", "sb", ".", "toString", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "sendError", "(", "socket", ",", "HTTP_BADREQUEST", ",", "\"", "<STR_LIT>", "\"", ")", ";", "return", "null", ";", "}", "}", "</s>"]
["<s>", "private", "void", "decodeParms", "(", "String", "parms", ",", "Properties", "p", ")", "throws", "InterruptedException", "{", "if", "(", "parms", "=", "=", "null", ")", "return", ";", "StringTokenizer", "st", "=", "new", "StringTokenizer", "(", "parms", ",", "\"", "<STR_LIT:&>", "\"", ")", ";", "while", "(", "st", ".", "hasMoreTokens", "(", ")", ")", "{", "String", "e", "=", "st", ".", "nextToken", "(", ")", ";", "int", "sep", "=", "e", ".", "indexOf", "(", "<CHAR_LIT:=>", ")", ";", "if", "(", "sep", ">", "=", "0", ")", "p", ".", "put", "(", "decodePercent", "(", "e", ".", "substring", "(", "0", ",", "sep", ")", ")", ".", "trim", "(", ")", ",", "decodePercent", "(", "e", ".", "substring", "(", "sep", "+", "1", ")", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "sendError", "(", "Socket", "socket", ",", "String", "status", ",", "String", "msg", ")", "throws", "InterruptedException", "{", "sendResponse", "(", "socket", ",", "status", ",", "MIME_PLAINTEXT", ",", "null", ",", "null", ")", ";", "throw", "new", "InterruptedException", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "sendResponse", "(", "Socket", "socket", ",", "String", "status", ",", "String", "mime", ",", "Properties", "header", ",", "CloudStreamSource", "data", ")", "{", "try", "{", "if", "(", "status", "=", "=", "null", ")", "throw", "new", "Error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "OutputStream", "out", "=", "socket", ".", "getOutputStream", "(", ")", ";", "PrintWriter", "pw", "=", "new", "PrintWriter", "(", "out", ")", ";", "pw", ".", "print", "(", "\"", "<STR_LIT>", "\"", "+", "status", "+", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "if", "(", "mime", "!", "=", "null", ")", "pw", ".", "print", "(", "\"", "<STR_LIT>", "\"", "+", "mime", "+", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "if", "(", "header", "=", "=", "null", "|", "|", "header", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", "=", "=", "null", ")", "pw", ".", "print", "(", "\"", "<STR_LIT>", "\"", "+", "gmtFrmt", ".", "format", "(", "new", "Date", "(", ")", ")", "+", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "if", "(", "header", "!", "=", "null", ")", "{", "Enumeration", "e", "=", "header", ".", "keys", "(", ")", ";", "while", "(", "e", ".", "hasMoreElements", "(", ")", ")", "{", "String", "key", "=", "(", "String", ")", "e", ".", "nextElement", "(", ")", ";", "String", "value", "=", "header", ".", "getProperty", "(", "key", ")", ";", "pw", ".", "print", "(", "key", "+", "\"", "<STR_LIT>", "\"", "+", "value", "+", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "}", "}", "pw", ".", "print", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "pw", ".", "flush", "(", ")", ";", "if", "(", "data", "!", "=", "null", ")", "{", "data", ".", "open", "(", ")", ";", "byte", "[", "]", "buff", "=", "new", "byte", "[", "<NUM_LIT>", "]", ";", "int", "read", "=", "0", ";", "while", "(", "(", "read", "=", "data", ".", "read", "(", "buff", ")", ")", ">", "0", ")", "{", "out", ".", "write", "(", "buff", ",", "0", ",", "read", ")", ";", "}", "}", "out", ".", "flush", "(", ")", ";", "out", ".", "close", "(", ")", ";", "if", "(", "data", "!", "=", "null", ")", "data", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "ioe", ")", "{", "try", "{", "socket", ".", "close", "(", ")", ";", "}", "catch", "(", "Throwable", "t", ")", "{", "}", "}", "}", "</s>"]
["<s>", "private", "String", "encodeUri", "(", "String", "uri", ")", "{", "String", "newUri", "=", "\"", "\"", ";", "StringTokenizer", "st", "=", "new", "StringTokenizer", "(", "uri", ",", "\"", "<STR_LIT>", "\"", ",", "true", ")", ";", "while", "(", "st", ".", "hasMoreTokens", "(", ")", ")", "{", "String", "tok", "=", "st", ".", "nextToken", "(", ")", ";", "if", "(", "tok", ".", "equals", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "newUri", "+", "=", "\"", "<STR_LIT:/>", "\"", ";", "else", "if", "(", "tok", ".", "equals", "(", "\"", "\"", ")", ")", "newUri", "+", "=", "\"", "<STR_LIT>", "\"", ";", "else", "{", "newUri", "+", "=", "URLEncoder", ".", "encode", "(", "tok", ")", ";", "}", "}", "return", "newUri", ";", "}", "</s>"]
["<s>", "public", "CloudStreamSource", "(", "String", "fileName", ",", "long", "length", ",", "InputStream", "inputStream", ")", "{", "super", "(", "length", ")", ";", "fp", "=", "0", ";", "this", ".", "name", "=", "fileName", ";", "this", ".", "inputStream", "=", "inputStream", ";", "}", "</s>"]
["<s>", "public", "void", "open", "(", ")", "throws", "IOException", "{", "try", "{", "if", "(", "fp", ">", "0", ")", "inputStream", ".", "skip", "(", "fp", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "throw", "new", "IOException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "read", "(", ")", "throws", "IOException", "{", "int", "read", "=", "inputStream", ".", "read", "(", ")", ";", "if", "(", "read", "!", "=", "-", "1", ")", "fp", "+", "+", ";", "return", "read", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "read", "(", "byte", "[", "]", "bytes", ",", "int", "start", ",", "int", "offs", ")", "throws", "IOException", "{", "int", "read", "=", "inputStream", ".", "read", "(", "bytes", ",", "start", ",", "offs", ")", ";", "fp", "+", "=", "read", ";", "return", "read", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "try", "{", "inputStream", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "String", "getName", "(", ")", "{", "return", "name", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "moveTo", "(", "long", "position", ")", "{", "if", "(", "position", "<", "0", "|", "|", "length", "(", ")", "<", "position", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "fp", "=", "position", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "long", "getCurrentPosition", "(", ")", "{", "return", "fp", ";", "}", "</s>"]
["<s>", "protected", "CloudStreamer", "(", "int", "port", ")", "throws", "IOException", "{", "super", "(", "port", ",", "new", "File", "(", "\"", "<STR_LIT:.>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "CloudStreamer", "getInstance", "(", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "try", "{", "instance", "=", "new", "CloudStreamer", "(", "PORT", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "instance", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isStreamMedia", "(", "SmbFile", "file", ")", "{", "return", "pattern", ".", "matcher", "(", "file", ".", "getName", "(", ")", ")", ".", "matches", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setStreamSrc", "(", "InputStream", "inputStream", ",", "String", "fileName", ",", "long", "length", ")", "{", "this", ".", "inputStream", "=", "inputStream", ";", "this", ".", "fileName", "=", "fileName", ";", "this", ".", "length", "=", "length", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "stop", "(", ")", "{", "super", ".", "stop", "(", ")", ";", "instance", "=", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CloudStreamServer", ".", "Response", "serve", "(", "String", "uri", ",", "String", "method", ",", "Properties", "header", ",", "Properties", "parms", ",", "Properties", "files", ")", "{", "CloudStreamServer", ".", "Response", "res", "=", "null", ";", "if", "(", "inputStream", "=", "=", "null", ")", "res", "=", "new", "CloudStreamServer", ".", "Response", "(", "HTTP_NOTFOUND", ",", "MIME_PLAINTEXT", ",", "null", ")", ";", "else", "{", "long", "startFrom", "=", "0", ";", "long", "endAt", "=", "-", "1", ";", "String", "range", "=", "header", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "range", "!", "=", "null", ")", "{", "if", "(", "range", ".", "startsWith", "(", "\"", "<STR_LIT:=>", "\"", ")", ")", "{", "range", "=", "range", ".", "substring", "(", "\"", "<STR_LIT:=>", "\"", ".", "length", "(", ")", ")", ";", "int", "minus", "=", "range", ".", "indexOf", "(", "<CHAR_LIT:->", ")", ";", "try", "{", "if", "(", "minus", ">", "0", ")", "{", "startFrom", "=", "Long", ".", "parseLong", "(", "range", ".", "substring", "(", "0", ",", "minus", ")", ")", ";", "endAt", "=", "Long", ".", "parseLong", "(", "range", ".", "substring", "(", "minus", "+", "1", ")", ")", ";", "}", "}", "catch", "(", "NumberFormatException", "nfe", ")", "{", "}", "}", "}", "Log", ".", "d", "(", "CloudUtil", ".", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "range", "+", "\"", "<STR_LIT>", "\"", "+", "startFrom", "+", "\"", "<STR_LIT>", "\"", "+", "endAt", ")", ";", "final", "CloudStreamSource", "source", "=", "new", "CloudStreamSource", "(", "fileName", ",", "length", ",", "inputStream", ")", ";", "long", "fileLen", "=", "source", ".", "length", "(", ")", ";", "if", "(", "range", "!", "=", "null", "&", "&", "startFrom", ">", "0", ")", "{", "if", "(", "startFrom", ">", "=", "fileLen", ")", "{", "res", "=", "new", "CloudStreamServer", ".", "Response", "(", "HTTP_RANGE_NOT_SATISFIABLE", ",", "MIME_PLAINTEXT", ",", "null", ")", ";", "res", ".", "addHeader", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "fileLen", ")", ";", "}", "else", "{", "if", "(", "endAt", "<", "0", ")", "endAt", "=", "fileLen", "-", "1", ";", "long", "newLen", "=", "fileLen", "-", "startFrom", ";", "if", "(", "newLen", "<", "0", ")", "newLen", "=", "0", ";", "Log", ".", "d", "(", "CloudUtil", ".", "TAG", ",", "\"", "<STR_LIT:=>", "\"", "+", "startFrom", "+", "\"", "<STR_LIT>", "\"", "+", "endAt", "+", "\"", "<STR_LIT>", "\"", "+", "newLen", ")", ";", "final", "long", "dataLen", "=", "newLen", ";", "source", ".", "moveTo", "(", "startFrom", ")", ";", "Log", ".", "d", "(", "CloudUtil", ".", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "startFrom", "+", "\"", "<STR_LIT>", "\"", ")", ";", "res", "=", "new", "CloudStreamServer", ".", "Response", "(", "HTTP_PARTIALCONTENT", ",", "null", ",", "source", ")", ";", "res", ".", "addHeader", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", "+", "dataLen", ")", ";", "}", "}", "else", "{", "source", ".", "reset", "(", ")", ";", "res", "=", "new", "CloudStreamServer", ".", "Response", "(", "HTTP_OK", ",", "null", ",", "source", ")", ";", "res", ".", "addHeader", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", "+", "fileLen", ")", ";", "}", "}", "res", ".", "addHeader", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "return", "res", ";", "}", "</s>"]
["<s>", "public", "CryptUtil", "(", "Context", "context", ",", "HybridFileParcelable", "sourceFile", ",", "ProgressHandler", "progressHandler", ",", "ArrayList", "<", "HybridFile", ">", "failedOps", ",", "String", "targetFilename", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "this", ".", "progressHandler", "=", "progressHandler", ";", "this", ".", "failedOps", "=", "failedOps", ";", "HybridFile", "hFile", "=", "new", "HybridFile", "(", "sourceFile", ".", "getMode", "(", ")", ",", "sourceFile", ".", "getParent", "(", "context", ")", ")", ";", "encrypt", "(", "context", ",", "sourceFile", ",", "hFile", ",", "targetFilename", ")", ";", "}", "</s>"]
["<s>", "public", "CryptUtil", "(", "Context", "context", ",", "HybridFileParcelable", "baseFile", ",", "String", "targetPath", ",", "ProgressHandler", "progressHandler", ",", "ArrayList", "<", "HybridFile", ">", "failedOps", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "this", ".", "progressHandler", "=", "progressHandler", ";", "this", ".", "failedOps", "=", "failedOps", ";", "HybridFile", "targetDirectory", "=", "new", "HybridFile", "(", "OpenMode", ".", "FILE", ",", "targetPath", ")", ";", "if", "(", "!", "targetPath", ".", "equals", "(", "context", ".", "getExternalCacheDir", "(", ")", ")", ")", "{", "targetDirectory", ".", "setMode", "(", "baseFile", ".", "getMode", "(", ")", ")", ";", "}", "decrypt", "(", "context", ",", "baseFile", ",", "targetDirectory", ")", ";", "}", "</s>"]
["<s>", "private", "void", "decrypt", "(", "final", "Context", "context", ",", "HybridFileParcelable", "sourceFile", ",", "HybridFile", "targetDirectory", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "if", "(", "progressHandler", ".", "getCancelled", "(", ")", ")", "return", ";", "if", "(", "sourceFile", ".", "isDirectory", "(", ")", ")", "{", "final", "HybridFile", "hFile", "=", "new", "HybridFile", "(", "targetDirectory", ".", "getMode", "(", ")", ",", "targetDirectory", ".", "getPath", "(", ")", ",", "sourceFile", ".", "getName", "(", ")", ".", "replace", "(", "CRYPT_EXTENSION", ",", "\"", "\"", ")", ",", "sourceFile", ".", "isDirectory", "(", ")", ")", ";", "FileUtil", ".", "mkdirs", "(", "context", ",", "hFile", ")", ";", "sourceFile", ".", "forEachChildrenFile", "(", "context", ",", "sourceFile", ".", "isRoot", "(", ")", ",", "file", "-", ">", "{", "try", "{", "decrypt", "(", "context", ",", "file", ",", "hFile", ")", ";", "}", "catch", "(", "IOException", "|", "GeneralSecurityException", "e", ")", "{", "throw", "new", "IllegalStateException", "(", "e", ")", ";", "}", "}", ")", ";", "}", "else", "{", "if", "(", "!", "sourceFile", ".", "getPath", "(", ")", ".", "endsWith", "(", "CRYPT_EXTENSION", ")", ")", "{", "failedOps", ".", "add", "(", "sourceFile", ")", ";", "return", ";", "}", "BufferedInputStream", "inputStream", "=", "new", "BufferedInputStream", "(", "sourceFile", ".", "getInputStream", "(", "context", ")", ",", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", ")", ";", "HybridFile", "targetFile", "=", "new", "HybridFile", "(", "targetDirectory", ".", "getMode", "(", ")", ",", "targetDirectory", ".", "getPath", "(", ")", ",", "sourceFile", ".", "getName", "(", ")", ".", "replace", "(", "CRYPT_EXTENSION", ",", "\"", "\"", ")", ",", "sourceFile", ".", "isDirectory", "(", ")", ")", ";", "progressHandler", ".", "setFileName", "(", "sourceFile", ".", "getName", "(", ")", ")", ";", "BufferedOutputStream", "outputStream", "=", "new", "BufferedOutputStream", "(", "targetFile", ".", "getOutputStream", "(", "context", ")", ",", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "{", "aesDecrypt", "(", "inputStream", ",", "outputStream", ")", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "{", "rsaDecrypt", "(", "context", ",", "inputStream", ",", "outputStream", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "encrypt", "(", "final", "Context", "context", ",", "HybridFileParcelable", "sourceFile", ",", "HybridFile", "targetDirectory", ",", "String", "targetFilename", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "if", "(", "progressHandler", ".", "getCancelled", "(", ")", ")", "return", ";", "if", "(", "sourceFile", ".", "isDirectory", "(", ")", ")", "{", "final", "HybridFile", "hFile", "=", "new", "HybridFile", "(", "targetDirectory", ".", "getMode", "(", ")", ",", "targetDirectory", ".", "getPath", "(", ")", ",", "targetFilename", ",", "sourceFile", ".", "isDirectory", "(", ")", ")", ";", "FileUtil", ".", "mkdirs", "(", "context", ",", "hFile", ")", ";", "sourceFile", ".", "forEachChildrenFile", "(", "context", ",", "sourceFile", ".", "isRoot", "(", ")", ",", "file", "-", ">", "{", "try", "{", "encrypt", "(", "context", ",", "file", ",", "hFile", ",", "file", ".", "getName", "(", ")", ".", "concat", "(", "CRYPT_EXTENSION", ")", ")", ";", "}", "catch", "(", "IOException", "|", "GeneralSecurityException", "e", ")", "{", "throw", "new", "IllegalStateException", "(", "e", ")", ";", "}", "}", ")", ";", "}", "else", "{", "if", "(", "sourceFile", ".", "getName", "(", ")", ".", "endsWith", "(", "CRYPT_EXTENSION", ")", ")", "{", "failedOps", ".", "add", "(", "sourceFile", ")", ";", "return", ";", "}", "BufferedInputStream", "inputStream", "=", "new", "BufferedInputStream", "(", "sourceFile", ".", "getInputStream", "(", "context", ")", ",", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", ")", ";", "HybridFile", "targetFile", "=", "new", "HybridFile", "(", "targetDirectory", ".", "getMode", "(", ")", ",", "targetDirectory", ".", "getPath", "(", ")", ",", "targetFilename", ",", "sourceFile", ".", "isDirectory", "(", ")", ")", ";", "progressHandler", ".", "setFileName", "(", "sourceFile", ".", "getName", "(", ")", ")", ";", "BufferedOutputStream", "outputStream", "=", "new", "BufferedOutputStream", "(", "targetFile", ".", "getOutputStream", "(", "context", ")", ",", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "{", "aesEncrypt", "(", "inputStream", ",", "outputStream", ")", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "{", "rsaEncrypt", "(", "context", ",", "inputStream", ",", "outputStream", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "private", "static", "String", "aesEncryptPassword", "(", "String", "plainTextPassword", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "Cipher", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_AES", ")", ";", "GCMParameterSpec", "gcmParameterSpec", "=", "new", "GCMParameterSpec", "(", "<NUM_LIT>", ",", "IV", ".", "getBytes", "(", ")", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "ENCRYPT_MODE", ",", "getSecretKey", "(", ")", ",", "gcmParameterSpec", ")", ";", "byte", "[", "]", "encodedBytes", "=", "cipher", ".", "doFinal", "(", "plainTextPassword", ".", "getBytes", "(", ")", ")", ";", "return", "Base64", ".", "encodeToString", "(", "encodedBytes", ",", "Base64", ".", "DEFAULT", ")", ";", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "private", "static", "String", "aesDecryptPassword", "(", "String", "cipherPassword", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "Cipher", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_AES", ")", ";", "GCMParameterSpec", "gcmParameterSpec", "=", "new", "GCMParameterSpec", "(", "<NUM_LIT>", ",", "IV", ".", "getBytes", "(", ")", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "DECRYPT_MODE", ",", "getSecretKey", "(", ")", ",", "gcmParameterSpec", ")", ";", "byte", "[", "]", "decryptedBytes", "=", "cipher", ".", "doFinal", "(", "Base64", ".", "decode", "(", "cipherPassword", ",", "Base64", ".", "DEFAULT", ")", ")", ";", "return", "new", "String", "(", "decryptedBytes", ")", ";", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "private", "void", "aesEncrypt", "(", "BufferedInputStream", "inputStream", ",", "BufferedOutputStream", "outputStream", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "Cipher", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_AES", ")", ";", "GCMParameterSpec", "gcmParameterSpec", "=", "new", "GCMParameterSpec", "(", "<NUM_LIT>", ",", "IV", ".", "getBytes", "(", ")", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "ENCRYPT_MODE", ",", "getSecretKey", "(", ")", ",", "gcmParameterSpec", ")", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "int", "count", ";", "CipherOutputStream", "cipherOutputStream", "=", "new", "CipherOutputStream", "(", "outputStream", ",", "cipher", ")", ";", "try", "{", "while", "(", "(", "count", "=", "inputStream", ".", "read", "(", "buffer", ")", ")", "!", "=", "-", "1", ")", "{", "if", "(", "!", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "cipherOutputStream", ".", "write", "(", "buffer", ",", "0", ",", "count", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "count", ";", "}", "else", "break", ";", "}", "}", "finally", "{", "cipherOutputStream", ".", "flush", "(", ")", ";", "cipherOutputStream", ".", "close", "(", ")", ";", "inputStream", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "private", "void", "aesDecrypt", "(", "BufferedInputStream", "inputStream", ",", "BufferedOutputStream", "outputStream", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "Cipher", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_AES", ")", ";", "GCMParameterSpec", "gcmParameterSpec", "=", "new", "GCMParameterSpec", "(", "<NUM_LIT>", ",", "IV", ".", "getBytes", "(", ")", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "DECRYPT_MODE", ",", "getSecretKey", "(", ")", ",", "gcmParameterSpec", ")", ";", "CipherInputStream", "cipherInputStream", "=", "new", "CipherInputStream", "(", "inputStream", ",", "cipher", ")", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "int", "count", ";", "try", "{", "while", "(", "(", "count", "=", "cipherInputStream", ".", "read", "(", "buffer", ")", ")", "!", "=", "-", "1", ")", "{", "if", "(", "!", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "outputStream", ".", "write", "(", "buffer", ",", "0", ",", "count", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "count", ";", "}", "else", "break", ";", "}", "}", "finally", "{", "outputStream", ".", "flush", "(", ")", ";", "cipherInputStream", ".", "close", "(", ")", ";", "outputStream", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "private", "static", "Key", "getSecretKey", "(", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "KeyStore", "keyStore", "=", "KeyStore", ".", "getInstance", "(", "KEY_STORE_ANDROID", ")", ";", "keyStore", ".", "load", "(", "null", ")", ";", "if", "(", "!", "keyStore", ".", "containsAlias", "(", "KEY_ALIAS_AMAZE", ")", ")", "{", "KeyGenerator", "keyGenerator", "=", "KeyGenerator", ".", "getInstance", "(", "KeyProperties", ".", "KEY_ALGORITHM_AES", ",", "KEY_STORE_ANDROID", ")", ";", "KeyGenParameterSpec", ".", "Builder", "builder", "=", "new", "KeyGenParameterSpec", ".", "Builder", "(", "KEY_ALIAS_AMAZE", ",", "KeyProperties", ".", "PURPOSE_ENCRYPT", "|", "KeyProperties", ".", "PURPOSE_DECRYPT", ")", ";", "builder", ".", "setBlockModes", "(", "KeyProperties", ".", "BLOCK_MODE_GCM", ")", ";", "builder", ".", "setEncryptionPaddings", "(", "KeyProperties", ".", "ENCRYPTION_PADDING_NONE", ")", ";", "builder", ".", "setRandomizedEncryptionRequired", "(", "false", ")", ";", "keyGenerator", ".", "init", "(", "builder", ".", "build", "(", ")", ")", ";", "return", "keyGenerator", ".", "generateKey", "(", ")", ";", "}", "else", "{", "return", "keyStore", ".", "getKey", "(", "KEY_ALIAS_AMAZE", ",", "null", ")", ";", "}", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "private", "void", "rsaEncrypt", "(", "Context", "context", ",", "BufferedInputStream", "inputStream", ",", "BufferedOutputStream", "outputStream", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "Cipher", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_AES", ",", "\"", "<STR_LIT>", "\"", ")", ";", "RSAKeygen", "keygen", "=", "new", "RSAKeygen", "(", "context", ")", ";", "IvParameterSpec", "ivParameterSpec", "=", "new", "IvParameterSpec", "(", "IV", ".", "getBytes", "(", ")", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "ENCRYPT_MODE", ",", "keygen", ".", "getSecretKey", "(", ")", ",", "ivParameterSpec", ")", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "int", "count", ";", "CipherOutputStream", "cipherOutputStream", "=", "new", "CipherOutputStream", "(", "outputStream", ",", "cipher", ")", ";", "try", "{", "while", "(", "(", "count", "=", "inputStream", ".", "read", "(", "buffer", ")", ")", "!", "=", "-", "1", ")", "{", "if", "(", "!", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "cipherOutputStream", ".", "write", "(", "buffer", ",", "0", ",", "count", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "count", ";", "}", "else", "break", ";", "}", "}", "finally", "{", "cipherOutputStream", ".", "flush", "(", ")", ";", "cipherOutputStream", ".", "close", "(", ")", ";", "inputStream", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "private", "void", "rsaDecrypt", "(", "Context", "context", ",", "BufferedInputStream", "inputStream", ",", "BufferedOutputStream", "outputStream", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "Cipher", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_AES", ",", "\"", "<STR_LIT>", "\"", ")", ";", "RSAKeygen", "keygen", "=", "new", "RSAKeygen", "(", "context", ")", ";", "IvParameterSpec", "ivParameterSpec", "=", "new", "IvParameterSpec", "(", "IV", ".", "getBytes", "(", ")", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "DECRYPT_MODE", ",", "keygen", ".", "getSecretKey", "(", ")", ",", "ivParameterSpec", ")", ";", "CipherInputStream", "cipherInputStream", "=", "new", "CipherInputStream", "(", "inputStream", ",", "cipher", ")", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "int", "count", ";", "try", "{", "while", "(", "(", "count", "=", "cipherInputStream", ".", "read", "(", "buffer", ")", ")", "!", "=", "-", "1", ")", "{", "if", "(", "!", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "outputStream", ".", "write", "(", "buffer", ",", "0", ",", "count", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "count", ";", "}", "else", "break", ";", "}", "}", "finally", "{", "outputStream", ".", "flush", "(", ")", ";", "outputStream", ".", "close", "(", ")", ";", "cipherInputStream", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "private", "static", "String", "rsaEncryptPassword", "(", "Context", "context", ",", "String", "password", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "Cipher", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_AES", ",", "\"", "<STR_LIT>", "\"", ")", ";", "RSAKeygen", "keygen", "=", "new", "RSAKeygen", "(", "context", ")", ";", "IvParameterSpec", "ivParameterSpec", "=", "new", "IvParameterSpec", "(", "IV", ".", "getBytes", "(", ")", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "ENCRYPT_MODE", ",", "keygen", ".", "getSecretKey", "(", ")", ",", "ivParameterSpec", ")", ";", "return", "Base64", ".", "encodeToString", "(", "cipher", ".", "doFinal", "(", "password", ".", "getBytes", "(", ")", ")", ",", "Base64", ".", "DEFAULT", ")", ";", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "private", "static", "String", "rsaDecryptPassword", "(", "Context", "context", ",", "String", "cipherText", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "Cipher", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_AES", ",", "\"", "<STR_LIT>", "\"", ")", ";", "RSAKeygen", "keygen", "=", "new", "RSAKeygen", "(", "context", ")", ";", "IvParameterSpec", "ivParameterSpec", "=", "new", "IvParameterSpec", "(", "IV", ".", "getBytes", "(", ")", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "DECRYPT_MODE", ",", "keygen", ".", "getSecretKey", "(", ")", ",", "ivParameterSpec", ")", ";", "byte", "[", "]", "decryptedBytes", "=", "cipher", ".", "doFinal", "(", "Base64", ".", "decode", "(", "cipherText", ",", "Base64", ".", "DEFAULT", ")", ")", ";", "return", "new", "String", "(", "decryptedBytes", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "encryptPassword", "(", "Context", "context", ",", "String", "plainText", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "{", "return", "aesEncryptPassword", "(", "plainText", ")", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "{", "return", "rsaEncryptPassword", "(", "context", ",", "plainText", ")", ";", "}", "else", "return", "plainText", ";", "}", "</s>"]
["<s>", "public", "static", "String", "decryptPassword", "(", "Context", "context", ",", "String", "cipherText", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "{", "return", "aesDecryptPassword", "(", "cipherText", ")", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "{", "return", "rsaDecryptPassword", "(", "context", ",", "cipherText", ")", ";", "}", "else", "return", "cipherText", ";", "}", "</s>"]
["<s>", "public", "static", "Cipher", "initCipher", "(", "Context", "context", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "Cipher", "cipher", "=", "null", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "{", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_AES", ")", ";", "GCMParameterSpec", "gcmParameterSpec", "=", "new", "GCMParameterSpec", "(", "<NUM_LIT>", ",", "IV", ".", "getBytes", "(", ")", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "ENCRYPT_MODE", ",", "getSecretKey", "(", ")", ",", "gcmParameterSpec", ")", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "{", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_AES", ",", "\"", "<STR_LIT>", "\"", ")", ";", "RSAKeygen", "keygen", "=", "new", "RSAKeygen", "(", "context", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "ENCRYPT_MODE", ",", "keygen", ".", "getSecretKey", "(", ")", ")", ";", "}", "return", "cipher", ";", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "RSAKeygen", "(", "Context", "context", ")", "{", "this", ".", "context", "=", "context", ";", "try", "{", "generateKeyPair", "(", "context", ")", ";", "setKeyPreference", "(", ")", ";", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "private", "void", "generateKeyPair", "(", "Context", "context", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "KeyStore", "keyStore", "=", "KeyStore", ".", "getInstance", "(", "KEY_STORE_ANDROID", ")", ";", "keyStore", ".", "load", "(", "null", ")", ";", "if", "(", "!", "keyStore", ".", "containsAlias", "(", "KEY_ALIAS_AMAZE", ")", ")", "{", "Calendar", "start", "=", "Calendar", ".", "getInstance", "(", ")", ";", "Calendar", "end", "=", "Calendar", ".", "getInstance", "(", ")", ";", "end", ".", "add", "(", "Calendar", ".", "YEAR", ",", "<NUM_LIT:30>", ")", ";", "KeyPairGenerator", "keyPairGenerator", "=", "KeyPairGenerator", ".", "getInstance", "(", "\"", "<STR_LIT>", "\"", ",", "KEY_STORE_ANDROID", ")", ";", "KeyPairGeneratorSpec", "spec", "=", "new", "KeyPairGeneratorSpec", ".", "Builder", "(", "context", ")", ".", "setAlias", "(", "KEY_ALIAS_AMAZE", ")", ".", "setSubject", "(", "new", "X500Principal", "(", "\"", "<STR_LIT>", "\"", "+", "KEY_ALIAS_AMAZE", ")", ")", ".", "setSerialNumber", "(", "BigInteger", ".", "TEN", ")", ".", "setStartDate", "(", "start", ".", "getTime", "(", ")", ")", ".", "setEndDate", "(", "end", ".", "getTime", "(", ")", ")", ".", "build", "(", ")", ";", "keyPairGenerator", ".", "initialize", "(", "spec", ")", ";", "keyPairGenerator", ".", "generateKeyPair", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "setKeyPreference", "(", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "SharedPreferences", "preferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "context", ")", ";", "String", "encodedAesKey", "=", "preferences", ".", "getString", "(", "PREFERENCE_KEY", ",", "null", ")", ";", "if", "(", "encodedAesKey", "=", "=", "null", ")", "{", "byte", "[", "]", "key", "=", "new", "byte", "[", "<NUM_LIT:16>", "]", ";", "SecureRandom", "secureRandom", "=", "new", "SecureRandom", "(", ")", ";", "secureRandom", ".", "nextBytes", "(", "key", ")", ";", "byte", "[", "]", "encryptedKey", "=", "encryptAESKey", "(", "key", ")", ";", "encodedAesKey", "=", "Base64", ".", "encodeToString", "(", "encryptedKey", ",", "Base64", ".", "DEFAULT", ")", ";", "preferences", ".", "edit", "(", ")", ".", "putString", "(", "PREFERENCE_KEY", ",", "encodedAesKey", ")", ".", "apply", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "byte", "[", "]", "encryptAESKey", "(", "byte", "[", "]", "secretKey", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "KeyStore", "keyStore", "=", "KeyStore", ".", "getInstance", "(", "KEY_STORE_ANDROID", ")", ";", "keyStore", ".", "load", "(", "null", ")", ";", "KeyStore", ".", "PrivateKeyEntry", "keyEntry", "=", "(", "KeyStore", ".", "PrivateKeyEntry", ")", "keyStore", ".", "getEntry", "(", "KEY_ALIAS_AMAZE", ",", "null", ")", ";", "Cipher", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_RSA", ",", "\"", "<STR_LIT>", "\"", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "ENCRYPT_MODE", ",", "keyEntry", ".", "getCertificate", "(", ")", ".", "getPublicKey", "(", ")", ")", ";", "ByteArrayOutputStream", "byteArrayOutputStream", "=", "new", "ByteArrayOutputStream", "(", ")", ";", "CipherOutputStream", "outputStream", "=", "new", "CipherOutputStream", "(", "byteArrayOutputStream", ",", "cipher", ")", ";", "outputStream", ".", "write", "(", "secretKey", ")", ";", "outputStream", ".", "close", "(", ")", ";", "return", "byteArrayOutputStream", ".", "toByteArray", "(", ")", ";", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "private", "Key", "getSecretKey", "(", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "SharedPreferences", "preferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "context", ")", ";", "String", "encodedString", "=", "preferences", ".", "getString", "(", "PREFERENCE_KEY", ",", "null", ")", ";", "if", "(", "encodedString", "!", "=", "null", ")", "{", "return", "new", "SecretKeySpec", "(", "decryptAESKey", "(", "Base64", ".", "decode", "(", "encodedString", ",", "Base64", ".", "DEFAULT", ")", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "else", "{", "generateKeyPair", "(", "context", ")", ";", "setKeyPreference", "(", ")", ";", "return", "getSecretKey", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "byte", "[", "]", "decryptAESKey", "(", "byte", "[", "]", "encodedBytes", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "KeyStore", "keyStore", "=", "KeyStore", ".", "getInstance", "(", "KEY_STORE_ANDROID", ")", ";", "keyStore", ".", "load", "(", "null", ")", ";", "KeyStore", ".", "PrivateKeyEntry", "keyEntry", "=", "(", "KeyStore", ".", "PrivateKeyEntry", ")", "keyStore", ".", "getEntry", "(", "KEY_ALIAS_AMAZE", ",", "null", ")", ";", "Cipher", "cipher", "=", "Cipher", ".", "getInstance", "(", "ALGO_RSA", ",", "\"", "<STR_LIT>", "\"", ")", ";", "cipher", ".", "init", "(", "Cipher", ".", "DECRYPT_MODE", ",", "keyEntry", ".", "getPrivateKey", "(", ")", ")", ";", "ByteArrayInputStream", "byteArrayInputStream", "=", "new", "ByteArrayInputStream", "(", "encodedBytes", ")", ";", "CipherInputStream", "inputStream", "=", "new", "CipherInputStream", "(", "byteArrayInputStream", ",", "cipher", ")", ";", "ArrayList", "<", "Byte", ">", "bytes", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "int", "nextByte", ";", "while", "(", "(", "nextByte", "=", "inputStream", ".", "read", "(", ")", ")", "!", "=", "-", "1", ")", "{", "bytes", ".", "add", "(", "(", "byte", ")", "nextByte", ")", ";", "}", "byte", "[", "]", "decryptedBytes", "=", "new", "byte", "[", "bytes", ".", "size", "(", ")", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "bytes", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "decryptedBytes", "[", "i", "]", "=", "bytes", ".", "get", "(", "i", ")", ".", "byteValue", "(", ")", ";", "}", "return", "decryptedBytes", ";", "}", "</s>"]
["<s>", "public", "GenericCopyUtil", "(", "Context", "context", ",", "ProgressHandler", "progressHandler", ")", "{", "this", ".", "mContext", "=", "context", ";", "this", ".", "progressHandler", "=", "progressHandler", ";", "}", "</s>"]
["<s>", "private", "void", "startCopy", "(", "boolean", "lowOnMemory", ")", "throws", "IOException", "{", "FileInputStream", "inputStream", "=", "null", ";", "FileOutputStream", "outputStream", "=", "null", ";", "FileChannel", "inChannel", "=", "null", ";", "FileChannel", "outChannel", "=", "null", ";", "BufferedInputStream", "bufferedInputStream", "=", "null", ";", "BufferedOutputStream", "bufferedOutputStream", "=", "null", ";", "try", "{", "if", "(", "mSourceFile", ".", "isOtgFile", "(", ")", ")", "{", "ContentResolver", "contentResolver", "=", "mContext", ".", "getContentResolver", "(", ")", ";", "DocumentFile", "documentSourceFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "mSourceFile", ".", "getPath", "(", ")", ",", "mContext", ",", "false", ")", ";", "bufferedInputStream", "=", "new", "BufferedInputStream", "(", "contentResolver", ".", "openInputStream", "(", "documentSourceFile", ".", "getUri", "(", ")", ")", ",", "DEFAULT_BUFFER_SIZE", ")", ";", "}", "else", "if", "(", "mSourceFile", ".", "isSmb", "(", ")", ")", "{", "bufferedInputStream", "=", "new", "BufferedInputStream", "(", "mSourceFile", ".", "getInputStream", "(", ")", ",", "DEFAULT_BUFFER_SIZE", ")", ";", "}", "else", "if", "(", "mSourceFile", ".", "isSftp", "(", ")", ")", "{", "bufferedInputStream", "=", "new", "BufferedInputStream", "(", "mSourceFile", ".", "getInputStream", "(", "mContext", ")", ",", "DEFAULT_BUFFER_SIZE", ")", ";", "}", "else", "if", "(", "mSourceFile", ".", "isDropBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "bufferedInputStream", "=", "new", "BufferedInputStream", "(", "cloudStorageDropbox", ".", "download", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "mSourceFile", ".", "getPath", "(", ")", ")", ")", ")", ";", "}", "else", "if", "(", "mSourceFile", ".", "isBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "bufferedInputStream", "=", "new", "BufferedInputStream", "(", "cloudStorageBox", ".", "download", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "mSourceFile", ".", "getPath", "(", ")", ")", ")", ")", ";", "}", "else", "if", "(", "mSourceFile", ".", "isGoogleDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageGdrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "bufferedInputStream", "=", "new", "BufferedInputStream", "(", "cloudStorageGdrive", ".", "download", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "mSourceFile", ".", "getPath", "(", ")", ")", ")", ")", ";", "}", "else", "if", "(", "mSourceFile", ".", "isOneDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageOnedrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "bufferedInputStream", "=", "new", "BufferedInputStream", "(", "cloudStorageOnedrive", ".", "download", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "mSourceFile", ".", "getPath", "(", ")", ")", ")", ")", ";", "}", "else", "{", "File", "file", "=", "new", "File", "(", "mSourceFile", ".", "getPath", "(", ")", ")", ";", "if", "(", "FileUtil", ".", "isReadable", "(", "file", ")", ")", "{", "if", "(", "mTargetFile", ".", "isOneDriveFile", "(", ")", "|", "|", "mTargetFile", ".", "isDropBoxFile", "(", ")", "|", "|", "mTargetFile", ".", "isGoogleDriveFile", "(", ")", "|", "|", "mTargetFile", ".", "isBoxFile", "(", ")", "|", "|", "lowOnMemory", ")", "{", "bufferedInputStream", "=", "new", "BufferedInputStream", "(", "new", "FileInputStream", "(", "file", ")", ")", ";", "}", "else", "{", "inChannel", "=", "new", "RandomAccessFile", "(", "file", ",", "\"", "<STR_LIT>", "\"", ")", ".", "getChannel", "(", ")", ";", "}", "}", "else", "{", "ContentResolver", "contentResolver", "=", "mContext", ".", "getContentResolver", "(", ")", ";", "DocumentFile", "documentSourceFile", "=", "FileUtil", ".", "getDocumentFile", "(", "file", ",", "mSourceFile", ".", "isDirectory", "(", ")", ",", "mContext", ")", ";", "bufferedInputStream", "=", "new", "BufferedInputStream", "(", "contentResolver", ".", "openInputStream", "(", "documentSourceFile", ".", "getUri", "(", ")", ")", ",", "DEFAULT_BUFFER_SIZE", ")", ";", "}", "}", "if", "(", "mTargetFile", ".", "isOtgFile", "(", ")", ")", "{", "ContentResolver", "contentResolver", "=", "mContext", ".", "getContentResolver", "(", ")", ";", "DocumentFile", "documentTargetFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "mTargetFile", ".", "getPath", "(", ")", ",", "mContext", ",", "true", ")", ";", "bufferedOutputStream", "=", "new", "BufferedOutputStream", "(", "contentResolver", ".", "openOutputStream", "(", "documentTargetFile", ".", "getUri", "(", ")", ")", ",", "DEFAULT_BUFFER_SIZE", ")", ";", "}", "else", "if", "(", "mTargetFile", ".", "isSftp", "(", ")", ")", "{", "bufferedOutputStream", "=", "new", "BufferedOutputStream", "(", "mTargetFile", ".", "getOutputStream", "(", "mContext", ")", ",", "DEFAULT_BUFFER_SIZE", ")", ";", "}", "else", "if", "(", "mTargetFile", ".", "isSmb", "(", ")", ")", "{", "bufferedOutputStream", "=", "new", "BufferedOutputStream", "(", "mTargetFile", ".", "getOutputStream", "(", "mContext", ")", ",", "DEFAULT_BUFFER_SIZE", ")", ";", "}", "else", "if", "(", "mTargetFile", ".", "isDropBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "if", "(", "mSourceFile", ".", "isDropBoxFile", "(", ")", ")", "{", "cloudStorageDropbox", ".", "copy", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "mSourceFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "mTargetFile", ".", "getPath", "(", ")", ")", ")", ";", "return", ";", "}", "else", "{", "cloudStorageDropbox", ".", "upload", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "mTargetFile", ".", "getPath", "(", ")", ")", ",", "bufferedInputStream", ",", "mSourceFile", ".", "getSize", "(", ")", ",", "true", ")", ";", "return", ";", "}", "}", "else", "if", "(", "mTargetFile", ".", "isBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "if", "(", "mSourceFile", ".", "isBoxFile", "(", ")", ")", "{", "cloudStorageBox", ".", "copy", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "mSourceFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "mTargetFile", ".", "getPath", "(", ")", ")", ")", ";", "return", ";", "}", "else", "{", "cloudStorageBox", ".", "upload", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "mTargetFile", ".", "getPath", "(", ")", ")", ",", "bufferedInputStream", ",", "mSourceFile", ".", "getSize", "(", ")", ",", "true", ")", ";", "bufferedInputStream", ".", "close", "(", ")", ";", "return", ";", "}", "}", "else", "if", "(", "mTargetFile", ".", "isGoogleDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageGdrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "if", "(", "mSourceFile", ".", "isGoogleDriveFile", "(", ")", ")", "{", "cloudStorageGdrive", ".", "copy", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "mSourceFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "mTargetFile", ".", "getPath", "(", ")", ")", ")", ";", "return", ";", "}", "else", "{", "cloudStorageGdrive", ".", "upload", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "mTargetFile", ".", "getPath", "(", ")", ")", ",", "bufferedInputStream", ",", "mSourceFile", ".", "getSize", "(", ")", ",", "true", ")", ";", "bufferedInputStream", ".", "close", "(", ")", ";", "return", ";", "}", "}", "else", "if", "(", "mTargetFile", ".", "isOneDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageOnedrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "if", "(", "mSourceFile", ".", "isOneDriveFile", "(", ")", ")", "{", "cloudStorageOnedrive", ".", "copy", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "mSourceFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "mTargetFile", ".", "getPath", "(", ")", ")", ")", ";", "return", ";", "}", "else", "{", "cloudStorageOnedrive", ".", "upload", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "mTargetFile", ".", "getPath", "(", ")", ")", ",", "bufferedInputStream", ",", "mSourceFile", ".", "getSize", "(", ")", ",", "true", ")", ";", "bufferedInputStream", ".", "close", "(", ")", ";", "return", ";", "}", "}", "else", "{", "File", "file", "=", "new", "File", "(", "mTargetFile", ".", "getPath", "(", ")", ")", ";", "if", "(", "FileUtil", ".", "isWritable", "(", "file", ")", ")", "{", "if", "(", "lowOnMemory", ")", "{", "bufferedOutputStream", "=", "new", "BufferedOutputStream", "(", "new", "FileOutputStream", "(", "file", ")", ")", ";", "}", "else", "{", "outChannel", "=", "new", "RandomAccessFile", "(", "file", ",", "\"", "<STR_LIT>", "\"", ")", ".", "getChannel", "(", ")", ";", "}", "}", "else", "{", "ContentResolver", "contentResolver", "=", "mContext", ".", "getContentResolver", "(", ")", ";", "DocumentFile", "documentTargetFile", "=", "FileUtil", ".", "getDocumentFile", "(", "file", ",", "mTargetFile", ".", "isDirectory", "(", ")", ",", "mContext", ")", ";", "bufferedOutputStream", "=", "new", "BufferedOutputStream", "(", "contentResolver", ".", "openOutputStream", "(", "documentTargetFile", ".", "getUri", "(", ")", ")", ",", "DEFAULT_BUFFER_SIZE", ")", ";", "}", "}", "if", "(", "bufferedInputStream", "!", "=", "null", ")", "{", "if", "(", "bufferedOutputStream", "!", "=", "null", ")", "copyFile", "(", "bufferedInputStream", ",", "bufferedOutputStream", ")", ";", "else", "if", "(", "outChannel", "!", "=", "null", ")", "{", "copyFile", "(", "bufferedInputStream", ",", "outChannel", ")", ";", "}", "}", "else", "if", "(", "inChannel", "!", "=", "null", ")", "{", "if", "(", "bufferedOutputStream", "!", "=", "null", ")", "copyFile", "(", "inChannel", ",", "bufferedOutputStream", ")", ";", "else", "if", "(", "outChannel", "!", "=", "null", ")", "copyFile", "(", "inChannel", ",", "outChannel", ")", ";", "}", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Log", ".", "d", "(", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "throw", "new", "IOException", "(", ")", ";", "}", "catch", "(", "OutOfMemoryError", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "mContext", ",", "mContext", ".", "getString", "(", "R", ".", "string", ".", "copy_low_memory", ")", ")", ";", "startCopy", "(", "true", ")", ";", "}", "finally", "{", "try", "{", "if", "(", "inChannel", "!", "=", "null", ")", "inChannel", ".", "close", "(", ")", ";", "if", "(", "outChannel", "!", "=", "null", ")", "outChannel", ".", "close", "(", ")", ";", "if", "(", "inputStream", "!", "=", "null", ")", "inputStream", ".", "close", "(", ")", ";", "if", "(", "outputStream", "!", "=", "null", ")", "outputStream", ".", "close", "(", ")", ";", "if", "(", "bufferedInputStream", "!", "=", "null", ")", "bufferedInputStream", ".", "close", "(", ")", ";", "if", "(", "bufferedOutputStream", "!", "=", "null", ")", "bufferedOutputStream", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "if", "(", "(", "mTargetFile", ".", "isLocal", "(", ")", "|", "|", "mTargetFile", ".", "isOtgFile", "(", ")", ")", "&", "&", "mTargetFile", ".", "exists", "(", "mContext", ")", ")", "{", "DocumentFile", "documentFile", "=", "FileUtil", ".", "getDocumentFile", "(", "mTargetFile", ".", "getFile", "(", ")", ",", "false", ",", "mContext", ")", ";", "if", "(", "documentFile", "=", "=", "null", ")", "documentFile", "=", "DocumentFile", ".", "fromFile", "(", "mTargetFile", ".", "getFile", "(", ")", ")", ";", "FileUtils", ".", "scanFile", "(", "documentFile", ".", "getUri", "(", ")", ",", "mContext", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "void", "copy", "(", "HybridFileParcelable", "sourceFile", ",", "HybridFile", "targetFile", ")", "throws", "IOException", "{", "this", ".", "mSourceFile", "=", "sourceFile", ";", "this", ".", "mTargetFile", "=", "targetFile", ";", "startCopy", "(", "false", ")", ";", "}", "</s>"]
["<s>", "private", "void", "copyFile", "(", "BufferedInputStream", "bufferedInputStream", ",", "FileChannel", "outChannel", ")", "throws", "IOException", "{", "MappedByteBuffer", "byteBuffer", "=", "outChannel", ".", "map", "(", "FileChannel", ".", "MapMode", ".", "READ_WRITE", ",", "0", ",", "mSourceFile", ".", "getSize", "(", ")", ")", ";", "int", "count", "=", "0", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "DEFAULT_BUFFER_SIZE", "]", ";", "while", "(", "count", "!", "=", "-", "1", ")", "{", "count", "=", "bufferedInputStream", ".", "read", "(", "buffer", ")", ";", "if", "(", "count", "!", "=", "-", "1", "&", "&", "!", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "byteBuffer", ".", "put", "(", "buffer", ",", "0", ",", "count", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "count", ";", "}", "else", "break", ";", "}", "}", "</s>"]
["<s>", "private", "void", "copyFile", "(", "FileChannel", "inChannel", ",", "FileChannel", "outChannel", ")", "throws", "IOException", "{", "ReadableByteChannel", "inByteChannel", "=", "new", "CustomReadableByteChannel", "(", "inChannel", ")", ";", "outChannel", ".", "transferFrom", "(", "inByteChannel", ",", "0", ",", "mSourceFile", ".", "getSize", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "copyFile", "(", "BufferedInputStream", "bufferedInputStream", ",", "BufferedOutputStream", "bufferedOutputStream", ")", "throws", "IOException", "{", "int", "count", "=", "0", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "DEFAULT_BUFFER_SIZE", "]", ";", "try", "{", "while", "(", "count", "!", "=", "-", "1", ")", "{", "count", "=", "bufferedInputStream", ".", "read", "(", "buffer", ")", ";", "if", "(", "count", "!", "=", "-", "1", "&", "&", "!", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "bufferedOutputStream", ".", "write", "(", "buffer", ",", "0", ",", "count", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "count", ";", "}", "else", "break", ";", "}", "}", "finally", "{", "bufferedOutputStream", ".", "flush", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "copyFile", "(", "FileChannel", "inChannel", ",", "BufferedOutputStream", "bufferedOutputStream", ")", "throws", "IOException", "{", "MappedByteBuffer", "inBuffer", "=", "inChannel", ".", "map", "(", "FileChannel", ".", "MapMode", ".", "READ_ONLY", ",", "0", ",", "mSourceFile", ".", "getSize", "(", ")", ")", ";", "int", "count", "=", "-", "1", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "DEFAULT_BUFFER_SIZE", "]", ";", "try", "{", "while", "(", "inBuffer", ".", "hasRemaining", "(", ")", "&", "&", "count", "!", "=", "0", ")", "{", "int", "tempPosition", "=", "inBuffer", ".", "position", "(", ")", ";", "try", "{", "ByteBuffer", "tempByteBuffer", "=", "inBuffer", ".", "get", "(", "buffer", ")", ";", "count", "=", "tempByteBuffer", ".", "position", "(", ")", "-", "tempPosition", ";", "}", "catch", "(", "BufferUnderflowException", "exception", ")", "{", "exception", ".", "printStackTrace", "(", ")", ";", "count", "=", "0", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "buffer", ".", "length", "&", "&", "inBuffer", ".", "hasRemaining", "(", ")", ";", "i", "+", "+", ")", "{", "buffer", "[", "i", "]", "=", "inBuffer", ".", "get", "(", ")", ";", "count", "+", "+", ";", "}", "}", "if", "(", "count", "!", "=", "-", "1", "&", "&", "!", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "bufferedOutputStream", ".", "write", "(", "buffer", ",", "0", ",", "count", ")", ";", "ServiceWatcherUtil", ".", "position", "=", "inBuffer", ".", "position", "(", ")", ";", "}", "else", "break", ";", "}", "}", "finally", "{", "bufferedOutputStream", ".", "flush", "(", ")", ";", "}", "}", "</s>"]
["<s>", "CustomReadableByteChannel", "(", "ReadableByteChannel", "byteChannel", ")", "{", "this", ".", "byteChannel", "=", "byteChannel", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "read", "(", "ByteBuffer", "dst", ")", "throws", "IOException", "{", "int", "bytes", ";", "if", "(", "(", "(", "bytes", "=", "byteChannel", ".", "read", "(", "dst", ")", ")", ">", "0", ")", "&", "&", "!", "progressHandler", ".", "getCancelled", "(", ")", ")", "{", "ServiceWatcherUtil", ".", "position", "+", "=", "bytes", ";", "return", "bytes", ";", "}", "else", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isOpen", "(", ")", "{", "return", "byteChannel", ".", "isOpen", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "byteChannel", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "long", "folderSize", "(", "File", "directory", ",", "OnProgressUpdate", "<", "Long", ">", "updateState", ")", "{", "long", "length", "=", "0", ";", "try", "{", "for", "(", "File", "file", ":", "directory", ".", "listFiles", "(", ")", ")", "{", "if", "(", "file", ".", "isFile", "(", ")", ")", "length", "+", "=", "file", ".", "length", "(", ")", ";", "else", "length", "+", "=", "folderSize", "(", "file", ",", "null", ")", ";", "if", "(", "updateState", "!", "=", "null", ")", "updateState", ".", "onUpdate", "(", "length", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "length", ";", "}", "</s>"]
["<s>", "public", "static", "long", "folderSize", "(", "HybridFile", "directory", ",", "OnProgressUpdate", "<", "Long", ">", "updateState", ")", "{", "if", "(", "directory", ".", "isSimpleFile", "(", ")", ")", "return", "folderSize", "(", "new", "File", "(", "directory", ".", "getPath", "(", ")", ")", ",", "updateState", ")", ";", "else", "return", "directory", ".", "folderSize", "(", "AppConfig", ".", "getInstance", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "long", "folderSize", "(", "SmbFile", "directory", ")", "{", "long", "length", "=", "0", ";", "try", "{", "for", "(", "SmbFile", "file", ":", "directory", ".", "listFiles", "(", ")", ")", "{", "if", "(", "file", ".", "isFile", "(", ")", ")", "length", "+", "=", "file", ".", "length", "(", ")", ";", "else", "length", "+", "=", "folderSize", "(", "file", ")", ";", "}", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "length", ";", "}", "</s>"]
["<s>", "public", "static", "Long", "folderSizeSftp", "(", "SFTPClient", "client", ",", "String", "remotePath", ")", "{", "Long", "retval", "=", "0", "L", ";", "try", "{", "for", "(", "RemoteResourceInfo", "info", ":", "client", ".", "ls", "(", "remotePath", ")", ")", "{", "if", "(", "info", ".", "isDirectory", "(", ")", ")", "retval", "+", "=", "folderSizeSftp", "(", "client", ",", "info", ".", "getPath", "(", ")", ")", ";", "else", "retval", "+", "=", "info", ".", "getAttributes", "(", ")", ".", "getSize", "(", ")", ";", "}", "}", "catch", "(", "SFTPException", "e", ")", "{", "Log", ".", "e", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "+", "remotePath", ",", "e", ")", ";", "}", "finally", "{", "return", "retval", ";", "}", "}", "</s>"]
["<s>", "public", "static", "long", "folderSizeCloud", "(", "OpenMode", "openMode", ",", "CloudMetaData", "sourceFileMeta", ")", "{", "DataUtils", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "long", "length", "=", "0", ";", "CloudStorage", "cloudStorage", "=", "dataUtils", ".", "getAccount", "(", "openMode", ")", ";", "for", "(", "CloudMetaData", "metaData", ":", "cloudStorage", ".", "getChildren", "(", "CloudUtil", ".", "stripPath", "(", "openMode", ",", "sourceFileMeta", ".", "getPath", "(", ")", ")", ")", ")", "{", "if", "(", "metaData", ".", "getFolder", "(", ")", ")", "{", "length", "+", "=", "folderSizeCloud", "(", "openMode", ",", "metaData", ")", ";", "}", "else", "{", "length", "+", "=", "metaData", ".", "getSize", "(", ")", ";", "}", "}", "return", "length", ";", "}", "</s>"]
["<s>", "public", "static", "long", "otgFolderSize", "(", "String", "path", ",", "final", "Context", "context", ")", "{", "final", "AtomicLong", "totalBytes", "=", "new", "AtomicLong", "(", "0", ")", ";", "OTGUtil", ".", "getDocumentFiles", "(", "path", ",", "context", ",", "file", "-", ">", "totalBytes", ".", "addAndGet", "(", "getBaseFileSize", "(", "file", ",", "context", ")", ")", ")", ";", "return", "totalBytes", ".", "longValue", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "long", "getTotalBytes", "(", "ArrayList", "<", "HybridFileParcelable", ">", "files", ",", "Context", "context", ")", "{", "long", "totalBytes", "=", "0", "L", ";", "for", "(", "HybridFileParcelable", "file", ":", "files", ")", "{", "totalBytes", "+", "=", "getBaseFileSize", "(", "file", ",", "context", ")", ";", "}", "return", "totalBytes", ";", "}", "</s>"]
["<s>", "private", "static", "long", "getBaseFileSize", "(", "HybridFileParcelable", "baseFile", ",", "Context", "context", ")", "{", "if", "(", "baseFile", ".", "isDirectory", "(", "context", ")", ")", "{", "return", "baseFile", ".", "folderSize", "(", "context", ")", ";", "}", "else", "{", "return", "baseFile", ".", "length", "(", "context", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "scanFile", "(", "@", "NonNull", "File", "file", ",", "@", "NonNull", "Context", "c", ")", "{", "scanFile", "(", "Uri", ".", "fromFile", "(", "file", ")", ",", "c", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "scanFile", "(", "@", "NonNull", "Uri", "uri", ",", "@", "NonNull", "Context", "c", ")", "{", "Intent", "mediaScanIntent", "=", "new", "Intent", "(", "Intent", ".", "ACTION_MEDIA_SCANNER_SCAN_FILE", ",", "uri", ")", ";", "c", ".", "sendBroadcast", "(", "mediaScanIntent", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "crossfade", "(", "View", "buttons", ",", "final", "View", "pathbar", ")", "{", "buttons", ".", "setAlpha", "(", "<NUM_LIT>", ")", ";", "buttons", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "buttons", ".", "animate", "(", ")", ".", "alpha", "(", "<NUM_LIT>", ")", ".", "setDuration", "(", "<NUM_LIT:100>", ")", ".", "setListener", "(", "null", ")", ";", "pathbar", ".", "animate", "(", ")", ".", "alpha", "(", "<NUM_LIT>", ")", ".", "setDuration", "(", "<NUM_LIT:100>", ")", ".", "setListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "pathbar", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "pathbar", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "revealShow", "(", "final", "View", "view", ",", "boolean", "reveal", ")", "{", "if", "(", "reveal", ")", "{", "ObjectAnimator", "animator", "=", "ObjectAnimator", ".", "ofFloat", "(", "view", ",", "View", ".", "ALPHA", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ")", ";", "animator", ".", "setDuration", "(", "<NUM_LIT>", ")", ";", "animator", ".", "addListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "view", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "}", "}", ")", ";", "animator", ".", "start", "(", ")", ";", "}", "else", "{", "ObjectAnimator", "animator", "=", "ObjectAnimator", ".", "ofFloat", "(", "view", ",", "View", ".", "ALPHA", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ")", ";", "animator", ".", "setDuration", "(", "<NUM_LIT>", ")", ";", "animator", ".", "addListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "view", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "}", ")", ";", "animator", ".", "start", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationStart", "(", "Animator", "animation", ")", "{", "view", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "view", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "crossfadeInverse", "(", "final", "View", "buttons", ",", "final", "View", "pathbar", ")", "{", "pathbar", ".", "setAlpha", "(", "<NUM_LIT>", ")", ";", "pathbar", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "pathbar", ".", "animate", "(", ")", ".", "alpha", "(", "<NUM_LIT>", ")", ".", "setDuration", "(", "<NUM_LIT>", ")", ".", "setListener", "(", "null", ")", ";", "buttons", ".", "animate", "(", ")", ".", "alpha", "(", "<NUM_LIT>", ")", ".", "setDuration", "(", "<NUM_LIT>", ")", ".", "setListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "buttons", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "buttons", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "shareCloudFile", "(", "String", "path", ",", "final", "OpenMode", "openMode", ",", "final", "Context", "context", ")", "{", "new", "AsyncTask", "<", "String", ",", "Void", ",", "String", ">", "(", ")", "{", "@", "Override", "protected", "String", "doInBackground", "(", "String", ".", ".", ".", "params", ")", "{", "String", "shareFilePath", "=", "params", "[", "0", "]", ";", "CloudStorage", "cloudStorage", "=", "DataUtils", ".", "getInstance", "(", ")", ".", "getAccount", "(", "openMode", ")", ";", "return", "cloudStorage", ".", "createShareLink", "(", "CloudUtil", ".", "stripPath", "(", "openMode", ",", "shareFilePath", ")", ")", ";", "}", "@", "Override", "protected", "void", "onPostExecute", "(", "String", "s", ")", "{", "super", ".", "onPostExecute", "(", "s", ")", ";", "FileUtils", ".", "copyToClipboard", "(", "context", ",", "s", ")", ";", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "cloud_share_copied", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", ".", "execute", "(", "path", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "doInBackground", "(", "String", ".", ".", ".", "params", ")", "{", "String", "shareFilePath", "=", "params", "[", "0", "]", ";", "CloudStorage", "cloudStorage", "=", "DataUtils", ".", "getInstance", "(", ")", ".", "getAccount", "(", "openMode", ")", ";", "return", "cloudStorage", ".", "createShareLink", "(", "CloudUtil", ".", "stripPath", "(", "openMode", ",", "shareFilePath", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "String", "s", ")", "{", "super", ".", "onPostExecute", "(", "s", ")", ";", "FileUtils", ".", "copyToClipboard", "(", "context", ",", "s", ")", ";", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "cloud_share_copied", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "shareFiles", "(", "ArrayList", "<", "File", ">", "a", ",", "Activity", "c", ",", "AppTheme", "appTheme", ",", "int", "fab_skin", ")", "{", "ArrayList", "<", "Uri", ">", "uris", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "boolean", "b", "=", "true", ";", "for", "(", "File", "f", ":", "a", ")", "{", "uris", ".", "add", "(", "Uri", ".", "fromFile", "(", "f", ")", ")", ";", "}", "String", "mime", "=", "MimeTypes", ".", "getMimeType", "(", "a", ".", "get", "(", "0", ")", ".", "getPath", "(", ")", ",", "a", ".", "get", "(", "0", ")", ".", "isDirectory", "(", ")", ")", ";", "if", "(", "a", ".", "size", "(", ")", ">", "1", ")", "for", "(", "File", "f", ":", "a", ")", "{", "if", "(", "!", "mime", ".", "equals", "(", "MimeTypes", ".", "getMimeType", "(", "f", ".", "getPath", "(", ")", ",", "f", ".", "isDirectory", "(", ")", ")", ")", ")", "{", "b", "=", "false", ";", "}", "}", "if", "(", "!", "b", "|", "|", "mime", "=", "=", "(", "null", ")", ")", "mime", "=", "\"", "<STR_LIT>", "\"", ";", "try", "{", "new", "ShareTask", "(", "c", ",", "uris", ",", "appTheme", ",", "fab_skin", ")", ".", "execute", "(", "mime", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "float", "readableFileSizeFloat", "(", "long", "size", ")", "{", "if", "(", "size", "<", "=", "0", ")", "return", "0", ";", "return", "(", "float", ")", "(", "size", "/", "(", "<NUM_LIT>", "*", "<NUM_LIT>", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "installApk", "(", "final", "@", "NonNull", "File", "f", ",", "final", "@", "NonNull", "PermissionsActivity", "permissionsActivity", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "O", "&", "&", "!", "permissionsActivity", ".", "getPackageManager", "(", ")", ".", "canRequestPackageInstalls", "(", ")", ")", "{", "permissionsActivity", ".", "requestInstallApkPermission", "(", "(", ")", "-", ">", "installApk", "(", "f", ",", "permissionsActivity", ")", ")", ";", "}", "Intent", "chooserIntent", "=", "new", "Intent", "(", ")", ";", "chooserIntent", ".", "setAction", "(", "Intent", ".", "ACTION_INSTALL_PACKAGE", ")", ";", "chooserIntent", ".", "setData", "(", "Uri", ".", "fromFile", "(", "f", ")", ")", ";", "try", "{", "permissionsActivity", ".", "startActivity", "(", "chooserIntent", ")", ";", "}", "catch", "(", "ActivityNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "permissionsActivity", ",", "R", ".", "string", ".", "error", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "openunknown", "(", "File", "f", ",", "Context", "c", ",", "boolean", "forcechooser", ",", "boolean", "useNewStack", ")", "{", "Intent", "chooserIntent", "=", "new", "Intent", "(", ")", ";", "chooserIntent", ".", "setAction", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "String", "type", "=", "MimeTypes", ".", "getMimeType", "(", "f", ".", "getPath", "(", ")", ",", "f", ".", "isDirectory", "(", ")", ")", ";", "if", "(", "type", "!", "=", "null", "&", "&", "type", ".", "trim", "(", ")", ".", "length", "(", ")", "!", "=", "0", "&", "&", "!", "type", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "Uri", "uri", "=", "fileToContentUri", "(", "c", ",", "f", ")", ";", "if", "(", "uri", "=", "=", "null", ")", "uri", "=", "Uri", ".", "fromFile", "(", "f", ")", ";", "chooserIntent", ".", "setDataAndType", "(", "uri", ",", "type", ")", ";", "Intent", "activityIntent", ";", "if", "(", "forcechooser", ")", "{", "if", "(", "useNewStack", ")", "applyNewDocFlag", "(", "chooserIntent", ")", ";", "activityIntent", "=", "Intent", ".", "createChooser", "(", "chooserIntent", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "openwith", ")", ")", ";", "}", "else", "{", "activityIntent", "=", "chooserIntent", ";", "if", "(", "useNewStack", ")", "applyNewDocFlag", "(", "activityIntent", ")", ";", "}", "try", "{", "c", ".", "startActivity", "(", "activityIntent", ")", ";", "}", "catch", "(", "ActivityNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "c", ",", "R", ".", "string", ".", "noappfound", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "openWith", "(", "f", ",", "c", ",", "useNewStack", ")", ";", "}", "}", "else", "{", "openWith", "(", "f", ",", "c", ",", "useNewStack", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "openunknown", "(", "DocumentFile", "f", ",", "Context", "c", ",", "boolean", "forcechooser", ",", "boolean", "useNewStack", ")", "{", "Intent", "chooserIntent", "=", "new", "Intent", "(", ")", ";", "chooserIntent", ".", "setAction", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "chooserIntent", ".", "addFlags", "(", "Intent", ".", "FLAG_GRANT_READ_URI_PERMISSION", ")", ";", "String", "type", "=", "f", ".", "getType", "(", ")", ";", "if", "(", "type", "!", "=", "null", "&", "&", "type", ".", "trim", "(", ")", ".", "length", "(", ")", "!", "=", "0", "&", "&", "!", "type", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "chooserIntent", ".", "setDataAndType", "(", "f", ".", "getUri", "(", ")", ",", "type", ")", ";", "Intent", "activityIntent", ";", "if", "(", "forcechooser", ")", "{", "if", "(", "useNewStack", ")", "applyNewDocFlag", "(", "chooserIntent", ")", ";", "activityIntent", "=", "Intent", ".", "createChooser", "(", "chooserIntent", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "openwith", ")", ")", ";", "}", "else", "{", "activityIntent", "=", "chooserIntent", ";", "if", "(", "useNewStack", ")", "applyNewDocFlag", "(", "chooserIntent", ")", ";", "}", "try", "{", "c", ".", "startActivity", "(", "activityIntent", ")", ";", "}", "catch", "(", "ActivityNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "c", ",", "R", ".", "string", ".", "noappfound", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "openWith", "(", "f", ",", "c", ",", "useNewStack", ")", ";", "}", "}", "else", "{", "openWith", "(", "f", ",", "c", ",", "useNewStack", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "void", "applyNewDocFlag", "(", "Intent", "i", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "i", ".", "addFlags", "(", "Intent", ".", "FLAG_ACTIVITY_NEW_DOCUMENT", ")", ";", "}", "else", "{", "i", ".", "setFlags", "(", "Intent", ".", "FLAG_ACTIVITY_NEW_TASK", "|", "Intent", ".", "FLAG_ACTIVITY_CLEAR_TASK", "|", "Intent", ".", "FLAG_ACTIVITY_TASK_ON_HOME", "|", "Intent", ".", "FLAG_ACTIVITY_RETAIN_IN_RECENTS", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "String", "normalizeMediaPath", "(", "String", "path", ")", "{", "if", "(", "TextUtils", ".", "isEmpty", "(", "EMULATED_STORAGE_SOURCE", ")", "|", "|", "TextUtils", ".", "isEmpty", "(", "EMULATED_STORAGE_TARGET", ")", "|", "|", "TextUtils", ".", "isEmpty", "(", "EXTERNAL_STORAGE", ")", ")", "{", "return", "path", ";", "}", "if", "(", "path", ".", "startsWith", "(", "EMULATED_STORAGE_SOURCE", ")", ")", "{", "path", "=", "path", ".", "replace", "(", "EMULATED_STORAGE_SOURCE", ",", "EMULATED_STORAGE_TARGET", ")", ";", "}", "return", "path", ";", "}", "</s>"]
["<s>", "public", "static", "Uri", "fileToContentUri", "(", "Context", "context", ",", "File", "file", ")", "{", "final", "String", "normalizedPath", "=", "normalizeMediaPath", "(", "file", ".", "getAbsolutePath", "(", ")", ")", ";", "Uri", "uri", "=", "fileToContentUri", "(", "context", ",", "normalizedPath", ",", "file", ".", "isDirectory", "(", ")", ",", "EXTERNAL_VOLUME", ")", ";", "if", "(", "uri", "!", "=", "null", ")", "{", "return", "uri", ";", "}", "uri", "=", "fileToContentUri", "(", "context", ",", "normalizedPath", ",", "file", ".", "isDirectory", "(", ")", ",", "INTERNAL_VOLUME", ")", ";", "if", "(", "uri", "!", "=", "null", ")", "{", "return", "uri", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "private", "static", "Uri", "fileToContentUri", "(", "Context", "context", ",", "String", "path", ",", "boolean", "isDirectory", ",", "String", "volume", ")", "{", "final", "String", "where", "=", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ";", "Uri", "baseUri", ";", "String", "[", "]", "projection", ";", "int", "mimeType", "=", "Icons", ".", "getTypeOfFile", "(", "path", ",", "isDirectory", ")", ";", "switch", "(", "mimeType", ")", "{", "case", "Icons", ".", "IMAGE", ":", "baseUri", "=", "MediaStore", ".", "Images", ".", "Media", ".", "EXTERNAL_CONTENT_URI", ";", "projection", "=", "new", "String", "[", "]", "{", "BaseColumns", ".", "_ID", "}", ";", "break", ";", "case", "Icons", ".", "VIDEO", ":", "baseUri", "=", "MediaStore", ".", "Video", ".", "Media", ".", "EXTERNAL_CONTENT_URI", ";", "projection", "=", "new", "String", "[", "]", "{", "BaseColumns", ".", "_ID", "}", ";", "break", ";", "case", "Icons", ".", "AUDIO", ":", "baseUri", "=", "MediaStore", ".", "Audio", ".", "Media", ".", "EXTERNAL_CONTENT_URI", ";", "projection", "=", "new", "String", "[", "]", "{", "BaseColumns", ".", "_ID", "}", ";", "break", ";", "default", ":", "baseUri", "=", "MediaStore", ".", "Files", ".", "getContentUri", "(", "volume", ")", ";", "projection", "=", "new", "String", "[", "]", "{", "BaseColumns", ".", "_ID", ",", "MediaStore", ".", "Files", ".", "FileColumns", ".", "MEDIA_TYPE", "}", ";", "}", "ContentResolver", "cr", "=", "context", ".", "getContentResolver", "(", ")", ";", "Cursor", "c", "=", "cr", ".", "query", "(", "baseUri", ",", "projection", ",", "where", ",", "new", "String", "[", "]", "{", "path", "}", ",", "null", ")", ";", "try", "{", "if", "(", "c", "!", "=", "null", "&", "&", "c", ".", "moveToNext", "(", ")", ")", "{", "boolean", "isValid", "=", "false", ";", "if", "(", "mimeType", "=", "=", "Icons", ".", "IMAGE", "|", "|", "mimeType", "=", "=", "Icons", ".", "VIDEO", "|", "|", "mimeType", "=", "=", "Icons", ".", "AUDIO", ")", "{", "isValid", "=", "true", ";", "}", "else", "{", "int", "type", "=", "c", ".", "getInt", "(", "c", ".", "getColumnIndexOrThrow", "(", "MediaStore", ".", "Files", ".", "FileColumns", ".", "MEDIA_TYPE", ")", ")", ";", "isValid", "=", "type", "!", "=", "0", ";", "}", "if", "(", "isValid", ")", "{", "long", "id", "=", "c", ".", "getLong", "(", "c", ".", "getColumnIndexOrThrow", "(", "BaseColumns", ".", "_ID", ")", ")", ";", "return", "Uri", ".", "withAppendedPath", "(", "baseUri", ",", "String", ".", "valueOf", "(", "id", ")", ")", ";", "}", "}", "}", "finally", "{", "if", "(", "c", "!", "=", "null", ")", "{", "c", ".", "close", "(", ")", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "static", "void", "openWith", "(", "final", "File", "f", ",", "final", "Context", "c", ",", "final", "boolean", "useNewStack", ")", "{", "MaterialDialog", ".", "Builder", "a", "=", "new", "MaterialDialog", ".", "Builder", "(", "c", ")", ";", "a", ".", "title", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "openas", ")", ")", ";", "String", "[", "]", "items", "=", "new", "String", "[", "]", "{", "c", ".", "getString", "(", "R", ".", "string", ".", "text", ")", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "image", ")", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "video", ")", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "audio", ")", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "database", ")", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "other", ")", "}", ";", "a", ".", "items", "(", "items", ")", ".", "itemsCallback", "(", "(", "materialDialog", ",", "view", ",", "i", ",", "charSequence", ")", "-", ">", "{", "Uri", "uri", "=", "fileToContentUri", "(", "c", ",", "f", ")", ";", "if", "(", "uri", "=", "=", "null", ")", "uri", "=", "Uri", ".", "fromFile", "(", "f", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setAction", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "switch", "(", "i", ")", "{", "case", "0", ":", "if", "(", "useNewStack", ")", "applyNewDocFlag", "(", "intent", ")", ";", "intent", ".", "setDataAndType", "(", "uri", ",", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "case", "1", ":", "intent", ".", "setDataAndType", "(", "uri", ",", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "case", "<NUM_LIT:2>", ":", "intent", ".", "setDataAndType", "(", "uri", ",", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "case", "<NUM_LIT:3>", ":", "intent", ".", "setDataAndType", "(", "uri", ",", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "case", "<NUM_LIT:4>", ":", "intent", "=", "new", "Intent", "(", "c", ",", "DatabaseViewerActivity", ".", "class", ")", ";", "intent", ".", "putExtra", "(", "\"", "<STR_LIT>", "\"", ",", "f", ".", "getPath", "(", ")", ")", ";", "break", ";", "case", "<NUM_LIT:5>", ":", "intent", ".", "setDataAndType", "(", "uri", ",", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "}", "try", "{", "c", ".", "startActivity", "(", "intent", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "Toast", ".", "makeText", "(", "c", ",", "R", ".", "string", ".", "noappfound", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "openWith", "(", "f", ",", "c", ",", "useNewStack", ")", ";", "}", "}", ")", ";", "try", "{", "a", ".", "build", "(", ")", ".", "show", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "openWith", "(", "final", "DocumentFile", "f", ",", "final", "Context", "c", ",", "final", "boolean", "useNewStack", ")", "{", "MaterialDialog", ".", "Builder", "a", "=", "new", "MaterialDialog", ".", "Builder", "(", "c", ")", ";", "a", ".", "title", "(", "c", ".", "getString", "(", "R", ".", "string", ".", "openas", ")", ")", ";", "String", "[", "]", "items", "=", "new", "String", "[", "]", "{", "c", ".", "getString", "(", "R", ".", "string", ".", "text", ")", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "image", ")", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "video", ")", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "audio", ")", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "database", ")", ",", "c", ".", "getString", "(", "R", ".", "string", ".", "other", ")", "}", ";", "a", ".", "items", "(", "items", ")", ".", "itemsCallback", "(", "(", "materialDialog", ",", "view", ",", "i", ",", "charSequence", ")", "-", ">", "{", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setAction", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "intent", ".", "addFlags", "(", "Intent", ".", "FLAG_GRANT_READ_URI_PERMISSION", ")", ";", "switch", "(", "i", ")", "{", "case", "0", ":", "if", "(", "useNewStack", ")", "applyNewDocFlag", "(", "intent", ")", ";", "intent", ".", "setDataAndType", "(", "f", ".", "getUri", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "case", "1", ":", "intent", ".", "setDataAndType", "(", "f", ".", "getUri", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "case", "<NUM_LIT:2>", ":", "intent", ".", "setDataAndType", "(", "f", ".", "getUri", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "case", "<NUM_LIT:3>", ":", "intent", ".", "setDataAndType", "(", "f", ".", "getUri", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "case", "<NUM_LIT:4>", ":", "intent", "=", "new", "Intent", "(", "c", ",", "DatabaseViewerActivity", ".", "class", ")", ";", "intent", ".", "putExtra", "(", "\"", "<STR_LIT>", "\"", ",", "f", ".", "getUri", "(", ")", ")", ";", "break", ";", "case", "<NUM_LIT:5>", ":", "intent", ".", "setDataAndType", "(", "f", ".", "getUri", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "}", "try", "{", "c", ".", "startActivity", "(", "intent", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "Toast", ".", "makeText", "(", "c", ",", "R", ".", "string", ".", "noappfound", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "openWith", "(", "f", ",", "c", ",", "useNewStack", ")", ";", "}", "}", ")", ";", "a", ".", "build", "(", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "canGoBack", "(", "Context", "context", ",", "HybridFile", "currentFile", ")", "{", "switch", "(", "currentFile", ".", "getMode", "(", ")", ")", "{", "case", "DROPBOX", ":", "case", "BOX", ":", "case", "GDRIVE", ":", "case", "ONEDRIVE", ":", "case", "OTG", ":", "case", "SFTP", ":", "return", "true", ";", "default", ":", "return", "true", ";", "}", "}", "</s>"]
["<s>", "public", "static", "long", "[", "]", "getSpaces", "(", "HybridFile", "hFile", ",", "Context", "context", ",", "final", "OnProgressUpdate", "<", "Long", "[", "]", ">", "updateState", ")", "{", "long", "totalSpace", "=", "hFile", ".", "getTotal", "(", "context", ")", ";", "long", "freeSpace", "=", "hFile", ".", "getUsableSpace", "(", ")", ";", "long", "fileSize", "=", "0", "l", ";", "if", "(", "hFile", ".", "isDirectory", "(", "context", ")", ")", "{", "fileSize", "=", "hFile", ".", "folderSize", "(", "context", ")", ";", "}", "else", "{", "fileSize", "=", "hFile", ".", "length", "(", "context", ")", ";", "}", "return", "new", "long", "[", "]", "{", "totalSpace", ",", "freeSpace", ",", "fileSize", "}", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "copyToClipboard", "(", "Context", "context", ",", "String", "text", ")", "{", "try", "{", "android", ".", "content", ".", "ClipboardManager", "clipboard", "=", "(", "android", ".", "content", ".", "ClipboardManager", ")", "context", ".", "getSystemService", "(", "Context", ".", "CLIPBOARD_SERVICE", ")", ";", "android", ".", "content", ".", "ClipData", "clip", "=", "android", ".", "content", ".", "ClipData", ".", "newPlainText", "(", "context", ".", "getString", "(", "R", ".", "string", ".", "clipboard_path_copy", ")", ",", "text", ")", ";", "clipboard", ".", "setPrimaryClip", "(", "clip", ")", ";", "return", "true", ";", "}", "catch", "(", "Exception", "e", ")", "{", "return", "false", ";", "}", "}", "</s>"]
["<s>", "public", "static", "String", "[", "]", "getFolderNamesInPath", "(", "String", "path", ")", "{", "if", "(", "!", "path", ".", "endsWith", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "path", "+", "=", "\"", "<STR_LIT:/>", "\"", ";", "return", "(", "\"", "<STR_LIT>", "\"", "+", "path", ")", ".", "split", "(", "\"", "<STR_LIT:/>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "[", "]", "getPathsInPath", "(", "String", "path", ")", "{", "if", "(", "path", ".", "endsWith", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "path", "=", "path", ".", "substring", "(", "0", ",", "path", ".", "length", "(", ")", "-", "1", ")", ";", "ArrayList", "<", "String", ">", "paths", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "while", "(", "path", ".", "length", "(", ")", ">", "0", ")", "{", "paths", ".", "add", "(", "path", ")", ";", "path", "=", "path", ".", "substring", "(", "0", ",", "path", ".", "lastIndexOf", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", ";", "}", "paths", ".", "add", "(", "\"", "<STR_LIT:/>", "\"", ")", ";", "Collections", ".", "reverse", "(", "paths", ")", ";", "return", "paths", ".", "toArray", "(", "new", "String", "[", "paths", ".", "size", "(", ")", "]", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "canListFiles", "(", "File", "f", ")", "{", "return", "f", ".", "canRead", "(", ")", "&", "&", "f", ".", "isDirectory", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "openFile", "(", "final", "File", "f", ",", "final", "MainActivity", "m", ",", "SharedPreferences", "sharedPrefs", ")", "{", "boolean", "useNewStack", "=", "sharedPrefs", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_TEXTEDITOR_NEWSTACK", ",", "false", ")", ";", "boolean", "defaultHandler", "=", "isSelfDefault", "(", "f", ",", "m", ")", ";", "SharedPreferences", "sharedPreferences", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "m", ")", ";", "final", "Toast", "[", "]", "studioCount", "=", "{", "null", "}", ";", "if", "(", "f", ".", "getName", "(", ")", ".", "toLowerCase", "(", ")", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "GeneralDialogCreation", ".", "showPackageDialog", "(", "f", ",", "m", ")", ";", "}", "else", "if", "(", "defaultHandler", "&", "&", "CompressedHelper", ".", "isFileExtractable", "(", "f", ".", "getPath", "(", ")", ")", ")", "{", "GeneralDialogCreation", ".", "showArchiveDialog", "(", "f", ",", "m", ")", ";", "}", "else", "if", "(", "defaultHandler", "&", "&", "f", ".", "getName", "(", ")", ".", "toLowerCase", "(", ")", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "m", ",", "DatabaseViewerActivity", ".", "class", ")", ";", "intent", ".", "putExtra", "(", "\"", "<STR_LIT>", "\"", ",", "f", ".", "getPath", "(", ")", ")", ";", "m", ".", "startActivity", "(", "intent", ")", ";", "}", "else", "if", "(", "Icons", ".", "getTypeOfFile", "(", "f", ".", "getPath", "(", ")", ",", "f", ".", "isDirectory", "(", ")", ")", "=", "=", "Icons", ".", "AUDIO", ")", "{", "final", "int", "studio_count", "=", "sharedPreferences", ".", "getInt", "(", "\"", "<STR_LIT>", "\"", ",", "0", ")", ";", "Uri", "uri", "=", "Uri", ".", "fromFile", "(", "f", ")", ";", "final", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setAction", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "intent", ".", "setDataAndType", "(", "uri", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "studio_count", "!", "=", "0", ")", "{", "new", "CountDownTimer", "(", "studio_count", ",", "<NUM_LIT:1000>", ")", "{", "@", "Override", "public", "void", "onTick", "(", "long", "millisUntilFinished", ")", "{", "int", "sec", "=", "(", "int", ")", "millisUntilFinished", "/", "<NUM_LIT:1000>", ";", "if", "(", "studioCount", "[", "0", "]", "!", "=", "null", ")", "studioCount", "[", "0", "]", ".", "cancel", "(", ")", ";", "studioCount", "[", "0", "]", "=", "Toast", ".", "makeText", "(", "m", ",", "sec", "+", "\"", "\"", ",", "Toast", ".", "LENGTH_LONG", ")", ";", "studioCount", "[", "0", "]", ".", "show", "(", ")", ";", "}", "@", "Override", "public", "void", "onFinish", "(", ")", "{", "if", "(", "studioCount", "[", "0", "]", "!", "=", "null", ")", "studioCount", "[", "0", "]", ".", "cancel", "(", ")", ";", "studioCount", "[", "0", "]", "=", "Toast", ".", "makeText", "(", "m", ",", "m", ".", "getString", "(", "R", ".", "string", ".", "opening", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ";", "studioCount", "[", "0", "]", ".", "show", "(", ")", ";", "m", ".", "startActivity", "(", "intent", ")", ";", "}", "}", ".", "start", "(", ")", ";", "}", "else", "m", ".", "startActivity", "(", "intent", ")", ";", "}", "else", "{", "try", "{", "openunknown", "(", "f", ",", "m", ",", "false", ",", "useNewStack", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "Toast", ".", "makeText", "(", "m", ",", "m", ".", "getString", "(", "R", ".", "string", ".", "noappfound", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "openWith", "(", "f", ",", "m", ",", "useNewStack", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onTick", "(", "long", "millisUntilFinished", ")", "{", "int", "sec", "=", "(", "int", ")", "millisUntilFinished", "/", "<NUM_LIT:1000>", ";", "if", "(", "studioCount", "[", "0", "]", "!", "=", "null", ")", "studioCount", "[", "0", "]", ".", "cancel", "(", ")", ";", "studioCount", "[", "0", "]", "=", "Toast", ".", "makeText", "(", "m", ",", "sec", "+", "\"", "\"", ",", "Toast", ".", "LENGTH_LONG", ")", ";", "studioCount", "[", "0", "]", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onFinish", "(", ")", "{", "if", "(", "studioCount", "[", "0", "]", "!", "=", "null", ")", "studioCount", "[", "0", "]", ".", "cancel", "(", ")", ";", "studioCount", "[", "0", "]", "=", "Toast", ".", "makeText", "(", "m", ",", "m", ".", "getString", "(", "R", ".", "string", ".", "opening", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ";", "studioCount", "[", "0", "]", ".", "show", "(", ")", ";", "m", ".", "startActivity", "(", "intent", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isSelfDefault", "(", "File", "f", ",", "Context", "c", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setAction", "(", "android", ".", "content", ".", "Intent", ".", "ACTION_VIEW", ")", ";", "intent", ".", "setDataAndType", "(", "Uri", ".", "fromFile", "(", "f", ")", ",", "MimeTypes", ".", "getMimeType", "(", "f", ".", "getPath", "(", ")", ",", "f", ".", "isDirectory", "(", ")", ")", ")", ";", "String", "s", "=", "\"", "\"", ";", "ResolveInfo", "rii", "=", "c", ".", "getPackageManager", "(", ")", ".", "resolveActivity", "(", "intent", ",", "PackageManager", ".", "MATCH_DEFAULT_ONLY", ")", ";", "if", "(", "rii", "!", "=", "null", "&", "&", "rii", ".", "activityInfo", "!", "=", "null", ")", "s", "=", "rii", ".", "activityInfo", ".", "packageName", ";", "return", "s", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "rii", "=", "=", "null", ";", "}", "</s>"]
["<s>", "public", "static", "void", "openFile", "(", "final", "DocumentFile", "f", ",", "final", "MainActivity", "m", ",", "SharedPreferences", "sharedPrefs", ")", "{", "boolean", "useNewStack", "=", "sharedPrefs", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_TEXTEDITOR_NEWSTACK", ",", "false", ")", ";", "try", "{", "openunknown", "(", "f", ",", "m", ",", "false", ",", "useNewStack", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "Toast", ".", "makeText", "(", "m", ",", "m", ".", "getString", "(", "R", ".", "string", ".", "noappfound", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "openWith", "(", "f", ",", "m", ",", "useNewStack", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "ArrayList", "<", "HybridFile", ">", "toHybridFileConcurrentRadixTree", "(", "ConcurrentRadixTree", "<", "VoidValue", ">", "a", ")", "{", "ArrayList", "<", "HybridFile", ">", "b", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "CharSequence", "o", ":", "a", ".", "getKeysStartingWith", "(", "\"", "\"", ")", ")", "{", "HybridFile", "hFile", "=", "new", "HybridFile", "(", "OpenMode", ".", "UNKNOWN", ",", "o", ".", "toString", "(", ")", ")", ";", "hFile", ".", "generateMode", "(", "null", ")", ";", "b", ".", "add", "(", "hFile", ")", ";", "}", "return", "b", ";", "}", "</s>"]
["<s>", "public", "static", "ArrayList", "<", "HybridFile", ">", "toHybridFileArrayList", "(", "LinkedList", "<", "String", ">", "a", ")", "{", "ArrayList", "<", "HybridFile", ">", "b", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "String", "s", ":", "a", ")", "{", "HybridFile", "hFile", "=", "new", "HybridFile", "(", "OpenMode", ".", "UNKNOWN", ",", "s", ")", ";", "hFile", ".", "generateMode", "(", "null", ")", ";", "b", ".", "add", "(", "hFile", ")", ";", "}", "return", "b", ";", "}", "</s>"]
["<s>", "public", "static", "HybridFileParcelable", "parseName", "(", "String", "line", ")", "{", "boolean", "linked", "=", "false", ";", "StringBuilder", "name", "=", "new", "StringBuilder", "(", ")", ";", "StringBuilder", "link", "=", "new", "StringBuilder", "(", ")", ";", "String", "size", "=", "\"", "<STR_LIT:-1>", "\"", ";", "String", "date", "=", "\"", "\"", ";", "String", "[", "]", "array", "=", "line", ".", "split", "(", "\"", "\"", ")", ";", "if", "(", "array", ".", "length", "<", "<NUM_LIT:6>", ")", "return", "null", ";", "for", "(", "String", "anArray", ":", "array", ")", "{", "if", "(", "anArray", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "array", "[", "0", "]", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "linked", "=", "true", ";", "}", "}", "int", "p", "=", "getColonPosition", "(", "array", ")", ";", "if", "(", "p", "!", "=", "-", "1", ")", "{", "date", "=", "array", "[", "p", "-", "1", "]", "+", "\"", "<STR_LIT>", "\"", "+", "array", "[", "p", "]", ";", "size", "=", "array", "[", "p", "-", "<NUM_LIT:2>", "]", ";", "}", "if", "(", "!", "linked", ")", "{", "for", "(", "int", "i", "=", "p", "+", "1", ";", "i", "<", "array", ".", "length", ";", "i", "+", "+", ")", "{", "name", ".", "append", "(", "\"", "\"", ")", ".", "append", "(", "array", "[", "i", "]", ")", ";", "}", "name", "=", "new", "StringBuilder", "(", "name", ".", "toString", "(", ")", ".", "trim", "(", ")", ")", ";", "}", "else", "{", "int", "q", "=", "getLinkPosition", "(", "array", ")", ";", "for", "(", "int", "i", "=", "p", "+", "1", ";", "i", "<", "q", ";", "i", "+", "+", ")", "{", "name", ".", "append", "(", "\"", "\"", ")", ".", "append", "(", "array", "[", "i", "]", ")", ";", "}", "name", "=", "new", "StringBuilder", "(", "name", ".", "toString", "(", ")", ".", "trim", "(", ")", ")", ";", "for", "(", "int", "i", "=", "q", "+", "1", ";", "i", "<", "array", ".", "length", ";", "i", "+", "+", ")", "{", "link", ".", "append", "(", "\"", "\"", ")", ".", "append", "(", "array", "[", "i", "]", ")", ";", "}", "}", "long", "Size", "=", "(", "size", "=", "=", "null", "|", "|", "size", ".", "trim", "(", ")", ".", "length", "(", ")", "=", "=", "0", ")", "?", "-", "1", ":", "Long", ".", "parseLong", "(", "size", ")", ";", "if", "(", "date", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "0", ")", "{", "ParsePosition", "pos", "=", "new", "ParsePosition", "(", "0", ")", ";", "SimpleDateFormat", "simpledateformat", "=", "new", "SimpleDateFormat", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Date", "stringDate", "=", "simpledateformat", ".", "parse", "(", "date", ",", "pos", ")", ";", "HybridFileParcelable", "baseFile", "=", "new", "HybridFileParcelable", "(", "name", ".", "toString", "(", ")", ",", "array", "[", "0", "]", ",", "stringDate", ".", "getTime", "(", ")", ",", "Size", ",", "true", ")", ";", "baseFile", ".", "setLink", "(", "link", ".", "toString", "(", ")", ")", ";", "return", "baseFile", ";", "}", "else", "{", "HybridFileParcelable", "baseFile", "=", "new", "HybridFileParcelable", "(", "name", ".", "toString", "(", ")", ",", "array", "[", "0", "]", ",", "new", "File", "(", "\"", "<STR_LIT:/>", "\"", ")", ".", "lastModified", "(", ")", ",", "Size", ",", "true", ")", ";", "baseFile", ".", "setLink", "(", "link", ".", "toString", "(", ")", ")", ";", "return", "baseFile", ";", "}", "}", "</s>"]
["<s>", "private", "static", "int", "getLinkPosition", "(", "String", "[", "]", "array", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "array", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "array", "[", "i", "]", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "return", "i", ";", "}", "return", "0", ";", "}", "</s>"]
["<s>", "private", "static", "int", "getColonPosition", "(", "String", "[", "]", "array", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "array", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "array", "[", "i", "]", ".", "contains", "(", "\"", "<STR_LIT::>", "\"", ")", ")", "return", "i", ";", "}", "return", "-", "1", ";", "}", "</s>"]
["<s>", "public", "static", "ArrayList", "<", "Boolean", "[", "]", ">", "parse", "(", "String", "permLine", ")", "{", "ArrayList", "<", "Boolean", "[", "]", ">", "arrayList", "=", "new", "ArrayList", "<", ">", "(", "<NUM_LIT:3>", ")", ";", "Boolean", "[", "]", "read", "=", "new", "Boolean", "[", "]", "{", "permLine", ".", "charAt", "(", "1", ")", "=", "=", "<CHAR_LIT>", ",", "permLine", ".", "charAt", "(", "<NUM_LIT:4>", ")", "=", "=", "<CHAR_LIT>", ",", "permLine", ".", "charAt", "(", "<NUM_LIT:7>", ")", "=", "=", "<CHAR_LIT>", "}", ";", "Boolean", "[", "]", "write", "=", "new", "Boolean", "[", "]", "{", "permLine", ".", "charAt", "(", "<NUM_LIT:2>", ")", "=", "=", "<CHAR_LIT>", ",", "permLine", ".", "charAt", "(", "<NUM_LIT:5>", ")", "=", "=", "<CHAR_LIT>", ",", "permLine", ".", "charAt", "(", "<NUM_LIT:8>", ")", "=", "=", "<CHAR_LIT>", "}", ";", "Boolean", "[", "]", "execute", "=", "new", "Boolean", "[", "]", "{", "permLine", ".", "charAt", "(", "<NUM_LIT:3>", ")", "=", "=", "<CHAR_LIT>", ",", "permLine", ".", "charAt", "(", "<NUM_LIT:6>", ")", "=", "=", "<CHAR_LIT>", ",", "permLine", ".", "charAt", "(", "<NUM_LIT:9>", ")", "=", "=", "<CHAR_LIT>", "}", ";", "arrayList", ".", "add", "(", "read", ")", ";", "arrayList", ".", "add", "(", "write", ")", ";", "arrayList", ".", "add", "(", "execute", ")", ";", "return", "arrayList", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isStorage", "(", "String", "path", ")", "{", "for", "(", "String", "s", ":", "DataUtils", ".", "getInstance", "(", ")", ".", "getStorages", "(", ")", ")", "if", "(", "s", ".", "equals", "(", "path", ")", ")", "return", "true", ";", "return", "false", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isPathAccessible", "(", "String", "dir", ",", "SharedPreferences", "pref", ")", "{", "File", "f", "=", "new", "File", "(", "dir", ")", ";", "boolean", "showIfHidden", "=", "pref", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_SHOW_HIDDENFILES", ",", "false", ")", ",", "isDirSelfOrParent", "=", "dir", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "dir", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", ",", "showIfRoot", "=", "pref", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_ROOTMODE", ",", "false", ")", ";", "return", "f", ".", "exists", "(", ")", "&", "&", "f", ".", "isDirectory", "(", ")", "&", "&", "(", "!", "f", ".", "isHidden", "(", ")", "|", "|", "(", "showIfHidden", "&", "&", "!", "isDirSelfOrParent", ")", ")", "&", "&", "(", "!", "isRoot", "(", "dir", ")", "|", "|", "showIfRoot", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isRoot", "(", "String", "dir", ")", "{", "return", "!", "dir", ".", "contains", "(", "OTGUtil", ".", "PREFIX_OTG", ")", "&", "&", "!", "dir", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "ArrayList", "<", "File", ">", "hybridListToFileArrayList", "(", "ArrayList", "<", "HybridFileParcelable", ">", "a", ")", "{", "ArrayList", "<", "File", ">", "b", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "a", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "b", ".", "add", "(", "new", "File", "(", "a", ".", "get", "(", "i", ")", ".", "getPath", "(", ")", ")", ")", ";", "}", "return", "b", ";", "}", "</s>"]
["<s>", "public", "static", "void", "checkForPath", "(", "Context", "context", ",", "String", "path", ",", "boolean", "isRootExplorer", ")", "{", "if", "(", "!", "new", "File", "(", "path", ")", ".", "exists", "(", ")", ")", "{", "Toast", ".", "makeText", "(", "context", ",", "context", ".", "getString", "(", "R", ".", "string", ".", "bookmark_lost", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "Operations", ".", "mkdir", "(", "RootHelper", ".", "generateBaseFile", "(", "new", "File", "(", "path", ")", ",", "true", ")", ",", "context", ",", "isRootExplorer", ",", "new", "Operations", ".", "ErrorCallBack", "(", ")", "{", "@", "Override", "public", "void", "exists", "(", "HybridFile", "file", ")", "{", "}", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ")", "{", "}", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ",", "HybridFile", "file1", ")", "{", "}", "@", "Override", "public", "void", "done", "(", "HybridFile", "hFile", ",", "boolean", "b", ")", "{", "}", "@", "Override", "public", "void", "invalidName", "(", "HybridFile", "file", ")", "{", "}", "}", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "exists", "(", "HybridFile", "file", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "launchSAF", "(", "HybridFile", "file", ",", "HybridFile", "file1", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "done", "(", "HybridFile", "hFile", ",", "boolean", "b", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "invalidName", "(", "HybridFile", "file", ")", "{", "}", "</s>"]
["<s>", "public", "static", "void", "startEncryption", "(", "Context", "c", ",", "final", "String", "path", ",", "final", "String", "password", ",", "Intent", "intent", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "CryptHandler", "cryptHandler", "=", "new", "CryptHandler", "(", "c", ")", ";", "String", "destPath", "=", "path", ".", "substring", "(", "0", ",", "path", ".", "lastIndexOf", "(", "<CHAR_LIT:/>", ")", "+", "1", ")", ".", "concat", "(", "intent", ".", "getStringExtra", "(", "EncryptService", ".", "TAG_ENCRYPT_TARGET", ")", ")", ";", "EncryptedEntry", "encryptedEntry", "=", "new", "EncryptedEntry", "(", "destPath", ",", "password", ")", ";", "cryptHandler", ".", "addEntry", "(", "encryptedEntry", ")", ";", "ServiceWatcherUtil", ".", "runService", "(", "c", ",", "intent", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "decryptFile", "(", "Context", "c", ",", "final", "MainActivity", "mainActivity", ",", "final", "MainFragment", "main", ",", "OpenMode", "openMode", ",", "HybridFileParcelable", "sourceFile", ",", "String", "decryptPath", ",", "UtilitiesProvider", "utilsProvider", ",", "boolean", "broadcastResult", ")", "{", "Intent", "decryptIntent", "=", "new", "Intent", "(", "main", ".", "getContext", "(", ")", ",", "DecryptService", ".", "class", ")", ";", "decryptIntent", ".", "putExtra", "(", "EncryptService", ".", "TAG_OPEN_MODE", ",", "openMode", ".", "ordinal", "(", ")", ")", ";", "decryptIntent", ".", "putExtra", "(", "EncryptService", ".", "TAG_SOURCE", ",", "sourceFile", ")", ";", "decryptIntent", ".", "putExtra", "(", "EncryptService", ".", "TAG_DECRYPT_PATH", ",", "decryptPath", ")", ";", "SharedPreferences", "preferences1", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "main", ".", "getContext", "(", ")", ")", ";", "EncryptedEntry", "encryptedEntry", ";", "try", "{", "encryptedEntry", "=", "findEncryptedEntry", "(", "main", ".", "getContext", "(", ")", ",", "sourceFile", ".", "getPath", "(", ")", ")", ";", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "main", ".", "getContext", "(", ")", ",", "main", ".", "getActivity", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "crypt_decryption_fail", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", ";", "}", "DecryptButtonCallbackInterface", "decryptButtonCallbackInterface", "=", "new", "DecryptButtonCallbackInterface", "(", ")", "{", "@", "Override", "public", "void", "confirm", "(", "Intent", "intent", ")", "{", "ServiceWatcherUtil", ".", "runService", "(", "main", ".", "getContext", "(", ")", ",", "intent", ")", ";", "}", "@", "Override", "public", "void", "failed", "(", ")", "{", "Toast", ".", "makeText", "(", "main", ".", "getContext", "(", ")", ",", "main", ".", "getActivity", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "crypt_decryption_fail_password", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", ";", "if", "(", "encryptedEntry", "=", "=", "null", ")", "{", "Toast", ".", "makeText", "(", "main", ".", "getContext", "(", ")", ",", "main", ".", "getActivity", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "crypt_decryption_fail", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", ";", "}", "switch", "(", "encryptedEntry", ".", "getPassword", "(", ")", ")", "{", "case", "PreferencesConstants", ".", "ENCRYPT_PASSWORD_FINGERPRINT", ":", "try", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "{", "GeneralDialogCreation", ".", "showDecryptFingerprintDialog", "(", "c", ",", "mainActivity", ",", "decryptIntent", ",", "utilsProvider", ".", "getAppTheme", "(", ")", ",", "decryptButtonCallbackInterface", ")", ";", "}", "else", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "|", "IllegalStateException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "main", ".", "getContext", "(", ")", ",", "main", ".", "getString", "(", "R", ".", "string", ".", "crypt_decryption_fail", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "break", ";", "case", "PreferencesConstants", ".", "ENCRYPT_PASSWORD_MASTER", ":", "try", "{", "GeneralDialogCreation", ".", "showDecryptDialog", "(", "c", ",", "mainActivity", ",", "decryptIntent", ",", "utilsProvider", ".", "getAppTheme", "(", ")", ",", "CryptUtil", ".", "decryptPassword", "(", "c", ",", "preferences1", ".", "getString", "(", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD", ",", "PreferencesConstants", ".", "PREFERENCE_CRYPT_MASTER_PASSWORD_DEFAULT", ")", ")", ",", "decryptButtonCallbackInterface", ")", ";", "}", "catch", "(", "GeneralSecurityException", "|", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "main", ".", "getContext", "(", ")", ",", "main", ".", "getString", "(", "R", ".", "string", ".", "crypt_decryption_fail", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "break", ";", "default", ":", "GeneralDialogCreation", ".", "showDecryptDialog", "(", "c", ",", "mainActivity", ",", "decryptIntent", ",", "utilsProvider", ".", "getAppTheme", "(", ")", ",", "encryptedEntry", ".", "getPassword", "(", ")", ",", "decryptButtonCallbackInterface", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "confirm", "(", "Intent", "intent", ")", "{", "ServiceWatcherUtil", ".", "runService", "(", "main", ".", "getContext", "(", ")", ",", "intent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "failed", "(", ")", "{", "Toast", ".", "makeText", "(", "main", ".", "getContext", "(", ")", ",", "main", ".", "getActivity", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "crypt_decryption_fail_password", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "private", "static", "EncryptedEntry", "findEncryptedEntry", "(", "Context", "context", ",", "String", "path", ")", "throws", "GeneralSecurityException", ",", "IOException", "{", "CryptHandler", "handler", "=", "new", "CryptHandler", "(", "context", ")", ";", "EncryptedEntry", "matchedEntry", "=", "null", ";", "for", "(", "EncryptedEntry", "encryptedEntry", ":", "handler", ".", "getAllEntries", "(", ")", ")", "{", "if", "(", "path", ".", "contains", "(", "encryptedEntry", ".", "getPath", "(", ")", ")", ")", "{", "if", "(", "matchedEntry", "=", "=", "null", "|", "|", "matchedEntry", ".", "getPath", "(", ")", ".", "length", "(", ")", "<", "encryptedEntry", ".", "getPath", "(", ")", ".", "length", "(", ")", ")", "{", "matchedEntry", "=", "encryptedEntry", ";", "}", "}", "}", "return", "matchedEntry", ";", "}", "</s>"]
["<s>", "void", "onButtonPressed", "(", "Intent", "intent", ")", "throws", "GeneralSecurityException", ",", "IOException", ";", "</s>"]
["<s>", "void", "onButtonPressed", "(", "Intent", "intent", ",", "String", "password", ")", "throws", "GeneralSecurityException", ",", "IOException", ";", "</s>"]
["<s>", "void", "confirm", "(", "Intent", "intent", ")", ";", "</s>"]
["<s>", "void", "failed", "(", ")", ";", "</s>"]
["<s>", "public", "FileListSorter", "(", "int", "dir", ",", "int", "sort", ",", "int", "asc", ")", "{", "this", ".", "dirsOnTop", "=", "dir", ";", "this", ".", "asc", "=", "asc", ";", "this", ".", "sort", "=", "sort", ";", "}", "</s>"]
["<s>", "private", "boolean", "isDirectory", "(", "LayoutElementParcelable", "path", ")", "{", "return", "path", ".", "isDirectory", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "compare", "(", "LayoutElementParcelable", "file1", ",", "LayoutElementParcelable", "file2", ")", "{", "if", "(", "dirsOnTop", "=", "=", "0", ")", "{", "if", "(", "isDirectory", "(", "file1", ")", "&", "&", "!", "isDirectory", "(", "file2", ")", ")", "{", "return", "-", "1", ";", "}", "else", "if", "(", "isDirectory", "(", "file2", ")", "&", "&", "!", "isDirectory", "(", "file1", ")", ")", "{", "return", "1", ";", "}", "}", "else", "if", "(", "dirsOnTop", "=", "=", "1", ")", "{", "if", "(", "isDirectory", "(", "file1", ")", "&", "&", "!", "isDirectory", "(", "file2", ")", ")", "{", "return", "1", ";", "}", "else", "if", "(", "isDirectory", "(", "file2", ")", "&", "&", "!", "isDirectory", "(", "file1", ")", ")", "{", "return", "-", "1", ";", "}", "}", "if", "(", "sort", "=", "=", "0", ")", "{", "return", "asc", "*", "file1", ".", "title", ".", "compareToIgnoreCase", "(", "file2", ".", "title", ")", ";", "}", "else", "if", "(", "sort", "=", "=", "1", ")", "{", "return", "asc", "*", "Long", ".", "valueOf", "(", "file1", ".", "date", ")", ".", "compareTo", "(", "file2", ".", "date", ")", ";", "}", "else", "if", "(", "sort", "=", "=", "<NUM_LIT:2>", ")", "{", "if", "(", "!", "file1", ".", "isDirectory", "&", "&", "!", "file2", ".", "isDirectory", ")", "{", "return", "asc", "*", "Long", ".", "valueOf", "(", "file1", ".", "longSize", ")", ".", "compareTo", "(", "file2", ".", "longSize", ")", ";", "}", "else", "{", "return", "file1", ".", "title", ".", "compareToIgnoreCase", "(", "file2", ".", "title", ")", ";", "}", "}", "else", "if", "(", "sort", "=", "=", "<NUM_LIT:3>", ")", "{", "if", "(", "!", "file1", ".", "isDirectory", "&", "&", "!", "file2", ".", "isDirectory", ")", "{", "final", "String", "ext_a", "=", "getExtension", "(", "file1", ".", "title", ")", ";", "final", "String", "ext_b", "=", "getExtension", "(", "file2", ".", "title", ")", ";", "final", "int", "res", "=", "asc", "*", "ext_a", ".", "compareTo", "(", "ext_b", ")", ";", "if", "(", "res", "=", "=", "0", ")", "{", "return", "asc", "*", "file1", ".", "title", ".", "compareToIgnoreCase", "(", "file2", ".", "title", ")", ";", "}", "return", "res", ";", "}", "else", "{", "return", "file1", ".", "title", ".", "compareToIgnoreCase", "(", "file2", ".", "title", ")", ";", "}", "}", "return", "0", ";", "}", "</s>"]
["<s>", "private", "static", "String", "getExtension", "(", "String", "a", ")", "{", "return", "a", ".", "substring", "(", "a", ".", "lastIndexOf", "(", "\"", "<STR_LIT:.>", "\"", ")", "+", "1", ")", ".", "toLowerCase", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "}", "</s>"]
["<s>", "public", "UtilitiesProvider", "getUtilsProvider", "(", ")", "{", "return", "utilsProvider", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "AppCompatDelegate", ".", "setCompatVectorFromResourcesEnabled", "(", "true", ")", ";", "sBackgroundHandlerThread", "=", "new", "HandlerThread", "(", "\"", "<STR_LIT>", "\"", ")", ";", "mInstance", "=", "this", ";", "utilsProvider", "=", "new", "UtilitiesProvider", "(", "this", ")", ";", "mUtilsHandler", "=", "new", "UtilsHandler", "(", "this", ")", ";", "sBackgroundHandlerThread", ".", "start", "(", ")", ";", "sBackgroundHandler", "=", "new", "Handler", "(", "sBackgroundHandlerThread", ".", "getLooper", "(", ")", ")", ";", "StrictMode", ".", "VmPolicy", ".", "Builder", "builder", "=", "new", "StrictMode", ".", "VmPolicy", ".", "Builder", "(", ")", ";", "StrictMode", ".", "setVmPolicy", "(", "builder", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onTerminate", "(", ")", "{", "super", ".", "onTerminate", "(", ")", ";", "sBackgroundHandlerThread", ".", "quit", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "runInBackground", "(", "Runnable", "runnable", ")", "{", "synchronized", "(", "sBackgroundHandler", ")", "{", "sBackgroundHandler", ".", "post", "(", "runnable", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "<", "Params", ",", "Result", ">", "void", "runInParallel", "(", "final", "CustomAsyncCallbacks", "<", "Params", ",", "Result", ">", "customAsyncCallbacks", ")", "{", "synchronized", "(", "customAsyncCallbacks", ")", "{", "new", "AsyncTask", "<", "Params", ",", "Void", ",", "Result", ">", "(", ")", "{", "@", "Override", "protected", "void", "onPreExecute", "(", ")", "{", "super", ".", "onPreExecute", "(", ")", ";", "customAsyncCallbacks", ".", "onPreExecute", "(", ")", ";", "}", "@", "Override", "protected", "Result", "doInBackground", "(", "Object", ".", ".", ".", "params", ")", "{", "return", "customAsyncCallbacks", ".", "doInBackground", "(", ")", ";", "}", "@", "Override", "protected", "void", "onPostExecute", "(", "Result", "aVoid", ")", "{", "super", ".", "onPostExecute", "(", "aVoid", ")", ";", "customAsyncCallbacks", ".", "onPostExecute", "(", "aVoid", ")", ";", "}", "}", ".", "executeOnExecutor", "(", "AsyncTask", ".", "THREAD_POOL_EXECUTOR", ",", "customAsyncCallbacks", ".", "parameters", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPreExecute", "(", ")", "{", "super", ".", "onPreExecute", "(", ")", ";", "customAsyncCallbacks", ".", "onPreExecute", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Result", "doInBackground", "(", "Object", ".", ".", ".", "params", ")", "{", "return", "customAsyncCallbacks", ".", "doInBackground", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostExecute", "(", "Result", "aVoid", ")", "{", "super", ".", "onPostExecute", "(", "aVoid", ")", ";", "customAsyncCallbacks", ".", "onPostExecute", "(", "aVoid", ")", ";", "}", "</s>"]
["<s>", "public", "CustomAsyncCallbacks", "(", "@", "Nullable", "Params", "[", "]", "params", ")", "{", "parameters", "=", "params", ";", "}", "</s>"]
["<s>", "public", "abstract", "Result", "doInBackground", "(", ")", ";", "</s>"]
["<s>", "public", "void", "onPostExecute", "(", "Result", "result", ")", "{", "}", "</s>"]
["<s>", "public", "void", "onPreExecute", "(", ")", "{", "}", "</s>"]
["<s>", "public", "static", "void", "toast", "(", "Context", "context", ",", "String", "message", ")", "{", "if", "(", "context", "=", "=", "null", ")", "return", ";", "if", "(", "!", "(", "context", "instanceof", "Application", ")", ")", "{", "context", "=", "context", ".", "getApplicationContext", "(", ")", ";", "}", "if", "(", "context", "instanceof", "Application", ")", "{", "final", "Context", "c", "=", "context", ";", "final", "String", "m", "=", "message", ";", "(", "(", "AppConfig", ")", "context", ")", ".", "runInApplicationThread", "(", "(", ")", "-", ">", "{", "Toast", ".", "makeText", "(", "c", ",", "m", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "runInApplicationThread", "(", "Runnable", "r", ")", "{", "mApplicationHandler", ".", "post", "(", "r", ")", ";", "}", "</s>"]
["<s>", "public", "static", "synchronized", "AppConfig", "getInstance", "(", ")", "{", "return", "mInstance", ";", "}", "</s>"]
["<s>", "public", "ImageLoader", "getImageLoader", "(", ")", "{", "if", "(", "mRequestQueue", "=", "=", "null", ")", "{", "mRequestQueue", "=", "Volley", ".", "newRequestQueue", "(", "getApplicationContext", "(", ")", ")", ";", "}", "if", "(", "mImageLoader", "=", "=", "null", ")", "{", "this", ".", "mImageLoader", "=", "new", "ImageLoader", "(", "mRequestQueue", ",", "new", "LruBitmapCache", "(", ")", ")", ";", "}", "return", "mImageLoader", ";", "}", "</s>"]
["<s>", "public", "UtilsHandler", "getUtilsHandler", "(", ")", "{", "return", "mUtilsHandler", ";", "}", "</s>"]
["<s>", "public", "void", "setMainActivityContext", "(", "@", "NonNull", "Activity", "activity", ")", "{", "mainActivityContext", "=", "new", "WeakReference", "<", ">", "(", "activity", ")", ";", "screenUtils", "=", "new", "ScreenUtils", "(", "activity", ")", ";", "}", "</s>"]
["<s>", "public", "ScreenUtils", "getScreenUtils", "(", ")", "{", "return", "screenUtils", ";", "}", "</s>"]
["<s>", "@", "Nullable", "public", "Context", "getMainActivityContext", "(", ")", "{", "return", "mainActivityContext", ".", "get", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "Glide", ".", "get", "(", "this", ")", ".", "setMemoryCategory", "(", "MemoryCategory", ".", "HIGH", ")", ";", "}", "</s>"]
["<s>", "public", "ShareTask", "(", "Activity", "context", ",", "ArrayList", "<", "Uri", ">", "arrayList", ",", "AppTheme", "appTheme", ",", "int", "fab_skin", ")", "{", "this", ".", "contextc", "=", "context", ";", "this", ".", "arrayList", "=", "arrayList", ";", "this", ".", "appTheme", "=", "appTheme", ";", "this", ".", "fab_skin", "=", "fab_skin", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Void", "doInBackground", "(", "String", ".", ".", ".", "strings", ")", "{", "String", "mime", "=", "strings", "[", "0", "]", ";", "Intent", "shareIntent", "=", "new", "Intent", "(", ")", ";", "boolean", "bluetooth_present", "=", "false", ";", "shareIntent", ".", "setAction", "(", "Intent", ".", "ACTION_SEND_MULTIPLE", ")", ";", "shareIntent", ".", "setType", "(", "mime", ")", ";", "PackageManager", "packageManager", "=", "contextc", ".", "getPackageManager", "(", ")", ";", "List", "<", "ResolveInfo", ">", "resInfos", "=", "packageManager", ".", "queryIntentActivities", "(", "shareIntent", ",", "0", ")", ";", "if", "(", "!", "resInfos", ".", "isEmpty", "(", ")", ")", "{", "for", "(", "ResolveInfo", "resInfo", ":", "resInfos", ")", "{", "String", "packageName", "=", "resInfo", ".", "activityInfo", ".", "packageName", ";", "arrayList2", ".", "add", "(", "resInfo", ".", "loadIcon", "(", "packageManager", ")", ")", ";", "arrayList1", ".", "add", "(", "resInfo", ".", "loadLabel", "(", "packageManager", ")", ".", "toString", "(", ")", ")", ";", "if", "(", "packageName", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "bluetooth_present", "=", "true", ";", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "System", ".", "out", ".", "println", "(", "resInfo", ".", "activityInfo", ".", "packageName", "+", "\"", "<STR_LIT>", "<STR_LIT>", "\"", "+", "resInfo", ".", "activityInfo", ".", "name", ")", ";", "intent", ".", "setComponent", "(", "new", "ComponentName", "(", "packageName", ",", "resInfo", ".", "activityInfo", ".", "name", ")", ")", ";", "intent", ".", "setAction", "(", "Intent", ".", "ACTION_SEND_MULTIPLE", ")", ";", "intent", ".", "setType", "(", "mime", ")", ";", "intent", ".", "putParcelableArrayListExtra", "(", "Intent", ".", "EXTRA_STREAM", ",", "arrayList", ")", ";", "intent", ".", "setPackage", "(", "packageName", ")", ";", "targetShareIntents", ".", "add", "(", "intent", ")", ";", "}", "}", "if", "(", "!", "bluetooth_present", "&", "&", "appInstalledOrNot", "(", "\"", "<STR_LIT>", "\"", ",", "packageManager", ")", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", ")", ";", "intent", ".", "setComponent", "(", "new", "ComponentName", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "intent", ".", "setAction", "(", "Intent", ".", "ACTION_SEND_MULTIPLE", ")", ";", "intent", ".", "setType", "(", "mime", ")", ";", "intent", ".", "putParcelableArrayListExtra", "(", "Intent", ".", "EXTRA_STREAM", ",", "arrayList", ")", ";", "intent", ".", "setPackage", "(", "\"", "<STR_LIT>", "\"", ")", ";", "targetShareIntents", ".", "add", "(", "intent", ")", ";", "arrayList1", ".", "add", "(", "contextc", ".", "getString", "(", "R", ".", "string", ".", "bluetooth", ")", ")", ";", "arrayList2", ".", "add", "(", "contextc", ".", "getResources", "(", ")", ".", "getDrawable", "(", "appTheme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", "?", "R", ".", "drawable", ".", "ic_settings_bluetooth_black_24dp", ":", "R", ".", "drawable", ".", "ic_settings_bluetooth_white_36dp", ")", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "private", "boolean", "appInstalledOrNot", "(", "String", "uri", ",", "PackageManager", "pm", ")", "{", "boolean", "app_installed", ";", "try", "{", "pm", ".", "getPackageInfo", "(", "uri", ",", "PackageManager", ".", "GET_ACTIVITIES", ")", ";", "app_installed", "=", "true", ";", "}", "catch", "(", "PackageManager", ".", "NameNotFoundException", "e", ")", "{", "app_installed", "=", "false", ";", "}", "return", "app_installed", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPostExecute", "(", "Void", "v", ")", "{", "if", "(", "!", "targetShareIntents", ".", "isEmpty", "(", ")", ")", "{", "MaterialDialog", ".", "Builder", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "contextc", ")", ";", "builder", ".", "title", "(", "R", ".", "string", ".", "share", ")", ";", "builder", ".", "theme", "(", "appTheme", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "ShareAdapter", "shareAdapter", "=", "new", "ShareAdapter", "(", "contextc", ",", "targetShareIntents", ",", "arrayList1", ",", "arrayList2", ")", ";", "builder", ".", "adapter", "(", "shareAdapter", ",", "null", ")", ";", "builder", ".", "negativeText", "(", "R", ".", "string", ".", "cancel", ")", ";", "builder", ".", "negativeColor", "(", "fab_skin", ")", ";", "MaterialDialog", "b", "=", "builder", ".", "build", "(", ")", ";", "shareAdapter", ".", "updateMatDialog", "(", "b", ")", ";", "b", ".", "show", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "contextc", ",", "R", ".", "string", ".", "noappfound", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", "</s>"]
["<s>", "void", "updateMatDialog", "(", "MaterialDialog", "b", ")", "{", "this", ".", "dialog", "=", "b", ";", "}", "</s>"]
["<s>", "ShareAdapter", "(", "Context", "context", ",", "ArrayList", "<", "Intent", ">", "intents", ",", "ArrayList", "<", "String", ">", "labels", ",", "ArrayList", "<", "Drawable", ">", "arrayList1", ")", "{", "items", "=", "new", "ArrayList", "<", ">", "(", "intents", ")", ";", "this", ".", "context", "=", "context", ";", "this", ".", "labels", "=", "labels", ";", "this", ".", "drawables", "=", "arrayList1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ViewHolder", "onCreateViewHolder", "(", "ViewGroup", "parent", ",", "int", "viewType", ")", "{", "View", "view", "=", "LayoutInflater", ".", "from", "(", "parent", ".", "getContext", "(", ")", ")", ".", "inflate", "(", "R", ".", "layout", ".", "simplerow", ",", "parent", ",", "false", ")", ";", "return", "new", "ViewHolder", "(", "view", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "ViewHolder", "holder", ",", "int", "position", ")", "{", "holder", ".", "render", "(", "position", ")", ";", "}", "</s>"]
["<s>", "ViewHolder", "(", "View", "view", ")", "{", "super", "(", "view", ")", ";", "rootView", "=", "view", ";", "textView", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "firstline", ")", ";", "imageView", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "icon", ")", ";", "}", "</s>"]
["<s>", "void", "render", "(", "final", "int", "position", ")", "{", "if", "(", "drawables", ".", "get", "(", "position", ")", "!", "=", "null", ")", "imageView", ".", "setImageDrawable", "(", "drawables", ".", "get", "(", "position", ")", ")", ";", "textView", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "textView", ".", "setText", "(", "labels", ".", "get", "(", "position", ")", ")", ";", "rootView", ".", "setOnClickListener", "(", "v", "-", ">", "{", "if", "(", "dialog", "!", "=", "null", "&", "&", "dialog", ".", "isShowing", "(", ")", ")", "dialog", ".", "dismiss", "(", ")", ";", "context", ".", "startActivity", "(", "items", ".", "get", "(", "position", ")", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "getItemId", "(", "int", "position", ")", "{", "return", "position", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "return", "items", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "void", "exists", "(", "HybridFile", "file", ")", ";", "</s>"]
["<s>", "void", "launchSAF", "(", "HybridFile", "file", ")", ";", "</s>"]
["<s>", "void", "launchSAF", "(", "HybridFile", "file", ",", "HybridFile", "file1", ")", ";", "</s>"]
["<s>", "void", "done", "(", "HybridFile", "hFile", ",", "boolean", "b", ")", ";", "</s>"]
["<s>", "void", "invalidName", "(", "HybridFile", "file", ")", ";", "</s>"]
["<s>", "public", "static", "void", "mkdir", "(", "@", "NonNull", "final", "HybridFile", "file", ",", "final", "Context", "context", ",", "final", "boolean", "rootMode", ",", "@", "NonNull", "final", "ErrorCallBack", "errorCallBack", ")", "{", "new", "AsyncTask", "<", "Void", ",", "Void", ",", "Void", ">", "(", ")", "{", "private", "DataUtils", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "if", "(", "MainActivityHelper", ".", "isNewDirectoryRecursive", "(", "file", ")", "|", "|", "!", "Operations", ".", "isFileNameValid", "(", "file", ".", "getName", "(", "context", ")", ")", ")", "{", "errorCallBack", ".", "invalidName", "(", "file", ")", ";", "return", "null", ";", "}", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "errorCallBack", ".", "exists", "(", "file", ")", ";", "return", "null", ";", "}", "if", "(", "file", ".", "isSftp", "(", ")", ")", "{", "file", ".", "mkdir", "(", "context", ")", ";", "return", "null", ";", "}", "if", "(", "file", ".", "isSmb", "(", ")", ")", "{", "try", "{", "file", ".", "getSmbFile", "(", "<NUM_LIT>", ")", ".", "mkdirs", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "return", "null", ";", "}", "else", "if", "(", "file", ".", "isOtgFile", "(", ")", ")", "{", "DocumentFile", "directoryToCreate", "=", "OTGUtil", ".", "getDocumentFile", "(", "file", ".", "getPath", "(", ")", ",", "context", ",", "false", ")", ";", "if", "(", "directoryToCreate", "!", "=", "null", ")", "errorCallBack", ".", "exists", "(", "file", ")", ";", "DocumentFile", "parentDirectory", "=", "OTGUtil", ".", "getDocumentFile", "(", "file", ".", "getParent", "(", ")", ",", "context", ",", "false", ")", ";", "if", "(", "parentDirectory", ".", "isDirectory", "(", ")", ")", "{", "parentDirectory", ".", "createDirectory", "(", "file", ".", "getName", "(", "context", ")", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "else", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "return", "null", ";", "}", "else", "if", "(", "file", ".", "isDropBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "try", "{", "cloudStorageDropbox", ".", "createFolder", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "file", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "try", "{", "cloudStorageBox", ".", "createFolder", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "file", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isOneDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "try", "{", "cloudStorageOneDrive", ".", "createFolder", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "file", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isGoogleDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageGdrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "try", "{", "cloudStorageGdrive", ".", "createFolder", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "file", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "{", "if", "(", "file", ".", "isLocal", "(", ")", "|", "|", "file", ".", "isRoot", "(", ")", ")", "{", "int", "mode", "=", "checkFolder", "(", "new", "File", "(", "file", ".", "getParent", "(", ")", ")", ",", "context", ")", ";", "if", "(", "mode", "=", "=", "<NUM_LIT:2>", ")", "{", "errorCallBack", ".", "launchSAF", "(", "file", ")", ";", "return", "null", ";", "}", "if", "(", "mode", "=", "=", "1", "|", "|", "mode", "=", "=", "0", ")", "FileUtil", ".", "mkdir", "(", "file", ".", "getFile", "(", ")", ",", "context", ")", ";", "if", "(", "!", "file", ".", "exists", "(", ")", "&", "&", "rootMode", ")", "{", "file", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "if", "(", "file", ".", "exists", "(", ")", ")", "errorCallBack", ".", "exists", "(", "file", ")", ";", "try", "{", "RootUtils", ".", "mkDir", "(", "file", ".", "getParent", "(", "context", ")", ",", "file", ".", "getName", "(", "context", ")", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "}", "return", "null", ";", "}", "}", ".", "executeOnExecutor", "(", "AsyncTask", ".", "THREAD_POOL_EXECUTOR", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "if", "(", "MainActivityHelper", ".", "isNewDirectoryRecursive", "(", "file", ")", "|", "|", "!", "Operations", ".", "isFileNameValid", "(", "file", ".", "getName", "(", "context", ")", ")", ")", "{", "errorCallBack", ".", "invalidName", "(", "file", ")", ";", "return", "null", ";", "}", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "errorCallBack", ".", "exists", "(", "file", ")", ";", "return", "null", ";", "}", "if", "(", "file", ".", "isSftp", "(", ")", ")", "{", "file", ".", "mkdir", "(", "context", ")", ";", "return", "null", ";", "}", "if", "(", "file", ".", "isSmb", "(", ")", ")", "{", "try", "{", "file", ".", "getSmbFile", "(", "<NUM_LIT>", ")", ".", "mkdirs", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "return", "null", ";", "}", "else", "if", "(", "file", ".", "isOtgFile", "(", ")", ")", "{", "DocumentFile", "directoryToCreate", "=", "OTGUtil", ".", "getDocumentFile", "(", "file", ".", "getPath", "(", ")", ",", "context", ",", "false", ")", ";", "if", "(", "directoryToCreate", "!", "=", "null", ")", "errorCallBack", ".", "exists", "(", "file", ")", ";", "DocumentFile", "parentDirectory", "=", "OTGUtil", ".", "getDocumentFile", "(", "file", ".", "getParent", "(", ")", ",", "context", ",", "false", ")", ";", "if", "(", "parentDirectory", ".", "isDirectory", "(", ")", ")", "{", "parentDirectory", ".", "createDirectory", "(", "file", ".", "getName", "(", "context", ")", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "else", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "return", "null", ";", "}", "else", "if", "(", "file", ".", "isDropBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "try", "{", "cloudStorageDropbox", ".", "createFolder", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "file", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "try", "{", "cloudStorageBox", ".", "createFolder", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "file", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isOneDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "try", "{", "cloudStorageOneDrive", ".", "createFolder", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "file", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isGoogleDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageGdrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "try", "{", "cloudStorageGdrive", ".", "createFolder", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "file", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "{", "if", "(", "file", ".", "isLocal", "(", ")", "|", "|", "file", ".", "isRoot", "(", ")", ")", "{", "int", "mode", "=", "checkFolder", "(", "new", "File", "(", "file", ".", "getParent", "(", ")", ")", ",", "context", ")", ";", "if", "(", "mode", "=", "=", "<NUM_LIT:2>", ")", "{", "errorCallBack", ".", "launchSAF", "(", "file", ")", ";", "return", "null", ";", "}", "if", "(", "mode", "=", "=", "1", "|", "|", "mode", "=", "=", "0", ")", "FileUtil", ".", "mkdir", "(", "file", ".", "getFile", "(", ")", ",", "context", ")", ";", "if", "(", "!", "file", ".", "exists", "(", ")", "&", "&", "rootMode", ")", "{", "file", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "if", "(", "file", ".", "exists", "(", ")", ")", "errorCallBack", ".", "exists", "(", "file", ")", ";", "try", "{", "RootUtils", ".", "mkDir", "(", "file", ".", "getParent", "(", "context", ")", ",", "file", ".", "getName", "(", "context", ")", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "static", "void", "mkfile", "(", "@", "NonNull", "final", "HybridFile", "file", ",", "final", "Context", "context", ",", "final", "boolean", "rootMode", ",", "@", "NonNull", "final", "ErrorCallBack", "errorCallBack", ")", "{", "new", "AsyncTask", "<", "Void", ",", "Void", ",", "Void", ">", "(", ")", "{", "private", "DataUtils", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "if", "(", "!", "Operations", ".", "isFileNameValid", "(", "file", ".", "getName", "(", "context", ")", ")", ")", "{", "errorCallBack", ".", "invalidName", "(", "file", ")", ";", "return", "null", ";", "}", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "errorCallBack", ".", "exists", "(", "file", ")", ";", "return", "null", ";", "}", "if", "(", "file", ".", "isSftp", "(", ")", ")", "{", "OutputStream", "out", "=", "file", ".", "getOutputStream", "(", "context", ")", ";", "if", "(", "out", "=", "=", "null", ")", "{", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "return", "null", ";", "}", "try", "{", "out", ".", "close", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "return", "null", ";", "}", "catch", "(", "IOException", "e", ")", "{", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "return", "null", ";", "}", "}", "if", "(", "file", ".", "isSmb", "(", ")", ")", "{", "try", "{", "file", ".", "getSmbFile", "(", "<NUM_LIT>", ")", ".", "createNewFile", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "return", "null", ";", "}", "else", "if", "(", "file", ".", "isDropBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "try", "{", "byte", "[", "]", "tempBytes", "=", "new", "byte", "[", "0", "]", ";", "ByteArrayInputStream", "byteArrayInputStream", "=", "new", "ByteArrayInputStream", "(", "tempBytes", ")", ";", "cloudStorageDropbox", ".", "upload", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "file", ".", "getPath", "(", ")", ")", ",", "byteArrayInputStream", ",", "0", "l", ",", "true", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "try", "{", "byte", "[", "]", "tempBytes", "=", "new", "byte", "[", "0", "]", ";", "ByteArrayInputStream", "byteArrayInputStream", "=", "new", "ByteArrayInputStream", "(", "tempBytes", ")", ";", "cloudStorageBox", ".", "upload", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "file", ".", "getPath", "(", ")", ")", ",", "byteArrayInputStream", ",", "0", "l", ",", "true", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isOneDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "try", "{", "byte", "[", "]", "tempBytes", "=", "new", "byte", "[", "0", "]", ";", "ByteArrayInputStream", "byteArrayInputStream", "=", "new", "ByteArrayInputStream", "(", "tempBytes", ")", ";", "cloudStorageOneDrive", ".", "upload", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "file", ".", "getPath", "(", ")", ")", ",", "byteArrayInputStream", ",", "0", "l", ",", "true", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isGoogleDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageGdrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "try", "{", "byte", "[", "]", "tempBytes", "=", "new", "byte", "[", "0", "]", ";", "ByteArrayInputStream", "byteArrayInputStream", "=", "new", "ByteArrayInputStream", "(", "tempBytes", ")", ";", "cloudStorageGdrive", ".", "upload", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "file", ".", "getPath", "(", ")", ")", ",", "byteArrayInputStream", ",", "0", "l", ",", "true", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isOtgFile", "(", ")", ")", "{", "DocumentFile", "fileToCreate", "=", "OTGUtil", ".", "getDocumentFile", "(", "file", ".", "getPath", "(", ")", ",", "context", ",", "false", ")", ";", "if", "(", "fileToCreate", "!", "=", "null", ")", "errorCallBack", ".", "exists", "(", "file", ")", ";", "DocumentFile", "parentDirectory", "=", "OTGUtil", ".", "getDocumentFile", "(", "file", ".", "getParent", "(", ")", ",", "context", ",", "false", ")", ";", "if", "(", "parentDirectory", ".", "isDirectory", "(", ")", ")", "{", "parentDirectory", ".", "createFile", "(", "file", ".", "getName", "(", "context", ")", ".", "substring", "(", "file", ".", "getName", "(", ")", ".", "lastIndexOf", "(", "\"", "<STR_LIT:.>", "\"", ")", ")", ",", "file", ".", "getName", "(", "context", ")", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "else", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "return", "null", ";", "}", "else", "{", "if", "(", "file", ".", "isLocal", "(", ")", "|", "|", "file", ".", "isRoot", "(", ")", ")", "{", "int", "mode", "=", "checkFolder", "(", "new", "File", "(", "file", ".", "getParent", "(", ")", ")", ",", "context", ")", ";", "if", "(", "mode", "=", "=", "<NUM_LIT:2>", ")", "{", "errorCallBack", ".", "launchSAF", "(", "file", ")", ";", "return", "null", ";", "}", "if", "(", "mode", "=", "=", "1", "|", "|", "mode", "=", "=", "0", ")", "FileUtil", ".", "mkfile", "(", "file", ".", "getFile", "(", ")", ",", "context", ")", ";", "if", "(", "!", "file", ".", "exists", "(", ")", "&", "&", "rootMode", ")", "{", "file", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "if", "(", "file", ".", "exists", "(", ")", ")", "errorCallBack", ".", "exists", "(", "file", ")", ";", "try", "{", "RootUtils", ".", "mkFile", "(", "file", ".", "getPath", "(", ")", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "}", "return", "null", ";", "}", "}", ".", "executeOnExecutor", "(", "AsyncTask", ".", "THREAD_POOL_EXECUTOR", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "if", "(", "!", "Operations", ".", "isFileNameValid", "(", "file", ".", "getName", "(", "context", ")", ")", ")", "{", "errorCallBack", ".", "invalidName", "(", "file", ")", ";", "return", "null", ";", "}", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "errorCallBack", ".", "exists", "(", "file", ")", ";", "return", "null", ";", "}", "if", "(", "file", ".", "isSftp", "(", ")", ")", "{", "OutputStream", "out", "=", "file", ".", "getOutputStream", "(", "context", ")", ";", "if", "(", "out", "=", "=", "null", ")", "{", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "return", "null", ";", "}", "try", "{", "out", ".", "close", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "return", "null", ";", "}", "catch", "(", "IOException", "e", ")", "{", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "return", "null", ";", "}", "}", "if", "(", "file", ".", "isSmb", "(", ")", ")", "{", "try", "{", "file", ".", "getSmbFile", "(", "<NUM_LIT>", ")", ".", "createNewFile", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "return", "null", ";", "}", "else", "if", "(", "file", ".", "isDropBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "try", "{", "byte", "[", "]", "tempBytes", "=", "new", "byte", "[", "0", "]", ";", "ByteArrayInputStream", "byteArrayInputStream", "=", "new", "ByteArrayInputStream", "(", "tempBytes", ")", ";", "cloudStorageDropbox", ".", "upload", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "file", ".", "getPath", "(", ")", ")", ",", "byteArrayInputStream", ",", "0", "l", ",", "true", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "try", "{", "byte", "[", "]", "tempBytes", "=", "new", "byte", "[", "0", "]", ";", "ByteArrayInputStream", "byteArrayInputStream", "=", "new", "ByteArrayInputStream", "(", "tempBytes", ")", ";", "cloudStorageBox", ".", "upload", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "file", ".", "getPath", "(", ")", ")", ",", "byteArrayInputStream", ",", "0", "l", ",", "true", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isOneDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "try", "{", "byte", "[", "]", "tempBytes", "=", "new", "byte", "[", "0", "]", ";", "ByteArrayInputStream", "byteArrayInputStream", "=", "new", "ByteArrayInputStream", "(", "tempBytes", ")", ";", "cloudStorageOneDrive", ".", "upload", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "file", ".", "getPath", "(", ")", ")", ",", "byteArrayInputStream", ",", "0", "l", ",", "true", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isGoogleDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageGdrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "try", "{", "byte", "[", "]", "tempBytes", "=", "new", "byte", "[", "0", "]", ";", "ByteArrayInputStream", "byteArrayInputStream", "=", "new", "ByteArrayInputStream", "(", "tempBytes", ")", ";", "cloudStorageGdrive", ".", "upload", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "file", ".", "getPath", "(", ")", ")", ",", "byteArrayInputStream", ",", "0", "l", ",", "true", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "}", "}", "else", "if", "(", "file", ".", "isOtgFile", "(", ")", ")", "{", "DocumentFile", "fileToCreate", "=", "OTGUtil", ".", "getDocumentFile", "(", "file", ".", "getPath", "(", ")", ",", "context", ",", "false", ")", ";", "if", "(", "fileToCreate", "!", "=", "null", ")", "errorCallBack", ".", "exists", "(", "file", ")", ";", "DocumentFile", "parentDirectory", "=", "OTGUtil", ".", "getDocumentFile", "(", "file", ".", "getParent", "(", ")", ",", "context", ",", "false", ")", ";", "if", "(", "parentDirectory", ".", "isDirectory", "(", ")", ")", "{", "parentDirectory", ".", "createFile", "(", "file", ".", "getName", "(", "context", ")", ".", "substring", "(", "file", ".", "getName", "(", ")", ".", "lastIndexOf", "(", "\"", "<STR_LIT:.>", "\"", ")", ")", ",", "file", ".", "getName", "(", "context", ")", ")", ";", "errorCallBack", ".", "done", "(", "file", ",", "true", ")", ";", "}", "else", "errorCallBack", ".", "done", "(", "file", ",", "false", ")", ";", "return", "null", ";", "}", "else", "{", "if", "(", "file", ".", "isLocal", "(", ")", "|", "|", "file", ".", "isRoot", "(", ")", ")", "{", "int", "mode", "=", "checkFolder", "(", "new", "File", "(", "file", ".", "getParent", "(", ")", ")", ",", "context", ")", ";", "if", "(", "mode", "=", "=", "<NUM_LIT:2>", ")", "{", "errorCallBack", ".", "launchSAF", "(", "file", ")", ";", "return", "null", ";", "}", "if", "(", "mode", "=", "=", "1", "|", "|", "mode", "=", "=", "0", ")", "FileUtil", ".", "mkfile", "(", "file", ".", "getFile", "(", ")", ",", "context", ")", ";", "if", "(", "!", "file", ".", "exists", "(", ")", "&", "&", "rootMode", ")", "{", "file", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "if", "(", "file", ".", "exists", "(", ")", ")", "errorCallBack", ".", "exists", "(", "file", ")", ";", "try", "{", "RootUtils", ".", "mkFile", "(", "file", ".", "getPath", "(", ")", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "file", ",", "file", ".", "exists", "(", ")", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "static", "void", "rename", "(", "final", "HybridFile", "oldFile", ",", "final", "HybridFile", "newFile", ",", "final", "boolean", "rootMode", ",", "final", "Context", "context", ",", "final", "ErrorCallBack", "errorCallBack", ")", "{", "new", "AsyncTask", "<", "Void", ",", "Void", ",", "Void", ">", "(", ")", "{", "private", "DataUtils", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "if", "(", "MainActivityHelper", ".", "isNewDirectoryRecursive", "(", "newFile", ")", "|", "|", "!", "Operations", ".", "isFileNameValid", "(", "newFile", ".", "getName", "(", "context", ")", ")", ")", "{", "errorCallBack", ".", "invalidName", "(", "newFile", ")", ";", "return", "null", ";", "}", "if", "(", "newFile", ".", "exists", "(", ")", ")", "{", "errorCallBack", ".", "exists", "(", "newFile", ")", ";", "return", "null", ";", "}", "if", "(", "oldFile", ".", "isSmb", "(", ")", ")", "{", "try", "{", "SmbFile", "smbFile", "=", "new", "SmbFile", "(", "oldFile", ".", "getPath", "(", ")", ")", ";", "SmbFile", "smbFile1", "=", "new", "SmbFile", "(", "newFile", ".", "getPath", "(", ")", ")", ";", "if", "(", "smbFile1", ".", "exists", "(", ")", ")", "{", "errorCallBack", ".", "exists", "(", "newFile", ")", ";", "return", "null", ";", "}", "smbFile", ".", "renameTo", "(", "smbFile1", ")", ";", "if", "(", "!", "smbFile", ".", "exists", "(", ")", "&", "&", "smbFile1", ".", "exists", "(", ")", ")", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "null", ";", "}", "else", "if", "(", "oldFile", ".", "isSftp", "(", ")", ")", "{", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "oldFile", ".", "getPath", "(", ")", ")", "{", "@", "Override", "public", "<", "Void", ">", "Void", "execute", "(", "@", "NonNull", "SFTPClient", "client", ")", "{", "try", "{", "client", ".", "rename", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "oldFile", ".", "getPath", "(", ")", ")", ",", "SshClientUtils", ".", "extractRemotePathFrom", "(", "newFile", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "false", ")", ";", "}", "return", "null", ";", "}", "}", ")", ";", "}", "else", "if", "(", "oldFile", ".", "isDropBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "try", "{", "cloudStorageDropbox", ".", "move", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "oldFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "newFile", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "false", ")", ";", "}", "}", "else", "if", "(", "oldFile", ".", "isBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "try", "{", "cloudStorageBox", ".", "move", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "oldFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "newFile", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "false", ")", ";", "}", "}", "else", "if", "(", "oldFile", ".", "isOneDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "try", "{", "cloudStorageOneDrive", ".", "move", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "oldFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "newFile", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "false", ")", ";", "}", "}", "else", "if", "(", "oldFile", ".", "isGoogleDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageGdrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "try", "{", "cloudStorageGdrive", ".", "move", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "oldFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "newFile", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "false", ")", ";", "}", "}", "else", "if", "(", "oldFile", ".", "isOtgFile", "(", ")", ")", "{", "DocumentFile", "oldDocumentFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "oldFile", ".", "getPath", "(", ")", ",", "context", ",", "false", ")", ";", "DocumentFile", "newDocumentFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "newFile", ".", "getPath", "(", ")", ",", "context", ",", "false", ")", ";", "if", "(", "newDocumentFile", "!", "=", "null", ")", "{", "errorCallBack", ".", "exists", "(", "newFile", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "newFile", ",", "oldDocumentFile", ".", "renameTo", "(", "newFile", ".", "getName", "(", "context", ")", ")", ")", ";", "return", "null", ";", "}", "else", "{", "File", "file", "=", "new", "File", "(", "oldFile", ".", "getPath", "(", ")", ")", ";", "File", "file1", "=", "new", "File", "(", "newFile", ".", "getPath", "(", ")", ")", ";", "switch", "(", "oldFile", ".", "getMode", "(", ")", ")", "{", "case", "FILE", ":", "int", "mode", "=", "checkFolder", "(", "file", ".", "getParentFile", "(", ")", ",", "context", ")", ";", "if", "(", "mode", "=", "=", "<NUM_LIT:2>", ")", "{", "errorCallBack", ".", "launchSAF", "(", "oldFile", ",", "newFile", ")", ";", "}", "else", "if", "(", "mode", "=", "=", "1", "|", "|", "mode", "=", "=", "0", ")", "{", "try", "{", "FileUtil", ".", "renameFolder", "(", "file", ",", "file1", ",", "context", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "boolean", "a", "=", "!", "file", ".", "exists", "(", ")", "&", "&", "file1", ".", "exists", "(", ")", ";", "if", "(", "!", "a", "&", "&", "rootMode", ")", "{", "try", "{", "RootUtils", ".", "rename", "(", "file", ".", "getPath", "(", ")", ",", "file1", ".", "getPath", "(", ")", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "oldFile", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "newFile", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "a", "=", "!", "file", ".", "exists", "(", ")", "&", "&", "file1", ".", "exists", "(", ")", ";", "}", "errorCallBack", ".", "done", "(", "newFile", ",", "a", ")", ";", "return", "null", ";", "}", "break", ";", "case", "ROOT", ":", "try", "{", "RootUtils", ".", "rename", "(", "file", ".", "getPath", "(", ")", ",", "file1", ".", "getPath", "(", ")", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "newFile", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "break", ";", "}", "}", "return", "null", ";", "}", "}", ".", "executeOnExecutor", "(", "AsyncTask", ".", "THREAD_POOL_EXECUTOR", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Void", "doInBackground", "(", "Void", ".", ".", ".", "params", ")", "{", "if", "(", "MainActivityHelper", ".", "isNewDirectoryRecursive", "(", "newFile", ")", "|", "|", "!", "Operations", ".", "isFileNameValid", "(", "newFile", ".", "getName", "(", "context", ")", ")", ")", "{", "errorCallBack", ".", "invalidName", "(", "newFile", ")", ";", "return", "null", ";", "}", "if", "(", "newFile", ".", "exists", "(", ")", ")", "{", "errorCallBack", ".", "exists", "(", "newFile", ")", ";", "return", "null", ";", "}", "if", "(", "oldFile", ".", "isSmb", "(", ")", ")", "{", "try", "{", "SmbFile", "smbFile", "=", "new", "SmbFile", "(", "oldFile", ".", "getPath", "(", ")", ")", ";", "SmbFile", "smbFile1", "=", "new", "SmbFile", "(", "newFile", ".", "getPath", "(", ")", ")", ";", "if", "(", "smbFile1", ".", "exists", "(", ")", ")", "{", "errorCallBack", ".", "exists", "(", "newFile", ")", ";", "return", "null", ";", "}", "smbFile", ".", "renameTo", "(", "smbFile1", ")", ";", "if", "(", "!", "smbFile", ".", "exists", "(", ")", "&", "&", "smbFile1", ".", "exists", "(", ")", ")", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "null", ";", "}", "else", "if", "(", "oldFile", ".", "isSftp", "(", ")", ")", "{", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "oldFile", ".", "getPath", "(", ")", ")", "{", "@", "Override", "public", "<", "Void", ">", "Void", "execute", "(", "@", "NonNull", "SFTPClient", "client", ")", "{", "try", "{", "client", ".", "rename", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "oldFile", ".", "getPath", "(", ")", ")", ",", "SshClientUtils", ".", "extractRemotePathFrom", "(", "newFile", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "false", ")", ";", "}", "return", "null", ";", "}", "}", ")", ";", "}", "else", "if", "(", "oldFile", ".", "isDropBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "try", "{", "cloudStorageDropbox", ".", "move", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "oldFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "newFile", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "false", ")", ";", "}", "}", "else", "if", "(", "oldFile", ".", "isBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "try", "{", "cloudStorageBox", ".", "move", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "oldFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "newFile", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "false", ")", ";", "}", "}", "else", "if", "(", "oldFile", ".", "isOneDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "try", "{", "cloudStorageOneDrive", ".", "move", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "oldFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "newFile", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "false", ")", ";", "}", "}", "else", "if", "(", "oldFile", ".", "isGoogleDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageGdrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "try", "{", "cloudStorageGdrive", ".", "move", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "oldFile", ".", "getPath", "(", ")", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "newFile", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "false", ")", ";", "}", "}", "else", "if", "(", "oldFile", ".", "isOtgFile", "(", ")", ")", "{", "DocumentFile", "oldDocumentFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "oldFile", ".", "getPath", "(", ")", ",", "context", ",", "false", ")", ";", "DocumentFile", "newDocumentFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "newFile", ".", "getPath", "(", ")", ",", "context", ",", "false", ")", ";", "if", "(", "newDocumentFile", "!", "=", "null", ")", "{", "errorCallBack", ".", "exists", "(", "newFile", ")", ";", "return", "null", ";", "}", "errorCallBack", ".", "done", "(", "newFile", ",", "oldDocumentFile", ".", "renameTo", "(", "newFile", ".", "getName", "(", "context", ")", ")", ")", ";", "return", "null", ";", "}", "else", "{", "File", "file", "=", "new", "File", "(", "oldFile", ".", "getPath", "(", ")", ")", ";", "File", "file1", "=", "new", "File", "(", "newFile", ".", "getPath", "(", ")", ")", ";", "switch", "(", "oldFile", ".", "getMode", "(", ")", ")", "{", "case", "FILE", ":", "int", "mode", "=", "checkFolder", "(", "file", ".", "getParentFile", "(", ")", ",", "context", ")", ";", "if", "(", "mode", "=", "=", "<NUM_LIT:2>", ")", "{", "errorCallBack", ".", "launchSAF", "(", "oldFile", ",", "newFile", ")", ";", "}", "else", "if", "(", "mode", "=", "=", "1", "|", "|", "mode", "=", "=", "0", ")", "{", "try", "{", "FileUtil", ".", "renameFolder", "(", "file", ",", "file1", ",", "context", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "boolean", "a", "=", "!", "file", ".", "exists", "(", ")", "&", "&", "file1", ".", "exists", "(", ")", ";", "if", "(", "!", "a", "&", "&", "rootMode", ")", "{", "try", "{", "RootUtils", ".", "rename", "(", "file", ".", "getPath", "(", ")", ",", "file1", ".", "getPath", "(", ")", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "oldFile", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "newFile", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "a", "=", "!", "file", ".", "exists", "(", ")", "&", "&", "file1", ".", "exists", "(", ")", ";", "}", "errorCallBack", ".", "done", "(", "newFile", ",", "a", ")", ";", "return", "null", ";", "}", "break", ";", "case", "ROOT", ":", "try", "{", "RootUtils", ".", "rename", "(", "file", ".", "getPath", "(", ")", ",", "file1", ".", "getPath", "(", ")", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "newFile", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "break", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "Void", ">", "Void", "execute", "(", "@", "NonNull", "SFTPClient", "client", ")", "{", "try", "{", "client", ".", "rename", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "oldFile", ".", "getPath", "(", ")", ")", ",", "SshClientUtils", ".", "extractRemotePathFrom", "(", "newFile", ".", "getPath", "(", ")", ")", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "true", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "errorCallBack", ".", "done", "(", "newFile", ",", "false", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "private", "static", "int", "checkFolder", "(", "final", "File", "folder", ",", "Context", "context", ")", "{", "boolean", "lol", "=", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ";", "if", "(", "lol", ")", "{", "boolean", "ext", "=", "FileUtil", ".", "isOnExtSdCard", "(", "folder", ",", "context", ")", ";", "if", "(", "ext", ")", "{", "if", "(", "!", "folder", ".", "exists", "(", ")", "|", "|", "!", "folder", ".", "isDirectory", "(", ")", ")", "{", "return", "0", ";", "}", "if", "(", "!", "FileUtil", ".", "isWritableNormalOrSaf", "(", "folder", ",", "context", ")", ")", "{", "return", "<NUM_LIT:2>", ";", "}", "return", "1", ";", "}", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "<NUM_LIT>", ")", "{", "if", "(", "FileUtil", ".", "isOnExtSdCard", "(", "folder", ",", "context", ")", ")", "return", "1", ";", "}", "if", "(", "FileUtil", ".", "isWritable", "(", "new", "File", "(", "folder", ",", "\"", "<STR_LIT>", "\"", ")", ")", ")", "{", "return", "1", ";", "}", "else", "{", "return", "0", ";", "}", "}", "</s>"]
["<s>", "public", "static", "boolean", "isCopyLoopPossible", "(", "HybridFileParcelable", "sourceFile", ",", "HybridFile", "targetFile", ")", "{", "return", "targetFile", ".", "getPath", "(", ")", ".", "contains", "(", "sourceFile", ".", "getPath", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isFileNameValid", "(", "String", "fileName", ")", "{", "return", "!", "(", "fileName", ".", "contains", "(", "ASTERISK", ")", "|", "|", "fileName", ".", "contains", "(", "BACKWARD_SLASH", ")", "|", "|", "fileName", ".", "contains", "(", "COLON", ")", "|", "|", "fileName", ".", "contains", "(", "FOREWARD_SLASH", ")", "|", "|", "fileName", ".", "contains", "(", "GREATER_THAN", ")", "|", "|", "fileName", ".", "contains", "(", "LESS_THAN", ")", "|", "|", "fileName", ".", "contains", "(", "QUESTION_MARK", ")", "|", "|", "fileName", ".", "contains", "(", "QUOTE", ")", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isFileSystemFAT", "(", "String", "mountPoint", ")", "{", "String", "[", "]", "args", "=", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "<STR_LIT:\\\">", "<STR_LIT>", "\"", "+", "mountPoint", "+", "\"", "<STR_LIT:\\\">", "\"", "}", ";", "try", "{", "Process", "proc", "=", "new", "ProcessBuilder", "(", "args", ")", ".", "start", "(", ")", ";", "OutputStream", "outputStream", "=", "proc", ".", "getOutputStream", "(", ")", ";", "String", "buffer", "=", "null", ";", "outputStream", ".", "write", "(", "buffer", ".", "getBytes", "(", ")", ")", ";", "return", "buffer", "!", "=", "null", "&", "&", "buffer", ".", "contains", "(", "FAT", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "true", ";", "}", "}", "</s>"]
["<s>", "public", "CustomFileObserver", "(", "String", "path", ",", "Handler", "handler", ")", "{", "super", "(", "path", ",", "MASK", ")", ";", "this", ".", "path", "=", "path", ";", "this", ".", "handler", "=", "handler", ";", "}", "</s>"]
["<s>", "public", "boolean", "wasStopped", "(", ")", "{", "return", "wasStopped", ";", "}", "</s>"]
["<s>", "public", "String", "getPath", "(", ")", "{", "return", "path", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "startWatching", "(", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "{", "startPollingSystem", "(", ")", ";", "}", "else", "{", "super", ".", "startWatching", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "stopWatching", "(", ")", "{", "wasStopped", "=", "true", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "{", "stopPollingSystem", "(", ")", ";", "}", "else", "{", "super", ".", "startWatching", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onEvent", "(", "int", "event", ",", "String", "path", ")", "{", "if", "(", "event", "=", "=", "IN_IGNORED", ")", "{", "wasStopped", "=", "true", ";", "return", ";", "}", "long", "deltaTime", "=", "Calendar", ".", "getInstance", "(", ")", ".", "getTimeInMillis", "(", ")", "-", "lastMessagedTime", ";", "switch", "(", "event", ")", "{", "case", "CREATE", ":", "case", "MOVED_TO", ":", "pathsAdded", ".", "add", "(", "path", ")", ";", "break", ";", "case", "DELETE", ":", "case", "MOVED_FROM", ":", "pathsRemoved", ".", "add", "(", "path", ")", ";", "break", ";", "case", "DELETE_SELF", ":", "case", "MOVE_SELF", ":", "handler", ".", "obtainMessage", "(", "GOBACK", ")", ".", "sendToTarget", "(", ")", ";", "return", ";", "}", "if", "(", "deltaTime", "<", "=", "DEFER_CONSTANT", ")", "{", "new", "Timer", "(", ")", ".", "schedule", "(", "new", "TimerTask", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "messagingScheduled", ")", "return", ";", "sendMessages", "(", ")", ";", "}", "}", ",", "DEFER_CONSTANT", "-", "deltaTime", ")", ";", "messagingScheduled", "=", "true", ";", "}", "else", "{", "if", "(", "messagingScheduled", ")", "return", ";", "sendMessages", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "messagingScheduled", ")", "return", ";", "sendMessages", "(", ")", ";", "}", "</s>"]
["<s>", "private", "synchronized", "void", "sendMessages", "(", ")", "{", "lastMessagedTime", "=", "Calendar", ".", "getInstance", "(", ")", ".", "getTimeInMillis", "(", ")", ";", "synchronized", "(", "pathsAdded", ")", "{", "for", "(", "String", "pathAdded", ":", "pathsAdded", ")", "{", "handler", ".", "obtainMessage", "(", "NEW_ITEM", ",", "pathAdded", ")", ".", "sendToTarget", "(", ")", ";", "}", "}", "pathsAdded", ".", "clear", "(", ")", ";", "synchronized", "(", "pathsRemoved", ")", "{", "for", "(", "String", "pathRemoved", ":", "pathsRemoved", ")", "{", "handler", ".", "obtainMessage", "(", "DELETED_ITEM", ",", "pathRemoved", ")", ".", "sendToTarget", "(", ")", ";", "}", "}", "pathsRemoved", ".", "clear", "(", ")", ";", "messagingScheduled", "=", "false", ";", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "private", "void", "startPollingSystem", "(", ")", "{", "executor", "=", "Executors", ".", "newScheduledThreadPool", "(", "1", ")", ";", "executor", ".", "scheduleWithFixedDelay", "(", "new", "FileTimerTask", "(", "path", ",", "this", ")", ",", "DEFER_CONSTANT_SECONDS", ",", "DEFER_CONSTANT_SECONDS", ",", "TimeUnit", ".", "SECONDS", ")", ";", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "private", "void", "stopPollingSystem", "(", ")", "{", "executor", ".", "shutdown", "(", ")", ";", "}", "</s>"]
["<s>", "private", "FileTimerTask", "(", "String", "path", ",", "FileObserver", "fileObserver", ")", "{", "file", "=", "new", "File", "(", "path", ")", ";", "if", "(", "!", "file", ".", "isDirectory", "(", ")", ")", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "files", "=", "file", ".", "list", "(", ")", ";", "this", ".", "fileObserver", "=", "fileObserver", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "if", "(", "!", "file", ".", "exists", "(", ")", ")", "{", "fileObserver", ".", "onEvent", "(", "DELETE_SELF", ",", "null", ")", ";", "return", ";", "}", "if", "(", "!", "file", ".", "canRead", "(", ")", "|", "|", "!", "file", ".", "isHidden", "(", ")", ")", "{", "fileObserver", ".", "onEvent", "(", "IN_IGNORED", ",", "null", ")", ";", "return", ";", "}", "String", "[", "]", "newFiles", "=", "file", ".", "list", "(", ")", ";", "for", "(", "String", "s", ":", "compare", "(", "newFiles", ",", "files", ")", ")", "{", "fileObserver", ".", "onEvent", "(", "CREATE", ",", "s", ")", ";", "}", "for", "(", "String", "s", ":", "compare", "(", "files", ",", "newFiles", ")", ")", "{", "fileObserver", ".", "onEvent", "(", "DELETE", ",", "s", ")", ";", "}", "}", "</s>"]
["<s>", "private", "HashSet", "<", "String", ">", "compare", "(", "String", "[", "]", "s1", ",", "String", "[", "]", "s2", ")", "{", "HashSet", "<", "String", ">", "set1", "=", "new", "HashSet", "<", ">", "(", "Arrays", ".", "asList", "(", "s1", ")", ")", ";", "HashSet", "<", "String", ">", "set2", "=", "new", "HashSet", "<", ">", "(", "Arrays", ".", "asList", "(", "s2", ")", ")", ";", "set1", ".", "removeAll", "(", "set2", ")", ";", "return", "set1", ";", "}", "</s>"]
["<s>", "public", "EditableFileAbstraction", "(", "Context", "context", ",", "Uri", "uri", ")", "{", "switch", "(", "uri", ".", "getScheme", "(", ")", ")", "{", "case", "\"", "<STR_LIT>", "\"", ":", "this", ".", "uri", "=", "uri", ";", "this", ".", "scheme", "=", "SCHEME_CONTENT", ";", "String", "tempName", "=", "null", ";", "Cursor", "c", "=", "context", ".", "getContentResolver", "(", ")", ".", "query", "(", "uri", ",", "new", "String", "[", "]", "{", "OpenableColumns", ".", "DISPLAY_NAME", "}", ",", "null", ",", "null", ",", "null", ")", ";", "if", "(", "c", "!", "=", "null", ")", "{", "c", ".", "moveToFirst", "(", ")", ";", "try", "{", "tempName", "=", "c", ".", "getString", "(", "c", ".", "getColumnIndex", "(", "OpenableColumns", ".", "DISPLAY_NAME", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "tempName", "=", "null", ";", "}", "c", ".", "close", "(", ")", ";", "}", "if", "(", "tempName", "=", "=", "null", ")", "{", "tempName", "=", "uri", ".", "getLastPathSegment", "(", ")", ";", "}", "this", ".", "name", "=", "tempName", ";", "this", ".", "hybridFileParcelable", "=", "null", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "this", ".", "scheme", "=", "SCHEME_FILE", ";", "String", "path", "=", "uri", ".", "getPath", "(", ")", ";", "if", "(", "path", "=", "=", "null", ")", "throw", "new", "NullPointerException", "(", "\"", "<STR_LIT>", "\"", "+", "uri", ".", "toString", "(", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "path", "=", "Utils", ".", "sanitizeInput", "(", "path", ")", ";", "this", ".", "hybridFileParcelable", "=", "new", "HybridFileParcelable", "(", "path", ")", ";", "String", "tempN", "=", "hybridFileParcelable", ".", "getName", "(", "context", ")", ";", "if", "(", "tempN", "=", "=", "null", ")", "tempN", "=", "uri", ".", "getLastPathSegment", "(", ")", ";", "this", ".", "name", "=", "tempN", ";", "this", ".", "uri", "=", "null", ";", "break", ";", "default", ":", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "uri", ".", "getScheme", "(", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "public", "HybridFileParcelable", "(", "String", "path", ")", "{", "super", "(", "OpenMode", ".", "FILE", ",", "path", ")", ";", "this", ".", "path", "=", "path", ";", "}", "</s>"]
["<s>", "public", "HybridFileParcelable", "(", "String", "path", ",", "String", "permission", ",", "long", "date", ",", "long", "size", ",", "boolean", "isDirectory", ")", "{", "super", "(", "OpenMode", ".", "FILE", ",", "path", ")", ";", "this", ".", "date", "=", "date", ";", "this", ".", "size", "=", "size", ";", "this", ".", "isDirectory", "=", "isDirectory", ";", "this", ".", "path", "=", "path", ";", "this", ".", "permission", "=", "permission", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getName", "(", ")", "{", "if", "(", "name", "!", "=", "null", "&", "&", "name", ".", "length", "(", ")", ">", "0", ")", "return", "name", ";", "else", "return", "super", ".", "getName", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setName", "(", "String", "name", ")", "{", "this", ".", "name", "=", "name", ";", "}", "</s>"]
["<s>", "public", "OpenMode", "getMode", "(", ")", "{", "return", "mode", ";", "}", "</s>"]
["<s>", "public", "String", "getLink", "(", ")", "{", "return", "link", ";", "}", "</s>"]
["<s>", "public", "void", "setLink", "(", "String", "link", ")", "{", "this", ".", "link", "=", "link", ";", "}", "</s>"]
["<s>", "public", "long", "getDate", "(", ")", "{", "return", "date", ";", "}", "</s>"]
["<s>", "public", "void", "setDate", "(", "long", "date", ")", "{", "this", ".", "date", "=", "date", ";", "}", "</s>"]
["<s>", "public", "long", "getSize", "(", ")", "{", "return", "size", ";", "}", "</s>"]
["<s>", "public", "void", "setSize", "(", "long", "size", ")", "{", "this", ".", "size", "=", "size", ";", "}", "</s>"]
["<s>", "public", "boolean", "isDirectory", "(", ")", "{", "return", "isDirectory", ";", "}", "</s>"]
["<s>", "public", "void", "setDirectory", "(", "boolean", "directory", ")", "{", "isDirectory", "=", "directory", ";", "}", "</s>"]
["<s>", "public", "String", "getPath", "(", ")", "{", "return", "path", ";", "}", "</s>"]
["<s>", "public", "String", "getPermission", "(", ")", "{", "return", "permission", ";", "}", "</s>"]
["<s>", "public", "void", "setPermission", "(", "String", "permission", ")", "{", "this", ".", "permission", "=", "permission", ";", "}", "</s>"]
["<s>", "protected", "HybridFileParcelable", "(", "Parcel", "in", ")", "{", "super", "(", "OpenMode", ".", "getOpenMode", "(", "in", ".", "readInt", "(", ")", ")", ",", "in", ".", "readString", "(", ")", ")", ";", "permission", "=", "in", ".", "readString", "(", ")", ";", "name", "=", "in", ".", "readString", "(", ")", ";", "date", "=", "in", ".", "readLong", "(", ")", ";", "size", "=", "in", ".", "readLong", "(", ")", ";", "isDirectory", "=", "in", ".", "readByte", "(", ")", "!", "=", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "HybridFileParcelable", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "HybridFileParcelable", "(", "in", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "HybridFileParcelable", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "HybridFileParcelable", "[", "size", "]", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "describeContents", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeToParcel", "(", "Parcel", "dest", ",", "int", "flags", ")", "{", "dest", ".", "writeInt", "(", "mode", ".", "ordinal", "(", ")", ")", ";", "dest", ".", "writeString", "(", "path", ")", ";", "dest", ".", "writeString", "(", "permission", ")", ";", "dest", ".", "writeString", "(", "name", ")", ";", "dest", ".", "writeLong", "(", "date", ")", ";", "dest", ".", "writeLong", "(", "size", ")", ";", "dest", ".", "writeByte", "(", "(", "byte", ")", "(", "isDirectory", "?", "1", ":", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "new", "StringBuilder", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "path", ")", ".", "append", "(", "<CHAR_LIT:]>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "name", ")", ".", "append", "(", "<CHAR_LIT:]>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "size", ")", ".", "append", "(", "<CHAR_LIT:]>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "date", ")", ".", "append", "(", "<CHAR_LIT:]>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "permission", ")", ".", "append", "(", "<CHAR_LIT:]>", ")", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "=", "=", "null", "|", "|", "(", "!", "(", "obj", "instanceof", "HybridFileParcelable", ")", ")", ")", "return", "false", ";", "return", "path", ".", "equals", "(", "(", "(", "HybridFileParcelable", ")", "obj", ")", ".", "path", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "int", "result", "=", "path", ".", "hashCode", "(", ")", ";", "result", "=", "<NUM_LIT>", "*", "result", "+", "name", ".", "hashCode", "(", ")", ";", "result", "=", "<NUM_LIT>", "*", "result", "+", "(", "isDirectory", "?", "1", ":", "0", ")", ";", "result", "=", "<NUM_LIT>", "*", "result", "+", "(", "int", ")", "(", "size", "^", "size", ">", ">", ">", "<NUM_LIT:32>", ")", ";", "result", "=", "<NUM_LIT>", "*", "result", "+", "(", "int", ")", "(", "date", "^", "date", ">", ">", ">", "<NUM_LIT:32>", ")", ";", "return", "result", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "private", "static", "boolean", "copyFile", "(", "final", "File", "source", ",", "final", "File", "target", ",", "Context", "context", ")", "{", "FileInputStream", "inStream", "=", "null", ";", "OutputStream", "outStream", "=", "null", ";", "FileChannel", "inChannel", "=", "null", ";", "FileChannel", "outChannel", "=", "null", ";", "try", "{", "inStream", "=", "new", "FileInputStream", "(", "source", ")", ";", "if", "(", "isWritable", "(", "target", ")", ")", "{", "outStream", "=", "new", "FileOutputStream", "(", "target", ")", ";", "inChannel", "=", "inStream", ".", "getChannel", "(", ")", ";", "outChannel", "=", "(", "(", "FileOutputStream", ")", "outStream", ")", ".", "getChannel", "(", ")", ";", "inChannel", ".", "transferTo", "(", "0", ",", "inChannel", ".", "size", "(", ")", ",", "outChannel", ")", ";", "}", "else", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "DocumentFile", "targetDocument", "=", "getDocumentFile", "(", "target", ",", "false", ",", "context", ")", ";", "outStream", "=", "context", ".", "getContentResolver", "(", ")", ".", "openOutputStream", "(", "targetDocument", ".", "getUri", "(", ")", ")", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "Uri", "uri", "=", "MediaStoreHack", ".", "getUriFromFile", "(", "target", ".", "getAbsolutePath", "(", ")", ",", "context", ")", ";", "outStream", "=", "context", ".", "getContentResolver", "(", ")", ".", "openOutputStream", "(", "uri", ")", ";", "}", "else", "{", "return", "false", ";", "}", "if", "(", "outStream", "!", "=", "null", ")", "{", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "<NUM_LIT>", "]", ";", "int", "bytesRead", ";", "while", "(", "(", "bytesRead", "=", "inStream", ".", "read", "(", "buffer", ")", ")", "!", "=", "-", "1", ")", "{", "outStream", ".", "write", "(", "buffer", ",", "0", ",", "bytesRead", ")", ";", "}", "}", "}", "}", "catch", "(", "Exception", "e", ")", "{", "Log", ".", "e", "(", "LOG", ",", "\"", "<STR_LIT>", "\"", "+", "source", ".", "getAbsolutePath", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "target", ".", "getAbsolutePath", "(", ")", ",", "e", ")", ";", "return", "false", ";", "}", "finally", "{", "try", "{", "inStream", ".", "close", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "}", "try", "{", "outStream", ".", "close", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "}", "try", "{", "inChannel", ".", "close", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "}", "try", "{", "outChannel", ".", "close", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "}", "}", "return", "true", ";", "}", "</s>"]
["<s>", "public", "static", "OutputStream", "getOutputStream", "(", "final", "File", "target", ",", "Context", "context", ")", "throws", "FileNotFoundException", "{", "OutputStream", "outStream", "=", "null", ";", "if", "(", "isWritable", "(", "target", ")", ")", "{", "outStream", "=", "new", "FileOutputStream", "(", "target", ")", ";", "}", "else", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "DocumentFile", "targetDocument", "=", "getDocumentFile", "(", "target", ",", "false", ",", "context", ")", ";", "outStream", "=", "context", ".", "getContentResolver", "(", ")", ".", "openOutputStream", "(", "targetDocument", ".", "getUri", "(", ")", ")", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "return", "MediaStoreHack", ".", "getOutputStream", "(", "context", ",", "target", ".", "getPath", "(", ")", ")", ";", "}", "}", "return", "outStream", ";", "}", "</s>"]
["<s>", "public", "static", "final", "void", "writeUriToStorage", "(", "@", "NonNull", "final", "MainActivity", "mainActivity", ",", "@", "NonNull", "final", "ArrayList", "<", "Uri", ">", "uris", ",", "@", "NonNull", "final", "ContentResolver", "contentResolver", ",", "@", "NonNull", "final", "String", "currentPath", ")", "{", "AppConfig", ".", "runInParallel", "(", "new", "AppConfig", ".", "CustomAsyncCallbacks", "<", "Void", ",", "List", "<", "String", ">", ">", "(", "null", ")", "{", "@", "Override", "public", "List", "<", "String", ">", "doInBackground", "(", ")", "{", "List", "<", "String", ">", "retval", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "Uri", "uri", ":", "uris", ")", "{", "BufferedInputStream", "bufferedInputStream", "=", "null", ";", "try", "{", "bufferedInputStream", "=", "new", "BufferedInputStream", "(", "contentResolver", ".", "openInputStream", "(", "uri", ")", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "BufferedOutputStream", "bufferedOutputStream", "=", "null", ";", "try", "{", "DocumentFile", "documentFile", "=", "DocumentFile", ".", "fromSingleUri", "(", "mainActivity", ",", "uri", ")", ";", "String", "filename", "=", "documentFile", ".", "getName", "(", ")", ";", "if", "(", "filename", "=", "=", "null", ")", "{", "filename", "=", "uri", ".", "getLastPathSegment", "(", ")", ";", "if", "(", "filename", ".", "contains", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "filename", "=", "filename", ".", "substring", "(", "filename", ".", "lastIndexOf", "(", "<CHAR_LIT:/>", ")", "+", "1", ")", ";", "}", "String", "finalFilePath", "=", "currentPath", "+", "\"", "<STR_LIT:/>", "\"", "+", "filename", ";", "DataUtils", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "HybridFile", "hFile", "=", "new", "HybridFile", "(", "OpenMode", ".", "UNKNOWN", ",", "currentPath", ")", ";", "hFile", ".", "generateMode", "(", "mainActivity", ")", ";", "switch", "(", "hFile", ".", "getMode", "(", ")", ")", "{", "case", "FILE", ":", "case", "ROOT", ":", "File", "targetFile", "=", "new", "File", "(", "finalFilePath", ")", ";", "if", "(", "!", "FileUtil", ".", "isWritableNormalOrSaf", "(", "targetFile", ".", "getParentFile", "(", ")", ",", "mainActivity", ".", "getApplicationContext", "(", ")", ")", ")", "{", "AppConfig", ".", "toast", "(", "mainActivity", ",", "mainActivity", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "not_allowed", ")", ")", ";", "return", "null", ";", "}", "DocumentFile", "targetDocumentFile", "=", "getDocumentFile", "(", "targetFile", ",", "false", ",", "mainActivity", ".", "getApplicationContext", "(", ")", ")", ";", "if", "(", "targetDocumentFile", "=", "=", "null", ")", "targetDocumentFile", "=", "DocumentFile", ".", "fromFile", "(", "targetFile", ")", ";", "if", "(", "targetDocumentFile", ".", "exists", "(", ")", "&", "&", "targetDocumentFile", ".", "length", "(", ")", ">", "0", ")", "{", "AppConfig", ".", "toast", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "cannot_overwrite", ")", ")", ";", "return", "null", ";", "}", "bufferedOutputStream", "=", "new", "BufferedOutputStream", "(", "contentResolver", ".", "openOutputStream", "(", "targetDocumentFile", ".", "getUri", "(", ")", ")", ")", ";", "retval", ".", "add", "(", "targetFile", ".", "getPath", "(", ")", ")", ";", "break", ";", "case", "SMB", ":", "SmbFile", "targetSmbFile", "=", "new", "SmbFile", "(", "finalFilePath", ")", ";", "if", "(", "targetSmbFile", ".", "exists", "(", ")", ")", "{", "AppConfig", ".", "toast", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "cannot_overwrite", ")", ")", ";", "return", "null", ";", "}", "else", "{", "OutputStream", "outputStream", "=", "targetSmbFile", ".", "getOutputStream", "(", ")", ";", "bufferedOutputStream", "=", "new", "BufferedOutputStream", "(", "outputStream", ")", ";", "retval", ".", "add", "(", "mainActivity", ".", "mainActivityHelper", ".", "parseSmbPath", "(", "targetSmbFile", ".", "getPath", "(", ")", ")", ")", ";", "}", "break", ";", "case", "SFTP", ":", "AppConfig", ".", "toast", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "not_allowed", ")", ")", ";", "return", "null", ";", "case", "DROPBOX", ":", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "String", "path", "=", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "finalFilePath", ")", ";", "cloudStorageDropbox", ".", "upload", "(", "path", ",", "bufferedInputStream", ",", "documentFile", ".", "length", "(", ")", ",", "true", ")", ";", "retval", ".", "add", "(", "path", ")", ";", "break", ";", "case", "BOX", ":", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "path", "=", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "finalFilePath", ")", ";", "cloudStorageBox", ".", "upload", "(", "path", ",", "bufferedInputStream", ",", "documentFile", ".", "length", "(", ")", ",", "true", ")", ";", "retval", ".", "add", "(", "path", ")", ";", "break", ";", "case", "ONEDRIVE", ":", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "path", "=", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "finalFilePath", ")", ";", "cloudStorageOneDrive", ".", "upload", "(", "path", ",", "bufferedInputStream", ",", "documentFile", ".", "length", "(", ")", ",", "true", ")", ";", "retval", ".", "add", "(", "path", ")", ";", "break", ";", "case", "GDRIVE", ":", "CloudStorage", "cloudStorageGDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "path", "=", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "finalFilePath", ")", ";", "cloudStorageGDrive", ".", "upload", "(", "path", ",", "bufferedInputStream", ",", "documentFile", ".", "length", "(", ")", ",", "true", ")", ";", "retval", ".", "add", "(", "path", ")", ";", "break", ";", "case", "OTG", ":", "DocumentFile", "documentTargetFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "finalFilePath", ",", "mainActivity", ",", "true", ")", ";", "if", "(", "documentTargetFile", ".", "exists", "(", ")", ")", "{", "AppConfig", ".", "toast", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "cannot_overwrite", ")", ")", ";", "return", "null", ";", "}", "bufferedOutputStream", "=", "new", "BufferedOutputStream", "(", "contentResolver", ".", "openOutputStream", "(", "documentTargetFile", ".", "getUri", "(", ")", ")", ",", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", ")", ";", "retval", ".", "add", "(", "documentTargetFile", ".", "getUri", "(", ")", ".", "getPath", "(", ")", ")", ";", "break", ";", "default", ":", "return", "null", ";", "}", "int", "count", "=", "0", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "while", "(", "count", "!", "=", "-", "1", ")", "{", "count", "=", "bufferedInputStream", ".", "read", "(", "buffer", ")", ";", "if", "(", "count", "!", "=", "-", "1", ")", "{", "bufferedOutputStream", ".", "write", "(", "buffer", ",", "0", ",", "count", ")", ";", "}", "}", "bufferedOutputStream", ".", "flush", "(", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "finally", "{", "try", "{", "if", "(", "bufferedInputStream", "!", "=", "null", ")", "{", "bufferedInputStream", ".", "close", "(", ")", ";", "}", "if", "(", "bufferedOutputStream", "!", "=", "null", ")", "{", "bufferedOutputStream", ".", "close", "(", ")", ";", "}", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "return", "(", "retval", ".", "size", "(", ")", ">", "0", ")", "?", "retval", ":", "null", ";", "}", "@", "Override", "public", "void", "onPostExecute", "(", "List", "<", "String", ">", "result", ")", "{", "if", "(", "result", "!", "=", "null", ")", "{", "List", "<", "String", ">", "paths", "=", "(", "List", "<", "String", ">", ")", "result", ";", "if", "(", "paths", ".", "size", "(", ")", "=", "=", "1", ")", "{", "Toast", ".", "makeText", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "saved_single_file", ",", "paths", ".", "get", "(", "0", ")", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "saved_multi_files", ",", "paths", ".", "size", "(", ")", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "String", ">", "doInBackground", "(", ")", "{", "List", "<", "String", ">", "retval", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "Uri", "uri", ":", "uris", ")", "{", "BufferedInputStream", "bufferedInputStream", "=", "null", ";", "try", "{", "bufferedInputStream", "=", "new", "BufferedInputStream", "(", "contentResolver", ".", "openInputStream", "(", "uri", ")", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "BufferedOutputStream", "bufferedOutputStream", "=", "null", ";", "try", "{", "DocumentFile", "documentFile", "=", "DocumentFile", ".", "fromSingleUri", "(", "mainActivity", ",", "uri", ")", ";", "String", "filename", "=", "documentFile", ".", "getName", "(", ")", ";", "if", "(", "filename", "=", "=", "null", ")", "{", "filename", "=", "uri", ".", "getLastPathSegment", "(", ")", ";", "if", "(", "filename", ".", "contains", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "filename", "=", "filename", ".", "substring", "(", "filename", ".", "lastIndexOf", "(", "<CHAR_LIT:/>", ")", "+", "1", ")", ";", "}", "String", "finalFilePath", "=", "currentPath", "+", "\"", "<STR_LIT:/>", "\"", "+", "filename", ";", "DataUtils", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "HybridFile", "hFile", "=", "new", "HybridFile", "(", "OpenMode", ".", "UNKNOWN", ",", "currentPath", ")", ";", "hFile", ".", "generateMode", "(", "mainActivity", ")", ";", "switch", "(", "hFile", ".", "getMode", "(", ")", ")", "{", "case", "FILE", ":", "case", "ROOT", ":", "File", "targetFile", "=", "new", "File", "(", "finalFilePath", ")", ";", "if", "(", "!", "FileUtil", ".", "isWritableNormalOrSaf", "(", "targetFile", ".", "getParentFile", "(", ")", ",", "mainActivity", ".", "getApplicationContext", "(", ")", ")", ")", "{", "AppConfig", ".", "toast", "(", "mainActivity", ",", "mainActivity", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "not_allowed", ")", ")", ";", "return", "null", ";", "}", "DocumentFile", "targetDocumentFile", "=", "getDocumentFile", "(", "targetFile", ",", "false", ",", "mainActivity", ".", "getApplicationContext", "(", ")", ")", ";", "if", "(", "targetDocumentFile", "=", "=", "null", ")", "targetDocumentFile", "=", "DocumentFile", ".", "fromFile", "(", "targetFile", ")", ";", "if", "(", "targetDocumentFile", ".", "exists", "(", ")", "&", "&", "targetDocumentFile", ".", "length", "(", ")", ">", "0", ")", "{", "AppConfig", ".", "toast", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "cannot_overwrite", ")", ")", ";", "return", "null", ";", "}", "bufferedOutputStream", "=", "new", "BufferedOutputStream", "(", "contentResolver", ".", "openOutputStream", "(", "targetDocumentFile", ".", "getUri", "(", ")", ")", ")", ";", "retval", ".", "add", "(", "targetFile", ".", "getPath", "(", ")", ")", ";", "break", ";", "case", "SMB", ":", "SmbFile", "targetSmbFile", "=", "new", "SmbFile", "(", "finalFilePath", ")", ";", "if", "(", "targetSmbFile", ".", "exists", "(", ")", ")", "{", "AppConfig", ".", "toast", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "cannot_overwrite", ")", ")", ";", "return", "null", ";", "}", "else", "{", "OutputStream", "outputStream", "=", "targetSmbFile", ".", "getOutputStream", "(", ")", ";", "bufferedOutputStream", "=", "new", "BufferedOutputStream", "(", "outputStream", ")", ";", "retval", ".", "add", "(", "mainActivity", ".", "mainActivityHelper", ".", "parseSmbPath", "(", "targetSmbFile", ".", "getPath", "(", ")", ")", ")", ";", "}", "break", ";", "case", "SFTP", ":", "AppConfig", ".", "toast", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "not_allowed", ")", ")", ";", "return", "null", ";", "case", "DROPBOX", ":", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "String", "path", "=", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "finalFilePath", ")", ";", "cloudStorageDropbox", ".", "upload", "(", "path", ",", "bufferedInputStream", ",", "documentFile", ".", "length", "(", ")", ",", "true", ")", ";", "retval", ".", "add", "(", "path", ")", ";", "break", ";", "case", "BOX", ":", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "path", "=", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "finalFilePath", ")", ";", "cloudStorageBox", ".", "upload", "(", "path", ",", "bufferedInputStream", ",", "documentFile", ".", "length", "(", ")", ",", "true", ")", ";", "retval", ".", "add", "(", "path", ")", ";", "break", ";", "case", "ONEDRIVE", ":", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "path", "=", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "finalFilePath", ")", ";", "cloudStorageOneDrive", ".", "upload", "(", "path", ",", "bufferedInputStream", ",", "documentFile", ".", "length", "(", ")", ",", "true", ")", ";", "retval", ".", "add", "(", "path", ")", ";", "break", ";", "case", "GDRIVE", ":", "CloudStorage", "cloudStorageGDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "path", "=", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "finalFilePath", ")", ";", "cloudStorageGDrive", ".", "upload", "(", "path", ",", "bufferedInputStream", ",", "documentFile", ".", "length", "(", ")", ",", "true", ")", ";", "retval", ".", "add", "(", "path", ")", ";", "break", ";", "case", "OTG", ":", "DocumentFile", "documentTargetFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "finalFilePath", ",", "mainActivity", ",", "true", ")", ";", "if", "(", "documentTargetFile", ".", "exists", "(", ")", ")", "{", "AppConfig", ".", "toast", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "cannot_overwrite", ")", ")", ";", "return", "null", ";", "}", "bufferedOutputStream", "=", "new", "BufferedOutputStream", "(", "contentResolver", ".", "openOutputStream", "(", "documentTargetFile", ".", "getUri", "(", ")", ")", ",", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", ")", ";", "retval", ".", "add", "(", "documentTargetFile", ".", "getUri", "(", ")", ".", "getPath", "(", ")", ")", ";", "break", ";", "default", ":", "return", "null", ";", "}", "int", "count", "=", "0", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "while", "(", "count", "!", "=", "-", "1", ")", "{", "count", "=", "bufferedInputStream", ".", "read", "(", "buffer", ")", ";", "if", "(", "count", "!", "=", "-", "1", ")", "{", "bufferedOutputStream", ".", "write", "(", "buffer", ",", "0", ",", "count", ")", ";", "}", "}", "bufferedOutputStream", ".", "flush", "(", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "finally", "{", "try", "{", "if", "(", "bufferedInputStream", "!", "=", "null", ")", "{", "bufferedInputStream", ".", "close", "(", ")", ";", "}", "if", "(", "bufferedOutputStream", "!", "=", "null", ")", "{", "bufferedOutputStream", ".", "close", "(", ")", ";", "}", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "}", "return", "(", "retval", ".", "size", "(", ")", ">", "0", ")", "?", "retval", ":", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPostExecute", "(", "List", "<", "String", ">", "result", ")", "{", "if", "(", "result", "!", "=", "null", ")", "{", "List", "<", "String", ">", "paths", "=", "(", "List", "<", "String", ">", ")", "result", ";", "if", "(", "paths", ".", "size", "(", ")", "=", "=", "1", ")", "{", "Toast", ".", "makeText", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "saved_single_file", ",", "paths", ".", "get", "(", "0", ")", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "mainActivity", ",", "mainActivity", ".", "getString", "(", "R", ".", "string", ".", "saved_multi_files", ",", "paths", ".", "size", "(", ")", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "static", "boolean", "deleteFile", "(", "@", "NonNull", "final", "File", "file", ",", "Context", "context", ")", "{", "if", "(", "file", "=", "=", "null", ")", "return", "true", ";", "boolean", "fileDelete", "=", "rmdir", "(", "file", ",", "context", ")", ";", "if", "(", "file", ".", "delete", "(", ")", "|", "|", "fileDelete", ")", "return", "true", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", "&", "&", "FileUtil", ".", "isOnExtSdCard", "(", "file", ",", "context", ")", ")", "{", "DocumentFile", "document", "=", "getDocumentFile", "(", "file", ",", "false", ",", "context", ")", ";", "return", "document", ".", "delete", "(", ")", ";", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "ContentResolver", "resolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "try", "{", "Uri", "uri", "=", "MediaStoreHack", ".", "getUriFromFile", "(", "file", ".", "getAbsolutePath", "(", ")", ",", "context", ")", ";", "resolver", ".", "delete", "(", "uri", ",", "null", ",", "null", ")", ";", "return", "!", "file", ".", "exists", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "Log", ".", "e", "(", "LOG", ",", "\"", "<STR_LIT>", "\"", "+", "file", ".", "getAbsolutePath", "(", ")", ",", "e", ")", ";", "return", "false", ";", "}", "}", "return", "!", "file", ".", "exists", "(", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "rename", "(", "File", "f", ",", "String", "name", ",", "boolean", "root", ")", "throws", "ShellNotRunningException", "{", "String", "newPath", "=", "f", ".", "getParent", "(", ")", "+", "\"", "<STR_LIT:/>", "\"", "+", "name", ";", "if", "(", "f", ".", "getParentFile", "(", ")", ".", "canWrite", "(", ")", ")", "{", "return", "f", ".", "renameTo", "(", "new", "File", "(", "newPath", ")", ")", ";", "}", "else", "if", "(", "root", ")", "{", "RootUtils", ".", "rename", "(", "f", ".", "getPath", "(", ")", ",", "newPath", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "static", "boolean", "renameFolder", "(", "@", "NonNull", "final", "File", "source", ",", "@", "NonNull", "final", "File", "target", ",", "Context", "context", ")", "throws", "ShellNotRunningException", "{", "if", "(", "rename", "(", "source", ",", "target", ".", "getName", "(", ")", ",", "false", ")", ")", "{", "return", "true", ";", "}", "if", "(", "target", ".", "exists", "(", ")", ")", "{", "return", "false", ";", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", "&", "&", "source", ".", "getParent", "(", ")", ".", "equals", "(", "target", ".", "getParent", "(", ")", ")", "&", "&", "FileUtil", ".", "isOnExtSdCard", "(", "source", ",", "context", ")", ")", "{", "DocumentFile", "document", "=", "getDocumentFile", "(", "source", ",", "true", ",", "context", ")", ";", "if", "(", "document", ".", "renameTo", "(", "target", ".", "getName", "(", ")", ")", ")", "{", "return", "true", ";", "}", "}", "if", "(", "!", "mkdir", "(", "target", ",", "context", ")", ")", "{", "return", "false", ";", "}", "File", "[", "]", "sourceFiles", "=", "source", ".", "listFiles", "(", ")", ";", "if", "(", "sourceFiles", "=", "=", "null", ")", "{", "return", "true", ";", "}", "for", "(", "File", "sourceFile", ":", "sourceFiles", ")", "{", "String", "fileName", "=", "sourceFile", ".", "getName", "(", ")", ";", "File", "targetFile", "=", "new", "File", "(", "target", ",", "fileName", ")", ";", "if", "(", "!", "copyFile", "(", "sourceFile", ",", "targetFile", ",", "context", ")", ")", "{", "return", "false", ";", "}", "}", "for", "(", "File", "sourceFile", ":", "sourceFiles", ")", "{", "if", "(", "!", "deleteFile", "(", "sourceFile", ",", "context", ")", ")", "{", "return", "false", ";", "}", "}", "return", "true", ";", "}", "</s>"]
["<s>", "public", "static", "File", "getTempFile", "(", "@", "NonNull", "final", "File", "file", ",", "Context", "context", ")", "{", "File", "extDir", "=", "context", ".", "getExternalFilesDir", "(", "null", ")", ";", "return", "new", "File", "(", "extDir", ",", "file", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "mkdir", "(", "final", "File", "file", ",", "Context", "context", ")", "{", "if", "(", "file", "=", "=", "null", ")", "return", "false", ";", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "return", "file", ".", "isDirectory", "(", ")", ";", "}", "if", "(", "file", ".", "mkdirs", "(", ")", ")", "{", "return", "true", ";", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", "&", "&", "FileUtil", ".", "isOnExtSdCard", "(", "file", ",", "context", ")", ")", "{", "DocumentFile", "document", "=", "getDocumentFile", "(", "file", ",", "true", ",", "context", ")", ";", "return", "document", ".", "exists", "(", ")", ";", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "try", "{", "return", "MediaStoreHack", ".", "mkdir", "(", "context", ",", "file", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "return", "false", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "mkdirs", "(", "Context", "context", ",", "HybridFile", "file", ")", "{", "boolean", "isSuccessful", "=", "true", ";", "switch", "(", "file", ".", "mode", ")", "{", "case", "SMB", ":", "try", "{", "SmbFile", "smbFile", "=", "new", "SmbFile", "(", "file", ".", "getPath", "(", ")", ")", ";", "smbFile", ".", "mkdirs", "(", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "isSuccessful", "=", "false", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "isSuccessful", "=", "false", ";", "}", "break", ";", "case", "OTG", ":", "DocumentFile", "documentFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "file", ".", "getPath", "(", ")", ",", "context", ",", "true", ")", ";", "isSuccessful", "=", "documentFile", "!", "=", "null", ";", "break", ";", "case", "FILE", ":", "isSuccessful", "=", "mkdir", "(", "new", "File", "(", "file", ".", "getPath", "(", ")", ")", ",", "context", ")", ";", "break", ";", "default", ":", "isSuccessful", "=", "true", ";", "break", ";", "}", "return", "isSuccessful", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "mkfile", "(", "final", "File", "file", ",", "Context", "context", ")", "{", "if", "(", "file", "=", "=", "null", ")", "return", "false", ";", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "return", "!", "file", ".", "isDirectory", "(", ")", ";", "}", "try", "{", "if", "(", "file", ".", "createNewFile", "(", ")", ")", "{", "return", "true", ";", "}", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", "&", "&", "FileUtil", ".", "isOnExtSdCard", "(", "file", ",", "context", ")", ")", "{", "DocumentFile", "document", "=", "getDocumentFile", "(", "file", ".", "getParentFile", "(", ")", ",", "true", ",", "context", ")", ";", "try", "{", "return", "document", ".", "createFile", "(", "MimeTypes", ".", "getMimeType", "(", "file", ".", "getPath", "(", ")", ",", "file", ".", "isDirectory", "(", ")", ")", ",", "file", ".", "getName", "(", ")", ")", "!", "=", "null", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "return", "false", ";", "}", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "try", "{", "return", "MediaStoreHack", ".", "mkfile", "(", "context", ",", "file", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "return", "false", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "rmdir", "(", "@", "NonNull", "final", "File", "file", ",", "Context", "context", ")", "{", "if", "(", "!", "file", ".", "exists", "(", ")", ")", "return", "true", ";", "File", "[", "]", "files", "=", "file", ".", "listFiles", "(", ")", ";", "if", "(", "files", "!", "=", "null", "&", "&", "files", ".", "length", ">", "0", ")", "{", "for", "(", "File", "child", ":", "files", ")", "{", "rmdir", "(", "child", ",", "context", ")", ";", "}", "}", "if", "(", "file", ".", "delete", "(", ")", ")", "{", "return", "true", ";", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "DocumentFile", "document", "=", "getDocumentFile", "(", "file", ",", "true", ",", "context", ")", ";", "if", "(", "document", "!", "=", "null", "&", "&", "document", ".", "delete", "(", ")", ")", "{", "return", "true", ";", "}", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "ContentResolver", "resolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "DATA", ",", "file", ".", "getAbsolutePath", "(", ")", ")", ";", "resolver", ".", "insert", "(", "MediaStore", ".", "Images", ".", "Media", ".", "EXTERNAL_CONTENT_URI", ",", "values", ")", ";", "resolver", ".", "delete", "(", "MediaStore", ".", "Files", ".", "getContentUri", "(", "\"", "<STR_LIT>", "\"", ")", ",", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "file", ".", "getAbsolutePath", "(", ")", "}", ")", ";", "}", "return", "!", "file", ".", "exists", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isReadable", "(", "final", "File", "file", ")", "{", "if", "(", "file", "=", "=", "null", ")", "return", "false", ";", "if", "(", "!", "file", ".", "exists", "(", ")", ")", "return", "false", ";", "boolean", "result", ";", "try", "{", "result", "=", "file", ".", "canRead", "(", ")", ";", "}", "catch", "(", "SecurityException", "e", ")", "{", "return", "false", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isWritable", "(", "final", "File", "file", ")", "{", "if", "(", "file", "=", "=", "null", ")", "return", "false", ";", "boolean", "isExisting", "=", "file", ".", "exists", "(", ")", ";", "try", "{", "FileOutputStream", "output", "=", "new", "FileOutputStream", "(", "file", ",", "true", ")", ";", "try", "{", "output", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "}", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "return", "false", ";", "}", "boolean", "result", "=", "file", ".", "canWrite", "(", ")", ";", "if", "(", "!", "isExisting", ")", "{", "file", ".", "delete", "(", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isWritableNormalOrSaf", "(", "final", "File", "folder", ",", "Context", "c", ")", "{", "if", "(", "folder", "=", "=", "null", ")", "return", "false", ";", "if", "(", "!", "folder", ".", "exists", "(", ")", "|", "|", "!", "folder", ".", "isDirectory", "(", ")", ")", "{", "return", "false", ";", "}", "int", "i", "=", "0", ";", "File", "file", ";", "do", "{", "String", "fileName", "=", "\"", "<STR_LIT>", "\"", "+", "(", "+", "+", "i", ")", ";", "file", "=", "new", "File", "(", "folder", ",", "fileName", ")", ";", "}", "while", "(", "file", ".", "exists", "(", ")", ")", ";", "if", "(", "isWritable", "(", "file", ")", ")", "{", "return", "true", ";", "}", "DocumentFile", "document", "=", "getDocumentFile", "(", "file", ",", "false", ",", "c", ")", ";", "if", "(", "document", "=", "=", "null", ")", "{", "return", "false", ";", "}", "boolean", "result", "=", "document", ".", "canWrite", "(", ")", "&", "&", "file", ".", "exists", "(", ")", ";", "deleteFile", "(", "file", ",", "c", ")", ";", "return", "result", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "private", "static", "String", "[", "]", "getExtSdCardPaths", "(", "Context", "context", ")", "{", "List", "<", "String", ">", "paths", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "File", "file", ":", "context", ".", "getExternalFilesDirs", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "if", "(", "file", "!", "=", "null", "&", "&", "!", "file", ".", "equals", "(", "context", ".", "getExternalFilesDir", "(", "\"", "<STR_LIT>", "\"", ")", ")", ")", "{", "int", "index", "=", "file", ".", "getAbsolutePath", "(", ")", ".", "lastIndexOf", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "index", "<", "0", ")", "{", "Log", ".", "w", "(", "LOG", ",", "\"", "<STR_LIT>", "\"", "+", "file", ".", "getAbsolutePath", "(", ")", ")", ";", "}", "else", "{", "String", "path", "=", "file", ".", "getAbsolutePath", "(", ")", ".", "substring", "(", "0", ",", "index", ")", ";", "try", "{", "path", "=", "new", "File", "(", "path", ")", ".", "getCanonicalPath", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "}", "paths", ".", "add", "(", "path", ")", ";", "}", "}", "}", "if", "(", "paths", ".", "isEmpty", "(", ")", ")", "paths", ".", "add", "(", "\"", "<STR_LIT>", "\"", ")", ";", "return", "paths", ".", "toArray", "(", "new", "String", "[", "0", "]", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "public", "static", "String", "[", "]", "getExtSdCardPathsForActivity", "(", "Context", "context", ")", "{", "List", "<", "String", ">", "paths", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "File", "file", ":", "context", ".", "getExternalFilesDirs", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "if", "(", "file", "!", "=", "null", ")", "{", "int", "index", "=", "file", ".", "getAbsolutePath", "(", ")", ".", "lastIndexOf", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "index", "<", "0", ")", "{", "Log", ".", "w", "(", "LOG", ",", "\"", "<STR_LIT>", "\"", "+", "file", ".", "getAbsolutePath", "(", ")", ")", ";", "}", "else", "{", "String", "path", "=", "file", ".", "getAbsolutePath", "(", ")", ".", "substring", "(", "0", ",", "index", ")", ";", "try", "{", "path", "=", "new", "File", "(", "path", ")", ".", "getCanonicalPath", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "}", "paths", ".", "add", "(", "path", ")", ";", "}", "}", "}", "if", "(", "paths", ".", "isEmpty", "(", ")", ")", "paths", ".", "add", "(", "\"", "<STR_LIT>", "\"", ")", ";", "return", "paths", ".", "toArray", "(", "new", "String", "[", "0", "]", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "private", "static", "String", "getExtSdCardFolder", "(", "final", "File", "file", ",", "Context", "context", ")", "{", "String", "[", "]", "extSdPaths", "=", "getExtSdCardPaths", "(", "context", ")", ";", "try", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "extSdPaths", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "file", ".", "getCanonicalPath", "(", ")", ".", "startsWith", "(", "extSdPaths", "[", "i", "]", ")", ")", "{", "return", "extSdPaths", "[", "i", "]", ";", "}", "}", "}", "catch", "(", "IOException", "e", ")", "{", "return", "null", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "public", "static", "boolean", "isOnExtSdCard", "(", "final", "File", "file", ",", "Context", "c", ")", "{", "return", "getExtSdCardFolder", "(", "file", ",", "c", ")", "!", "=", "null", ";", "}", "</s>"]
["<s>", "public", "static", "DocumentFile", "getDocumentFile", "(", "final", "File", "file", ",", "final", "boolean", "isDirectory", ",", "Context", "context", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "<", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "return", "DocumentFile", ".", "fromFile", "(", "file", ")", ";", "String", "baseFolder", "=", "getExtSdCardFolder", "(", "file", ",", "context", ")", ";", "boolean", "originalDirectory", "=", "false", ";", "if", "(", "baseFolder", "=", "=", "null", ")", "{", "return", "null", ";", "}", "String", "relativePath", "=", "null", ";", "try", "{", "String", "fullPath", "=", "file", ".", "getCanonicalPath", "(", ")", ";", "if", "(", "!", "baseFolder", ".", "equals", "(", "fullPath", ")", ")", "relativePath", "=", "fullPath", ".", "substring", "(", "baseFolder", ".", "length", "(", ")", "+", "1", ")", ";", "else", "originalDirectory", "=", "true", ";", "}", "catch", "(", "IOException", "e", ")", "{", "return", "null", ";", "}", "catch", "(", "Exception", "f", ")", "{", "originalDirectory", "=", "true", ";", "}", "String", "as", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "context", ")", ".", "getString", "(", "PreferencesConstants", ".", "PREFERENCE_URI", ",", "null", ")", ";", "Uri", "treeUri", "=", "null", ";", "if", "(", "as", "!", "=", "null", ")", "treeUri", "=", "Uri", ".", "parse", "(", "as", ")", ";", "if", "(", "treeUri", "=", "=", "null", ")", "{", "return", "null", ";", "}", "DocumentFile", "document", "=", "DocumentFile", ".", "fromTreeUri", "(", "context", ",", "treeUri", ")", ";", "if", "(", "originalDirectory", ")", "return", "document", ";", "String", "[", "]", "parts", "=", "relativePath", ".", "split", "(", "\"", "<STR_LIT:\\\\>", "<STR_LIT:/>", "\"", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "parts", ".", "length", ";", "i", "+", "+", ")", "{", "DocumentFile", "nextDocument", "=", "document", ".", "findFile", "(", "parts", "[", "i", "]", ")", ";", "if", "(", "nextDocument", "=", "=", "null", ")", "{", "if", "(", "(", "i", "<", "parts", ".", "length", "-", "1", ")", "|", "|", "isDirectory", ")", "{", "nextDocument", "=", "document", ".", "createDirectory", "(", "parts", "[", "i", "]", ")", ";", "}", "else", "{", "nextDocument", "=", "document", ".", "createFile", "(", "\"", "<STR_LIT>", "\"", ",", "parts", "[", "i", "]", ")", ";", "}", "}", "document", "=", "nextDocument", ";", "}", "return", "document", ";", "}", "</s>"]
["<s>", "private", "static", "File", "copyDummyFile", "(", "final", "int", "resource", ",", "final", "String", "folderName", ",", "final", "String", "targetName", ",", "Context", "context", ")", "throws", "IOException", "{", "File", "externalFilesDir", "=", "context", ".", "getExternalFilesDir", "(", "folderName", ")", ";", "if", "(", "externalFilesDir", "=", "=", "null", ")", "{", "return", "null", ";", "}", "File", "targetFile", "=", "new", "File", "(", "externalFilesDir", ",", "targetName", ")", ";", "if", "(", "!", "targetFile", ".", "exists", "(", ")", ")", "{", "InputStream", "in", "=", "null", ";", "OutputStream", "out", "=", "null", ";", "try", "{", "in", "=", "context", ".", "getResources", "(", ")", ".", "openRawResource", "(", "resource", ")", ";", "out", "=", "new", "FileOutputStream", "(", "targetFile", ")", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "<NUM_LIT>", "]", ";", "int", "bytesRead", ";", "while", "(", "(", "bytesRead", "=", "in", ".", "read", "(", "buffer", ")", ")", "!", "=", "-", "1", ")", "{", "out", ".", "write", "(", "buffer", ",", "0", ",", "bytesRead", ")", ";", "}", "}", "finally", "{", "if", "(", "in", "!", "=", "null", ")", "{", "try", "{", "in", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "ex", ")", "{", "}", "}", "if", "(", "out", "!", "=", "null", ")", "{", "try", "{", "out", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "ex", ")", "{", "}", "}", "}", "}", "return", "targetFile", ";", "}", "</s>"]
["<s>", "public", "static", "int", "checkFolder", "(", "final", "String", "f", ",", "Context", "context", ")", "{", "if", "(", "f", "=", "=", "null", ")", "return", "0", ";", "if", "(", "f", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "f", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "f", ".", "startsWith", "(", "OTGUtil", ".", "PREFIX_OTG", ")", "|", "|", "f", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", ")", "|", "|", "f", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", ")", "|", "|", "f", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", ")", "|", "|", "f", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", ")", ")", "return", "1", ";", "File", "folder", "=", "new", "File", "(", "f", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", "&", "&", "FileUtil", ".", "isOnExtSdCard", "(", "folder", ",", "context", ")", ")", "{", "if", "(", "!", "folder", ".", "exists", "(", ")", "|", "|", "!", "folder", ".", "isDirectory", "(", ")", ")", "{", "return", "0", ";", "}", "if", "(", "FileUtil", ".", "isWritableNormalOrSaf", "(", "folder", ",", "context", ")", ")", "{", "return", "1", ";", "}", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "<NUM_LIT>", "&", "&", "FileUtil", ".", "isOnExtSdCard", "(", "folder", ",", "context", ")", ")", "{", "return", "1", ";", "}", "else", "if", "(", "folder", ".", "canWrite", "(", ")", ")", "{", "return", "1", ";", "}", "else", "{", "return", "0", ";", "}", "return", "0", ";", "}", "</s>"]
["<s>", "private", "static", "File", "copyDummyFiles", "(", "Context", "c", ")", "{", "try", "{", "copyDummyFile", "(", "R", ".", "mipmap", ".", "ic_launcher", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "c", ")", ";", "return", "copyDummyFile", "(", "R", ".", "raw", ".", "temptrack", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "c", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "e", "(", "LOG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "return", "null", ";", "}", "}", "</s>"]
["<s>", "private", "static", "File", "getExternalFilesDir", "(", "Context", "context", ")", "{", "try", "{", "Method", "method", "=", "Context", ".", "class", ".", "getMethod", "(", "\"", "<STR_LIT>", "\"", ",", "String", ".", "class", ")", ";", "return", "(", "File", ")", "method", ".", "invoke", "(", "context", ",", "(", "String", ")", "null", ")", ";", "}", "catch", "(", "SecurityException", "ex", ")", "{", "return", "null", ";", "}", "catch", "(", "NoSuchMethodException", "ex", ")", "{", "return", "null", ";", "}", "catch", "(", "IllegalArgumentException", "ex", ")", "{", "return", "null", ";", "}", "catch", "(", "IllegalAccessException", "ex", ")", "{", "return", "null", ";", "}", "catch", "(", "InvocationTargetException", "ex", ")", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "MediaFile", "(", "Context", "context", ",", "File", "file", ")", "{", "this", ".", "file", "=", "file", ";", "this", ".", "context", "=", "context", ";", "contentResolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "filesUri", "=", "MediaStore", ".", "Files", ".", "getContentUri", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "delete", "(", ")", "{", "if", "(", "!", "file", ".", "exists", "(", ")", ")", "{", "return", "true", ";", "}", "boolean", "directory", "=", "file", ".", "isDirectory", "(", ")", ";", "if", "(", "directory", ")", "{", "String", "[", "]", "files", "=", "file", ".", "list", "(", ")", ";", "if", "(", "files", "!", "=", "null", "&", "&", "files", ".", "length", ">", "0", ")", "{", "return", "false", ";", "}", "}", "String", "where", "=", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ";", "String", "[", "]", "selectionArgs", "=", "new", "String", "[", "]", "{", "file", ".", "getAbsolutePath", "(", ")", "}", ";", "contentResolver", ".", "delete", "(", "filesUri", ",", "where", ",", "selectionArgs", ")", ";", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "DATA", ",", "file", ".", "getAbsolutePath", "(", ")", ")", ";", "contentResolver", ".", "insert", "(", "MediaStore", ".", "Images", ".", "Media", ".", "EXTERNAL_CONTENT_URI", ",", "values", ")", ";", "contentResolver", ".", "delete", "(", "filesUri", ",", "where", ",", "selectionArgs", ")", ";", "}", "return", "!", "file", ".", "exists", "(", ")", ";", "}", "</s>"]
["<s>", "public", "File", "getFile", "(", ")", "{", "return", "file", ";", "}", "</s>"]
["<s>", "private", "int", "getTemporaryAlbumId", "(", ")", "{", "final", "File", "temporaryTrack", ";", "try", "{", "temporaryTrack", "=", "installTemporaryTrack", "(", ")", ";", "}", "catch", "(", "IOException", "ex", ")", "{", "return", "0", ";", "}", "final", "String", "[", "]", "selectionArgs", "=", "{", "temporaryTrack", ".", "getAbsolutePath", "(", ")", "}", ";", "Cursor", "cursor", "=", "contentResolver", ".", "query", "(", "filesUri", ",", "ALBUM_PROJECTION", ",", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ",", "selectionArgs", ",", "null", ")", ";", "if", "(", "cursor", "=", "=", "null", "|", "|", "!", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "if", "(", "cursor", "!", "=", "null", ")", "{", "cursor", ".", "close", "(", ")", ";", "cursor", "=", "null", ";", "}", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "DATA", ",", "temporaryTrack", ".", "getAbsolutePath", "(", ")", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "TITLE", ",", "\"", "<STR_LIT>", "\"", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "SIZE", ",", "temporaryTrack", ".", "length", "(", ")", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "MIME_TYPE", ",", "\"", "<STR_LIT>", "\"", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "Audio", ".", "AudioColumns", ".", "IS_MUSIC", ",", "true", ")", ";", "contentResolver", ".", "insert", "(", "filesUri", ",", "values", ")", ";", "}", "cursor", "=", "contentResolver", ".", "query", "(", "filesUri", ",", "ALBUM_PROJECTION", ",", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ",", "selectionArgs", ",", "null", ")", ";", "if", "(", "cursor", "=", "=", "null", ")", "{", "return", "0", ";", "}", "if", "(", "!", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "cursor", ".", "close", "(", ")", ";", "return", "0", ";", "}", "int", "id", "=", "cursor", ".", "getInt", "(", "0", ")", ";", "int", "albumId", "=", "cursor", ".", "getInt", "(", "1", ")", ";", "int", "mediaType", "=", "cursor", ".", "getInt", "(", "<NUM_LIT:2>", ")", ";", "cursor", ".", "close", "(", ")", ";", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "boolean", "updateRequired", "=", "false", ";", "if", "(", "albumId", "=", "=", "0", ")", "{", "values", ".", "put", "(", "MediaStore", ".", "Audio", ".", "AlbumColumns", ".", "ALBUM_ID", ",", "<NUM_LIT>", ")", ";", "updateRequired", "=", "true", ";", "}", "if", "(", "mediaType", "!", "=", "<NUM_LIT:2>", ")", "{", "values", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT:2>", ")", ";", "updateRequired", "=", "true", ";", "}", "if", "(", "updateRequired", ")", "{", "contentResolver", ".", "update", "(", "filesUri", ",", "values", ",", "BaseColumns", ".", "_ID", "+", "\"", "<STR_LIT:=>", "\"", "+", "id", ",", "null", ")", ";", "}", "cursor", "=", "contentResolver", ".", "query", "(", "filesUri", ",", "ALBUM_PROJECTION", ",", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ",", "selectionArgs", ",", "null", ")", ";", "if", "(", "cursor", "=", "=", "null", ")", "{", "return", "0", ";", "}", "try", "{", "if", "(", "!", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "return", "0", ";", "}", "return", "cursor", ".", "getInt", "(", "1", ")", ";", "}", "finally", "{", "cursor", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "File", "installTemporaryTrack", "(", ")", "throws", "IOException", "{", "File", "externalFilesDir", "=", "getExternalFilesDir", "(", "context", ")", ";", "if", "(", "externalFilesDir", "=", "=", "null", ")", "{", "return", "null", ";", "}", "File", "temporaryTrack", "=", "new", "File", "(", "externalFilesDir", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "!", "temporaryTrack", ".", "exists", "(", ")", ")", "{", "InputStream", "in", "=", "null", ";", "OutputStream", "out", "=", "null", ";", "try", "{", "in", "=", "context", ".", "getResources", "(", ")", ".", "openRawResource", "(", "R", ".", "raw", ".", "temptrack", ")", ";", "out", "=", "new", "FileOutputStream", "(", "temporaryTrack", ")", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "<NUM_LIT>", "]", ";", "int", "bytesRead", ";", "while", "(", "(", "bytesRead", "=", "in", ".", "read", "(", "buffer", ")", ")", "!", "=", "-", "1", ")", "{", "out", ".", "write", "(", "buffer", ",", "0", ",", "bytesRead", ")", ";", "}", "}", "finally", "{", "if", "(", "in", "!", "=", "null", ")", "{", "try", "{", "in", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "ex", ")", "{", "return", "null", ";", "}", "}", "if", "(", "out", "!", "=", "null", ")", "{", "try", "{", "out", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "ex", ")", "{", "return", "null", ";", "}", "}", "}", "}", "return", "temporaryTrack", ";", "}", "</s>"]
["<s>", "public", "boolean", "mkdir", "(", ")", "throws", "IOException", "{", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "return", "file", ".", "isDirectory", "(", ")", ";", "}", "File", "tmpFile", "=", "new", "File", "(", "file", ",", "\"", "<STR_LIT>", "\"", ")", ";", "int", "albumId", "=", "getTemporaryAlbumId", "(", ")", ";", "if", "(", "albumId", "=", "=", "0", ")", "{", "throw", "new", "IOException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "Uri", "albumUri", "=", "Uri", ".", "parse", "(", "ALBUM_ART_URI", "+", "<CHAR_LIT:/>", "+", "albumId", ")", ";", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "DATA", ",", "tmpFile", ".", "getAbsolutePath", "(", ")", ")", ";", "if", "(", "contentResolver", ".", "update", "(", "albumUri", ",", "values", ",", "null", ",", "null", ")", "=", "=", "0", ")", "{", "values", ".", "put", "(", "MediaStore", ".", "Audio", ".", "AlbumColumns", ".", "ALBUM_ID", ",", "albumId", ")", ";", "contentResolver", ".", "insert", "(", "Uri", ".", "parse", "(", "ALBUM_ART_URI", ")", ",", "values", ")", ";", "}", "try", "{", "ParcelFileDescriptor", "fd", "=", "contentResolver", ".", "openFileDescriptor", "(", "albumUri", ",", "\"", "<STR_LIT>", "\"", ")", ";", "fd", ".", "close", "(", ")", ";", "}", "finally", "{", "MediaFile", "tmpMediaFile", "=", "new", "MediaFile", "(", "context", ",", "tmpFile", ")", ";", "tmpMediaFile", ".", "delete", "(", ")", ";", "}", "return", "file", ".", "exists", "(", ")", ";", "}", "</s>"]
["<s>", "public", "OutputStream", "write", "(", "long", "size", ")", "throws", "IOException", "{", "if", "(", "NO_MEDIA", ".", "equals", "(", "file", ".", "getName", "(", ")", ".", "trim", "(", ")", ")", ")", "{", "throw", "new", "IOException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "file", ".", "exists", "(", ")", "&", "&", "file", ".", "isDirectory", "(", ")", ")", "{", "throw", "new", "IOException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "String", "where", "=", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ";", "String", "[", "]", "selectionArgs", "=", "new", "String", "[", "]", "{", "file", ".", "getAbsolutePath", "(", ")", "}", ";", "contentResolver", ".", "delete", "(", "filesUri", ",", "where", ",", "selectionArgs", ")", ";", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "DATA", ",", "file", ".", "getAbsolutePath", "(", ")", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "SIZE", ",", "size", ")", ";", "Uri", "uri", "=", "contentResolver", ".", "insert", "(", "filesUri", ",", "values", ")", ";", "if", "(", "uri", "=", "=", "null", ")", "{", "throw", "new", "IOException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "return", "contentResolver", ".", "openOutputStream", "(", "uri", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isValidFilename", "(", "String", "text", ")", "{", "return", "(", "!", "FILENAME_REGEX", ".", "matcher", "(", "text", ")", ".", "find", "(", ")", ")", "&", "&", "!", "\"", "<STR_LIT:.>", "\"", ".", "equals", "(", "text", ")", "&", "&", "!", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "text", ")", ";", "}", "</s>"]
["<s>", "public", "static", "SingletonUsbOtg", "getInstance", "(", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "instance", "=", "new", "SingletonUsbOtg", "(", ")", ";", "return", "instance", ";", "}", "</s>"]
["<s>", "private", "SingletonUsbOtg", "(", ")", "{", "}", "</s>"]
["<s>", "public", "void", "setUsbOtgRoot", "(", "@", "Nullable", "Uri", "root", ")", "{", "usbOtgRoot", "=", "root", ";", "}", "</s>"]
["<s>", "public", "@", "Nullable", "Uri", "getUsbOtgRoot", "(", ")", "{", "return", "usbOtgRoot", ";", "}", "</s>"]
["<s>", "public", "void", "setHasRootBeenRequested", "(", "boolean", "hasRootBeenRequested", ")", "{", "this", ".", "hasRootBeenRequested", "=", "hasRootBeenRequested", ";", "}", "</s>"]
["<s>", "public", "boolean", "hasRootBeenRequested", "(", ")", "{", "return", "hasRootBeenRequested", ";", "}", "</s>"]
["<s>", "public", "HybridFile", "(", "OpenMode", "mode", ",", "String", "path", ")", "{", "this", ".", "path", "=", "path", ";", "this", ".", "mode", "=", "mode", ";", "}", "</s>"]
["<s>", "public", "HybridFile", "(", "OpenMode", "mode", ",", "String", "path", ",", "String", "name", ",", "boolean", "isDirectory", ")", "{", "this", ".", "mode", "=", "mode", ";", "if", "(", "path", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "isSmb", "(", ")", ")", "{", "if", "(", "!", "isDirectory", ")", "this", ".", "path", "=", "path", "+", "name", ";", "else", "if", "(", "!", "name", ".", "endsWith", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", "this", ".", "path", "=", "path", "+", "name", "+", "\"", "<STR_LIT:/>", "\"", ";", "else", "this", ".", "path", "=", "path", "+", "name", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "isSftp", "(", ")", ")", "{", "this", ".", "path", "=", "path", "+", "\"", "<STR_LIT:/>", "\"", "+", "name", ";", "}", "else", "this", ".", "path", "=", "path", "+", "\"", "<STR_LIT:/>", "\"", "+", "name", ";", "}", "</s>"]
["<s>", "public", "void", "generateMode", "(", "Context", "context", ")", "{", "if", "(", "path", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "mode", "=", "OpenMode", ".", "SMB", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "mode", "=", "OpenMode", ".", "SFTP", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "OTGUtil", ".", "PREFIX_OTG", ")", ")", "{", "mode", "=", "OpenMode", ".", "OTG", ";", "}", "else", "if", "(", "isCustomPath", "(", ")", ")", "{", "mode", "=", "OpenMode", ".", "CUSTOM", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_BOX", ")", ")", "{", "mode", "=", "OpenMode", ".", "BOX", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_ONE_DRIVE", ")", ")", "{", "mode", "=", "OpenMode", ".", "ONEDRIVE", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_GOOGLE_DRIVE", ")", ")", "{", "mode", "=", "OpenMode", ".", "GDRIVE", ";", "}", "else", "if", "(", "path", ".", "startsWith", "(", "CloudHandler", ".", "CLOUD_PREFIX_DROPBOX", ")", ")", "{", "mode", "=", "OpenMode", ".", "DROPBOX", ";", "}", "else", "if", "(", "context", "=", "=", "null", ")", "{", "mode", "=", "OpenMode", ".", "FILE", ";", "}", "else", "{", "boolean", "rootmode", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "context", ")", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_ROOTMODE", ",", "false", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "<", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "mode", "=", "OpenMode", ".", "FILE", ";", "if", "(", "rootmode", "&", "&", "!", "getFile", "(", ")", ".", "canRead", "(", ")", ")", "{", "mode", "=", "OpenMode", ".", "ROOT", ";", "}", "}", "else", "{", "if", "(", "FileUtil", ".", "isOnExtSdCard", "(", "getFile", "(", ")", ",", "context", ")", ")", "{", "mode", "=", "OpenMode", ".", "FILE", ";", "}", "else", "if", "(", "rootmode", "&", "&", "!", "getFile", "(", ")", ".", "canRead", "(", ")", ")", "{", "mode", "=", "OpenMode", ".", "ROOT", ";", "}", "if", "(", "mode", "=", "=", "OpenMode", ".", "UNKNOWN", ")", "{", "mode", "=", "OpenMode", ".", "FILE", ";", "}", "}", "}", "}", "</s>"]
["<s>", "public", "void", "setMode", "(", "OpenMode", "mode", ")", "{", "this", ".", "mode", "=", "mode", ";", "}", "</s>"]
["<s>", "public", "OpenMode", "getMode", "(", ")", "{", "return", "mode", ";", "}", "</s>"]
["<s>", "public", "void", "setPath", "(", "String", "path", ")", "{", "this", ".", "path", "=", "path", ";", "}", "</s>"]
["<s>", "public", "boolean", "isLocal", "(", ")", "{", "return", "mode", "=", "=", "OpenMode", ".", "FILE", ";", "}", "</s>"]
["<s>", "public", "boolean", "isRoot", "(", ")", "{", "return", "mode", "=", "=", "OpenMode", ".", "ROOT", ";", "}", "</s>"]
["<s>", "public", "boolean", "isSmb", "(", ")", "{", "return", "mode", "=", "=", "OpenMode", ".", "SMB", ";", "}", "</s>"]
["<s>", "public", "boolean", "isSftp", "(", ")", "{", "return", "mode", "=", "=", "OpenMode", ".", "SFTP", ";", "}", "</s>"]
["<s>", "public", "boolean", "isOtgFile", "(", ")", "{", "return", "mode", "=", "=", "OpenMode", ".", "OTG", ";", "}", "</s>"]
["<s>", "public", "boolean", "isBoxFile", "(", ")", "{", "return", "mode", "=", "=", "OpenMode", ".", "BOX", ";", "}", "</s>"]
["<s>", "public", "boolean", "isDropBoxFile", "(", ")", "{", "return", "mode", "=", "=", "OpenMode", ".", "DROPBOX", ";", "}", "</s>"]
["<s>", "public", "boolean", "isOneDriveFile", "(", ")", "{", "return", "mode", "=", "=", "OpenMode", ".", "ONEDRIVE", ";", "}", "</s>"]
["<s>", "public", "boolean", "isGoogleDriveFile", "(", ")", "{", "return", "mode", "=", "=", "OpenMode", ".", "GDRIVE", ";", "}", "</s>"]
["<s>", "public", "File", "getFile", "(", ")", "{", "return", "new", "File", "(", "path", ")", ";", "}", "</s>"]
["<s>", "HybridFileParcelable", "generateBaseFileFromParent", "(", ")", "{", "ArrayList", "<", "HybridFileParcelable", ">", "arrayList", "=", "RootHelper", ".", "getFilesList", "(", "getFile", "(", ")", ".", "getParent", "(", ")", ",", "true", ",", "true", ",", "null", ")", ";", "for", "(", "HybridFileParcelable", "baseFile", ":", "arrayList", ")", "{", "if", "(", "baseFile", ".", "getPath", "(", ")", ".", "equals", "(", "path", ")", ")", "return", "baseFile", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "long", "lastModified", "(", ")", "throws", "SmbException", "{", "switch", "(", "mode", ")", "{", "case", "SFTP", ":", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ")", "{", "@", "Override", "public", "Long", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "return", "client", ".", "mtime", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "}", "}", ")", ";", "break", ";", "case", "SMB", ":", "SmbFile", "smbFile", "=", "getSmbFile", "(", ")", ";", "if", "(", "smbFile", "!", "=", "null", ")", "return", "smbFile", ".", "lastModified", "(", ")", ";", "break", ";", "case", "FILE", ":", "new", "File", "(", "path", ")", ".", "lastModified", "(", ")", ";", "break", ";", "case", "ROOT", ":", "HybridFileParcelable", "baseFile", "=", "generateBaseFileFromParent", "(", ")", ";", "if", "(", "baseFile", "!", "=", "null", ")", "return", "baseFile", ".", "getDate", "(", ")", ";", "}", "return", "new", "File", "(", "\"", "<STR_LIT:/>", "\"", ")", ".", "lastModified", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Long", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "return", "client", ".", "mtime", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "}", "</s>"]
["<s>", "public", "long", "length", "(", ")", "{", "long", "s", "=", "0", "L", ";", "switch", "(", "mode", ")", "{", "case", "SFTP", ":", "return", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ")", "{", "@", "Override", "public", "Long", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "return", "client", ".", "size", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "}", "}", ")", ";", "case", "SMB", ":", "SmbFile", "smbFile", "=", "getSmbFile", "(", ")", ";", "if", "(", "smbFile", "!", "=", "null", ")", "try", "{", "s", "=", "smbFile", ".", "length", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "}", "return", "s", ";", "case", "FILE", ":", "s", "=", "new", "File", "(", "path", ")", ".", "length", "(", ")", ";", "return", "s", ";", "case", "ROOT", ":", "HybridFileParcelable", "baseFile", "=", "generateBaseFileFromParent", "(", ")", ";", "if", "(", "baseFile", "!", "=", "null", ")", "return", "baseFile", ".", "getSize", "(", ")", ";", "break", ";", "}", "return", "s", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Long", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "return", "client", ".", "size", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "}", "</s>"]
["<s>", "public", "long", "length", "(", "Context", "context", ")", "{", "long", "s", "=", "0", "l", ";", "switch", "(", "mode", ")", "{", "case", "SFTP", ":", "return", "(", "(", "HybridFileParcelable", ")", "this", ")", ".", "getSize", "(", ")", ";", "case", "SMB", ":", "SmbFile", "smbFile", "=", "getSmbFile", "(", ")", ";", "if", "(", "smbFile", "!", "=", "null", ")", "try", "{", "s", "=", "smbFile", ".", "length", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "}", "return", "s", ";", "case", "FILE", ":", "s", "=", "new", "File", "(", "path", ")", ".", "length", "(", ")", ";", "return", "s", ";", "case", "ROOT", ":", "HybridFileParcelable", "baseFile", "=", "generateBaseFileFromParent", "(", ")", ";", "if", "(", "baseFile", "!", "=", "null", ")", "return", "baseFile", ".", "getSize", "(", ")", ";", "break", ";", "case", "OTG", ":", "s", "=", "OTGUtil", ".", "getDocumentFile", "(", "path", ",", "context", ",", "false", ")", ".", "length", "(", ")", ";", "break", ";", "case", "DROPBOX", ":", "s", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ".", "getMetadata", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "path", ")", ")", ".", "getSize", "(", ")", ";", "break", ";", "case", "BOX", ":", "s", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ".", "getMetadata", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "path", ")", ")", ".", "getSize", "(", ")", ";", "break", ";", "case", "ONEDRIVE", ":", "s", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ".", "getMetadata", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "path", ")", ")", ".", "getSize", "(", ")", ";", "break", ";", "case", "GDRIVE", ":", "s", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ".", "getMetadata", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "path", ")", ")", ".", "getSize", "(", ")", ";", "break", ";", "default", ":", "break", ";", "}", "return", "s", ";", "}", "</s>"]
["<s>", "public", "String", "getPath", "(", ")", "{", "return", "path", ";", "}", "</s>"]
["<s>", "public", "String", "getName", "(", ")", "{", "String", "name", "=", "null", ";", "switch", "(", "mode", ")", "{", "case", "SMB", ":", "SmbFile", "smbFile", "=", "getSmbFile", "(", ")", ";", "if", "(", "smbFile", "!", "=", "null", ")", "return", "smbFile", ".", "getName", "(", ")", ";", "break", ";", "case", "FILE", ":", "return", "new", "File", "(", "path", ")", ".", "getName", "(", ")", ";", "case", "ROOT", ":", "return", "new", "File", "(", "path", ")", ".", "getName", "(", ")", ";", "default", ":", "StringBuilder", "builder", "=", "new", "StringBuilder", "(", "path", ")", ";", "name", "=", "builder", ".", "substring", "(", "builder", ".", "lastIndexOf", "(", "\"", "<STR_LIT:/>", "\"", ")", "+", "1", ",", "builder", ".", "length", "(", ")", ")", ";", "}", "return", "name", ";", "}", "</s>"]
["<s>", "public", "String", "getName", "(", "Context", "context", ")", "{", "String", "name", "=", "null", ";", "switch", "(", "mode", ")", "{", "case", "SMB", ":", "SmbFile", "smbFile", "=", "getSmbFile", "(", ")", ";", "if", "(", "smbFile", "!", "=", "null", ")", "return", "smbFile", ".", "getName", "(", ")", ";", "break", ";", "case", "FILE", ":", "return", "new", "File", "(", "path", ")", ".", "getName", "(", ")", ";", "case", "ROOT", ":", "return", "new", "File", "(", "path", ")", ".", "getName", "(", ")", ";", "case", "OTG", ":", "return", "OTGUtil", ".", "getDocumentFile", "(", "path", ",", "context", ",", "false", ")", ".", "getName", "(", ")", ";", "default", ":", "StringBuilder", "builder", "=", "new", "StringBuilder", "(", "path", ")", ";", "name", "=", "builder", ".", "substring", "(", "builder", ".", "lastIndexOf", "(", "\"", "<STR_LIT:/>", "\"", ")", "+", "1", ",", "builder", ".", "length", "(", ")", ")", ";", "}", "return", "name", ";", "}", "</s>"]
["<s>", "public", "SmbFile", "getSmbFile", "(", "int", "timeout", ")", "{", "try", "{", "SmbFile", "smbFile", "=", "new", "SmbFile", "(", "path", ")", ";", "smbFile", ".", "setConnectTimeout", "(", "timeout", ")", ";", "return", "smbFile", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "public", "SmbFile", "getSmbFile", "(", ")", "{", "try", "{", "return", "new", "SmbFile", "(", "path", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "public", "boolean", "isCustomPath", "(", ")", "{", "return", "path", ".", "equals", "(", "\"", "<STR_LIT:0>", "\"", ")", "|", "|", "path", ".", "equals", "(", "\"", "<STR_LIT:1>", "\"", ")", "|", "|", "path", ".", "equals", "(", "\"", "<STR_LIT:2>", "\"", ")", "|", "|", "path", ".", "equals", "(", "\"", "<STR_LIT:3>", "\"", ")", "|", "|", "path", ".", "equals", "(", "\"", "<STR_LIT:4>", "\"", ")", "|", "|", "path", ".", "equals", "(", "\"", "<STR_LIT:5>", "\"", ")", "|", "|", "path", ".", "equals", "(", "\"", "<STR_LIT:6>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "String", "getParent", "(", ")", "{", "String", "parentPath", "=", "\"", "\"", ";", "switch", "(", "mode", ")", "{", "case", "SMB", ":", "try", "{", "parentPath", "=", "new", "SmbFile", "(", "path", ")", ".", "getParent", "(", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "parentPath", "=", "\"", "\"", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "FILE", ":", "case", "ROOT", ":", "parentPath", "=", "new", "File", "(", "path", ")", ".", "getParent", "(", ")", ";", "break", ";", "default", ":", "StringBuilder", "builder", "=", "new", "StringBuilder", "(", "path", ")", ";", "return", "builder", ".", "substring", "(", "0", ",", "builder", ".", "length", "(", ")", "-", "(", "getName", "(", ")", ".", "length", "(", ")", "+", "1", ")", ")", ";", "}", "return", "parentPath", ";", "}", "</s>"]
["<s>", "public", "String", "getParent", "(", "Context", "context", ")", "{", "String", "parentPath", "=", "\"", "\"", ";", "switch", "(", "mode", ")", "{", "case", "SMB", ":", "try", "{", "parentPath", "=", "new", "SmbFile", "(", "path", ")", ".", "getParent", "(", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "parentPath", "=", "\"", "\"", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "FILE", ":", "case", "ROOT", ":", "parentPath", "=", "new", "File", "(", "path", ")", ".", "getParent", "(", ")", ";", "break", ";", "case", "OTG", ":", "default", ":", "StringBuilder", "builder", "=", "new", "StringBuilder", "(", "path", ")", ";", "StringBuilder", "parentPathBuilder", "=", "new", "StringBuilder", "(", "builder", ".", "substring", "(", "0", ",", "builder", ".", "length", "(", ")", "-", "(", "getName", "(", "context", ")", ".", "length", "(", ")", "+", "1", ")", ")", ")", ";", "return", "parentPathBuilder", ".", "toString", "(", ")", ";", "}", "return", "parentPath", ";", "}", "</s>"]
["<s>", "public", "String", "getParentName", "(", ")", "{", "StringBuilder", "builder", "=", "new", "StringBuilder", "(", "path", ")", ";", "StringBuilder", "parentPath", "=", "new", "StringBuilder", "(", "builder", ".", "substring", "(", "0", ",", "builder", ".", "length", "(", ")", "-", "(", "getName", "(", ")", ".", "length", "(", ")", "+", "1", ")", ")", ")", ";", "String", "parentName", "=", "parentPath", ".", "substring", "(", "parentPath", ".", "lastIndexOf", "(", "\"", "<STR_LIT:/>", "\"", ")", "+", "1", ",", "parentPath", ".", "length", "(", ")", ")", ";", "return", "parentName", ";", "}", "</s>"]
["<s>", "public", "boolean", "isDirectory", "(", ")", "{", "boolean", "isDirectory", ";", "switch", "(", "mode", ")", "{", "case", "SFTP", ":", "return", "isDirectory", "(", "AppConfig", ".", "getInstance", "(", ")", ")", ";", "case", "SMB", ":", "try", "{", "isDirectory", "=", "new", "SmbFile", "(", "path", ")", ".", "isDirectory", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "isDirectory", "=", "false", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "isDirectory", "=", "false", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "FILE", ":", "isDirectory", "=", "new", "File", "(", "path", ")", ".", "isDirectory", "(", ")", ";", "break", ";", "case", "ROOT", ":", "try", "{", "isDirectory", "=", "RootHelper", ".", "isDirectory", "(", "path", ",", "true", ",", "<NUM_LIT:5>", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "isDirectory", "=", "false", ";", "}", "break", ";", "case", "OTG", ":", "isDirectory", "=", "false", ";", "break", ";", "default", ":", "isDirectory", "=", "new", "File", "(", "path", ")", ".", "isDirectory", "(", ")", ";", "break", ";", "}", "return", "isDirectory", ";", "}", "</s>"]
["<s>", "public", "boolean", "isDirectory", "(", "Context", "context", ")", "{", "boolean", "isDirectory", ";", "switch", "(", "mode", ")", "{", "case", "SFTP", ":", "return", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ")", "{", "@", "Override", "public", "Boolean", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "try", "{", "return", "client", ".", "stat", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ".", "getType", "(", ")", ".", "equals", "(", "FileMode", ".", "Type", ".", "DIRECTORY", ")", ";", "}", "catch", "(", "SFTPException", "notFound", ")", "{", "return", "false", ";", "}", "}", "}", ")", ";", "case", "SMB", ":", "try", "{", "isDirectory", "=", "new", "SmbFile", "(", "path", ")", ".", "isDirectory", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "isDirectory", "=", "false", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "isDirectory", "=", "false", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "FILE", ":", "isDirectory", "=", "new", "File", "(", "path", ")", ".", "isDirectory", "(", ")", ";", "break", ";", "case", "ROOT", ":", "try", "{", "isDirectory", "=", "RootHelper", ".", "isDirectory", "(", "path", ",", "true", ",", "<NUM_LIT:5>", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "isDirectory", "=", "false", ";", "}", "break", ";", "case", "OTG", ":", "isDirectory", "=", "OTGUtil", ".", "getDocumentFile", "(", "path", ",", "context", ",", "false", ")", ".", "isDirectory", "(", ")", ";", "break", ";", "case", "DROPBOX", ":", "isDirectory", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ".", "getMetadata", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "path", ")", ")", ".", "getFolder", "(", ")", ";", "break", ";", "case", "BOX", ":", "isDirectory", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ".", "getMetadata", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "path", ")", ")", ".", "getFolder", "(", ")", ";", "break", ";", "case", "GDRIVE", ":", "isDirectory", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ".", "getMetadata", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "path", ")", ")", ".", "getFolder", "(", ")", ";", "break", ";", "case", "ONEDRIVE", ":", "isDirectory", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ".", "getMetadata", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "path", ")", ")", ".", "getFolder", "(", ")", ";", "break", ";", "default", ":", "isDirectory", "=", "new", "File", "(", "path", ")", ".", "isDirectory", "(", ")", ";", "break", ";", "}", "return", "isDirectory", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Boolean", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "try", "{", "return", "client", ".", "stat", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ".", "getType", "(", ")", ".", "equals", "(", "FileMode", ".", "Type", ".", "DIRECTORY", ")", ";", "}", "catch", "(", "SFTPException", "notFound", ")", "{", "return", "false", ";", "}", "}", "</s>"]
["<s>", "public", "long", "folderSize", "(", ")", "{", "long", "size", "=", "0", "L", ";", "switch", "(", "mode", ")", "{", "case", "SFTP", ":", "return", "folderSize", "(", "AppConfig", ".", "getInstance", "(", ")", ")", ";", "case", "SMB", ":", "try", "{", "size", "=", "FileUtils", ".", "folderSize", "(", "new", "SmbFile", "(", "path", ")", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "size", "=", "0", "L", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "FILE", ":", "size", "=", "FileUtils", ".", "folderSize", "(", "new", "File", "(", "path", ")", ",", "null", ")", ";", "break", ";", "case", "ROOT", ":", "HybridFileParcelable", "baseFile", "=", "generateBaseFileFromParent", "(", ")", ";", "if", "(", "baseFile", "!", "=", "null", ")", "size", "=", "baseFile", ".", "getSize", "(", ")", ";", "break", ";", "default", ":", "return", "0", "L", ";", "}", "return", "size", ";", "}", "</s>"]
["<s>", "public", "long", "folderSize", "(", "Context", "context", ")", "{", "long", "size", "=", "0", "l", ";", "switch", "(", "mode", ")", "{", "case", "SFTP", ":", "return", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ")", "{", "@", "Override", "public", "Long", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "return", "client", ".", "size", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "}", "}", ")", ";", "case", "SMB", ":", "try", "{", "size", "=", "FileUtils", ".", "folderSize", "(", "new", "SmbFile", "(", "path", ")", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "size", "=", "0", "l", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "FILE", ":", "size", "=", "FileUtils", ".", "folderSize", "(", "new", "File", "(", "path", ")", ",", "null", ")", ";", "break", ";", "case", "ROOT", ":", "HybridFileParcelable", "baseFile", "=", "generateBaseFileFromParent", "(", ")", ";", "if", "(", "baseFile", "!", "=", "null", ")", "size", "=", "baseFile", ".", "getSize", "(", ")", ";", "break", ";", "case", "OTG", ":", "size", "=", "FileUtils", ".", "otgFolderSize", "(", "path", ",", "context", ")", ";", "break", ";", "case", "DROPBOX", ":", "case", "BOX", ":", "case", "GDRIVE", ":", "case", "ONEDRIVE", ":", "size", "=", "FileUtils", ".", "folderSizeCloud", "(", "mode", ",", "dataUtils", ".", "getAccount", "(", "mode", ")", ".", "getMetadata", "(", "CloudUtil", ".", "stripPath", "(", "mode", ",", "path", ")", ")", ")", ";", "break", ";", "default", ":", "return", "0", "l", ";", "}", "return", "size", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Long", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "return", "client", ".", "size", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "}", "</s>"]
["<s>", "public", "long", "getUsableSpace", "(", ")", "{", "long", "size", "=", "0", "L", ";", "switch", "(", "mode", ")", "{", "case", "SMB", ":", "try", "{", "size", "=", "(", "new", "SmbFile", "(", "path", ")", ".", "getDiskFreeSpace", "(", ")", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "size", "=", "0", "L", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "size", "=", "0", "L", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "FILE", ":", "case", "ROOT", ":", "size", "=", "new", "File", "(", "path", ")", ".", "getUsableSpace", "(", ")", ";", "break", ";", "case", "DROPBOX", ":", "case", "BOX", ":", "case", "GDRIVE", ":", "case", "ONEDRIVE", ":", "SpaceAllocation", "spaceAllocation", "=", "dataUtils", ".", "getAccount", "(", "mode", ")", ".", "getAllocation", "(", ")", ";", "size", "=", "spaceAllocation", ".", "getTotal", "(", ")", "-", "spaceAllocation", ".", "getUsed", "(", ")", ";", "break", ";", "case", "SFTP", ":", "size", "=", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ")", "{", "@", "Override", "public", "Long", "execute", "(", "@", "NonNull", "SFTPClient", "client", ")", "throws", "IOException", "{", "try", "{", "Statvfs", ".", "Response", "response", "=", "new", "Statvfs", ".", "Response", "(", "path", ",", "client", ".", "getSFTPEngine", "(", ")", ".", "request", "(", "Statvfs", ".", "request", "(", "client", ",", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ")", ".", "retrieve", "(", ")", ")", ";", "return", "response", ".", "diskFreeSpace", "(", ")", ";", "}", "catch", "(", "SFTPException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "return", "0", "L", ";", "}", "catch", "(", "Buffer", ".", "BufferException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "return", "0", "L", ";", "}", "}", "}", ")", ";", "break", ";", "case", "OTG", ":", "break", ";", "}", "return", "size", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Long", "execute", "(", "@", "NonNull", "SFTPClient", "client", ")", "throws", "IOException", "{", "try", "{", "Statvfs", ".", "Response", "response", "=", "new", "Statvfs", ".", "Response", "(", "path", ",", "client", ".", "getSFTPEngine", "(", ")", ".", "request", "(", "Statvfs", ".", "request", "(", "client", ",", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ")", ".", "retrieve", "(", ")", ")", ";", "return", "response", ".", "diskFreeSpace", "(", ")", ";", "}", "catch", "(", "SFTPException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "return", "0", "L", ";", "}", "catch", "(", "Buffer", ".", "BufferException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "return", "0", "L", ";", "}", "}", "</s>"]
["<s>", "public", "long", "getTotal", "(", "Context", "context", ")", "{", "long", "size", "=", "0", "l", ";", "switch", "(", "mode", ")", "{", "case", "SMB", ":", "try", "{", "size", "=", "new", "SmbFile", "(", "path", ")", ".", "getDiskFreeSpace", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "FILE", ":", "case", "ROOT", ":", "size", "=", "new", "File", "(", "path", ")", ".", "getTotalSpace", "(", ")", ";", "break", ";", "case", "DROPBOX", ":", "case", "BOX", ":", "case", "ONEDRIVE", ":", "case", "GDRIVE", ":", "SpaceAllocation", "spaceAllocation", "=", "dataUtils", ".", "getAccount", "(", "mode", ")", ".", "getAllocation", "(", ")", ";", "size", "=", "spaceAllocation", ".", "getTotal", "(", ")", ";", "break", ";", "case", "SFTP", ":", "size", "=", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ")", "{", "@", "Override", "public", "Long", "execute", "(", "@", "NonNull", "SFTPClient", "client", ")", "throws", "IOException", "{", "try", "{", "Statvfs", ".", "Response", "response", "=", "new", "Statvfs", ".", "Response", "(", "path", ",", "client", ".", "getSFTPEngine", "(", ")", ".", "request", "(", "Statvfs", ".", "request", "(", "client", ",", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ")", ".", "retrieve", "(", ")", ")", ";", "return", "response", ".", "diskSize", "(", ")", ";", "}", "catch", "(", "SFTPException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "return", "0", "L", ";", "}", "catch", "(", "Buffer", ".", "BufferException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "return", "0", "L", ";", "}", "}", "}", ")", ";", "break", ";", "case", "OTG", ":", "DocumentFile", "documentFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "path", ",", "context", ",", "false", ")", ";", "documentFile", ".", "length", "(", ")", ";", "break", ";", "}", "return", "size", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Long", "execute", "(", "@", "NonNull", "SFTPClient", "client", ")", "throws", "IOException", "{", "try", "{", "Statvfs", ".", "Response", "response", "=", "new", "Statvfs", ".", "Response", "(", "path", ",", "client", ".", "getSFTPEngine", "(", ")", ".", "request", "(", "Statvfs", ".", "request", "(", "client", ",", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ")", ".", "retrieve", "(", ")", ")", ";", "return", "response", ".", "diskSize", "(", ")", ";", "}", "catch", "(", "SFTPException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "return", "0", "L", ";", "}", "catch", "(", "Buffer", ".", "BufferException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "return", "0", "L", ";", "}", "}", "</s>"]
["<s>", "public", "void", "forEachChildrenFile", "(", "Context", "context", ",", "boolean", "isRoot", ",", "OnFileFound", "onFileFound", ")", "{", "switch", "(", "mode", ")", "{", "case", "SFTP", ":", "try", "{", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ")", "{", "@", "Override", "public", "Void", "execute", "(", "SFTPClient", "client", ")", "{", "try", "{", "for", "(", "RemoteResourceInfo", "info", ":", "client", ".", "ls", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ")", "{", "boolean", "isDirectory", "=", "info", ".", "isDirectory", "(", ")", ";", "if", "(", "info", ".", "getAttributes", "(", ")", ".", "getType", "(", ")", ".", "equals", "(", "FileMode", ".", "Type", ".", "SYMLINK", ")", ")", "{", "FileAttributes", "symlinkAttrs", "=", "client", ".", "stat", "(", "info", ".", "getPath", "(", ")", ")", ";", "isDirectory", "=", "symlinkAttrs", ".", "getType", "(", ")", ".", "equals", "(", "FileMode", ".", "Type", ".", "DIRECTORY", ")", ";", "}", "HybridFileParcelable", "f", "=", "new", "HybridFileParcelable", "(", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "path", ",", "info", ".", "getName", "(", ")", ")", ")", ";", "f", ".", "setName", "(", "info", ".", "getName", "(", ")", ")", ";", "f", ".", "setMode", "(", "OpenMode", ".", "SFTP", ")", ";", "f", ".", "setDirectory", "(", "isDirectory", ")", ";", "f", ".", "setDate", "(", "info", ".", "getAttributes", "(", ")", ".", "getMtime", "(", ")", "*", "<NUM_LIT:1000>", ")", ";", "f", ".", "setSize", "(", "isDirectory", "?", "0", ":", "info", ".", "getAttributes", "(", ")", ".", "getSize", "(", ")", ")", ";", "f", ".", "setPermission", "(", "Integer", ".", "toString", "(", "FilePermission", ".", "toMask", "(", "info", ".", "getAttributes", "(", ")", ".", "getPermissions", "(", ")", ")", ",", "<NUM_LIT:8>", ")", ")", ";", "onFileFound", ".", "onFileFound", "(", "f", ")", ";", "}", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "w", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "return", "null", ";", "}", "}", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "SMB", ":", "try", "{", "SmbFile", "smbFile", "=", "new", "SmbFile", "(", "path", ")", ";", "for", "(", "SmbFile", "smbFile1", ":", "smbFile", ".", "listFiles", "(", ")", ")", "{", "HybridFileParcelable", "baseFile", "=", "new", "HybridFileParcelable", "(", "smbFile1", ".", "getPath", "(", ")", ")", ";", "baseFile", ".", "setName", "(", "smbFile1", ".", "getName", "(", ")", ")", ";", "baseFile", ".", "setMode", "(", "OpenMode", ".", "SMB", ")", ";", "baseFile", ".", "setDirectory", "(", "smbFile1", ".", "isDirectory", "(", ")", ")", ";", "baseFile", ".", "setDate", "(", "smbFile1", ".", "lastModified", "(", ")", ")", ";", "baseFile", ".", "setSize", "(", "baseFile", ".", "isDirectory", "(", ")", "?", "0", ":", "smbFile1", ".", "length", "(", ")", ")", ";", "onFileFound", ".", "onFileFound", "(", "baseFile", ")", ";", "}", "}", "catch", "(", "MalformedURLException", "|", "SmbException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "OTG", ":", "OTGUtil", ".", "getDocumentFiles", "(", "path", ",", "context", ",", "onFileFound", ")", ";", "break", ";", "case", "DROPBOX", ":", "case", "BOX", ":", "case", "GDRIVE", ":", "case", "ONEDRIVE", ":", "try", "{", "CloudUtil", ".", "getCloudFiles", "(", "path", ",", "dataUtils", ".", "getAccount", "(", "mode", ")", ",", "mode", ",", "onFileFound", ")", ";", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "default", ":", "RootHelper", ".", "getFiles", "(", "path", ",", "isRoot", ",", "true", ",", "null", ",", "onFileFound", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Void", "execute", "(", "SFTPClient", "client", ")", "{", "try", "{", "for", "(", "RemoteResourceInfo", "info", ":", "client", ".", "ls", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ")", "{", "boolean", "isDirectory", "=", "info", ".", "isDirectory", "(", ")", ";", "if", "(", "info", ".", "getAttributes", "(", ")", ".", "getType", "(", ")", ".", "equals", "(", "FileMode", ".", "Type", ".", "SYMLINK", ")", ")", "{", "FileAttributes", "symlinkAttrs", "=", "client", ".", "stat", "(", "info", ".", "getPath", "(", ")", ")", ";", "isDirectory", "=", "symlinkAttrs", ".", "getType", "(", ")", ".", "equals", "(", "FileMode", ".", "Type", ".", "DIRECTORY", ")", ";", "}", "HybridFileParcelable", "f", "=", "new", "HybridFileParcelable", "(", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "path", ",", "info", ".", "getName", "(", ")", ")", ")", ";", "f", ".", "setName", "(", "info", ".", "getName", "(", ")", ")", ";", "f", ".", "setMode", "(", "OpenMode", ".", "SFTP", ")", ";", "f", ".", "setDirectory", "(", "isDirectory", ")", ";", "f", ".", "setDate", "(", "info", ".", "getAttributes", "(", ")", ".", "getMtime", "(", ")", "*", "<NUM_LIT:1000>", ")", ";", "f", ".", "setSize", "(", "isDirectory", "?", "0", ":", "info", ".", "getAttributes", "(", ")", ".", "getSize", "(", ")", ")", ";", "f", ".", "setPermission", "(", "Integer", ".", "toString", "(", "FilePermission", ".", "toMask", "(", "info", ".", "getAttributes", "(", ")", ".", "getPermissions", "(", ")", ")", ",", "<NUM_LIT:8>", ")", ")", ";", "onFileFound", ".", "onFileFound", "(", "f", ")", ";", "}", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "w", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "ArrayList", "<", "HybridFileParcelable", ">", "listFiles", "(", "Context", "context", ",", "boolean", "isRoot", ")", "{", "ArrayList", "<", "HybridFileParcelable", ">", "arrayList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "switch", "(", "mode", ")", "{", "case", "SFTP", ":", "try", "{", "arrayList", "=", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ")", "{", "@", "Override", "public", "ArrayList", "<", "HybridFileParcelable", ">", "execute", "(", "SFTPClient", "client", ")", "{", "ArrayList", "<", "HybridFileParcelable", ">", "retval", "=", "new", "ArrayList", "<", "HybridFileParcelable", ">", "(", ")", ";", "try", "{", "for", "(", "RemoteResourceInfo", "info", ":", "client", ".", "ls", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ")", "{", "HybridFileParcelable", "f", "=", "new", "HybridFileParcelable", "(", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "path", ",", "info", ".", "getName", "(", ")", ")", ")", ";", "f", ".", "setName", "(", "info", ".", "getName", "(", ")", ")", ";", "f", ".", "setMode", "(", "OpenMode", ".", "SFTP", ")", ";", "f", ".", "setDirectory", "(", "info", ".", "isDirectory", "(", ")", ")", ";", "f", ".", "setDate", "(", "info", ".", "getAttributes", "(", ")", ".", "getMtime", "(", ")", "*", "<NUM_LIT:1000>", ")", ";", "f", ".", "setSize", "(", "f", ".", "isDirectory", "(", ")", "?", "0", ":", "info", ".", "getAttributes", "(", ")", ".", "getSize", "(", ")", ")", ";", "f", ".", "setPermission", "(", "Integer", ".", "toString", "(", "FilePermission", ".", "toMask", "(", "info", ".", "getAttributes", "(", ")", ".", "getPermissions", "(", ")", ")", ",", "<NUM_LIT:8>", ")", ")", ";", "retval", ".", "add", "(", "f", ")", ";", "}", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "w", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "return", "retval", ";", "}", "}", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "arrayList", ".", "clear", "(", ")", ";", "}", "break", ";", "case", "SMB", ":", "try", "{", "SmbFile", "smbFile", "=", "new", "SmbFile", "(", "path", ")", ";", "for", "(", "SmbFile", "smbFile1", ":", "smbFile", ".", "listFiles", "(", ")", ")", "{", "HybridFileParcelable", "baseFile", "=", "new", "HybridFileParcelable", "(", "smbFile1", ".", "getPath", "(", ")", ")", ";", "baseFile", ".", "setName", "(", "smbFile1", ".", "getName", "(", ")", ")", ";", "baseFile", ".", "setMode", "(", "OpenMode", ".", "SMB", ")", ";", "baseFile", ".", "setDirectory", "(", "smbFile1", ".", "isDirectory", "(", ")", ")", ";", "baseFile", ".", "setDate", "(", "smbFile1", ".", "lastModified", "(", ")", ")", ";", "baseFile", ".", "setSize", "(", "baseFile", ".", "isDirectory", "(", ")", "?", "0", ":", "smbFile1", ".", "length", "(", ")", ")", ";", "arrayList", ".", "add", "(", "baseFile", ")", ";", "}", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "if", "(", "arrayList", "!", "=", "null", ")", "arrayList", ".", "clear", "(", ")", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "if", "(", "arrayList", "!", "=", "null", ")", "arrayList", ".", "clear", "(", ")", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "OTG", ":", "arrayList", "=", "OTGUtil", ".", "getDocumentFilesList", "(", "path", ",", "context", ")", ";", "break", ";", "case", "DROPBOX", ":", "case", "BOX", ":", "case", "GDRIVE", ":", "case", "ONEDRIVE", ":", "try", "{", "arrayList", "=", "CloudUtil", ".", "listFiles", "(", "path", ",", "dataUtils", ".", "getAccount", "(", "mode", ")", ",", "mode", ")", ";", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "arrayList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "}", "break", ";", "default", ":", "arrayList", "=", "RootHelper", ".", "getFilesList", "(", "path", ",", "isRoot", ",", "true", ",", "null", ")", ";", "}", "return", "arrayList", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ArrayList", "<", "HybridFileParcelable", ">", "execute", "(", "SFTPClient", "client", ")", "{", "ArrayList", "<", "HybridFileParcelable", ">", "retval", "=", "new", "ArrayList", "<", "HybridFileParcelable", ">", "(", ")", ";", "try", "{", "for", "(", "RemoteResourceInfo", "info", ":", "client", ".", "ls", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ")", "{", "HybridFileParcelable", "f", "=", "new", "HybridFileParcelable", "(", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "path", ",", "info", ".", "getName", "(", ")", ")", ")", ";", "f", ".", "setName", "(", "info", ".", "getName", "(", ")", ")", ";", "f", ".", "setMode", "(", "OpenMode", ".", "SFTP", ")", ";", "f", ".", "setDirectory", "(", "info", ".", "isDirectory", "(", ")", ")", ";", "f", ".", "setDate", "(", "info", ".", "getAttributes", "(", ")", ".", "getMtime", "(", ")", "*", "<NUM_LIT:1000>", ")", ";", "f", ".", "setSize", "(", "f", ".", "isDirectory", "(", ")", "?", "0", ":", "info", ".", "getAttributes", "(", ")", ".", "getSize", "(", ")", ")", ";", "f", ".", "setPermission", "(", "Integer", ".", "toString", "(", "FilePermission", ".", "toMask", "(", "info", ".", "getAttributes", "(", ")", ".", "getPermissions", "(", ")", ")", ",", "<NUM_LIT:8>", ")", ")", ";", "retval", ".", "add", "(", "f", ")", ";", "}", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "w", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "return", "retval", ";", "}", "</s>"]
["<s>", "public", "String", "getReadablePath", "(", "String", "path", ")", "{", "if", "(", "isSftp", "(", ")", ")", "return", "parseSftpPath", "(", "path", ")", ";", "if", "(", "isSmb", "(", ")", ")", "return", "parseSmbPath", "(", "path", ")", ";", "return", "path", ";", "}", "</s>"]
["<s>", "String", "parseSftpPath", "(", "String", "a", ")", "{", "if", "(", "a", ".", "contains", "(", "\"", "<STR_LIT:@>", "\"", ")", ")", "return", "\"", "<STR_LIT>", "\"", "+", "a", ".", "substring", "(", "a", ".", "indexOf", "(", "\"", "<STR_LIT:@>", "\"", ")", "+", "1", ",", "a", ".", "length", "(", ")", ")", ";", "else", "return", "a", ";", "}", "</s>"]
["<s>", "String", "parseSmbPath", "(", "String", "a", ")", "{", "if", "(", "a", ".", "contains", "(", "\"", "<STR_LIT:@>", "\"", ")", ")", "return", "\"", "<STR_LIT>", "\"", "+", "a", ".", "substring", "(", "a", ".", "indexOf", "(", "\"", "<STR_LIT:@>", "\"", ")", "+", "1", ",", "a", ".", "length", "(", ")", ")", ";", "else", "return", "a", ";", "}", "</s>"]
["<s>", "public", "InputStream", "getInputStream", "(", ")", "{", "InputStream", "inputStream", ";", "if", "(", "isSftp", "(", ")", ")", "{", "return", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ")", "{", "@", "Override", "public", "InputStream", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "final", "RemoteFile", "rf", "=", "client", ".", "open", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "return", "rf", ".", "new", "RemoteFileInputStream", "(", ")", "{", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "try", "{", "super", ".", "close", "(", ")", ";", "}", "finally", "{", "rf", ".", "close", "(", ")", ";", "}", "}", "}", ";", "}", "}", ")", ";", "}", "else", "if", "(", "isSmb", "(", ")", ")", "{", "try", "{", "inputStream", "=", "new", "SmbFile", "(", "path", ")", ".", "getInputStream", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "inputStream", "=", "null", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "{", "try", "{", "inputStream", "=", "new", "FileInputStream", "(", "path", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "inputStream", "=", "null", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "return", "inputStream", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "final", "RemoteFile", "rf", "=", "client", ".", "open", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "return", "rf", ".", "new", "RemoteFileInputStream", "(", ")", "{", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "try", "{", "super", ".", "close", "(", ")", ";", "}", "finally", "{", "rf", ".", "close", "(", ")", ";", "}", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "try", "{", "super", ".", "close", "(", ")", ";", "}", "finally", "{", "rf", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "InputStream", "getInputStream", "(", "Context", "context", ")", "{", "InputStream", "inputStream", ";", "switch", "(", "mode", ")", "{", "case", "SFTP", ":", "inputStream", "=", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ",", "false", ")", "{", "@", "Override", "public", "InputStream", "execute", "(", "final", "SFTPClient", "client", ")", "throws", "IOException", "{", "final", "RemoteFile", "rf", "=", "client", ".", "open", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "return", "rf", ".", "new", "RemoteFileInputStream", "(", ")", "{", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "try", "{", "super", ".", "close", "(", ")", ";", "}", "finally", "{", "rf", ".", "close", "(", ")", ";", "client", ".", "close", "(", ")", ";", "}", "}", "}", ";", "}", "}", ")", ";", "break", ";", "case", "SMB", ":", "try", "{", "inputStream", "=", "new", "SmbFile", "(", "path", ")", ".", "getInputStream", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "inputStream", "=", "null", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "OTG", ":", "ContentResolver", "contentResolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "DocumentFile", "documentSourceFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "path", ",", "context", ",", "false", ")", ";", "try", "{", "inputStream", "=", "contentResolver", ".", "openInputStream", "(", "documentSourceFile", ".", "getUri", "(", ")", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "inputStream", "=", "null", ";", "}", "break", ";", "case", "DROPBOX", ":", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "Log", ".", "d", "(", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ",", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "path", ")", ")", ";", "inputStream", "=", "cloudStorageDropbox", ".", "download", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "path", ")", ")", ";", "break", ";", "case", "BOX", ":", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "inputStream", "=", "cloudStorageBox", ".", "download", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "path", ")", ")", ";", "break", ";", "case", "GDRIVE", ":", "CloudStorage", "cloudStorageGDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "inputStream", "=", "cloudStorageGDrive", ".", "download", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "path", ")", ")", ";", "break", ";", "case", "ONEDRIVE", ":", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "inputStream", "=", "cloudStorageOneDrive", ".", "download", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "path", ")", ")", ";", "break", ";", "default", ":", "try", "{", "inputStream", "=", "new", "FileInputStream", "(", "path", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "inputStream", "=", "null", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "}", "return", "inputStream", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "execute", "(", "final", "SFTPClient", "client", ")", "throws", "IOException", "{", "final", "RemoteFile", "rf", "=", "client", ".", "open", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "return", "rf", ".", "new", "RemoteFileInputStream", "(", ")", "{", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "try", "{", "super", ".", "close", "(", ")", ";", "}", "finally", "{", "rf", ".", "close", "(", ")", ";", "client", ".", "close", "(", ")", ";", "}", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "try", "{", "super", ".", "close", "(", ")", ";", "}", "finally", "{", "rf", ".", "close", "(", ")", ";", "client", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "OutputStream", "getOutputStream", "(", "Context", "context", ")", "{", "OutputStream", "outputStream", ";", "switch", "(", "mode", ")", "{", "case", "SFTP", ":", "return", "SshClientUtils", ".", "execute", "(", "new", "SshClientTemplate", "(", "path", ",", "false", ")", "{", "@", "Override", "public", "OutputStream", "execute", "(", "final", "SSHClient", "ssh", ")", "throws", "IOException", "{", "final", "SFTPClient", "client", "=", "ssh", ".", "newSFTPClient", "(", ")", ";", "final", "RemoteFile", "rf", "=", "client", ".", "open", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ",", "EnumSet", ".", "of", "(", "net", ".", "schmizz", ".", "sshj", ".", "sftp", ".", "OpenMode", ".", "WRITE", ",", "net", ".", "schmizz", ".", "sshj", ".", "sftp", ".", "OpenMode", ".", "CREAT", ")", ")", ";", "return", "rf", ".", "new", "RemoteFileOutputStream", "(", ")", "{", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "try", "{", "super", ".", "close", "(", ")", ";", "}", "finally", "{", "rf", ".", "close", "(", ")", ";", "client", ".", "close", "(", ")", ";", "}", "}", "}", ";", "}", "}", ")", ";", "case", "SMB", ":", "try", "{", "outputStream", "=", "new", "SmbFile", "(", "path", ")", ".", "getOutputStream", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "outputStream", "=", "null", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "case", "OTG", ":", "ContentResolver", "contentResolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "DocumentFile", "documentSourceFile", "=", "OTGUtil", ".", "getDocumentFile", "(", "path", ",", "context", ",", "true", ")", ";", "try", "{", "outputStream", "=", "contentResolver", ".", "openOutputStream", "(", "documentSourceFile", ".", "getUri", "(", ")", ")", ";", "}", "catch", "(", "FileNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "outputStream", "=", "null", ";", "}", "break", ";", "default", ":", "try", "{", "outputStream", "=", "FileUtil", ".", "getOutputStream", "(", "new", "File", "(", "path", ")", ",", "context", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "outputStream", "=", "null", ";", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "return", "outputStream", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "OutputStream", "execute", "(", "final", "SSHClient", "ssh", ")", "throws", "IOException", "{", "final", "SFTPClient", "client", "=", "ssh", ".", "newSFTPClient", "(", ")", ";", "final", "RemoteFile", "rf", "=", "client", ".", "open", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ",", "EnumSet", ".", "of", "(", "net", ".", "schmizz", ".", "sshj", ".", "sftp", ".", "OpenMode", ".", "WRITE", ",", "net", ".", "schmizz", ".", "sshj", ".", "sftp", ".", "OpenMode", ".", "CREAT", ")", ")", ";", "return", "rf", ".", "new", "RemoteFileOutputStream", "(", ")", "{", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "try", "{", "super", ".", "close", "(", ")", ";", "}", "finally", "{", "rf", ".", "close", "(", ")", ";", "client", ".", "close", "(", ")", ";", "}", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "try", "{", "super", ".", "close", "(", ")", ";", "}", "finally", "{", "rf", ".", "close", "(", ")", ";", "client", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "boolean", "exists", "(", ")", "{", "boolean", "exists", "=", "false", ";", "if", "(", "isSftp", "(", ")", ")", "{", "exists", "=", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ")", "{", "@", "Override", "public", "Boolean", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "try", "{", "return", "client", ".", "stat", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", "!", "=", "null", ";", "}", "catch", "(", "SFTPException", "notFound", ")", "{", "return", "false", ";", "}", "}", "}", ")", ";", "}", "else", "if", "(", "isSmb", "(", ")", ")", "{", "try", "{", "SmbFile", "smbFile", "=", "getSmbFile", "(", "<NUM_LIT>", ")", ";", "exists", "=", "smbFile", "!", "=", "null", "&", "&", "smbFile", ".", "exists", "(", ")", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "exists", "=", "false", ";", "}", "}", "else", "if", "(", "isDropBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "exists", "=", "cloudStorageDropbox", ".", "exists", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "path", ")", ")", ";", "}", "else", "if", "(", "isBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "exists", "=", "cloudStorageBox", ".", "exists", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "path", ")", ")", ";", "}", "else", "if", "(", "isGoogleDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageGoogleDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "exists", "=", "cloudStorageGoogleDrive", ".", "exists", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "path", ")", ")", ";", "}", "else", "if", "(", "isOneDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "exists", "=", "cloudStorageOneDrive", ".", "exists", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "path", ")", ")", ";", "}", "else", "if", "(", "isLocal", "(", ")", ")", "{", "exists", "=", "new", "File", "(", "path", ")", ".", "exists", "(", ")", ";", "}", "else", "if", "(", "isRoot", "(", ")", ")", "{", "return", "RootHelper", ".", "fileExists", "(", "path", ")", ";", "}", "return", "exists", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Boolean", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "try", "{", "return", "client", ".", "stat", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", "!", "=", "null", ";", "}", "catch", "(", "SFTPException", "notFound", ")", "{", "return", "false", ";", "}", "}", "</s>"]
["<s>", "public", "boolean", "exists", "(", "Context", "context", ")", "{", "if", "(", "isOtgFile", "(", ")", ")", "{", "DocumentFile", "fileToCheck", "=", "OTGUtil", ".", "getDocumentFile", "(", "path", ",", "context", ",", "false", ")", ";", "return", "fileToCheck", "!", "=", "null", ";", "}", "else", "return", "(", "exists", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "isSimpleFile", "(", ")", "{", "return", "!", "isSmb", "(", ")", "&", "&", "!", "isOtgFile", "(", ")", "&", "&", "!", "isCustomPath", "(", ")", "&", "&", "!", "android", ".", "util", ".", "Patterns", ".", "EMAIL_ADDRESS", ".", "matcher", "(", "path", ")", ".", "matches", "(", ")", "&", "&", "!", "new", "File", "(", "path", ")", ".", "isDirectory", "(", ")", "&", "&", "!", "isOneDriveFile", "(", ")", "&", "&", "!", "isGoogleDriveFile", "(", ")", "&", "&", "!", "isDropBoxFile", "(", ")", "&", "&", "!", "isBoxFile", "(", ")", "&", "&", "!", "isSftp", "(", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "setLastModified", "(", "final", "long", "date", ")", "{", "if", "(", "isSmb", "(", ")", ")", "{", "try", "{", "new", "SmbFile", "(", "path", ")", ".", "setLastModified", "(", "date", ")", ";", "return", "true", ";", "}", "catch", "(", "SmbException", "e", ")", "{", "return", "false", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "return", "false", ";", "}", "}", "File", "f", "=", "new", "File", "(", "path", ")", ";", "return", "f", ".", "setLastModified", "(", "date", ")", ";", "}", "</s>"]
["<s>", "public", "void", "mkdir", "(", "Context", "context", ")", "{", "if", "(", "isSftp", "(", ")", ")", "{", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ")", "{", "@", "Override", "public", "Void", "execute", "(", "SFTPClient", "client", ")", "{", "try", "{", "client", ".", "mkdir", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "null", ";", "}", "}", ")", ";", "}", "else", "if", "(", "isSmb", "(", ")", ")", "{", "try", "{", "new", "SmbFile", "(", "path", ")", ".", "mkdirs", "(", ")", ";", "}", "catch", "(", "SmbException", "|", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "if", "(", "isOtgFile", "(", ")", ")", "{", "if", "(", "!", "exists", "(", "context", ")", ")", "{", "DocumentFile", "parentDirectory", "=", "OTGUtil", ".", "getDocumentFile", "(", "getParent", "(", "context", ")", ",", "context", ",", "false", ")", ";", "if", "(", "parentDirectory", ".", "isDirectory", "(", ")", ")", "{", "parentDirectory", ".", "createDirectory", "(", "getName", "(", "context", ")", ")", ";", "}", "}", "}", "else", "if", "(", "isDropBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageDropbox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "DROPBOX", ")", ";", "try", "{", "cloudStorageDropbox", ".", "createFolder", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "DROPBOX", ",", "path", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "if", "(", "isBoxFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageBox", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "BOX", ")", ";", "try", "{", "cloudStorageBox", ".", "createFolder", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "BOX", ",", "path", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "if", "(", "isOneDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageOneDrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "try", "{", "cloudStorageOneDrive", ".", "createFolder", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "ONEDRIVE", ",", "path", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "if", "(", "isGoogleDriveFile", "(", ")", ")", "{", "CloudStorage", "cloudStorageGdrive", "=", "dataUtils", ".", "getAccount", "(", "OpenMode", ".", "GDRIVE", ")", ";", "try", "{", "cloudStorageGdrive", ".", "createFolder", "(", "CloudUtil", ".", "stripPath", "(", "OpenMode", ".", "GDRIVE", ",", "path", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "FileUtil", ".", "mkdir", "(", "new", "File", "(", "path", ")", ",", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Void", "execute", "(", "SFTPClient", "client", ")", "{", "try", "{", "client", ".", "mkdir", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "boolean", "delete", "(", "Context", "context", ",", "boolean", "rootmode", ")", "throws", "ShellNotRunningException", "{", "if", "(", "isSftp", "(", ")", ")", "{", "SshClientUtils", ".", "execute", "(", "new", "SFtpClientTemplate", "(", "path", ")", "{", "@", "Override", "public", "Void", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "if", "(", "isDirectory", "(", "AppConfig", ".", "getInstance", "(", ")", ")", ")", "client", ".", "rmdir", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "else", "client", ".", "rm", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "return", "null", ";", "}", "}", ")", ";", "return", "true", ";", "}", "else", "if", "(", "isSmb", "(", ")", ")", "{", "try", "{", "new", "SmbFile", "(", "path", ")", ".", "delete", "(", ")", ";", "}", "catch", "(", "SmbException", "|", "MalformedURLException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "{", "if", "(", "isRoot", "(", ")", "&", "&", "rootmode", ")", "{", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "RootUtils", ".", "delete", "(", "getPath", "(", ")", ")", ";", "}", "else", "{", "FileUtil", ".", "deleteFile", "(", "new", "File", "(", "path", ")", ",", "context", ")", ";", "}", "}", "return", "!", "exists", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Void", "execute", "(", "SFTPClient", "client", ")", "throws", "IOException", "{", "if", "(", "isDirectory", "(", "AppConfig", ".", "getInstance", "(", ")", ")", ")", "client", ".", "rmdir", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "else", "client", ".", "rm", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "path", ")", ")", ";", "return", "null", ";", "}", "</s>"]
["<s>", "public", "String", "getNameString", "(", "Context", "context", ")", "{", "String", "fileName", "=", "getName", "(", "context", ")", ";", "int", "extensionStartIndex", "=", "fileName", ".", "lastIndexOf", "(", "\"", "<STR_LIT:.>", "\"", ")", ";", "return", "fileName", ".", "substring", "(", "0", ",", "extensionStartIndex", "=", "=", "-", "1", "?", "fileName", ".", "length", "(", ")", ":", "extensionStartIndex", ")", ";", "}", "</s>"]
["<s>", "public", "LayoutElementParcelable", "generateLayoutElement", "(", "boolean", "showThumbs", ")", "{", "switch", "(", "mode", ")", "{", "case", "FILE", ":", "case", "ROOT", ":", "File", "file", "=", "new", "File", "(", "path", ")", ";", "LayoutElementParcelable", "layoutElement", ";", "if", "(", "isDirectory", "(", ")", ")", "{", "layoutElement", "=", "new", "LayoutElementParcelable", "(", "path", ",", "RootHelper", ".", "parseFilePermission", "(", "file", ")", ",", "\"", "\"", ",", "folderSize", "(", ")", "+", "\"", "\"", ",", "0", ",", "true", ",", "file", ".", "lastModified", "(", ")", "+", "\"", "\"", ",", "false", ",", "showThumbs", ",", "mode", ")", ";", "}", "else", "{", "layoutElement", "=", "new", "LayoutElementParcelable", "(", "file", ".", "getPath", "(", ")", ",", "RootHelper", ".", "parseFilePermission", "(", "file", ")", ",", "file", ".", "getPath", "(", ")", ",", "file", ".", "length", "(", ")", "+", "\"", "\"", ",", "file", ".", "length", "(", ")", ",", "false", ",", "file", ".", "lastModified", "(", ")", "+", "\"", "\"", ",", "false", ",", "showThumbs", ",", "mode", ")", ";", "}", "return", "layoutElement", ";", "default", ":", "return", "null", ";", "}", "}", "</s>"]
["<s>", "public", "static", "ArrayList", "<", "String", ">", "runShellCommand", "(", "String", "cmd", ")", "throws", "ShellNotRunningException", "{", "if", "(", "MainActivity", ".", "shellInteractive", "=", "=", "null", "|", "|", "!", "MainActivity", ".", "shellInteractive", ".", "isRunning", "(", ")", ")", "throw", "new", "ShellNotRunningException", "(", ")", ";", "final", "ArrayList", "<", "String", ">", "result", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "MainActivity", ".", "shellInteractive", ".", "addCommand", "(", "cmd", ",", "0", ",", "(", "commandCode", ",", "exitCode", ",", "output", ")", "-", ">", "result", ".", "addAll", "(", "output", ")", ")", ";", "MainActivity", ".", "shellInteractive", ".", "waitForIdle", "(", ")", ";", "return", "result", ";", "}", "</s>"]
["<s>", "public", "static", "void", "runShellCommand", "(", "String", "cmd", ",", "Shell", ".", "OnCommandResultListener", "callback", ")", "throws", "ShellNotRunningException", "{", "if", "(", "MainActivity", ".", "shellInteractive", "=", "=", "null", "|", "|", "!", "MainActivity", ".", "shellInteractive", ".", "isRunning", "(", ")", ")", "throw", "new", "ShellNotRunningException", "(", ")", ";", "MainActivity", ".", "shellInteractive", ".", "addCommand", "(", "cmd", ",", "0", ",", "callback", ")", ";", "MainActivity", ".", "shellInteractive", ".", "waitForIdle", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "List", "<", "String", ">", "runNonRootShellCommand", "(", "String", "cmd", ")", "{", "return", "Shell", ".", "SH", ".", "run", "(", "cmd", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "getCommandLineString", "(", "String", "input", ")", "{", "return", "input", ".", "replaceAll", "(", "UNIX_ESCAPE_EXPRESSION", ",", "\"", "<STR_LIT:\\\\>", "<STR_LIT:\\\\>", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "ArrayList", "<", "HybridFileParcelable", ">", "getFilesList", "(", "String", "path", ",", "boolean", "showHidden", ",", "OnFileFound", "listener", ")", "{", "File", "f", "=", "new", "File", "(", "path", ")", ";", "ArrayList", "<", "HybridFileParcelable", ">", "files", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "try", "{", "if", "(", "f", ".", "exists", "(", ")", "&", "&", "f", ".", "isDirectory", "(", ")", ")", "{", "for", "(", "File", "x", ":", "f", ".", "listFiles", "(", ")", ")", "{", "long", "size", "=", "0", ";", "if", "(", "!", "x", ".", "isDirectory", "(", ")", ")", "size", "=", "x", ".", "length", "(", ")", ";", "HybridFileParcelable", "baseFile", "=", "new", "HybridFileParcelable", "(", "x", ".", "getPath", "(", ")", ",", "parseFilePermission", "(", "x", ")", ",", "x", ".", "lastModified", "(", ")", ",", "size", ",", "x", ".", "isDirectory", "(", ")", ")", ";", "baseFile", ".", "setName", "(", "x", ".", "getName", "(", ")", ")", ";", "baseFile", ".", "setMode", "(", "OpenMode", ".", "FILE", ")", ";", "if", "(", "showHidden", ")", "{", "files", ".", "add", "(", "baseFile", ")", ";", "listener", ".", "onFileFound", "(", "baseFile", ")", ";", "}", "else", "{", "if", "(", "!", "x", ".", "isHidden", "(", ")", ")", "{", "files", ".", "add", "(", "baseFile", ")", ";", "listener", ".", "onFileFound", "(", "baseFile", ")", ";", "}", "}", "}", "}", "}", "catch", "(", "Exception", "e", ")", "{", "}", "return", "files", ";", "}", "</s>"]
["<s>", "public", "static", "HybridFileParcelable", "generateBaseFile", "(", "File", "x", ",", "boolean", "showHidden", ")", "{", "long", "size", "=", "0", ";", "if", "(", "!", "x", ".", "isDirectory", "(", ")", ")", "size", "=", "x", ".", "length", "(", ")", ";", "HybridFileParcelable", "baseFile", "=", "new", "HybridFileParcelable", "(", "x", ".", "getPath", "(", ")", ",", "parseFilePermission", "(", "x", ")", ",", "x", ".", "lastModified", "(", ")", ",", "size", ",", "x", ".", "isDirectory", "(", ")", ")", ";", "baseFile", ".", "setName", "(", "x", ".", "getName", "(", ")", ")", ";", "baseFile", ".", "setMode", "(", "OpenMode", ".", "FILE", ")", ";", "if", "(", "showHidden", ")", "{", "return", "(", "baseFile", ")", ";", "}", "else", "if", "(", "!", "x", ".", "isHidden", "(", ")", ")", "{", "return", "(", "baseFile", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "public", "static", "HybridFileParcelable", "generateBaseFile", "(", "DocumentFile", "file", ",", "boolean", "showHidden", ")", "{", "long", "size", "=", "0", ";", "if", "(", "!", "file", ".", "isDirectory", "(", ")", ")", "size", "=", "file", ".", "length", "(", ")", ";", "HybridFileParcelable", "baseFile", "=", "new", "HybridFileParcelable", "(", "file", ".", "getName", "(", ")", ",", "parseDocumentFilePermission", "(", "file", ")", ",", "file", ".", "lastModified", "(", ")", ",", "size", ",", "file", ".", "isDirectory", "(", ")", ")", ";", "baseFile", ".", "setName", "(", "file", ".", "getName", "(", ")", ")", ";", "baseFile", ".", "setMode", "(", "OpenMode", ".", "OTG", ")", ";", "return", "baseFile", ";", "}", "</s>"]
["<s>", "public", "static", "String", "parseFilePermission", "(", "File", "f", ")", "{", "String", "per", "=", "\"", "\"", ";", "if", "(", "f", ".", "canRead", "(", ")", ")", "{", "per", "=", "per", "+", "\"", "<STR_LIT>", "\"", ";", "}", "if", "(", "f", ".", "canWrite", "(", ")", ")", "{", "per", "=", "per", "+", "\"", "<STR_LIT>", "\"", ";", "}", "if", "(", "f", ".", "canExecute", "(", ")", ")", "{", "per", "=", "per", "+", "\"", "<STR_LIT>", "\"", ";", "}", "return", "per", ";", "}", "</s>"]
["<s>", "public", "static", "String", "parseDocumentFilePermission", "(", "DocumentFile", "file", ")", "{", "String", "per", "=", "\"", "\"", ";", "if", "(", "file", ".", "canRead", "(", ")", ")", "{", "per", "=", "per", "+", "\"", "<STR_LIT>", "\"", ";", "}", "if", "(", "file", ".", "canWrite", "(", ")", ")", "{", "per", "=", "per", "+", "\"", "<STR_LIT>", "\"", ";", "}", "if", "(", "file", ".", "canWrite", "(", ")", ")", "{", "per", "=", "per", "+", "\"", "<STR_LIT>", "\"", ";", "}", "return", "per", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "fileExists", "(", "String", "path", ")", "{", "File", "f", "=", "new", "File", "(", "path", ")", ";", "String", "p", "=", "f", ".", "getParent", "(", ")", ";", "if", "(", "p", "!", "=", "null", "&", "&", "p", ".", "length", "(", ")", ">", "0", ")", "{", "ArrayList", "<", "HybridFileParcelable", ">", "ls", "=", "getFilesList", "(", "p", ",", "true", ",", "true", ",", "null", ")", ";", "for", "(", "HybridFileParcelable", "strings", ":", "ls", ")", "{", "if", "(", "strings", ".", "getPath", "(", ")", "!", "=", "null", "&", "&", "strings", ".", "getPath", "(", ")", ".", "equals", "(", "path", ")", ")", "{", "return", "true", ";", "}", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "static", "boolean", "contains", "(", "String", "[", "]", "a", ",", "String", "name", ")", "{", "for", "(", "String", "s", ":", "a", ")", "{", "if", "(", "s", ".", "equals", "(", "name", ")", ")", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isDirectory", "(", "String", "toTest", ",", "boolean", "root", ",", "int", "count", ")", "throws", "ShellNotRunningException", "{", "File", "f", "=", "new", "File", "(", "toTest", ")", ";", "String", "name", "=", "f", ".", "getName", "(", ")", ";", "String", "p", "=", "f", ".", "getParent", "(", ")", ";", "if", "(", "p", "!", "=", "null", "&", "&", "p", ".", "length", "(", ")", ">", "0", ")", "{", "ArrayList", "<", "String", ">", "ls", "=", "runShellCommand", "(", "\"", "<STR_LIT>", "\"", "+", "p", ")", ";", "for", "(", "String", "s", ":", "ls", ")", "{", "if", "(", "contains", "(", "s", ".", "split", "(", "\"", "\"", ")", ",", "name", ")", ")", "{", "try", "{", "HybridFileParcelable", "path", "=", "FileUtils", ".", "parseName", "(", "s", ")", ";", "if", "(", "path", ".", "getPermission", "(", ")", ".", "trim", "(", ")", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "return", "true", ";", "else", "if", "(", "path", ".", "getPermission", "(", ")", ".", "trim", "(", ")", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "if", "(", "count", ">", "<NUM_LIT:5>", ")", "return", "f", ".", "isDirectory", "(", ")", ";", "else", "return", "isDirectory", "(", "path", ".", "getLink", "(", ")", ".", "trim", "(", ")", ",", "root", ",", "+", "+", "count", ")", ";", "}", "else", "return", "f", ".", "isDirectory", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "break", ";", "}", "}", "}", "return", "f", ".", "isDirectory", "(", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isDirectory", "(", "HybridFileParcelable", "path", ")", "{", "return", "path", ".", "getPermission", "(", ")", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "new", "File", "(", "path", ".", "getPath", "(", ")", ")", ".", "isDirectory", "(", ")", ";", "}", "</s>"]
["<s>", "void", "getMode", "(", "OpenMode", "mode", ")", ";", "</s>"]
["<s>", "public", "static", "ArrayList", "<", "HybridFileParcelable", ">", "getFilesList", "(", "String", "path", ",", "boolean", "root", ",", "boolean", "showHidden", ",", "GetModeCallBack", "getModeCallBack", ")", "{", "final", "ArrayList", "<", "HybridFileParcelable", ">", "files", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "getFiles", "(", "path", ",", "root", ",", "showHidden", ",", "getModeCallBack", ",", "files", ":", ":", "add", ")", ";", "return", "files", ";", "}", "</s>"]
["<s>", "public", "static", "void", "getFiles", "(", "String", "path", ",", "boolean", "root", ",", "boolean", "showHidden", ",", "GetModeCallBack", "getModeCallBack", ",", "OnFileFound", "fileCallback", ")", "{", "OpenMode", "mode", "=", "OpenMode", ".", "FILE", ";", "if", "(", "root", "&", "&", "!", "path", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "!", "path", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "try", "{", "List", "<", "String", ">", "ls", ";", "String", "cpath", "=", "getCommandLineString", "(", "path", ")", ";", "ls", "=", "runShellCommand", "(", "\"", "<STR_LIT>", "\"", "+", "(", "showHidden", "?", "\"", "<STR_LIT>", "\"", ":", "\"", "\"", ")", "+", "\"", "<STR_LIT:\\\">", "\"", "+", "cpath", "+", "\"", "<STR_LIT:\\\">", "\"", ")", ";", "if", "(", "ls", "!", "=", "null", ")", "{", "for", "(", "String", "file", ":", "ls", ")", "{", "if", "(", "!", "file", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "HybridFileParcelable", "array", "=", "FileUtils", ".", "parseName", "(", "file", ")", ";", "if", "(", "array", "!", "=", "null", ")", "{", "array", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "array", ".", "setName", "(", "array", ".", "getPath", "(", ")", ")", ";", "array", ".", "setPath", "(", "path", "+", "\"", "<STR_LIT:/>", "\"", "+", "array", ".", "getPath", "(", ")", ")", ";", "if", "(", "array", ".", "getLink", "(", ")", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "0", ")", "{", "boolean", "isdirectory", "=", "isDirectory", "(", "array", ".", "getLink", "(", ")", ",", "root", ",", "0", ")", ";", "array", ".", "setDirectory", "(", "isdirectory", ")", ";", "}", "else", "array", ".", "setDirectory", "(", "isDirectory", "(", "array", ")", ")", ";", "fileCallback", ".", "onFileFound", "(", "array", ")", ";", "}", "}", "}", "mode", "=", "OpenMode", ".", "ROOT", ";", "}", "if", "(", "getModeCallBack", "!", "=", "null", ")", "getModeCallBack", ".", "getMode", "(", "mode", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", "else", "if", "(", "FileUtils", ".", "canListFiles", "(", "new", "File", "(", "path", ")", ")", ")", "{", "getFilesList", "(", "path", ",", "showHidden", ",", "fileCallback", ")", ";", "mode", "=", "OpenMode", ".", "FILE", ";", "}", "else", "{", "mode", "=", "OpenMode", ".", "FILE", ";", "}", "if", "(", "getModeCallBack", "!", "=", "null", ")", "getModeCallBack", ".", "getMode", "(", "mode", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "delete", "(", "final", "Context", "context", ",", "final", "File", "file", ")", "{", "final", "String", "where", "=", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ";", "final", "String", "[", "]", "selectionArgs", "=", "new", "String", "[", "]", "{", "file", ".", "getAbsolutePath", "(", ")", "}", ";", "final", "ContentResolver", "contentResolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "final", "Uri", "filesUri", "=", "MediaStore", ".", "Files", ".", "getContentUri", "(", "\"", "<STR_LIT>", "\"", ")", ";", "contentResolver", ".", "delete", "(", "filesUri", ",", "where", ",", "selectionArgs", ")", ";", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "final", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "DATA", ",", "file", ".", "getAbsolutePath", "(", ")", ")", ";", "contentResolver", ".", "insert", "(", "MediaStore", ".", "Images", ".", "Media", ".", "EXTERNAL_CONTENT_URI", ",", "values", ")", ";", "contentResolver", ".", "delete", "(", "filesUri", ",", "where", ",", "selectionArgs", ")", ";", "}", "return", "!", "file", ".", "exists", "(", ")", ";", "}", "</s>"]
["<s>", "private", "static", "File", "getExternalFilesDir", "(", "final", "Context", "context", ")", "{", "return", "context", ".", "getExternalFilesDir", "(", "null", ")", ";", "}", "</s>"]
["<s>", "public", "static", "InputStream", "getInputStream", "(", "final", "Context", "context", ",", "final", "File", "file", ",", "final", "long", "size", ")", "{", "try", "{", "final", "String", "where", "=", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ";", "final", "String", "[", "]", "selectionArgs", "=", "new", "String", "[", "]", "{", "file", ".", "getAbsolutePath", "(", ")", "}", ";", "final", "ContentResolver", "contentResolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "final", "Uri", "filesUri", "=", "MediaStore", ".", "Files", ".", "getContentUri", "(", "\"", "<STR_LIT>", "\"", ")", ";", "contentResolver", ".", "delete", "(", "filesUri", ",", "where", ",", "selectionArgs", ")", ";", "final", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "DATA", ",", "file", ".", "getAbsolutePath", "(", ")", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "SIZE", ",", "size", ")", ";", "final", "Uri", "uri", "=", "contentResolver", ".", "insert", "(", "filesUri", ",", "values", ")", ";", "return", "contentResolver", ".", "openInputStream", "(", "uri", ")", ";", "}", "catch", "(", "final", "Throwable", "t", ")", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "public", "static", "OutputStream", "getOutputStream", "(", "Context", "context", ",", "String", "str", ")", "{", "OutputStream", "outputStream", "=", "null", ";", "Uri", "fileUri", "=", "getUriFromFile", "(", "str", ",", "context", ")", ";", "if", "(", "fileUri", "!", "=", "null", ")", "{", "try", "{", "outputStream", "=", "context", ".", "getContentResolver", "(", ")", ".", "openOutputStream", "(", "fileUri", ")", ";", "}", "catch", "(", "Throwable", "th", ")", "{", "}", "}", "return", "outputStream", ";", "}", "</s>"]
["<s>", "public", "static", "Uri", "getUriFromFile", "(", "final", "String", "path", ",", "Context", "context", ")", "{", "ContentResolver", "resolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "Cursor", "filecursor", "=", "resolver", ".", "query", "(", "MediaStore", ".", "Files", ".", "getContentUri", "(", "\"", "<STR_LIT>", "\"", ")", ",", "new", "String", "[", "]", "{", "BaseColumns", ".", "_ID", "}", ",", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ",", "new", "String", "[", "]", "{", "path", "}", ",", "MediaStore", ".", "MediaColumns", ".", "DATE_ADDED", "+", "\"", "<STR_LIT>", "\"", ")", ";", "filecursor", ".", "moveToFirst", "(", ")", ";", "if", "(", "filecursor", ".", "isAfterLast", "(", ")", ")", "{", "filecursor", ".", "close", "(", ")", ";", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "DATA", ",", "path", ")", ";", "return", "resolver", ".", "insert", "(", "MediaStore", ".", "Files", ".", "getContentUri", "(", "\"", "<STR_LIT>", "\"", ")", ",", "values", ")", ";", "}", "else", "{", "int", "imageId", "=", "filecursor", ".", "getInt", "(", "filecursor", ".", "getColumnIndex", "(", "BaseColumns", ".", "_ID", ")", ")", ";", "Uri", "uri", "=", "MediaStore", ".", "Files", ".", "getContentUri", "(", "\"", "<STR_LIT>", "\"", ")", ".", "buildUpon", "(", ")", ".", "appendPath", "(", "Integer", ".", "toString", "(", "imageId", ")", ")", ".", "build", "(", ")", ";", "filecursor", ".", "close", "(", ")", ";", "return", "uri", ";", "}", "}", "</s>"]
["<s>", "private", "static", "int", "getTemporaryAlbumId", "(", "final", "Context", "context", ")", "{", "final", "File", "temporaryTrack", ";", "try", "{", "temporaryTrack", "=", "installTemporaryTrack", "(", "context", ")", ";", "}", "catch", "(", "final", "IOException", "ex", ")", "{", "Log", ".", "w", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "ex", ")", ";", "return", "0", ";", "}", "final", "Uri", "filesUri", "=", "MediaStore", ".", "Files", ".", "getContentUri", "(", "\"", "<STR_LIT>", "\"", ")", ";", "final", "String", "[", "]", "selectionArgs", "=", "{", "temporaryTrack", ".", "getAbsolutePath", "(", ")", "}", ";", "final", "ContentResolver", "contentResolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "Cursor", "cursor", "=", "contentResolver", ".", "query", "(", "filesUri", ",", "ALBUM_PROJECTION", ",", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ",", "selectionArgs", ",", "null", ")", ";", "if", "(", "cursor", "=", "=", "null", "|", "|", "!", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "if", "(", "cursor", "!", "=", "null", ")", "{", "cursor", ".", "close", "(", ")", ";", "cursor", "=", "null", ";", "}", "final", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "DATA", ",", "temporaryTrack", ".", "getAbsolutePath", "(", ")", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "TITLE", ",", "\"", "<STR_LIT>", "\"", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "SIZE", ",", "temporaryTrack", ".", "length", "(", ")", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "MIME_TYPE", ",", "\"", "<STR_LIT>", "\"", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "Audio", ".", "AudioColumns", ".", "IS_MUSIC", ",", "true", ")", ";", "contentResolver", ".", "insert", "(", "filesUri", ",", "values", ")", ";", "}", "cursor", "=", "contentResolver", ".", "query", "(", "filesUri", ",", "ALBUM_PROJECTION", ",", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ",", "selectionArgs", ",", "null", ")", ";", "if", "(", "cursor", "=", "=", "null", ")", "{", "return", "0", ";", "}", "if", "(", "!", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "cursor", ".", "close", "(", ")", ";", "return", "0", ";", "}", "final", "int", "id", "=", "cursor", ".", "getInt", "(", "0", ")", ";", "final", "int", "albumId", "=", "cursor", ".", "getInt", "(", "1", ")", ";", "final", "int", "mediaType", "=", "cursor", ".", "getInt", "(", "<NUM_LIT:2>", ")", ";", "cursor", ".", "close", "(", ")", ";", "final", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "boolean", "updateRequired", "=", "false", ";", "if", "(", "albumId", "=", "=", "0", ")", "{", "values", ".", "put", "(", "MediaStore", ".", "Audio", ".", "AlbumColumns", ".", "ALBUM_ID", ",", "<NUM_LIT>", ")", ";", "updateRequired", "=", "true", ";", "}", "if", "(", "mediaType", "!", "=", "<NUM_LIT:2>", ")", "{", "values", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT:2>", ")", ";", "updateRequired", "=", "true", ";", "}", "if", "(", "updateRequired", ")", "{", "contentResolver", ".", "update", "(", "filesUri", ",", "values", ",", "BaseColumns", ".", "_ID", "+", "\"", "<STR_LIT:=>", "\"", "+", "id", ",", "null", ")", ";", "}", "cursor", "=", "contentResolver", ".", "query", "(", "filesUri", ",", "ALBUM_PROJECTION", ",", "MediaStore", ".", "MediaColumns", ".", "DATA", "+", "\"", "<STR_LIT>", "\"", ",", "selectionArgs", ",", "null", ")", ";", "if", "(", "cursor", "=", "=", "null", ")", "{", "return", "0", ";", "}", "try", "{", "if", "(", "!", "cursor", ".", "moveToFirst", "(", ")", ")", "{", "return", "0", ";", "}", "return", "cursor", ".", "getInt", "(", "1", ")", ";", "}", "finally", "{", "cursor", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "File", "installTemporaryTrack", "(", "final", "Context", "context", ")", "throws", "IOException", "{", "final", "File", "externalFilesDir", "=", "getExternalFilesDir", "(", "context", ")", ";", "if", "(", "externalFilesDir", "=", "=", "null", ")", "{", "return", "null", ";", "}", "final", "File", "temporaryTrack", "=", "new", "File", "(", "externalFilesDir", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "!", "temporaryTrack", ".", "exists", "(", ")", ")", "{", "InputStream", "in", "=", "null", ";", "OutputStream", "out", "=", "null", ";", "try", "{", "in", "=", "context", ".", "getResources", "(", ")", ".", "openRawResource", "(", "R", ".", "raw", ".", "temptrack", ")", ";", "out", "=", "new", "FileOutputStream", "(", "temporaryTrack", ")", ";", "final", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "<NUM_LIT>", "]", ";", "int", "bytesRead", ";", "while", "(", "(", "bytesRead", "=", "in", ".", "read", "(", "buffer", ")", ")", "!", "=", "-", "1", ")", "{", "out", ".", "write", "(", "buffer", ",", "0", ",", "bytesRead", ")", ";", "}", "}", "finally", "{", "out", ".", "close", "(", ")", ";", "in", ".", "close", "(", ")", ";", "}", "}", "return", "temporaryTrack", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "mkdir", "(", "final", "Context", "context", ",", "final", "File", "file", ")", "throws", "IOException", "{", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "return", "file", ".", "isDirectory", "(", ")", ";", "}", "final", "File", "tmpFile", "=", "new", "File", "(", "file", ",", "\"", "<STR_LIT>", "\"", ")", ";", "final", "int", "albumId", "=", "getTemporaryAlbumId", "(", "context", ")", ";", "if", "(", "albumId", "=", "=", "0", ")", "{", "throw", "new", "IOException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "final", "Uri", "albumUri", "=", "Uri", ".", "parse", "(", "String", ".", "format", "(", "Locale", ".", "US", ",", "ALBUM_ART_URI", "+", "\"", "<STR_LIT>", "\"", ",", "albumId", ")", ")", ";", "final", "ContentValues", "values", "=", "new", "ContentValues", "(", ")", ";", "values", ".", "put", "(", "MediaStore", ".", "MediaColumns", ".", "DATA", ",", "tmpFile", ".", "getAbsolutePath", "(", ")", ")", ";", "final", "ContentResolver", "contentResolver", "=", "context", ".", "getContentResolver", "(", ")", ";", "if", "(", "contentResolver", ".", "update", "(", "albumUri", ",", "values", ",", "null", ",", "null", ")", "=", "=", "0", ")", "{", "values", ".", "put", "(", "MediaStore", ".", "Audio", ".", "AlbumColumns", ".", "ALBUM_ID", ",", "albumId", ")", ";", "contentResolver", ".", "insert", "(", "Uri", ".", "parse", "(", "ALBUM_ART_URI", ")", ",", "values", ")", ";", "}", "try", "{", "final", "ParcelFileDescriptor", "fd", "=", "contentResolver", ".", "openFileDescriptor", "(", "albumUri", ",", "\"", "<STR_LIT>", "\"", ")", ";", "fd", ".", "close", "(", ")", ";", "}", "finally", "{", "delete", "(", "context", ",", "tmpFile", ")", ";", "}", "return", "file", ".", "exists", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "mkfile", "(", "final", "Context", "context", ",", "final", "File", "file", ")", "{", "final", "OutputStream", "outputStream", "=", "getOutputStream", "(", "context", ",", "file", ".", "getPath", "(", ")", ")", ";", "if", "(", "outputStream", "=", "=", "null", ")", "{", "return", "false", ";", "}", "try", "{", "outputStream", ".", "close", "(", ")", ";", "return", "true", ";", "}", "catch", "(", "final", "IOException", "e", ")", "{", "}", "return", "false", ";", "}", "</s>"]
["<s>", "public", "PasteHelper", "(", "int", "op", ",", "HybridFileParcelable", "[", "]", "paths", ")", "{", "if", "(", "paths", "=", "=", "null", "|", "|", "paths", ".", "length", "=", "=", "0", ")", "throw", "new", "IllegalArgumentException", "(", ")", ";", "operation", "=", "op", ";", "this", ".", "paths", "=", "paths", ";", "}", "</s>"]
["<s>", "private", "PasteHelper", "(", "Parcel", "in", ")", "{", "operation", "=", "in", ".", "readInt", "(", ")", ";", "paths", "=", "(", "HybridFileParcelable", "[", "]", ")", "in", ".", "readParcelableArray", "(", "HybridFileParcelable", ".", "class", ".", "getClassLoader", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "describeContents", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeToParcel", "(", "Parcel", "dest", ",", "int", "flags", ")", "{", "dest", ".", "writeInt", "(", "operation", ")", ";", "dest", ".", "writeParcelableArray", "(", "paths", ",", "0", ")", ";", "}", "</s>"]
["<s>", "public", "PasteHelper", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "PasteHelper", "(", "in", ")", ";", "}", "</s>"]
["<s>", "public", "PasteHelper", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "PasteHelper", "[", "size", "]", ";", "}", "</s>"]
["<s>", "public", "SFtpClientTemplate", "(", "@", "NonNull", "String", "url", ")", "{", "this", "(", "url", ",", "true", ")", ";", "}", "</s>"]
["<s>", "public", "SFtpClientTemplate", "(", "@", "NonNull", "String", "url", ",", "boolean", "closeClientOnFinish", ")", "{", "this", ".", "url", "=", "url", ";", "this", ".", "closeClientOnFinish", "=", "closeClientOnFinish", ";", "}", "</s>"]
["<s>", "public", "abstract", "<", "T", ">", "T", "execute", "(", "@", "NonNull", "SFTPClient", "client", ")", "throws", "IOException", ";", "</s>"]
["<s>", "public", "SshClientSessionTemplate", "(", "@", "NonNull", "String", "url", ")", "{", "this", ".", "url", "=", "url", ";", "}", "</s>"]
["<s>", "public", "abstract", "<", "T", ">", "T", "execute", "(", "@", "NonNull", "Session", "sshClientSession", ")", "throws", "IOException", ";", "</s>"]
["<s>", "public", "static", "final", "<", "T", ">", "T", "execute", "(", "@", "NonNull", "SshClientTemplate", "template", ")", "{", "SSHClient", "client", "=", "null", ";", "T", "retval", "=", "null", ";", "try", "{", "client", "=", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "getConnection", "(", "template", ".", "url", ")", ";", "if", "(", "client", "!", "=", "null", ")", "retval", "=", "template", ".", "execute", "(", "client", ")", ";", "else", "throw", "new", "RuntimeException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "finally", "{", "if", "(", "client", "!", "=", "null", "&", "&", "template", ".", "closeClientOnFinish", ")", "{", "tryDisconnect", "(", "client", ")", ";", "}", "}", "return", "retval", ";", "}", "</s>"]
["<s>", "public", "static", "final", "<", "T", ">", "T", "execute", "(", "@", "NonNull", "final", "SshClientSessionTemplate", "template", ")", "{", "return", "execute", "(", "new", "SshClientTemplate", "(", "template", ".", "url", ",", "false", ")", "{", "@", "Override", "public", "T", "execute", "(", "SSHClient", "client", ")", "{", "Session", "session", "=", "null", ";", "T", "retval", "=", "null", ";", "try", "{", "session", "=", "client", ".", "startSession", "(", ")", ";", "retval", "=", "template", ".", "execute", "(", "session", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "finally", "{", "if", "(", "session", "!", "=", "null", "&", "&", "session", ".", "isOpen", "(", ")", ")", "{", "try", "{", "session", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "w", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "}", "}", "return", "retval", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "T", "execute", "(", "SSHClient", "client", ")", "{", "Session", "session", "=", "null", ";", "T", "retval", "=", "null", ";", "try", "{", "session", "=", "client", ".", "startSession", "(", ")", ";", "retval", "=", "template", ".", "execute", "(", "session", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "finally", "{", "if", "(", "session", "!", "=", "null", "&", "&", "session", ".", "isOpen", "(", ")", ")", "{", "try", "{", "session", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "w", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "}", "}", "return", "retval", ";", "}", "</s>"]
["<s>", "public", "static", "final", "<", "T", ">", "T", "execute", "(", "@", "NonNull", "final", "SFtpClientTemplate", "template", ")", "{", "return", "execute", "(", "new", "SshClientTemplate", "(", "template", ".", "url", ",", "false", ")", "{", "@", "Override", "public", "T", "execute", "(", "SSHClient", "client", ")", "{", "SFTPClient", "sftpClient", "=", "null", ";", "T", "retval", "=", "null", ";", "try", "{", "sftpClient", "=", "client", ".", "newSFTPClient", "(", ")", ";", "retval", "=", "template", ".", "execute", "(", "sftpClient", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "finally", "{", "if", "(", "sftpClient", "!", "=", "null", "&", "&", "template", ".", "closeClientOnFinish", ")", "{", "try", "{", "sftpClient", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "w", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "}", "}", "return", "retval", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "T", "execute", "(", "SSHClient", "client", ")", "{", "SFTPClient", "sftpClient", "=", "null", ";", "T", "retval", "=", "null", ";", "try", "{", "sftpClient", "=", "client", ".", "newSFTPClient", "(", ")", ";", "retval", "=", "template", ".", "execute", "(", "sftpClient", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "finally", "{", "if", "(", "sftpClient", "!", "=", "null", "&", "&", "template", ".", "closeClientOnFinish", ")", "{", "try", "{", "sftpClient", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "w", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "}", "}", "return", "retval", ";", "}", "</s>"]
["<s>", "public", "static", "final", "String", "encryptSshPathAsNecessary", "(", "@", "NonNull", "String", "fullUri", ")", "{", "String", "uriWithoutProtocol", "=", "fullUri", ".", "substring", "(", "SSH_URI_PREFIX", ".", "length", "(", ")", ",", "fullUri", ".", "indexOf", "(", "<CHAR_LIT>", ")", ")", ";", "try", "{", "return", "(", "uriWithoutProtocol", ".", "indexOf", "(", "<CHAR_LIT::>", ")", ">", "0", ")", "?", "SmbUtil", ".", "getSmbEncryptedPath", "(", "AppConfig", ".", "getInstance", "(", ")", ",", "fullUri", ")", ":", "fullUri", ";", "}", "catch", "(", "IOException", "|", "GeneralSecurityException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "return", "fullUri", ";", "}", "}", "</s>"]
["<s>", "public", "static", "final", "String", "decryptSshPathAsNecessary", "(", "@", "NonNull", "String", "fullUri", ")", "{", "String", "uriWithoutProtocol", "=", "fullUri", ".", "substring", "(", "SSH_URI_PREFIX", ".", "length", "(", ")", ",", "fullUri", ".", "indexOf", "(", "<CHAR_LIT>", ")", ")", ";", "try", "{", "return", "(", "uriWithoutProtocol", ".", "indexOf", "(", "<CHAR_LIT::>", ")", ">", "0", ")", "?", "SmbUtil", ".", "getSmbDecryptedPath", "(", "AppConfig", ".", "getInstance", "(", ")", ",", "fullUri", ")", ":", "fullUri", ";", "}", "catch", "(", "IOException", "|", "GeneralSecurityException", "e", ")", "{", "Log", ".", "e", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "return", "fullUri", ";", "}", "}", "</s>"]
["<s>", "public", "static", "final", "String", "extractBaseUriFrom", "(", "@", "NonNull", "String", "fullUri", ")", "{", "String", "uriWithoutProtocol", "=", "fullUri", ".", "substring", "(", "SSH_URI_PREFIX", ".", "length", "(", ")", ")", ";", "return", "uriWithoutProtocol", ".", "indexOf", "(", "<CHAR_LIT:/>", ")", "=", "=", "-", "1", "?", "fullUri", ":", "fullUri", ".", "substring", "(", "0", ",", "uriWithoutProtocol", ".", "indexOf", "(", "<CHAR_LIT:/>", ")", "+", "SSH_URI_PREFIX", ".", "length", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "String", "extractRemotePathFrom", "(", "@", "NonNull", "String", "fullUri", ")", "{", "String", "uriWithoutProtocol", "=", "fullUri", ".", "substring", "(", "SSH_URI_PREFIX", ".", "length", "(", ")", ")", ";", "return", "uriWithoutProtocol", ".", "indexOf", "(", "<CHAR_LIT:/>", ")", "=", "=", "-", "1", "?", "\"", "<STR_LIT:/>", "\"", ":", "uriWithoutProtocol", ".", "substring", "(", "uriWithoutProtocol", ".", "indexOf", "(", "<CHAR_LIT:/>", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "void", "tryDisconnect", "(", "SSHClient", "client", ")", "{", "if", "(", "client", "!", "=", "null", "&", "&", "client", ".", "isConnected", "(", ")", ")", "{", "try", "{", "client", ".", "disconnect", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "Log", ".", "w", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ",", "e", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "static", "void", "launchSftp", "(", "final", "HybridFileParcelable", "baseFile", ",", "final", "MainActivity", "activity", ")", "{", "final", "CloudStreamer", "streamer", "=", "CloudStreamer", ".", "getInstance", "(", ")", ";", "new", "Thread", "(", "(", ")", "-", ">", "{", "try", "{", "streamer", ".", "setStreamSrc", "(", "baseFile", ".", "getInputStream", "(", "activity", ")", ",", "baseFile", ".", "getName", "(", ")", ",", "baseFile", ".", "length", "(", "activity", ")", ")", ";", "activity", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "try", "{", "File", "file", "=", "new", "File", "(", "SshClientUtils", ".", "extractRemotePathFrom", "(", "baseFile", ".", "getPath", "(", ")", ")", ")", ";", "Uri", "uri", "=", "Uri", ".", "parse", "(", "CloudStreamer", ".", "URL", "+", "Uri", ".", "fromFile", "(", "file", ")", ".", "getEncodedPath", "(", ")", ")", ";", "Intent", "i", "=", "new", "Intent", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "i", ".", "setDataAndType", "(", "uri", ",", "MimeTypes", ".", "getMimeType", "(", "baseFile", ".", "getPath", "(", ")", ",", "baseFile", ".", "isDirectory", "(", ")", ")", ")", ";", "PackageManager", "packageManager", "=", "activity", ".", "getPackageManager", "(", ")", ";", "List", "<", "ResolveInfo", ">", "resInfos", "=", "packageManager", ".", "queryIntentActivities", "(", "i", ",", "0", ")", ";", "if", "(", "resInfos", "!", "=", "null", "&", "&", "resInfos", ".", "size", "(", ")", ">", "0", ")", "activity", ".", "startActivity", "(", "i", ")", ";", "else", "Toast", ".", "makeText", "(", "activity", ",", "activity", ".", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "smb_launch_error", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "catch", "(", "ActivityNotFoundException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "}", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "deriveSftpPathFrom", "(", "String", "hostname", ",", "int", "port", ",", "String", "username", ",", "String", "password", ",", "KeyPair", "selectedParsedKeyPair", ")", "{", "return", "(", "selectedParsedKeyPair", "!", "=", "null", "|", "|", "password", "=", "=", "null", ")", "?", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "username", ",", "hostname", ",", "port", ")", ":", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "username", ",", "password", ",", "hostname", ",", "port", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "Request", "request", "(", "final", "SFTPClient", "sftpClient", ",", "final", "String", "path", ")", "{", "return", "sftpClient", ".", "getSFTPEngine", "(", ")", ".", "newRequest", "(", "PacketType", ".", "EXTENDED", ")", ".", "putString", "(", "STATVFS_OPENSSH_COM", ")", ".", "putString", "(", "path", ",", "sftpClient", ".", "getSFTPEngine", "(", ")", ".", "getSubsystem", "(", ")", ".", "getRemoteCharset", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "Response", "(", "String", "remotePath", ",", "net", ".", "schmizz", ".", "sshj", ".", "sftp", ".", "Response", "response", ")", "throws", "SFTPException", ",", "Buffer", ".", "BufferException", "{", "response", ".", "ensurePacketTypeIs", "(", "PacketType", ".", "EXTENDED_REPLY", ")", ";", "if", "(", "!", "response", ".", "readStatusCode", "(", ")", ".", "equals", "(", "net", ".", "schmizz", ".", "sshj", ".", "sftp", ".", "Response", ".", "StatusCode", ".", "OK", ")", ")", "{", "throw", "new", "SFTPException", "(", "\"", "<STR_LIT>", "\"", "+", "response", ".", "readStatusCode", "(", ")", ")", ";", "}", "this", ".", "remotePath", "=", "remotePath", ";", "this", ".", "response", "=", "response", ";", "fileSystemBlockSize", "=", "(", "int", ")", "this", ".", "response", ".", "readUInt32", "(", ")", ";", "fundamentalFileSystemBlockSize", "=", "(", "int", ")", "this", ".", "response", ".", "readUInt64", "(", ")", ";", "fileSystemBlocks", "=", "this", ".", "response", ".", "readUInt64", "(", ")", ";", "freeFileSystemBlocks", "=", "this", ".", "response", ".", "readUInt64", "(", ")", ";", "availableFileSystemBlocks", "=", "this", ".", "response", ".", "readUInt64", "(", ")", ";", "totalFileInodes", "=", "this", ".", "response", ".", "readUInt64", "(", ")", ";", "freeFileInodes", "=", "this", ".", "response", ".", "readUInt64", "(", ")", ";", "availableFileInodes", "=", "this", ".", "response", ".", "readUInt64", "(", ")", ";", "fileSystemId", "=", "readUInt64FromBuffer", "(", "this", ".", "response", ")", ";", "fileSystemFlag", "=", "(", "int", ")", "this", ".", "response", ".", "readUInt64", "(", ")", ";", "filenameMaxLength", "=", "(", "int", ")", "this", ".", "response", ".", "readUInt64", "(", ")", ";", "}", "</s>"]
["<s>", "public", "long", "diskSize", "(", ")", "{", "return", "fileSystemBlocks", "*", "fileSystemBlockSize", ";", "}", "</s>"]
["<s>", "public", "long", "diskFreeSpace", "(", ")", "{", "return", "availableFileSystemBlocks", "*", "fileSystemBlockSize", ";", "}", "</s>"]
["<s>", "public", "BigInteger", "getFileSystemId", "(", ")", "{", "return", "BigInteger", ".", "valueOf", "(", "fileSystemId", ")", ";", "}", "</s>"]
["<s>", "public", "long", "getRawFileSystemId", "(", ")", "{", "return", "fileSystemId", ";", "}", "</s>"]
["<s>", "private", "long", "readUInt64FromBuffer", "(", "Buffer", "buffer", ")", "throws", "Buffer", ".", "BufferException", "{", "long", "uint64", "=", "(", "buffer", ".", "readUInt32", "(", ")", "<", "<", "<NUM_LIT:32>", ")", "+", "(", "buffer", ".", "readUInt32", "(", ")", "&", "<NUM_LIT>", ")", ";", "return", "uint64", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "new", "StringBuilder", "(", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "remotePath", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "fileSystemBlockSize", ")", ".", "append", "(", "<CHAR_LIT:U+002C>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "fundamentalFileSystemBlockSize", ")", ".", "append", "(", "<CHAR_LIT:U+002C>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "fileSystemBlocks", ")", ".", "append", "(", "<CHAR_LIT:U+002C>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "freeFileSystemBlocks", ")", ".", "append", "(", "<CHAR_LIT:U+002C>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "availableFileSystemBlocks", ")", ".", "append", "(", "<CHAR_LIT:U+002C>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "totalFileInodes", ")", ".", "append", "(", "<CHAR_LIT:U+002C>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "freeFileInodes", ")", ".", "append", "(", "<CHAR_LIT:U+002C>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "availableFileInodes", ")", ".", "append", "(", "<CHAR_LIT:U+002C>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "getFileSystemId", "(", ")", ")", ".", "append", "(", "<CHAR_LIT:U+002C>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "fileSystemFlag", ")", ".", "append", "(", "<CHAR_LIT:U+002C>", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "filenameMaxLength", ")", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "void", "init", "(", ")", "{", "Security", ".", "removeProvider", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Security", ".", "insertProviderAt", "(", "new", "org", ".", "spongycastle", ".", "jce", ".", "provider", ".", "BouncyCastleProvider", "(", ")", ",", "Security", ".", "getProviders", "(", ")", ".", "length", "+", "1", ")", ";", "Security", ".", "insertProviderAt", "(", "new", "org", ".", "bouncycastle", ".", "jce", ".", "provider", ".", "BouncyCastleProvider", "(", ")", ",", "Security", ".", "getProviders", "(", ")", ".", "length", "+", "1", ")", ";", "}", "</s>"]
["<s>", "protected", "void", "initSignatureFactories", "(", ")", "{", "setSignatureFactories", "(", "new", "SignatureRSA", ".", "Factory", "(", ")", ",", "new", "SignatureDSA", ".", "Factory", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "initRandomFactory", "(", "boolean", "ignored", ")", "{", "setRandomFactory", "(", "new", "SingletonRandomFactory", "(", "new", "JCERandom", ".", "Factory", "(", ")", ")", ")", ";", "}", "</s>"]
["<s>", "public", "SshClientTemplate", "(", "@", "NonNull", "String", "url", ")", "{", "this", "(", "url", ",", "true", ")", ";", "}", "</s>"]
["<s>", "public", "SshClientTemplate", "(", "@", "NonNull", "String", "url", ",", "boolean", "closeClientOnFinish", ")", "{", "this", ".", "url", "=", "url", ";", "this", ".", "closeClientOnFinish", "=", "closeClientOnFinish", ";", "}", "</s>"]
["<s>", "public", "abstract", "<", "T", ">", "T", "execute", "(", "@", "NonNull", "SSHClient", "client", ")", "throws", "IOException", ";", "</s>"]
["<s>", "private", "SshConnectionPool", "(", ")", "{", "connections", "=", "new", "ConcurrentHashMap", "<", "String", ",", "SSHClient", ">", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "final", "SshConnectionPool", "getInstance", "(", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "instance", "=", "new", "SshConnectionPool", "(", ")", ";", "return", "instance", ";", "}", "</s>"]
["<s>", "public", "SSHClient", "getConnection", "(", "@", "NonNull", "String", "url", ")", "{", "url", "=", "SshClientUtils", ".", "extractBaseUriFrom", "(", "url", ")", ";", "SSHClient", "client", "=", "connections", ".", "get", "(", "url", ")", ";", "if", "(", "client", "=", "=", "null", ")", "{", "client", "=", "create", "(", "url", ")", ";", "if", "(", "client", "!", "=", "null", ")", "connections", ".", "put", "(", "url", ",", "client", ")", ";", "}", "else", "{", "if", "(", "!", "validate", "(", "client", ")", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "expire", "(", "client", ")", ";", "connections", ".", "remove", "(", "url", ")", ";", "client", "=", "create", "(", "url", ")", ";", "if", "(", "client", "!", "=", "null", ")", "connections", ".", "put", "(", "url", ",", "client", ")", ";", "}", "}", "return", "client", ";", "}", "</s>"]
["<s>", "public", "SSHClient", "getConnection", "(", "@", "NonNull", "String", "host", ",", "int", "port", ",", "@", "NonNull", "String", "hostFingerprint", ",", "@", "NonNull", "String", "username", ",", "@", "Nullable", "String", "password", ",", "@", "Nullable", "KeyPair", "keyPair", ")", "{", "String", "url", "=", "SshClientUtils", ".", "deriveSftpPathFrom", "(", "host", ",", "port", ",", "username", ",", "password", ",", "keyPair", ")", ";", "SSHClient", "client", "=", "connections", ".", "get", "(", "url", ")", ";", "if", "(", "client", "=", "=", "null", ")", "{", "client", "=", "create", "(", "host", ",", "port", ",", "hostFingerprint", ",", "username", ",", "password", ",", "keyPair", ")", ";", "if", "(", "client", "!", "=", "null", ")", "connections", ".", "put", "(", "url", ",", "client", ")", ";", "}", "else", "{", "if", "(", "!", "validate", "(", "client", ")", ")", "{", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", ")", ";", "expire", "(", "client", ")", ";", "connections", ".", "remove", "(", "url", ")", ";", "client", "=", "create", "(", "host", ",", "port", ",", "hostFingerprint", ",", "username", ",", "password", ",", "keyPair", ")", ";", "if", "(", "client", "!", "=", "null", ")", "connections", ".", "put", "(", "url", ",", "client", ")", ";", "}", "}", "return", "client", ";", "}", "</s>"]
["<s>", "public", "void", "expungeAllConnections", "(", ")", "{", "AppConfig", ".", "runInBackground", "(", "(", ")", "-", ">", "{", "if", "(", "!", "connections", ".", "isEmpty", "(", ")", ")", "{", "for", "(", "SSHClient", "connection", ":", "connections", ".", "values", "(", ")", ")", "{", "SshClientUtils", ".", "tryDisconnect", "(", "connection", ")", ";", "}", "connections", ".", "clear", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "private", "SSHClient", "create", "(", "@", "NonNull", "String", "url", ")", "{", "ConnectionInfo", "connInfo", "=", "new", "ConnectionInfo", "(", "url", ")", ";", "UtilsHandler", "utilsHandler", "=", "AppConfig", ".", "getInstance", "(", ")", ".", "getUtilsHandler", "(", ")", ";", "String", "pem", "=", "utilsHandler", ".", "getSshAuthPrivateKey", "(", "url", ")", ";", "AtomicReference", "<", "KeyPair", ">", "keyPair", "=", "new", "AtomicReference", "<", ">", "(", "null", ")", ";", "if", "(", "pem", "!", "=", "null", "&", "&", "!", "pem", ".", "isEmpty", "(", ")", ")", "{", "try", "{", "CountDownLatch", "latch", "=", "new", "CountDownLatch", "(", "1", ")", ";", "new", "PemToKeyPairTask", "(", "pem", ",", "result", "-", ">", "{", "keyPair", ".", "set", "(", "result", ")", ";", "latch", ".", "countDown", "(", ")", ";", "}", ")", ".", "execute", "(", ")", ";", "latch", ".", "await", "(", ")", ";", "}", "catch", "(", "InterruptedException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "String", "hostKey", "=", "utilsHandler", ".", "getSshHostKey", "(", "url", ")", ";", "if", "(", "hostKey", "=", "=", "null", ")", "return", "null", ";", "return", "create", "(", "connInfo", ".", "host", ",", "connInfo", ".", "port", ",", "hostKey", ",", "connInfo", ".", "username", ",", "connInfo", ".", "password", ",", "keyPair", ".", "get", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "SSHClient", "create", "(", "@", "NonNull", "String", "host", ",", "int", "port", ",", "@", "NonNull", "String", "hostKey", ",", "@", "NonNull", "String", "username", ",", "@", "Nullable", "String", "password", ",", "@", "Nullable", "KeyPair", "keyPair", ")", "{", "try", "{", "AsyncTaskResult", "<", "SSHClient", ">", "taskResult", "=", "new", "SshAuthenticationTask", "(", "host", ",", "port", ",", "hostKey", ",", "username", ",", "password", ",", "keyPair", ")", ".", "execute", "(", ")", ".", "get", "(", ")", ";", "SSHClient", "client", "=", "taskResult", ".", "result", ";", "return", "client", ";", "}", "catch", "(", "InterruptedException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "catch", "(", "ExecutionException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "boolean", "validate", "(", "@", "NonNull", "SSHClient", "client", ")", "{", "return", "client", ".", "isConnected", "(", ")", "&", "&", "client", ".", "isAuthenticated", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "expire", "(", "@", "NonNull", "SSHClient", "client", ")", "{", "SshClientUtils", ".", "tryDisconnect", "(", "client", ")", ";", "}", "</s>"]
["<s>", "ConnectionInfo", "(", "@", "NonNull", "String", "url", ")", "{", "if", "(", "!", "url", ".", "startsWith", "(", "SSH_URI_PREFIX", ")", ")", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "url", ")", ";", "this", ".", "host", "=", "url", ".", "substring", "(", "url", ".", "lastIndexOf", "(", "<CHAR_LIT>", ")", "+", "1", ",", "url", ".", "lastIndexOf", "(", "<CHAR_LIT::>", ")", ")", ";", "int", "port", "=", "Integer", ".", "parseInt", "(", "url", ".", "substring", "(", "url", ".", "lastIndexOf", "(", "<CHAR_LIT::>", ")", "+", "1", ")", ")", ";", "String", "authString", "=", "url", ".", "substring", "(", "SSH_URI_PREFIX", ".", "length", "(", ")", ",", "url", ".", "lastIndexOf", "(", "<CHAR_LIT>", ")", ")", ";", "String", "[", "]", "userInfo", "=", "authString", ".", "split", "(", "\"", "<STR_LIT::>", "\"", ")", ";", "this", ".", "username", "=", "userInfo", "[", "0", "]", ";", "this", ".", "password", "=", "userInfo", ".", "length", ">", "1", "?", "userInfo", "[", "1", "]", ":", "null", ";", "if", "(", "port", "<", "0", ")", "port", "=", "SSH_DEFAULT_PORT", ";", "this", ".", "port", "=", "port", ";", "}", "</s>"]
["<s>", "public", "static", "Extractor", "getExtractorInstance", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "File", "file", ",", "@", "NonNull", "String", "outputPath", ",", "@", "NonNull", "Extractor", ".", "OnUpdate", "listener", ",", "@", "Nullable", "String", "password", ")", "{", "Extractor", "extractor", ";", "String", "type", "=", "getExtension", "(", "file", ".", "getPath", "(", ")", ")", ";", "if", "(", "isZip", "(", "type", ")", ")", "{", "extractor", "=", "new", "ZipExtractor", "(", "context", ",", "file", ".", "getPath", "(", ")", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "else", "if", "(", "isRar", "(", "type", ")", ")", "{", "extractor", "=", "new", "RarExtractor", "(", "context", ",", "file", ".", "getPath", "(", ")", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "else", "if", "(", "isTar", "(", "type", ")", ")", "{", "extractor", "=", "new", "TarExtractor", "(", "context", ",", "file", ".", "getPath", "(", ")", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "else", "if", "(", "isGzippedTar", "(", "type", ")", ")", "{", "extractor", "=", "new", "GzipExtractor", "(", "context", ",", "file", ".", "getPath", "(", ")", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "else", "if", "(", "isBzippedTar", "(", "type", ")", ")", "{", "extractor", "=", "new", "Bzip2Extractor", "(", "context", ",", "file", ".", "getPath", "(", ")", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "else", "if", "(", "isXzippedTar", "(", "type", ")", ")", "{", "extractor", "=", "new", "XzExtractor", "(", "context", ",", "file", ".", "getPath", "(", ")", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "else", "if", "(", "isLzippedTar", "(", "type", ")", ")", "{", "extractor", "=", "new", "LzmaExtractor", "(", "context", ",", "file", ".", "getPath", "(", ")", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "else", "if", "(", "is7zip", "(", "type", ")", ")", "{", "extractor", "=", "new", "SevenZipExtractor", "(", "context", ",", "file", ".", "getPath", "(", ")", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "else", "{", "return", "null", ";", "}", "return", "extractor", ";", "}", "</s>"]
["<s>", "public", "static", "Decompressor", "getCompressorInstance", "(", "Context", "context", ",", "File", "file", ")", "{", "Decompressor", "decompressor", ";", "String", "type", "=", "getExtension", "(", "file", ".", "getPath", "(", ")", ")", ";", "if", "(", "isZip", "(", "type", ")", ")", "{", "decompressor", "=", "new", "ZipDecompressor", "(", "context", ")", ";", "}", "else", "if", "(", "isRar", "(", "type", ")", ")", "{", "decompressor", "=", "new", "RarDecompressor", "(", "context", ")", ";", "}", "else", "if", "(", "isTar", "(", "type", ")", ")", "{", "decompressor", "=", "new", "TarDecompressor", "(", "context", ")", ";", "}", "else", "if", "(", "isGzippedTar", "(", "type", ")", ")", "{", "decompressor", "=", "new", "GzipDecompressor", "(", "context", ")", ";", "}", "else", "if", "(", "isBzippedTar", "(", "type", ")", ")", "{", "decompressor", "=", "new", "Bzip2Decompressor", "(", "context", ")", ";", "}", "else", "if", "(", "isXzippedTar", "(", "type", ")", ")", "{", "decompressor", "=", "new", "XzDecompressor", "(", "context", ")", ";", "}", "else", "if", "(", "isLzippedTar", "(", "type", ")", ")", "{", "decompressor", "=", "new", "LzmaDecompressor", "(", "context", ")", ";", "}", "else", "if", "(", "is7zip", "(", "type", ")", ")", "{", "decompressor", "=", "new", "SevenZipDecompressor", "(", "context", ")", ";", "}", "else", "{", "return", "null", ";", "}", "decompressor", ".", "setFilePath", "(", "file", ".", "getPath", "(", ")", ")", ";", "return", "decompressor", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isFileExtractable", "(", "String", "path", ")", "{", "String", "type", "=", "getExtension", "(", "path", ")", ";", "return", "isZip", "(", "type", ")", "|", "|", "isTar", "(", "type", ")", "|", "|", "isRar", "(", "type", ")", "|", "|", "isGzippedTar", "(", "type", ")", "|", "|", "is7zip", "(", "type", ")", "|", "|", "isBzippedTar", "(", "type", ")", "|", "|", "isXzippedTar", "(", "type", ")", "|", "|", "isLzippedTar", "(", "type", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "getFileName", "(", "String", "compressedName", ")", "{", "compressedName", "=", "compressedName", ".", "toLowerCase", "(", ")", ";", "if", "(", "isZip", "(", "compressedName", ")", "|", "|", "isTar", "(", "compressedName", ")", "|", "|", "isRar", "(", "compressedName", ")", "|", "|", "is7zip", "(", "compressedName", ")", ")", "{", "return", "compressedName", ".", "substring", "(", "0", ",", "compressedName", ".", "lastIndexOf", "(", "\"", "<STR_LIT:.>", "\"", ")", ")", ";", "}", "else", "if", "(", "isGzippedTar", "(", "compressedName", ")", "|", "|", "isXzippedTar", "(", "compressedName", ")", "|", "|", "isLzippedTar", "(", "compressedName", ")", ")", "{", "return", "compressedName", ".", "substring", "(", "0", ",", "Utils", ".", "nthToLastCharIndex", "(", "<NUM_LIT:2>", ",", "compressedName", ",", "<CHAR_LIT:.>", ")", ")", ";", "}", "else", "{", "return", "compressedName", ";", "}", "}", "</s>"]
["<s>", "public", "static", "final", "boolean", "isEntryPathValid", "(", "String", "entryPath", ")", "{", "return", "!", "entryPath", ".", "startsWith", "(", "\"", "<STR_LIT>", "<STR_LIT:\\\\>", "\"", ")", "&", "&", "!", "entryPath", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "!", "entryPath", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isZip", "(", "String", "type", ")", "{", "return", "type", ".", "endsWith", "(", "fileExtensionZip", ")", "|", "|", "type", ".", "endsWith", "(", "fileExtensionJar", ")", "|", "|", "type", ".", "endsWith", "(", "fileExtensionApk", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isTar", "(", "String", "type", ")", "{", "return", "type", ".", "endsWith", "(", "fileExtensionTar", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isGzippedTar", "(", "String", "type", ")", "{", "return", "type", ".", "endsWith", "(", "fileExtensionGzipTar", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isBzippedTar", "(", "String", "type", ")", "{", "return", "type", ".", "endsWith", "(", "fileExtensionBzip2Tar", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isRar", "(", "String", "type", ")", "{", "return", "type", ".", "endsWith", "(", "fileExtensionRar", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "is7zip", "(", "String", "type", ")", "{", "return", "type", ".", "endsWith", "(", "fileExtension7zip", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isXzippedTar", "(", "String", "type", ")", "{", "return", "type", ".", "endsWith", "(", "fileExtensionXz", ")", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "isLzippedTar", "(", "String", "type", ")", "{", "return", "type", ".", "endsWith", "(", "fileExtensionLzma", ")", ";", "}", "</s>"]
["<s>", "private", "static", "String", "getExtension", "(", "String", "path", ")", "{", "return", "path", ".", "substring", "(", "path", ".", "indexOf", "(", "<CHAR_LIT:.>", ")", "+", "1", ",", "path", ".", "length", "(", ")", ")", ".", "toLowerCase", "(", ")", ";", "}", "</s>"]
["<s>", "public", "Decompressor", "(", "Context", "context", ")", "{", "this", ".", "context", "=", "context", ";", "}", "</s>"]
["<s>", "public", "void", "setFilePath", "(", "String", "path", ")", "{", "filePath", "=", "path", ";", "}", "</s>"]
["<s>", "public", "abstract", "CompressedHelperTask", "changePath", "(", "String", "path", ",", "boolean", "addGoBackItem", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "onFinish", ")", ";", "</s>"]
["<s>", "public", "final", "void", "decompress", "(", "String", "whereToDecompress", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "context", ",", "ExtractService", ".", "class", ")", ";", "intent", ".", "putExtra", "(", "ExtractService", ".", "KEY_PATH_ZIP", ",", "filePath", ")", ";", "intent", ".", "putExtra", "(", "ExtractService", ".", "KEY_ENTRIES_ZIP", ",", "new", "String", "[", "0", "]", ")", ";", "intent", ".", "putExtra", "(", "ExtractService", ".", "KEY_PATH_EXTRACT", ",", "whereToDecompress", ")", ";", "ServiceWatcherUtil", ".", "runService", "(", "context", ",", "intent", ")", ";", "}", "</s>"]
["<s>", "public", "final", "void", "decompress", "(", "String", "whereToDecompress", ",", "String", "[", "]", "subDirectories", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "subDirectories", ".", "length", ";", "i", "+", "+", ")", "{", "subDirectories", "[", "i", "]", "=", "realRelativeDirectory", "(", "subDirectories", "[", "i", "]", ")", ";", "}", "Intent", "intent", "=", "new", "Intent", "(", "context", ",", "ExtractService", ".", "class", ")", ";", "intent", ".", "putExtra", "(", "ExtractService", ".", "KEY_PATH_ZIP", ",", "filePath", ")", ";", "intent", ".", "putExtra", "(", "ExtractService", ".", "KEY_ENTRIES_ZIP", ",", "subDirectories", ")", ";", "intent", ".", "putExtra", "(", "ExtractService", ".", "KEY_PATH_EXTRACT", ",", "whereToDecompress", ")", ";", "ServiceWatcherUtil", ".", "runService", "(", "context", ",", "intent", ")", ";", "}", "</s>"]
["<s>", "protected", "String", "realRelativeDirectory", "(", "String", "dir", ")", "{", "return", "dir", ";", "}", "</s>"]
["<s>", "public", "Bzip2Decompressor", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CompressedHelperTask", "changePath", "(", "String", "path", ",", "boolean", "addGoBackItem", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "onFinish", ")", "{", "return", "new", "Bzip2HelperTask", "(", "filePath", ",", "path", ",", "addGoBackItem", ",", "onFinish", ")", ";", "}", "</s>"]
["<s>", "public", "SevenZipDecompressor", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SevenZipHelperTask", "changePath", "(", "String", "path", ",", "boolean", "addGoBackItem", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "onFinish", ")", "{", "return", "new", "SevenZipHelperTask", "(", "filePath", ",", "path", ",", "addGoBackItem", ",", "onFinish", ")", ";", "}", "</s>"]
["<s>", "public", "GzipDecompressor", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CompressedHelperTask", "changePath", "(", "String", "path", ",", "boolean", "addGoBackItem", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "onFinish", ")", "{", "return", "new", "GzipHelperTask", "(", "context", ",", "filePath", ",", "path", ",", "addGoBackItem", ",", "onFinish", ")", ";", "}", "</s>"]
["<s>", "public", "LzmaDecompressor", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CompressedHelperTask", "changePath", "(", "String", "path", ",", "boolean", "addGoBackItem", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "onFinish", ")", "{", "return", "new", "LzmaHelperTask", "(", "filePath", ",", "path", ",", "addGoBackItem", ",", "onFinish", ")", ";", "}", "</s>"]
["<s>", "public", "ZipDecompressor", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ZipHelperTask", "changePath", "(", "String", "path", ",", "boolean", "addGoBackItem", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "onFinish", ")", "{", "return", "new", "ZipHelperTask", "(", "context", ",", "filePath", ",", "path", ",", "addGoBackItem", ",", "onFinish", ")", ";", "}", "</s>"]
["<s>", "public", "RarDecompressor", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "RarHelperTask", "changePath", "(", "String", "path", ",", "boolean", "addGoBackItem", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "onFinish", ")", "{", "return", "new", "RarHelperTask", "(", "context", ",", "filePath", ",", "path", ",", "addGoBackItem", ",", "onFinish", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "convertName", "(", "FileHeader", "file", ")", "{", "String", "name", "=", "file", ".", "getFileNameString", "(", ")", ".", "replace", "(", "<STR_LIT:\\\\>", ",", "<CHAR_LIT:/>", ")", ";", "if", "(", "file", ".", "isDirectory", "(", ")", ")", "return", "name", "+", "SEPARATOR", ";", "else", "return", "name", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "String", "realRelativeDirectory", "(", "String", "dir", ")", "{", "if", "(", "dir", ".", "endsWith", "(", "SEPARATOR", ")", ")", "dir", "=", "dir", ".", "substring", "(", "0", ",", "dir", ".", "length", "(", ")", "-", "1", ")", ";", "return", "dir", ".", "replace", "(", "SEPARATOR", ".", "toCharArray", "(", ")", "[", "0", "]", ",", "<STR_LIT:\\\\>", ")", ";", "}", "</s>"]
["<s>", "public", "XzDecompressor", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CompressedHelperTask", "changePath", "(", "String", "path", ",", "boolean", "addGoBackItem", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "onFinish", ")", "{", "return", "new", "Bzip2HelperTask", "(", "filePath", ",", "path", ",", "addGoBackItem", ",", "onFinish", ")", ";", "}", "</s>"]
["<s>", "public", "TarDecompressor", "(", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "TarHelperTask", "changePath", "(", "String", "path", ",", "boolean", "addGoBackItem", ",", "OnAsyncTaskFinished", "<", "ArrayList", "<", "CompressedObjectParcelable", ">", ">", "onFinish", ")", "{", "return", "new", "TarHelperTask", "(", "context", ",", "filePath", ",", "path", ",", "addGoBackItem", ",", "onFinish", ")", ";", "}", "</s>"]
["<s>", "public", "Extractor", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "filePath", ",", "@", "NonNull", "String", "outputPath", ",", "@", "NonNull", "Extractor", ".", "OnUpdate", "listener", ",", "@", "Nullable", "String", "password", ")", "{", "this", ".", "context", "=", "context", ";", "this", ".", "filePath", "=", "filePath", ";", "this", ".", "outputPath", "=", "outputPath", ";", "this", ".", "listener", "=", "listener", ";", "this", ".", "invalidArchiveEntries", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "if", "(", "!", "TextUtils", ".", "isEmpty", "(", "password", ")", ")", "this", ".", "password", "=", "password", ".", "toCharArray", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "extractFiles", "(", "String", "[", "]", "files", ")", "throws", "IOException", "{", "HashSet", "<", "String", ">", "filesToExtract", "=", "new", "HashSet", "<", ">", "(", "files", ".", "length", ")", ";", "Collections", ".", "addAll", "(", "filesToExtract", ",", "files", ")", ";", "extractWithFilter", "(", "(", "relativePath", ",", "isDir", ")", "-", ">", "{", "if", "(", "filesToExtract", ".", "contains", "(", "relativePath", ")", ")", "{", "if", "(", "!", "isDir", ")", "filesToExtract", ".", "remove", "(", "relativePath", ")", ";", "return", "true", ";", "}", "else", "{", "for", "(", "String", "path", ":", "filesToExtract", ")", "{", "if", "(", "relativePath", ".", "startsWith", "(", "path", ")", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "public", "void", "extractEverything", "(", ")", "throws", "IOException", "{", "extractWithFilter", "(", "(", "relativePath", ",", "isDir", ")", "-", ">", "true", ")", ";", "}", "</s>"]
["<s>", "public", "List", "<", "String", ">", "getInvalidArchiveEntries", "(", ")", "{", "return", "invalidArchiveEntries", ";", "}", "</s>"]
["<s>", "protected", "abstract", "void", "extractWithFilter", "(", "@", "NonNull", "Filter", "filter", ")", "throws", "IOException", ";", "</s>"]
["<s>", "boolean", "shouldExtract", "(", "String", "relativePath", ",", "boolean", "isDirectory", ")", ";", "</s>"]
["<s>", "void", "onStart", "(", "long", "totalBytes", ",", "String", "firstEntryName", ")", ";", "</s>"]
["<s>", "void", "onUpdate", "(", "String", "entryPath", ")", ";", "</s>"]
["<s>", "void", "onFinish", "(", ")", ";", "</s>"]
["<s>", "boolean", "isCancelled", "(", ")", ";", "</s>"]
["<s>", "protected", "String", "fixEntryName", "(", "String", "entryName", ")", "{", "if", "(", "entryName", ".", "indexOf", "(", "<STR_LIT:\\\\>", ")", ">", "0", ")", "{", "return", "entryName", ".", "replaceAll", "(", "\"", "<STR_LIT:\\\\>", "<STR_LIT:\\\\>", "\"", ",", "CompressedHelper", ".", "SEPARATOR", ")", ";", "}", "else", "{", "return", "entryName", ";", "}", "}", "</s>"]
["<s>", "public", "XzExtractor", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "filePath", ",", "@", "NonNull", "String", "outputPath", ",", "@", "NonNull", "OnUpdate", "listener", ",", "@", "Nullable", "String", "password", ")", "{", "super", "(", "context", ",", "filePath", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "extractWithFilter", "(", "@", "NonNull", "Filter", "filter", ")", "throws", "IOException", "{", "long", "totalBytes", "=", "0", ";", "ArrayList", "<", "TarArchiveEntry", ">", "archiveEntries", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "TarArchiveInputStream", "inputStream", "=", "new", "TarArchiveInputStream", "(", "new", "XZCompressorInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ")", ";", "TarArchiveEntry", "tarArchiveEntry", ";", "while", "(", "(", "tarArchiveEntry", "=", "inputStream", ".", "getNextTarEntry", "(", ")", ")", "!", "=", "null", ")", "{", "if", "(", "filter", ".", "shouldExtract", "(", "tarArchiveEntry", ".", "getName", "(", ")", ",", "tarArchiveEntry", ".", "isDirectory", "(", ")", ")", ")", "{", "archiveEntries", ".", "add", "(", "tarArchiveEntry", ")", ";", "totalBytes", "+", "=", "tarArchiveEntry", ".", "getSize", "(", ")", ";", "}", "}", "listener", ".", "onStart", "(", "totalBytes", ",", "archiveEntries", ".", "get", "(", "0", ")", ".", "getName", "(", ")", ")", ";", "inputStream", ".", "close", "(", ")", ";", "inputStream", "=", "new", "TarArchiveInputStream", "(", "new", "XZCompressorInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ")", ";", "for", "(", "TarArchiveEntry", "entry", ":", "archiveEntries", ")", "{", "if", "(", "!", "listener", ".", "isCancelled", "(", ")", ")", "{", "listener", ".", "onUpdate", "(", "entry", ".", "getName", "(", ")", ")", ";", "while", "(", "entry", ".", "hashCode", "(", ")", "!", "=", "inputStream", ".", "getNextTarEntry", "(", ")", ".", "hashCode", "(", ")", ")", ";", "extractEntry", "(", "context", ",", "inputStream", ",", "entry", ",", "outputPath", ")", ";", "}", "}", "inputStream", ".", "close", "(", ")", ";", "listener", ".", "onFinish", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "extractEntry", "(", "@", "NonNull", "final", "Context", "context", ",", "TarArchiveInputStream", "inputStream", ",", "TarArchiveEntry", "entry", ",", "String", "outputDir", ")", "throws", "IOException", "{", "if", "(", "entry", ".", "isDirectory", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "new", "File", "(", "outputDir", ",", "entry", ".", "getName", "(", ")", ")", ",", "context", ")", ";", "return", ";", "}", "File", "outputFile", "=", "new", "File", "(", "outputDir", ",", "entry", ".", "getName", "(", ")", ")", ";", "if", "(", "!", "outputFile", ".", "getParentFile", "(", ")", ".", "exists", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "outputFile", ".", "getParentFile", "(", ")", ",", "context", ")", ";", "}", "BufferedOutputStream", "outputStream", "=", "new", "BufferedOutputStream", "(", "FileUtil", ".", "getOutputStream", "(", "outputFile", ",", "context", ")", ")", ";", "try", "{", "int", "len", ";", "byte", "buf", "[", "]", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "while", "(", "(", "len", "=", "inputStream", ".", "read", "(", "buf", ")", ")", "!", "=", "-", "1", ")", "{", "outputStream", ".", "write", "(", "buf", ",", "0", ",", "len", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "len", ";", "}", "}", "finally", "{", "outputStream", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "TarExtractor", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "filePath", ",", "@", "NonNull", "String", "outputPath", ",", "@", "NonNull", "OnUpdate", "listener", ",", "@", "Nullable", "String", "password", ")", "{", "super", "(", "context", ",", "filePath", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "extractWithFilter", "(", "@", "NonNull", "Filter", "filter", ")", "throws", "IOException", "{", "long", "totalBytes", "=", "0", ";", "List", "<", "TarArchiveEntry", ">", "archiveEntries", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "TarArchiveInputStream", "inputStream", "=", "new", "TarArchiveInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ";", "TarArchiveEntry", "tarArchiveEntry", ";", "while", "(", "(", "tarArchiveEntry", "=", "inputStream", ".", "getNextTarEntry", "(", ")", ")", "!", "=", "null", ")", "{", "if", "(", "CompressedHelper", ".", "isEntryPathValid", "(", "tarArchiveEntry", ".", "getName", "(", ")", ")", ")", "{", "if", "(", "filter", ".", "shouldExtract", "(", "tarArchiveEntry", ".", "getName", "(", ")", ",", "tarArchiveEntry", ".", "isDirectory", "(", ")", ")", ")", "{", "archiveEntries", ".", "add", "(", "tarArchiveEntry", ")", ";", "totalBytes", "+", "=", "tarArchiveEntry", ".", "getSize", "(", ")", ";", "}", "}", "else", "{", "invalidArchiveEntries", ".", "add", "(", "tarArchiveEntry", ".", "getName", "(", ")", ")", ";", "}", "}", "listener", ".", "onStart", "(", "totalBytes", ",", "archiveEntries", ".", "get", "(", "0", ")", ".", "getName", "(", ")", ")", ";", "inputStream", ".", "close", "(", ")", ";", "inputStream", "=", "new", "TarArchiveInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ";", "for", "(", "TarArchiveEntry", "entry", ":", "archiveEntries", ")", "{", "if", "(", "!", "listener", ".", "isCancelled", "(", ")", ")", "{", "listener", ".", "onUpdate", "(", "entry", ".", "getName", "(", ")", ")", ";", "while", "(", "entry", ".", "hashCode", "(", ")", "!", "=", "inputStream", ".", "getNextTarEntry", "(", ")", ".", "hashCode", "(", ")", ")", ";", "extractEntry", "(", "context", ",", "inputStream", ",", "entry", ",", "outputPath", ")", ";", "}", "}", "inputStream", ".", "close", "(", ")", ";", "listener", ".", "onFinish", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "extractEntry", "(", "@", "NonNull", "final", "Context", "context", ",", "TarArchiveInputStream", "inputStream", ",", "TarArchiveEntry", "entry", ",", "String", "outputDir", ")", "throws", "IOException", "{", "File", "outputFile", "=", "new", "File", "(", "outputDir", ",", "fixEntryName", "(", "entry", ".", "getName", "(", ")", ")", ")", ";", "if", "(", "!", "outputFile", ".", "getCanonicalPath", "(", ")", ".", "startsWith", "(", "outputDir", ")", ")", "{", "throw", "new", "IOException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "entry", ".", "isDirectory", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "outputFile", ",", "context", ")", ";", "return", ";", "}", "if", "(", "!", "outputFile", ".", "getParentFile", "(", ")", ".", "exists", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "outputFile", ".", "getParentFile", "(", ")", ",", "context", ")", ";", "}", "BufferedOutputStream", "outputStream", "=", "new", "BufferedOutputStream", "(", "FileUtil", ".", "getOutputStream", "(", "outputFile", ",", "context", ")", ")", ";", "try", "{", "int", "len", ";", "byte", "buf", "[", "]", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "while", "(", "(", "len", "=", "inputStream", ".", "read", "(", "buf", ")", ")", "!", "=", "-", "1", ")", "{", "if", "(", "!", "listener", ".", "isCancelled", "(", ")", ")", "{", "outputStream", ".", "write", "(", "buf", ",", "0", ",", "len", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "len", ";", "}", "else", "break", ";", "}", "}", "finally", "{", "outputStream", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "RarExtractor", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "filePath", ",", "@", "NonNull", "String", "outputPath", ",", "@", "NonNull", "OnUpdate", "listener", ",", "@", "Nullable", "String", "password", ")", "{", "super", "(", "context", ",", "filePath", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "extractWithFilter", "(", "@", "NonNull", "Filter", "filter", ")", "throws", "IOException", "{", "try", "{", "long", "totalBytes", "=", "0", ";", "Archive", "rarFile", "=", "new", "Archive", "(", "new", "File", "(", "filePath", ")", ")", ";", "ArrayList", "<", "FileHeader", ">", "arrayList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "FileHeader", "header", ":", "rarFile", ".", "getFileHeaders", "(", ")", ")", "{", "if", "(", "CompressedHelper", ".", "isEntryPathValid", "(", "header", ".", "getFileNameString", "(", ")", ")", ")", "{", "if", "(", "filter", ".", "shouldExtract", "(", "header", ".", "getFileNameString", "(", ")", ",", "header", ".", "isDirectory", "(", ")", ")", ")", "{", "arrayList", ".", "add", "(", "header", ")", ";", "totalBytes", "+", "=", "header", ".", "getFullUnpackSize", "(", ")", ";", "}", "}", "else", "{", "invalidArchiveEntries", ".", "add", "(", "header", ".", "getFileNameString", "(", ")", ")", ";", "}", "}", "listener", ".", "onStart", "(", "totalBytes", ",", "arrayList", ".", "get", "(", "0", ")", ".", "getFileNameString", "(", ")", ")", ";", "for", "(", "FileHeader", "entry", ":", "arrayList", ")", "{", "if", "(", "!", "listener", ".", "isCancelled", "(", ")", ")", "{", "listener", ".", "onUpdate", "(", "entry", ".", "getFileNameString", "(", ")", ")", ";", "extractEntry", "(", "context", ",", "rarFile", ",", "entry", ",", "outputPath", ")", ";", "}", "}", "listener", ".", "onFinish", "(", ")", ";", "}", "catch", "(", "RarException", "e", ")", "{", "throw", "new", "IOException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "extractEntry", "(", "@", "NonNull", "final", "Context", "context", ",", "Archive", "zipFile", ",", "FileHeader", "entry", ",", "String", "outputDir", ")", "throws", "RarException", ",", "IOException", "{", "String", "name", "=", "fixEntryName", "(", "entry", ".", "getFileNameString", "(", ")", ")", ".", "replaceAll", "(", "\"", "<STR_LIT:\\\\>", "<STR_LIT:\\\\>", "\"", ",", "CompressedHelper", ".", "SEPARATOR", ")", ";", "File", "outputFile", "=", "new", "File", "(", "outputDir", ",", "name", ")", ";", "if", "(", "!", "outputFile", ".", "getCanonicalPath", "(", ")", ".", "startsWith", "(", "outputDir", ")", ")", "{", "throw", "new", "IOException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "entry", ".", "isDirectory", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "outputFile", ",", "context", ")", ";", "return", ";", "}", "if", "(", "!", "outputFile", ".", "getParentFile", "(", ")", ".", "exists", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "outputFile", ".", "getParentFile", "(", ")", ",", "context", ")", ";", "}", "BufferedInputStream", "inputStream", "=", "new", "BufferedInputStream", "(", "zipFile", ".", "getInputStream", "(", "entry", ")", ")", ";", "BufferedOutputStream", "outputStream", "=", "new", "BufferedOutputStream", "(", "FileUtil", ".", "getOutputStream", "(", "outputFile", ",", "context", ")", ")", ";", "try", "{", "int", "len", ";", "byte", "buf", "[", "]", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "while", "(", "(", "len", "=", "inputStream", ".", "read", "(", "buf", ")", ")", "!", "=", "-", "1", ")", "{", "if", "(", "!", "listener", ".", "isCancelled", "(", ")", ")", "{", "outputStream", ".", "write", "(", "buf", ",", "0", ",", "len", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "len", ";", "}", "else", "break", ";", "}", "}", "finally", "{", "outputStream", ".", "close", "(", ")", ";", "inputStream", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "SevenZipExtractor", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "filePath", ",", "@", "NonNull", "String", "outputPath", ",", "@", "NonNull", "OnUpdate", "listener", ",", "@", "Nullable", "String", "password", ")", "{", "super", "(", "context", ",", "filePath", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "extractWithFilter", "(", "@", "NonNull", "Filter", "filter", ")", "throws", "IOException", "{", "long", "totalBytes", "=", "0", ";", "SevenZFile", "sevenzFile", "=", "(", "password", "!", "=", "null", "&", "&", "password", ".", "length", ">", "0", ")", "?", "new", "SevenZFile", "(", "new", "File", "(", "filePath", ")", ",", "password", ")", ":", "new", "SevenZFile", "(", "new", "File", "(", "filePath", ")", ")", ";", "ArrayList", "<", "SevenZArchiveEntry", ">", "arrayList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "SevenZArchiveEntry", "entry", ":", "sevenzFile", ".", "getEntries", "(", ")", ")", "{", "if", "(", "filter", ".", "shouldExtract", "(", "entry", ".", "getName", "(", ")", ",", "entry", ".", "isDirectory", "(", ")", ")", ")", "{", "arrayList", ".", "add", "(", "entry", ")", ";", "totalBytes", "+", "=", "entry", ".", "getSize", "(", ")", ";", "}", "}", "listener", ".", "onStart", "(", "totalBytes", ",", "arrayList", ".", "get", "(", "0", ")", ".", "getName", "(", ")", ")", ";", "SevenZArchiveEntry", "entry", ";", "while", "(", "(", "entry", "=", "sevenzFile", ".", "getNextEntry", "(", ")", ")", "!", "=", "null", ")", "{", "if", "(", "!", "arrayList", ".", "contains", "(", "entry", ")", ")", "{", "continue", ";", "}", "if", "(", "!", "listener", ".", "isCancelled", "(", ")", ")", "{", "listener", ".", "onUpdate", "(", "entry", ".", "getName", "(", ")", ")", ";", "extractEntry", "(", "context", ",", "sevenzFile", ",", "entry", ",", "outputPath", ")", ";", "}", "}", "sevenzFile", ".", "close", "(", ")", ";", "listener", ".", "onFinish", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "extractEntry", "(", "@", "NonNull", "final", "Context", "context", ",", "SevenZFile", "sevenzFile", ",", "SevenZArchiveEntry", "entry", ",", "String", "outputDir", ")", "throws", "IOException", "{", "String", "name", "=", "entry", ".", "getName", "(", ")", ";", "if", "(", "entry", ".", "isDirectory", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "new", "File", "(", "outputDir", ",", "name", ")", ",", "context", ")", ";", "return", ";", "}", "File", "outputFile", "=", "new", "File", "(", "outputDir", ",", "name", ")", ";", "if", "(", "!", "outputFile", ".", "getParentFile", "(", ")", ".", "exists", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "outputFile", ".", "getParentFile", "(", ")", ",", "context", ")", ";", "}", "BufferedOutputStream", "outputStream", "=", "new", "BufferedOutputStream", "(", "FileUtil", ".", "getOutputStream", "(", "outputFile", ",", "context", ")", ")", ";", "byte", "[", "]", "content", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "long", "progress", "=", "0", ";", "try", "{", "while", "(", "progress", "<", "entry", ".", "getSize", "(", ")", ")", "{", "int", "length", ";", "int", "bytesLeft", "=", "new", "Long", "(", "entry", ".", "getSize", "(", ")", "-", "progress", ")", ".", "intValue", "(", ")", ";", "length", "=", "sevenzFile", ".", "read", "(", "content", ",", "0", ",", "bytesLeft", ">", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "?", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", ":", "bytesLeft", ")", ";", "outputStream", ".", "write", "(", "content", ",", "0", ",", "length", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "length", ";", "progress", "+", "=", "length", ";", "}", "}", "finally", "{", "outputStream", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "GzipExtractor", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "filePath", ",", "@", "NonNull", "String", "outputPath", ",", "@", "NonNull", "OnUpdate", "listener", ",", "@", "Nullable", "String", "password", ")", "{", "super", "(", "context", ",", "filePath", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "extractWithFilter", "(", "@", "NonNull", "Filter", "filter", ")", "throws", "IOException", "{", "long", "totalBytes", "=", "0", ";", "ArrayList", "<", "TarArchiveEntry", ">", "archiveEntries", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "TarArchiveInputStream", "inputStream", "=", "new", "TarArchiveInputStream", "(", "new", "GzipCompressorInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ")", ";", "TarArchiveEntry", "tarArchiveEntry", ";", "while", "(", "(", "tarArchiveEntry", "=", "inputStream", ".", "getNextTarEntry", "(", ")", ")", "!", "=", "null", ")", "{", "if", "(", "CompressedHelper", ".", "isEntryPathValid", "(", "tarArchiveEntry", ".", "getName", "(", ")", ")", ")", "{", "if", "(", "filter", ".", "shouldExtract", "(", "tarArchiveEntry", ".", "getName", "(", ")", ",", "tarArchiveEntry", ".", "isDirectory", "(", ")", ")", ")", "{", "archiveEntries", ".", "add", "(", "tarArchiveEntry", ")", ";", "totalBytes", "+", "=", "tarArchiveEntry", ".", "getSize", "(", ")", ";", "}", "}", "else", "{", "invalidArchiveEntries", ".", "add", "(", "tarArchiveEntry", ".", "getName", "(", ")", ")", ";", "}", "}", "listener", ".", "onStart", "(", "totalBytes", ",", "archiveEntries", ".", "get", "(", "0", ")", ".", "getName", "(", ")", ")", ";", "inputStream", ".", "close", "(", ")", ";", "inputStream", "=", "new", "TarArchiveInputStream", "(", "new", "GzipCompressorInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ")", ";", "for", "(", "TarArchiveEntry", "entry", ":", "archiveEntries", ")", "{", "if", "(", "!", "listener", ".", "isCancelled", "(", ")", ")", "{", "listener", ".", "onUpdate", "(", "entry", ".", "getName", "(", ")", ")", ";", "while", "(", "entry", ".", "hashCode", "(", ")", "!", "=", "inputStream", ".", "getNextTarEntry", "(", ")", ".", "hashCode", "(", ")", ")", ";", "extractEntry", "(", "context", ",", "inputStream", ",", "entry", ",", "outputPath", ")", ";", "}", "}", "inputStream", ".", "close", "(", ")", ";", "listener", ".", "onFinish", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "extractEntry", "(", "@", "NonNull", "final", "Context", "context", ",", "TarArchiveInputStream", "inputStream", ",", "TarArchiveEntry", "entry", ",", "String", "outputDir", ")", "throws", "IOException", "{", "File", "outputFile", "=", "new", "File", "(", "outputDir", ",", "fixEntryName", "(", "entry", ".", "getName", "(", ")", ")", ")", ";", "if", "(", "!", "outputFile", ".", "getCanonicalPath", "(", ")", ".", "startsWith", "(", "outputDir", ")", ")", "{", "throw", "new", "IOException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "entry", ".", "isDirectory", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "outputFile", ",", "context", ")", ";", "return", ";", "}", "if", "(", "!", "outputFile", ".", "getParentFile", "(", ")", ".", "exists", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "outputFile", ".", "getParentFile", "(", ")", ",", "context", ")", ";", "}", "BufferedOutputStream", "outputStream", "=", "new", "BufferedOutputStream", "(", "FileUtil", ".", "getOutputStream", "(", "outputFile", ",", "context", ")", ")", ";", "try", "{", "int", "len", ";", "byte", "buf", "[", "]", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "while", "(", "(", "len", "=", "inputStream", ".", "read", "(", "buf", ")", ")", "!", "=", "-", "1", ")", "{", "if", "(", "!", "listener", ".", "isCancelled", "(", ")", ")", "{", "outputStream", ".", "write", "(", "buf", ",", "0", ",", "len", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "len", ";", "}", "else", "break", ";", "}", "}", "finally", "{", "outputStream", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "ZipExtractor", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "filePath", ",", "@", "NonNull", "String", "outputPath", ",", "@", "NonNull", "OnUpdate", "listener", ",", "@", "Nullable", "String", "password", ")", "{", "super", "(", "context", ",", "filePath", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "extractWithFilter", "(", "@", "NonNull", "Filter", "filter", ")", "throws", "IOException", "{", "long", "totalBytes", "=", "0", ";", "List", "<", "FileHeader", ">", "entriesToExtract", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "try", "{", "ZipFile", "zipfile", "=", "new", "ZipFile", "(", "filePath", ")", ";", "if", "(", "password", "!", "=", "null", "&", "&", "password", ".", "length", ">", "0", ")", "zipfile", ".", "setPassword", "(", "password", ")", ";", "for", "(", "Object", "obj", ":", "zipfile", ".", "getFileHeaders", "(", ")", ")", "{", "FileHeader", "fileHeader", "=", "(", "FileHeader", ")", "obj", ";", "if", "(", "CompressedHelper", ".", "isEntryPathValid", "(", "fileHeader", ".", "getFileName", "(", ")", ")", ")", "{", "if", "(", "filter", ".", "shouldExtract", "(", "fileHeader", ".", "getFileName", "(", ")", ",", "fileHeader", ".", "isDirectory", "(", ")", ")", ")", "{", "entriesToExtract", ".", "add", "(", "fileHeader", ")", ";", "totalBytes", "+", "=", "fileHeader", ".", "getUncompressedSize", "(", ")", ";", "}", "}", "else", "{", "invalidArchiveEntries", ".", "add", "(", "fileHeader", ".", "getFileName", "(", ")", ")", ";", "}", "}", "listener", ".", "onStart", "(", "totalBytes", ",", "entriesToExtract", ".", "get", "(", "0", ")", ".", "getFileName", "(", ")", ")", ";", "for", "(", "FileHeader", "entry", ":", "entriesToExtract", ")", "{", "if", "(", "!", "listener", ".", "isCancelled", "(", ")", ")", "{", "listener", ".", "onUpdate", "(", "entry", ".", "getFileName", "(", ")", ")", ";", "extractEntry", "(", "context", ",", "zipfile", ",", "entry", ",", "outputPath", ")", ";", "}", "}", "listener", ".", "onFinish", "(", ")", ";", "}", "catch", "(", "ZipException", "e", ")", "{", "throw", "new", "IOException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "extractEntry", "(", "@", "NonNull", "final", "Context", "context", ",", "ZipFile", "zipFile", ",", "FileHeader", "entry", ",", "String", "outputDir", ")", "throws", "IOException", ",", "ZipException", "{", "final", "File", "outputFile", "=", "new", "File", "(", "outputDir", ",", "fixEntryName", "(", "entry", ".", "getFileName", "(", ")", ")", ")", ";", "if", "(", "!", "outputFile", ".", "getCanonicalPath", "(", ")", ".", "startsWith", "(", "outputDir", ")", ")", "{", "throw", "new", "IOException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "entry", ".", "isDirectory", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "outputFile", ",", "context", ")", ";", "return", ";", "}", "if", "(", "!", "outputFile", ".", "getParentFile", "(", ")", ".", "exists", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "outputFile", ".", "getParentFile", "(", ")", ",", "context", ")", ";", "}", "BufferedInputStream", "inputStream", "=", "new", "BufferedInputStream", "(", "zipFile", ".", "getInputStream", "(", "entry", ")", ")", ";", "BufferedOutputStream", "outputStream", "=", "new", "BufferedOutputStream", "(", "FileUtil", ".", "getOutputStream", "(", "outputFile", ",", "context", ")", ")", ";", "try", "{", "int", "len", ";", "byte", "buf", "[", "]", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "while", "(", "(", "len", "=", "inputStream", ".", "read", "(", "buf", ")", ")", "!", "=", "-", "1", ")", "{", "if", "(", "!", "listener", ".", "isCancelled", "(", ")", ")", "{", "outputStream", ".", "write", "(", "buf", ",", "0", ",", "len", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "len", ";", "}", "else", "break", ";", "}", "}", "finally", "{", "outputStream", ".", "close", "(", ")", ";", "inputStream", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "LzmaExtractor", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "filePath", ",", "@", "NonNull", "String", "outputPath", ",", "@", "NonNull", "OnUpdate", "listener", ",", "@", "Nullable", "String", "password", ")", "{", "super", "(", "context", ",", "filePath", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "extractWithFilter", "(", "@", "NonNull", "Filter", "filter", ")", "throws", "IOException", "{", "long", "totalBytes", "=", "0", ";", "ArrayList", "<", "TarArchiveEntry", ">", "archiveEntries", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "TarArchiveInputStream", "inputStream", "=", "new", "TarArchiveInputStream", "(", "new", "LZMACompressorInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ")", ";", "TarArchiveEntry", "tarArchiveEntry", ";", "while", "(", "(", "tarArchiveEntry", "=", "inputStream", ".", "getNextTarEntry", "(", ")", ")", "!", "=", "null", ")", "{", "if", "(", "filter", ".", "shouldExtract", "(", "tarArchiveEntry", ".", "getName", "(", ")", ",", "tarArchiveEntry", ".", "isDirectory", "(", ")", ")", ")", "{", "archiveEntries", ".", "add", "(", "tarArchiveEntry", ")", ";", "totalBytes", "+", "=", "tarArchiveEntry", ".", "getSize", "(", ")", ";", "}", "}", "listener", ".", "onStart", "(", "totalBytes", ",", "archiveEntries", ".", "get", "(", "0", ")", ".", "getName", "(", ")", ")", ";", "inputStream", ".", "close", "(", ")", ";", "inputStream", "=", "new", "TarArchiveInputStream", "(", "new", "LZMACompressorInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ")", ";", "for", "(", "TarArchiveEntry", "entry", ":", "archiveEntries", ")", "{", "if", "(", "!", "listener", ".", "isCancelled", "(", ")", ")", "{", "listener", ".", "onUpdate", "(", "entry", ".", "getName", "(", ")", ")", ";", "while", "(", "entry", ".", "hashCode", "(", ")", "!", "=", "inputStream", ".", "getNextTarEntry", "(", ")", ".", "hashCode", "(", ")", ")", ";", "extractEntry", "(", "context", ",", "inputStream", ",", "entry", ",", "outputPath", ")", ";", "}", "}", "inputStream", ".", "close", "(", ")", ";", "listener", ".", "onFinish", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "extractEntry", "(", "@", "NonNull", "final", "Context", "context", ",", "TarArchiveInputStream", "inputStream", ",", "TarArchiveEntry", "entry", ",", "String", "outputDir", ")", "throws", "IOException", "{", "if", "(", "entry", ".", "isDirectory", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "new", "File", "(", "outputDir", ",", "entry", ".", "getName", "(", ")", ")", ",", "context", ")", ";", "return", ";", "}", "File", "outputFile", "=", "new", "File", "(", "outputDir", ",", "entry", ".", "getName", "(", ")", ")", ";", "if", "(", "!", "outputFile", ".", "getParentFile", "(", ")", ".", "exists", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "outputFile", ".", "getParentFile", "(", ")", ",", "context", ")", ";", "}", "BufferedOutputStream", "outputStream", "=", "new", "BufferedOutputStream", "(", "FileUtil", ".", "getOutputStream", "(", "outputFile", ",", "context", ")", ")", ";", "try", "{", "int", "len", ";", "byte", "buf", "[", "]", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "while", "(", "(", "len", "=", "inputStream", ".", "read", "(", "buf", ")", ")", "!", "=", "-", "1", ")", "{", "outputStream", ".", "write", "(", "buf", ",", "0", ",", "len", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "len", ";", "}", "}", "finally", "{", "outputStream", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "Bzip2Extractor", "(", "@", "NonNull", "Context", "context", ",", "@", "NonNull", "String", "filePath", ",", "@", "NonNull", "String", "outputPath", ",", "@", "NonNull", "OnUpdate", "listener", ",", "@", "Nullable", "String", "password", ")", "{", "super", "(", "context", ",", "filePath", ",", "outputPath", ",", "listener", ",", "password", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "extractWithFilter", "(", "@", "NonNull", "Filter", "filter", ")", "throws", "IOException", "{", "long", "totalBytes", "=", "0", ";", "ArrayList", "<", "TarArchiveEntry", ">", "archiveEntries", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "TarArchiveInputStream", "inputStream", "=", "new", "TarArchiveInputStream", "(", "new", "BZip2CompressorInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ")", ";", "TarArchiveEntry", "tarArchiveEntry", ";", "while", "(", "(", "tarArchiveEntry", "=", "inputStream", ".", "getNextTarEntry", "(", ")", ")", "!", "=", "null", ")", "{", "if", "(", "filter", ".", "shouldExtract", "(", "tarArchiveEntry", ".", "getName", "(", ")", ",", "tarArchiveEntry", ".", "isDirectory", "(", ")", ")", ")", "{", "archiveEntries", ".", "add", "(", "tarArchiveEntry", ")", ";", "totalBytes", "+", "=", "tarArchiveEntry", ".", "getSize", "(", ")", ";", "}", "}", "listener", ".", "onStart", "(", "totalBytes", ",", "archiveEntries", ".", "get", "(", "0", ")", ".", "getName", "(", ")", ")", ";", "inputStream", ".", "close", "(", ")", ";", "inputStream", "=", "new", "TarArchiveInputStream", "(", "new", "BZip2CompressorInputStream", "(", "new", "FileInputStream", "(", "filePath", ")", ")", ")", ";", "for", "(", "TarArchiveEntry", "entry", ":", "archiveEntries", ")", "{", "if", "(", "!", "listener", ".", "isCancelled", "(", ")", ")", "{", "listener", ".", "onUpdate", "(", "entry", ".", "getName", "(", ")", ")", ";", "while", "(", "entry", ".", "hashCode", "(", ")", "!", "=", "inputStream", ".", "getNextTarEntry", "(", ")", ".", "hashCode", "(", ")", ")", ";", "extractEntry", "(", "context", ",", "inputStream", ",", "entry", ",", "outputPath", ")", ";", "}", "}", "inputStream", ".", "close", "(", ")", ";", "listener", ".", "onFinish", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "extractEntry", "(", "@", "NonNull", "final", "Context", "context", ",", "TarArchiveInputStream", "inputStream", ",", "TarArchiveEntry", "entry", ",", "String", "outputDir", ")", "throws", "IOException", "{", "if", "(", "entry", ".", "isDirectory", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "new", "File", "(", "outputDir", ",", "entry", ".", "getName", "(", ")", ")", ",", "context", ")", ";", "return", ";", "}", "File", "outputFile", "=", "new", "File", "(", "outputDir", ",", "entry", ".", "getName", "(", ")", ")", ";", "if", "(", "!", "outputFile", ".", "getParentFile", "(", ")", ".", "exists", "(", ")", ")", "{", "FileUtil", ".", "mkdir", "(", "outputFile", ".", "getParentFile", "(", ")", ",", "context", ")", ";", "}", "BufferedOutputStream", "outputStream", "=", "new", "BufferedOutputStream", "(", "FileUtil", ".", "getOutputStream", "(", "outputFile", ",", "context", ")", ")", ";", "try", "{", "int", "len", ";", "byte", "buf", "[", "]", "=", "new", "byte", "[", "GenericCopyUtil", ".", "DEFAULT_BUFFER_SIZE", "]", ";", "while", "(", "(", "len", "=", "inputStream", ".", "read", "(", "buf", ")", ")", "!", "=", "-", "1", ")", "{", "outputStream", ".", "write", "(", "buf", ",", "0", ",", "len", ")", ";", "ServiceWatcherUtil", ".", "position", "+", "=", "len", ";", "}", "}", "finally", "{", "outputStream", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "StreamNotFoundException", "(", ")", "{", "super", "(", "MESSAGE", ")", ";", "}", "</s>"]
["<s>", "public", "StreamNotFoundException", "(", "String", "message", ")", "{", "super", "(", "message", ")", ";", "}", "</s>"]
["<s>", "public", "StreamNotFoundException", "(", "String", "message", ",", "Throwable", "cause", ")", "{", "super", "(", "message", ",", "cause", ")", ";", "}", "</s>"]
["<s>", "public", "StreamNotFoundException", "(", "Throwable", "cause", ")", "{", "super", "(", "MESSAGE", ",", "cause", ")", ";", "}", "</s>"]
["<s>", "public", "ShellNotRunningException", "(", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "HiddenAdapter", "(", "Context", "context", ",", "MainFragment", "mainFrag", ",", "SharedPreferences", "sharedPreferences", ",", "ArrayList", "<", "HybridFile", ">", "items", ",", "MaterialDialog", "materialDialog", ",", "boolean", "hide", ")", "{", "this", ".", "c", "=", "context", ";", "this", ".", "context", "=", "mainFrag", ";", "sharedPrefs", "=", "sharedPreferences", ";", "this", ".", "items", "=", "new", "ArrayList", "<", ">", "(", "items", ")", ";", "this", ".", "hide", "=", "hide", ";", "this", ".", "materialDialog", "=", "materialDialog", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "HiddenViewHolder", "onCreateViewHolder", "(", "ViewGroup", "parent", ",", "int", "viewType", ")", "{", "LayoutInflater", "mInflater", "=", "(", "LayoutInflater", ")", "c", ".", "getSystemService", "(", "Activity", ".", "LAYOUT_INFLATER_SERVICE", ")", ";", "View", "view", "=", "mInflater", ".", "inflate", "(", "R", ".", "layout", ".", "bookmarkrow", ",", "parent", ",", "false", ")", ";", "return", "new", "HiddenViewHolder", "(", "view", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "HiddenViewHolder", "holder", ",", "int", "position", ")", "{", "HybridFile", "file", "=", "items", ".", "get", "(", "position", ")", ";", "holder", ".", "txtTitle", ".", "setText", "(", "file", ".", "getName", "(", ")", ")", ";", "String", "a", "=", "file", ".", "getReadablePath", "(", "file", ".", "getPath", "(", ")", ")", ";", "holder", ".", "txtDesc", ".", "setText", "(", "a", ")", ";", "if", "(", "hide", ")", "{", "holder", ".", "image", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "holder", ".", "image", ".", "setOnClickListener", "(", "view", "-", ">", "{", "if", "(", "!", "file", ".", "isSmb", "(", ")", "&", "&", "file", ".", "isDirectory", "(", ")", ")", "{", "ArrayList", "<", "HybridFileParcelable", ">", "a1", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "HybridFileParcelable", "baseFile", "=", "new", "HybridFileParcelable", "(", "items", ".", "get", "(", "position", ")", ".", "getPath", "(", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "baseFile", ".", "setMode", "(", "OpenMode", ".", "FILE", ")", ";", "a1", ".", "add", "(", "baseFile", ")", ";", "new", "DeleteTask", "(", "context", ".", "getActivity", "(", ")", ".", "getContentResolver", "(", ")", ",", "c", ")", ".", "execute", "(", "(", "a1", ")", ")", ";", "}", "dataUtils", ".", "removeHiddenFile", "(", "items", ".", "get", "(", "position", ")", ".", "getPath", "(", ")", ")", ";", "items", ".", "remove", "(", "items", ".", "get", "(", "position", ")", ")", ";", "notifyDataSetChanged", "(", ")", ";", "}", ")", ";", "holder", ".", "row", ".", "setOnClickListener", "(", "view", "-", ">", "{", "materialDialog", ".", "dismiss", "(", ")", ";", "new", "Thread", "(", "(", ")", "-", ">", "{", "if", "(", "file", ".", "isDirectory", "(", ")", ")", "{", "context", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "context", ".", "loadlist", "(", "file", ".", "getPath", "(", ")", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "}", ")", ";", "}", "else", "{", "if", "(", "!", "file", ".", "isSmb", "(", ")", ")", "{", "context", ".", "getActivity", "(", ")", ".", "runOnUiThread", "(", "(", ")", "-", ">", "{", "FileUtils", ".", "openFile", "(", "new", "File", "(", "file", ".", "getPath", "(", ")", ")", ",", "(", "MainActivity", ")", "context", ".", "getActivity", "(", ")", ",", "sharedPrefs", ")", ";", "}", ")", ";", "}", "}", "}", ")", ".", "start", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "public", "void", "updateDialog", "(", "MaterialDialog", "dialog", ")", "{", "materialDialog", "=", "dialog", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "getItemId", "(", "int", "position", ")", "{", "return", "position", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "return", "items", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ColorAdapter", "(", "Context", "context", ",", "Integer", "[", "]", "colors", ",", "@", "ColorInt", "int", "selectedColor", ",", "OnColorSelected", "l", ")", "{", "super", "(", "context", ",", "R", ".", "layout", ".", "rowlayout", ",", "colors", ")", ";", "this", ".", "selectedColor", "=", "selectedColor", ";", "this", ".", "onColorSelected", "=", "l", ";", "inflater", "=", "(", "LayoutInflater", ")", "getContext", "(", ")", ".", "getSystemService", "(", "Context", ".", "LAYOUT_INFLATER_SERVICE", ")", ";", "}", "</s>"]
["<s>", "@", "ColorRes", "private", "int", "getColorResAt", "(", "int", "position", ")", "{", "return", "getItem", "(", "position", ")", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "View", "getView", "(", "final", "int", "position", ",", "View", "convertView", ",", "@", "NonNull", "ViewGroup", "parent", ")", "{", "CheckableCircleView", "colorView", ";", "if", "(", "convertView", "!", "=", "null", "&", "&", "convertView", "instanceof", "CheckableCircleView", ")", "{", "colorView", "=", "(", "CheckableCircleView", ")", "convertView", ";", "}", "else", "{", "colorView", "=", "(", "CheckableCircleView", ")", "inflater", ".", "inflate", "(", "R", ".", "layout", ".", "dialog_grid_item", ",", "parent", ",", "false", ")", ";", "}", "@", "ColorInt", "int", "color", "=", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "getColorResAt", "(", "position", ")", ")", ";", "colorView", ".", "setChecked", "(", "color", "=", "=", "selectedColor", ")", ";", "colorView", ".", "setColor", "(", "color", ")", ";", "return", "colorView", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onItemClick", "(", "AdapterView", "<", "?", ">", "parent", ",", "View", "view", ",", "int", "position", ",", "long", "id", ")", "{", "this", ".", "selectedColor", "=", "Utils", ".", "getColor", "(", "getContext", "(", ")", ",", "getColorResAt", "(", "position", ")", ")", ";", "(", "(", "CheckableCircleView", ")", "view", ")", ".", "setChecked", "(", "true", ")", ";", "onColorSelected", ".", "onColorSelected", "(", "this", ".", "selectedColor", ")", ";", "}", "</s>"]
["<s>", "void", "onColorSelected", "(", "@", "ColorInt", "int", "color", ")", ";", "</s>"]
["<s>", "public", "AppsAdapter", "(", "Context", "context", ",", "ThemedActivity", "ba", ",", "UtilitiesProvider", "utilsProvider", ",", "AppsAdapterPreloadModel", "modelProvider", ",", "ViewPreloadSizeProvider", "<", "String", ">", "sizeProvider", ",", "int", "resourceId", ",", "AppsListFragment", "app", ")", "{", "super", "(", "context", ",", "resourceId", ")", ";", "themedActivity", "=", "ba", ";", "this", ".", "utilsProvider", "=", "utilsProvider", ";", "this", ".", "modelProvider", "=", "modelProvider", ";", "this", ".", "sizeProvider", "=", "sizeProvider", ";", "this", ".", "context", "=", "context", ";", "this", ".", "app", "=", "app", ";", "}", "</s>"]
["<s>", "public", "void", "setData", "(", "List", "<", "AppDataParcelable", ">", "data", ")", "{", "clear", "(", ")", ";", "if", "(", "data", "!", "=", "null", ")", "{", "addAll", "(", "data", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "View", "getView", "(", "final", "int", "position", ",", "View", "convertView", ",", "ViewGroup", "parent", ")", "{", "final", "AppDataParcelable", "rowItem", "=", "getItem", "(", "position", ")", ";", "View", "view", ";", "if", "(", "convertView", "=", "=", "null", ")", "{", "LayoutInflater", "mInflater", "=", "(", "LayoutInflater", ")", "context", ".", "getSystemService", "(", "Activity", ".", "LAYOUT_INFLATER_SERVICE", ")", ";", "view", "=", "mInflater", ".", "inflate", "(", "R", ".", "layout", ".", "rowlayout", ",", "null", ")", ";", "final", "AppHolder", "vholder", "=", "new", "AppHolder", "(", "view", ")", ";", "view", ".", "findViewById", "(", "R", ".", "id", ".", "generic_icon", ")", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "view", ".", "findViewById", "(", "R", ".", "id", ".", "picture_icon", ")", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "view", ".", "setTag", "(", "vholder", ")", ";", "sizeProvider", ".", "setView", "(", "view", ".", "findViewById", "(", "R", ".", "id", ".", "apk_icon", ")", ")", ";", "}", "else", "{", "view", "=", "convertView", ";", "}", "final", "AppHolder", "holder", "=", "(", "AppHolder", ")", "view", ".", "getTag", "(", ")", ";", "modelProvider", ".", "loadApkImage", "(", "rowItem", ".", "path", ",", "holder", ".", "apkIcon", ")", ";", "if", "(", "holder", ".", "about", "!", "=", "null", ")", "{", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "holder", ".", "about", ".", "setColorFilter", "(", "Color", ".", "parseColor", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "showPopup", "(", "holder", ".", "about", ",", "rowItem", ")", ";", "}", "holder", ".", "txtTitle", ".", "setText", "(", "rowItem", ".", "label", ")", ";", "AnimUtils", ".", "marqueeAfterDelay", "(", "<NUM_LIT>", ",", "holder", ".", "txtTitle", ")", ";", "holder", ".", "txtDesc", ".", "setText", "(", "rowItem", ".", "fileSize", ")", ";", "holder", ".", "rl", ".", "setClickable", "(", "true", ")", ";", "holder", ".", "rl", ".", "setOnClickListener", "(", "p1", "-", ">", "{", "Intent", "i1", "=", "app", ".", "getActivity", "(", ")", ".", "getPackageManager", "(", ")", ".", "getLaunchIntentForPackage", "(", "rowItem", ".", "packageName", ")", ";", "if", "(", "i1", "!", "=", "null", ")", "app", ".", "startActivity", "(", "i1", ")", ";", "else", "Toast", ".", "makeText", "(", "app", ".", "getActivity", "(", ")", ",", "app", ".", "getString", "(", "R", ".", "string", ".", "not_allowed", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", ")", ";", "if", "(", "myChecked", ".", "get", "(", "position", ")", ")", "{", "holder", ".", "rl", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "appsadapter_background", ")", ")", ";", "}", "else", "{", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "holder", ".", "rl", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "safr_ripple_white", ")", ";", "}", "else", "{", "holder", ".", "rl", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "safr_ripple_black", ")", ";", "}", "}", "return", "view", ";", "}", "</s>"]
["<s>", "private", "void", "showPopup", "(", "View", "v", ",", "final", "AppDataParcelable", "rowItem", ")", "{", "v", ".", "setOnClickListener", "(", "view", "-", ">", "{", "PopupMenu", "popupMenu", "=", "new", "PopupMenu", "(", "app", ".", "getActivity", "(", ")", ",", "view", ")", ";", "popupMenu", ".", "setOnMenuItemClickListener", "(", "item", "-", ">", "{", "int", "colorAccent", "=", "themedActivity", ".", "getAccent", "(", ")", ";", "switch", "(", "item", ".", "getItemId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "open", ":", "Intent", "i1", "=", "app", ".", "getActivity", "(", ")", ".", "getPackageManager", "(", ")", ".", "getLaunchIntentForPackage", "(", "rowItem", ".", "packageName", ")", ";", "if", "(", "i1", "!", "=", "null", ")", "app", ".", "startActivity", "(", "i1", ")", ";", "else", "Toast", ".", "makeText", "(", "app", ".", "getActivity", "(", ")", ",", "app", ".", "getString", "(", "R", ".", "string", ".", "not_allowed", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "share", ":", "ArrayList", "<", "File", ">", "arrayList2", "=", "new", "ArrayList", "<", "File", ">", "(", ")", ";", "arrayList2", ".", "add", "(", "new", "File", "(", "rowItem", ".", "path", ")", ")", ";", "themedActivity", ".", "getColorPreference", "(", ")", ";", "FileUtils", ".", "shareFiles", "(", "arrayList2", ",", "app", ".", "getActivity", "(", ")", ",", "utilsProvider", ".", "getAppTheme", "(", ")", ",", "colorAccent", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "unins", ":", "final", "HybridFileParcelable", "f1", "=", "new", "HybridFileParcelable", "(", "rowItem", ".", "path", ")", ";", "f1", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "if", "(", "(", "Integer", ".", "valueOf", "(", "rowItem", ".", "data", ".", "substring", "(", "0", ",", "rowItem", ".", "data", ".", "indexOf", "(", "\"", "<STR_LIT:_>", "\"", ")", ")", ")", "&", "ApplicationInfo", ".", "FLAG_SYSTEM", ")", "!", "=", "0", ")", "{", "if", "(", "app", ".", "Sp", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_ROOTMODE", ",", "false", ")", ")", "{", "MaterialDialog", ".", "Builder", "builder1", "=", "new", "MaterialDialog", ".", "Builder", "(", "app", ".", "getActivity", "(", ")", ")", ";", "builder1", ".", "theme", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ".", "content", "(", "app", ".", "getString", "(", "R", ".", "string", ".", "unin_system_apk", ")", ")", ".", "title", "(", "app", ".", "getString", "(", "R", ".", "string", ".", "warning", ")", ")", ".", "negativeColor", "(", "colorAccent", ")", ".", "positiveColor", "(", "colorAccent", ")", ".", "negativeText", "(", "app", ".", "getString", "(", "R", ".", "string", ".", "no", ")", ")", ".", "positiveText", "(", "app", ".", "getString", "(", "R", ".", "string", ".", "yes", ")", ")", ".", "onNegative", "(", "(", "(", "dialog", ",", "which", ")", "-", ">", "dialog", ".", "cancel", "(", ")", ")", ")", ".", "onPositive", "(", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "ArrayList", "<", "HybridFileParcelable", ">", "files", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "String", "parent", "=", "f1", ".", "getParent", "(", "context", ")", ";", "if", "(", "!", "parent", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "!", "parent", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "HybridFileParcelable", "baseFile", "=", "new", "HybridFileParcelable", "(", "f1", ".", "getParent", "(", "context", ")", ")", ";", "baseFile", ".", "setMode", "(", "OpenMode", ".", "ROOT", ")", ";", "files", ".", "add", "(", "baseFile", ")", ";", "}", "else", "files", ".", "add", "(", "f1", ")", ";", "}", "else", "{", "files", ".", "add", "(", "f1", ")", ";", "}", "new", "DeleteTask", "(", "app", ".", "getActivity", "(", ")", ".", "getContentResolver", "(", ")", ",", "app", ".", "getActivity", "(", ")", ")", ".", "execute", "(", "(", "files", ")", ")", ";", "}", ")", ")", ".", "build", "(", ")", ".", "show", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "app", ".", "getActivity", "(", ")", ",", "app", ".", "getString", "(", "R", ".", "string", ".", "enablerootmde", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", "else", "{", "app", ".", "unin", "(", "rowItem", ".", "packageName", ")", ";", "}", "return", "true", ";", "case", "R", ".", "id", ".", "play", ":", "Intent", "intent1", "=", "new", "Intent", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "try", "{", "intent1", ".", "setData", "(", "Uri", ".", "parse", "(", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "rowItem", ".", "packageName", ")", ")", ")", ";", "app", ".", "startActivity", "(", "intent1", ")", ";", "}", "catch", "(", "ActivityNotFoundException", "ifPlayStoreNotInstalled", ")", "{", "intent1", ".", "setData", "(", "Uri", ".", "parse", "(", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "rowItem", ".", "packageName", ")", ")", ")", ";", "app", ".", "startActivity", "(", "intent1", ")", ";", "}", "return", "true", ";", "case", "R", ".", "id", ".", "properties", ":", "app", ".", "startActivity", "(", "new", "Intent", "(", "android", ".", "provider", ".", "Settings", ".", "ACTION_APPLICATION_DETAILS_SETTINGS", ",", "Uri", ".", "parse", "(", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "rowItem", ".", "packageName", ")", ")", ")", ")", ";", "return", "true", ";", "case", "R", ".", "id", ".", "backup", ":", "Toast", ".", "makeText", "(", "app", ".", "getActivity", "(", ")", ",", "app", ".", "getString", "(", "R", ".", "string", ".", "copyingapk", ")", "+", "Environment", ".", "getExternalStorageDirectory", "(", ")", ".", "getPath", "(", ")", "+", "\"", "<STR_LIT>", "\"", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "File", "f", "=", "new", "File", "(", "rowItem", ".", "path", ")", ";", "ArrayList", "<", "HybridFileParcelable", ">", "ab", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "File", "dst", "=", "new", "File", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ".", "getPath", "(", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "!", "dst", ".", "exists", "(", ")", "|", "|", "!", "dst", ".", "isDirectory", "(", ")", ")", "dst", ".", "mkdirs", "(", ")", ";", "Intent", "intent", "=", "new", "Intent", "(", "app", ".", "getActivity", "(", ")", ",", "CopyService", ".", "class", ")", ";", "HybridFileParcelable", "baseFile", "=", "RootHelper", ".", "generateBaseFile", "(", "f", ",", "true", ")", ";", "baseFile", ".", "setName", "(", "rowItem", ".", "label", "+", "\"", "<STR_LIT:_>", "\"", "+", "rowItem", ".", "packageName", ".", "substring", "(", "rowItem", ".", "packageName", ".", "indexOf", "(", "\"", "<STR_LIT:_>", "\"", ")", "+", "1", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "ab", ".", "add", "(", "baseFile", ")", ";", "intent", ".", "putParcelableArrayListExtra", "(", "CopyService", ".", "TAG_COPY_SOURCES", ",", "ab", ")", ";", "intent", ".", "putExtra", "(", "CopyService", ".", "TAG_COPY_TARGET", ",", "dst", ".", "getPath", "(", ")", ")", ";", "intent", ".", "putExtra", "(", "CopyService", ".", "TAG_COPY_OPEN_MODE", ",", "0", ")", ";", "ServiceWatcherUtil", ".", "runService", "(", "app", ".", "getActivity", "(", ")", ",", "intent", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}", ")", ";", "popupMenu", ".", "inflate", "(", "R", ".", "menu", ".", "app_options", ")", ";", "popupMenu", ".", "show", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "public", "RecyclerAdapter", "(", "PreferenceActivity", "preferenceActivity", ",", "MainFragment", "m", ",", "UtilitiesProvider", "utilsProvider", ",", "SharedPreferences", "sharedPrefs", ",", "RecyclerView", "recyclerView", ",", "ArrayList", "<", "LayoutElementParcelable", ">", "itemsRaw", ",", "Context", "context", ")", "{", "setHasStableIds", "(", "true", ")", ";", "this", ".", "preferenceActivity", "=", "preferenceActivity", ";", "this", ".", "mainFrag", "=", "m", ";", "this", ".", "utilsProvider", "=", "utilsProvider", ";", "this", ".", "context", "=", "context", ";", "this", ".", "sharedPrefs", "=", "sharedPrefs", ";", "mInflater", "=", "(", "LayoutInflater", ")", "context", ".", "getSystemService", "(", "Activity", ".", "LAYOUT_INFLATER_SERVICE", ")", ";", "accentColor", "=", "m", ".", "getMainActivity", "(", ")", ".", "getAccent", "(", ")", ";", "iconSkinColor", "=", "m", ".", "getMainActivity", "(", ")", ".", "getCurrentColorPreference", "(", ")", ".", "iconSkin", ";", "goBackColor", "=", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "goback_item", ")", ";", "videoColor", "=", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "video_item", ")", ";", "audioColor", "=", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "audio_item", ")", ";", "pdfColor", "=", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "pdf_item", ")", ";", "codeColor", "=", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "code_item", ")", ";", "textColor", "=", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "text_item", ")", ";", "archiveColor", "=", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "archive_item", ")", ";", "genericColor", "=", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "generic_item", ")", ";", "minRowHeight", "=", "context", ".", "getResources", "(", ")", ".", "getDimension", "(", "R", ".", "dimen", ".", "minimal_row_height", ")", ";", "grey_color", "=", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "grey", ")", ";", "apkColor", "=", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "apk_item", ")", ";", "setItems", "(", "recyclerView", ",", "itemsRaw", ",", "false", ")", ";", "}", "</s>"]
["<s>", "public", "void", "toggleChecked", "(", "int", "position", ",", "ImageView", "imageView", ")", "{", "if", "(", "itemsDigested", ".", "get", "(", "position", ")", ".", "getChecked", "(", ")", "=", "=", "ListItem", ".", "UNCHECKABLE", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "!", "stoppedAnimation", ")", "mainFrag", ".", "stopAnimation", "(", ")", ";", "if", "(", "itemsDigested", ".", "get", "(", "position", ")", ".", "getChecked", "(", ")", "=", "=", "ListItem", ".", "CHECKED", ")", "{", "itemsDigested", ".", "get", "(", "position", ")", ".", "setChecked", "(", "false", ")", ";", "Animation", "iconAnimation", "=", "AnimationUtils", ".", "loadAnimation", "(", "context", ",", "R", ".", "anim", ".", "check_out", ")", ";", "if", "(", "imageView", "!", "=", "null", ")", "{", "imageView", ".", "setAnimation", "(", "iconAnimation", ")", ";", "}", "else", "{", "}", "}", "else", "{", "itemsDigested", ".", "get", "(", "position", ")", ".", "setChecked", "(", "true", ")", ";", "Animation", "iconAnimation", "=", "AnimationUtils", ".", "loadAnimation", "(", "context", ",", "R", ".", "anim", ".", "check_in", ")", ";", "if", "(", "imageView", "!", "=", "null", ")", "{", "imageView", ".", "setAnimation", "(", "iconAnimation", ")", ";", "}", "else", "{", "}", "if", "(", "mainFrag", ".", "mActionMode", "=", "=", "null", "|", "|", "!", "mainFrag", ".", "selection", ")", "{", "mainFrag", ".", "selection", "=", "true", ";", "mainFrag", ".", "mActionMode", "=", "mainFrag", ".", "getMainActivity", "(", ")", ".", "startSupportActionMode", "(", "mainFrag", ".", "mActionModeCallback", ")", ";", "}", "}", "notifyItemChanged", "(", "position", ")", ";", "if", "(", "mainFrag", ".", "mActionMode", "!", "=", "null", "&", "&", "mainFrag", ".", "selection", ")", "{", "mainFrag", ".", "mActionMode", ".", "invalidate", "(", ")", ";", "}", "if", "(", "getCheckedItems", "(", ")", ".", "size", "(", ")", "=", "=", "0", ")", "{", "mainFrag", ".", "selection", "=", "false", ";", "mainFrag", ".", "mActionMode", ".", "finish", "(", ")", ";", "mainFrag", ".", "mActionMode", "=", "null", ";", "}", "}", "</s>"]
["<s>", "public", "void", "toggleChecked", "(", "boolean", "b", ",", "String", "path", ")", "{", "int", "i", "=", "path", ".", "equals", "(", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "!", "getBoolean", "(", "PREFERENCE_SHOW_GOBACK_BUTTON", ")", "?", "0", ":", "1", ";", "for", "(", ";", "i", "<", "itemsDigested", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "ListItem", "item", "=", "itemsDigested", ".", "get", "(", "i", ")", ";", "if", "(", "b", "&", "&", "item", ".", "getChecked", "(", ")", "!", "=", "ListItem", ".", "CHECKED", ")", "{", "item", ".", "setChecked", "(", "true", ")", ";", "notifyItemChanged", "(", "i", ")", ";", "}", "else", "if", "(", "!", "b", "&", "&", "item", ".", "getChecked", "(", ")", "=", "=", "ListItem", ".", "CHECKED", ")", "{", "item", ".", "setChecked", "(", "false", ")", ";", "notifyItemChanged", "(", "i", ")", ";", "}", "}", "if", "(", "mainFrag", ".", "mActionMode", "!", "=", "null", ")", "{", "mainFrag", ".", "mActionMode", ".", "invalidate", "(", ")", ";", "}", "if", "(", "getCheckedItems", "(", ")", ".", "size", "(", ")", "=", "=", "0", ")", "{", "mainFrag", ".", "selection", "=", "false", ";", "if", "(", "mainFrag", ".", "mActionMode", "!", "=", "null", ")", "{", "mainFrag", ".", "mActionMode", ".", "finish", "(", ")", ";", "}", "mainFrag", ".", "mActionMode", "=", "null", ";", "}", "}", "</s>"]
["<s>", "public", "void", "toggleChecked", "(", "boolean", "b", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "itemsDigested", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "ListItem", "item", "=", "itemsDigested", ".", "get", "(", "i", ")", ";", "if", "(", "b", "&", "&", "item", ".", "getChecked", "(", ")", "!", "=", "ListItem", ".", "CHECKED", ")", "{", "item", ".", "setChecked", "(", "true", ")", ";", "notifyItemChanged", "(", "i", ")", ";", "}", "else", "if", "(", "!", "b", "&", "&", "item", ".", "getChecked", "(", ")", "=", "=", "ListItem", ".", "CHECKED", ")", "{", "item", ".", "setChecked", "(", "false", ")", ";", "notifyItemChanged", "(", "i", ")", ";", "}", "}", "if", "(", "mainFrag", ".", "mActionMode", "!", "=", "null", ")", "{", "mainFrag", ".", "mActionMode", ".", "invalidate", "(", ")", ";", "}", "if", "(", "getCheckedItems", "(", ")", ".", "size", "(", ")", "=", "=", "0", ")", "{", "mainFrag", ".", "selection", "=", "false", ";", "if", "(", "mainFrag", ".", "mActionMode", "!", "=", "null", ")", "mainFrag", ".", "mActionMode", ".", "finish", "(", ")", ";", "mainFrag", ".", "mActionMode", "=", "null", ";", "}", "}", "</s>"]
["<s>", "public", "ArrayList", "<", "LayoutElementParcelable", ">", "getCheckedItems", "(", ")", "{", "ArrayList", "<", "LayoutElementParcelable", ">", "selected", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "itemsDigested", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "if", "(", "itemsDigested", ".", "get", "(", "i", ")", ".", "getChecked", "(", ")", "=", "=", "ListItem", ".", "CHECKED", ")", "{", "selected", ".", "add", "(", "itemsDigested", ".", "get", "(", "i", ")", ".", "elem", ")", ";", "}", "}", "return", "selected", ";", "}", "</s>"]
["<s>", "public", "boolean", "areAllChecked", "(", "String", "path", ")", "{", "boolean", "allChecked", "=", "true", ";", "int", "i", "=", "(", "path", ".", "equals", "(", "\"", "<STR_LIT:/>", "\"", ")", "|", "|", "!", "getBoolean", "(", "PREFERENCE_SHOW_GOBACK_BUTTON", ")", ")", "?", "0", ":", "1", ";", "for", "(", ";", "i", "<", "itemsDigested", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "if", "(", "itemsDigested", ".", "get", "(", "i", ")", ".", "getChecked", "(", ")", "=", "=", "ListItem", ".", "NOT_CHECKED", ")", "{", "allChecked", "=", "false", ";", "}", "}", "return", "allChecked", ";", "}", "</s>"]
["<s>", "public", "ArrayList", "<", "Integer", ">", "getCheckedItemsIndex", "(", ")", "{", "ArrayList", "<", "Integer", ">", "checked", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "itemsDigested", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "if", "(", "itemsDigested", ".", "get", "(", "i", ")", ".", "getChecked", "(", ")", "=", "=", "ListItem", ".", "CHECKED", ")", "{", "checked", ".", "add", "(", "i", ")", ";", "}", "}", "return", "checked", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onViewDetachedFromWindow", "(", "RecyclerView", ".", "ViewHolder", "holder", ")", "{", "if", "(", "holder", "instanceof", "ItemViewHolder", ")", "{", "(", "(", "ItemViewHolder", ")", "holder", ")", ".", "rl", ".", "clearAnimation", "(", ")", ";", "(", "(", "ItemViewHolder", ")", "holder", ")", ".", "txtTitle", ".", "setSelected", "(", "false", ")", ";", "}", "super", ".", "onViewDetachedFromWindow", "(", "holder", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onViewAttachedToWindow", "(", "RecyclerView", ".", "ViewHolder", "holder", ")", "{", "super", ".", "onViewAttachedToWindow", "(", "holder", ")", ";", "if", "(", "holder", "instanceof", "ItemViewHolder", ")", "{", "AnimUtils", ".", "marqueeAfterDelay", "(", "<NUM_LIT>", ",", "(", "(", "ItemViewHolder", ")", "holder", ")", ".", "txtTitle", ")", ";", "}", "super", ".", "onViewAttachedToWindow", "(", "holder", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onFailedToRecycleView", "(", "RecyclerView", ".", "ViewHolder", "holder", ")", "{", "(", "(", "ItemViewHolder", ")", "holder", ")", ".", "rl", ".", "clearAnimation", "(", ")", ";", "(", "(", "ItemViewHolder", ")", "holder", ")", ".", "txtTitle", ".", "setSelected", "(", "false", ")", ";", "return", "super", ".", "onFailedToRecycleView", "(", "holder", ")", ";", "}", "</s>"]
["<s>", "private", "void", "animate", "(", "ItemViewHolder", "holder", ")", "{", "holder", ".", "rl", ".", "clearAnimation", "(", ")", ";", "Animation", "localAnimation", "=", "AnimationUtils", ".", "loadAnimation", "(", "context", ",", "R", ".", "anim", ".", "fade_in_top", ")", ";", "localAnimation", ".", "setStartOffset", "(", "this", ".", "offset", ")", ";", "holder", ".", "rl", ".", "startAnimation", "(", "localAnimation", ")", ";", "this", ".", "offset", "+", "=", "<NUM_LIT:30>", ";", "}", "</s>"]
["<s>", "public", "void", "addItem", "(", "LayoutElementParcelable", "e", ")", "{", "if", "(", "mainFrag", ".", "IS_LIST", "&", "&", "itemsDigested", ".", "size", "(", ")", ">", "0", ")", "{", "itemsDigested", ".", "add", "(", "itemsDigested", ".", "size", "(", ")", "-", "1", ",", "new", "ListItem", "(", "e", ")", ")", ";", "}", "else", "if", "(", "mainFrag", ".", "IS_LIST", ")", "{", "itemsDigested", ".", "add", "(", "new", "ListItem", "(", "e", ")", ")", ";", "itemsDigested", ".", "add", "(", "new", "ListItem", "(", "EMPTY_LAST_ITEM", ")", ")", ";", "}", "else", "{", "itemsDigested", ".", "add", "(", "new", "ListItem", "(", "e", ")", ")", ";", "}", "notifyItemInserted", "(", "getItemCount", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setItems", "(", "RecyclerView", "recyclerView", ",", "ArrayList", "<", "LayoutElementParcelable", ">", "arrayList", ")", "{", "setItems", "(", "recyclerView", ",", "arrayList", ",", "true", ")", ";", "}", "</s>"]
["<s>", "private", "void", "setItems", "(", "RecyclerView", "recyclerView", ",", "ArrayList", "<", "LayoutElementParcelable", ">", "arrayList", ",", "boolean", "invalidate", ")", "{", "if", "(", "preloader", "!", "=", "null", ")", "{", "recyclerView", ".", "removeOnScrollListener", "(", "preloader", ")", ";", "preloader", "=", "null", ";", "}", "itemsDigested", ".", "clear", "(", ")", ";", "offset", "=", "0", ";", "stoppedAnimation", "=", "false", ";", "ArrayList", "<", "IconDataParcelable", ">", "uris", "=", "new", "ArrayList", "<", ">", "(", "itemsDigested", ".", "size", "(", ")", ")", ";", "for", "(", "LayoutElementParcelable", "e", ":", "arrayList", ")", "{", "itemsDigested", ".", "add", "(", "new", "ListItem", "(", "e", ")", ")", ";", "uris", ".", "add", "(", "e", "!", "=", "null", "?", "e", ".", "iconData", ":", "null", ")", ";", "}", "if", "(", "mainFrag", ".", "IS_LIST", "&", "&", "itemsDigested", ".", "size", "(", ")", ">", "0", ")", "{", "itemsDigested", ".", "add", "(", "new", "ListItem", "(", "EMPTY_LAST_ITEM", ")", ")", ";", "uris", ".", "add", "(", "null", ")", ";", "}", "for", "(", "int", "i", "=", "0", ";", "i", "<", "itemsDigested", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "itemsDigested", ".", "get", "(", "i", ")", ".", "setAnimate", "(", "false", ")", ";", "}", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_HEADERS", ")", ")", "{", "createHeaders", "(", "invalidate", ",", "uris", ")", ";", "}", "sizeProvider", "=", "new", "RecyclerPreloadSizeProvider", "(", "this", ")", ";", "modelProvider", "=", "new", "RecyclerPreloadModelProvider", "(", "mainFrag", ",", "uris", ")", ";", "preloader", "=", "new", "RecyclerViewPreloader", "<", ">", "(", "GlideApp", ".", "with", "(", "mainFrag", ")", ",", "modelProvider", ",", "sizeProvider", ",", "GlideConstants", ".", "MAX_PRELOAD_FILES", ")", ";", "recyclerView", ".", "addOnScrollListener", "(", "preloader", ")", ";", "}", "</s>"]
["<s>", "public", "void", "createHeaders", "(", "boolean", "invalidate", ",", "List", "<", "IconDataParcelable", ">", "uris", ")", "{", "boolean", "[", "]", "headers", "=", "new", "boolean", "[", "]", "{", "false", ",", "false", "}", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "itemsDigested", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "if", "(", "itemsDigested", ".", "get", "(", "i", ")", ".", "elem", "!", "=", "null", ")", "{", "LayoutElementParcelable", "nextItem", "=", "itemsDigested", ".", "get", "(", "i", ")", ".", "elem", ";", "if", "(", "!", "headers", "[", "0", "]", "&", "&", "nextItem", ".", "isDirectory", ")", "{", "headers", "[", "0", "]", "=", "true", ";", "itemsDigested", ".", "add", "(", "i", ",", "new", "ListItem", "(", "TYPE_HEADER_FOLDERS", ")", ")", ";", "uris", ".", "add", "(", "i", ",", "null", ")", ";", "continue", ";", "}", "if", "(", "!", "headers", "[", "1", "]", "&", "&", "!", "nextItem", ".", "isDirectory", "&", "&", "!", "nextItem", ".", "title", ".", "equals", "(", "\"", "<STR_LIT:.>", "\"", ")", "&", "&", "!", "nextItem", ".", "title", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "headers", "[", "1", "]", "=", "true", ";", "itemsDigested", ".", "add", "(", "i", ",", "new", "ListItem", "(", "TYPE_HEADER_FILES", ")", ")", ";", "uris", ".", "add", "(", "i", ",", "null", ")", ";", "continue", ";", "}", "}", "}", "if", "(", "invalidate", ")", "{", "notifyDataSetChanged", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "return", "itemsDigested", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "getItemId", "(", "int", "position", ")", "{", "return", "position", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemViewType", "(", "int", "position", ")", "{", "if", "(", "itemsDigested", ".", "get", "(", "position", ")", ".", "specialType", "!", "=", "-", "1", ")", "{", "return", "itemsDigested", ".", "get", "(", "position", ")", ".", "specialType", ";", "}", "else", "{", "return", "TYPE_ITEM", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "RecyclerView", ".", "ViewHolder", "onCreateViewHolder", "(", "ViewGroup", "parent", ",", "int", "viewType", ")", "{", "View", "view", ";", "switch", "(", "viewType", ")", "{", "case", "TYPE_HEADER_FOLDERS", ":", "case", "TYPE_HEADER_FILES", ":", "if", "(", "mainFrag", ".", "IS_LIST", ")", "{", "view", "=", "mInflater", ".", "inflate", "(", "R", ".", "layout", ".", "list_header", ",", "parent", ",", "false", ")", ";", "}", "else", "{", "view", "=", "mInflater", ".", "inflate", "(", "R", ".", "layout", ".", "grid_header", ",", "parent", ",", "false", ")", ";", "}", "int", "type", "=", "viewType", "=", "=", "TYPE_HEADER_FOLDERS", "?", "SpecialViewHolder", ".", "HEADER_FOLDERS", ":", "SpecialViewHolder", ".", "HEADER_FILES", ";", "return", "new", "SpecialViewHolder", "(", "context", ",", "view", ",", "utilsProvider", ",", "type", ")", ";", "case", "TYPE_ITEM", ":", "if", "(", "mainFrag", ".", "IS_LIST", ")", "{", "view", "=", "mInflater", ".", "inflate", "(", "R", ".", "layout", ".", "rowlayout", ",", "parent", ",", "false", ")", ";", "sizeProvider", ".", "addView", "(", "VIEW_GENERIC", ",", "view", ".", "findViewById", "(", "R", ".", "id", ".", "generic_icon", ")", ")", ";", "sizeProvider", ".", "addView", "(", "VIEW_PICTURE", ",", "view", ".", "findViewById", "(", "R", ".", "id", ".", "picture_icon", ")", ")", ";", "sizeProvider", ".", "addView", "(", "VIEW_APK", ",", "view", ".", "findViewById", "(", "R", ".", "id", ".", "apk_icon", ")", ")", ";", "}", "else", "{", "view", "=", "mInflater", ".", "inflate", "(", "R", ".", "layout", ".", "griditem", ",", "parent", ",", "false", ")", ";", "sizeProvider", ".", "addView", "(", "VIEW_GENERIC", ",", "view", ".", "findViewById", "(", "R", ".", "id", ".", "generic_icon", ")", ")", ";", "sizeProvider", ".", "addView", "(", "VIEW_THUMB", ",", "view", ".", "findViewById", "(", "R", ".", "id", ".", "icon_thumb", ")", ")", ";", "}", "sizeProvider", ".", "closeOffAddition", "(", ")", ";", "return", "new", "ItemViewHolder", "(", "view", ")", ";", "case", "EMPTY_LAST_ITEM", ":", "int", "totalFabHeight", "=", "(", "int", ")", "context", ".", "getResources", "(", ")", ".", "getDimension", "(", "R", ".", "dimen", ".", "fab_height", ")", ",", "marginFab", "=", "(", "int", ")", "context", ".", "getResources", "(", ")", ".", "getDimension", "(", "R", ".", "dimen", ".", "fab_margin", ")", ";", "view", "=", "new", "View", "(", "context", ")", ";", "view", ".", "setMinimumHeight", "(", "totalFabHeight", "+", "marginFab", ")", ";", "return", "new", "EmptyViewHolder", "(", "view", ")", ";", "default", ":", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "viewType", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "final", "RecyclerView", ".", "ViewHolder", "vholder", ",", "int", "p", ")", "{", "if", "(", "vholder", "instanceof", "ItemViewHolder", ")", "{", "final", "ItemViewHolder", "holder", "=", "(", "ItemViewHolder", ")", "vholder", ";", "final", "boolean", "isBackButton", "=", "getBoolean", "(", "PREFERENCE_SHOW_GOBACK_BUTTON", ")", "&", "&", "p", "=", "=", "0", ";", "if", "(", "isBackButton", ")", "{", "holder", ".", "about", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "if", "(", "mainFrag", ".", "IS_LIST", ")", "{", "if", "(", "p", "=", "=", "getItemCount", "(", ")", "-", "1", ")", "{", "holder", ".", "rl", ".", "setMinimumHeight", "(", "(", "int", ")", "minRowHeight", ")", ";", "if", "(", "itemsDigested", ".", "size", "(", ")", "=", "=", "(", "getBoolean", "(", "PREFERENCE_SHOW_GOBACK_BUTTON", ")", "?", "1", ":", "0", ")", ")", "holder", ".", "txtTitle", ".", "setText", "(", "R", ".", "string", ".", "nofiles", ")", ";", "else", "{", "holder", ".", "txtTitle", ".", "setText", "(", "\"", "\"", ")", ";", "}", "return", ";", "}", "}", "if", "(", "!", "this", ".", "stoppedAnimation", "&", "&", "!", "itemsDigested", ".", "get", "(", "p", ")", ".", "getAnimating", "(", ")", ")", "{", "animate", "(", "holder", ")", ";", "itemsDigested", ".", "get", "(", "p", ")", ".", "setAnimate", "(", "true", ")", ";", "}", "final", "LayoutElementParcelable", "rowItem", "=", "itemsDigested", ".", "get", "(", "p", ")", ".", "elem", ";", "if", "(", "mainFrag", ".", "IS_LIST", ")", "{", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "clear", "(", "holder", ".", "genericIcon", ")", ";", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "clear", "(", "holder", ".", "pictureIcon", ")", ";", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "clear", "(", "holder", ".", "apkIcon", ")", ";", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "clear", "(", "holder", ".", "rl", ")", ";", "holder", ".", "rl", ".", "setOnClickListener", "(", "v", "-", ">", "{", "mainFrag", ".", "onListItemClicked", "(", "isBackButton", ",", "vholder", ".", "getAdapterPosition", "(", ")", ",", "rowItem", ",", "holder", ".", "checkImageView", ")", ";", "}", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN", ")", "{", "holder", ".", "checkImageView", ".", "setBackground", "(", "new", "CircleGradientDrawable", "(", "accentColor", ",", "utilsProvider", ".", "getAppTheme", "(", ")", ",", "mainFrag", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ")", ")", ";", "}", "else", "{", "holder", ".", "checkImageView", ".", "setBackgroundDrawable", "(", "new", "CircleGradientDrawable", "(", "accentColor", ",", "utilsProvider", ".", "getAppTheme", "(", ")", ",", "mainFrag", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ")", ")", ";", "}", "holder", ".", "rl", ".", "setOnLongClickListener", "(", "p1", "-", ">", "{", "if", "(", "!", "isBackButton", ")", "{", "toggleChecked", "(", "vholder", ".", "getAdapterPosition", "(", ")", ",", "holder", ".", "checkImageView", ")", ";", "}", "return", "true", ";", "}", ")", ";", "holder", ".", "txtTitle", ".", "setText", "(", "rowItem", ".", "title", ")", ";", "holder", ".", "genericText", ".", "setText", "(", "\"", "\"", ")", ";", "if", "(", "holder", ".", "about", "!", "=", "null", ")", "{", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "holder", ".", "about", ".", "setColorFilter", "(", "grey_color", ")", ";", "showPopup", "(", "holder", ".", "about", ",", "rowItem", ",", "p", ")", ";", "}", "holder", ".", "genericIcon", ".", "setOnClickListener", "(", "v", "-", ">", "{", "int", "id", "=", "v", ".", "getId", "(", ")", ";", "if", "(", "id", "=", "=", "R", ".", "id", ".", "generic_icon", "|", "|", "id", "=", "=", "R", ".", "id", ".", "picture_icon", "|", "|", "id", "=", "=", "R", ".", "id", ".", "apk_icon", ")", "{", "if", "(", "!", "isBackButton", ")", "{", "toggleChecked", "(", "vholder", ".", "getAdapterPosition", "(", ")", ",", "holder", ".", "checkImageView", ")", ";", "}", "else", "mainFrag", ".", "goBack", "(", ")", ";", "}", "}", ")", ";", "holder", ".", "pictureIcon", ".", "setOnClickListener", "(", "view", "-", ">", "{", "if", "(", "!", "isBackButton", ")", "{", "toggleChecked", "(", "vholder", ".", "getAdapterPosition", "(", ")", ",", "holder", ".", "checkImageView", ")", ";", "}", "else", "mainFrag", ".", "goBack", "(", ")", ";", "}", ")", ";", "holder", ".", "apkIcon", ".", "setOnClickListener", "(", "view", "-", ">", "{", "if", "(", "!", "isBackButton", ")", "{", "toggleChecked", "(", "vholder", ".", "getAdapterPosition", "(", ")", ",", "holder", ".", "checkImageView", ")", ";", "}", "else", "mainFrag", ".", "goBack", "(", ")", ";", "}", ")", ";", "holder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "holder", ".", "pictureIcon", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "holder", ".", "apkIcon", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "holder", ".", "checkImageView", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "switch", "(", "rowItem", ".", "filetype", ")", "{", "case", "Icons", ".", "IMAGE", ":", "case", "Icons", ".", "VIDEO", ":", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ")", "{", "if", "(", "getBoolean", "(", "PREFERENCE_USE_CIRCULAR_IMAGES", ")", ")", "{", "showThumbnailWithBackground", "(", "holder", ",", "rowItem", ".", "iconData", ",", "holder", ".", "pictureIcon", ",", "rowItem", ".", "iconData", ":", ":", "setImageBroken", ")", ";", "}", "else", "{", "showThumbnailWithBackground", "(", "holder", ",", "rowItem", ".", "iconData", ",", "holder", ".", "apkIcon", ",", "rowItem", ".", "iconData", ":", ":", "setImageBroken", ")", ";", "}", "}", "else", "{", "holder", ".", "genericIcon", ".", "setImageResource", "(", "rowItem", ".", "filetype", "=", "=", "Icons", ".", "IMAGE", "?", "R", ".", "drawable", ".", "ic_doc_image", ":", "R", ".", "drawable", ".", "ic_doc_video_am", ")", ";", "}", "break", ";", "case", "Icons", ".", "APK", ":", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ")", "{", "showThumbnailWithBackground", "(", "holder", ",", "rowItem", ".", "iconData", ",", "holder", ".", "apkIcon", ",", "rowItem", ".", "iconData", ":", ":", "setImageBroken", ")", ";", "}", "else", "{", "holder", ".", "genericIcon", ".", "setImageResource", "(", "R", ".", "drawable", ".", "ic_doc_apk_white", ")", ";", "}", "break", ";", "case", "Icons", ".", "NOT_KNOWN", ":", "holder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "String", "ext", "=", "!", "rowItem", ".", "isDirectory", "?", "MimeTypes", ".", "getExtension", "(", "rowItem", ".", "title", ")", ":", "null", ";", "if", "(", "ext", "!", "=", "null", "&", "&", "ext", ".", "trim", "(", ")", ".", "length", "(", ")", "!", "=", "0", ")", "{", "holder", ".", "genericText", ".", "setText", "(", "ext", ")", ";", "holder", ".", "genericIcon", ".", "setImageDrawable", "(", "null", ")", ";", "holder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "}", "else", "{", "modelProvider", ".", "getPreloadRequestBuilder", "(", "rowItem", ".", "iconData", ")", ".", "into", "(", "holder", ".", "genericIcon", ")", ";", "}", "break", ";", "case", "Icons", ".", "ENCRYPTED", ":", "default", ":", "holder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "modelProvider", ".", "getPreloadRequestBuilder", "(", "rowItem", ".", "iconData", ")", ".", "into", "(", "holder", ".", "genericIcon", ")", ";", "break", ";", "}", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "holder", ".", "rl", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "safr_ripple_white", ")", ";", "}", "else", "{", "holder", ".", "rl", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "safr_ripple_black", ")", ";", "}", "holder", ".", "rl", ".", "setSelected", "(", "false", ")", ";", "if", "(", "itemsDigested", ".", "get", "(", "p", ")", ".", "getChecked", "(", ")", "=", "=", "ListItem", ".", "CHECKED", ")", "{", "if", "(", "holder", ".", "checkImageView", ".", "getVisibility", "(", ")", "=", "=", "View", ".", "INVISIBLE", ")", "holder", ".", "checkImageView", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "if", "(", "(", "rowItem", ".", "filetype", "!", "=", "Icons", ".", "IMAGE", "&", "&", "rowItem", ".", "filetype", "!", "=", "Icons", ".", "APK", "&", "&", "rowItem", ".", "filetype", "!", "=", "Icons", ".", "VIDEO", ")", "|", "|", "!", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ")", "{", "holder", ".", "apkIcon", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "holder", ".", "pictureIcon", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "holder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "GradientDrawable", "gradientDrawable", "=", "(", "GradientDrawable", ")", "holder", ".", "genericIcon", ".", "getBackground", "(", ")", ";", "gradientDrawable", ".", "setColor", "(", "goBackColor", ")", ";", "}", "holder", ".", "rl", ".", "setSelected", "(", "true", ")", ";", "}", "else", "{", "holder", ".", "checkImageView", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "if", "(", "!", "(", "(", "rowItem", ".", "filetype", "=", "=", "Icons", ".", "APK", "|", "|", "rowItem", ".", "filetype", "=", "=", "Icons", ".", "IMAGE", "|", "|", "rowItem", ".", "filetype", "=", "=", "Icons", ".", "VIDEO", ")", "&", "&", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ")", ")", "{", "holder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "GradientDrawable", "gradientDrawable", "=", "(", "GradientDrawable", ")", "holder", ".", "genericIcon", ".", "getBackground", "(", ")", ";", "if", "(", "getBoolean", "(", "PREFERENCE_COLORIZE_ICONS", ")", ")", "{", "if", "(", "rowItem", ".", "isDirectory", ")", "{", "gradientDrawable", ".", "setColor", "(", "iconSkinColor", ")", ";", "}", "else", "{", "ColorUtils", ".", "colorizeIcons", "(", "context", ",", "rowItem", ".", "filetype", ",", "gradientDrawable", ",", "iconSkinColor", ")", ";", "}", "}", "else", "gradientDrawable", ".", "setColor", "(", "iconSkinColor", ")", ";", "if", "(", "isBackButton", ")", "{", "gradientDrawable", ".", "setColor", "(", "goBackColor", ")", ";", "}", "}", "}", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_PERMISSIONS", ")", ")", "holder", ".", "perm", ".", "setText", "(", "rowItem", ".", "permissions", ")", ";", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_LAST_MODIFIED", ")", ")", "{", "holder", ".", "date", ".", "setText", "(", "rowItem", ".", "date1", ")", ";", "}", "else", "{", "holder", ".", "date", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "}", "if", "(", "isBackButton", ")", "{", "holder", ".", "date", ".", "setText", "(", "rowItem", ".", "size", ")", ";", "holder", ".", "txtDesc", ".", "setText", "(", "\"", "\"", ")", ";", "}", "else", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_FILE_SIZE", ")", ")", "{", "holder", ".", "txtDesc", ".", "setText", "(", "rowItem", ".", "size", ")", ";", "}", "}", "else", "{", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "clear", "(", "holder", ".", "genericIcon", ")", ";", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "clear", "(", "holder", ".", "iconLayout", ")", ";", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "clear", "(", "holder", ".", "imageView1", ")", ";", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "clear", "(", "holder", ".", "rl", ")", ";", "holder", ".", "checkImageViewGrid", ".", "setColorFilter", "(", "accentColor", ")", ";", "holder", ".", "rl", ".", "setOnClickListener", "(", "v", "-", ">", "{", "mainFrag", ".", "onListItemClicked", "(", "isBackButton", ",", "vholder", ".", "getAdapterPosition", "(", ")", ",", "rowItem", ",", "holder", ".", "checkImageViewGrid", ")", ";", "}", ")", ";", "holder", ".", "rl", ".", "setOnLongClickListener", "(", "p1", "-", ">", "{", "if", "(", "!", "isBackButton", ")", "{", "toggleChecked", "(", "vholder", ".", "getAdapterPosition", "(", ")", ",", "holder", ".", "checkImageViewGrid", ")", ";", "}", "return", "true", ";", "}", ")", ";", "holder", ".", "txtTitle", ".", "setText", "(", "rowItem", ".", "title", ")", ";", "holder", ".", "imageView1", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "holder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "holder", ".", "checkImageViewGrid", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "(", "(", "RoundedImageView", ")", "holder", ".", "genericIcon", ")", ".", "setRelativeSize", "(", "<NUM_LIT>", ",", "<NUM_LIT>", ")", ";", "if", "(", "rowItem", ".", "filetype", "=", "=", "Icons", ".", "IMAGE", "|", "|", "rowItem", ".", "filetype", "=", "=", "Icons", ".", "VIDEO", ")", "{", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ")", "{", "holder", ".", "imageView1", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "holder", ".", "imageView1", ".", "setImageDrawable", "(", "null", ")", ";", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "holder", ".", "imageView1", ".", "setBackgroundColor", "(", "Color", ".", "BLACK", ")", ";", "showRoundedThumbnail", "(", "holder", ",", "rowItem", ".", "iconData", ",", "holder", ".", "imageView1", ",", "rowItem", ".", "iconData", ":", ":", "setImageBroken", ")", ";", "}", "else", "{", "if", "(", "rowItem", ".", "filetype", "=", "=", "Icons", ".", "IMAGE", ")", "holder", ".", "genericIcon", ".", "setImageResource", "(", "R", ".", "drawable", ".", "ic_doc_image", ")", ";", "else", "holder", ".", "genericIcon", ".", "setImageResource", "(", "R", ".", "drawable", ".", "ic_doc_video_am", ")", ";", "}", "}", "else", "if", "(", "rowItem", ".", "filetype", "=", "=", "Icons", ".", "APK", ")", "{", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ")", "showRoundedThumbnail", "(", "holder", ",", "rowItem", ".", "iconData", ",", "holder", ".", "genericIcon", ",", "rowItem", ".", "iconData", ":", ":", "setImageBroken", ")", ";", "else", "{", "holder", ".", "genericIcon", ".", "setImageResource", "(", "R", ".", "drawable", ".", "ic_doc_apk_white", ")", ";", "}", "}", "else", "{", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "load", "(", "rowItem", ".", "iconData", ".", "image", ")", ".", "into", "(", "holder", ".", "genericIcon", ")", ";", "}", "if", "(", "holder", ".", "genericIcon", ".", "getVisibility", "(", ")", "=", "=", "View", ".", "VISIBLE", ")", "{", "View", "iconBackground", "=", "getBoolean", "(", "PREFERENCE_USE_CIRCULAR_IMAGES", ")", "?", "holder", ".", "genericIcon", ":", "holder", ".", "iconLayout", ";", "if", "(", "rowItem", ".", "isDirectory", ")", "{", "iconBackground", ".", "setBackgroundColor", "(", "iconSkinColor", ")", ";", "}", "else", "{", "switch", "(", "rowItem", ".", "filetype", ")", "{", "case", "Icons", ".", "VIDEO", ":", "if", "(", "!", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ")", "iconBackground", ".", "setBackgroundColor", "(", "videoColor", ")", ";", "break", ";", "case", "Icons", ".", "AUDIO", ":", "iconBackground", ".", "setBackgroundColor", "(", "audioColor", ")", ";", "break", ";", "case", "Icons", ".", "PDF", ":", "iconBackground", ".", "setBackgroundColor", "(", "pdfColor", ")", ";", "break", ";", "case", "Icons", ".", "CODE", ":", "iconBackground", ".", "setBackgroundColor", "(", "codeColor", ")", ";", "break", ";", "case", "Icons", ".", "TEXT", ":", "iconBackground", ".", "setBackgroundColor", "(", "textColor", ")", ";", "break", ";", "case", "Icons", ".", "COMPRESSED", ":", "iconBackground", ".", "setBackgroundColor", "(", "archiveColor", ")", ";", "break", ";", "case", "Icons", ".", "NOT_KNOWN", ":", "iconBackground", ".", "setBackgroundColor", "(", "genericColor", ")", ";", "break", ";", "case", "Icons", ".", "APK", ":", "if", "(", "!", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ")", "iconBackground", ".", "setBackgroundColor", "(", "apkColor", ")", ";", "break", ";", "case", "Icons", ".", "IMAGE", ":", "if", "(", "!", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ")", "iconBackground", ".", "setBackgroundColor", "(", "videoColor", ")", ";", "break", ";", "default", ":", "iconBackground", ".", "setBackgroundColor", "(", "iconSkinColor", ")", ";", "break", ";", "}", "}", "if", "(", "isBackButton", ")", "{", "iconBackground", ".", "setBackgroundColor", "(", "goBackColor", ")", ";", "}", "}", "if", "(", "itemsDigested", ".", "get", "(", "p", ")", ".", "getChecked", "(", ")", "=", "=", "ListItem", ".", "CHECKED", ")", "{", "if", "(", "holder", ".", "genericIcon", ".", "getVisibility", "(", ")", "=", "=", "View", ".", "VISIBLE", ")", "{", "if", "(", "(", "rowItem", ".", "filetype", "!", "=", "Icons", ".", "IMAGE", "&", "&", "rowItem", ".", "filetype", "!", "=", "Icons", ".", "APK", "&", "&", "rowItem", ".", "filetype", "!", "=", "Icons", ".", "VIDEO", ")", "|", "|", "!", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ")", "{", "View", "iconBackground", "=", "getBoolean", "(", "PREFERENCE_USE_CIRCULAR_IMAGES", ")", "?", "holder", ".", "genericIcon", ":", "holder", ".", "iconLayout", ";", "iconBackground", ".", "setBackgroundColor", "(", "goBackColor", ")", ";", "}", "}", "holder", ".", "checkImageViewGrid", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "holder", ".", "rl", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "item_background", ")", ")", ";", "}", "else", "{", "holder", ".", "checkImageViewGrid", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "holder", ".", "rl", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "item_doc_grid", ")", ";", "else", "{", "holder", ".", "rl", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "ic_grid_card_background_dark", ")", ";", "holder", ".", "rl", ".", "findViewById", "(", "R", ".", "id", ".", "icon_frame_grid", ")", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "icon_background_dark", ")", ")", ";", "}", "}", "if", "(", "holder", ".", "about", "!", "=", "null", ")", "{", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "holder", ".", "about", ".", "setColorFilter", "(", "grey_color", ")", ";", "showPopup", "(", "holder", ".", "about", ",", "rowItem", ",", "p", ")", ";", "}", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_LAST_MODIFIED", ")", ")", "holder", ".", "date", ".", "setText", "(", "rowItem", ".", "date1", ")", ";", "if", "(", "isBackButton", ")", "{", "holder", ".", "date", ".", "setText", "(", "rowItem", ".", "size", ")", ";", "holder", ".", "txtDesc", ".", "setText", "(", "\"", "\"", ")", ";", "}", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_PERMISSIONS", ")", ")", "holder", ".", "perm", ".", "setText", "(", "rowItem", ".", "permissions", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getCorrectView", "(", "IconDataParcelable", "item", ",", "int", "adapterPosition", ")", "{", "if", "(", "mainFrag", ".", "IS_LIST", ")", "{", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_THUMB", ")", ")", "{", "int", "filetype", "=", "itemsDigested", ".", "get", "(", "adapterPosition", ")", ".", "elem", ".", "filetype", ";", "if", "(", "filetype", "=", "=", "Icons", ".", "VIDEO", "|", "|", "filetype", "=", "=", "Icons", ".", "IMAGE", ")", "{", "if", "(", "getBoolean", "(", "PREFERENCE_USE_CIRCULAR_IMAGES", ")", ")", "{", "return", "VIEW_PICTURE", ";", "}", "else", "{", "return", "VIEW_APK", ";", "}", "}", "else", "if", "(", "filetype", "=", "=", "Icons", ".", "APK", ")", "{", "return", "VIEW_APK", ";", "}", "}", "return", "VIEW_GENERIC", ";", "}", "else", "{", "if", "(", "item", ".", "type", "=", "=", "IconDataParcelable", ".", "IMAGE_FROMFILE", ")", "{", "return", "VIEW_THUMB", ";", "}", "else", "{", "return", "VIEW_GENERIC", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "showThumbnailWithBackground", "(", "ItemViewHolder", "viewHolder", ",", "IconDataParcelable", "iconData", ",", "ImageView", "view", ",", "OnImageProcessed", "errorListener", ")", "{", "if", "(", "iconData", ".", "isImageBroken", "(", ")", ")", "{", "viewHolder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "load", "(", "R", ".", "drawable", ".", "ic_broken_image_white_24dp", ")", ".", "into", "(", "viewHolder", ".", "genericIcon", ")", ";", "GradientDrawable", "gradientDrawable", "=", "(", "GradientDrawable", ")", "viewHolder", ".", "genericIcon", ".", "getBackground", "(", ")", ";", "gradientDrawable", ".", "setColor", "(", "grey_color", ")", ";", "errorListener", ".", "onImageProcessed", "(", "true", ")", ";", "return", ";", "}", "viewHolder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "load", "(", "iconData", ".", "loadingImage", ")", ".", "into", "(", "viewHolder", ".", "genericIcon", ")", ";", "GradientDrawable", "gradientDrawable", "=", "(", "GradientDrawable", ")", "viewHolder", ".", "genericIcon", ".", "getBackground", "(", ")", ";", "RequestListener", "<", "Drawable", ">", "requestListener", "=", "new", "RequestListener", "<", "Drawable", ">", "(", ")", "{", "@", "Override", "public", "boolean", "onLoadFailed", "(", "@", "Nullable", "GlideException", "e", ",", "Object", "model", ",", "Target", "target", ",", "boolean", "isFirstResource", ")", "{", "new", "Handler", "(", "msg", "-", ">", "{", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "load", "(", "R", ".", "drawable", ".", "ic_broken_image_white_24dp", ")", ".", "into", "(", "viewHolder", ".", "genericIcon", ")", ";", "return", "false", ";", "}", ")", ".", "obtainMessage", "(", ")", ".", "sendToTarget", "(", ")", ";", "gradientDrawable", ".", "setColor", "(", "grey_color", ")", ";", "errorListener", ".", "onImageProcessed", "(", "true", ")", ";", "return", "true", ";", "}", "@", "Override", "public", "boolean", "onResourceReady", "(", "Drawable", "resource", ",", "Object", "model", ",", "Target", "<", "Drawable", ">", "target", ",", "DataSource", "dataSource", ",", "boolean", "isFirstResource", ")", "{", "viewHolder", ".", "genericIcon", ".", "setImageDrawable", "(", "null", ")", ";", "viewHolder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "gradientDrawable", ".", "setColor", "(", "mainFrag", ".", "getResources", "(", ")", ".", "getColor", "(", "android", ".", "R", ".", "color", ".", "transparent", ")", ")", ";", "view", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "errorListener", ".", "onImageProcessed", "(", "false", ")", ";", "return", "false", ";", "}", "}", ";", "modelProvider", ".", "getPreloadRequestBuilder", "(", "iconData", ")", ".", "listener", "(", "requestListener", ")", ".", "into", "(", "view", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onLoadFailed", "(", "@", "Nullable", "GlideException", "e", ",", "Object", "model", ",", "Target", "target", ",", "boolean", "isFirstResource", ")", "{", "new", "Handler", "(", "msg", "-", ">", "{", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "load", "(", "R", ".", "drawable", ".", "ic_broken_image_white_24dp", ")", ".", "into", "(", "viewHolder", ".", "genericIcon", ")", ";", "return", "false", ";", "}", ")", ".", "obtainMessage", "(", ")", ".", "sendToTarget", "(", ")", ";", "gradientDrawable", ".", "setColor", "(", "grey_color", ")", ";", "errorListener", ".", "onImageProcessed", "(", "true", ")", ";", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onResourceReady", "(", "Drawable", "resource", ",", "Object", "model", ",", "Target", "<", "Drawable", ">", "target", ",", "DataSource", "dataSource", ",", "boolean", "isFirstResource", ")", "{", "viewHolder", ".", "genericIcon", ".", "setImageDrawable", "(", "null", ")", ";", "viewHolder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "gradientDrawable", ".", "setColor", "(", "mainFrag", ".", "getResources", "(", ")", ".", "getColor", "(", "android", ".", "R", ".", "color", ".", "transparent", ")", ")", ";", "view", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "errorListener", ".", "onImageProcessed", "(", "false", ")", ";", "return", "false", ";", "}", "</s>"]
["<s>", "private", "void", "showRoundedThumbnail", "(", "ItemViewHolder", "viewHolder", ",", "IconDataParcelable", "iconData", ",", "ImageView", "view", ",", "OnImageProcessed", "errorListener", ")", "{", "if", "(", "iconData", ".", "isImageBroken", "(", ")", ")", "{", "View", "iconBackground", "=", "getBoolean", "(", "PREFERENCE_USE_CIRCULAR_IMAGES", ")", "?", "viewHolder", ".", "genericIcon", ":", "viewHolder", ".", "iconLayout", ";", "viewHolder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "iconBackground", ".", "setBackgroundColor", "(", "grey_color", ")", ";", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "load", "(", "R", ".", "drawable", ".", "ic_broken_image_white_24dp", ")", ".", "into", "(", "viewHolder", ".", "genericIcon", ")", ";", "view", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "errorListener", ".", "onImageProcessed", "(", "true", ")", ";", "return", ";", "}", "View", "iconBackground", "=", "getBoolean", "(", "PREFERENCE_USE_CIRCULAR_IMAGES", ")", "?", "viewHolder", ".", "genericIcon", ":", "viewHolder", ".", "iconLayout", ";", "viewHolder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "load", "(", "iconData", ".", "loadingImage", ")", ".", "into", "(", "viewHolder", ".", "genericIcon", ")", ";", "view", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "RequestListener", "<", "Drawable", ">", "requestListener", "=", "new", "RequestListener", "<", "Drawable", ">", "(", ")", "{", "@", "Override", "public", "boolean", "onLoadFailed", "(", "@", "Nullable", "GlideException", "e", ",", "Object", "model", ",", "Target", "target", ",", "boolean", "isFirstResource", ")", "{", "iconBackground", ".", "setBackgroundColor", "(", "grey_color", ")", ";", "new", "Handler", "(", "msg", "-", ">", "{", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "load", "(", "R", ".", "drawable", ".", "ic_broken_image_white_24dp", ")", ".", "into", "(", "viewHolder", ".", "genericIcon", ")", ";", "return", "false", ";", "}", ")", ".", "obtainMessage", "(", ")", ".", "sendToTarget", "(", ")", ";", "errorListener", ".", "onImageProcessed", "(", "true", ")", ";", "return", "true", ";", "}", "@", "Override", "public", "boolean", "onResourceReady", "(", "Drawable", "resource", ",", "Object", "model", ",", "Target", "<", "Drawable", ">", "target", ",", "DataSource", "dataSource", ",", "boolean", "isFirstResource", ")", "{", "viewHolder", ".", "genericIcon", ".", "setImageDrawable", "(", "null", ")", ";", "viewHolder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "view", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "iconBackground", ".", "setBackgroundColor", "(", "mainFrag", ".", "getResources", "(", ")", ".", "getColor", "(", "android", ".", "R", ".", "color", ".", "transparent", ")", ")", ";", "errorListener", ".", "onImageProcessed", "(", "false", ")", ";", "return", "false", ";", "}", "}", ";", "modelProvider", ".", "getPreloadRequestBuilder", "(", "iconData", ")", ".", "listener", "(", "requestListener", ")", ".", "into", "(", "view", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onLoadFailed", "(", "@", "Nullable", "GlideException", "e", ",", "Object", "model", ",", "Target", "target", ",", "boolean", "isFirstResource", ")", "{", "iconBackground", ".", "setBackgroundColor", "(", "grey_color", ")", ";", "new", "Handler", "(", "msg", "-", ">", "{", "GlideApp", ".", "with", "(", "mainFrag", ")", ".", "load", "(", "R", ".", "drawable", ".", "ic_broken_image_white_24dp", ")", ".", "into", "(", "viewHolder", ".", "genericIcon", ")", ";", "return", "false", ";", "}", ")", ".", "obtainMessage", "(", ")", ".", "sendToTarget", "(", ")", ";", "errorListener", ".", "onImageProcessed", "(", "true", ")", ";", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onResourceReady", "(", "Drawable", "resource", ",", "Object", "model", ",", "Target", "<", "Drawable", ">", "target", ",", "DataSource", "dataSource", ",", "boolean", "isFirstResource", ")", "{", "viewHolder", ".", "genericIcon", ".", "setImageDrawable", "(", "null", ")", ";", "viewHolder", ".", "genericIcon", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "view", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "iconBackground", ".", "setBackgroundColor", "(", "mainFrag", ".", "getResources", "(", ")", ".", "getColor", "(", "android", ".", "R", ".", "color", ".", "transparent", ")", ")", ";", "errorListener", ".", "onImageProcessed", "(", "false", ")", ";", "return", "false", ";", "}", "</s>"]
["<s>", "private", "void", "showPopup", "(", "View", "v", ",", "final", "LayoutElementParcelable", "rowItem", ",", "final", "int", "position", ")", "{", "v", ".", "setOnClickListener", "(", "view", "-", ">", "{", "PopupMenu", "popupMenu", "=", "new", "ItemPopupMenu", "(", "context", ",", "mainFrag", ".", "getMainActivity", "(", ")", ",", "utilsProvider", ",", "mainFrag", ",", "rowItem", ",", "view", ",", "sharedPrefs", ")", ";", "popupMenu", ".", "inflate", "(", "R", ".", "menu", ".", "item_extras", ")", ";", "String", "description", "=", "rowItem", ".", "desc", ".", "toLowerCase", "(", ")", ";", "if", "(", "rowItem", ".", "isDirectory", ")", "{", "popupMenu", ".", "getMenu", "(", ")", ".", "findItem", "(", "R", ".", "id", ".", "open_with", ")", ".", "setVisible", "(", "false", ")", ";", "popupMenu", ".", "getMenu", "(", ")", ".", "findItem", "(", "R", ".", "id", ".", "share", ")", ".", "setVisible", "(", "false", ")", ";", "if", "(", "mainFrag", ".", "getMainActivity", "(", ")", ".", "mReturnIntent", ")", "{", "popupMenu", ".", "getMenu", "(", ")", ".", "findItem", "(", "R", ".", "id", ".", "return_select", ")", ".", "setVisible", "(", "true", ")", ";", "}", "}", "else", "{", "popupMenu", ".", "getMenu", "(", ")", ".", "findItem", "(", "R", ".", "id", ".", "book", ")", ".", "setVisible", "(", "false", ")", ";", "}", "if", "(", "description", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "description", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "description", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "description", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "description", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "description", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "description", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "description", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "description", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "description", ".", "endsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "popupMenu", ".", "getMenu", "(", ")", ".", "findItem", "(", "R", ".", "id", ".", "ex", ")", ".", "setVisible", "(", "true", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "{", "if", "(", "description", ".", "endsWith", "(", "CryptUtil", ".", "CRYPT_EXTENSION", ")", ")", "popupMenu", ".", "getMenu", "(", ")", ".", "findItem", "(", "R", ".", "id", ".", "decrypt", ")", ".", "setVisible", "(", "true", ")", ";", "else", "popupMenu", ".", "getMenu", "(", ")", ".", "findItem", "(", "R", ".", "id", ".", "encrypt", ")", ".", "setVisible", "(", "true", ")", ";", "}", "popupMenu", ".", "show", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "getBoolean", "(", "String", "key", ")", "{", "return", "preferenceActivity", ".", "getBoolean", "(", "key", ")", ";", "}", "</s>"]
["<s>", "ListItem", "(", "LayoutElementParcelable", "elem", ")", "{", "this", ".", "elem", "=", "elem", ";", "specialType", "=", "TYPE_ITEM", ";", "}", "</s>"]
["<s>", "ListItem", "(", "int", "specialType", ")", "{", "this", ".", "specialType", "=", "specialType", ";", "}", "</s>"]
["<s>", "public", "void", "setChecked", "(", "boolean", "checked", ")", "{", "if", "(", "specialType", "=", "=", "TYPE_ITEM", ")", "this", ".", "checked", "=", "checked", ";", "}", "</s>"]
["<s>", "public", "int", "getChecked", "(", ")", "{", "if", "(", "checked", ")", "return", "CHECKED", ";", "else", "if", "(", "specialType", "=", "=", "TYPE_ITEM", ")", "return", "NOT_CHECKED", ";", "else", "return", "UNCHECKABLE", ";", "}", "</s>"]
["<s>", "public", "void", "setAnimate", "(", "boolean", "animating", ")", "{", "if", "(", "specialType", "=", "=", "-", "1", ")", "this", ".", "animate", "=", "animating", ";", "}", "</s>"]
["<s>", "public", "boolean", "getAnimating", "(", ")", "{", "return", "animate", ";", "}", "</s>"]
["<s>", "void", "onImageProcessed", "(", "boolean", "isImageBroken", ")", ";", "</s>"]
["<s>", "public", "CompressedExplorerAdapter", "(", "Context", "c", ",", "UtilitiesProvider", "utilsProvider", ",", "List", "<", "CompressedObjectParcelable", ">", "items", ",", "CompressedExplorerFragment", "compressedExplorerFragment", ",", "Decompressor", "decompressor", ")", "{", "setHasStableIds", "(", "true", ")", ";", "this", ".", "utilsProvider", "=", "utilsProvider", ";", "this", ".", "items", "=", "items", ";", "this", ".", "decompressor", "=", "decompressor", ";", "itemsChecked", "=", "new", "boolean", "[", "items", ".", "size", "(", ")", "]", ";", "context", "=", "c", ";", "if", "(", "c", "=", "=", "null", ")", "return", ";", "folder", "=", "c", ".", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "ic_grid_folder_new", ")", ";", "this", ".", "compressedExplorerFragment", "=", "compressedExplorerFragment", ";", "mInflater", "=", "(", "LayoutInflater", ")", "c", ".", "getSystemService", "(", "Activity", ".", "LAYOUT_INFLATER_SERVICE", ")", ";", "}", "</s>"]
["<s>", "public", "void", "toggleChecked", "(", "boolean", "check", ")", "{", "int", "k", "=", "0", ";", "for", "(", "int", "i", "=", "k", ";", "i", "<", "items", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "itemsChecked", "[", "i", "]", "=", "check", ";", "notifyItemChanged", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "ArrayList", "<", "Integer", ">", "getCheckedItemPositions", "(", ")", "{", "ArrayList", "<", "Integer", ">", "checkedItemPositions", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "itemsChecked", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "itemsChecked", "[", "i", "]", ")", "{", "(", "checkedItemPositions", ")", ".", "add", "(", "i", ")", ";", "}", "}", "return", "checkedItemPositions", ";", "}", "</s>"]
["<s>", "private", "void", "toggleChecked", "(", "int", "position", ",", "ImageView", "imageView", ")", "{", "compressedExplorerFragment", ".", "stopAnim", "(", ")", ";", "stoppedAnimation", "=", "true", ";", "Animation", "animation", ";", "if", "(", "itemsChecked", "[", "position", "]", ")", "{", "animation", "=", "AnimationUtils", ".", "loadAnimation", "(", "context", ",", "R", ".", "anim", ".", "check_out", ")", ";", "}", "else", "{", "animation", "=", "AnimationUtils", ".", "loadAnimation", "(", "context", ",", "R", ".", "anim", ".", "check_in", ")", ";", "}", "if", "(", "imageView", "!", "=", "null", ")", "{", "imageView", ".", "setAnimation", "(", "animation", ")", ";", "}", "else", "{", "}", "itemsChecked", "[", "position", "]", "=", "!", "itemsChecked", "[", "position", "]", ";", "notifyDataSetChanged", "(", ")", ";", "if", "(", "!", "compressedExplorerFragment", ".", "selection", "|", "|", "compressedExplorerFragment", ".", "mActionMode", "=", "=", "null", ")", "{", "compressedExplorerFragment", ".", "selection", "=", "true", ";", "compressedExplorerFragment", ".", "mActionMode", "=", "compressedExplorerFragment", ".", "mainActivity", ".", "getAppbar", "(", ")", ".", "getToolbar", "(", ")", ".", "startActionMode", "(", "compressedExplorerFragment", ".", "mActionModeCallback", ")", ";", "}", "compressedExplorerFragment", ".", "mActionMode", ".", "invalidate", "(", ")", ";", "if", "(", "getCheckedItemPositions", "(", ")", ".", "size", "(", ")", "=", "=", "0", ")", "{", "compressedExplorerFragment", ".", "selection", "=", "false", ";", "compressedExplorerFragment", ".", "mActionMode", ".", "finish", "(", ")", ";", "compressedExplorerFragment", ".", "mActionMode", "=", "null", ";", "}", "}", "</s>"]
["<s>", "private", "void", "animate", "(", "CompressedItemViewHolder", "holder", ")", "{", "holder", ".", "rl", ".", "clearAnimation", "(", ")", ";", "Animation", "localAnimation", "=", "AnimationUtils", ".", "loadAnimation", "(", "compressedExplorerFragment", ".", "getActivity", "(", ")", ",", "R", ".", "anim", ".", "fade_in_top", ")", ";", "localAnimation", ".", "setStartOffset", "(", "this", ".", "offset", ")", ";", "holder", ".", "rl", ".", "startAnimation", "(", "localAnimation", ")", ";", "this", ".", "offset", "=", "(", "<NUM_LIT:30>", "+", "this", ".", "offset", ")", ";", "}", "</s>"]
["<s>", "public", "void", "generateZip", "(", "List", "<", "CompressedObjectParcelable", ">", "arrayList", ")", "{", "offset", "=", "0", ";", "stoppedAnimation", "=", "false", ";", "items", "=", "arrayList", ";", "notifyDataSetChanged", "(", ")", ";", "itemsChecked", "=", "new", "boolean", "[", "items", ".", "size", "(", ")", "]", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "getItemId", "(", "int", "position", ")", "{", "return", "position", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemViewType", "(", "int", "position", ")", "{", "if", "(", "isPositionHeader", "(", "position", ")", ")", "return", "TYPE_HEADER", ";", "return", "TYPE_ITEM", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CompressedItemViewHolder", "onCreateViewHolder", "(", "ViewGroup", "parent", ",", "int", "viewType", ")", "{", "if", "(", "viewType", "=", "=", "TYPE_HEADER", ")", "{", "View", "v", "=", "mInflater", ".", "inflate", "(", "R", ".", "layout", ".", "rowlayout", ",", "parent", ",", "false", ")", ";", "v", ".", "findViewById", "(", "R", ".", "id", ".", "picture_icon", ")", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "return", "new", "CompressedItemViewHolder", "(", "v", ")", ";", "}", "else", "if", "(", "viewType", "=", "=", "TYPE_ITEM", ")", "{", "View", "v", "=", "mInflater", ".", "inflate", "(", "R", ".", "layout", ".", "rowlayout", ",", "parent", ",", "false", ")", ";", "CompressedItemViewHolder", "vh", "=", "new", "CompressedItemViewHolder", "(", "v", ")", ";", "ImageButton", "about", "=", "v", ".", "findViewById", "(", "R", ".", "id", ".", "properties", ")", ";", "about", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "return", "vh", ";", "}", "else", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "final", "CompressedItemViewHolder", "holder", ",", "int", "position", ")", "{", "if", "(", "!", "stoppedAnimation", ")", "{", "animate", "(", "holder", ")", ";", "}", "final", "CompressedObjectParcelable", "rowItem", "=", "items", ".", "get", "(", "position", ")", ";", "GradientDrawable", "gradientDrawable", "=", "(", "GradientDrawable", ")", "holder", ".", "genericIcon", ".", "getBackground", "(", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN", ")", "{", "holder", ".", "checkImageView", ".", "setBackground", "(", "new", "CircleGradientDrawable", "(", "compressedExplorerFragment", ".", "accentColor", ",", "utilsProvider", ".", "getAppTheme", "(", ")", ",", "compressedExplorerFragment", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ")", ")", ";", "}", "else", "holder", ".", "checkImageView", ".", "setBackgroundDrawable", "(", "new", "CircleGradientDrawable", "(", "compressedExplorerFragment", ".", "accentColor", ",", "utilsProvider", ".", "getAppTheme", "(", ")", ",", "compressedExplorerFragment", ".", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ")", ")", ";", "if", "(", "rowItem", ".", "type", "=", "=", "CompressedObjectParcelable", ".", "TYPE_GOBACK", ")", "{", "GlideApp", ".", "with", "(", "compressedExplorerFragment", ")", ".", "load", "(", "R", ".", "drawable", ".", "ic_arrow_left_white_24dp", ")", ".", "into", "(", "holder", ".", "genericIcon", ")", ";", "gradientDrawable", ".", "setColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "goback_item", ")", ")", ";", "holder", ".", "txtTitle", ".", "setText", "(", "\"", "<STR_LIT>", "\"", ")", ";", "holder", ".", "txtDesc", ".", "setText", "(", "\"", "\"", ")", ";", "holder", ".", "date", ".", "setText", "(", "R", ".", "string", ".", "goback", ")", ";", "}", "else", "{", "GlideApp", ".", "with", "(", "compressedExplorerFragment", ")", ".", "load", "(", "rowItem", ".", "iconData", ".", "image", ")", ".", "into", "(", "holder", ".", "genericIcon", ")", ";", "if", "(", "compressedExplorerFragment", ".", "showLastModified", ")", "holder", ".", "date", ".", "setText", "(", "Utils", ".", "getDate", "(", "rowItem", ".", "date", ",", "compressedExplorerFragment", ".", "year", ")", ")", ";", "if", "(", "rowItem", ".", "directory", ")", "{", "holder", ".", "genericIcon", ".", "setImageDrawable", "(", "folder", ")", ";", "gradientDrawable", ".", "setColor", "(", "compressedExplorerFragment", ".", "iconskin", ")", ";", "holder", ".", "txtTitle", ".", "setText", "(", "rowItem", ".", "name", ")", ";", "}", "else", "{", "if", "(", "compressedExplorerFragment", ".", "showSize", ")", "holder", ".", "txtDesc", ".", "setText", "(", "Formatter", ".", "formatFileSize", "(", "context", ",", "rowItem", ".", "size", ")", ")", ";", "holder", ".", "txtTitle", ".", "setText", "(", "rowItem", ".", "path", ".", "substring", "(", "rowItem", ".", "path", ".", "lastIndexOf", "(", "\"", "<STR_LIT:/>", "\"", ")", "+", "1", ")", ")", ";", "if", "(", "compressedExplorerFragment", ".", "coloriseIcons", ")", "{", "ColorUtils", ".", "colorizeIcons", "(", "context", ",", "rowItem", ".", "filetype", ",", "gradientDrawable", ",", "compressedExplorerFragment", ".", "iconskin", ")", ";", "}", "else", "gradientDrawable", ".", "setColor", "(", "compressedExplorerFragment", ".", "iconskin", ")", ";", "}", "}", "holder", ".", "rl", ".", "setOnLongClickListener", "(", "view", "-", ">", "{", "if", "(", "rowItem", ".", "type", "!", "=", "CompressedObjectParcelable", ".", "TYPE_GOBACK", ")", "{", "toggleChecked", "(", "position", ",", "holder", ".", "checkImageView", ")", ";", "}", "return", "true", ";", "}", ")", ";", "holder", ".", "genericIcon", ".", "setOnClickListener", "(", "view", "-", ">", "{", "if", "(", "rowItem", ".", "type", "!", "=", "CompressedObjectParcelable", ".", "TYPE_GOBACK", ")", "{", "toggleChecked", "(", "position", ",", "holder", ".", "checkImageView", ")", ";", "}", "else", "{", "compressedExplorerFragment", ".", "goBack", "(", ")", ";", "}", "}", ")", ";", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "holder", ".", "rl", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "safr_ripple_white", ")", ";", "}", "else", "{", "holder", ".", "rl", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "safr_ripple_black", ")", ";", "}", "holder", ".", "rl", ".", "setSelected", "(", "false", ")", ";", "if", "(", "itemsChecked", "[", "position", "]", ")", "{", "holder", ".", "checkImageView", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "gradientDrawable", ".", "setColor", "(", "Utils", ".", "getColor", "(", "context", ",", "R", ".", "color", ".", "goback_item", ")", ")", ";", "holder", ".", "rl", ".", "setSelected", "(", "true", ")", ";", "}", "else", "holder", ".", "checkImageView", ".", "setVisibility", "(", "View", ".", "INVISIBLE", ")", ";", "holder", ".", "rl", ".", "setOnClickListener", "(", "p1", "-", ">", "{", "if", "(", "rowItem", ".", "type", "=", "=", "CompressedObjectParcelable", ".", "TYPE_GOBACK", ")", "compressedExplorerFragment", ".", "goBack", "(", ")", ";", "else", "{", "if", "(", "compressedExplorerFragment", ".", "selection", ")", "{", "toggleChecked", "(", "position", ",", "holder", ".", "checkImageView", ")", ";", "}", "else", "{", "if", "(", "rowItem", ".", "directory", ")", "{", "String", "newPath", "=", "rowItem", ".", "path", ".", "substring", "(", "0", ",", "rowItem", ".", "path", ".", "length", "(", ")", "-", "1", ")", ";", "compressedExplorerFragment", ".", "changePath", "(", "newPath", ")", ";", "}", "else", "{", "String", "fileName", "=", "CompressedHelper", ".", "getFileName", "(", "compressedExplorerFragment", ".", "compressedFile", ".", "getName", "(", ")", ")", ";", "String", "archiveCacheDirPath", "=", "compressedExplorerFragment", ".", "getActivity", "(", ")", ".", "getExternalCacheDir", "(", ")", ".", "getPath", "(", ")", "+", "CompressedHelper", ".", "SEPARATOR", "+", "fileName", ";", "HybridFileParcelable", "file", "=", "new", "HybridFileParcelable", "(", "archiveCacheDirPath", "+", "CompressedHelper", ".", "SEPARATOR", "+", "rowItem", ".", "path", ".", "replaceAll", "(", "\"", "<STR_LIT:\\\\>", "<STR_LIT:\\\\>", "\"", ",", "CompressedHelper", ".", "SEPARATOR", ")", ")", ";", "file", ".", "setMode", "(", "OpenMode", ".", "FILE", ")", ";", "compressedExplorerFragment", ".", "files", ".", "add", "(", "file", ")", ";", "compressedExplorerFragment", ".", "isOpen", "=", "true", ";", "Toast", ".", "makeText", "(", "compressedExplorerFragment", ".", "getContext", "(", ")", ",", "compressedExplorerFragment", ".", "getContext", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "please_wait", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "decompressor", ".", "decompress", "(", "compressedExplorerFragment", ".", "getActivity", "(", ")", ".", "getExternalCacheDir", "(", ")", ".", "getPath", "(", ")", ",", "new", "String", "[", "]", "{", "rowItem", ".", "path", "}", ")", ";", "}", "}", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "return", "items", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onViewDetachedFromWindow", "(", "CompressedItemViewHolder", "holder", ")", "{", "super", ".", "onViewAttachedToWindow", "(", "holder", ")", ";", "holder", ".", "rl", ".", "clearAnimation", "(", ")", ";", "holder", ".", "txtTitle", ".", "setSelected", "(", "false", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onViewAttachedToWindow", "(", "CompressedItemViewHolder", "holder", ")", "{", "super", ".", "onViewAttachedToWindow", "(", "holder", ")", ";", "AnimUtils", ".", "marqueeAfterDelay", "(", "<NUM_LIT>", ",", "holder", ".", "txtTitle", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onFailedToRecycleView", "(", "CompressedItemViewHolder", "holder", ")", "{", "holder", ".", "rl", ".", "clearAnimation", "(", ")", ";", "holder", ".", "txtTitle", ".", "setSelected", "(", "false", ")", ";", "return", "super", ".", "onFailedToRecycleView", "(", "holder", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isPositionHeader", "(", "int", "position", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "public", "ItemViewHolder", "(", "View", "view", ")", "{", "super", "(", "view", ")", ";", "txtTitle", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "firstline", ")", ";", "pictureIcon", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "picture_icon", ")", ";", "rl", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "second", ")", ";", "perm", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "permis", ")", ";", "date", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "date", ")", ";", "txtDesc", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "secondLine", ")", ";", "apkIcon", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "apk_icon", ")", ";", "genericText", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "generictext", ")", ";", "imageView1", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "icon_thumb", ")", ";", "about", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "properties", ")", ";", "checkImageView", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "check_icon", ")", ";", "genericIcon", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "generic_icon", ")", ";", "checkImageViewGrid", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "check_icon_grid", ")", ";", "iconLayout", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "icon_frame_grid", ")", ";", "}", "</s>"]
["<s>", "public", "HiddenViewHolder", "(", "View", "view", ")", "{", "super", "(", "view", ")", ";", "txtTitle", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "text1", ")", ";", "image", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "delete_button", ")", ";", "txtDesc", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "text2", ")", ";", "row", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "bookmarkrow", ")", ";", "}", "</s>"]
["<s>", "public", "AppHolder", "(", "View", "view", ")", "{", "super", "(", "view", ")", ";", "txtTitle", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "firstline", ")", ";", "apkIcon", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "apk_icon", ")", ";", "rl", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "second", ")", ";", "txtDesc", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "date", ")", ";", "about", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "properties", ")", ";", "apkIcon", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "}", "</s>"]
["<s>", "public", "CompressedItemViewHolder", "(", "View", "view", ")", "{", "super", "(", "view", ")", ";", "txtTitle", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "firstline", ")", ";", "pictureIcon", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "picture_icon", ")", ";", "genericIcon", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "generic_icon", ")", ";", "rl", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "second", ")", ";", "perm", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "permis", ")", ";", "date", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "date", ")", ";", "txtDesc", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "secondLine", ")", ";", "apkIcon", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "apk_icon", ")", ";", "checkImageView", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "check_icon", ")", ";", "}", "</s>"]
["<s>", "public", "SpecialViewHolder", "(", "Context", "c", ",", "View", "view", ",", "UtilitiesProvider", "utilsProvider", ",", "int", "type", ")", "{", "super", "(", "view", ")", ";", "this", ".", "type", "=", "type", ";", "txtTitle", "=", "view", ".", "findViewById", "(", "R", ".", "id", ".", "text", ")", ";", "switch", "(", "type", ")", "{", "case", "HEADER_FILES", ":", "txtTitle", ".", "setText", "(", "R", ".", "string", ".", "files", ")", ";", "break", ";", "case", "HEADER_FOLDERS", ":", "txtTitle", ".", "setText", "(", "R", ".", "string", ".", "folders", ")", ";", "break", ";", "default", ":", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", "+", "type", ")", ";", "}", "if", "(", "utilsProvider", ".", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "txtTitle", ".", "setTextColor", "(", "Utils", ".", "getColor", "(", "c", ",", "R", ".", "color", ".", "text_light", ")", ")", ";", "}", "else", "{", "txtTitle", ".", "setTextColor", "(", "Utils", ".", "getColor", "(", "c", ",", "R", ".", "color", ".", "text_dark", ")", ")", ";", "}", "}", "</s>"]
["<s>", "public", "EmptyViewHolder", "(", "View", "view", ")", "{", "super", "(", "view", ")", ";", "}", "</s>"]
["<s>", "public", "RecyclerPreloadSizeProvider", "(", "RecyclerPreloadSizeProviderCallback", "c", ")", "{", "callback", "=", "c", ";", "}", "</s>"]
["<s>", "public", "void", "addView", "(", "int", "id", ",", "View", "v", ")", "{", "if", "(", "!", "isAdditionClosed", "&", "&", "viewSizes", ".", "get", "(", "id", ",", "null", ")", "!", "=", "null", ")", "return", ";", "final", "int", "viewNumber", "=", "id", ";", "new", "SizeViewTarget", "(", "v", ",", "(", "width", ",", "height", ")", "-", ">", "viewSizes", ".", "append", "(", "viewNumber", ",", "new", "int", "[", "]", "{", "width", ",", "height", "}", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "closeOffAddition", "(", ")", "{", "isAdditionClosed", "=", "true", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "int", "[", "]", "getPreloadSize", "(", "IconDataParcelable", "item", ",", "int", "adapterPosition", ",", "int", "perItemPosition", ")", "{", "return", "viewSizes", ".", "get", "(", "callback", ".", "getCorrectView", "(", "item", ",", "adapterPosition", ")", ",", "null", ")", ";", "}", "</s>"]
["<s>", "int", "getCorrectView", "(", "IconDataParcelable", "item", ",", "int", "adapterPosition", ")", ";", "</s>"]
["<s>", "public", "SizeViewTarget", "(", "View", "view", ",", "SizeReadyCallback", "callback", ")", "{", "super", "(", "view", ")", ";", "getSize", "(", "callback", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onResourceReady", "(", "Object", "resource", ",", "Transition", "<", "?", "super", "Object", ">", "transition", ")", "{", "}", "</s>"]
["<s>", "public", "RecyclerPreloadModelProvider", "(", "@", "NonNull", "Fragment", "fragment", ",", "@", "NonNull", "List", "<", "IconDataParcelable", ">", "uris", ")", "{", "urisToLoad", "=", "uris", ";", "request", "=", "GlideApp", ".", "with", "(", "fragment", ")", ".", "asDrawable", "(", ")", ".", "centerCrop", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "NonNull", "public", "List", "<", "IconDataParcelable", ">", "getPreloadItems", "(", "int", "position", ")", "{", "IconDataParcelable", "iconData", "=", "urisToLoad", ".", "get", "(", "position", ")", ";", "if", "(", "iconData", "=", "=", "null", ")", "return", "Collections", ".", "emptyList", "(", ")", ";", "return", "Collections", ".", "singletonList", "(", "iconData", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "Nullable", "public", "RequestBuilder", "<", "Drawable", ">", "getPreloadRequestBuilder", "(", "IconDataParcelable", "iconData", ")", "{", "RequestBuilder", "<", "Drawable", ">", "requestBuilder", ";", "if", "(", "iconData", ".", "type", "=", "=", "IconDataParcelable", ".", "IMAGE_FROMFILE", ")", "{", "requestBuilder", "=", "request", ".", "load", "(", "iconData", ".", "path", ")", ";", "}", "else", "if", "(", "iconData", ".", "type", "=", "=", "IconDataParcelable", ".", "IMAGE_FROMCLOUD", ")", "{", "requestBuilder", "=", "request", ".", "load", "(", "iconData", ".", "path", ")", ".", "diskCacheStrategy", "(", "DiskCacheStrategy", ".", "NONE", ")", ";", "}", "else", "{", "requestBuilder", "=", "request", ".", "load", "(", "iconData", ".", "image", ")", ";", "}", "return", "requestBuilder", ";", "}", "</s>"]
["<s>", "public", "AppsAdapterPreloadModel", "(", "Fragment", "f", ")", "{", "request", "=", "GlideApp", ".", "with", "(", "f", ")", ".", "asDrawable", "(", ")", ".", "fitCenter", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setItemList", "(", "List", "<", "String", ">", "items", ")", "{", "this", ".", "items", "=", "items", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "List", "<", "String", ">", "getPreloadItems", "(", "int", "position", ")", "{", "if", "(", "items", "=", "=", "null", ")", "return", "Collections", ".", "emptyList", "(", ")", ";", "else", "return", "Collections", ".", "singletonList", "(", "items", ".", "get", "(", "position", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "RequestBuilder", "getPreloadRequestBuilder", "(", "String", "item", ")", "{", "return", "request", ".", "clone", "(", ")", ".", "load", "(", "item", ")", ";", "}", "</s>"]
["<s>", "public", "void", "loadApkImage", "(", "String", "item", ",", "ImageView", "v", ")", "{", "request", ".", "load", "(", "item", ")", ".", "into", "(", "v", ")", ";", "}", "</s>"]
["<s>", "public", "ApkImageModelLoader", "(", "PackageManager", "packageManager", ")", "{", "this", ".", "packageManager", "=", "packageManager", ";", "}", "</s>"]
["<s>", "@", "Nullable", "@", "Override", "public", "LoadData", "<", "Drawable", ">", "buildLoadData", "(", "String", "s", ",", "int", "width", ",", "int", "height", ",", "Options", "options", ")", "{", "return", "new", "LoadData", "<", ">", "(", "new", "ObjectKey", "(", "s", ")", ",", "new", "ApkImageDataFetcher", "(", "packageManager", ",", "s", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "handles", "(", "String", "s", ")", "{", "return", "s", ".", "substring", "(", "s", ".", "length", "(", ")", "-", "<NUM_LIT:4>", ",", "s", ".", "length", "(", ")", ")", ".", "toLowerCase", "(", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ApkImageDataFetcher", "(", "PackageManager", "packageManager", ",", "String", "model", ")", "{", "this", ".", "packageManager", "=", "packageManager", ";", "this", ".", "model", "=", "model", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "loadData", "(", "Priority", "priority", ",", "DataCallback", "<", "?", "super", "Drawable", ">", "callback", ")", "{", "PackageInfo", "pi", "=", "packageManager", ".", "getPackageArchiveInfo", "(", "model", ",", "0", ")", ";", "pi", ".", "applicationInfo", ".", "sourceDir", "=", "model", ";", "pi", ".", "applicationInfo", ".", "publicSourceDir", "=", "model", ";", "callback", ".", "onDataReady", "(", "pi", ".", "applicationInfo", ".", "loadIcon", "(", "packageManager", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "cleanup", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "cancel", "(", ")", "{", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "Class", "<", "Drawable", ">", "getDataClass", "(", ")", "{", "return", "Drawable", ".", "class", ";", "}", "</s>"]
["<s>", "@", "NonNull", "@", "Override", "public", "DataSource", "getDataSource", "(", ")", "{", "return", "DataSource", ".", "LOCAL", ";", "}", "</s>"]
["<s>", "public", "ApkImageModelLoaderFactory", "(", "PackageManager", "packageManager", ")", "{", "this", ".", "packageManager", "=", "packageManager", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ModelLoader", "<", "String", ",", "Drawable", ">", "build", "(", "MultiModelLoaderFactory", "multiFactory", ")", "{", "return", "new", "ApkImageModelLoader", "(", "packageManager", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "teardown", "(", ")", "{", "}", "</s>"]
["<s>", "public", "AppDataParcelable", "(", "String", "label", ",", "String", "path", ",", "String", "packageName", ",", "String", "data", ",", "String", "fileSize", ",", "long", "size", ",", "long", "lastModification", ")", "{", "this", ".", "label", "=", "label", ";", "this", ".", "path", "=", "path", ";", "this", ".", "packageName", "=", "packageName", ";", "this", ".", "data", "=", "data", ";", "this", ".", "fileSize", "=", "fileSize", ";", "this", ".", "size", "=", "size", ";", "this", ".", "lastModification", "=", "lastModification", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "describeContents", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeToParcel", "(", "Parcel", "parcel", ",", "int", "i", ")", "{", "parcel", ".", "writeString", "(", "label", ")", ";", "parcel", ".", "writeString", "(", "path", ")", ";", "parcel", ".", "writeString", "(", "packageName", ")", ";", "parcel", ".", "writeString", "(", "data", ")", ";", "parcel", ".", "writeString", "(", "fileSize", ")", ";", "parcel", ".", "writeLong", "(", "size", ")", ";", "parcel", ".", "writeLong", "(", "lastModification", ")", ";", "}", "</s>"]
["<s>", "private", "AppDataParcelable", "(", "Parcel", "in", ")", "{", "this", ".", "label", "=", "in", ".", "readString", "(", ")", ";", "this", ".", "path", "=", "in", ".", "readString", "(", ")", ";", "this", ".", "packageName", "=", "in", ".", "readString", "(", ")", ";", "this", ".", "data", "=", "in", ".", "readString", "(", ")", ";", "this", ".", "fileSize", "=", "in", ".", "readString", "(", ")", ";", "this", ".", "size", "=", "in", ".", "readLong", "(", ")", ";", "this", ".", "lastModification", "=", "in", ".", "readLong", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "AppDataParcelable", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "AppDataParcelable", "(", "in", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "AppDataParcelable", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "AppDataParcelable", "[", "size", "]", ";", "}", "</s>"]
["<s>", "public", "AppDataSorter", "(", "int", "sort", ",", "int", "asc", ")", "{", "this", ".", "asc", "=", "asc", ";", "this", ".", "sort", "=", "sort", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "compare", "(", "AppDataParcelable", "file1", ",", "AppDataParcelable", "file2", ")", "{", "if", "(", "sort", "=", "=", "SORT_NAME", ")", "{", "return", "asc", "*", "file1", ".", "label", ".", "compareToIgnoreCase", "(", "file2", ".", "label", ")", ";", "}", "else", "if", "(", "sort", "=", "=", "SORT_MODIF", ")", "{", "return", "asc", "*", "Long", ".", "valueOf", "(", "file1", ".", "lastModification", ")", ".", "compareTo", "(", "file2", ".", "lastModification", ")", ";", "}", "else", "if", "(", "sort", "=", "=", "SORT_SIZE", ")", "{", "return", "asc", "*", "Long", ".", "valueOf", "(", "file1", ".", "size", ")", ".", "compareTo", "(", "file2", ".", "size", ")", ";", "}", "return", "0", ";", "}", "</s>"]
["<s>", "public", "CompressedObjectParcelable", "(", "String", "path", ",", "long", "date", ",", "long", "size", ",", "boolean", "directory", ")", "{", "this", ".", "directory", "=", "directory", ";", "this", ".", "type", "=", "TYPE_NORMAL", ";", "this", ".", "path", "=", "path", ";", "this", ".", "name", "=", "getNameForPath", "(", "path", ")", ";", "this", ".", "date", "=", "date", ";", "this", ".", "size", "=", "size", ";", "this", ".", "filetype", "=", "Icons", ".", "getTypeOfFile", "(", "path", ",", "directory", ")", ";", "this", ".", "iconData", "=", "new", "IconDataParcelable", "(", "IconDataParcelable", ".", "IMAGE_RES", ",", "Icons", ".", "loadMimeIcon", "(", "path", ",", "directory", ")", ")", ";", "}", "</s>"]
["<s>", "public", "CompressedObjectParcelable", "(", ")", "{", "this", ".", "directory", "=", "true", ";", "this", ".", "type", "=", "TYPE_GOBACK", ";", "this", ".", "path", "=", "null", ";", "this", ".", "name", "=", "null", ";", "this", ".", "date", "=", "0", ";", "this", ".", "size", "=", "0", ";", "this", ".", "filetype", "=", "-", "1", ";", "this", ".", "iconData", "=", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "describeContents", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "public", "void", "writeToParcel", "(", "Parcel", "p1", ",", "int", "p2", ")", "{", "p1", ".", "writeInt", "(", "type", ")", ";", "if", "(", "type", "!", "=", "TYPE_GOBACK", ")", "{", "p1", ".", "writeInt", "(", "directory", "?", "1", ":", "0", ")", ";", "p1", ".", "writeString", "(", "path", ")", ";", "p1", ".", "writeString", "(", "name", ")", ";", "p1", ".", "writeLong", "(", "size", ")", ";", "p1", ".", "writeLong", "(", "date", ")", ";", "p1", ".", "writeInt", "(", "filetype", ")", ";", "p1", ".", "writeParcelable", "(", "iconData", ",", "0", ")", ";", "}", "}", "</s>"]
["<s>", "public", "CompressedObjectParcelable", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "CompressedObjectParcelable", "(", "in", ")", ";", "}", "</s>"]
["<s>", "public", "CompressedObjectParcelable", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "CompressedObjectParcelable", "[", "size", "]", ";", "}", "</s>"]
["<s>", "private", "CompressedObjectParcelable", "(", "Parcel", "im", ")", "{", "type", "=", "im", ".", "readInt", "(", ")", ";", "if", "(", "type", "=", "=", "TYPE_GOBACK", ")", "{", "directory", "=", "true", ";", "path", "=", "null", ";", "name", "=", "null", ";", "date", "=", "0", ";", "size", "=", "0", ";", "filetype", "=", "-", "1", ";", "iconData", "=", "null", ";", "}", "else", "{", "directory", "=", "im", ".", "readInt", "(", ")", "=", "=", "1", ";", "path", "=", "im", ".", "readString", "(", ")", ";", "name", "=", "im", ".", "readString", "(", ")", ";", "size", "=", "im", ".", "readLong", "(", ")", ";", "date", "=", "im", ".", "readLong", "(", ")", ";", "filetype", "=", "im", ".", "readInt", "(", ")", ";", "iconData", "=", "im", ".", "readParcelable", "(", "IconDataParcelable", ".", "class", ".", "getClassLoader", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "compare", "(", "CompressedObjectParcelable", "file1", ",", "CompressedObjectParcelable", "file2", ")", "{", "if", "(", "file1", ".", "type", "=", "=", "CompressedObjectParcelable", ".", "TYPE_GOBACK", ")", "return", "-", "1", ";", "else", "if", "(", "file2", ".", "type", "=", "=", "CompressedObjectParcelable", ".", "TYPE_GOBACK", ")", "return", "1", ";", "else", "if", "(", "file1", ".", "directory", "&", "&", "!", "file2", ".", "directory", ")", "{", "return", "-", "1", ";", "}", "else", "if", "(", "file2", ".", "directory", "&", "&", "!", "(", "file1", ")", ".", "directory", ")", "{", "return", "1", ";", "}", "else", "return", "file1", ".", "path", ".", "compareToIgnoreCase", "(", "file2", ".", "path", ")", ";", "}", "</s>"]
["<s>", "private", "String", "getNameForPath", "(", "String", "path", ")", "{", "if", "(", "path", ".", "isEmpty", "(", ")", ")", "return", "\"", "\"", ";", "final", "StringBuilder", "stringBuilder", "=", "new", "StringBuilder", "(", "path", ")", ";", "stringBuilder", ".", "deleteCharAt", "(", "path", ".", "length", "(", ")", "-", "1", ")", ";", "try", "{", "return", "stringBuilder", ".", "substring", "(", "stringBuilder", ".", "lastIndexOf", "(", "\"", "<STR_LIT:/>", "\"", ")", "+", "1", ")", ";", "}", "catch", "(", "StringIndexOutOfBoundsException", "e", ")", "{", "return", "path", ".", "substring", "(", "0", ",", "path", ".", "lastIndexOf", "(", "\"", "<STR_LIT:/>", "\"", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "CompressedObjectParcelable", ")", "{", "CompressedObjectParcelable", "otherObj", "=", "(", "CompressedObjectParcelable", ")", "obj", ";", "return", "name", ".", "equals", "(", "otherObj", ".", "name", ")", "&", "&", "type", "=", "=", "otherObj", ".", "type", "&", "&", "directory", "=", "=", "otherObj", ".", "directory", "&", "&", "size", "=", "=", "otherObj", ".", "size", ";", "}", "else", "return", "false", ";", "}", "</s>"]
["<s>", "public", "IconDataParcelable", "(", "int", "type", ",", "@", "DrawableRes", "int", "img", ")", "{", "if", "(", "type", "=", "=", "IMAGE_FROMFILE", ")", "throw", "new", "IllegalArgumentException", "(", ")", ";", "this", ".", "type", "=", "type", ";", "this", ".", "image", "=", "img", ";", "this", ".", "loadingImage", "=", "-", "1", ";", "this", ".", "path", "=", "null", ";", "}", "</s>"]
["<s>", "public", "IconDataParcelable", "(", "int", "type", ",", "String", "path", ",", "@", "DrawableRes", "int", "loadingImages", ")", "{", "if", "(", "type", "=", "=", "IMAGE_RES", ")", "throw", "new", "IllegalArgumentException", "(", ")", ";", "this", ".", "type", "=", "type", ";", "this", ".", "path", "=", "path", ";", "this", ".", "loadingImage", "=", "loadingImages", ";", "this", ".", "image", "=", "-", "1", ";", "}", "</s>"]
["<s>", "public", "boolean", "isImageBroken", "(", ")", "{", "return", "isImageBroken", ";", "}", "</s>"]
["<s>", "public", "void", "setImageBroken", "(", "boolean", "imageBroken", ")", "{", "isImageBroken", "=", "imageBroken", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "describeContents", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeToParcel", "(", "Parcel", "parcel", ",", "int", "i", ")", "{", "parcel", ".", "writeInt", "(", "type", ")", ";", "parcel", ".", "writeString", "(", "path", ")", ";", "parcel", ".", "writeInt", "(", "image", ")", ";", "parcel", ".", "writeInt", "(", "loadingImage", ")", ";", "parcel", ".", "writeInt", "(", "isImageBroken", "?", "1", ":", "0", ")", ";", "}", "</s>"]
["<s>", "public", "IconDataParcelable", "(", "Parcel", "im", ")", "{", "type", "=", "im", ".", "readInt", "(", ")", ";", "path", "=", "im", ".", "readString", "(", ")", ";", "image", "=", "im", ".", "readInt", "(", ")", ";", "loadingImage", "=", "im", ".", "readInt", "(", ")", ";", "isImageBroken", "=", "im", ".", "readInt", "(", ")", "=", "=", "1", ";", "}", "</s>"]
["<s>", "public", "IconDataParcelable", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "IconDataParcelable", "(", "in", ")", ";", "}", "</s>"]
["<s>", "public", "IconDataParcelable", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "IconDataParcelable", "[", "size", "]", ";", "}", "</s>"]
["<s>", "public", "LayoutElementParcelable", "(", "String", "path", ",", "String", "permissions", ",", "String", "symlink", ",", "String", "size", ",", "long", "longSize", ",", "boolean", "header", ",", "String", "date", ",", "boolean", "isDirectory", ",", "boolean", "useThumbs", ",", "OpenMode", "openMode", ")", "{", "this", "(", "new", "File", "(", "path", ")", ".", "getName", "(", ")", ",", "path", ",", "permissions", ",", "symlink", ",", "size", ",", "longSize", ",", "header", ",", "date", ",", "isDirectory", ",", "useThumbs", ",", "openMode", ")", ";", "}", "</s>"]
["<s>", "public", "LayoutElementParcelable", "(", "String", "title", ",", "String", "path", ",", "String", "permissions", ",", "String", "symlink", ",", "String", "size", ",", "long", "longSize", ",", "boolean", "header", ",", "String", "date", ",", "boolean", "isDirectory", ",", "boolean", "useThumbs", ",", "OpenMode", "openMode", ")", "{", "filetype", "=", "Icons", ".", "getTypeOfFile", "(", "path", ",", "isDirectory", ")", ";", "@", "DrawableRes", "int", "fallbackIcon", "=", "Icons", ".", "loadMimeIcon", "(", "path", ",", "isDirectory", ")", ";", "this", ".", "mode", "=", "openMode", ";", "if", "(", "useThumbs", ")", "{", "switch", "(", "mode", ")", "{", "case", "SMB", ":", "case", "SFTP", ":", "case", "DROPBOX", ":", "case", "GDRIVE", ":", "case", "ONEDRIVE", ":", "case", "BOX", ":", "if", "(", "!", "isDirectory", "&", "&", "(", "filetype", "=", "=", "Icons", ".", "IMAGE", "|", "|", "filetype", "=", "=", "Icons", ".", "VIDEO", "|", "|", "filetype", "=", "=", "Icons", ".", "APK", ")", ")", "{", "this", ".", "iconData", "=", "new", "IconDataParcelable", "(", "IconDataParcelable", ".", "IMAGE_FROMCLOUD", ",", "path", ",", "fallbackIcon", ")", ";", "}", "else", "{", "this", ".", "iconData", "=", "new", "IconDataParcelable", "(", "IconDataParcelable", ".", "IMAGE_RES", ",", "fallbackIcon", ")", ";", "}", "break", ";", "default", ":", "if", "(", "filetype", "=", "=", "Icons", ".", "IMAGE", "|", "|", "filetype", "=", "=", "Icons", ".", "VIDEO", "|", "|", "filetype", "=", "=", "Icons", ".", "APK", ")", "{", "this", ".", "iconData", "=", "new", "IconDataParcelable", "(", "IconDataParcelable", ".", "IMAGE_FROMFILE", ",", "path", ",", "fallbackIcon", ")", ";", "}", "else", "{", "this", ".", "iconData", "=", "new", "IconDataParcelable", "(", "IconDataParcelable", ".", "IMAGE_RES", ",", "fallbackIcon", ")", ";", "}", "}", "}", "else", "{", "this", ".", "iconData", "=", "new", "IconDataParcelable", "(", "IconDataParcelable", ".", "IMAGE_RES", ",", "fallbackIcon", ")", ";", "}", "this", ".", "title", "=", "title", ";", "this", ".", "desc", "=", "path", ";", "this", ".", "permissions", "=", "permissions", ".", "trim", "(", ")", ";", "this", ".", "symlink", "=", "symlink", ".", "trim", "(", ")", ";", "this", ".", "size", "=", "size", ";", "this", ".", "header", "=", "header", ";", "this", ".", "longSize", "=", "longSize", ";", "this", ".", "isDirectory", "=", "isDirectory", ";", "if", "(", "!", "date", ".", "trim", "(", ")", ".", "equals", "(", "\"", "\"", ")", ")", "{", "this", ".", "date", "=", "Long", ".", "parseLong", "(", "date", ")", ";", "this", ".", "date1", "=", "Utils", ".", "getDate", "(", "this", ".", "date", ",", "CURRENT_YEAR", ")", ";", "}", "else", "{", "this", ".", "date", "=", "0", ";", "this", ".", "date1", "=", "\"", "\"", ";", "}", "}", "</s>"]
["<s>", "public", "OpenMode", "getMode", "(", ")", "{", "return", "mode", ";", "}", "</s>"]
["<s>", "public", "void", "setMode", "(", "OpenMode", "mode", ")", "{", "this", ".", "mode", "=", "mode", ";", "}", "</s>"]
["<s>", "public", "HybridFileParcelable", "generateBaseFile", "(", ")", "{", "HybridFileParcelable", "baseFile", "=", "new", "HybridFileParcelable", "(", "desc", ",", "permissions", ",", "date", ",", "longSize", ",", "isDirectory", ")", ";", "baseFile", ".", "setMode", "(", "mode", ")", ";", "baseFile", ".", "setName", "(", "title", ")", ";", "return", "baseFile", ";", "}", "</s>"]
["<s>", "public", "boolean", "hasSymlink", "(", ")", "{", "return", "symlink", "!", "=", "null", "&", "&", "symlink", ".", "length", "(", ")", "!", "=", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "title", "+", "\"", "<STR_LIT>", "<STR_LIT>", "\"", "+", "desc", ";", "}", "</s>"]
["<s>", "public", "LayoutElementParcelable", "(", "Parcel", "im", ")", "{", "filetype", "=", "im", ".", "readInt", "(", ")", ";", "iconData", "=", "im", ".", "readParcelable", "(", "IconDataParcelable", ".", "class", ".", "getClassLoader", "(", ")", ")", ";", "title", "=", "im", ".", "readString", "(", ")", ";", "desc", "=", "im", ".", "readString", "(", ")", ";", "permissions", "=", "im", ".", "readString", "(", ")", ";", "symlink", "=", "im", ".", "readString", "(", ")", ";", "int", "j", "=", "im", ".", "readInt", "(", ")", ";", "date", "=", "im", ".", "readLong", "(", ")", ";", "int", "i", "=", "im", ".", "readInt", "(", ")", ";", "header", "=", "i", "!", "=", "0", ";", "isDirectory", "=", "j", "!", "=", "0", ";", "date1", "=", "im", ".", "readString", "(", ")", ";", "size", "=", "im", ".", "readString", "(", ")", ";", "longSize", "=", "im", ".", "readLong", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "describeContents", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeToParcel", "(", "Parcel", "p1", ",", "int", "p2", ")", "{", "p1", ".", "writeInt", "(", "filetype", ")", ";", "p1", ".", "writeParcelable", "(", "iconData", ",", "0", ")", ";", "p1", ".", "writeString", "(", "title", ")", ";", "p1", ".", "writeString", "(", "desc", ")", ";", "p1", ".", "writeString", "(", "permissions", ")", ";", "p1", ".", "writeString", "(", "symlink", ")", ";", "p1", ".", "writeInt", "(", "isDirectory", "?", "1", ":", "0", ")", ";", "p1", ".", "writeLong", "(", "date", ")", ";", "p1", ".", "writeInt", "(", "header", "?", "1", ":", "0", ")", ";", "p1", ".", "writeString", "(", "date1", ")", ";", "p1", ".", "writeString", "(", "size", ")", ";", "p1", ".", "writeLong", "(", "longSize", ")", ";", "}", "</s>"]
["<s>", "public", "LayoutElementParcelable", "createFromParcel", "(", "Parcel", "in", ")", "{", "return", "new", "LayoutElementParcelable", "(", "in", ")", ";", "}", "</s>"]
["<s>", "public", "LayoutElementParcelable", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "LayoutElementParcelable", "[", "size", "]", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "@", "Nullable", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", ")", "{", "setTheme", "(", "R", ".", "style", ".", "aboutDark", ")", ";", "}", "else", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "setTheme", "(", "R", ".", "style", ".", "aboutBlack", ")", ";", "}", "else", "{", "setTheme", "(", "R", ".", "style", ".", "aboutLight", ")", ";", "}", "setContentView", "(", "R", ".", "layout", ".", "activity_about", ")", ";", "mSharedPref", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "this", ")", ";", "mAppBarLayout", "=", "findViewById", "(", "R", ".", "id", ".", "appBarLayout", ")", ";", "mCollapsingToolbarLayout", "=", "findViewById", "(", "R", ".", "id", ".", "collapsing_toolbar_layout", ")", ";", "mTitleTextView", "=", "findViewById", "(", "R", ".", "id", ".", "text_view_title", ")", ";", "ImageView", "mLicensesIcon", "=", "findViewById", "(", "R", ".", "id", ".", "image_view_license", ")", ";", "mAuthorsDivider", "=", "findViewById", "(", "R", ".", "id", ".", "view_divider_authors", ")", ";", "mDeveloper1Divider", "=", "findViewById", "(", "R", ".", "id", ".", "view_divider_developers_1", ")", ";", "mAppBarLayout", ".", "setLayoutParams", "(", "calculateHeaderViewParams", "(", ")", ")", ";", "Toolbar", "mToolbar", "=", "findViewById", "(", "R", ".", "id", ".", "toolBar", ")", ";", "setSupportActionBar", "(", "mToolbar", ")", ";", "getSupportActionBar", "(", ")", ".", "setDisplayHomeAsUpEnabled", "(", "true", ")", ";", "getSupportActionBar", "(", ")", ".", "setHomeAsUpIndicator", "(", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "drawable", ".", "md_nav_back", ")", ")", ";", "getSupportActionBar", "(", ")", ".", "setDisplayShowTitleEnabled", "(", "false", ")", ";", "switchIcons", "(", ")", ";", "Bitmap", "bitmap", "=", "BitmapFactory", ".", "decodeResource", "(", "getResources", "(", ")", ",", "R", ".", "drawable", ".", "about_header", ")", ";", "Palette", ".", "from", "(", "bitmap", ")", ".", "generate", "(", "palette", "-", ">", "{", "int", "mutedColor", "=", "palette", ".", "getMutedColor", "(", "Utils", ".", "getColor", "(", "AboutActivity", ".", "this", ",", "R", ".", "color", ".", "primary_blue", ")", ")", ";", "int", "darkMutedColor", "=", "palette", ".", "getDarkMutedColor", "(", "Utils", ".", "getColor", "(", "AboutActivity", ".", "this", ",", "R", ".", "color", ".", "primary_blue", ")", ")", ";", "mCollapsingToolbarLayout", ".", "setContentScrimColor", "(", "mutedColor", ")", ";", "mCollapsingToolbarLayout", ".", "setStatusBarScrimColor", "(", "darkMutedColor", ")", ";", "}", ")", ";", "mAppBarLayout", ".", "addOnOffsetChangedListener", "(", "(", "appBarLayout", ",", "verticalOffset", ")", "-", ">", "{", "mTitleTextView", ".", "setAlpha", "(", "Math", ".", "abs", "(", "verticalOffset", "/", "(", "float", ")", "appBarLayout", ".", "getTotalScrollRange", "(", ")", ")", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "private", "CoordinatorLayout", ".", "LayoutParams", "calculateHeaderViewParams", "(", ")", "{", "CoordinatorLayout", ".", "LayoutParams", "layoutParams", "=", "(", "CoordinatorLayout", ".", "LayoutParams", ")", "mAppBarLayout", ".", "getLayoutParams", "(", ")", ";", "float", "vidAspectRatio", "=", "(", "float", ")", "HEADER_WIDTH", "/", "(", "float", ")", "HEADER_HEIGHT", ";", "Log", ".", "d", "(", "TAG", ",", "vidAspectRatio", "+", "\"", "\"", ")", ";", "int", "screenWidth", "=", "getResources", "(", ")", ".", "getDisplayMetrics", "(", ")", ".", "widthPixels", ";", "float", "reqHeightAsPerAspectRatio", "=", "(", "float", ")", "screenWidth", "*", "vidAspectRatio", ";", "Log", ".", "d", "(", "TAG", ",", "reqHeightAsPerAspectRatio", "+", "\"", "\"", ")", ";", "Log", ".", "d", "(", "TAG", ",", "\"", "<STR_LIT>", "\"", "+", "screenWidth", "+", "\"", "<STR_LIT>", "\"", "+", "reqHeightAsPerAspectRatio", ")", ";", "layoutParams", ".", "width", "=", "screenWidth", ";", "layoutParams", ".", "height", "=", "(", "int", ")", "reqHeightAsPerAspectRatio", ";", "return", "layoutParams", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onOptionsItemSelected", "(", "MenuItem", "item", ")", "{", "switch", "(", "item", ".", "getItemId", "(", ")", ")", "{", "case", "android", ".", "R", ".", "id", ".", "home", ":", "onBackPressed", "(", ")", ";", "break", ";", "}", "return", "super", ".", "onOptionsItemSelected", "(", "item", ")", ";", "}", "</s>"]
["<s>", "private", "void", "switchIcons", "(", ")", "{", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", "|", "|", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "mAuthorsDivider", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "divider_dark_card", ")", ")", ";", "mDeveloper1Divider", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "divider_dark_card", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "switch", "(", "v", ".", "getId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "relative_layout_version", ":", "mCount", "+", "+", ";", "if", "(", "mCount", ">", "=", "<NUM_LIT:5>", ")", "{", "String", "text", "=", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "easter_egg_title", ")", "+", "\"", "<STR_LIT>", "\"", "+", "mCount", ";", "if", "(", "snackbar", "!", "=", "null", "&", "&", "snackbar", ".", "isShown", "(", ")", ")", "{", "snackbar", ".", "setText", "(", "text", ")", ";", "}", "else", "{", "snackbar", "=", "Snackbar", ".", "make", "(", "v", ",", "text", ",", "Snackbar", ".", "LENGTH_SHORT", ")", ";", "}", "snackbar", ".", "show", "(", ")", ";", "mSharedPref", ".", "edit", "(", ")", ".", "putInt", "(", "KEY_PREF_STUDIO", ",", "Integer", ".", "parseInt", "(", "Integer", ".", "toString", "(", "mCount", ")", "+", "\"", "<STR_LIT>", "\"", ")", ")", ".", "apply", "(", ")", ";", "}", "else", "{", "mSharedPref", ".", "edit", "(", ")", ".", "putInt", "(", "KEY_PREF_STUDIO", ",", "0", ")", ".", "apply", "(", ")", ";", "}", "break", ";", "case", "R", ".", "id", ".", "relative_layout_issues", ":", "openURL", "(", "URL_REPO_ISSUES", ")", ";", "break", ";", "case", "R", ".", "id", ".", "relative_layout_changelog", ":", "openURL", "(", "URL_REPO_CHANGELOG", ")", ";", "break", ";", "case", "R", ".", "id", ".", "relative_layout_licenses", ":", "LibsBuilder", "libsBuilder", "=", "new", "LibsBuilder", "(", ")", ".", "withLibraries", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ".", "withActivityTitle", "(", "getString", "(", "R", ".", "string", ".", "libraries", ")", ")", ".", "withAboutIconShown", "(", "true", ")", ".", "withAboutVersionShownName", "(", "true", ")", ".", "withAboutVersionShownCode", "(", "false", ")", ".", "withAboutDescription", "(", "getString", "(", "R", ".", "string", ".", "about_amaze", ")", ")", ".", "withAboutSpecial1", "(", "getString", "(", "R", ".", "string", ".", "license", ")", ")", ".", "withAboutSpecial1Description", "(", "getString", "(", "R", ".", "string", ".", "amaze_license", ")", ")", ".", "withLicenseShown", "(", "true", ")", ";", "switch", "(", "getAppTheme", "(", ")", ".", "getSimpleTheme", "(", ")", ")", "{", "case", "LIGHT", ":", "libsBuilder", ".", "withActivityStyle", "(", "Libs", ".", "ActivityStyle", ".", "LIGHT_DARK_TOOLBAR", ")", ";", "break", ";", "case", "DARK", ":", "libsBuilder", ".", "withActivityStyle", "(", "Libs", ".", "ActivityStyle", ".", "DARK", ")", ";", "break", ";", "case", "BLACK", ":", "libsBuilder", ".", "withActivityTheme", "(", "R", ".", "style", ".", "AboutLibrariesTheme_Black", ")", ";", "break", ";", "}", "libsBuilder", ".", "start", "(", "this", ")", ";", "break", ";", "case", "R", ".", "id", ".", "text_view_author_1_g_plus", ":", "openURL", "(", "URL_AUTHOR_1_G_PLUS", ")", ";", "break", ";", "case", "R", ".", "id", ".", "text_view_author_1_donate", ":", "ClipboardManager", "clipManager1", "=", "(", "ClipboardManager", ")", "getSystemService", "(", "CLIPBOARD_SERVICE", ")", ";", "ClipData", "clip1", "=", "ClipData", ".", "newPlainText", "(", "TAG_CLIPBOARD_DONATE", ",", "URL_AUTHOR_1_PAYPAL", ")", ";", "clipManager1", ".", "setPrimaryClip", "(", "clip1", ")", ";", "Snackbar", ".", "make", "(", "v", ",", "R", ".", "string", ".", "paypal_copy_message", ",", "Snackbar", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "break", ";", "case", "R", ".", "id", ".", "text_view_author_2_g_plus", ":", "openURL", "(", "URL_AUTHOR_2_G_PLUS", ")", ";", "break", ";", "case", "R", ".", "id", ".", "text_view_author_2_donate", ":", "openURL", "(", "URL_AUTHOR_2_PAYPAL", ")", ";", "break", ";", "case", "R", ".", "id", ".", "text_view_developer_1_github", ":", "openURL", "(", "URL_DEVELOPER1_GITHUB", ")", ";", "break", ";", "case", "R", ".", "id", ".", "text_view_developer_2_github", ":", "openURL", "(", "URL_DEVELOPER2_GITHUB", ")", ";", "break", ";", "case", "R", ".", "id", ".", "text_view_developer_1_donate", ":", "try", "{", "openURL", "(", "URL_DEVELOPER1_BITCOIN", ")", ";", "}", "catch", "(", "ActivityNotFoundException", "e", ")", "{", "Snackbar", ".", "make", "(", "v", ",", "R", ".", "string", ".", "nobitcoinapp", ",", "Snackbar", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "break", ";", "case", "R", ".", "id", ".", "text_view_developer_2_donate", ":", "openURL", "(", "URL_DEVELOPER2_DONATE", ")", ";", "break", ";", "case", "R", ".", "id", ".", "relative_layout_translate", ":", "openURL", "(", "URL_REPO_TRANSLATE", ")", ";", "break", ";", "case", "R", ".", "id", ".", "relative_layout_g_plus_community", ":", "openURL", "(", "URL_REPO_G_PLUS_COMMUNITY", ")", ";", "break", ";", "case", "R", ".", "id", ".", "relative_layout_xda", ":", "openURL", "(", "URL_REPO_XDA", ")", ";", "break", ";", "case", "R", ".", "id", ".", "relative_layout_rate", ":", "openURL", "(", "URL_REPO_RATE", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "private", "void", "openURL", "(", "String", "url", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "Intent", ".", "ACTION_VIEW", ")", ";", "intent", ".", "setData", "(", "Uri", ".", "parse", "(", "url", ")", ")", ";", "startActivity", "(", "intent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "final", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "dataUtils", "=", "DataUtils", ".", "getInstance", "(", ")", ";", "initialisePreferences", "(", ")", ";", "initializeInteractiveShell", "(", ")", ";", "dataUtils", ".", "registerOnDataChangedListener", "(", "this", ")", ";", "CustomSshJConfig", ".", "init", "(", ")", ";", "AppConfig", ".", "getInstance", "(", ")", ".", "setMainActivityContext", "(", "this", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "main_toolbar", ")", ";", "appbar", "=", "new", "AppBar", "(", "this", ",", "getPrefs", "(", ")", ",", "queue", "-", ">", "{", "if", "(", "!", "queue", ".", "isEmpty", "(", ")", ")", "{", "mainActivityHelper", ".", "search", "(", "getPrefs", "(", ")", ",", "queue", ")", ";", "}", "}", ")", ";", "initialiseViews", "(", ")", ";", "tabHandler", "=", "new", "TabHandler", "(", "this", ")", ";", "utilsHandler", "=", "AppConfig", ".", "getInstance", "(", ")", ".", "getUtilsHandler", "(", ")", ";", "cloudHandler", "=", "new", "CloudHandler", "(", "this", ")", ";", "mainActivityHelper", "=", "new", "MainActivityHelper", "(", "this", ")", ";", "initialiseFab", "(", ")", ";", "if", "(", "CloudSheetFragment", ".", "isCloudProviderAvailable", "(", "this", ")", ")", "{", "getSupportLoaderManager", "(", ")", ".", "initLoader", "(", "REQUEST_CODE_CLOUD_LIST_KEYS", ",", "null", ",", "this", ")", ";", "}", "path", "=", "getIntent", "(", ")", ".", "getStringExtra", "(", "\"", "<STR_LIT>", "\"", ")", ";", "openProcesses", "=", "getIntent", "(", ")", ".", "getBooleanExtra", "(", "KEY_INTENT_PROCESS_VIEWER", ",", "false", ")", ";", "intent", "=", "getIntent", "(", ")", ";", "if", "(", "intent", ".", "getStringArrayListExtra", "(", "TAG_INTENT_FILTER_FAILED_OPS", ")", "!", "=", "null", ")", "{", "ArrayList", "<", "HybridFileParcelable", ">", "failedOps", "=", "intent", ".", "getParcelableArrayListExtra", "(", "TAG_INTENT_FILTER_FAILED_OPS", ")", ";", "if", "(", "failedOps", "!", "=", "null", ")", "{", "mainActivityHelper", ".", "showFailedOperationDialog", "(", "failedOps", ",", "this", ")", ";", "}", "}", "checkForExternalIntent", "(", "intent", ")", ";", "if", "(", "savedInstanceState", "!", "=", "null", ")", "{", "drawer", ".", "setSomethingSelected", "(", "savedInstanceState", ".", "getBoolean", "(", "KEY_DRAWER_SELECTED", ")", ")", ";", "}", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "getWindow", "(", ")", ".", "setBackgroundDrawableResource", "(", "android", ".", "R", ".", "color", ".", "white", ")", ";", "}", "else", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "getWindow", "(", ")", ".", "setBackgroundDrawableResource", "(", "android", ".", "R", ".", "color", ".", "black", ")", ";", "}", "else", "{", "getWindow", "(", ")", ".", "setBackgroundDrawableResource", "(", "R", ".", "color", ".", "holo_dark_background", ")", ";", "}", "drawer", ".", "setDrawerIndicatorEnabled", "(", ")", ";", "if", "(", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "ActivityManager", ".", "TaskDescription", "taskDescription", "=", "new", "ActivityManager", ".", "TaskDescription", "(", "\"", "<STR_LIT>", "\"", ",", "(", "(", "BitmapDrawable", ")", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "mipmap", ".", "ic_launcher", ")", ")", ".", "getBitmap", "(", ")", ",", "ColorPreferenceHelper", ".", "getPrimary", "(", "getCurrentColorPreference", "(", ")", ",", "MainActivity", ".", "currentTab", ")", ")", ";", "setTaskDescription", "(", "taskDescription", ")", ";", "}", "if", "(", "!", "getBoolean", "(", "PREFERENCE_BOOKMARKS_ADDED", ")", ")", "{", "utilsHandler", ".", "addCommonBookmarks", "(", ")", ";", "getPrefs", "(", ")", ".", "edit", "(", ")", ".", "putBoolean", "(", "PREFERENCE_BOOKMARKS_ADDED", ",", "true", ")", ".", "commit", "(", ")", ";", "}", "checkForExternalPermission", "(", ")", ";", "AppConfig", ".", "runInParallel", "(", "new", "AppConfig", ".", "CustomAsyncCallbacks", "<", "Void", ",", "Void", ">", "(", "null", ")", "{", "@", "Override", "public", "Void", "doInBackground", "(", ")", "{", "dataUtils", ".", "setHiddenFiles", "(", "utilsHandler", ".", "getHiddenFilesConcurrentRadixTree", "(", ")", ")", ";", "dataUtils", ".", "setHistory", "(", "utilsHandler", ".", "getHistoryLinkedList", "(", ")", ")", ";", "dataUtils", ".", "setGridfiles", "(", "utilsHandler", ".", "getGridViewList", "(", ")", ")", ";", "dataUtils", ".", "setListfiles", "(", "utilsHandler", ".", "getListViewList", "(", ")", ")", ";", "dataUtils", ".", "setBooks", "(", "utilsHandler", ".", "getBookmarksList", "(", ")", ")", ";", "ArrayList", "<", "String", "[", "]", ">", "servers", "=", "new", "ArrayList", "<", "String", "[", "]", ">", "(", ")", ";", "servers", ".", "addAll", "(", "utilsHandler", ".", "getSmbList", "(", ")", ")", ";", "servers", ".", "addAll", "(", "utilsHandler", ".", "getSftpList", "(", ")", ")", ";", "dataUtils", ".", "setServers", "(", "servers", ")", ";", "return", "null", ";", "}", "@", "Override", "public", "void", "onPostExecute", "(", "Void", "result", ")", "{", "drawer", ".", "refreshDrawer", "(", ")", ";", "if", "(", "savedInstanceState", "=", "=", "null", ")", "{", "if", "(", "openProcesses", ")", "{", "FragmentTransaction", "transaction", "=", "getSupportFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ";", "transaction", ".", "replace", "(", "R", ".", "id", ".", "content_frame", ",", "new", "ProcessViewerFragment", "(", ")", ",", "KEY_INTENT_PROCESS_VIEWER", ")", ";", "drawer", ".", "setSomethingSelected", "(", "true", ")", ";", "openProcesses", "=", "false", ";", "transaction", ".", "commit", "(", ")", ";", "supportInvalidateOptionsMenu", "(", ")", ";", "}", "else", "if", "(", "intent", ".", "getAction", "(", ")", "!", "=", "null", "&", "&", "intent", ".", "getAction", "(", ")", ".", "equals", "(", "TileService", ".", "ACTION_QS_TILE_PREFERENCES", ")", ")", "{", "FragmentTransaction", "transaction2", "=", "getSupportFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ";", "transaction2", ".", "replace", "(", "R", ".", "id", ".", "content_frame", ",", "new", "FtpServerFragment", "(", ")", ")", ";", "appBarLayout", ".", "animate", "(", ")", ".", "translationY", "(", "0", ")", ".", "setInterpolator", "(", "new", "DecelerateInterpolator", "(", "<NUM_LIT:2>", ")", ")", ".", "start", "(", ")", ";", "drawer", ".", "setSomethingSelected", "(", "true", ")", ";", "drawer", ".", "deselectEverything", "(", ")", ";", "transaction2", ".", "commit", "(", ")", ";", "}", "else", "{", "if", "(", "path", "!", "=", "null", "&", "&", "path", ".", "length", "(", ")", ">", "0", ")", "{", "HybridFile", "file", "=", "new", "HybridFile", "(", "OpenMode", ".", "UNKNOWN", ",", "path", ")", ";", "file", ".", "generateMode", "(", "MainActivity", ".", "this", ")", ";", "if", "(", "file", ".", "isDirectory", "(", "MainActivity", ".", "this", ")", ")", "goToMain", "(", "path", ")", ";", "else", "{", "goToMain", "(", "null", ")", ";", "FileUtils", ".", "openFile", "(", "new", "File", "(", "path", ")", ",", "MainActivity", ".", "this", ",", "getPrefs", "(", ")", ")", ";", "}", "}", "else", "{", "goToMain", "(", "null", ")", ";", "}", "}", "}", "else", "{", "pasteHelper", "=", "savedInstanceState", ".", "getParcelable", "(", "PASTEHELPER_BUNDLE", ")", ";", "oppathe", "=", "savedInstanceState", ".", "getString", "(", "KEY_OPERATION_PATH", ")", ";", "oppathe1", "=", "savedInstanceState", ".", "getString", "(", "KEY_OPERATED_ON_PATH", ")", ";", "oparrayList", "=", "savedInstanceState", ".", "getParcelableArrayList", "(", "KEY_OPERATIONS_PATH_LIST", ")", ";", "operation", "=", "savedInstanceState", ".", "getInt", "(", "KEY_OPERATION", ")", ";", "}", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Void", "doInBackground", "(", ")", "{", "dataUtils", ".", "setHiddenFiles", "(", "utilsHandler", ".", "getHiddenFilesConcurrentRadixTree", "(", ")", ")", ";", "dataUtils", ".", "setHistory", "(", "utilsHandler", ".", "getHistoryLinkedList", "(", ")", ")", ";", "dataUtils", ".", "setGridfiles", "(", "utilsHandler", ".", "getGridViewList", "(", ")", ")", ";", "dataUtils", ".", "setListfiles", "(", "utilsHandler", ".", "getListViewList", "(", ")", ")", ";", "dataUtils", ".", "setBooks", "(", "utilsHandler", ".", "getBookmarksList", "(", ")", ")", ";", "ArrayList", "<", "String", "[", "]", ">", "servers", "=", "new", "ArrayList", "<", "String", "[", "]", ">", "(", ")", ";", "servers", ".", "addAll", "(", "utilsHandler", ".", "getSmbList", "(", ")", ")", ";", "servers", ".", "addAll", "(", "utilsHandler", ".", "getSftpList", "(", ")", ")", ";", "dataUtils", ".", "setServers", "(", "servers", ")", ";", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPostExecute", "(", "Void", "result", ")", "{", "drawer", ".", "refreshDrawer", "(", ")", ";", "if", "(", "savedInstanceState", "=", "=", "null", ")", "{", "if", "(", "openProcesses", ")", "{", "FragmentTransaction", "transaction", "=", "getSupportFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ";", "transaction", ".", "replace", "(", "R", ".", "id", ".", "content_frame", ",", "new", "ProcessViewerFragment", "(", ")", ",", "KEY_INTENT_PROCESS_VIEWER", ")", ";", "drawer", ".", "setSomethingSelected", "(", "true", ")", ";", "openProcesses", "=", "false", ";", "transaction", ".", "commit", "(", ")", ";", "supportInvalidateOptionsMenu", "(", ")", ";", "}", "else", "if", "(", "intent", ".", "getAction", "(", ")", "!", "=", "null", "&", "&", "intent", ".", "getAction", "(", ")", ".", "equals", "(", "TileService", ".", "ACTION_QS_TILE_PREFERENCES", ")", ")", "{", "FragmentTransaction", "transaction2", "=", "getSupportFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ";", "transaction2", ".", "replace", "(", "R", ".", "id", ".", "content_frame", ",", "new", "FtpServerFragment", "(", ")", ")", ";", "appBarLayout", ".", "animate", "(", ")", ".", "translationY", "(", "0", ")", ".", "setInterpolator", "(", "new", "DecelerateInterpolator", "(", "<NUM_LIT:2>", ")", ")", ".", "start", "(", ")", ";", "drawer", ".", "setSomethingSelected", "(", "true", ")", ";", "drawer", ".", "deselectEverything", "(", ")", ";", "transaction2", ".", "commit", "(", ")", ";", "}", "else", "{", "if", "(", "path", "!", "=", "null", "&", "&", "path", ".", "length", "(", ")", ">", "0", ")", "{", "HybridFile", "file", "=", "new", "HybridFile", "(", "OpenMode", ".", "UNKNOWN", ",", "path", ")", ";", "file", ".", "generateMode", "(", "MainActivity", ".", "this", ")", ";", "if", "(", "file", ".", "isDirectory", "(", "MainActivity", ".", "this", ")", ")", "goToMain", "(", "path", ")", ";", "else", "{", "goToMain", "(", "null", ")", ";", "FileUtils", ".", "openFile", "(", "new", "File", "(", "path", ")", ",", "MainActivity", ".", "this", ",", "getPrefs", "(", ")", ")", ";", "}", "}", "else", "{", "goToMain", "(", "null", ")", ";", "}", "}", "}", "else", "{", "pasteHelper", "=", "savedInstanceState", ".", "getParcelable", "(", "PASTEHELPER_BUNDLE", ")", ";", "oppathe", "=", "savedInstanceState", ".", "getString", "(", "KEY_OPERATION_PATH", ")", ";", "oppathe1", "=", "savedInstanceState", ".", "getString", "(", "KEY_OPERATED_ON_PATH", ")", ";", "oparrayList", "=", "savedInstanceState", ".", "getParcelableArrayList", "(", "KEY_OPERATIONS_PATH_LIST", ")", ";", "operation", "=", "savedInstanceState", ".", "getInt", "(", "KEY_OPERATION", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "checkForExternalPermission", "(", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", "&", "&", "!", "checkStoragePermission", "(", ")", ")", "{", "requestStoragePermission", "(", "(", ")", "-", ">", "{", "drawer", ".", "refreshDrawer", "(", ")", ";", "TabFragment", "tabFragment", "=", "getTabFragment", "(", ")", ";", "boolean", "b", "=", "getBoolean", "(", "PREFERENCE_NEED_TO_SET_HOME", ")", ";", "if", "(", "b", ")", "{", "tabHandler", ".", "clear", "(", ")", ";", "if", "(", "drawer", ".", "getPhoneStorageCount", "(", ")", ">", "1", ")", "{", "tabHandler", ".", "addTab", "(", "new", "Tab", "(", "1", ",", "drawer", ".", "getSecondPath", "(", ")", ",", "\"", "<STR_LIT:/>", "\"", ")", ")", ";", "}", "else", "{", "tabHandler", ".", "addTab", "(", "new", "Tab", "(", "1", ",", "\"", "<STR_LIT:/>", "\"", ",", "\"", "<STR_LIT:/>", "\"", ")", ")", ";", "}", "if", "(", "drawer", ".", "getFirstPath", "(", ")", "!", "=", "null", ")", "{", "String", "pa", "=", "drawer", ".", "getFirstPath", "(", ")", ";", "tabHandler", ".", "addTab", "(", "new", "Tab", "(", "<NUM_LIT:2>", ",", "pa", ",", "pa", ")", ")", ";", "}", "else", "{", "tabHandler", ".", "addTab", "(", "new", "Tab", "(", "<NUM_LIT:2>", ",", "drawer", ".", "getSecondPath", "(", ")", ",", "\"", "<STR_LIT:/>", "\"", ")", ")", ";", "}", "if", "(", "tabFragment", "!", "=", "null", ")", "{", "Fragment", "main", "=", "tabFragment", ".", "getFragmentAtIndex", "(", "0", ")", ";", "if", "(", "main", "!", "=", "null", ")", "(", "(", "MainFragment", ")", "main", ")", ".", "updateTabWithDb", "(", "tabHandler", ".", "findTab", "(", "1", ")", ")", ";", "Fragment", "main1", "=", "tabFragment", ".", "getFragmentAtIndex", "(", "1", ")", ";", "if", "(", "main1", "!", "=", "null", ")", "(", "(", "MainFragment", ")", "main1", ")", ".", "updateTabWithDb", "(", "tabHandler", ".", "findTab", "(", "<NUM_LIT:2>", ")", ")", ";", "}", "getPrefs", "(", ")", ".", "edit", "(", ")", ".", "putBoolean", "(", "PREFERENCE_NEED_TO_SET_HOME", ",", "false", ")", ".", "commit", "(", ")", ";", "}", "else", "{", "if", "(", "tabFragment", "!", "=", "null", ")", "{", "Fragment", "main", "=", "tabFragment", ".", "getFragmentAtIndex", "(", "0", ")", ";", "if", "(", "main", "!", "=", "null", ")", "(", "(", "MainFragment", ")", "main", ")", ".", "updateList", "(", ")", ";", "Fragment", "main1", "=", "tabFragment", ".", "getFragmentAtIndex", "(", "1", ")", ";", "if", "(", "main1", "!", "=", "null", ")", "(", "(", "MainFragment", ")", "main1", ")", ".", "updateList", "(", ")", ";", "}", "}", "}", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "checkForExternalIntent", "(", "Intent", "intent", ")", "{", "String", "actionIntent", "=", "intent", ".", "getAction", "(", ")", ";", "String", "type", "=", "intent", ".", "getType", "(", ")", ";", "if", "(", "actionIntent", "!", "=", "null", ")", "{", "if", "(", "actionIntent", ".", "equals", "(", "Intent", ".", "ACTION_GET_CONTENT", ")", ")", "{", "mReturnIntent", "=", "true", ";", "Toast", ".", "makeText", "(", "this", ",", "getString", "(", "R", ".", "string", ".", "pick_a_file", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "Utils", ".", "disableScreenRotation", "(", "this", ")", ";", "}", "else", "if", "(", "actionIntent", ".", "equals", "(", "RingtoneManager", ".", "ACTION_RINGTONE_PICKER", ")", ")", "{", "mReturnIntent", "=", "true", ";", "mRingtonePickerIntent", "=", "true", ";", "Toast", ".", "makeText", "(", "this", ",", "getString", "(", "R", ".", "string", ".", "pick_a_file", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "Utils", ".", "disableScreenRotation", "(", "this", ")", ";", "}", "else", "if", "(", "actionIntent", ".", "equals", "(", "Intent", ".", "ACTION_VIEW", ")", ")", "{", "Uri", "uri", "=", "intent", ".", "getData", "(", ")", ";", "if", "(", "type", "!", "=", "null", "&", "&", "type", ".", "equals", "(", "ARGS_INTENT_ACTION_VIEW_MIME_FOLDER", ")", ")", "{", "if", "(", "uri", "!", "=", "null", ")", "{", "path", "=", "Utils", ".", "sanitizeInput", "(", "uri", ".", "getPath", "(", ")", ")", ";", "}", "else", "{", "path", "=", "null", ";", "}", "}", "else", "{", "openzip", "=", "true", ";", "zippath", "=", "Utils", ".", "sanitizeInput", "(", "uri", ".", "toString", "(", ")", ")", ";", "}", "}", "else", "if", "(", "actionIntent", ".", "equals", "(", "Intent", ".", "ACTION_SEND", ")", "&", "&", "type", "!", "=", "null", ")", "{", "Uri", "uri", "=", "intent", ".", "getParcelableExtra", "(", "Intent", ".", "EXTRA_STREAM", ")", ";", "ArrayList", "<", "Uri", ">", "uris", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "uris", ".", "add", "(", "uri", ")", ";", "initFabToSave", "(", "uris", ")", ";", "Utils", ".", "disableScreenRotation", "(", "this", ")", ";", "}", "else", "if", "(", "actionIntent", ".", "equals", "(", "Intent", ".", "ACTION_SEND_MULTIPLE", ")", "&", "&", "type", "!", "=", "null", ")", "{", "ArrayList", "<", "Uri", ">", "arrayList", "=", "intent", ".", "getParcelableArrayListExtra", "(", "Intent", ".", "EXTRA_STREAM", ")", ";", "initFabToSave", "(", "arrayList", ")", ";", "Utils", ".", "disableScreenRotation", "(", "this", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "initFabToSave", "(", "final", "ArrayList", "<", "Uri", ">", "uris", ")", "{", "floatingActionButton", ".", "removeButton", "(", "findViewById", "(", "R", ".", "id", ".", "menu_new_folder", ")", ")", ";", "floatingActionButton", ".", "removeButton", "(", "findViewById", "(", "R", ".", "id", ".", "menu_new_file", ")", ")", ";", "floatingActionButton", ".", "removeButton", "(", "findViewById", "(", "R", ".", "id", ".", "menu_new_cloud", ")", ")", ";", "floatingActionButton", ".", "setMenuButtonIcon", "(", "R", ".", "drawable", ".", "ic_file_download_white_24dp", ")", ";", "floatingActionButton", ".", "getMenuButton", "(", ")", ".", "setOnClickListener", "(", "v", "-", ">", "{", "if", "(", "uris", "!", "=", "null", "&", "&", "uris", ".", "size", "(", ")", ">", "0", ")", "{", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "File", "folder", "=", "new", "File", "(", "getCurrentMainFragment", "(", ")", ".", "getCurrentPath", "(", ")", ")", ";", "int", "result", "=", "mainActivityHelper", ".", "checkFolder", "(", "folder", ",", "MainActivity", ".", "this", ")", ";", "if", "(", "result", "=", "=", "MainActivityHelper", ".", "WRITABLE_OR_ON_SDCARD", ")", "{", "FileUtil", ".", "writeUriToStorage", "(", "MainActivity", ".", "this", ",", "uris", ",", "getContentResolver", "(", ")", ",", "getCurrentMainFragment", "(", ")", ".", "getCurrentPath", "(", ")", ")", ";", "finish", "(", ")", ";", "}", "else", "{", "operation", "=", "DataUtils", ".", "SAVE_FILE", ";", "urisToBeSaved", "=", "uris", ";", "mainActivityHelper", ".", "checkFolder", "(", "folder", ",", "MainActivity", ".", "this", ")", ";", "}", "}", "else", "{", "FileUtil", ".", "writeUriToStorage", "(", "MainActivity", ".", "this", ",", "uris", ",", "getContentResolver", "(", ")", ",", "getCurrentMainFragment", "(", ")", ".", "getCurrentPath", "(", ")", ")", ";", "Toast", ".", "makeText", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "saving", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "finish", "(", ")", ";", "}", "}", "}", ")", ";", "floatingActionButton", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "floatingActionButton", ".", "getMenuButton", "(", ")", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "initializeInteractiveShell", "(", ")", "{", "if", "(", "isRootExplorer", "(", ")", ")", "{", "handlerThread", "=", "new", "HandlerThread", "(", "\"", "<STR_LIT>", "\"", ")", ";", "handlerThread", ".", "start", "(", ")", ";", "handler", "=", "new", "Handler", "(", "handlerThread", ".", "getLooper", "(", ")", ")", ";", "shellInteractive", "=", "(", "new", "Shell", ".", "Builder", "(", ")", ")", ".", "useSU", "(", ")", ".", "setHandler", "(", "handler", ")", ".", "open", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "synchronized", "ArrayList", "<", "String", ">", "getStorageDirectories", "(", ")", "{", "final", "ArrayList", "<", "String", ">", "rv", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "final", "String", "rawExternalStorage", "=", "System", ".", "getenv", "(", "\"", "<STR_LIT>", "\"", ")", ";", "final", "String", "rawSecondaryStoragesStr", "=", "System", ".", "getenv", "(", "\"", "<STR_LIT>", "\"", ")", ";", "final", "String", "rawEmulatedStorageTarget", "=", "System", ".", "getenv", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "TextUtils", ".", "isEmpty", "(", "rawEmulatedStorageTarget", ")", ")", "{", "if", "(", "TextUtils", ".", "isEmpty", "(", "rawExternalStorage", ")", ")", "{", "if", "(", "new", "File", "(", "DEFAULT_FALLBACK_STORAGE_PATH", ")", ".", "exists", "(", ")", ")", "{", "rv", ".", "add", "(", "DEFAULT_FALLBACK_STORAGE_PATH", ")", ";", "}", "else", "{", "rv", ".", "add", "(", "Environment", ".", "getExternalStorageDirectory", "(", ")", ".", "getAbsolutePath", "(", ")", ")", ";", "}", "}", "else", "{", "rv", ".", "add", "(", "rawExternalStorage", ")", ";", "}", "}", "else", "{", "final", "String", "rawUserId", ";", "if", "(", "SDK_INT", "<", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR1", ")", "{", "rawUserId", "=", "\"", "\"", ";", "}", "else", "{", "final", "String", "path", "=", "Environment", ".", "getExternalStorageDirectory", "(", ")", ".", "getAbsolutePath", "(", ")", ";", "final", "String", "[", "]", "folders", "=", "DIR_SEPARATOR", ".", "split", "(", "path", ")", ";", "final", "String", "lastFolder", "=", "folders", "[", "folders", ".", "length", "-", "1", "]", ";", "boolean", "isDigit", "=", "false", ";", "try", "{", "Integer", ".", "valueOf", "(", "lastFolder", ")", ";", "isDigit", "=", "true", ";", "}", "catch", "(", "NumberFormatException", "ignored", ")", "{", "}", "rawUserId", "=", "isDigit", "?", "lastFolder", ":", "\"", "\"", ";", "}", "if", "(", "TextUtils", ".", "isEmpty", "(", "rawUserId", ")", ")", "{", "rv", ".", "add", "(", "rawEmulatedStorageTarget", ")", ";", "}", "else", "{", "rv", ".", "add", "(", "rawEmulatedStorageTarget", "+", "File", ".", "separator", "+", "rawUserId", ")", ";", "}", "}", "if", "(", "!", "TextUtils", ".", "isEmpty", "(", "rawSecondaryStoragesStr", ")", ")", "{", "final", "String", "[", "]", "rawSecondaryStorages", "=", "rawSecondaryStoragesStr", ".", "split", "(", "File", ".", "pathSeparator", ")", ";", "Collections", ".", "addAll", "(", "rv", ",", "rawSecondaryStorages", ")", ";", "}", "if", "(", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "M", "&", "&", "checkStoragePermission", "(", ")", ")", "rv", ".", "clear", "(", ")", ";", "if", "(", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "String", "strings", "[", "]", "=", "FileUtil", ".", "getExtSdCardPathsForActivity", "(", "this", ")", ";", "for", "(", "String", "s", ":", "strings", ")", "{", "File", "f", "=", "new", "File", "(", "s", ")", ";", "if", "(", "!", "rv", ".", "contains", "(", "s", ")", "&", "&", "FileUtils", ".", "canListFiles", "(", "f", ")", ")", "rv", ".", "add", "(", "s", ")", ";", "}", "}", "if", "(", "isRootExplorer", "(", ")", ")", "{", "rv", ".", "add", "(", "\"", "<STR_LIT:/>", "\"", ")", ";", "}", "File", "usb", "=", "getUsbDrive", "(", ")", ";", "if", "(", "usb", "!", "=", "null", "&", "&", "!", "rv", ".", "contains", "(", "usb", ".", "getPath", "(", ")", ")", ")", "rv", ".", "add", "(", "usb", ".", "getPath", "(", ")", ")", ";", "if", "(", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "if", "(", "isUsbDeviceConnected", "(", ")", ")", "rv", ".", "add", "(", "OTGUtil", ".", "PREFIX_OTG", "+", "\"", "<STR_LIT:/>", "\"", ")", ";", "}", "return", "rv", ";", "}", "</s>"]
["<s>", "private", "boolean", "isUsbDeviceConnected", "(", ")", "{", "if", "(", "OTGUtil", ".", "isMassStorageDeviceConnected", "(", "this", ")", ")", "{", "if", "(", "!", "SingletonUsbOtg", ".", "getInstance", "(", ")", ".", "hasRootBeenRequested", "(", ")", ")", "{", "SingletonUsbOtg", ".", "getInstance", "(", ")", ".", "setHasRootBeenRequested", "(", "false", ")", ";", "SingletonUsbOtg", ".", "getInstance", "(", ")", ".", "setUsbOtgRoot", "(", "null", ")", ";", "}", "return", "true", ";", "}", "else", "{", "SingletonUsbOtg", ".", "getInstance", "(", ")", ".", "setUsbOtgRoot", "(", "null", ")", ";", "return", "false", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBackPressed", "(", ")", "{", "if", "(", "!", "drawer", ".", "isLocked", "(", ")", ")", "{", "if", "(", "drawer", ".", "isOpen", "(", ")", ")", "{", "drawer", ".", "close", "(", ")", ";", "}", "else", "{", "onbackpressed", "(", ")", ";", "}", "}", "else", "onbackpressed", "(", ")", ";", "}", "</s>"]
["<s>", "void", "onbackpressed", "(", ")", "{", "Fragment", "fragment", "=", "getFragmentAtFrame", "(", ")", ";", "if", "(", "getAppbar", "(", ")", ".", "getSearchView", "(", ")", ".", "isShown", "(", ")", ")", "{", "getAppbar", "(", ")", ".", "getSearchView", "(", ")", ".", "hideSearchView", "(", ")", ";", "}", "else", "if", "(", "fragment", "instanceof", "TabFragment", ")", "{", "if", "(", "floatingActionButton", ".", "isExpanded", "(", ")", ")", "{", "floatingActionButton", ".", "collapse", "(", ")", ";", "}", "else", "{", "getCurrentMainFragment", "(", ")", ".", "goBack", "(", ")", ";", "}", "}", "else", "if", "(", "fragment", "instanceof", "CompressedExplorerFragment", ")", "{", "CompressedExplorerFragment", "compressedExplorerFragment", "=", "(", "CompressedExplorerFragment", ")", "getFragmentAtFrame", "(", ")", ";", "if", "(", "compressedExplorerFragment", ".", "mActionMode", "=", "=", "null", ")", "{", "if", "(", "compressedExplorerFragment", ".", "canGoBack", "(", ")", ")", "{", "compressedExplorerFragment", ".", "goBack", "(", ")", ";", "}", "else", "if", "(", "openzip", ")", "{", "openzip", "=", "false", ";", "finish", "(", ")", ";", "}", "else", "{", "FragmentTransaction", "fragmentTransaction", "=", "getSupportFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ";", "fragmentTransaction", ".", "setCustomAnimations", "(", "R", ".", "anim", ".", "slide_out_bottom", ",", "R", ".", "anim", ".", "slide_out_bottom", ")", ";", "fragmentTransaction", ".", "remove", "(", "compressedExplorerFragment", ")", ";", "fragmentTransaction", ".", "commit", "(", ")", ";", "supportInvalidateOptionsMenu", "(", ")", ";", "floatingActionButton", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "floatingActionButton", ".", "getMenuButton", "(", ")", ".", "show", "(", ")", ";", "}", "}", "else", "{", "compressedExplorerFragment", ".", "mActionMode", ".", "finish", "(", ")", ";", "}", "}", "else", "if", "(", "fragment", "instanceof", "FtpServerFragment", ")", "{", "if", "(", "path", "!", "=", "null", "&", "&", "path", ".", "length", "(", ")", ">", "0", ")", "{", "HybridFile", "file", "=", "new", "HybridFile", "(", "OpenMode", ".", "UNKNOWN", ",", "path", ")", ";", "file", ".", "generateMode", "(", "this", ")", ";", "if", "(", "file", ".", "isDirectory", "(", "this", ")", ")", "goToMain", "(", "path", ")", ";", "else", "{", "goToMain", "(", "null", ")", ";", "FileUtils", ".", "openFile", "(", "new", "File", "(", "path", ")", ",", "this", ",", "getPrefs", "(", ")", ")", ";", "}", "}", "else", "{", "goToMain", "(", "null", ")", ";", "}", "}", "else", "{", "goToMain", "(", "null", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "invalidatePasteButton", "(", "MenuItem", "paste", ")", "{", "if", "(", "pasteHelper", "!", "=", "null", ")", "{", "paste", ".", "setVisible", "(", "true", ")", ";", "}", "else", "{", "paste", ".", "setVisible", "(", "false", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "exit", "(", ")", "{", "if", "(", "backPressedToExitOnce", ")", "{", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "expungeAllConnections", "(", ")", ";", "finish", "(", ")", ";", "if", "(", "isRootExplorer", "(", ")", ")", "{", "}", "}", "else", "{", "this", ".", "backPressedToExitOnce", "=", "true", ";", "showToast", "(", "getString", "(", "R", ".", "string", ".", "pressagain", ")", ")", ";", "new", "Handler", "(", ")", ".", "postDelayed", "(", "(", ")", "-", ">", "{", "backPressedToExitOnce", "=", "false", ";", "}", ",", "<NUM_LIT>", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "goToMain", "(", "String", "path", ")", "{", "android", ".", "support", ".", "v4", ".", "app", ".", "FragmentTransaction", "transaction", "=", "getSupportFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ";", "TabFragment", "tabFragment", "=", "new", "TabFragment", "(", ")", ";", "if", "(", "path", "!", "=", "null", "&", "&", "path", ".", "length", "(", ")", ">", "0", ")", "{", "Bundle", "b", "=", "new", "Bundle", "(", ")", ";", "b", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "path", ")", ";", "tabFragment", ".", "setArguments", "(", "b", ")", ";", "}", "transaction", ".", "replace", "(", "R", ".", "id", ".", "content_frame", ",", "tabFragment", ")", ";", "drawer", ".", "setSomethingSelected", "(", "true", ")", ";", "transaction", ".", "addToBackStack", "(", "\"", "<STR_LIT>", "\"", "+", "1", ")", ";", "transaction", ".", "commitAllowingStateLoss", "(", ")", ";", "appbar", ".", "setTitle", "(", "null", ")", ";", "floatingActionButton", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "floatingActionButton", ".", "getMenuButton", "(", ")", ".", "show", "(", ")", ";", "if", "(", "openzip", "&", "&", "zippath", "!", "=", "null", ")", "{", "openCompressed", "(", "zippath", ")", ";", "zippath", "=", "null", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onCreateOptionsMenu", "(", "Menu", "menu", ")", "{", "MenuInflater", "menuInflater", "=", "getMenuInflater", "(", ")", ";", "menuInflater", ".", "inflate", "(", "R", ".", "menu", ".", "activity_extra", ",", "menu", ")", ";", "return", "super", ".", "onCreateOptionsMenu", "(", "menu", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onPrepareOptionsMenu", "(", "Menu", "menu", ")", "{", "MenuItem", "s", "=", "menu", ".", "findItem", "(", "R", ".", "id", ".", "view", ")", ";", "MenuItem", "search", "=", "menu", ".", "findItem", "(", "R", ".", "id", ".", "search", ")", ";", "MenuItem", "paste", "=", "menu", ".", "findItem", "(", "R", ".", "id", ".", "paste", ")", ";", "Fragment", "fragment", "=", "getFragmentAtFrame", "(", ")", ";", "if", "(", "fragment", "instanceof", "TabFragment", ")", "{", "appbar", ".", "setTitle", "(", "R", ".", "string", ".", "appbar_name", ")", ";", "if", "(", "getBoolean", "(", "PREFERENCE_VIEW", ")", ")", "{", "s", ".", "setTitle", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "gridview", ")", ")", ";", "}", "else", "{", "s", ".", "setTitle", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "listview", ")", ")", ";", "}", "try", "{", "MainFragment", "ma", "=", "getCurrentMainFragment", "(", ")", ";", "if", "(", "ma", ".", "IS_LIST", ")", "s", ".", "setTitle", "(", "R", ".", "string", ".", "gridview", ")", ";", "else", "s", ".", "setTitle", "(", "R", ".", "string", ".", "listview", ")", ";", "appbar", ".", "getBottomBar", "(", ")", ".", "updatePath", "(", "ma", ".", "getCurrentPath", "(", ")", ",", "ma", ".", "results", ",", "MainActivityHelper", ".", "SEARCH_TEXT", ",", "ma", ".", "openMode", ",", "ma", ".", "folder_count", ",", "ma", ".", "file_count", ",", "ma", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "}", "appbar", ".", "getBottomBar", "(", ")", ".", "setClickListener", "(", ")", ";", "invalidatePasteButton", "(", "paste", ")", ";", "search", ".", "setVisible", "(", "true", ")", ";", "if", "(", "indicator_layout", "!", "=", "null", ")", "indicator_layout", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "search", ")", ".", "setVisible", "(", "true", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "home", ")", ".", "setVisible", "(", "true", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "history", ")", ".", "setVisible", "(", "true", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "sethome", ")", ".", "setVisible", "(", "true", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "sort", ")", ".", "setVisible", "(", "true", ")", ";", "if", "(", "getBoolean", "(", "PREFERENCE_SHOW_HIDDENFILES", ")", ")", "menu", ".", "findItem", "(", "R", ".", "id", ".", "hiddenitems", ")", ".", "setVisible", "(", "true", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "view", ")", ".", "setVisible", "(", "true", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "extract", ")", ".", "setVisible", "(", "false", ")", ";", "invalidatePasteButton", "(", "menu", ".", "findItem", "(", "R", ".", "id", ".", "paste", ")", ")", ";", "findViewById", "(", "R", ".", "id", ".", "buttonbarframe", ")", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "}", "else", "if", "(", "fragment", "instanceof", "AppsListFragment", "|", "|", "fragment", "instanceof", "ProcessViewerFragment", "|", "|", "fragment", "instanceof", "FtpServerFragment", ")", "{", "appBarLayout", ".", "setExpanded", "(", "true", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "sethome", ")", ".", "setVisible", "(", "false", ")", ";", "if", "(", "indicator_layout", "!", "=", "null", ")", "indicator_layout", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "findViewById", "(", "R", ".", "id", ".", "buttonbarframe", ")", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "search", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "home", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "history", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "extract", ")", ".", "setVisible", "(", "false", ")", ";", "if", "(", "fragment", "instanceof", "ProcessViewerFragment", ")", "{", "menu", ".", "findItem", "(", "R", ".", "id", ".", "sort", ")", ".", "setVisible", "(", "false", ")", ";", "}", "else", "{", "menu", ".", "findItem", "(", "R", ".", "id", ".", "dsort", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "sortby", ")", ".", "setVisible", "(", "false", ")", ";", "}", "menu", ".", "findItem", "(", "R", ".", "id", ".", "hiddenitems", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "view", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "paste", ")", ".", "setVisible", "(", "false", ")", ";", "}", "else", "if", "(", "fragment", "instanceof", "CompressedExplorerFragment", ")", "{", "appbar", ".", "setTitle", "(", "R", ".", "string", ".", "appbar_name", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "sethome", ")", ".", "setVisible", "(", "false", ")", ";", "if", "(", "indicator_layout", "!", "=", "null", ")", "indicator_layout", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "getAppbar", "(", ")", ".", "getBottomBar", "(", ")", ".", "resetClickListener", "(", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "search", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "home", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "history", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "sort", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "hiddenitems", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "view", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "paste", ")", ".", "setVisible", "(", "false", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "extract", ")", ".", "setVisible", "(", "true", ")", ";", "}", "return", "super", ".", "onPrepareOptionsMenu", "(", "menu", ")", ";", "}", "</s>"]
["<s>", "void", "showToast", "(", "String", "message", ")", "{", "if", "(", "this", ".", "toast", "=", "=", "null", ")", "{", "this", ".", "toast", "=", "Toast", ".", "makeText", "(", "this", ",", "message", ",", "Toast", ".", "LENGTH_SHORT", ")", ";", "}", "else", "if", "(", "this", ".", "toast", ".", "getView", "(", ")", "=", "=", "null", ")", "{", "this", ".", "toast", "=", "Toast", ".", "makeText", "(", "this", ",", "message", ",", "Toast", ".", "LENGTH_SHORT", ")", ";", "}", "else", "{", "this", ".", "toast", ".", "setText", "(", "message", ")", ";", "}", "this", ".", "toast", ".", "show", "(", ")", ";", "}", "</s>"]
["<s>", "void", "killToast", "(", ")", "{", "if", "(", "this", ".", "toast", "!", "=", "null", ")", "this", ".", "toast", ".", "cancel", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onOptionsItemSelected", "(", "MenuItem", "item", ")", "{", "if", "(", "drawer", ".", "onOptionsItemSelected", "(", "item", ")", ")", "return", "true", ";", "MainFragment", "ma", "=", "getCurrentMainFragment", "(", ")", ";", "switch", "(", "item", ".", "getItemId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "home", ":", "if", "(", "ma", "!", "=", "null", ")", "ma", ".", "home", "(", ")", ";", "break", ";", "case", "R", ".", "id", ".", "history", ":", "if", "(", "ma", "!", "=", "null", ")", "GeneralDialogCreation", ".", "showHistoryDialog", "(", "dataUtils", ",", "getPrefs", "(", ")", ",", "ma", ",", "getAppTheme", "(", ")", ")", ";", "break", ";", "case", "R", ".", "id", ".", "sethome", ":", "if", "(", "ma", "=", "=", "null", ")", "return", "super", ".", "onOptionsItemSelected", "(", "item", ")", ";", "final", "MainFragment", "main", "=", "ma", ";", "if", "(", "main", ".", "openMode", "!", "=", "OpenMode", ".", "FILE", "&", "&", "main", ".", "openMode", "!", "=", "OpenMode", ".", "ROOT", ")", "{", "Toast", ".", "makeText", "(", "mainActivity", ",", "R", ".", "string", ".", "not_allowed", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "break", ";", "}", "final", "MaterialDialog", "dialog", "=", "GeneralDialogCreation", ".", "showBasicDialog", "(", "mainActivity", ",", "R", ".", "string", ".", "questionset", ",", "R", ".", "string", ".", "setashome", ",", "R", ".", "string", ".", "yes", ",", "R", ".", "string", ".", "no", ")", ";", "dialog", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setOnClickListener", "(", "(", "v", ")", "-", ">", "{", "main", ".", "home", "=", "main", ".", "getCurrentPath", "(", ")", ";", "updatePaths", "(", "main", ".", "no", ")", ";", "dialog", ".", "dismiss", "(", ")", ";", "}", ")", ";", "dialog", ".", "show", "(", ")", ";", "break", ";", "case", "R", ".", "id", ".", "exit", ":", "finish", "(", ")", ";", "break", ";", "case", "R", ".", "id", ".", "sort", ":", "Fragment", "fragment", "=", "getFragmentAtFrame", "(", ")", ";", "if", "(", "fragment", "instanceof", "AppsListFragment", ")", "{", "GeneralDialogCreation", ".", "showSortDialog", "(", "(", "AppsListFragment", ")", "fragment", ",", "getAppTheme", "(", ")", ")", ";", "}", "break", ";", "case", "R", ".", "id", ".", "sortby", ":", "if", "(", "ma", "!", "=", "null", ")", "GeneralDialogCreation", ".", "showSortDialog", "(", "ma", ",", "getAppTheme", "(", ")", ",", "getPrefs", "(", ")", ")", ";", "break", ";", "case", "R", ".", "id", ".", "dsort", ":", "if", "(", "ma", "=", "=", "null", ")", "return", "super", ".", "onOptionsItemSelected", "(", "item", ")", ";", "String", "[", "]", "sort", "=", "getResources", "(", ")", ".", "getStringArray", "(", "R", ".", "array", ".", "directorysortmode", ")", ";", "MaterialDialog", ".", "Builder", "builder", "=", "new", "MaterialDialog", ".", "Builder", "(", "mainActivity", ")", ";", "builder", ".", "theme", "(", "getAppTheme", "(", ")", ".", "getMaterialDialogTheme", "(", ")", ")", ";", "builder", ".", "title", "(", "R", ".", "string", ".", "directorysort", ")", ";", "int", "current", "=", "Integer", ".", "parseInt", "(", "getPrefs", "(", ")", ".", "getString", "(", "PreferencesConstants", ".", "PREFERENCE_DIRECTORY_SORT_MODE", ",", "\"", "<STR_LIT:0>", "\"", ")", ")", ";", "final", "MainFragment", "mainFrag", "=", "ma", ";", "builder", ".", "items", "(", "sort", ")", ".", "itemsCallbackSingleChoice", "(", "current", ",", "(", "dialog1", ",", "view", ",", "which", ",", "text", ")", "-", ">", "{", "getPrefs", "(", ")", ".", "edit", "(", ")", ".", "putString", "(", "PreferencesConstants", ".", "PREFERENCE_DIRECTORY_SORT_MODE", ",", "\"", "\"", "+", "which", ")", ".", "commit", "(", ")", ";", "mainFrag", ".", "getSortModes", "(", ")", ";", "mainFrag", ".", "updateList", "(", ")", ";", "dialog1", ".", "dismiss", "(", ")", ";", "return", "true", ";", "}", ")", ";", "builder", ".", "build", "(", ")", ".", "show", "(", ")", ";", "break", ";", "case", "R", ".", "id", ".", "hiddenitems", ":", "GeneralDialogCreation", ".", "showHiddenDialog", "(", "dataUtils", ",", "getPrefs", "(", ")", ",", "ma", ",", "getAppTheme", "(", ")", ")", ";", "break", ";", "case", "R", ".", "id", ".", "view", ":", "final", "MainFragment", "mainFragment", "=", "ma", ";", "int", "pathLayout", "=", "dataUtils", ".", "getListOrGridForPath", "(", "ma", ".", "getCurrentPath", "(", ")", ",", "DataUtils", ".", "LIST", ")", ";", "if", "(", "ma", ".", "IS_LIST", ")", "{", "if", "(", "pathLayout", "=", "=", "DataUtils", ".", "LIST", ")", "{", "AppConfig", ".", "runInBackground", "(", "(", ")", "-", ">", "{", "utilsHandler", ".", "removeFromDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "LIST", ",", "mainFragment", ".", "getCurrentPath", "(", ")", ")", ")", ";", "}", ")", ";", "}", "utilsHandler", ".", "saveToDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "GRID", ",", "mainFragment", ".", "getCurrentPath", "(", ")", ")", ")", ";", "dataUtils", ".", "setPathAsGridOrList", "(", "ma", ".", "getCurrentPath", "(", ")", ",", "DataUtils", ".", "GRID", ")", ";", "}", "else", "{", "if", "(", "pathLayout", "=", "=", "DataUtils", ".", "GRID", ")", "{", "AppConfig", ".", "runInBackground", "(", "(", ")", "-", ">", "{", "utilsHandler", ".", "removeFromDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "GRID", ",", "mainFragment", ".", "getCurrentPath", "(", ")", ")", ")", ";", "}", ")", ";", "}", "utilsHandler", ".", "saveToDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "LIST", ",", "mainFragment", ".", "getCurrentPath", "(", ")", ")", ")", ";", "dataUtils", ".", "setPathAsGridOrList", "(", "ma", ".", "getCurrentPath", "(", ")", ",", "DataUtils", ".", "LIST", ")", ";", "}", "ma", ".", "switchView", "(", ")", ";", "break", ";", "case", "R", ".", "id", ".", "paste", ":", "String", "path", "=", "ma", ".", "getCurrentPath", "(", ")", ";", "ArrayList", "<", "HybridFileParcelable", ">", "arrayList", "=", "new", "ArrayList", "<", ">", "(", "Arrays", ".", "asList", "(", "pasteHelper", ".", "paths", ")", ")", ";", "boolean", "move", "=", "pasteHelper", ".", "operation", "=", "=", "PasteHelper", ".", "OPERATION_CUT", ";", "new", "PrepareCopyTask", "(", "ma", ",", "path", ",", "move", ",", "mainActivity", ",", "isRootExplorer", "(", ")", ")", ".", "executeOnExecutor", "(", "AsyncTask", ".", "THREAD_POOL_EXECUTOR", ",", "arrayList", ")", ";", "pasteHelper", "=", "null", ";", "invalidatePasteButton", "(", "item", ")", ";", "break", ";", "case", "R", ".", "id", ".", "extract", ":", "Fragment", "fragment1", "=", "getFragmentAtFrame", "(", ")", ";", "if", "(", "fragment1", "instanceof", "CompressedExplorerFragment", ")", "{", "mainActivityHelper", ".", "extractFile", "(", "(", "(", "CompressedExplorerFragment", ")", "fragment1", ")", ".", "compressedFile", ")", ";", "}", "break", ";", "case", "R", ".", "id", ".", "search", ":", "getAppbar", "(", ")", ".", "getSearchView", "(", ")", ".", "revealSearchView", "(", ")", ";", "break", ";", "}", "return", "super", ".", "onOptionsItemSelected", "(", "item", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPostCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onPostCreate", "(", "savedInstanceState", ")", ";", "drawer", ".", "syncState", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onConfigurationChanged", "(", "Configuration", "newConfig", ")", "{", "super", ".", "onConfigurationChanged", "(", "newConfig", ")", ";", "drawer", ".", "onConfigurationChanged", "(", "newConfig", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onSaveInstanceState", "(", "Bundle", "outState", ")", "{", "super", ".", "onSaveInstanceState", "(", "outState", ")", ";", "outState", ".", "putBoolean", "(", "KEY_DRAWER_SELECTED", ",", "drawer", ".", "isSomethingSelected", "(", ")", ")", ";", "if", "(", "pasteHelper", "!", "=", "null", ")", "{", "outState", ".", "putParcelable", "(", "PASTEHELPER_BUNDLE", ",", "pasteHelper", ")", ";", "}", "if", "(", "oppathe", "!", "=", "null", ")", "{", "outState", ".", "putString", "(", "KEY_OPERATION_PATH", ",", "oppathe", ")", ";", "outState", ".", "putString", "(", "KEY_OPERATED_ON_PATH", ",", "oppathe1", ")", ";", "outState", ".", "putParcelableArrayList", "(", "KEY_OPERATIONS_PATH_LIST", ",", "(", "oparrayList", ")", ")", ";", "outState", ".", "putInt", "(", "KEY_OPERATION", ",", "operation", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onPause", "(", ")", "{", "super", ".", "onPause", "(", ")", ";", "unregisterReceiver", "(", "mainActivityHelper", ".", "mNotificationReceiver", ")", ";", "unregisterReceiver", "(", "receiver2", ")", ";", "if", "(", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "unregisterReceiver", "(", "mOtgReceiver", ")", ";", "}", "killToast", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onResume", "(", ")", "{", "super", ".", "onResume", "(", ")", ";", "if", "(", "materialDialog", "!", "=", "null", "&", "&", "!", "materialDialog", ".", "isShowing", "(", ")", ")", "{", "materialDialog", ".", "show", "(", ")", ";", "materialDialog", "=", "null", ";", "}", "drawer", ".", "refreshDrawer", "(", ")", ";", "drawer", ".", "deselectEverything", "(", ")", ";", "IntentFilter", "newFilter", "=", "new", "IntentFilter", "(", ")", ";", "newFilter", ".", "addAction", "(", "Intent", ".", "ACTION_MEDIA_MOUNTED", ")", ";", "newFilter", ".", "addAction", "(", "Intent", ".", "ACTION_MEDIA_UNMOUNTED", ")", ";", "newFilter", ".", "addDataScheme", "(", "ContentResolver", ".", "SCHEME_FILE", ")", ";", "registerReceiver", "(", "mainActivityHelper", ".", "mNotificationReceiver", ",", "newFilter", ")", ";", "registerReceiver", "(", "receiver2", ",", "new", "IntentFilter", "(", "TAG_INTENT_FILTER_GENERAL", ")", ")", ";", "if", "(", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "IntentFilter", "otgFilter", "=", "new", "IntentFilter", "(", ")", ";", "otgFilter", ".", "addAction", "(", "UsbManager", ".", "ACTION_USB_DEVICE_ATTACHED", ")", ";", "otgFilter", ".", "addAction", "(", "UsbManager", ".", "ACTION_USB_DEVICE_DETACHED", ")", ";", "registerReceiver", "(", "mOtgReceiver", ",", "otgFilter", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "intent", ")", "{", "if", "(", "intent", ".", "getAction", "(", ")", ".", "equals", "(", "UsbManager", ".", "ACTION_USB_DEVICE_ATTACHED", ")", ")", "{", "SingletonUsbOtg", ".", "getInstance", "(", ")", ".", "setUsbOtgRoot", "(", "null", ")", ";", "drawer", ".", "refreshDrawer", "(", ")", ";", "}", "else", "if", "(", "intent", ".", "getAction", "(", ")", ".", "equals", "(", "UsbManager", ".", "ACTION_USB_DEVICE_DETACHED", ")", ")", "{", "SingletonUsbOtg", ".", "getInstance", "(", ")", ".", "setUsbOtgRoot", "(", "null", ")", ";", "drawer", ".", "refreshDrawer", "(", ")", ";", "goToMain", "(", "null", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onKeyDown", "(", "int", "keyCode", ",", "KeyEvent", "event", ")", "{", "if", "(", "keyCode", "=", "=", "KeyEvent", ".", "KEYCODE_MENU", ")", "{", "return", "true", ";", "}", "return", "super", ".", "onKeyDown", "(", "keyCode", ",", "event", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDestroy", "(", ")", "{", "super", ".", "onDestroy", "(", ")", ";", "closeInteractiveShell", "(", ")", ";", "tabHandler", ".", "close", "(", ")", ";", "utilsHandler", ".", "close", "(", ")", ";", "cloudHandler", ".", "close", "(", ")", ";", "CryptHandler", "cryptHandler", "=", "new", "CryptHandler", "(", "this", ")", ";", "cryptHandler", ".", "close", "(", ")", ";", "SshConnectionPool", ".", "getInstance", "(", ")", ".", "expungeAllConnections", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "closeInteractiveShell", "(", ")", "{", "if", "(", "isRootExplorer", "(", ")", ")", "{", "if", "(", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN_MR2", ")", "{", "handlerThread", ".", "quitSafely", "(", ")", ";", "}", "else", "handlerThread", ".", "quit", "(", ")", ";", "shellInteractive", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "updatePaths", "(", "int", "pos", ")", "{", "TabFragment", "tabFragment", "=", "getTabFragment", "(", ")", ";", "if", "(", "tabFragment", "!", "=", "null", ")", "tabFragment", ".", "updatepaths", "(", "pos", ")", ";", "}", "</s>"]
["<s>", "public", "void", "openCompressed", "(", "String", "path", ")", "{", "appBarLayout", ".", "animate", "(", ")", ".", "translationY", "(", "0", ")", ".", "setInterpolator", "(", "new", "DecelerateInterpolator", "(", "<NUM_LIT:2>", ")", ")", ".", "start", "(", ")", ";", "FragmentTransaction", "fragmentTransaction", "=", "getSupportFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ";", "fragmentTransaction", ".", "setCustomAnimations", "(", "R", ".", "anim", ".", "slide_in_top", ",", "R", ".", "anim", ".", "slide_in_bottom", ")", ";", "Fragment", "zipFragment", "=", "new", "CompressedExplorerFragment", "(", ")", ";", "Bundle", "bundle", "=", "new", "Bundle", "(", ")", ";", "bundle", ".", "putString", "(", "CompressedExplorerFragment", ".", "KEY_PATH", ",", "path", ")", ";", "zipFragment", ".", "setArguments", "(", "bundle", ")", ";", "fragmentTransaction", ".", "add", "(", "R", ".", "id", ".", "content_frame", ",", "zipFragment", ")", ";", "fragmentTransaction", ".", "commitAllowingStateLoss", "(", ")", ";", "}", "</s>"]
["<s>", "public", "MainFragment", "getCurrentMainFragment", "(", ")", "{", "TabFragment", "tab", "=", "getTabFragment", "(", ")", ";", "if", "(", "tab", "!", "=", "null", "&", "&", "tab", ".", "getCurrentTabFragment", "(", ")", "instanceof", "MainFragment", ")", "{", "return", "(", "MainFragment", ")", "tab", ".", "getCurrentTabFragment", "(", ")", ";", "}", "else", "return", "null", ";", "}", "</s>"]
["<s>", "public", "TabFragment", "getTabFragment", "(", ")", "{", "Fragment", "fragment", "=", "getFragmentAtFrame", "(", ")", ";", "if", "(", "!", "(", "fragment", "instanceof", "TabFragment", ")", ")", "return", "null", ";", "else", "return", "(", "TabFragment", ")", "fragment", ";", "}", "</s>"]
["<s>", "public", "Fragment", "getFragmentAtFrame", "(", ")", "{", "return", "getSupportFragmentManager", "(", ")", ".", "findFragmentById", "(", "R", ".", "id", ".", "content_frame", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setPagingEnabled", "(", "boolean", "b", ")", "{", "getTabFragment", "(", ")", ".", "mViewPager", ".", "setPagingEnabled", "(", "b", ")", ";", "}", "</s>"]
["<s>", "public", "File", "getUsbDrive", "(", ")", "{", "File", "parent", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "try", "{", "for", "(", "File", "f", ":", "parent", ".", "listFiles", "(", ")", ")", "if", "(", "f", ".", "exists", "(", ")", "&", "&", "f", ".", "getName", "(", ")", ".", "toLowerCase", "(", ")", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "f", ".", "canExecute", "(", ")", ")", "return", "f", ";", "}", "catch", "(", "Exception", "e", ")", "{", "}", "parent", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "parent", ".", "exists", "(", ")", "&", "&", "parent", ".", "canExecute", "(", ")", ")", "return", "parent", ";", "parent", "=", "new", "File", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "parent", ".", "exists", "(", ")", "&", "&", "parent", ".", "canExecute", "(", ")", ")", "return", "parent", ";", "return", "null", ";", "}", "</s>"]
["<s>", "public", "FABsMenu", "getFAB", "(", ")", "{", "return", "floatingActionButton", ";", "}", "</s>"]
["<s>", "public", "AppBar", "getAppbar", "(", ")", "{", "return", "appbar", ";", "}", "</s>"]
["<s>", "public", "Drawer", "getDrawer", "(", ")", "{", "return", "drawer", ";", "}", "</s>"]
["<s>", "protected", "void", "onActivityResult", "(", "int", "requestCode", ",", "int", "responseCode", ",", "Intent", "intent", ")", "{", "if", "(", "requestCode", "=", "=", "Drawer", ".", "image_selector_request_code", ")", "{", "drawer", ".", "onActivityResult", "(", "requestCode", ",", "responseCode", ",", "intent", ")", ";", "}", "else", "if", "(", "requestCode", "=", "=", "<NUM_LIT:3>", ")", "{", "Uri", "treeUri", ";", "if", "(", "responseCode", "=", "=", "Activity", ".", "RESULT_OK", ")", "{", "treeUri", "=", "intent", ".", "getData", "(", ")", ";", "if", "(", "treeUri", "!", "=", "null", ")", "getPrefs", "(", ")", ".", "edit", "(", ")", ".", "putString", "(", "PreferencesConstants", ".", "PREFERENCE_URI", ",", "treeUri", ".", "toString", "(", ")", ")", ".", "commit", "(", ")", ";", "}", "else", "{", "return", ";", "}", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "getContentResolver", "(", ")", ".", "takePersistableUriPermission", "(", "treeUri", ",", "Intent", ".", "FLAG_GRANT_READ_URI_PERMISSION", "|", "Intent", ".", "FLAG_GRANT_WRITE_URI_PERMISSION", ")", ";", "}", "switch", "(", "operation", ")", "{", "case", "DataUtils", ".", "DELETE", ":", "new", "DeleteTask", "(", "null", ",", "mainActivity", ")", ".", "execute", "(", "(", "oparrayList", ")", ")", ";", "break", ";", "case", "DataUtils", ".", "COPY", ":", "if", "(", "oparrayList", "!", "=", "null", "&", "&", "oparrayList", ".", "size", "(", ")", "!", "=", "0", ")", "{", "oparrayListList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "oparrayListList", ".", "add", "(", "oparrayList", ")", ";", "oparrayList", "=", "null", ";", "oppatheList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "oppatheList", ".", "add", "(", "oppathe", ")", ";", "oppathe", "=", "\"", "\"", ";", "}", "for", "(", "int", "i", "=", "0", ";", "i", "<", "oparrayListList", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "ArrayList", "<", "HybridFileParcelable", ">", "sourceList", "=", "oparrayListList", ".", "get", "(", "i", ")", ";", "Intent", "intent1", "=", "new", "Intent", "(", "this", ",", "CopyService", ".", "class", ")", ";", "intent1", ".", "putExtra", "(", "CopyService", ".", "TAG_COPY_SOURCES", ",", "sourceList", ")", ";", "intent1", ".", "putExtra", "(", "CopyService", ".", "TAG_COPY_TARGET", ",", "oppatheList", ".", "get", "(", "i", ")", ")", ";", "ServiceWatcherUtil", ".", "runService", "(", "this", ",", "intent1", ")", ";", "}", "break", ";", "case", "DataUtils", ".", "MOVE", ":", "if", "(", "oparrayList", "!", "=", "null", "&", "&", "oparrayList", ".", "size", "(", ")", "!", "=", "0", ")", "{", "oparrayListList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "oparrayListList", ".", "add", "(", "oparrayList", ")", ";", "oparrayList", "=", "null", ";", "oppatheList", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "oppatheList", ".", "add", "(", "oppathe", ")", ";", "oppathe", "=", "\"", "\"", ";", "}", "new", "MoveFiles", "(", "oparrayListList", ",", "getCurrentMainFragment", "(", ")", ",", "getCurrentMainFragment", "(", ")", ".", "getActivity", "(", ")", ",", "OpenMode", ".", "FILE", ")", ".", "executeOnExecutor", "(", "AsyncTask", ".", "THREAD_POOL_EXECUTOR", ",", "oppatheList", ")", ";", "break", ";", "case", "DataUtils", ".", "NEW_FOLDER", ":", "mainActivityHelper", ".", "mkDir", "(", "RootHelper", ".", "generateBaseFile", "(", "new", "File", "(", "oppathe", ")", ",", "true", ")", ",", "getCurrentMainFragment", "(", ")", ")", ";", "break", ";", "case", "DataUtils", ".", "RENAME", ":", "MainFragment", "ma", "=", "getCurrentMainFragment", "(", ")", ";", "mainActivityHelper", ".", "rename", "(", "ma", ".", "openMode", ",", "(", "oppathe", ")", ",", "(", "oppathe1", ")", ",", "mainActivity", ",", "isRootExplorer", "(", ")", ")", ";", "ma", ".", "updateList", "(", ")", ";", "break", ";", "case", "DataUtils", ".", "NEW_FILE", ":", "mainActivityHelper", ".", "mkFile", "(", "new", "HybridFile", "(", "OpenMode", ".", "FILE", ",", "oppathe", ")", ",", "getCurrentMainFragment", "(", ")", ")", ";", "break", ";", "case", "DataUtils", ".", "EXTRACT", ":", "mainActivityHelper", ".", "extractFile", "(", "new", "File", "(", "oppathe", ")", ")", ";", "break", ";", "case", "DataUtils", ".", "COMPRESS", ":", "mainActivityHelper", ".", "compressFiles", "(", "new", "File", "(", "oppathe", ")", ",", "oparrayList", ")", ";", "break", ";", "case", "DataUtils", ".", "SAVE_FILE", ":", "FileUtil", ".", "writeUriToStorage", "(", "this", ",", "urisToBeSaved", ",", "getContentResolver", "(", ")", ",", "getCurrentMainFragment", "(", ")", ".", "getCurrentPath", "(", ")", ")", ";", "urisToBeSaved", "=", "null", ";", "finish", "(", ")", ";", "break", ";", "}", "operation", "=", "-", "1", ";", "}", "else", "if", "(", "requestCode", "=", "=", "REQUEST_CODE_SAF", ")", "{", "if", "(", "responseCode", "=", "=", "Activity", ".", "RESULT_OK", "&", "&", "intent", ".", "getData", "(", ")", "!", "=", "null", ")", "{", "Uri", "usbOtgRoot", "=", "Uri", ".", "parse", "(", "intent", ".", "getData", "(", ")", ".", "toString", "(", ")", ")", ";", "SingletonUsbOtg", ".", "getInstance", "(", ")", ".", "setUsbOtgRoot", "(", "usbOtgRoot", ")", ";", "getCurrentMainFragment", "(", ")", ".", "loadlist", "(", "OTGUtil", ".", "PREFIX_OTG", ",", "false", ",", "OpenMode", ".", "OTG", ")", ";", "drawer", ".", "closeIfNotLocked", "(", ")", ";", "if", "(", "drawer", ".", "isLocked", "(", ")", ")", "drawer", ".", "onDrawerClosed", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "this", ",", "R", ".", "string", ".", "error", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "drawer", ".", "resetPendingPath", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "void", "initialisePreferences", "(", ")", "{", "currentTab", "=", "getPrefs", "(", ")", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_CURRENT_TAB", ",", "PreferenceUtils", ".", "DEFAULT_CURRENT_TAB", ")", ";", "@", "ColorInt", "int", "currentPrimary", "=", "ColorPreferenceHelper", ".", "getPrimary", "(", "getCurrentColorPreference", "(", ")", ",", "MainActivity", ".", "currentTab", ")", ";", "skinStatusBar", "=", "PreferenceUtils", ".", "getStatusColor", "(", "currentPrimary", ")", ";", "}", "</s>"]
["<s>", "void", "initialiseViews", "(", ")", "{", "appBarLayout", "=", "getAppbar", "(", ")", ".", "getAppbarLayout", "(", ")", ";", "setSupportActionBar", "(", "getAppbar", "(", ")", ".", "getToolbar", "(", ")", ")", ";", "drawer", "=", "new", "Drawer", "(", "this", ")", ";", "indicator_layout", "=", "findViewById", "(", "R", ".", "id", ".", "indicator_layout", ")", ";", "getSupportActionBar", "(", ")", ".", "setDisplayShowTitleEnabled", "(", "false", ")", ";", "fabBgView", "=", "findViewById", "(", "R", ".", "id", ".", "fab_bg", ")", ";", "switch", "(", "getAppTheme", "(", ")", ".", "getSimpleTheme", "(", ")", ")", "{", "case", "DARK", ":", "fabBgView", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "fab_shadow_dark", ")", ";", "break", ";", "case", "BLACK", ":", "fabBgView", ".", "setBackgroundResource", "(", "R", ".", "drawable", ".", "fab_shadow_black", ")", ";", "break", ";", "}", "fabBgView", ".", "setOnClickListener", "(", "view", "-", ">", "{", "if", "(", "getAppbar", "(", ")", ".", "getSearchView", "(", ")", ".", "isEnabled", "(", ")", ")", "getAppbar", "(", ")", ".", "getSearchView", "(", ")", ".", "hideSearchView", "(", ")", ";", "}", ")", ";", "drawer", ".", "setDrawerHeaderBackground", "(", ")", ";", "if", "(", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT_WATCH", "|", "|", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "SystemBarTintManager", "tintManager", "=", "new", "SystemBarTintManager", "(", "this", ")", ";", "tintManager", ".", "setStatusBarTintEnabled", "(", "true", ")", ";", "FrameLayout", ".", "MarginLayoutParams", "p", "=", "(", "ViewGroup", ".", "MarginLayoutParams", ")", "findViewById", "(", "R", ".", "id", ".", "drawer_layout", ")", ".", "getLayoutParams", "(", ")", ";", "SystemBarTintManager", ".", "SystemBarConfig", "config", "=", "tintManager", ".", "getConfig", "(", ")", ";", "if", "(", "!", "drawer", ".", "isLocked", "(", ")", ")", "p", ".", "setMargins", "(", "0", ",", "config", ".", "getStatusBarHeight", "(", ")", ",", "0", ",", "0", ")", ";", "}", "else", "if", "(", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "Window", "window", "=", "getWindow", "(", ")", ";", "window", ".", "addFlags", "(", "WindowManager", ".", "LayoutParams", ".", "FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS", ")", ";", "if", "(", "drawer", ".", "isLocked", "(", ")", ")", "{", "window", ".", "setStatusBarColor", "(", "(", "skinStatusBar", ")", ")", ";", "}", "else", "window", ".", "addFlags", "(", "WindowManager", ".", "LayoutParams", ".", "FLAG_TRANSLUCENT_STATUS", ")", ";", "if", "(", "getBoolean", "(", "PREFERENCE_COLORED_NAVIGATION", ")", ")", "window", ".", "setNavigationBarColor", "(", "skinStatusBar", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "updateViews", "(", "ColorDrawable", "colorDrawable", ")", "{", "appbar", ".", "getBottomBar", "(", ")", ".", "setBackgroundColor", "(", "colorDrawable", ".", "getColor", "(", ")", ")", ";", "mainActivity", ".", "getSupportActionBar", "(", ")", ".", "setBackgroundDrawable", "(", "colorDrawable", ")", ";", "drawer", ".", "setBackgroundColor", "(", "colorDrawable", ".", "getColor", "(", ")", ")", ";", "if", "(", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "mainActivity", ".", "getWindow", "(", ")", ".", "setStatusBarColor", "(", "colorDrawable", ".", "getColor", "(", ")", ")", ";", "if", "(", "getBoolean", "(", "PREFERENCE_COLORED_NAVIGATION", ")", ")", "mainActivity", ".", "getWindow", "(", ")", ".", "setNavigationBarColor", "(", "PreferenceUtils", ".", "getStatusColor", "(", "colorDrawable", ".", "getColor", "(", ")", ")", ")", ";", "}", "else", "if", "(", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT_WATCH", "|", "|", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "SystemBarTintManager", "tintManager", "=", "new", "SystemBarTintManager", "(", "this", ")", ";", "tintManager", ".", "setStatusBarTintEnabled", "(", "true", ")", ";", "tintManager", ".", "setStatusBarTintColor", "(", "colorDrawable", ".", "getColor", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "void", "initialiseFab", "(", ")", "{", "int", "colorAccent", "=", "getAccent", "(", ")", ";", "floatingActionButton", "=", "findViewById", "(", "R", ".", "id", ".", "fabs_menu", ")", ";", "floatingActionButton", ".", "getMenuButton", "(", ")", ".", "setBackgroundColor", "(", "colorAccent", ")", ";", "floatingActionButton", ".", "getMenuButton", "(", ")", ".", "setRippleColor", "(", "Utils", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "white_translucent", ")", ")", ";", "floatingActionButton", ".", "setAnimationDuration", "(", "<NUM_LIT>", ")", ";", "floatingActionButton", ".", "setMenuListener", "(", "new", "FABsMenuListener", "(", ")", "{", "@", "Override", "public", "void", "onMenuExpanded", "(", "FABsMenu", "fabsMenu", ")", "{", "showSmokeScreen", "(", ")", ";", "}", "@", "Override", "public", "void", "onMenuCollapsed", "(", "FABsMenu", "fabsMenu", ")", "{", "hideSmokeScreen", "(", ")", ";", "}", "}", ")", ";", "floatingActionButton", ".", "setMenuListener", "(", "new", "FABsMenuListener", "(", ")", "{", "@", "Override", "public", "void", "onMenuExpanded", "(", "FABsMenu", "fabsMenu", ")", "{", "FileUtils", ".", "revealShow", "(", "fabBgView", ",", "true", ")", ";", "}", "@", "Override", "public", "void", "onMenuCollapsed", "(", "FABsMenu", "fabsMenu", ")", "{", "FileUtils", ".", "revealShow", "(", "fabBgView", ",", "false", ")", ";", "}", "}", ")", ";", "initFabTitle", "(", "findViewById", "(", "R", ".", "id", ".", "menu_new_folder", ")", ",", "MainActivityHelper", ".", "NEW_FOLDER", ")", ";", "initFabTitle", "(", "findViewById", "(", "R", ".", "id", ".", "menu_new_file", ")", ",", "MainActivityHelper", ".", "NEW_FILE", ")", ";", "initFabTitle", "(", "findViewById", "(", "R", ".", "id", ".", "menu_new_cloud", ")", ",", "MainActivityHelper", ".", "NEW_CLOUD", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onMenuExpanded", "(", "FABsMenu", "fabsMenu", ")", "{", "showSmokeScreen", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onMenuCollapsed", "(", "FABsMenu", "fabsMenu", ")", "{", "hideSmokeScreen", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onMenuExpanded", "(", "FABsMenu", "fabsMenu", ")", "{", "FileUtils", ".", "revealShow", "(", "fabBgView", ",", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onMenuCollapsed", "(", "FABsMenu", "fabsMenu", ")", "{", "FileUtils", ".", "revealShow", "(", "fabBgView", ",", "false", ")", ";", "}", "</s>"]
["<s>", "private", "void", "initFabTitle", "(", "TitleFAB", "fabTitle", ",", "int", "type", ")", "{", "int", "iconSkin", "=", "getCurrentColorPreference", "(", ")", ".", "iconSkin", ";", "fabTitle", ".", "setBackgroundColor", "(", "iconSkin", ")", ";", "fabTitle", ".", "setRippleColor", "(", "Utils", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "white_translucent", ")", ")", ";", "fabTitle", ".", "setOnClickListener", "(", "view", "-", ">", "{", "mainActivityHelper", ".", "add", "(", "type", ")", ";", "floatingActionButton", ".", "collapse", "(", ")", ";", "}", ")", ";", "switch", "(", "getAppTheme", "(", ")", ".", "getSimpleTheme", "(", ")", ")", "{", "case", "DARK", ":", "fabTitle", ".", "setTitleBackgroundColor", "(", "Utils", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "holo_dark_background", ")", ")", ";", "fabTitle", ".", "setTitleTextColor", "(", "Utils", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "text_dark", ")", ")", ";", "break", ";", "case", "BLACK", ":", "fabTitle", ".", "setTitleBackgroundColor", "(", "Color", ".", "BLACK", ")", ";", "fabTitle", ".", "setTitleTextColor", "(", "Utils", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "text_dark", ")", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "public", "boolean", "copyToClipboard", "(", "Context", "context", ",", "String", "text", ")", "{", "try", "{", "android", ".", "content", ".", "ClipboardManager", "clipboard", "=", "(", "android", ".", "content", ".", "ClipboardManager", ")", "context", ".", "getSystemService", "(", "CLIPBOARD_SERVICE", ")", ";", "android", ".", "content", ".", "ClipData", "clip", "=", "android", ".", "content", ".", "ClipData", ".", "newPlainText", "(", "\"", "<STR_LIT>", "\"", ",", "text", ")", ";", "clipboard", ".", "setPrimaryClip", "(", "clip", ")", ";", "return", "true", ";", "}", "catch", "(", "Exception", "e", ")", "{", "return", "false", ";", "}", "}", "</s>"]
["<s>", "public", "void", "renameBookmark", "(", "final", "String", "title", ",", "final", "String", "path", ")", "{", "if", "(", "dataUtils", ".", "containsBooks", "(", "new", "String", "[", "]", "{", "title", ",", "path", "}", ")", "!", "=", "-", "1", ")", "{", "RenameBookmark", "renameBookmark", "=", "RenameBookmark", ".", "getInstance", "(", "title", ",", "path", ",", "getAccent", "(", ")", ")", ";", "if", "(", "renameBookmark", "!", "=", "null", ")", "renameBookmark", ".", "show", "(", "getFragmentManager", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "public", "PasteHelper", "getPaste", "(", ")", "{", "return", "pasteHelper", ";", "}", "</s>"]
["<s>", "public", "void", "setPaste", "(", "PasteHelper", "p", ")", "{", "pasteHelper", "=", "p", ";", "supportInvalidateOptionsMenu", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onNewIntent", "(", "Intent", "i", ")", "{", "intent", "=", "i", ";", "path", "=", "i", ".", "getStringExtra", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "path", "!", "=", "null", ")", "{", "if", "(", "new", "File", "(", "path", ")", ".", "isDirectory", "(", ")", ")", "{", "MainFragment", "ma", "=", "getCurrentMainFragment", "(", ")", ";", "if", "(", "ma", "!", "=", "null", ")", "{", "ma", ".", "loadlist", "(", "path", ",", "false", ",", "OpenMode", ".", "FILE", ")", ";", "}", "else", "goToMain", "(", "path", ")", ";", "}", "else", "FileUtils", ".", "openFile", "(", "new", "File", "(", "path", ")", ",", "mainActivity", ",", "getPrefs", "(", ")", ")", ";", "}", "else", "if", "(", "i", ".", "getStringArrayListExtra", "(", "TAG_INTENT_FILTER_FAILED_OPS", ")", "!", "=", "null", ")", "{", "ArrayList", "<", "HybridFileParcelable", ">", "failedOps", "=", "i", ".", "getParcelableArrayListExtra", "(", "TAG_INTENT_FILTER_FAILED_OPS", ")", ";", "if", "(", "failedOps", "!", "=", "null", ")", "{", "mainActivityHelper", ".", "showFailedOperationDialog", "(", "failedOps", ",", "this", ")", ";", "}", "}", "else", "if", "(", "i", ".", "getCategories", "(", ")", "!", "=", "null", "&", "&", "i", ".", "getCategories", "(", ")", ".", "contains", "(", "CLOUD_AUTHENTICATOR_GDRIVE", ")", ")", "{", "CloudRail", ".", "setAuthenticationResponse", "(", "intent", ")", ";", "}", "else", "if", "(", "(", "openProcesses", "=", "i", ".", "getBooleanExtra", "(", "KEY_INTENT_PROCESS_VIEWER", ",", "false", ")", ")", ")", "{", "FragmentTransaction", "transaction", "=", "getSupportFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ";", "transaction", ".", "replace", "(", "R", ".", "id", ".", "content_frame", ",", "new", "ProcessViewerFragment", "(", ")", ",", "KEY_INTENT_PROCESS_VIEWER", ")", ";", "drawer", ".", "setSomethingSelected", "(", "true", ")", ";", "openProcesses", "=", "false", ";", "transaction", ".", "commitAllowingStateLoss", "(", ")", ";", "supportInvalidateOptionsMenu", "(", ")", ";", "}", "else", "if", "(", "intent", ".", "getAction", "(", ")", "!", "=", "null", ")", "{", "checkForExternalIntent", "(", "intent", ")", ";", "if", "(", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "if", "(", "intent", ".", "getAction", "(", ")", ".", "equals", "(", "UsbManager", ".", "ACTION_USB_DEVICE_DETACHED", ")", ")", "{", "SingletonUsbOtg", ".", "getInstance", "(", ")", ".", "setUsbOtgRoot", "(", "null", ")", ";", "drawer", ".", "refreshDrawer", "(", ")", ";", "}", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onReceive", "(", "Context", "context", ",", "Intent", "i", ")", "{", "if", "(", "i", ".", "getStringArrayListExtra", "(", "TAG_INTENT_FILTER_FAILED_OPS", ")", "!", "=", "null", ")", "{", "ArrayList", "<", "HybridFileParcelable", ">", "failedOps", "=", "i", ".", "getParcelableArrayListExtra", "(", "TAG_INTENT_FILTER_FAILED_OPS", ")", ";", "if", "(", "failedOps", "!", "=", "null", ")", "{", "mainActivityHelper", ".", "showFailedOperationDialog", "(", "failedOps", ",", "mainActivity", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "void", "showSMBDialog", "(", "String", "name", ",", "String", "path", ",", "boolean", "edit", ")", "{", "if", "(", "path", ".", "length", "(", ")", ">", "0", "&", "&", "name", ".", "length", "(", ")", "=", "=", "0", ")", "{", "int", "i", "=", "dataUtils", ".", "containsServer", "(", "new", "String", "[", "]", "{", "name", ",", "path", "}", ")", ";", "if", "(", "i", "!", "=", "-", "1", ")", "name", "=", "dataUtils", ".", "getServers", "(", ")", ".", "get", "(", "i", ")", "[", "0", "]", ";", "}", "SmbConnectDialog", "smbConnectDialog", "=", "new", "SmbConnectDialog", "(", ")", ";", "Bundle", "bundle", "=", "new", "Bundle", "(", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "name", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "path", ")", ";", "bundle", ".", "putBoolean", "(", "\"", "<STR_LIT>", "\"", ",", "edit", ")", ";", "smbConnectDialog", ".", "setArguments", "(", "bundle", ")", ";", "smbConnectDialog", ".", "show", "(", "getFragmentManager", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "void", "showSftpDialog", "(", "String", "name", ",", "String", "path", ",", "boolean", "edit", ")", "{", "if", "(", "path", ".", "length", "(", ")", ">", "0", "&", "&", "name", ".", "length", "(", ")", "=", "=", "0", ")", "{", "int", "i", "=", "dataUtils", ".", "containsServer", "(", "new", "String", "[", "]", "{", "name", ",", "path", "}", ")", ";", "if", "(", "i", "!", "=", "-", "1", ")", "name", "=", "dataUtils", ".", "getServers", "(", ")", ".", "get", "(", "i", ")", "[", "0", "]", ";", "}", "SftpConnectDialog", "sftpConnectDialog", "=", "new", "SftpConnectDialog", "(", ")", ";", "Uri", "uri", "=", "Uri", ".", "parse", "(", "path", ")", ";", "String", "userinfo", "=", "uri", ".", "getUserInfo", "(", ")", ";", "Bundle", "bundle", "=", "new", "Bundle", "(", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "name", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "uri", ".", "getHost", "(", ")", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "Integer", ".", "toString", "(", "uri", ".", "getPort", "(", ")", ")", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "path", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "userinfo", ".", "indexOf", "(", "<CHAR_LIT::>", ")", ">", "0", "?", "userinfo", ".", "substring", "(", "0", ",", "userinfo", ".", "indexOf", "(", "<CHAR_LIT::>", ")", ")", ":", "userinfo", ")", ";", "if", "(", "userinfo", ".", "indexOf", "(", "<CHAR_LIT::>", ")", "<", "0", ")", "{", "bundle", ".", "putBoolean", "(", "\"", "<STR_LIT>", "\"", ",", "false", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT:Name>", "\"", ",", "utilsHandler", ".", "getSshAuthPrivateKeyName", "(", "path", ")", ")", ";", "}", "else", "{", "bundle", ".", "putBoolean", "(", "\"", "<STR_LIT>", "\"", ",", "true", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "userinfo", ".", "substring", "(", "userinfo", ".", "indexOf", "(", "<CHAR_LIT::>", ")", "+", "1", ")", ")", ";", "}", "bundle", ".", "putBoolean", "(", "\"", "<STR_LIT>", "\"", ",", "edit", ")", ";", "sftpConnectDialog", ".", "setArguments", "(", "bundle", ")", ";", "sftpConnectDialog", ".", "show", "(", "getFragmentManager", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "void", "showSmokeScreen", "(", ")", "{", "FileUtils", ".", "revealShow", "(", "fabBgView", ",", "true", ")", ";", "}", "</s>"]
["<s>", "public", "void", "hideSmokeScreen", "(", ")", "{", "FileUtils", ".", "revealShow", "(", "fabBgView", ",", "false", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addConnection", "(", "boolean", "edit", ",", "@", "NonNull", "final", "String", "name", ",", "@", "NonNull", "final", "String", "path", ",", "@", "Nullable", "final", "String", "encryptedPath", ",", "@", "Nullable", "final", "String", "oldname", ",", "@", "Nullable", "final", "String", "oldPath", ")", "{", "String", "[", "]", "s", "=", "new", "String", "[", "]", "{", "name", ",", "path", "}", ";", "if", "(", "!", "edit", ")", "{", "if", "(", "(", "dataUtils", ".", "containsServer", "(", "path", ")", ")", "=", "=", "-", "1", ")", "{", "dataUtils", ".", "addServer", "(", "s", ")", ";", "drawer", ".", "refreshDrawer", "(", ")", ";", "utilsHandler", ".", "saveToDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "SMB", ",", "name", ",", "encryptedPath", ")", ")", ";", "MainFragment", "ma", "=", "getCurrentMainFragment", "(", ")", ";", "if", "(", "ma", "!", "=", "null", ")", "getCurrentMainFragment", "(", ")", ".", "loadlist", "(", "path", ",", "false", ",", "OpenMode", ".", "UNKNOWN", ")", ";", "}", "else", "{", "Snackbar", ".", "make", "(", "findViewById", "(", "R", ".", "id", ".", "navigation", ")", ",", "getString", "(", "R", ".", "string", ".", "connection_exists", ")", ",", "Snackbar", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", "else", "{", "int", "i", "=", "dataUtils", ".", "containsServer", "(", "new", "String", "[", "]", "{", "oldname", ",", "oldPath", "}", ")", ";", "if", "(", "i", "!", "=", "-", "1", ")", "{", "dataUtils", ".", "removeServer", "(", "i", ")", ";", "AppConfig", ".", "runInBackground", "(", "(", ")", "-", ">", "{", "utilsHandler", ".", "renameSMB", "(", "oldname", ",", "oldPath", ",", "name", ",", "path", ")", ";", "}", ")", ";", "}", "dataUtils", ".", "addServer", "(", "s", ")", ";", "Collections", ".", "sort", "(", "dataUtils", ".", "getServers", "(", ")", ",", "new", "BookSorter", "(", ")", ")", ";", "drawer", ".", "refreshDrawer", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "deleteConnection", "(", "final", "String", "name", ",", "final", "String", "path", ")", "{", "int", "i", "=", "dataUtils", ".", "containsServer", "(", "new", "String", "[", "]", "{", "name", ",", "path", "}", ")", ";", "if", "(", "i", "!", "=", "-", "1", ")", "{", "dataUtils", ".", "removeServer", "(", "i", ")", ";", "AppConfig", ".", "runInBackground", "(", "(", ")", "-", ">", "{", "utilsHandler", ".", "removeFromDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "SMB", ",", "name", ",", "path", ")", ")", ";", "}", ")", ";", "drawer", ".", "refreshDrawer", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onHiddenFileAdded", "(", "String", "path", ")", "{", "utilsHandler", ".", "saveToDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "HIDDEN", ",", "path", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onHiddenFileRemoved", "(", "String", "path", ")", "{", "utilsHandler", ".", "removeFromDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "HIDDEN", ",", "path", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onHistoryAdded", "(", "String", "path", ")", "{", "utilsHandler", ".", "saveToDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "HISTORY", ",", "path", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBookAdded", "(", "String", "[", "]", "path", ",", "boolean", "refreshdrawer", ")", "{", "utilsHandler", ".", "saveToDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "BOOKMARKS", ",", "path", "[", "0", "]", ",", "path", "[", "1", "]", ")", ")", ";", "if", "(", "refreshdrawer", ")", "drawer", ".", "refreshDrawer", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onHistoryCleared", "(", ")", "{", "utilsHandler", ".", "clearTable", "(", "UtilsHandler", ".", "Operation", ".", "HISTORY", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "delete", "(", "String", "title", ",", "String", "path", ")", "{", "utilsHandler", ".", "removeFromDatabase", "(", "new", "OperationData", "(", "UtilsHandler", ".", "Operation", ".", "BOOKMARKS", ",", "title", ",", "path", ")", ")", ";", "drawer", ".", "refreshDrawer", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "modify", "(", "String", "oldpath", ",", "String", "oldname", ",", "String", "newPath", ",", "String", "newname", ")", "{", "utilsHandler", ".", "renameBookmark", "(", "oldname", ",", "oldpath", ",", "newname", ",", "newPath", ")", ";", "drawer", ".", "refreshDrawer", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPreExecute", "(", "String", "query", ")", "{", "mainFragment", ".", "mSwipeRefreshLayout", ".", "setRefreshing", "(", "true", ")", ";", "mainFragment", ".", "onSearchPreExecute", "(", "query", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPostExecute", "(", "String", "query", ")", "{", "mainFragment", ".", "onSearchCompleted", "(", "query", ")", ";", "mainFragment", ".", "mSwipeRefreshLayout", ".", "setRefreshing", "(", "false", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onProgressUpdate", "(", "HybridFileParcelable", "val", ",", "String", "query", ")", "{", "mainFragment", ".", "addSearchResult", "(", "val", ",", "query", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCancelled", "(", ")", "{", "mainFragment", ".", "reloadListElements", "(", "false", ",", "false", ",", "!", "mainFragment", ".", "IS_LIST", ")", ";", "mainFragment", ".", "mSwipeRefreshLayout", ".", "setRefreshing", "(", "false", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addConnection", "(", "OpenMode", "service", ")", "{", "try", "{", "if", "(", "cloudHandler", ".", "findEntry", "(", "service", ")", "!", "=", "null", ")", "{", "Toast", ".", "makeText", "(", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "connection_exists", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "please_wait", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "Bundle", "args", "=", "new", "Bundle", "(", ")", ";", "args", ".", "putInt", "(", "ARGS_KEY_LOADER", ",", "service", ".", "ordinal", "(", ")", ")", ";", "Loader", "loader", "=", "getSupportLoaderManager", "(", ")", ".", "getLoader", "(", "REQUEST_CODE_CLOUD_LIST_KEY", ")", ";", "if", "(", "loader", "!", "=", "null", "&", "&", "loader", ".", "isStarted", "(", ")", ")", "{", "getSupportLoaderManager", "(", ")", ".", "destroyLoader", "(", "REQUEST_CODE_CLOUD_LIST_KEY", ")", ";", "}", "getSupportLoaderManager", "(", ")", ".", "initLoader", "(", "REQUEST_CODE_CLOUD_LIST_KEY", ",", "args", ",", "this", ")", ";", "}", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_plugin", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "deleteConnection", "(", "OpenMode", "service", ")", "{", "cloudHandler", ".", "clear", "(", "service", ")", ";", "dataUtils", ".", "removeAccount", "(", "service", ")", ";", "runOnUiThread", "(", "drawer", ":", ":", "refreshDrawer", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Loader", "<", "Cursor", ">", "onCreateLoader", "(", "int", "id", ",", "Bundle", "args", ")", "{", "if", "(", "cloudSyncTask", "!", "=", "null", "&", "&", "cloudSyncTask", ".", "getStatus", "(", ")", "=", "=", "AsyncTask", ".", "Status", ".", "RUNNING", ")", "{", "cloudSyncTask", ".", "cancel", "(", "true", ")", ";", "}", "Uri", "uri", "=", "Uri", ".", "withAppendedPath", "(", "Uri", ".", "parse", "(", "\"", "<STR_LIT>", "\"", "+", "CloudContract", ".", "PROVIDER_AUTHORITY", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "String", "[", "]", "projection", "=", "new", "String", "[", "]", "{", "CloudContract", ".", "COLUMN_ID", ",", "CloudContract", ".", "COLUMN_CLIENT_ID", ",", "CloudContract", ".", "COLUMN_CLIENT_SECRET_KEY", "}", ";", "switch", "(", "id", ")", "{", "case", "REQUEST_CODE_CLOUD_LIST_KEY", ":", "Uri", "uriAppendedPath", "=", "uri", ";", "switch", "(", "OpenMode", ".", "getOpenMode", "(", "args", ".", "getInt", "(", "ARGS_KEY_LOADER", ",", "<NUM_LIT:2>", ")", ")", ")", "{", "case", "GDRIVE", ":", "uriAppendedPath", "=", "ContentUris", ".", "withAppendedId", "(", "uri", ",", "<NUM_LIT:2>", ")", ";", "break", ";", "case", "DROPBOX", ":", "uriAppendedPath", "=", "ContentUris", ".", "withAppendedId", "(", "uri", ",", "<NUM_LIT:3>", ")", ";", "break", ";", "case", "BOX", ":", "uriAppendedPath", "=", "ContentUris", ".", "withAppendedId", "(", "uri", ",", "<NUM_LIT:4>", ")", ";", "break", ";", "case", "ONEDRIVE", ":", "uriAppendedPath", "=", "ContentUris", ".", "withAppendedId", "(", "uri", ",", "<NUM_LIT:5>", ")", ";", "break", ";", "}", "return", "new", "CursorLoader", "(", "this", ",", "uriAppendedPath", ",", "projection", ",", "null", ",", "null", ",", "null", ")", ";", "case", "REQUEST_CODE_CLOUD_LIST_KEYS", ":", "try", "{", "List", "<", "CloudEntry", ">", "cloudEntries", "=", "cloudHandler", ".", "getAllEntries", "(", ")", ";", "String", "ids", "[", "]", "=", "new", "String", "[", "cloudEntries", ".", "size", "(", ")", "+", "1", "]", ";", "ids", "[", "0", "]", "=", "1", "+", "\"", "\"", ";", "for", "(", "int", "i", "=", "1", ";", "i", "<", "=", "cloudEntries", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "switch", "(", "cloudEntries", ".", "get", "(", "i", "-", "1", ")", ".", "getServiceType", "(", ")", ")", "{", "case", "GDRIVE", ":", "ids", "[", "i", "]", "=", "<NUM_LIT:2>", "+", "\"", "\"", ";", "break", ";", "case", "DROPBOX", ":", "ids", "[", "i", "]", "=", "<NUM_LIT:3>", "+", "\"", "\"", ";", "break", ";", "case", "BOX", ":", "ids", "[", "i", "]", "=", "<NUM_LIT:4>", "+", "\"", "\"", ";", "break", ";", "case", "ONEDRIVE", ":", "ids", "[", "i", "]", "=", "<NUM_LIT:5>", "+", "\"", "\"", ";", "break", ";", "}", "}", "return", "new", "CursorLoader", "(", "this", ",", "uri", ",", "projection", ",", "CloudContract", ".", "COLUMN_ID", ",", "ids", ",", "null", ")", ";", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "Toast", ".", "makeText", "(", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_plugin", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "}", "default", ":", "return", "null", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onLoadFinished", "(", "Loader", "<", "Cursor", ">", "loader", ",", "final", "Cursor", "data", ")", "{", "if", "(", "data", "=", "=", "null", ")", "{", "Toast", ".", "makeText", "(", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_failed_restart", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", ";", "}", "AppConfig", ".", "runInParallel", "(", "new", "AppConfig", ".", "CustomAsyncCallbacks", "<", "Void", ",", "Boolean", ">", "(", "null", ")", "{", "@", "Override", "@", "NonNull", "public", "Boolean", "doInBackground", "(", ")", "{", "boolean", "hasUpdatedDrawer", "=", "false", ";", "if", "(", "data", ".", "getCount", "(", ")", ">", "0", "&", "&", "data", ".", "moveToFirst", "(", ")", ")", "{", "do", "{", "switch", "(", "data", ".", "getInt", "(", "0", ")", ")", "{", "case", "1", ":", "try", "{", "CloudRail", ".", "setAppKey", "(", "data", ".", "getString", "(", "1", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "failed_cloud_api_key", ")", ")", ";", "return", "false", ";", "}", "break", ";", "case", "<NUM_LIT:2>", ":", "try", "{", "CloudEntry", "cloudEntryGdrive", "=", "null", ";", "CloudEntry", "savedCloudEntryGdrive", ";", "GoogleDrive", "cloudStorageDrive", "=", "new", "GoogleDrive", "(", "getApplicationContext", "(", ")", ",", "data", ".", "getString", "(", "1", ")", ",", "\"", "\"", ",", "CLOUD_AUTHENTICATOR_REDIRECT_URI", ",", "data", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ";", "cloudStorageDrive", ".", "useAdvancedAuthentication", "(", ")", ";", "if", "(", "(", "savedCloudEntryGdrive", "=", "cloudHandler", ".", "findEntry", "(", "OpenMode", ".", "GDRIVE", ")", ")", "!", "=", "null", ")", "{", "try", "{", "cloudStorageDrive", ".", "loadAsString", "(", "savedCloudEntryGdrive", ".", "getPersistData", "(", ")", ")", ";", "}", "catch", "(", "ParseException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "cloudStorageDrive", ".", "login", "(", ")", ";", "cloudEntryGdrive", "=", "new", "CloudEntry", "(", "OpenMode", ".", "GDRIVE", ",", "cloudStorageDrive", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "updateEntry", "(", "OpenMode", ".", "GDRIVE", ",", "cloudEntryGdrive", ")", ";", "}", "}", "else", "{", "cloudStorageDrive", ".", "login", "(", ")", ";", "cloudEntryGdrive", "=", "new", "CloudEntry", "(", "OpenMode", ".", "GDRIVE", ",", "cloudStorageDrive", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "addEntry", "(", "cloudEntryGdrive", ")", ";", "}", "dataUtils", ".", "addAccount", "(", "cloudStorageDrive", ")", ";", "hasUpdatedDrawer", "=", "true", ";", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_plugin", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "GDRIVE", ")", ";", "return", "false", ";", "}", "catch", "(", "AuthenticationException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_fail_authenticate", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "GDRIVE", ")", ";", "return", "false", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "failed_cloud_new_connection", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "GDRIVE", ")", ";", "return", "false", ";", "}", "break", ";", "case", "<NUM_LIT:3>", ":", "try", "{", "CloudEntry", "cloudEntryDropbox", "=", "null", ";", "CloudEntry", "savedCloudEntryDropbox", ";", "CloudStorage", "cloudStorageDropbox", "=", "new", "Dropbox", "(", "getApplicationContext", "(", ")", ",", "data", ".", "getString", "(", "1", ")", ",", "data", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ";", "if", "(", "(", "savedCloudEntryDropbox", "=", "cloudHandler", ".", "findEntry", "(", "OpenMode", ".", "DROPBOX", ")", ")", "!", "=", "null", ")", "{", "try", "{", "cloudStorageDropbox", ".", "loadAsString", "(", "savedCloudEntryDropbox", ".", "getPersistData", "(", ")", ")", ";", "}", "catch", "(", "ParseException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "cloudStorageDropbox", ".", "login", "(", ")", ";", "cloudEntryDropbox", "=", "new", "CloudEntry", "(", "OpenMode", ".", "DROPBOX", ",", "cloudStorageDropbox", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "updateEntry", "(", "OpenMode", ".", "DROPBOX", ",", "cloudEntryDropbox", ")", ";", "}", "}", "else", "{", "cloudStorageDropbox", ".", "login", "(", ")", ";", "cloudEntryDropbox", "=", "new", "CloudEntry", "(", "OpenMode", ".", "DROPBOX", ",", "cloudStorageDropbox", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "addEntry", "(", "cloudEntryDropbox", ")", ";", "}", "dataUtils", ".", "addAccount", "(", "cloudStorageDropbox", ")", ";", "hasUpdatedDrawer", "=", "true", ";", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_plugin", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "DROPBOX", ")", ";", "return", "false", ";", "}", "catch", "(", "AuthenticationException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_fail_authenticate", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "DROPBOX", ")", ";", "return", "false", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "failed_cloud_new_connection", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "DROPBOX", ")", ";", "return", "false", ";", "}", "break", ";", "case", "<NUM_LIT:4>", ":", "try", "{", "CloudEntry", "cloudEntryBox", "=", "null", ";", "CloudEntry", "savedCloudEntryBox", ";", "CloudStorage", "cloudStorageBox", "=", "new", "Box", "(", "getApplicationContext", "(", ")", ",", "data", ".", "getString", "(", "1", ")", ",", "data", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ";", "if", "(", "(", "savedCloudEntryBox", "=", "cloudHandler", ".", "findEntry", "(", "OpenMode", ".", "BOX", ")", ")", "!", "=", "null", ")", "{", "try", "{", "cloudStorageBox", ".", "loadAsString", "(", "savedCloudEntryBox", ".", "getPersistData", "(", ")", ")", ";", "}", "catch", "(", "ParseException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "cloudStorageBox", ".", "login", "(", ")", ";", "cloudEntryBox", "=", "new", "CloudEntry", "(", "OpenMode", ".", "BOX", ",", "cloudStorageBox", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "updateEntry", "(", "OpenMode", ".", "BOX", ",", "cloudEntryBox", ")", ";", "}", "}", "else", "{", "cloudStorageBox", ".", "login", "(", ")", ";", "cloudEntryBox", "=", "new", "CloudEntry", "(", "OpenMode", ".", "BOX", ",", "cloudStorageBox", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "addEntry", "(", "cloudEntryBox", ")", ";", "}", "dataUtils", ".", "addAccount", "(", "cloudStorageBox", ")", ";", "hasUpdatedDrawer", "=", "true", ";", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_plugin", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "BOX", ")", ";", "return", "false", ";", "}", "catch", "(", "AuthenticationException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_fail_authenticate", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "BOX", ")", ";", "return", "false", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "failed_cloud_new_connection", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "BOX", ")", ";", "return", "false", ";", "}", "break", ";", "case", "<NUM_LIT:5>", ":", "try", "{", "CloudEntry", "cloudEntryOnedrive", "=", "null", ";", "CloudEntry", "savedCloudEntryOnedrive", ";", "CloudStorage", "cloudStorageOnedrive", "=", "new", "OneDrive", "(", "getApplicationContext", "(", ")", ",", "data", ".", "getString", "(", "1", ")", ",", "data", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ";", "if", "(", "(", "savedCloudEntryOnedrive", "=", "cloudHandler", ".", "findEntry", "(", "OpenMode", ".", "ONEDRIVE", ")", ")", "!", "=", "null", ")", "{", "try", "{", "cloudStorageOnedrive", ".", "loadAsString", "(", "savedCloudEntryOnedrive", ".", "getPersistData", "(", ")", ")", ";", "}", "catch", "(", "ParseException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "cloudStorageOnedrive", ".", "login", "(", ")", ";", "cloudEntryOnedrive", "=", "new", "CloudEntry", "(", "OpenMode", ".", "ONEDRIVE", ",", "cloudStorageOnedrive", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "updateEntry", "(", "OpenMode", ".", "ONEDRIVE", ",", "cloudEntryOnedrive", ")", ";", "}", "}", "else", "{", "cloudStorageOnedrive", ".", "login", "(", ")", ";", "cloudEntryOnedrive", "=", "new", "CloudEntry", "(", "OpenMode", ".", "ONEDRIVE", ",", "cloudStorageOnedrive", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "addEntry", "(", "cloudEntryOnedrive", ")", ";", "}", "dataUtils", ".", "addAccount", "(", "cloudStorageOnedrive", ")", ";", "hasUpdatedDrawer", "=", "true", ";", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_plugin", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "return", "false", ";", "}", "catch", "(", "AuthenticationException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_fail_authenticate", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "return", "false", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "failed_cloud_new_connection", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "return", "false", ";", "}", "break", ";", "default", ":", "Toast", ".", "makeText", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_failed_restart", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", "false", ";", "}", "}", "while", "(", "data", ".", "moveToNext", "(", ")", ")", ";", "}", "return", "hasUpdatedDrawer", ";", "}", "@", "Override", "public", "void", "onPostExecute", "(", "@", "NonNull", "Boolean", "result", ")", "{", "if", "(", "result", ")", "{", "drawer", ".", "refreshDrawer", "(", ")", ";", "}", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "NonNull", "public", "Boolean", "doInBackground", "(", ")", "{", "boolean", "hasUpdatedDrawer", "=", "false", ";", "if", "(", "data", ".", "getCount", "(", ")", ">", "0", "&", "&", "data", ".", "moveToFirst", "(", ")", ")", "{", "do", "{", "switch", "(", "data", ".", "getInt", "(", "0", ")", ")", "{", "case", "1", ":", "try", "{", "CloudRail", ".", "setAppKey", "(", "data", ".", "getString", "(", "1", ")", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "failed_cloud_api_key", ")", ")", ";", "return", "false", ";", "}", "break", ";", "case", "<NUM_LIT:2>", ":", "try", "{", "CloudEntry", "cloudEntryGdrive", "=", "null", ";", "CloudEntry", "savedCloudEntryGdrive", ";", "GoogleDrive", "cloudStorageDrive", "=", "new", "GoogleDrive", "(", "getApplicationContext", "(", ")", ",", "data", ".", "getString", "(", "1", ")", ",", "\"", "\"", ",", "CLOUD_AUTHENTICATOR_REDIRECT_URI", ",", "data", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ";", "cloudStorageDrive", ".", "useAdvancedAuthentication", "(", ")", ";", "if", "(", "(", "savedCloudEntryGdrive", "=", "cloudHandler", ".", "findEntry", "(", "OpenMode", ".", "GDRIVE", ")", ")", "!", "=", "null", ")", "{", "try", "{", "cloudStorageDrive", ".", "loadAsString", "(", "savedCloudEntryGdrive", ".", "getPersistData", "(", ")", ")", ";", "}", "catch", "(", "ParseException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "cloudStorageDrive", ".", "login", "(", ")", ";", "cloudEntryGdrive", "=", "new", "CloudEntry", "(", "OpenMode", ".", "GDRIVE", ",", "cloudStorageDrive", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "updateEntry", "(", "OpenMode", ".", "GDRIVE", ",", "cloudEntryGdrive", ")", ";", "}", "}", "else", "{", "cloudStorageDrive", ".", "login", "(", ")", ";", "cloudEntryGdrive", "=", "new", "CloudEntry", "(", "OpenMode", ".", "GDRIVE", ",", "cloudStorageDrive", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "addEntry", "(", "cloudEntryGdrive", ")", ";", "}", "dataUtils", ".", "addAccount", "(", "cloudStorageDrive", ")", ";", "hasUpdatedDrawer", "=", "true", ";", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_plugin", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "GDRIVE", ")", ";", "return", "false", ";", "}", "catch", "(", "AuthenticationException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_fail_authenticate", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "GDRIVE", ")", ";", "return", "false", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "failed_cloud_new_connection", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "GDRIVE", ")", ";", "return", "false", ";", "}", "break", ";", "case", "<NUM_LIT:3>", ":", "try", "{", "CloudEntry", "cloudEntryDropbox", "=", "null", ";", "CloudEntry", "savedCloudEntryDropbox", ";", "CloudStorage", "cloudStorageDropbox", "=", "new", "Dropbox", "(", "getApplicationContext", "(", ")", ",", "data", ".", "getString", "(", "1", ")", ",", "data", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ";", "if", "(", "(", "savedCloudEntryDropbox", "=", "cloudHandler", ".", "findEntry", "(", "OpenMode", ".", "DROPBOX", ")", ")", "!", "=", "null", ")", "{", "try", "{", "cloudStorageDropbox", ".", "loadAsString", "(", "savedCloudEntryDropbox", ".", "getPersistData", "(", ")", ")", ";", "}", "catch", "(", "ParseException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "cloudStorageDropbox", ".", "login", "(", ")", ";", "cloudEntryDropbox", "=", "new", "CloudEntry", "(", "OpenMode", ".", "DROPBOX", ",", "cloudStorageDropbox", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "updateEntry", "(", "OpenMode", ".", "DROPBOX", ",", "cloudEntryDropbox", ")", ";", "}", "}", "else", "{", "cloudStorageDropbox", ".", "login", "(", ")", ";", "cloudEntryDropbox", "=", "new", "CloudEntry", "(", "OpenMode", ".", "DROPBOX", ",", "cloudStorageDropbox", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "addEntry", "(", "cloudEntryDropbox", ")", ";", "}", "dataUtils", ".", "addAccount", "(", "cloudStorageDropbox", ")", ";", "hasUpdatedDrawer", "=", "true", ";", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_plugin", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "DROPBOX", ")", ";", "return", "false", ";", "}", "catch", "(", "AuthenticationException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_fail_authenticate", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "DROPBOX", ")", ";", "return", "false", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "failed_cloud_new_connection", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "DROPBOX", ")", ";", "return", "false", ";", "}", "break", ";", "case", "<NUM_LIT:4>", ":", "try", "{", "CloudEntry", "cloudEntryBox", "=", "null", ";", "CloudEntry", "savedCloudEntryBox", ";", "CloudStorage", "cloudStorageBox", "=", "new", "Box", "(", "getApplicationContext", "(", ")", ",", "data", ".", "getString", "(", "1", ")", ",", "data", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ";", "if", "(", "(", "savedCloudEntryBox", "=", "cloudHandler", ".", "findEntry", "(", "OpenMode", ".", "BOX", ")", ")", "!", "=", "null", ")", "{", "try", "{", "cloudStorageBox", ".", "loadAsString", "(", "savedCloudEntryBox", ".", "getPersistData", "(", ")", ")", ";", "}", "catch", "(", "ParseException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "cloudStorageBox", ".", "login", "(", ")", ";", "cloudEntryBox", "=", "new", "CloudEntry", "(", "OpenMode", ".", "BOX", ",", "cloudStorageBox", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "updateEntry", "(", "OpenMode", ".", "BOX", ",", "cloudEntryBox", ")", ";", "}", "}", "else", "{", "cloudStorageBox", ".", "login", "(", ")", ";", "cloudEntryBox", "=", "new", "CloudEntry", "(", "OpenMode", ".", "BOX", ",", "cloudStorageBox", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "addEntry", "(", "cloudEntryBox", ")", ";", "}", "dataUtils", ".", "addAccount", "(", "cloudStorageBox", ")", ";", "hasUpdatedDrawer", "=", "true", ";", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_plugin", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "BOX", ")", ";", "return", "false", ";", "}", "catch", "(", "AuthenticationException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_fail_authenticate", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "BOX", ")", ";", "return", "false", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "failed_cloud_new_connection", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "BOX", ")", ";", "return", "false", ";", "}", "break", ";", "case", "<NUM_LIT:5>", ":", "try", "{", "CloudEntry", "cloudEntryOnedrive", "=", "null", ";", "CloudEntry", "savedCloudEntryOnedrive", ";", "CloudStorage", "cloudStorageOnedrive", "=", "new", "OneDrive", "(", "getApplicationContext", "(", ")", ",", "data", ".", "getString", "(", "1", ")", ",", "data", ".", "getString", "(", "<NUM_LIT:2>", ")", ")", ";", "if", "(", "(", "savedCloudEntryOnedrive", "=", "cloudHandler", ".", "findEntry", "(", "OpenMode", ".", "ONEDRIVE", ")", ")", "!", "=", "null", ")", "{", "try", "{", "cloudStorageOnedrive", ".", "loadAsString", "(", "savedCloudEntryOnedrive", ".", "getPersistData", "(", ")", ")", ";", "}", "catch", "(", "ParseException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "cloudStorageOnedrive", ".", "login", "(", ")", ";", "cloudEntryOnedrive", "=", "new", "CloudEntry", "(", "OpenMode", ".", "ONEDRIVE", ",", "cloudStorageOnedrive", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "updateEntry", "(", "OpenMode", ".", "ONEDRIVE", ",", "cloudEntryOnedrive", ")", ";", "}", "}", "else", "{", "cloudStorageOnedrive", ".", "login", "(", ")", ";", "cloudEntryOnedrive", "=", "new", "CloudEntry", "(", "OpenMode", ".", "ONEDRIVE", ",", "cloudStorageOnedrive", ".", "saveAsString", "(", ")", ")", ";", "cloudHandler", ".", "addEntry", "(", "cloudEntryOnedrive", ")", ";", "}", "dataUtils", ".", "addAccount", "(", "cloudStorageOnedrive", ")", ";", "hasUpdatedDrawer", "=", "true", ";", "}", "catch", "(", "CloudPluginException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_plugin", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "return", "false", ";", "}", "catch", "(", "AuthenticationException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_fail_authenticate", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "return", "false", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "AppConfig", ".", "toast", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "failed_cloud_new_connection", ")", ")", ";", "deleteConnection", "(", "OpenMode", ".", "ONEDRIVE", ")", ";", "return", "false", ";", "}", "break", ";", "default", ":", "Toast", ".", "makeText", "(", "MainActivity", ".", "this", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "cloud_error_failed_restart", ")", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "return", "false", ";", "}", "}", "while", "(", "data", ".", "moveToNext", "(", ")", ")", ";", "}", "return", "hasUpdatedDrawer", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onPostExecute", "(", "@", "NonNull", "Boolean", "result", ")", "{", "if", "(", "result", ")", "{", "drawer", ".", "refreshDrawer", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onLoaderReset", "(", "Loader", "<", "Cursor", ">", "loader", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "SharedPreferences", "sharedPref", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "this", ")", ";", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", ")", "{", "setTheme", "(", "R", ".", "style", ".", "appCompatDark", ")", ";", "getWindow", "(", ")", ".", "getDecorView", "(", ")", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "holo_dark_background", ")", ")", ";", "}", "else", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "setTheme", "(", "R", ".", "style", ".", "appCompatBlack", ")", ";", "getWindow", "(", ")", ".", "getDecorView", "(", ")", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "this", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "}", "setContentView", "(", "R", ".", "layout", ".", "activity_db_viewer", ")", ";", "toolbar", "=", "findViewById", "(", "R", ".", "id", ".", "toolbar", ")", ";", "setSupportActionBar", "(", "toolbar", ")", ";", "@", "ColorInt", "int", "primaryColor", "=", "ColorPreferenceHelper", ".", "getPrimary", "(", "getCurrentColorPreference", "(", ")", ",", "MainActivity", ".", "currentTab", ")", ";", "if", "(", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "ActivityManager", ".", "TaskDescription", "taskDescription", "=", "new", "ActivityManager", ".", "TaskDescription", "(", "\"", "<STR_LIT>", "\"", ",", "(", "(", "BitmapDrawable", ")", "ContextCompat", ".", "getDrawable", "(", "this", ",", "R", ".", "mipmap", ".", "ic_launcher", ")", ")", ".", "getBitmap", "(", ")", ",", "primaryColor", ")", ";", "setTaskDescription", "(", "taskDescription", ")", ";", "}", "getSupportActionBar", "(", ")", ".", "setBackgroundDrawable", "(", "new", "ColorDrawable", "(", "primaryColor", ")", ")", ";", "boolean", "useNewStack", "=", "sharedPref", ".", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_TEXTEDITOR_NEWSTACK", ",", "false", ")", ";", "getSupportActionBar", "(", ")", ".", "setDisplayHomeAsUpEnabled", "(", "!", "useNewStack", ")", ";", "if", "(", "SDK_INT", "=", "=", "<NUM_LIT:20>", "|", "|", "SDK_INT", "=", "=", "<NUM_LIT>", ")", "{", "SystemBarTintManager", "tintManager", "=", "new", "SystemBarTintManager", "(", "this", ")", ";", "tintManager", ".", "setStatusBarTintEnabled", "(", "true", ")", ";", "tintManager", ".", "setStatusBarTintColor", "(", "ColorPreferenceHelper", ".", "getPrimary", "(", "getCurrentColorPreference", "(", ")", ",", "MainActivity", ".", "currentTab", ")", ")", ";", "FrameLayout", ".", "MarginLayoutParams", "p", "=", "(", "ViewGroup", ".", "MarginLayoutParams", ")", "findViewById", "(", "R", ".", "id", ".", "parentdb", ")", ".", "getLayoutParams", "(", ")", ";", "SystemBarTintManager", ".", "SystemBarConfig", "config", "=", "tintManager", ".", "getConfig", "(", ")", ";", "p", ".", "setMargins", "(", "0", ",", "config", ".", "getStatusBarHeight", "(", ")", ",", "0", ",", "0", ")", ";", "}", "else", "if", "(", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "Window", "window", "=", "getWindow", "(", ")", ";", "window", ".", "addFlags", "(", "WindowManager", ".", "LayoutParams", ".", "FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS", ")", ";", "window", ".", "clearFlags", "(", "WindowManager", ".", "LayoutParams", ".", "FLAG_TRANSLUCENT_STATUS", ")", ";", "window", ".", "setStatusBarColor", "(", "PreferenceUtils", ".", "getStatusColor", "(", "primaryColor", ")", ")", ";", "if", "(", "getBoolean", "(", "PREFERENCE_COLORED_NAVIGATION", ")", ")", "window", ".", "setNavigationBarColor", "(", "PreferenceUtils", ".", "getStatusColor", "(", "primaryColor", ")", ")", ";", "}", "path", "=", "getIntent", "(", ")", ".", "getStringExtra", "(", "\"", "<STR_LIT>", "\"", ")", ";", "pathFile", "=", "new", "File", "(", "path", ")", ";", "listView", "=", "findViewById", "(", "R", ".", "id", ".", "listView", ")", ";", "load", "(", "pathFile", ")", ";", "listView", ".", "setOnItemClickListener", "(", "(", "parent", ",", "view", ",", "position", ",", "id", ")", "-", ">", "{", "FragmentTransaction", "fragmentTransaction", "=", "getSupportFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ";", "DbViewerFragment", "fragment", "=", "new", "DbViewerFragment", "(", ")", ";", "Bundle", "bundle", "=", "new", "Bundle", "(", ")", ";", "bundle", ".", "putString", "(", "\"", "<STR_LIT>", "\"", ",", "arrayList", ".", "get", "(", "position", ")", ")", ";", "fragment", ".", "setArguments", "(", "bundle", ")", ";", "fragmentTransaction", ".", "add", "(", "R", ".", "id", ".", "content_frame", ",", "fragment", ")", ";", "fragmentTransaction", ".", "addToBackStack", "(", "null", ")", ";", "fragmentTransaction", ".", "commit", "(", ")", ";", "}", ")", ";", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "String", ">", "getDbTableNames", "(", "Cursor", "c", ")", "{", "ArrayList", "<", "String", ">", "result", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "c", ".", "moveToFirst", "(", ")", ";", "!", "c", ".", "isAfterLast", "(", ")", ";", "c", ".", "moveToNext", "(", ")", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "c", ".", "getColumnCount", "(", ")", ";", "i", "+", "+", ")", "{", "result", ".", "add", "(", "c", ".", "getString", "(", "i", ")", ")", ";", "}", "}", "return", "result", ";", "}", "</s>"]
["<s>", "private", "void", "load", "(", "final", "File", "file", ")", "{", "new", "Thread", "(", "(", ")", "-", ">", "{", "File", "file1", "=", "getExternalCacheDir", "(", ")", ";", "if", "(", "!", "file", ".", "canRead", "(", ")", "&", "&", "isRootExplorer", "(", ")", ")", "{", "try", "{", "RootUtils", ".", "copy", "(", "pathFile", ".", "getPath", "(", ")", ",", "new", "File", "(", "file1", ".", "getPath", "(", ")", ",", "file", ".", "getName", "(", ")", ")", ".", "getPath", "(", ")", ")", ";", "pathFile", "=", "new", "File", "(", "file1", ".", "getPath", "(", ")", ",", "file", ".", "getName", "(", ")", ")", ";", "}", "catch", "(", "ShellNotRunningException", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "}", "delete", "=", "true", ";", "}", "try", "{", "sqLiteDatabase", "=", "SQLiteDatabase", ".", "openDatabase", "(", "pathFile", ".", "getPath", "(", ")", ",", "null", ",", "SQLiteDatabase", ".", "OPEN_READONLY", ")", ";", "c", "=", "sqLiteDatabase", ".", "rawQuery", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "arrayList", "=", "getDbTableNames", "(", "c", ")", ";", "arrayAdapter", "=", "new", "ArrayAdapter", "(", "DatabaseViewerActivity", ".", "this", ",", "android", ".", "R", ".", "layout", ".", "simple_list_item_1", ",", "arrayList", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "e", ".", "printStackTrace", "(", ")", ";", "finish", "(", ")", ";", "}", "runOnUiThread", "(", "(", ")", "-", ">", "{", "listView", ".", "setAdapter", "(", "arrayAdapter", ")", ";", "}", ")", ";", "}", ")", ".", "start", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDestroy", "(", ")", "{", "super", ".", "onDestroy", "(", ")", ";", "if", "(", "sqLiteDatabase", "!", "=", "null", ")", "sqLiteDatabase", ".", "close", "(", ")", ";", "if", "(", "c", "!", "=", "null", ")", "c", ".", "close", "(", ")", ";", "if", "(", "delete", ")", "pathFile", ".", "delete", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onPrepareOptionsMenu", "(", "Menu", "menu", ")", "{", "toolbar", ".", "setTitle", "(", "pathFile", ".", "getName", "(", ")", ")", ";", "return", "super", ".", "onPrepareOptionsMenu", "(", "menu", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onOptionsItemSelected", "(", "MenuItem", "item", ")", "{", "if", "(", "item", ".", "getItemId", "(", ")", "=", "=", "android", ".", "R", ".", "id", ".", "home", ")", "{", "onBackPressed", "(", ")", ";", "toolbar", ".", "setTitle", "(", "pathFile", ".", "getName", "(", ")", ")", ";", "}", "return", "super", ".", "onOptionsItemSelected", "(", "item", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBackPressed", "(", ")", "{", "super", ".", "onBackPressed", "(", ")", ";", "toolbar", ".", "setTitle", "(", "pathFile", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "prefsfrag", ")", ";", "Toolbar", "toolbar", "=", "findViewById", "(", "R", ".", "id", ".", "toolbar", ")", ";", "invalidateRecentsColorAndIcon", "(", ")", ";", "setSupportActionBar", "(", "toolbar", ")", ";", "getSupportActionBar", "(", ")", ".", "setDisplayOptions", "(", "android", ".", "support", ".", "v7", ".", "app", ".", "ActionBar", ".", "DISPLAY_HOME_AS_UP", "|", "android", ".", "support", ".", "v7", ".", "app", ".", "ActionBar", ".", "DISPLAY_SHOW_TITLE", ")", ";", "invalidateToolbarColor", "(", ")", ";", "invalidateNavBar", "(", ")", ";", "if", "(", "savedInstanceState", "!", "=", "null", ")", "{", "selectedItem", "=", "savedInstanceState", ".", "getInt", "(", "KEY_CURRENT_FRAG_OPEN", ",", "0", ")", ";", "}", "else", "if", "(", "getIntent", "(", ")", ".", "getExtras", "(", ")", "!", "=", "null", ")", "{", "selectItem", "(", "getIntent", "(", ")", ".", "getExtras", "(", ")", ".", "getInt", "(", "KEY_CURRENT_FRAG_OPEN", ")", ")", ";", "}", "else", "{", "selectItem", "(", "0", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onSaveInstanceState", "(", "Bundle", "outState", ")", "{", "super", ".", "onSaveInstanceState", "(", "outState", ")", ";", "outState", ".", "putInt", "(", "KEY_CURRENT_FRAG_OPEN", ",", "selectedItem", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBackPressed", "(", ")", "{", "if", "(", "currentFragment", "instanceof", "ColorPref", ")", "{", "if", "(", "(", "(", "ColorPref", ")", "currentFragment", ")", ".", "onBackPressed", "(", ")", ")", "return", ";", "}", "if", "(", "selectedItem", "!", "=", "START_PREFERENCE", "&", "&", "restartActivity", ")", "{", "restartActivity", "(", "this", ")", ";", "}", "else", "if", "(", "selectedItem", "!", "=", "START_PREFERENCE", ")", "{", "selectItem", "(", "START_PREFERENCE", ")", ";", "}", "else", "{", "Intent", "in", "=", "new", "Intent", "(", "PreferencesActivity", ".", "this", ",", "MainActivity", ".", "class", ")", ";", "in", ".", "setAction", "(", "Intent", ".", "ACTION_MAIN", ")", ";", "in", ".", "setAction", "(", "Intent", ".", "CATEGORY_LAUNCHER", ")", ";", "this", ".", "startActivity", "(", "in", ")", ";", "this", ".", "finish", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onOptionsItemSelected", "(", "MenuItem", "item", ")", "{", "switch", "(", "item", ".", "getItemId", "(", ")", ")", "{", "case", "android", ".", "R", ".", "id", ".", "home", ":", "if", "(", "currentFragment", ".", "onOptionsItemSelected", "(", "item", ")", ")", "return", "true", ";", "if", "(", "selectedItem", "!", "=", "START_PREFERENCE", "&", "&", "restartActivity", ")", "{", "restartActivity", "(", "this", ")", ";", "}", "else", "if", "(", "selectedItem", "!", "=", "START_PREFERENCE", ")", "{", "selectItem", "(", "START_PREFERENCE", ")", ";", "}", "else", "{", "Intent", "in", "=", "new", "Intent", "(", "PreferencesActivity", ".", "this", ",", "MainActivity", ".", "class", ")", ";", "in", ".", "setAction", "(", "Intent", ".", "ACTION_MAIN", ")", ";", "in", ".", "setAction", "(", "Intent", ".", "CATEGORY_LAUNCHER", ")", ";", "final", "int", "enter_anim", "=", "android", ".", "R", ".", "anim", ".", "fade_in", ";", "final", "int", "exit_anim", "=", "android", ".", "R", ".", "anim", ".", "fade_out", ";", "Activity", "activity", "=", "this", ";", "activity", ".", "overridePendingTransition", "(", "enter_anim", ",", "exit_anim", ")", ";", "activity", ".", "finish", "(", ")", ";", "activity", ".", "overridePendingTransition", "(", "enter_anim", ",", "exit_anim", ")", ";", "activity", ".", "startActivity", "(", "in", ")", ";", "}", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "public", "void", "saveListViewState", "(", "int", "prefFragment", ",", "Parcelable", "listViewState", ")", "{", "fragmentsListViewParcelables", "[", "prefFragment", "]", "=", "listViewState", ";", "}", "</s>"]
["<s>", "public", "Parcelable", "restoreListViewState", "(", "int", "prefFragment", ")", "{", "return", "fragmentsListViewParcelables", "[", "prefFragment", "]", ";", "}", "</s>"]
["<s>", "public", "void", "setRestartActivity", "(", ")", "{", "restartActivity", "=", "true", ";", "}", "</s>"]
["<s>", "public", "boolean", "getRestartActivity", "(", ")", "{", "return", "restartActivity", ";", "}", "</s>"]
["<s>", "public", "void", "invalidateRecentsColorAndIcon", "(", ")", "{", "if", "(", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "@", "ColorInt", "int", "primaryColor", "=", "ColorPreferenceHelper", ".", "getPrimary", "(", "getCurrentColorPreference", "(", ")", ",", "MainActivity", ".", "currentTab", ")", ";", "ActivityManager", ".", "TaskDescription", "taskDescription", "=", "new", "ActivityManager", ".", "TaskDescription", "(", "\"", "<STR_LIT>", "\"", ",", "(", "(", "BitmapDrawable", ")", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "mipmap", ".", "ic_launcher", ")", ")", ".", "getBitmap", "(", ")", ",", "primaryColor", ")", ";", "setTaskDescription", "(", "taskDescription", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "invalidateToolbarColor", "(", ")", "{", "@", "ColorInt", "int", "primaryColor", "=", "ColorPreferenceHelper", ".", "getPrimary", "(", "getCurrentColorPreference", "(", ")", ",", "MainActivity", ".", "currentTab", ")", ";", "getSupportActionBar", "(", ")", ".", "setBackgroundDrawable", "(", "new", "ColorDrawable", "(", "primaryColor", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "invalidateNavBar", "(", ")", "{", "@", "ColorInt", "int", "primaryColor", "=", "ColorPreferenceHelper", ".", "getPrimary", "(", "getCurrentColorPreference", "(", ")", ",", "MainActivity", ".", "currentTab", ")", ";", "if", "(", "SDK_INT", "=", "=", "<NUM_LIT:20>", "|", "|", "SDK_INT", "=", "=", "<NUM_LIT>", ")", "{", "SystemBarTintManager", "tintManager", "=", "new", "SystemBarTintManager", "(", "this", ")", ";", "tintManager", ".", "setStatusBarTintEnabled", "(", "true", ")", ";", "tintManager", ".", "setStatusBarTintColor", "(", "primaryColor", ")", ";", "FrameLayout", ".", "MarginLayoutParams", "p", "=", "(", "ViewGroup", ".", "MarginLayoutParams", ")", "findViewById", "(", "R", ".", "id", ".", "preferences", ")", ".", "getLayoutParams", "(", ")", ";", "SystemBarTintManager", ".", "SystemBarConfig", "config", "=", "tintManager", ".", "getConfig", "(", ")", ";", "p", ".", "setMargins", "(", "0", ",", "config", ".", "getStatusBarHeight", "(", ")", ",", "0", ",", "0", ")", ";", "}", "else", "if", "(", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "SharedPreferences", "Sp", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "this", ")", ";", "boolean", "colourednavigation", "=", "getBoolean", "(", "PreferencesConstants", ".", "PREFERENCE_COLORED_NAVIGATION", ")", ";", "Window", "window", "=", "getWindow", "(", ")", ";", "window", ".", "addFlags", "(", "WindowManager", ".", "LayoutParams", ".", "FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS", ")", ";", "window", ".", "clearFlags", "(", "WindowManager", ".", "LayoutParams", ".", "FLAG_TRANSLUCENT_STATUS", ")", ";", "int", "tabStatusColor", "=", "PreferenceUtils", ".", "getStatusColor", "(", "primaryColor", ")", ";", "window", ".", "setStatusBarColor", "(", "tabStatusColor", ")", ";", "if", "(", "colourednavigation", ")", "{", "window", ".", "setNavigationBarColor", "(", "tabStatusColor", ")", ";", "}", "else", "if", "(", "window", ".", "getNavigationBarColor", "(", ")", "!", "=", "Color", ".", "BLACK", ")", "{", "window", ".", "setNavigationBarColor", "(", "Color", ".", "BLACK", ")", ";", "}", "}", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "getWindow", "(", ")", ".", "getDecorView", "(", ")", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "this", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "restartActivity", "(", "final", "Activity", "activity", ")", "{", "if", "(", "activity", "=", "=", "null", ")", "throw", "new", "NullPointerException", "(", ")", ";", "final", "int", "enter_anim", "=", "android", ".", "R", ".", "anim", ".", "fade_in", ";", "final", "int", "exit_anim", "=", "android", ".", "R", ".", "anim", ".", "fade_out", ";", "activity", ".", "overridePendingTransition", "(", "enter_anim", ",", "exit_anim", ")", ";", "activity", ".", "finish", "(", ")", ";", "activity", ".", "overridePendingTransition", "(", "enter_anim", ",", "exit_anim", ")", ";", "if", "(", "selectedItem", "!", "=", "START_PREFERENCE", ")", "{", "Intent", "i", "=", "activity", ".", "getIntent", "(", ")", ";", "i", ".", "putExtra", "(", "KEY_CURRENT_FRAG_OPEN", ",", "selectedItem", ")", ";", "}", "activity", ".", "startActivity", "(", "activity", ".", "getIntent", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "selectItem", "(", "int", "item", ")", "{", "selectedItem", "=", "item", ";", "switch", "(", "item", ")", "{", "case", "START_PREFERENCE", ":", "loadPrefFragment", "(", "new", "PrefFrag", "(", ")", ",", "R", ".", "string", ".", "setting", ")", ";", "break", ";", "case", "COLORS_PREFERENCE", ":", "loadPrefFragment", "(", "new", "ColorPref", "(", ")", ",", "R", ".", "string", ".", "color_title", ")", ";", "break", ";", "case", "FOLDERS_PREFERENCE", ":", "loadPrefFragment", "(", "new", "FoldersPref", "(", ")", ",", "R", ".", "string", ".", "sidebarfolders_title", ")", ";", "break", ";", "case", "QUICKACCESS_PREFERENCE", ":", "loadPrefFragment", "(", "new", "QuickAccessPref", "(", ")", ",", "R", ".", "string", ".", "sidebarquickaccess_title", ")", ";", "break", ";", "case", "ADVANCEDSEARCH_PREFERENCE", ":", "loadPrefFragment", "(", "new", "AdvancedSearchPref", "(", ")", ",", "R", ".", "string", ".", "advanced_search", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "private", "void", "loadPrefFragment", "(", "PreferenceFragment", "fragment", ",", "@", "StringRes", "int", "titleBarName", ")", "{", "currentFragment", "=", "fragment", ";", "FragmentTransaction", "t", "=", "getFragmentManager", "(", ")", ".", "beginTransaction", "(", ")", ";", "t", ".", "replace", "(", "R", ".", "id", ".", "prefsfragment", ",", "fragment", ")", ";", "t", ".", "commit", "(", ")", ";", "getSupportActionBar", "(", ")", ".", "setTitle", "(", "titleBarName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", ")", "getWindow", "(", ")", ".", "getDecorView", "(", ")", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "holo_dark_background", ")", ")", ";", "else", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "getWindow", "(", ")", ".", "getDecorView", "(", ")", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "this", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "setContentView", "(", "R", ".", "layout", ".", "search", ")", ";", "searchViewLayout", "=", "findViewById", "(", "R", ".", "id", ".", "searchview", ")", ";", "toolbar", "=", "findViewById", "(", "R", ".", "id", ".", "toolbar", ")", ";", "setSupportActionBar", "(", "toolbar", ")", ";", "@", "ColorInt", "int", "primaryColor", "=", "ColorPreferenceHelper", ".", "getPrimary", "(", "getCurrentColorPreference", "(", ")", ",", "MainActivity", ".", "currentTab", ")", ";", "toolbar", ".", "setBackgroundColor", "(", "primaryColor", ")", ";", "searchViewLayout", ".", "setBackgroundColor", "(", "primaryColor", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "ActivityManager", ".", "TaskDescription", "taskDescription", "=", "new", "ActivityManager", ".", "TaskDescription", "(", "\"", "<STR_LIT>", "\"", ",", "(", "(", "BitmapDrawable", ")", "getResources", "(", ")", ".", "getDrawable", "(", "R", ".", "mipmap", ".", "ic_launcher", ")", ")", ".", "getBitmap", "(", ")", ",", "primaryColor", ")", ";", "setTaskDescription", "(", "taskDescription", ")", ";", "}", "searchEditText", "=", "searchViewLayout", ".", "findViewById", "(", "R", ".", "id", ".", "search_box", ")", ";", "upButton", "=", "searchViewLayout", ".", "findViewById", "(", "R", ".", "id", ".", "prev", ")", ";", "downButton", "=", "searchViewLayout", ".", "findViewById", "(", "R", ".", "id", ".", "next", ")", ";", "closeButton", "=", "searchViewLayout", ".", "findViewById", "(", "R", ".", "id", ".", "close", ")", ";", "searchEditText", ".", "addTextChangedListener", "(", "this", ")", ";", "upButton", ".", "setOnClickListener", "(", "this", ")", ";", "downButton", ".", "setOnClickListener", "(", "this", ")", ";", "closeButton", ".", "setOnClickListener", "(", "this", ")", ";", "getSupportActionBar", "(", ")", ".", "setBackgroundDrawable", "(", "new", "ColorDrawable", "(", "primaryColor", ")", ")", ";", "boolean", "useNewStack", "=", "getBoolean", "(", "PREFERENCE_TEXTEDITOR_NEWSTACK", ")", ";", "getSupportActionBar", "(", ")", ".", "setDisplayHomeAsUpEnabled", "(", "!", "useNewStack", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT_WATCH", "|", "|", "Build", ".", "VERSION", ".", "SDK_INT", "=", "=", "Build", ".", "VERSION_CODES", ".", "KITKAT", ")", "{", "SystemBarTintManager", "tintManager", "=", "new", "SystemBarTintManager", "(", "this", ")", ";", "tintManager", ".", "setStatusBarTintEnabled", "(", "true", ")", ";", "tintManager", ".", "setStatusBarTintColor", "(", "primaryColor", ")", ";", "FrameLayout", ".", "MarginLayoutParams", "p", "=", "(", "ViewGroup", ".", "MarginLayoutParams", ")", "findViewById", "(", "R", ".", "id", ".", "texteditor", ")", ".", "getLayoutParams", "(", ")", ";", "SystemBarTintManager", ".", "SystemBarConfig", "config", "=", "tintManager", ".", "getConfig", "(", ")", ";", "p", ".", "setMargins", "(", "0", ",", "config", ".", "getStatusBarHeight", "(", ")", ",", "0", ",", "0", ")", ";", "}", "else", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "boolean", "colourednavigation", "=", "getBoolean", "(", "PREFERENCE_COLORED_NAVIGATION", ")", ";", "Window", "window", "=", "getWindow", "(", ")", ";", "window", ".", "addFlags", "(", "WindowManager", ".", "LayoutParams", ".", "FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS", ")", ";", "window", ".", "clearFlags", "(", "WindowManager", ".", "LayoutParams", ".", "FLAG_TRANSLUCENT_STATUS", ")", ";", "window", ".", "setStatusBarColor", "(", "PreferenceUtils", ".", "getStatusColor", "(", "primaryColor", ")", ")", ";", "if", "(", "colourednavigation", ")", "window", ".", "setNavigationBarColor", "(", "PreferenceUtils", ".", "getStatusColor", "(", "primaryColor", ")", ")", ";", "}", "mInput", "=", "findViewById", "(", "R", ".", "id", ".", "fname", ")", ";", "scrollView", "=", "findViewById", "(", "R", ".", "id", ".", "editscroll", ")", ";", "final", "Uri", "uri", "=", "getIntent", "(", ")", ".", "getData", "(", ")", ";", "if", "(", "uri", "!", "=", "null", ")", "{", "mFile", "=", "new", "EditableFileAbstraction", "(", "this", ",", "uri", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "this", ",", "R", ".", "string", ".", "no_file_error", ",", "Toast", ".", "LENGTH_LONG", ")", ".", "show", "(", ")", ";", "finish", "(", ")", ";", "}", "getSupportActionBar", "(", ")", ".", "setTitle", "(", "mFile", ".", "name", ")", ";", "mInput", ".", "addTextChangedListener", "(", "this", ")", ";", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "DARK", ")", ")", "mInput", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "holo_dark_background", ")", ")", ";", "else", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "mInput", ".", "setBackgroundColor", "(", "Utils", ".", "getColor", "(", "this", ",", "android", ".", "R", ".", "color", ".", "black", ")", ")", ";", "if", "(", "mInput", ".", "getTypeface", "(", ")", "=", "=", "null", ")", "mInput", ".", "setTypeface", "(", "Typeface", ".", "DEFAULT", ")", ";", "mInputTypefaceDefault", "=", "mInput", ".", "getTypeface", "(", ")", ";", "mInputTypefaceMono", "=", "Typeface", ".", "MONOSPACE", ";", "if", "(", "savedInstanceState", "!", "=", "null", ")", "{", "mOriginal", "=", "savedInstanceState", ".", "getString", "(", "KEY_ORIGINAL_TEXT", ")", ";", "int", "index", "=", "savedInstanceState", ".", "getInt", "(", "KEY_INDEX", ")", ";", "mInput", ".", "setText", "(", "savedInstanceState", ".", "getString", "(", "KEY_MODIFIED_TEXT", ")", ")", ";", "mInput", ".", "setScrollY", "(", "index", ")", ";", "if", "(", "savedInstanceState", ".", "getBoolean", "(", "KEY_MONOFONT", ")", ")", "mInput", ".", "setTypeface", "(", "mInputTypefaceMono", ")", ";", "}", "else", "{", "load", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onSaveInstanceState", "(", "Bundle", "outState", ")", "{", "super", ".", "onSaveInstanceState", "(", "outState", ")", ";", "outState", ".", "putString", "(", "KEY_MODIFIED_TEXT", ",", "mInput", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "outState", ".", "putInt", "(", "KEY_INDEX", ",", "mInput", ".", "getScrollY", "(", ")", ")", ";", "outState", ".", "putString", "(", "KEY_ORIGINAL_TEXT", ",", "mOriginal", ")", ";", "outState", ".", "putBoolean", "(", "KEY_MONOFONT", ",", "mInputTypefaceMono", ".", "equals", "(", "mInput", ".", "getTypeface", "(", ")", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "checkUnsavedChanges", "(", ")", "{", "if", "(", "mOriginal", "!", "=", "null", "&", "&", "mInput", ".", "isShown", "(", ")", "&", "&", "!", "mOriginal", ".", "equals", "(", "mInput", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ")", "{", "new", "MaterialDialog", ".", "Builder", "(", "this", ")", ".", "title", "(", "R", ".", "string", ".", "unsavedchanges", ")", ".", "content", "(", "R", ".", "string", ".", "unsavedchangesdesc", ")", ".", "positiveText", "(", "R", ".", "string", ".", "yes", ")", ".", "negativeText", "(", "R", ".", "string", ".", "no", ")", ".", "positiveColor", "(", "getAccent", "(", ")", ")", ".", "negativeColor", "(", "getAccent", "(", ")", ")", ".", "onPositive", "(", "(", "dialog", ",", "which", ")", "-", ">", "{", "saveFile", "(", "mInput", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "finish", "(", ")", ";", "}", ")", ".", "onNegative", "(", "(", "dialog", ",", "which", ")", "-", ">", "finish", "(", ")", ")", ".", "build", "(", ")", ".", "show", "(", ")", ";", "}", "else", "{", "finish", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "saveFile", "(", "final", "String", "editTextString", ")", "{", "Toast", ".", "makeText", "(", "this", ",", "R", ".", "string", ".", "saving", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "new", "WriteFileAbstraction", "(", "this", ",", "getContentResolver", "(", ")", ",", "mFile", ",", "editTextString", ",", "cacheFile", ",", "isRootExplorer", "(", ")", ",", "(", "errorCode", ")", "-", ">", "{", "switch", "(", "errorCode", ")", "{", "case", "WriteFileAbstraction", ".", "NORMAL", ":", "mOriginal", "=", "editTextString", ";", "mModified", "=", "false", ";", "invalidateOptionsMenu", "(", ")", ";", "Toast", ".", "makeText", "(", "getApplicationContext", "(", ")", ",", "getString", "(", "R", ".", "string", ".", "done", ")", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "break", ";", "case", "WriteFileAbstraction", ".", "EXCEPTION_STREAM_NOT_FOUND", ":", "Toast", ".", "makeText", "(", "getApplicationContext", "(", ")", ",", "R", ".", "string", ".", "error_file_not_found", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "break", ";", "case", "WriteFileAbstraction", ".", "EXCEPTION_IO", ":", "Toast", ".", "makeText", "(", "getApplicationContext", "(", ")", ",", "R", ".", "string", ".", "error_io", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "break", ";", "case", "WriteFileAbstraction", ".", "EXCEPTION_SHELL_NOT_RUNNING", ":", "Toast", ".", "makeText", "(", "getApplicationContext", "(", ")", ",", "R", ".", "string", ".", "rootfailure", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "break", ";", "}", "}", ")", ".", "execute", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "load", "(", ")", "{", "Snackbar", ".", "make", "(", "scrollView", ",", "R", ".", "string", ".", "loading", ",", "Snackbar", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "new", "ReadFileTask", "(", "getContentResolver", "(", ")", ",", "mFile", ",", "getExternalCacheDir", "(", ")", ",", "isRootExplorer", "(", ")", ",", "(", "data", ")", "-", ">", "{", "switch", "(", "data", ".", "error", ")", "{", "case", "ReadFileTask", ".", "NORMAL", ":", "cacheFile", "=", "data", ".", "cachedFile", ";", "mOriginal", "=", "data", ".", "fileContents", ";", "try", "{", "mInput", ".", "setText", "(", "data", ".", "fileContents", ")", ";", "if", "(", "mFile", ".", "scheme", "=", "=", "EditableFileAbstraction", ".", "SCHEME_FILE", "&", "&", "getExternalCacheDir", "(", ")", "!", "=", "null", "&", "&", "mFile", ".", "hybridFileParcelable", ".", "getPath", "(", ")", ".", "contains", "(", "getExternalCacheDir", "(", ")", ".", "getPath", "(", ")", ")", "&", "&", "cacheFile", "=", "=", "null", ")", "{", "mInput", ".", "setInputType", "(", "EditorInfo", ".", "TYPE_NULL", ")", ";", "mInput", ".", "setSingleLine", "(", "false", ")", ";", "mInput", ".", "setImeOptions", "(", "EditorInfo", ".", "IME_FLAG_NO_ENTER_ACTION", ")", ";", "Snackbar", "snackbar", "=", "Snackbar", ".", "make", "(", "mInput", ",", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "file_read_only", ")", ",", "Snackbar", ".", "LENGTH_INDEFINITE", ")", ";", "snackbar", ".", "setAction", "(", "getResources", "(", ")", ".", "getString", "(", "R", ".", "string", ".", "got_it", ")", ".", "toUpperCase", "(", ")", ",", "v", "-", ">", "snackbar", ".", "dismiss", "(", ")", ")", ";", "snackbar", ".", "show", "(", ")", ";", "}", "if", "(", "data", ".", "fileContents", ".", "isEmpty", "(", ")", ")", "{", "mInput", ".", "setHint", "(", "R", ".", "string", ".", "file_empty", ")", ";", "}", "else", "{", "mInput", ".", "setHint", "(", "null", ")", ";", "}", "}", "catch", "(", "OutOfMemoryError", "e", ")", "{", "Toast", ".", "makeText", "(", "getApplicationContext", "(", ")", ",", "R", ".", "string", ".", "error", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "finish", "(", ")", ";", "}", "break", ";", "case", "ReadFileTask", ".", "EXCEPTION_STREAM_NOT_FOUND", ":", "Toast", ".", "makeText", "(", "getApplicationContext", "(", ")", ",", "R", ".", "string", ".", "error_file_not_found", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "finish", "(", ")", ";", "break", ";", "case", "ReadFileTask", ".", "EXCEPTION_IO", ":", "Toast", ".", "makeText", "(", "getApplicationContext", "(", ")", ",", "R", ".", "string", ".", "error_io", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "finish", "(", ")", ";", "break", ";", "}", "}", ")", ".", "execute", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBackPressed", "(", ")", "{", "checkUnsavedChanges", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onCreateOptionsMenu", "(", "Menu", "menu", ")", "{", "getMenuInflater", "(", ")", ".", "inflate", "(", "R", ".", "menu", ".", "text", ",", "menu", ")", ";", "return", "super", ".", "onCreateOptionsMenu", "(", "menu", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onPrepareOptionsMenu", "(", "Menu", "menu", ")", "{", "menu", ".", "findItem", "(", "R", ".", "id", ".", "save", ")", ".", "setVisible", "(", "mModified", ")", ";", "menu", ".", "findItem", "(", "R", ".", "id", ".", "monofont", ")", ".", "setChecked", "(", "mInputTypefaceMono", ".", "equals", "(", "mInput", ".", "getTypeface", "(", ")", ")", ")", ";", "return", "super", ".", "onPrepareOptionsMenu", "(", "menu", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onOptionsItemSelected", "(", "MenuItem", "item", ")", "{", "switch", "(", "item", ".", "getItemId", "(", ")", ")", "{", "case", "android", ".", "R", ".", "id", ".", "home", ":", "checkUnsavedChanges", "(", ")", ";", "break", ";", "case", "R", ".", "id", ".", "save", ":", "saveFile", "(", "mInput", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "break", ";", "case", "R", ".", "id", ".", "details", ":", "if", "(", "mFile", ".", "scheme", "=", "=", "EditableFileAbstraction", ".", "SCHEME_FILE", "&", "&", "mFile", ".", "hybridFileParcelable", ".", "getFile", "(", ")", ".", "exists", "(", ")", ")", "{", "GeneralDialogCreation", ".", "showPropertiesDialogWithoutPermissions", "(", "mFile", ".", "hybridFileParcelable", ",", "this", ",", "getAppTheme", "(", ")", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "this", ",", "R", ".", "string", ".", "no_obtainable_info", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "break", ";", "case", "R", ".", "id", ".", "openwith", ":", "if", "(", "mFile", ".", "scheme", "=", "=", "EditableFileAbstraction", ".", "SCHEME_FILE", ")", "{", "File", "currentFile", "=", "mFile", ".", "hybridFileParcelable", ".", "getFile", "(", ")", ";", "if", "(", "currentFile", ".", "exists", "(", ")", ")", "{", "boolean", "useNewStack", "=", "getBoolean", "(", "PREFERENCE_TEXTEDITOR_NEWSTACK", ")", ";", "FileUtils", ".", "openunknown", "(", "currentFile", ",", "this", ",", "false", ",", "useNewStack", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "this", ",", "R", ".", "string", ".", "not_allowed", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "}", "else", "{", "Toast", ".", "makeText", "(", "this", ",", "R", ".", "string", ".", "reopen_from_source", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "}", "break", ";", "case", "R", ".", "id", ".", "find", ":", "if", "(", "searchViewLayout", ".", "isShown", "(", ")", ")", "hideSearchView", "(", ")", ";", "else", "revealSearchView", "(", ")", ";", "break", ";", "case", "R", ".", "id", ".", "monofont", ":", "item", ".", "setChecked", "(", "!", "item", ".", "isChecked", "(", ")", ")", ";", "mInput", ".", "setTypeface", "(", "item", ".", "isChecked", "(", ")", "?", "mInputTypefaceMono", ":", "mInputTypefaceDefault", ")", ";", "break", ";", "default", ":", "return", "false", ";", "}", "return", "super", ".", "onOptionsItemSelected", "(", "item", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDestroy", "(", ")", "{", "super", ".", "onDestroy", "(", ")", ";", "if", "(", "cacheFile", "!", "=", "null", "&", "&", "cacheFile", ".", "exists", "(", ")", ")", "cacheFile", ".", "delete", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeTextChanged", "(", "CharSequence", "charSequence", ",", "int", "i", ",", "int", "i2", ",", "int", "i3", ")", "{", "if", "(", "searchEditText", "!", "=", "null", "&", "&", "charSequence", ".", "hashCode", "(", ")", "=", "=", "searchEditText", ".", "getText", "(", ")", ".", "hashCode", "(", ")", ")", "{", "if", "(", "searchTextTask", "!", "=", "null", ")", "searchTextTask", ".", "cancel", "(", "true", ")", ";", "cleanSpans", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onTextChanged", "(", "CharSequence", "charSequence", ",", "int", "i", ",", "int", "i2", ",", "int", "i3", ")", "{", "if", "(", "charSequence", ".", "hashCode", "(", ")", "=", "=", "mInput", ".", "getText", "(", ")", ".", "hashCode", "(", ")", ")", "{", "if", "(", "mTimer", "!", "=", "null", ")", "{", "mTimer", ".", "cancel", "(", ")", ";", "mTimer", ".", "purge", "(", ")", ";", "mTimer", "=", "null", ";", "}", "mTimer", "=", "new", "Timer", "(", ")", ";", "mTimer", ".", "schedule", "(", "new", "TimerTask", "(", ")", "{", "boolean", "modified", ";", "@", "Override", "public", "void", "run", "(", ")", "{", "modified", "=", "!", "mInput", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "equals", "(", "mOriginal", ")", ";", "if", "(", "mModified", "!", "=", "modified", ")", "{", "mModified", "=", "modified", ";", "invalidateOptionsMenu", "(", ")", ";", "}", "}", "}", ",", "<NUM_LIT>", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "modified", "=", "!", "mInput", ".", "getText", "(", ")", ".", "toString", "(", ")", ".", "equals", "(", "mOriginal", ")", ";", "if", "(", "mModified", "!", "=", "modified", ")", "{", "mModified", "=", "modified", ";", "invalidateOptionsMenu", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterTextChanged", "(", "Editable", "editable", ")", "{", "if", "(", "searchEditText", "!", "=", "null", "&", "&", "editable", ".", "hashCode", "(", ")", "=", "=", "searchEditText", ".", "getText", "(", ")", ".", "hashCode", "(", ")", ")", "{", "searchTextTask", "=", "new", "SearchTextTask", "(", "this", ")", ";", "searchTextTask", ".", "execute", "(", "editable", ")", ";", "}", "}", "</s>"]
["<s>", "void", "revealSearchView", "(", ")", "{", "int", "startRadius", "=", "<NUM_LIT:4>", ";", "int", "endRadius", "=", "Math", ".", "max", "(", "searchViewLayout", ".", "getWidth", "(", ")", ",", "searchViewLayout", ".", "getHeight", "(", ")", ")", ";", "DisplayMetrics", "metrics", "=", "new", "DisplayMetrics", "(", ")", ";", "getWindowManager", "(", ")", ".", "getDefaultDisplay", "(", ")", ".", "getMetrics", "(", "metrics", ")", ";", "int", "cx", "=", "metrics", ".", "widthPixels", "-", "<NUM_LIT>", ";", "int", "cy", "=", "toolbar", ".", "getBottom", "(", ")", ";", "Animator", "animator", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "animator", "=", "ViewAnimationUtils", ".", "createCircularReveal", "(", "searchViewLayout", ",", "cx", ",", "cy", ",", "startRadius", ",", "endRadius", ")", ";", "else", "animator", "=", "ObjectAnimator", ".", "ofFloat", "(", "searchViewLayout", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ")", ";", "animator", ".", "setInterpolator", "(", "new", "AccelerateDecelerateInterpolator", "(", ")", ")", ";", "animator", ".", "setDuration", "(", "<NUM_LIT>", ")", ";", "searchViewLayout", ".", "setVisibility", "(", "View", ".", "VISIBLE", ")", ";", "searchEditText", ".", "setText", "(", "\"", "\"", ")", ";", "animator", ".", "start", "(", ")", ";", "animator", ".", "addListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "searchEditText", ".", "requestFocus", "(", ")", ";", "InputMethodManager", "imm", "=", "(", "InputMethodManager", ")", "getSystemService", "(", "Context", ".", "INPUT_METHOD_SERVICE", ")", ";", "imm", ".", "showSoftInput", "(", "searchEditText", ",", "InputMethodManager", ".", "SHOW_IMPLICIT", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "searchEditText", ".", "requestFocus", "(", ")", ";", "InputMethodManager", "imm", "=", "(", "InputMethodManager", ")", "getSystemService", "(", "Context", ".", "INPUT_METHOD_SERVICE", ")", ";", "imm", ".", "showSoftInput", "(", "searchEditText", ",", "InputMethodManager", ".", "SHOW_IMPLICIT", ")", ";", "}", "</s>"]
["<s>", "void", "hideSearchView", "(", ")", "{", "int", "endRadius", "=", "<NUM_LIT:4>", ";", "int", "startRadius", "=", "Math", ".", "max", "(", "searchViewLayout", ".", "getWidth", "(", ")", ",", "searchViewLayout", ".", "getHeight", "(", ")", ")", ";", "DisplayMetrics", "metrics", "=", "new", "DisplayMetrics", "(", ")", ";", "getWindowManager", "(", ")", ".", "getDefaultDisplay", "(", ")", ".", "getMetrics", "(", "metrics", ")", ";", "int", "cx", "=", "metrics", ".", "widthPixels", "-", "<NUM_LIT>", ";", "int", "cy", "=", "toolbar", ".", "getBottom", "(", ")", ";", "Animator", "animator", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "Build", ".", "VERSION_CODES", ".", "LOLLIPOP", ")", "{", "animator", "=", "ViewAnimationUtils", ".", "createCircularReveal", "(", "searchViewLayout", ",", "cx", ",", "cy", ",", "startRadius", ",", "endRadius", ")", ";", "}", "else", "{", "animator", "=", "ObjectAnimator", ".", "ofFloat", "(", "searchViewLayout", ",", "\"", "<STR_LIT>", "\"", ",", "<NUM_LIT>", ",", "<NUM_LIT>", ")", ";", "}", "animator", ".", "setInterpolator", "(", "new", "AccelerateDecelerateInterpolator", "(", ")", ")", ";", "animator", ".", "setDuration", "(", "<NUM_LIT>", ")", ";", "animator", ".", "start", "(", ")", ";", "animator", ".", "addListener", "(", "new", "AnimatorListenerAdapter", "(", ")", "{", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "searchViewLayout", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "InputMethodManager", "inputMethodManager", "=", "(", "InputMethodManager", ")", "getSystemService", "(", "INPUT_METHOD_SERVICE", ")", ";", "inputMethodManager", ".", "hideSoftInputFromWindow", "(", "searchEditText", ".", "getWindowToken", "(", ")", ",", "InputMethodManager", ".", "HIDE_IMPLICIT_ONLY", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onAnimationEnd", "(", "Animator", "animation", ")", "{", "searchViewLayout", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "InputMethodManager", "inputMethodManager", "=", "(", "InputMethodManager", ")", "getSystemService", "(", "INPUT_METHOD_SERVICE", ")", ";", "inputMethodManager", ".", "hideSoftInputFromWindow", "(", "searchEditText", ".", "getWindowToken", "(", ")", ",", "InputMethodManager", ".", "HIDE_IMPLICIT_ONLY", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "switch", "(", "v", ".", "getId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "prev", ":", "if", "(", "mCurrent", ">", "0", ")", "{", "Map", ".", "Entry", "keyValueOld", "=", "nodes", ".", "get", "(", "mCurrent", ")", ".", "getKey", "(", ")", ";", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "mInput", ".", "getText", "(", ")", ".", "setSpan", "(", "new", "BackgroundColorSpan", "(", "Color", ".", "YELLOW", ")", ",", "(", "Integer", ")", "keyValueOld", ".", "getKey", "(", ")", ",", "(", "Integer", ")", "keyValueOld", ".", "getValue", "(", ")", ",", "Spanned", ".", "SPAN_INCLUSIVE_INCLUSIVE", ")", ";", "}", "else", "{", "mInput", ".", "getText", "(", ")", ".", "setSpan", "(", "new", "BackgroundColorSpan", "(", "Color", ".", "LTGRAY", ")", ",", "(", "Integer", ")", "keyValueOld", ".", "getKey", "(", ")", ",", "(", "Integer", ")", "keyValueOld", ".", "getValue", "(", ")", ",", "Spanned", ".", "SPAN_INCLUSIVE_INCLUSIVE", ")", ";", "}", "Map", ".", "Entry", "keyValueNew", "=", "nodes", ".", "get", "(", "-", "-", "mCurrent", ")", ".", "getKey", "(", ")", ";", "mInput", ".", "getText", "(", ")", ".", "setSpan", "(", "new", "BackgroundColorSpan", "(", "Utils", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "search_text_highlight", ")", ")", ",", "(", "Integer", ")", "keyValueNew", ".", "getKey", "(", ")", ",", "(", "Integer", ")", "keyValueNew", ".", "getValue", "(", ")", ",", "Spanned", ".", "SPAN_INCLUSIVE_INCLUSIVE", ")", ";", "scrollView", ".", "scrollTo", "(", "0", ",", "(", "Integer", ")", "keyValueNew", ".", "getValue", "(", ")", "+", "mInput", ".", "getLineHeight", "(", ")", "+", "Math", ".", "round", "(", "mInput", ".", "getLineSpacingExtra", "(", ")", ")", "-", "getSupportActionBar", "(", ")", ".", "getHeight", "(", ")", ")", ";", "}", "break", ";", "case", "R", ".", "id", ".", "next", ":", "if", "(", "mCurrent", "<", "nodes", ".", "size", "(", ")", "-", "1", ")", "{", "if", "(", "mCurrent", "!", "=", "-", "1", ")", "{", "Map", ".", "Entry", "keyValueOld", "=", "nodes", ".", "get", "(", "mCurrent", ")", ".", "getKey", "(", ")", ";", "if", "(", "getAppTheme", "(", ")", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "mInput", ".", "getText", "(", ")", ".", "setSpan", "(", "new", "BackgroundColorSpan", "(", "Color", ".", "YELLOW", ")", ",", "(", "Integer", ")", "keyValueOld", ".", "getKey", "(", ")", ",", "(", "Integer", ")", "keyValueOld", ".", "getValue", "(", ")", ",", "Spanned", ".", "SPAN_INCLUSIVE_INCLUSIVE", ")", ";", "}", "else", "{", "mInput", ".", "getText", "(", ")", ".", "setSpan", "(", "new", "BackgroundColorSpan", "(", "Color", ".", "LTGRAY", ")", ",", "(", "Integer", ")", "keyValueOld", ".", "getKey", "(", ")", ",", "(", "Integer", ")", "keyValueOld", ".", "getValue", "(", ")", ",", "Spanned", ".", "SPAN_INCLUSIVE_INCLUSIVE", ")", ";", "}", "}", "Map", ".", "Entry", "keyValueNew", "=", "nodes", ".", "get", "(", "+", "+", "mCurrent", ")", ".", "getKey", "(", ")", ";", "mInput", ".", "getText", "(", ")", ".", "setSpan", "(", "new", "BackgroundColorSpan", "(", "Utils", ".", "getColor", "(", "this", ",", "R", ".", "color", ".", "search_text_highlight", ")", ")", ",", "(", "Integer", ")", "keyValueNew", ".", "getKey", "(", ")", ",", "(", "Integer", ")", "keyValueNew", ".", "getValue", "(", ")", ",", "Spanned", ".", "SPAN_INCLUSIVE_INCLUSIVE", ")", ";", "scrollView", ".", "scrollTo", "(", "0", ",", "(", "Integer", ")", "keyValueNew", ".", "getValue", "(", ")", "+", "mInput", ".", "getLineHeight", "(", ")", "+", "Math", ".", "round", "(", "mInput", ".", "getLineSpacingExtra", "(", ")", ")", "-", "getSupportActionBar", "(", ")", ".", "getHeight", "(", ")", ")", ";", "}", "break", ";", "case", "R", ".", "id", ".", "close", ":", "findViewById", "(", "R", ".", "id", ".", "searchview", ")", ".", "setVisibility", "(", "View", ".", "GONE", ")", ";", "cleanSpans", "(", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "private", "void", "cleanSpans", "(", ")", "{", "nodes", ".", "clear", "(", ")", ";", "mCurrent", "=", "-", "1", ";", "mLine", "=", "0", ";", "BackgroundColorSpan", "[", "]", "colorSpans", "=", "mInput", ".", "getText", "(", ")", ".", "getSpans", "(", "0", ",", "mInput", ".", "length", "(", ")", ",", "BackgroundColorSpan", ".", "class", ")", ";", "for", "(", "BackgroundColorSpan", "colorSpan", ":", "colorSpans", ")", "{", "mInput", ".", "getText", "(", ")", ".", "removeSpan", "(", "colorSpan", ")", ";", "}", "}", "</s>"]
["<s>", "protected", "AppConfig", "getAppConfig", "(", ")", "{", "return", "(", "AppConfig", ")", "getApplication", "(", ")", ";", "}", "</s>"]
["<s>", "public", "ColorPreferenceHelper", "getColorPreference", "(", ")", "{", "return", "getAppConfig", "(", ")", ".", "getUtilsProvider", "(", ")", ".", "getColorPreference", "(", ")", ";", "}", "</s>"]
["<s>", "public", "AppTheme", "getAppTheme", "(", ")", "{", "return", "getAppConfig", "(", ")", ".", "getUtilsProvider", "(", ")", ".", "getAppTheme", "(", ")", ";", "}", "</s>"]
["<s>", "public", "UtilitiesProvider", "getUtilsProvider", "(", ")", "{", "return", "getAppConfig", "(", ")", ".", "getUtilsProvider", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onRequestPermissionsResult", "(", "int", "requestCode", ",", "@", "NonNull", "String", "[", "]", "permissions", ",", "@", "NonNull", "int", "[", "]", "grantResults", ")", "{", "if", "(", "requestCode", "=", "=", "STORAGE_PERMISSION", ")", "{", "if", "(", "isGranted", "(", "grantResults", ")", ")", "{", "permissionCallbacks", "[", "STORAGE_PERMISSION", "]", ".", "onPermissionGranted", "(", ")", ";", "}", "else", "{", "Toast", ".", "makeText", "(", "this", ",", "R", ".", "string", ".", "grantfailed", ",", "Toast", ".", "LENGTH_SHORT", ")", ".", "show", "(", ")", ";", "requestStoragePermission", "(", "permissionCallbacks", "[", "STORAGE_PERMISSION", "]", ")", ";", "}", "permissionCallbacks", "[", "STORAGE_PERMISSION", "]", "=", "null", ";", "}", "else", "if", "(", "requestCode", "=", "=", "INSTALL_APK_PERMISSION", ")", "{", "if", "(", "isGranted", "(", "grantResults", ")", ")", "{", "permissionCallbacks", "[", "INSTALL_APK_PERMISSION", "]", ".", "onPermissionGranted", "(", ")", ";", "}", "permissionCallbacks", "[", "INSTALL_APK_PERMISSION", "]", "=", "null", ";", "}", "}", "</s>"]
["<s>", "public", "boolean", "checkStoragePermission", "(", ")", "{", "return", "ActivityCompat", ".", "checkSelfPermission", "(", "this", ",", "Manifest", ".", "permission", ".", "WRITE_EXTERNAL_STORAGE", ")", "=", "=", "PackageManager", ".", "PERMISSION_GRANTED", ";", "}", "</s>"]
["<s>", "public", "void", "requestStoragePermission", "(", "@", "NonNull", "final", "OnPermissionGranted", "onPermissionGranted", ")", "{", "final", "MaterialDialog", "materialDialog", "=", "GeneralDialogCreation", ".", "showBasicDialog", "(", "this", ",", "R", ".", "string", ".", "grant_storage_permission", ",", "R", ".", "string", ".", "grantper", ",", "R", ".", "string", ".", "grant", ",", "R", ".", "string", ".", "cancel", ")", ";", "materialDialog", ".", "getActionButton", "(", "DialogAction", ".", "NEGATIVE", ")", ".", "setOnClickListener", "(", "v", "-", ">", "finish", "(", ")", ")", ";", "materialDialog", ".", "setCancelable", "(", "false", ")", ";", "requestPermission", "(", "Manifest", ".", "permission", ".", "WRITE_EXTERNAL_STORAGE", ",", "STORAGE_PERMISSION", ",", "materialDialog", ",", "onPermissionGranted", ")", ";", "}", "</s>"]
["<s>", "@", "RequiresApi", "(", "api", "=", "Build", ".", "VERSION_CODES", ".", "M", ")", "public", "void", "requestInstallApkPermission", "(", "@", "NonNull", "final", "OnPermissionGranted", "onPermissionGranted", ")", "{", "final", "MaterialDialog", "materialDialog", "=", "GeneralDialogCreation", ".", "showBasicDialog", "(", "this", ",", "R", ".", "string", ".", "grant_apkinstall_permission", ",", "R", ".", "string", ".", "grantper", ",", "R", ".", "string", ".", "grant", ",", "R", ".", "string", ".", "cancel", ")", ";", "materialDialog", ".", "getActionButton", "(", "DialogAction", ".", "NEGATIVE", ")", ".", "setOnClickListener", "(", "v", "-", ">", "materialDialog", ".", "dismiss", "(", ")", ")", ";", "materialDialog", ".", "setCancelable", "(", "false", ")", ";", "requestPermission", "(", "Manifest", ".", "permission", ".", "REQUEST_INSTALL_PACKAGES", ",", "INSTALL_APK_PERMISSION", ",", "materialDialog", ",", "onPermissionGranted", ")", ";", "}", "</s>"]
["<s>", "public", "void", "requestPermission", "(", "final", "String", "permission", ",", "final", "int", "code", ",", "@", "NonNull", "final", "MaterialDialog", "rationale", ",", "@", "NonNull", "final", "OnPermissionGranted", "onPermissionGranted", ")", "{", "permissionCallbacks", "[", "code", "]", "=", "onPermissionGranted", ";", "if", "(", "ActivityCompat", ".", "shouldShowRequestPermissionRationale", "(", "this", ",", "permission", ")", ")", "{", "rationale", ".", "getActionButton", "(", "DialogAction", ".", "POSITIVE", ")", ".", "setOnClickListener", "(", "v", "-", ">", "{", "ActivityCompat", ".", "requestPermissions", "(", "PermissionsActivity", ".", "this", ",", "new", "String", "[", "]", "{", "permission", "}", ",", "<NUM_LIT>", ")", ";", "rationale", ".", "dismiss", "(", ")", ";", "}", ")", ";", "rationale", ".", "show", "(", ")", ";", "}", "else", "{", "ActivityCompat", ".", "requestPermissions", "(", "this", ",", "new", "String", "[", "]", "{", "permission", "}", ",", "code", ")", ";", "}", "}", "</s>"]
["<s>", "private", "boolean", "isGranted", "(", "int", "[", "]", "grantResults", ")", "{", "return", "grantResults", ".", "length", "=", "=", "1", "&", "&", "grantResults", "[", "0", "]", "=", "=", "PackageManager", ".", "PERMISSION_GRANTED", ";", "}", "</s>"]
["<s>", "void", "onPermissionGranted", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "final", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "sharedPrefs", "=", "PreferenceManager", ".", "getDefaultSharedPreferences", "(", "this", ")", ";", "}", "</s>"]
["<s>", "public", "SharedPreferences", "getPrefs", "(", ")", "{", "return", "sharedPrefs", ";", "}", "</s>"]
["<s>", "public", "boolean", "isRootExplorer", "(", ")", "{", "return", "getBoolean", "(", "PREFERENCE_ROOTMODE", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "getBoolean", "(", "String", "key", ")", "{", "boolean", "defaultValue", ";", "switch", "(", "key", ")", "{", "case", "PREFERENCE_SHOW_PERMISSIONS", ":", "case", "PREFERENCE_SHOW_GOBACK_BUTTON", ":", "case", "PREFERENCE_SHOW_HIDDENFILES", ":", "case", "PREFERENCE_BOOKMARKS_ADDED", ":", "case", "PREFERENCE_ROOTMODE", ":", "case", "PREFERENCE_COLORED_NAVIGATION", ":", "case", "PREFERENCE_TEXTEDITOR_NEWSTACK", ":", "case", "PREFERENCE_CHANGEPATHS", ":", "defaultValue", "=", "false", ";", "break", ";", "case", "PREFERENCE_SHOW_FILE_SIZE", ":", "case", "PREFERENCE_SHOW_DIVIDERS", ":", "case", "PREFERENCE_SHOW_HEADERS", ":", "case", "PREFERENCE_USE_CIRCULAR_IMAGES", ":", "case", "PREFERENCE_SHOW_LAST_MODIFIED", ":", "case", "PREFERENCE_COLORIZE_ICONS", ":", "case", "PREFERENCE_SHOW_THUMB", ":", "case", "PREFERENCE_SHOW_SIDEBAR_QUICKACCESSES", ":", "case", "PREFERENCE_NEED_TO_SET_HOME", ":", "case", "PREFERENCE_SHOW_SIDEBAR_FOLDERS", ":", "case", "PREFERENCE_VIEW", ":", "defaultValue", "=", "true", ";", "break", ";", "default", ":", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "<STR_LIT>", "'", "\"", "+", "key", "+", "\"", "<STR_LIT>", "'", "\"", ")", ";", "}", "return", "sharedPrefs", ".", "getBoolean", "(", "key", ",", "defaultValue", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "int", "colorPickerPref", "=", "getPrefs", "(", ")", ".", "getInt", "(", "PreferencesConstants", ".", "PREFERENCE_COLOR_CONFIG", ",", "ColorPickerDialog", ".", "NO_DATA", ")", ";", "if", "(", "colorPickerPref", "=", "=", "ColorPickerDialog", ".", "RANDOM_INDEX", ")", "{", "getColorPreference", "(", ")", ".", "saveColorPreferences", "(", "getPrefs", "(", ")", ",", "ColorPreferenceHelper", ".", "randomize", "(", "this", ")", ")", ";", "}", "setTheme", "(", ")", ";", "}", "</s>"]
["<s>", "public", "UserColorPreferences", "getCurrentColorPreference", "(", ")", "{", "return", "getColorPreference", "(", ")", ".", "getCurrentUserColorPreferences", "(", "this", ",", "getPrefs", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "@", "ColorInt", "int", "getAccent", "(", ")", "{", "return", "getColorPreference", "(", ")", ".", "getCurrentUserColorPreferences", "(", "this", ",", "getPrefs", "(", ")", ")", ".", "accent", ";", "}", "</s>"]
["<s>", "void", "setTheme", "(", ")", "{", "AppTheme", "theme", "=", "getAppTheme", "(", ")", ".", "getSimpleTheme", "(", ")", ";", "if", "(", "Build", ".", "VERSION", ".", "SDK_INT", ">", "=", "<NUM_LIT>", ")", "{", "String", "stringRepresentation", "=", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "(", "<NUM_LIT>", "&", "getAccent", "(", ")", ")", ")", ";", "switch", "(", "stringRepresentation", ".", "toUpperCase", "(", ")", ")", "{", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_red", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_red", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_red", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_pink", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_pink", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_pink", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_purple", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_purple", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_purple", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_deep_purple", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_deep_purple", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_deep_purple", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_indigo", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_indigo", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_indigo", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_blue", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_blue", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_blue", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_light_blue", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_light_blue", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_light_blue", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_cyan", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_cyan", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_cyan", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_teal", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_teal", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_teal", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_green", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_green", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_green", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_light_green", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_light_green", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_light_green", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_amber", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_amber", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_amber", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_orange", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_orange", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_orange", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_deep_orange", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_deep_orange", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_deep_orange", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_brown", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_brown", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_brown", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_black", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_black", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_black", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_blue_grey", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_blue_grey", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_blue_grey", ")", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_light_super_su", ")", ";", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "setTheme", "(", "R", ".", "style", ".", "pref_accent_black_super_su", ")", ";", "else", "setTheme", "(", "R", ".", "style", ".", "pref_accent_dark_super_su", ")", ";", "break", ";", "}", "}", "else", "{", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "LIGHT", ")", ")", "{", "setTheme", "(", "R", ".", "style", ".", "appCompatLight", ")", ";", "}", "else", "if", "(", "theme", ".", "equals", "(", "AppTheme", ".", "BLACK", ")", ")", "{", "setTheme", "(", "R", ".", "style", ".", "appCompatBlack", ")", ";", "}", "else", "{", "setTheme", "(", "R", ".", "style", ".", "appCompatDark", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onResume", "(", ")", "{", "super", ".", "onResume", "(", ")", ";", "setTheme", "(", ")", ";", "}", "</s>"]
