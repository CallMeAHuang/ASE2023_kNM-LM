["<s>", "CreatePeople", "(", "SingleEntityStore", "<", "Persistable", ">", "data", ")", "{", "this", ".", "data", "=", "data", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Observable", "<", "Iterable", "<", "Person", ">", ">", "call", "(", ")", "{", "String", "[", "]", "firstNames", "=", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ";", "String", "[", "]", "lastNames", "=", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ";", "Random", "random", "=", "new", "Random", "(", ")", ";", "final", "Set", "<", "Person", ">", "people", "=", "new", "TreeSet", "<", ">", "(", "new", "Comparator", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "int", "compare", "(", "Person", "lhs", ",", "Person", "rhs", ")", "{", "return", "lhs", ".", "getName", "(", ")", ".", "compareTo", "(", "rhs", ".", "getName", "(", ")", ")", ";", "}", "}", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT>", ";", "i", "+", "+", ")", "{", "PersonEntity", "person", "=", "new", "PersonEntity", "(", ")", ";", "String", "first", "=", "firstNames", "[", "random", ".", "nextInt", "(", "firstNames", ".", "length", ")", "]", ";", "String", "last", "=", "lastNames", "[", "random", ".", "nextInt", "(", "lastNames", ".", "length", ")", "]", ";", "person", ".", "setName", "(", "first", "+", "\"", "\"", "+", "last", ")", ";", "person", ".", "setUUID", "(", "UUID", ".", "randomUUID", "(", ")", ")", ";", "person", ".", "setEmail", "(", "Character", ".", "toLowerCase", "(", "first", ".", "charAt", "(", "0", ")", ")", "+", "last", ".", "toLowerCase", "(", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "AddressEntity", "address", "=", "new", "AddressEntity", "(", ")", ";", "address", ".", "setLine1", "(", "\"", "<STR_LIT>", "\"", ")", ";", "address", ".", "setZip", "(", "\"", "<STR_LIT>", "\"", ")", ";", "address", ".", "setCity", "(", "\"", "<STR_LIT>", "\"", ")", ";", "address", ".", "setState", "(", "\"", "<STR_LIT>", "\"", ")", ";", "address", ".", "setCountry", "(", "\"", "<STR_LIT>", "\"", ")", ";", "person", ".", "setAddress", "(", "address", ")", ";", "people", ".", "add", "(", "person", ")", ";", "}", "return", "data", ".", "insert", "(", "people", ")", ".", "toObservable", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "compare", "(", "Person", "lhs", ",", "Person", "rhs", ")", "{", "return", "lhs", ".", "getName", "(", ")", ".", "compareTo", "(", "rhs", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "BindingHolder", "(", "B", "binding", ")", "{", "super", "(", "binding", ".", "getRoot", "(", ")", ")", ";", "this", ".", "binding", "=", "binding", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", ")", "{", "super", ".", "onCreate", "(", ")", ";", "StrictMode", ".", "enableDefaults", "(", ")", ";", "}", "</s>"]
["<s>", "SingleEntityStore", "<", "Persistable", ">", "getData", "(", ")", "{", "if", "(", "dataStore", "=", "=", "null", ")", "{", "DatabaseSource", "source", "=", "new", "DatabaseSource", "(", "this", ",", "Models", ".", "DEFAULT", ",", "1", ")", ";", "if", "(", "BuildConfig", ".", "DEBUG", ")", "{", "source", ".", "setTableCreationMode", "(", "TableCreationMode", ".", "DROP_CREATE", ")", ";", "}", "Configuration", "configuration", "=", "source", ".", "getConfiguration", "(", ")", ";", "dataStore", "=", "RxSupport", ".", "toReactiveStore", "(", "new", "EntityDataStore", "<", "Persistable", ">", "(", "configuration", ")", ")", ";", "}", "return", "dataStore", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "binding", "=", "DataBindingUtil", ".", "setContentView", "(", "this", ",", "R", ".", "layout", ".", "activity_edit_person", ")", ";", "if", "(", "getSupportActionBar", "(", ")", "!", "=", "null", ")", "{", "getSupportActionBar", "(", ")", ".", "setTitle", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "data", "=", "(", "(", "PeopleApplication", ")", "getApplication", "(", ")", ")", ".", "getData", "(", ")", ";", "int", "personId", "=", "getIntent", "(", ")", ".", "getIntExtra", "(", "EXTRA_PERSON_ID", ",", "-", "1", ")", ";", "if", "(", "personId", "=", "=", "-", "1", ")", "{", "person", "=", "new", "PersonEntity", "(", ")", ";", "binding", ".", "setPerson", "(", "person", ")", ";", "}", "else", "{", "data", ".", "findByKey", "(", "PersonEntity", ".", "class", ",", "personId", ")", ".", "subscribeOn", "(", "AndroidSchedulers", ".", "mainThread", "(", ")", ")", ".", "subscribe", "(", "new", "Action1", "<", "PersonEntity", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "PersonEntity", "person", ")", "{", "PersonEditActivity", ".", "this", ".", "person", "=", "person", ";", "binding", ".", "setPerson", "(", "person", ")", ";", "}", "}", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "PersonEntity", "person", ")", "{", "PersonEditActivity", ".", "this", ".", "person", "=", "person", ";", "binding", ".", "setPerson", "(", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onCreateOptionsMenu", "(", "Menu", "menu", ")", "{", "getMenuInflater", "(", ")", ".", "inflate", "(", "R", ".", "menu", ".", "menu_edit", ",", "menu", ")", ";", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onOptionsItemSelected", "(", "MenuItem", "item", ")", "{", "switch", "(", "item", ".", "getItemId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "action_save", ":", "savePerson", "(", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "private", "void", "savePerson", "(", ")", "{", "person", ".", "setName", "(", "binding", ".", "name", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "person", ".", "setEmail", "(", "binding", ".", "email", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "Phone", "phone", ";", "if", "(", "person", ".", "getPhoneNumberList", "(", ")", ".", "isEmpty", "(", ")", ")", "{", "phone", "=", "new", "PhoneEntity", "(", ")", ";", "phone", ".", "setOwner", "(", "person", ")", ";", "person", ".", "getPhoneNumberList", "(", ")", ".", "add", "(", "phone", ")", ";", "}", "else", "{", "phone", "=", "person", ".", "getPhoneNumberList", "(", ")", ".", "get", "(", "0", ")", ";", "}", "phone", ".", "setPhoneNumber", "(", "binding", ".", "phone", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "Address", "address", "=", "person", ".", "getAddress", "(", ")", ";", "if", "(", "address", "=", "=", "null", ")", "{", "address", "=", "new", "AddressEntity", "(", ")", ";", "person", ".", "setAddress", "(", "address", ")", ";", "}", "address", ".", "setLine1", "(", "binding", ".", "street", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "address", ".", "setLine2", "(", "binding", ".", "city", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "address", ".", "setZip", "(", "binding", ".", "zip", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "address", ".", "setState", "(", "binding", ".", "state", ".", "getText", "(", ")", ".", "toString", "(", ")", ")", ";", "if", "(", "person", ".", "getId", "(", ")", "=", "=", "0", ")", "{", "data", ".", "insert", "(", "person", ")", ".", "subscribe", "(", "new", "Action1", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Person", "person", ")", "{", "finish", "(", ")", ";", "}", "}", ")", ";", "}", "else", "{", "data", ".", "update", "(", "person", ")", ".", "subscribe", "(", "new", "Action1", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Person", "person", ")", "{", "finish", "(", ")", ";", "}", "}", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Person", "person", ")", "{", "finish", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Person", "person", ")", "{", "finish", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onCreate", "(", "Bundle", "savedInstanceState", ")", "{", "super", ".", "onCreate", "(", "savedInstanceState", ")", ";", "if", "(", "getSupportActionBar", "(", ")", "!", "=", "null", ")", "{", "getSupportActionBar", "(", ")", ".", "setTitle", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "setContentView", "(", "R", ".", "layout", ".", "activity_people", ")", ";", "RecyclerView", "recyclerView", "=", "(", "RecyclerView", ")", "findViewById", "(", "R", ".", "id", ".", "recyclerView", ")", ";", "data", "=", "(", "(", "PeopleApplication", ")", "getApplication", "(", ")", ")", ".", "getData", "(", ")", ";", "executor", "=", "Executors", ".", "newSingleThreadExecutor", "(", ")", ";", "adapter", "=", "new", "PersonAdapter", "(", ")", ";", "adapter", ".", "setExecutor", "(", "executor", ")", ";", "recyclerView", ".", "setAdapter", "(", "adapter", ")", ";", "recyclerView", ".", "setLayoutManager", "(", "new", "LinearLayoutManager", "(", "this", ")", ")", ";", "data", ".", "count", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "toSingle", "(", ")", ".", "subscribe", "(", "new", "Action1", "<", "Integer", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Integer", "integer", ")", "{", "if", "(", "integer", "=", "=", "0", ")", "{", "Observable", ".", "fromCallable", "(", "new", "CreatePeople", "(", "data", ")", ")", ".", "flatMap", "(", "new", "Func1", "<", "Observable", "<", "Iterable", "<", "Person", ">", ">", ",", "Observable", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "Observable", "<", "?", ">", "call", "(", "Observable", "<", "Iterable", "<", "Person", ">", ">", "o", ")", "{", "return", "o", ";", "}", "}", ")", ".", "observeOn", "(", "Schedulers", ".", "computation", "(", ")", ")", ".", "subscribe", "(", "new", "Action1", "<", "Object", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Object", "o", ")", "{", "adapter", ".", "queryAsync", "(", ")", ";", "}", "}", ")", ";", "}", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Integer", "integer", ")", "{", "if", "(", "integer", "=", "=", "0", ")", "{", "Observable", ".", "fromCallable", "(", "new", "CreatePeople", "(", "data", ")", ")", ".", "flatMap", "(", "new", "Func1", "<", "Observable", "<", "Iterable", "<", "Person", ">", ">", ",", "Observable", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "Observable", "<", "?", ">", "call", "(", "Observable", "<", "Iterable", "<", "Person", ">", ">", "o", ")", "{", "return", "o", ";", "}", "}", ")", ".", "observeOn", "(", "Schedulers", ".", "computation", "(", ")", ")", ".", "subscribe", "(", "new", "Action1", "<", "Object", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Object", "o", ")", "{", "adapter", ".", "queryAsync", "(", ")", ";", "}", "}", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Observable", "<", "?", ">", "call", "(", "Observable", "<", "Iterable", "<", "Person", ">", ">", "o", ")", "{", "return", "o", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Object", "o", ")", "{", "adapter", ".", "queryAsync", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onCreateOptionsMenu", "(", "Menu", "menu", ")", "{", "getMenuInflater", "(", ")", ".", "inflate", "(", "R", ".", "menu", ".", "menu_main", ",", "menu", ")", ";", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "onOptionsItemSelected", "(", "MenuItem", "item", ")", "{", "switch", "(", "item", ".", "getItemId", "(", ")", ")", "{", "case", "R", ".", "id", ".", "action_plus", ":", "Intent", "intent", "=", "new", "Intent", "(", "this", ",", "PersonEditActivity", ".", "class", ")", ";", "startActivity", "(", "intent", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onResume", "(", ")", "{", "adapter", ".", "queryAsync", "(", ")", ";", "super", ".", "onResume", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onDestroy", "(", ")", "{", "executor", ".", "shutdown", "(", ")", ";", "adapter", ".", "close", "(", ")", ";", "super", ".", "onDestroy", "(", ")", ";", "}", "</s>"]
["<s>", "PersonAdapter", "(", ")", "{", "super", "(", "PersonEntity", ".", "$", "TYPE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Result", "<", "PersonEntity", ">", "performQuery", "(", ")", "{", "return", "data", ".", "select", "(", "PersonEntity", ".", "class", ")", ".", "orderBy", "(", "PersonEntity", ".", "NAME", ".", "lower", "(", ")", ")", ".", "get", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "PersonEntity", "item", ",", "BindingHolder", "<", "PersonItemBinding", ">", "holder", ",", "int", "position", ")", "{", "holder", ".", "binding", ".", "setPerson", "(", "item", ")", ";", "holder", ".", "binding", ".", "picture", ".", "setBackgroundColor", "(", "colors", "[", "random", ".", "nextInt", "(", "colors", ".", "length", ")", "]", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BindingHolder", "<", "PersonItemBinding", ">", "onCreateViewHolder", "(", "ViewGroup", "parent", ",", "int", "viewType", ")", "{", "LayoutInflater", "inflater", "=", "LayoutInflater", ".", "from", "(", "parent", ".", "getContext", "(", ")", ")", ";", "PersonItemBinding", "binding", "=", "PersonItemBinding", ".", "inflate", "(", "inflater", ")", ";", "binding", ".", "getRoot", "(", ")", ".", "setTag", "(", "binding", ")", ";", "binding", ".", "getRoot", "(", ")", ".", "setOnClickListener", "(", "this", ")", ";", "return", "new", "BindingHolder", "<", ">", "(", "binding", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onClick", "(", "View", "v", ")", "{", "PersonItemBinding", "binding", "=", "(", "PersonItemBinding", ")", "v", ".", "getTag", "(", ")", ";", "if", "(", "binding", "!", "=", "null", ")", "{", "Intent", "intent", "=", "new", "Intent", "(", "PeopleActivity", ".", "this", ",", "PersonEditActivity", ".", "class", ")", ";", "intent", ".", "putExtra", "(", "PersonEditActivity", ".", "EXTRA_PERSON_ID", ",", "binding", ".", "getPerson", "(", ")", ".", "getId", "(", ")", ")", ";", "startActivity", "(", "intent", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Key", "@", "Generated", "int", "getId", "(", ")", ";", "</s>"]
["<s>", "@", "Bindable", "String", "getPhoneNumber", "(", ")", ";", "</s>"]
["<s>", "void", "setPhoneNumber", "(", "String", "phoneNumber", ")", ";", "</s>"]
["<s>", "@", "Bindable", "@", "ManyToOne", "Person", "getOwner", "(", ")", ";", "</s>"]
["<s>", "void", "setOwner", "(", "Person", "person", ")", ";", "</s>"]
["<s>", "@", "Key", "@", "Generated", "int", "getId", "(", ")", ";", "</s>"]
["<s>", "@", "Bindable", "String", "getLine1", "(", ")", ";", "</s>"]
["<s>", "void", "setLine1", "(", "String", "line1", ")", ";", "</s>"]
["<s>", "@", "Bindable", "String", "getLine2", "(", ")", ";", "</s>"]
["<s>", "void", "setLine2", "(", "String", "line2", ")", ";", "</s>"]
["<s>", "@", "Bindable", "String", "getZip", "(", ")", ";", "</s>"]
["<s>", "void", "setZip", "(", "String", "zip", ")", ";", "</s>"]
["<s>", "@", "Bindable", "String", "getCountry", "(", ")", ";", "</s>"]
["<s>", "void", "setCountry", "(", "String", "country", ")", ";", "</s>"]
["<s>", "@", "Bindable", "String", "getCity", "(", ")", ";", "</s>"]
["<s>", "void", "setCity", "(", "String", "city", ")", ";", "</s>"]
["<s>", "@", "Bindable", "String", "getState", "(", ")", ";", "</s>"]
["<s>", "void", "setState", "(", "String", "state", ")", ";", "</s>"]
["<s>", "@", "Bindable", "@", "OneToOne", "(", "mappedBy", "=", "\"", "<STR_LIT>", "\"", ")", "Person", "getPerson", "(", ")", ";", "</s>"]
["<s>", "@", "Key", "@", "Generated", "int", "getId", "(", ")", ";", "</s>"]
["<s>", "@", "Bindable", "String", "getName", "(", ")", ";", "</s>"]
["<s>", "@", "Bindable", "@", "Index", "(", "value", "=", "\"", "<STR_LIT>", "\"", ")", "String", "getEmail", "(", ")", ";", "</s>"]
["<s>", "@", "Bindable", "Date", "getBirthday", "(", ")", ";", "</s>"]
["<s>", "@", "Bindable", "int", "getAge", "(", ")", ";", "</s>"]
["<s>", "@", "Bindable", "@", "ForeignKey", "@", "OneToOne", "Address", "getAddress", "(", ")", ";", "</s>"]
["<s>", "@", "OneToMany", "(", "mappedBy", "=", "\"", "<STR_LIT>", "\"", ",", "cascade", "=", "{", "CascadeAction", ".", "DELETE", ",", "CascadeAction", ".", "SAVE", "}", ")", "MutableResult", "<", "Phone", ">", "getPhoneNumbers", "(", ")", ";", "</s>"]
["<s>", "@", "Bindable", "@", "Column", "(", "unique", "=", "true", ")", "UUID", "getUUID", "(", ")", ";", "</s>"]
["<s>", "@", "OneToMany", "(", "mappedBy", "=", "\"", "<STR_LIT>", "\"", ",", "cascade", "=", "{", "CascadeAction", ".", "DELETE", ",", "CascadeAction", ".", "SAVE", "}", ")", "List", "<", "Phone", ">", "getPhoneNumberList", "(", ")", ";", "</s>"]
["<s>", "@", "Parameterized", ".", "Parameters", "(", "name", "=", "\"", "<STR_LIT>", "\"", ")", "public", "static", "Collection", "<", "Type", ">", "data", "(", ")", "{", "return", "Arrays", ".", "asList", "(", "Type", ".", "values", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "SqliteFunctionalTest", "(", "Type", "type", ")", "{", "EntityModel", "model", "=", "Models", ".", "DEFAULT", ";", "Context", "context", "=", "InstrumentationRegistry", ".", "getContext", "(", ")", ";", "dbName", "=", "type", ".", "toString", "(", ")", ".", "toLowerCase", "(", ")", "+", "\"", "<STR_LIT>", "\"", ";", "switch", "(", "type", ")", "{", "default", ":", "case", "ANDROID", ":", "dataSource", "=", "new", "DatabaseSource", "(", "context", ",", "model", ",", "dbName", ",", "1", ")", ";", "break", ";", "case", "SUPPORT", ":", "dataSource", "=", "new", "SqlitexDatabaseSource", "(", "context", ",", "model", ",", "dbName", ",", "1", ")", ";", "break", ";", "case", "SQLCIPHER", ":", "dataSource", "=", "new", "SqlCipherDatabaseSource", "(", "context", ",", "model", ",", "dbName", ",", "\"", "<STR_LIT:123>", "\"", ",", "1", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setup", "(", ")", "throws", "SQLException", "{", "dataSource", ".", "setLoggingEnabled", "(", "true", ")", ";", "Context", "context", "=", "InstrumentationRegistry", ".", "getContext", "(", ")", ";", "context", ".", "deleteDatabase", "(", "dbName", ")", ";", "data", "=", "new", "EntityDataStore", "<", ">", "(", "dataSource", ".", "getConfiguration", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "teardown", "(", ")", "{", "super", ".", "teardown", "(", ")", ";", "if", "(", "dataSource", "!", "=", "null", ")", "{", "dataSource", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "protected", "QueryRecyclerAdapter", "(", "EntityModel", "model", ",", "Class", "<", "E", ">", "type", ")", "{", "this", "(", "model", ".", "typeOf", "(", "type", ")", ")", ";", "}", "</s>"]
["<s>", "protected", "QueryRecyclerAdapter", "(", ")", "{", "this", "(", "null", ")", ";", "}", "</s>"]
["<s>", "protected", "QueryRecyclerAdapter", "(", "Type", "<", "E", ">", "type", ")", "{", "setHasStableIds", "(", "true", ")", ";", "proxyProvider", "=", "type", "=", "=", "null", "?", "null", ":", "type", ".", "getProxyProvider", "(", ")", ";", "handler", "=", "new", "Handler", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "if", "(", "queryFuture", "!", "=", "null", ")", "{", "queryFuture", ".", "cancel", "(", "true", ")", ";", "}", "if", "(", "iterator", "!", "=", "null", ")", "{", "iterator", ".", "close", "(", ")", ";", "iterator", "=", "null", ";", "}", "setExecutor", "(", "null", ")", ";", "}", "</s>"]
["<s>", "public", "void", "setExecutor", "(", "ExecutorService", "executor", ")", "{", "if", "(", "createdExecutor", "&", "&", "this", ".", "executor", "!", "=", "null", ")", "{", "this", ".", "executor", ".", "shutdown", "(", ")", ";", "}", "this", ".", "executor", "=", "executor", ";", "}", "</s>"]
["<s>", "public", "void", "setResult", "(", "ResultSetIterator", "<", "E", ">", "iterator", ")", "{", "if", "(", "this", ".", "iterator", "!", "=", "null", ")", "{", "this", ".", "iterator", ".", "close", "(", ")", ";", "}", "this", ".", "iterator", "=", "iterator", ";", "notifyDataSetChanged", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "queryAsync", "(", ")", "{", "if", "(", "this", ".", "executor", "=", "=", "null", ")", "{", "this", ".", "executor", "=", "Executors", ".", "newSingleThreadExecutor", "(", ")", ";", "createdExecutor", "=", "true", ";", "}", "if", "(", "queryFuture", "!", "=", "null", "&", "&", "!", "queryFuture", ".", "isDone", "(", ")", ")", "{", "queryFuture", ".", "cancel", "(", "true", ")", ";", "}", "queryFuture", "=", "executor", ".", "submit", "(", "new", "Callable", "<", "Result", "<", "E", ">", ">", "(", ")", "{", "@", "Override", "public", "Result", "<", "E", ">", "call", "(", ")", "{", "final", "Result", "<", "E", ">", "result", "=", "performQuery", "(", ")", ";", "final", "ResultSetIterator", "<", "E", ">", "iterator", "=", "(", "ResultSetIterator", "<", "E", ">", ")", "result", ".", "iterator", "(", ")", ";", "handler", ".", "post", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "setResult", "(", "iterator", ")", ";", "}", "}", ")", ";", "return", "result", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Result", "<", "E", ">", "call", "(", ")", "{", "final", "Result", "<", "E", ">", "result", "=", "performQuery", "(", ")", ";", "final", "ResultSetIterator", "<", "E", ">", "iterator", "=", "(", "ResultSetIterator", "<", "E", ">", ")", "result", ".", "iterator", "(", ")", ";", "handler", ".", "post", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "setResult", "(", "iterator", ")", ";", "}", "}", ")", ";", "return", "result", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "setResult", "(", "iterator", ")", ";", "}", "</s>"]
["<s>", "public", "abstract", "Result", "<", "E", ">", "performQuery", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "void", "onBindViewHolder", "(", "VH", "holder", ",", "int", "position", ")", "{", "E", "item", "=", "iterator", ".", "get", "(", "position", ")", ";", "onBindViewHolder", "(", "item", ",", "holder", ",", "position", ")", ";", "}", "</s>"]
["<s>", "public", "abstract", "void", "onBindViewHolder", "(", "E", "item", ",", "VH", "holder", ",", "int", "position", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "long", "getItemId", "(", "int", "position", ")", "{", "E", "item", "=", "iterator", ".", "get", "(", "position", ")", ";", "if", "(", "item", "=", "=", "null", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "Object", "key", "=", "null", ";", "if", "(", "proxyProvider", "!", "=", "null", ")", "{", "EntityProxy", "<", "?", "extends", "E", ">", "proxy", "=", "proxyProvider", ".", "apply", "(", "item", ")", ";", "key", "=", "proxy", ".", "key", "(", ")", ";", "}", "return", "key", "=", "=", "null", "?", "item", ".", "hashCode", "(", ")", ":", "key", ".", "hashCode", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getItemCount", "(", ")", "{", "if", "(", "iterator", "=", "=", "null", ")", "{", "return", "0", ";", "}", "try", "{", "Cursor", "cursor", "=", "iterator", ".", "unwrap", "(", "Cursor", ".", "class", ")", ";", "return", "cursor", ".", "getCount", "(", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onDetachedFromRecyclerView", "(", "RecyclerView", "recyclerView", ")", "{", "super", ".", "onDetachedFromRecyclerView", "(", "recyclerView", ")", ";", "close", "(", ")", ";", "setExecutor", "(", "null", ")", ";", "}", "</s>"]
["<s>", "public", "DefaultMapping", "(", "Platform", "platform", ")", "{", "super", "(", "platform", ")", ";", "addConverter", "(", "new", "UriConverter", "(", ")", ")", ";", "addConverter", "(", "new", "ParcelConverter", "<", ">", "(", "ParcelUuid", ".", "class", ",", "ParcelUuid", ".", "CREATOR", ")", ")", ";", "}", "</s>"]
["<s>", "protected", "QueryAdapter", "(", "EntityModel", "model", ",", "Class", "<", "E", ">", "type", ")", "{", "this", "(", "model", ".", "typeOf", "(", "type", ")", ")", ";", "}", "</s>"]
["<s>", "protected", "QueryAdapter", "(", ")", "{", "this", "(", "null", ")", ";", "}", "</s>"]
["<s>", "protected", "QueryAdapter", "(", "Type", "<", "E", ">", "type", ")", "{", "proxyProvider", "=", "type", "=", "=", "null", "?", "null", ":", "type", ".", "getProxyProvider", "(", ")", ";", "handler", "=", "new", "Handler", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "if", "(", "queryFuture", "!", "=", "null", ")", "{", "queryFuture", ".", "cancel", "(", "true", ")", ";", "}", "if", "(", "iterator", "!", "=", "null", ")", "{", "iterator", ".", "close", "(", ")", ";", "iterator", "=", "null", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setExecutor", "(", "ExecutorService", "executor", ")", "{", "if", "(", "createdExecutor", "&", "&", "this", ".", "executor", "!", "=", "null", ")", "{", "this", ".", "executor", ".", "shutdown", "(", ")", ";", "}", "this", ".", "executor", "=", "executor", ";", "}", "</s>"]
["<s>", "public", "void", "setResult", "(", "ResultSetIterator", "<", "E", ">", "iterator", ")", "{", "close", "(", ")", ";", "this", ".", "iterator", "=", "iterator", ";", "notifyDataSetChanged", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "queryAsync", "(", ")", "{", "if", "(", "this", ".", "executor", "=", "=", "null", ")", "{", "this", ".", "executor", "=", "Executors", ".", "newSingleThreadExecutor", "(", ")", ";", "createdExecutor", "=", "true", ";", "}", "if", "(", "queryFuture", "!", "=", "null", "&", "&", "!", "queryFuture", ".", "isDone", "(", ")", ")", "{", "queryFuture", ".", "cancel", "(", "true", ")", ";", "}", "queryFuture", "=", "executor", ".", "submit", "(", "new", "Callable", "<", "Result", "<", "E", ">", ">", "(", ")", "{", "@", "Override", "public", "Result", "<", "E", ">", "call", "(", ")", "{", "final", "Result", "<", "E", ">", "result", "=", "performQuery", "(", ")", ";", "handler", ".", "post", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "setResult", "(", "(", "ResultSetIterator", "<", "E", ">", ")", "result", ".", "iterator", "(", ")", ")", ";", "}", "}", ")", ";", "return", "result", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Result", "<", "E", ">", "call", "(", ")", "{", "final", "Result", "<", "E", ">", "result", "=", "performQuery", "(", ")", ";", "handler", ".", "post", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "setResult", "(", "(", "ResultSetIterator", "<", "E", ">", ")", "result", ".", "iterator", "(", ")", ")", ";", "}", "}", ")", ";", "return", "result", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "setResult", "(", "(", "ResultSetIterator", "<", "E", ">", ")", "result", ".", "iterator", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "abstract", "Result", "<", "E", ">", "performQuery", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "E", "getItem", "(", "int", "position", ")", "{", "if", "(", "iterator", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "iterator", ".", "get", "(", "position", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "View", "getView", "(", "int", "position", ",", "View", "convertView", ",", "ViewGroup", "parent", ")", "{", "E", "item", "=", "getItem", "(", "position", ")", ";", "return", "getView", "(", "item", ",", "convertView", ",", "parent", ")", ";", "}", "</s>"]
["<s>", "public", "abstract", "View", "getView", "(", "E", "item", ",", "View", "convertView", ",", "ViewGroup", "parent", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "long", "getItemId", "(", "int", "position", ")", "{", "E", "item", "=", "iterator", ".", "get", "(", "position", ")", ";", "Object", "key", "=", "null", ";", "if", "(", "proxyProvider", "!", "=", "null", ")", "{", "EntityProxy", "<", "E", ">", "proxy", "=", "proxyProvider", ".", "apply", "(", "item", ")", ";", "key", "=", "proxy", ".", "key", "(", ")", ";", "}", "return", "key", "=", "=", "null", "?", "item", ".", "hashCode", "(", ")", ":", "key", ".", "hashCode", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getCount", "(", ")", "{", "if", "(", "iterator", "=", "=", "null", ")", "{", "return", "0", ";", "}", "try", "{", "Cursor", "cursor", "=", "iterator", ".", "unwrap", "(", "Cursor", ".", "class", ")", ";", "return", "cursor", ".", "getCount", "(", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "Uri", ">", "getMappedType", "(", ")", "{", "return", "Uri", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "String", ">", "getPersistedType", "(", ")", "{", "return", "String", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "convertToPersisted", "(", "Uri", "value", ")", "{", "return", "value", "=", "=", "null", "?", "null", ":", "value", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Uri", "convertToMapped", "(", "Class", "<", "?", "extends", "Uri", ">", "type", ",", "String", "value", ")", "{", "return", "value", "=", "=", "null", "?", "null", ":", "Uri", ".", "parse", "(", "value", ")", ";", "}", "</s>"]
["<s>", "public", "EntityParceler", "(", "Type", "<", "T", ">", "type", ")", "{", "this", ".", "type", "=", "type", ";", "}", "</s>"]
["<s>", "public", "T", "readFromParcel", "(", "Parcel", "in", ")", "{", "T", "entity", "=", "type", ".", "getFactory", "(", ")", ".", "get", "(", ")", ";", "EntityProxy", "<", "T", ">", "proxy", "=", "type", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "entity", ")", ";", "for", "(", "Attribute", "<", "T", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "attribute", ".", "isAssociation", "(", ")", ")", "{", "continue", ";", "}", "Class", "<", "?", ">", "typeClass", "=", "attribute", ".", "getClassType", "(", ")", ";", "Object", "value", ";", "if", "(", "typeClass", ".", "isEnum", "(", ")", ")", "{", "String", "name", "=", "(", "String", ")", "in", ".", "readValue", "(", "null", ")", ";", "if", "(", "name", "=", "=", "null", ")", "{", "value", "=", "null", ";", "}", "else", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Class", "<", "?", "extends", "Enum", ">", "enumClass", "=", "(", "Class", "<", "?", "extends", "Enum", ">", ")", "typeClass", ";", "value", "=", "Enum", ".", "valueOf", "(", "enumClass", ",", "name", ")", ";", "}", "}", "else", "{", "value", "=", "in", ".", "readValue", "(", "null", ")", ";", "}", "PropertyState", "state", "=", "PropertyState", ".", "LOADED", ";", "if", "(", "!", "type", ".", "isStateless", "(", ")", ")", "{", "state", "=", "PropertyState", ".", "valueOf", "(", "in", ".", "readString", "(", ")", ")", ";", "}", "proxy", ".", "setObject", "(", "attribute", ",", "value", ",", "state", ")", ";", "}", "return", "entity", ";", "}", "</s>"]
["<s>", "public", "void", "writeToParcel", "(", "T", "entity", ",", "Parcel", "out", ")", "{", "EntityProxy", "<", "T", ">", "proxy", "=", "type", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "entity", ")", ";", "for", "(", "Attribute", "<", "T", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "attribute", ".", "isAssociation", "(", ")", ")", "{", "continue", ";", "}", "Object", "value", "=", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "Class", "<", "?", ">", "typeClass", "=", "attribute", ".", "getClassType", "(", ")", ";", "if", "(", "typeClass", ".", "isEnum", "(", ")", ")", "{", "if", "(", "value", "!", "=", "null", ")", "{", "value", "=", "value", ".", "toString", "(", ")", ";", "}", "}", "out", ".", "writeValue", "(", "value", ")", ";", "if", "(", "!", "type", ".", "isStateless", "(", ")", ")", "{", "PropertyState", "state", "=", "proxy", ".", "getState", "(", "attribute", ")", ";", "out", ".", "writeString", "(", "state", ".", "toString", "(", ")", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "QueryLoader", "(", "EntityStore", "data", ",", "Context", "context", ")", "{", "super", "(", "context", ")", ";", "this", ".", "data", "=", "data", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onStartLoading", "(", ")", "{", "if", "(", "result", "!", "=", "null", ")", "{", "deliverResult", "(", "result", ")", ";", "}", "else", "{", "forceLoad", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "onReset", "(", ")", "{", "super", ".", "onReset", "(", ")", ";", "onStopLoading", "(", ")", ";", "if", "(", "result", "!", "=", "null", ")", "{", "result", ".", "close", "(", ")", ";", "result", "=", "null", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Result", "<", "E", ">", "loadInBackground", "(", ")", "{", "return", "performQuery", "(", "data", ")", ";", "}", "</s>"]
["<s>", "public", "abstract", "Result", "<", "E", ">", "performQuery", "(", "EntityStore", "data", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "void", "deliverResult", "(", "Result", "<", "E", ">", "data", ")", "{", "if", "(", "isReset", "(", ")", ")", "{", "if", "(", "result", "!", "=", "null", ")", "{", "result", ".", "close", "(", ")", ";", "}", "return", ";", "}", "Result", "<", "E", ">", "previous", "=", "result", ";", "result", "=", "data", ";", "if", "(", "isStarted", "(", ")", ")", "{", "super", ".", "deliverResult", "(", "result", ")", ";", "}", "if", "(", "previous", "!", "=", "null", ")", "{", "previous", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "LoggingListener", "(", ")", "{", "this", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "LoggingListener", "(", "String", "tag", ")", "{", "this", ".", "tag", "=", "tag", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postLoad", "(", "Object", "entity", ")", "{", "Log", ".", "i", "(", "tag", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postInsert", "(", "Object", "entity", ")", "{", "Log", ".", "i", "(", "tag", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postDelete", "(", "Object", "entity", ")", "{", "Log", ".", "i", "(", "tag", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postUpdate", "(", "Object", "entity", ")", "{", "Log", ".", "i", "(", "tag", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preInsert", "(", "Object", "entity", ")", "{", "Log", ".", "i", "(", "tag", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preDelete", "(", "Object", "entity", ")", "{", "Log", ".", "i", "(", "tag", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preUpdate", "(", "Object", "entity", ")", "{", "Log", ".", "i", "(", "tag", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeExecuteUpdate", "(", "Statement", "statement", ",", "String", "sql", ",", "BoundParameters", "parameters", ")", "{", "Log", ".", "i", "(", "tag", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "statement", ",", "sql", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterExecuteUpdate", "(", "Statement", "statement", ")", "{", "Log", ".", "i", "(", "tag", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeExecuteQuery", "(", "Statement", "statement", ",", "String", "sql", ",", "BoundParameters", "parameters", ")", "{", "Log", ".", "i", "(", "tag", ",", "String", ".", "format", "(", "\"", "<STR_LIT>", "\"", ",", "statement", ",", "sql", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterExecuteQuery", "(", "Statement", "statement", ")", "{", "Log", ".", "i", "(", "tag", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "ParcelConverter", "(", "Class", "<", "T", ">", "type", ",", "Parcelable", ".", "Creator", "<", "T", ">", "creator", ")", "{", "if", "(", "type", "=", "=", "null", "|", "|", "creator", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "this", ".", "type", "=", "type", ";", "this", ".", "creator", "=", "creator", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "T", ">", "getMappedType", "(", ")", "{", "return", "type", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "byte", "[", "]", ">", "getPersistedType", "(", ")", "{", "return", "byte", "[", "]", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "[", "]", "convertToPersisted", "(", "T", "value", ")", "{", "if", "(", "value", "!", "=", "null", ")", "{", "Parcel", "parcel", "=", "Parcel", ".", "obtain", "(", ")", ";", "value", ".", "writeToParcel", "(", "parcel", ",", "0", ")", ";", "return", "parcel", ".", "marshall", "(", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "T", "convertToMapped", "(", "Class", "<", "?", "extends", "T", ">", "type", ",", "byte", "[", "]", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "Parcel", "parcel", "=", "Parcel", ".", "obtain", "(", ")", ";", "parcel", ".", "unmarshall", "(", "value", ",", "0", ",", "value", ".", "length", ")", ";", "return", "creator", ".", "createFromParcel", "(", "parcel", ")", ";", "}", "</s>"]
["<s>", "public", "SingleResultSet", "(", "Statement", "statement", ",", "long", "value", ")", "throws", "SQLException", "{", "if", "(", "value", "=", "=", "-", "1", ")", "{", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "this", ".", "statement", "=", "statement", ";", "this", ".", "value", "=", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "absolute", "(", "int", "row", ")", "throws", "SQLException", "{", "return", "row", "=", "=", "1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterLast", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeFirst", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "cancelRowUpdates", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearWarnings", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "deleteRow", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "findColumn", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "first", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Array", "getArray", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Array", "getArray", "(", "String", "colName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "getAsciiStream", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "getAsciiStream", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BigDecimal", "getBigDecimal", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BigDecimal", "getBigDecimal", "(", "int", "columnIndex", ",", "int", "scale", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BigDecimal", "getBigDecimal", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BigDecimal", "getBigDecimal", "(", "String", "columnName", ",", "int", "scale", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "getBinaryStream", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "getBinaryStream", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Blob", "getBlob", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Blob", "getBlob", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getBoolean", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getBoolean", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "getByte", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "getByte", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "[", "]", "getBytes", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "[", "]", "getBytes", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Reader", "getCharacterStream", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Reader", "getCharacterStream", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Clob", "getClob", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Clob", "getClob", "(", "String", "colName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getConcurrency", "(", ")", "throws", "SQLException", "{", "return", "ResultSet", ".", "CONCUR_READ_ONLY", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getCursorName", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Date", "getDate", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Date", "getDate", "(", "int", "columnIndex", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Date", "getDate", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Date", "getDate", "(", "String", "columnName", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "double", "getDouble", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "double", "getDouble", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getFetchDirection", "(", ")", "throws", "SQLException", "{", "return", "ResultSet", ".", "FETCH_FORWARD", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getFetchSize", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "float", "getFloat", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "float", "getFloat", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getInt", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "(", "int", ")", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getInt", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "(", "int", ")", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "getLong", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "getLong", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSetMetaData", "getMetaData", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "getObject", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "getObject", "(", "int", "columnIndex", ",", "Map", "<", "String", ",", "Class", "<", "?", ">", ">", "map", ")", "throws", "SQLException", "{", "return", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "getObject", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "getObject", "(", "String", "columnName", ",", "Map", "<", "String", ",", "Class", "<", "?", ">", ">", "map", ")", "throws", "SQLException", "{", "return", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Ref", "getRef", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Ref", "getRef", "(", "String", "colName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getRow", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "short", "getShort", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "(", "short", ")", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "short", "getShort", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "(", "short", ")", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "getStatement", "(", ")", "throws", "SQLException", "{", "return", "statement", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getString", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "String", ".", "valueOf", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getString", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "String", ".", "valueOf", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Time", "getTime", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Time", "getTime", "(", "int", "columnIndex", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Time", "getTime", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Time", "getTime", "(", "String", "columnName", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Timestamp", "getTimestamp", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Timestamp", "getTimestamp", "(", "int", "columnIndex", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Timestamp", "getTimestamp", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Timestamp", "getTimestamp", "(", "String", "columnName", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getType", "(", ")", "throws", "SQLException", "{", "return", "ResultSet", ".", "TYPE_FORWARD_ONLY", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "getUnicodeStream", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "getUnicodeStream", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "URL", "getURL", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "URL", "getURL", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLWarning", "getWarnings", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "insertRow", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isAfterLast", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isBeforeFirst", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isFirst", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isLast", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "last", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "moveToCurrentRow", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "moveToInsertRow", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "next", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "previous", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "refreshRow", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "relative", "(", "int", "rows", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "rowDeleted", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "rowInserted", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "rowUpdated", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFetchDirection", "(", "int", "direction", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFetchSize", "(", "int", "rows", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "wasNull", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "RowId", "getRowId", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "RowId", "getRowId", "(", "String", "columnLabel", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getHoldability", "(", ")", "throws", "SQLException", "{", "return", "ResultSet", ".", "CLOSE_CURSORS_AT_COMMIT", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isClosed", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "NClob", "getNClob", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "NClob", "getNClob", "(", "String", "columnLabel", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLXML", "getSQLXML", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLXML", "getSQLXML", "(", "String", "columnLabel", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getNString", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getNString", "(", "String", "columnLabel", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Reader", "getNCharacterStream", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Reader", "getNCharacterStream", "(", "String", "columnLabel", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "T", "unwrap", "(", "Class", "<", "T", ">", "iface", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isWrapperFor", "(", "Class", "<", "?", ">", "iface", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "public", "DatabaseSource", "(", "Context", "context", ",", "EntityModel", "model", ",", "int", "version", ")", "{", "this", "(", "context", ",", "model", ",", "getDefaultDatabaseName", "(", "context", ",", "model", ")", ",", "null", ",", "version", ")", ";", "}", "</s>"]
["<s>", "public", "DatabaseSource", "(", "Context", "context", ",", "EntityModel", "model", ",", "@", "Nullable", "String", "name", ",", "int", "version", ")", "{", "this", "(", "context", ",", "model", ",", "name", ",", "null", ",", "version", ")", ";", "}", "</s>"]
["<s>", "public", "DatabaseSource", "(", "Context", "context", ",", "EntityModel", "model", ",", "@", "Nullable", "String", "name", ",", "@", "Nullable", "SQLiteDatabase", ".", "CursorFactory", "factory", ",", "int", "version", ")", "{", "this", "(", "context", ",", "model", ",", "name", ",", "factory", ",", "version", ",", "new", "SQLite", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "DatabaseSource", "(", "Context", "context", ",", "EntityModel", "model", ",", "@", "Nullable", "String", "name", ",", "@", "Nullable", "SQLiteDatabase", ".", "CursorFactory", "factory", ",", "int", "version", ",", "SQLite", "platform", ")", "{", "super", "(", "context", ",", "name", ",", "factory", ",", "version", ")", ";", "if", "(", "model", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "this", ".", "platform", "=", "platform", ";", "this", ".", "mapping", "=", "onCreateMapping", "(", "platform", ")", ";", "this", ".", "model", "=", "model", ";", "this", ".", "mode", "=", "TableCreationMode", ".", "CREATE_NOT_EXISTS", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setLoggingEnabled", "(", "boolean", "enable", ")", "{", "this", ".", "loggingEnabled", "=", "enable", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTableCreationMode", "(", "TableCreationMode", "mode", ")", "{", "this", ".", "mode", "=", "mode", ";", "}", "</s>"]
["<s>", "private", "static", "String", "getDefaultDatabaseName", "(", "Context", "context", ",", "EntityModel", "model", ")", "{", "return", "TextUtils", ".", "isEmpty", "(", "model", ".", "getName", "(", ")", ")", "?", "context", ".", "getPackageName", "(", ")", ":", "model", ".", "getName", "(", ")", ";", "}", "</s>"]
["<s>", "protected", "Mapping", "onCreateMapping", "(", "Platform", "platform", ")", "{", "return", "new", "DefaultMapping", "(", "platform", ")", ";", "}", "</s>"]
["<s>", "protected", "void", "onConfigure", "(", "ConfigurationBuilder", "builder", ")", "{", "if", "(", "loggingEnabled", ")", "{", "LoggingListener", "loggingListener", "=", "new", "LoggingListener", "(", ")", ";", "builder", ".", "addStatementListener", "(", "loggingListener", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Connection", "getConnection", "(", "SQLiteDatabase", "db", ")", "throws", "SQLException", "{", "synchronized", "(", "this", ")", "{", "if", "(", "!", "db", ".", "isOpen", "(", ")", ")", "{", "throw", "new", "SQLNonTransientConnectionException", "(", ")", ";", "}", "return", "new", "SqliteConnection", "(", "db", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Configuration", "getConfiguration", "(", ")", "{", "if", "(", "configuration", "=", "=", "null", ")", "{", "ConfigurationBuilder", "builder", "=", "new", "ConfigurationBuilder", "(", "this", ",", "model", ")", ".", "setMapping", "(", "mapping", ")", ".", "setPlatform", "(", "platform", ")", ".", "setBatchUpdateSize", "(", "<NUM_LIT:1000>", ")", ";", "onConfigure", "(", "builder", ")", ";", "configuration", "=", "builder", ".", "build", "(", ")", ";", "}", "return", "configuration", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "SQLiteDatabase", "db", ")", "{", "this", ".", "db", "=", "db", ";", "new", "SchemaModifier", "(", "getConfiguration", "(", ")", ")", ".", "createTables", "(", "TableCreationMode", ".", "CREATE", ")", ";", "}", "</s>"]
["<s>", "@", "TargetApi", "(", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN", ")", "@", "Override", "public", "void", "onConfigure", "(", "SQLiteDatabase", "db", ")", "{", "super", ".", "onConfigure", "(", "db", ")", ";", "if", "(", "!", "db", ".", "isReadOnly", "(", ")", ")", "{", "db", ".", "setForeignKeyConstraintsEnabled", "(", "true", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpgrade", "(", "final", "SQLiteDatabase", "db", ",", "int", "oldVersion", ",", "int", "newVersion", ")", "{", "this", ".", "db", "=", "db", ";", "SchemaUpdater", "updater", "=", "new", "SchemaUpdater", "(", "getConfiguration", "(", ")", ",", "new", "Function", "<", "String", ",", "Cursor", ">", "(", ")", "{", "@", "Override", "public", "Cursor", "apply", "(", "String", "s", ")", "{", "return", "db", ".", "rawQuery", "(", "s", ",", "null", ")", ";", "}", "}", ",", "mode", ")", ";", "updater", ".", "update", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Cursor", "apply", "(", "String", "s", ")", "{", "return", "db", ".", "rawQuery", "(", "s", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Connection", "getConnection", "(", ")", "throws", "SQLException", "{", "synchronized", "(", "this", ")", "{", "if", "(", "db", "=", "=", "null", ")", "{", "db", "=", "getWritableDatabase", "(", ")", ";", "}", "if", "(", "!", "configured", "&", "&", "Build", ".", "VERSION", ".", "SDK_INT", "<", "Build", ".", "VERSION_CODES", ".", "JELLY_BEAN", ")", "{", "db", ".", "execSQL", "(", "\"", "<STR_LIT>", "\"", ")", ";", "long", "pageSize", "=", "db", ".", "getPageSize", "(", ")", ";", "if", "(", "pageSize", "=", "=", "<NUM_LIT>", ")", "{", "db", ".", "setPageSize", "(", "<NUM_LIT>", ")", ";", "}", "configured", "=", "true", ";", "}", "return", "getConnection", "(", "db", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateArray", "(", "int", "columnIndex", ",", "Array", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateArray", "(", "String", "columnName", ",", "Array", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateAsciiStream", "(", "int", "columnIndex", ",", "InputStream", "x", ",", "int", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateAsciiStream", "(", "String", "columnName", ",", "InputStream", "x", ",", "int", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBigDecimal", "(", "int", "columnIndex", ",", "BigDecimal", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBigDecimal", "(", "String", "columnName", ",", "BigDecimal", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBinaryStream", "(", "int", "columnIndex", ",", "InputStream", "x", ",", "int", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBinaryStream", "(", "String", "columnName", ",", "InputStream", "x", ",", "int", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBlob", "(", "int", "columnIndex", ",", "Blob", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBlob", "(", "String", "columnName", ",", "Blob", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBoolean", "(", "int", "columnIndex", ",", "boolean", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBoolean", "(", "String", "columnName", ",", "boolean", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateByte", "(", "int", "columnIndex", ",", "byte", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateByte", "(", "String", "columnName", ",", "byte", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBytes", "(", "int", "columnIndex", ",", "byte", "[", "]", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBytes", "(", "String", "columnName", ",", "byte", "[", "]", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateCharacterStream", "(", "int", "columnIndex", ",", "Reader", "x", ",", "int", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateCharacterStream", "(", "String", "columnName", ",", "Reader", "reader", ",", "int", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateClob", "(", "int", "columnIndex", ",", "Clob", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateClob", "(", "String", "columnName", ",", "Clob", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateDate", "(", "int", "columnIndex", ",", "Date", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateDate", "(", "String", "columnName", ",", "Date", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateDouble", "(", "int", "columnIndex", ",", "double", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateDouble", "(", "String", "columnName", ",", "double", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateFloat", "(", "int", "columnIndex", ",", "float", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateFloat", "(", "String", "columnName", ",", "float", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateInt", "(", "int", "columnIndex", ",", "int", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateInt", "(", "String", "columnName", ",", "int", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateLong", "(", "int", "columnIndex", ",", "long", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateLong", "(", "String", "columnName", ",", "long", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNull", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNull", "(", "String", "columnName", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateObject", "(", "int", "columnIndex", ",", "Object", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateObject", "(", "int", "columnIndex", ",", "Object", "x", ",", "int", "scale", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateObject", "(", "String", "columnName", ",", "Object", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateObject", "(", "String", "columnName", ",", "Object", "x", ",", "int", "scale", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateRef", "(", "int", "columnIndex", ",", "Ref", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateRef", "(", "String", "columnName", ",", "Ref", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateRow", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateShort", "(", "int", "columnIndex", ",", "short", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateShort", "(", "String", "columnName", ",", "short", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateString", "(", "int", "columnIndex", ",", "String", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateString", "(", "String", "columnName", ",", "String", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateTime", "(", "int", "columnIndex", ",", "Time", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateTime", "(", "String", "columnName", ",", "Time", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateTimestamp", "(", "int", "columnIndex", ",", "Timestamp", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateTimestamp", "(", "String", "columnName", ",", "Timestamp", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateRowId", "(", "int", "columnIndex", ",", "RowId", "value", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateRowId", "(", "String", "columnLabel", ",", "RowId", "value", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNString", "(", "int", "columnIndex", ",", "String", "nString", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNString", "(", "String", "columnLabel", ",", "String", "nString", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNClob", "(", "int", "columnIndex", ",", "NClob", "nClob", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNClob", "(", "String", "columnLabel", ",", "NClob", "nClob", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateSQLXML", "(", "int", "columnIndex", ",", "SQLXML", "xmlObject", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateSQLXML", "(", "String", "columnLabel", ",", "SQLXML", "xmlObject", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNCharacterStream", "(", "int", "columnIndex", ",", "Reader", "x", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNCharacterStream", "(", "String", "columnLabel", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateAsciiStream", "(", "int", "columnIndex", ",", "InputStream", "x", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBinaryStream", "(", "int", "columnIndex", ",", "InputStream", "x", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateCharacterStream", "(", "int", "columnIndex", ",", "Reader", "x", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateAsciiStream", "(", "String", "columnLabel", ",", "InputStream", "x", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBinaryStream", "(", "String", "columnLabel", ",", "InputStream", "x", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateCharacterStream", "(", "String", "columnLabel", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBlob", "(", "int", "columnIndex", ",", "InputStream", "inputStream", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBlob", "(", "String", "columnLabel", ",", "InputStream", "inputStream", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateClob", "(", "int", "columnIndex", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateClob", "(", "String", "columnLabel", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNClob", "(", "int", "columnIndex", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNClob", "(", "String", "columnLabel", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNCharacterStream", "(", "int", "columnIndex", ",", "Reader", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNCharacterStream", "(", "String", "columnLabel", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateAsciiStream", "(", "int", "columnIndex", ",", "InputStream", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBinaryStream", "(", "int", "columnIndex", ",", "InputStream", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateCharacterStream", "(", "int", "columnIndex", ",", "Reader", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateAsciiStream", "(", "String", "columnLabel", ",", "InputStream", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBinaryStream", "(", "String", "columnLabel", ",", "InputStream", "x", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateCharacterStream", "(", "String", "columnLabel", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBlob", "(", "int", "columnIndex", ",", "InputStream", "inputStream", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateBlob", "(", "String", "columnLabel", ",", "InputStream", "inputStream", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateClob", "(", "int", "columnIndex", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateClob", "(", "String", "columnLabel", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNClob", "(", "int", "columnIndex", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "updateNClob", "(", "String", "columnLabel", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "public", "SchemaUpdater", "(", "Configuration", "configuration", ",", "Function", "<", "String", ",", "Cursor", ">", "queryFunction", ",", "TableCreationMode", "mode", ")", "{", "this", ".", "configuration", "=", "configuration", ";", "this", ".", "queryFunction", "=", "queryFunction", ";", "this", ".", "mode", "=", "mode", "=", "=", "null", "?", "TableCreationMode", ".", "CREATE_NOT_EXISTS", ":", "mode", ";", "}", "</s>"]
["<s>", "public", "void", "update", "(", ")", "{", "SchemaModifier", "schema", "=", "new", "SchemaModifier", "(", "configuration", ")", ";", "schema", ".", "createTables", "(", "mode", ")", ";", "if", "(", "mode", "=", "=", "TableCreationMode", ".", "DROP_CREATE", ")", "{", "return", ";", "}", "List", "<", "Attribute", ">", "missingAttributes", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "Type", "<", "?", ">", "type", ":", "configuration", ".", "getModel", "(", ")", ".", "getTypes", "(", ")", ")", "{", "String", "tableName", "=", "type", ".", "getName", "(", ")", ";", "Cursor", "cursor", "=", "queryFunction", ".", "apply", "(", "\"", "<STR_LIT>", "\"", "+", "tableName", "+", "\"", "<STR_LIT:)>", "\"", ")", ";", "Map", "<", "String", ",", "Attribute", ">", "map", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "for", "(", "Attribute", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "attribute", ".", "isAssociation", "(", ")", "&", "&", "!", "attribute", ".", "isForeignKey", "(", ")", ")", "{", "continue", ";", "}", "map", ".", "put", "(", "attribute", ".", "getName", "(", ")", ",", "attribute", ")", ";", "}", "if", "(", "cursor", ".", "getCount", "(", ")", ">", "0", ")", "{", "int", "nameIndex", "=", "cursor", ".", "getColumnIndex", "(", "\"", "<STR_LIT>", "\"", ")", ";", "while", "(", "cursor", ".", "moveToNext", "(", ")", ")", "{", "String", "name", "=", "cursor", ".", "getString", "(", "nameIndex", ")", ";", "map", ".", "remove", "(", "name", ")", ";", "}", "}", "cursor", ".", "close", "(", ")", ";", "missingAttributes", ".", "addAll", "(", "map", ".", "values", "(", ")", ")", ";", "}", "Collections", ".", "sort", "(", "missingAttributes", ",", "new", "Comparator", "<", "Attribute", ">", "(", ")", "{", "@", "Override", "public", "int", "compare", "(", "Attribute", "lhs", ",", "Attribute", "rhs", ")", "{", "if", "(", "lhs", ".", "isForeignKey", "(", ")", "&", "&", "rhs", ".", "isForeignKey", "(", ")", ")", "{", "return", "0", ";", "}", "if", "(", "lhs", ".", "isForeignKey", "(", ")", ")", "{", "return", "1", ";", "}", "return", "-", "1", ";", "}", "}", ")", ";", "for", "(", "Attribute", "<", "?", ",", "?", ">", "attribute", ":", "missingAttributes", ")", "{", "schema", ".", "addColumn", "(", "attribute", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "compare", "(", "Attribute", "lhs", ",", "Attribute", "rhs", ")", "{", "if", "(", "lhs", ".", "isForeignKey", "(", ")", "&", "&", "rhs", ".", "isForeignKey", "(", ")", ")", "{", "return", "0", ";", "}", "if", "(", "lhs", ".", "isForeignKey", "(", ")", ")", "{", "return", "1", ";", "}", "return", "-", "1", ";", "}", "</s>"]
["<s>", "protected", "BaseStatement", "(", "BaseConnection", "connection", ")", "{", "if", "(", "connection", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "this", ".", "connection", "=", "connection", ";", "}", "</s>"]
["<s>", "protected", "void", "throwIfClosed", "(", ")", "throws", "SQLException", "{", "if", "(", "isClosed", "(", ")", ")", "{", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addBatch", "(", "String", "sql", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "cancel", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearBatch", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearWarnings", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "SQLException", "{", "if", "(", "queryResult", "!", "=", "null", ")", "{", "queryResult", ".", "close", "(", ")", ";", "}", "closed", "=", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ")", "throws", "SQLException", "{", "throwIfClosed", "(", ")", ";", "connection", ".", "execSQL", "(", "sql", ")", ";", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ",", "int", "[", "]", "columnIndexes", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ",", "String", "[", "]", "columnNames", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "[", "]", "executeBatch", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ")", "throws", "SQLException", "{", "return", "executeUpdate", "(", "sql", ",", "NO_GENERATED_KEYS", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ",", "int", "[", "]", "columnIndexes", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ",", "String", "[", "]", "columnNames", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Connection", "getConnection", "(", ")", "throws", "SQLException", "{", "throwIfClosed", "(", ")", ";", "return", "connection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getFetchDirection", "(", ")", "throws", "SQLException", "{", "return", "ResultSet", ".", "FETCH_FORWARD", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getFetchSize", "(", ")", "throws", "SQLException", "{", "return", "fetchSize", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getGeneratedKeys", "(", ")", "throws", "SQLException", "{", "return", "insertResult", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxFieldSize", "(", ")", "throws", "SQLException", "{", "return", "maxFieldSize", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxRows", "(", ")", "throws", "SQLException", "{", "return", "maxRows", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getMoreResults", "(", ")", "throws", "SQLException", "{", "return", "getMoreResults", "(", "CLOSE_CURRENT_RESULT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getMoreResults", "(", "int", "current", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getQueryTimeout", "(", ")", "throws", "SQLException", "{", "return", "timeout", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getResultSet", "(", ")", "throws", "SQLException", "{", "throwIfClosed", "(", ")", ";", "return", "queryResult", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getResultSetConcurrency", "(", ")", "throws", "SQLException", "{", "return", "ResultSet", ".", "CONCUR_READ_ONLY", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getResultSetHoldability", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "getHoldability", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getResultSetType", "(", ")", "throws", "SQLException", "{", "return", "ResultSet", ".", "TYPE_SCROLL_INSENSITIVE", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getUpdateCount", "(", ")", "throws", "SQLException", "{", "return", "updateCount", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLWarning", "getWarnings", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setCursorName", "(", "String", "name", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setEscapeProcessing", "(", "boolean", "enable", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFetchDirection", "(", "int", "direction", ")", "throws", "SQLException", "{", "if", "(", "direction", "!", "=", "ResultSet", ".", "FETCH_FORWARD", ")", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFetchSize", "(", "int", "rows", ")", "throws", "SQLException", "{", "this", ".", "fetchSize", "=", "rows", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setMaxFieldSize", "(", "int", "max", ")", "throws", "SQLException", "{", "this", ".", "maxFieldSize", "=", "max", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setMaxRows", "(", "int", "max", ")", "throws", "SQLException", "{", "this", ".", "maxRows", "=", "max", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setQueryTimeout", "(", "int", "seconds", ")", "throws", "SQLException", "{", "this", ".", "timeout", "=", "seconds", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isClosed", "(", ")", "throws", "SQLException", "{", "return", "closed", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setPoolable", "(", "boolean", "poolable", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isPoolable", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "T", "unwrap", "(", "Class", "<", "T", ">", "iface", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isWrapperFor", "(", "Class", "<", "?", ">", "iface", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "protected", "BaseConnection", "(", ")", "{", "autoCommit", "=", "true", ";", "holdability", "=", "ResultSet", ".", "HOLD_CURSORS_OVER_COMMIT", ";", "clientInfo", "=", "new", "Properties", "(", ")", ";", "transactionIsolation", "=", "TRANSACTION_SERIALIZABLE", ";", "}", "</s>"]
["<s>", "public", "static", "void", "throwSQLException", "(", "android", ".", "database", ".", "SQLException", "exception", ")", "throws", "SQLException", "{", "if", "(", "exception", "instanceof", "SQLiteConstraintException", ")", "{", "throw", "new", "SQLIntegrityConstraintViolationException", "(", "exception", ")", ";", "}", "else", "if", "(", "exception", "instanceof", "SQLiteCantOpenDatabaseException", "|", "|", "exception", "instanceof", "SQLiteDatabaseCorruptException", "|", "|", "exception", "instanceof", "SQLiteAccessPermException", ")", "{", "throw", "new", "SQLNonTransientException", "(", "exception", ")", ";", "}", "throw", "new", "SQLException", "(", "exception", ")", ";", "}", "</s>"]
["<s>", "protected", "abstract", "void", "ensureTransaction", "(", ")", ";", "</s>"]
["<s>", "protected", "abstract", "void", "execSQL", "(", "String", "sql", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "@", "Override", "public", "void", "clearWarnings", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "commit", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", "int", "resultSetType", ",", "int", "resultSetConcurrency", ")", "throws", "SQLException", "{", "return", "createStatement", "(", "resultSetType", ",", "resultSetConcurrency", ",", "ResultSet", ".", "HOLD_CURSORS_OVER_COMMIT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getAutoCommit", "(", ")", "throws", "SQLException", "{", "return", "autoCommit", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getCatalog", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getHoldability", "(", ")", "throws", "SQLException", "{", "return", "holdability", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getTransactionIsolation", "(", ")", "throws", "SQLException", "{", "return", "transactionIsolation", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Map", "<", "String", ",", "Class", "<", "?", ">", ">", "getTypeMap", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLWarning", "getWarnings", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "nativeSQL", "(", "String", "sql", ")", "throws", "SQLException", "{", "return", "sql", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CallableStatement", "prepareCall", "(", "String", "sql", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CallableStatement", "prepareCall", "(", "String", "sql", ",", "int", "resultSetType", ",", "int", "resultSetConcurrency", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CallableStatement", "prepareCall", "(", "String", "sql", ",", "int", "resultSetType", ",", "int", "resultSetConcurrency", ",", "int", "resultSetHoldability", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ")", "throws", "SQLException", "{", "return", "prepareStatement", "(", "sql", ",", "Statement", ".", "NO_GENERATED_KEYS", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "[", "]", "columnIndexes", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "resultSetType", ",", "int", "resultSetConcurrency", ")", "throws", "SQLException", "{", "return", "prepareStatement", "(", "sql", ",", "resultSetType", ",", "resultSetConcurrency", ",", "ResultSet", ".", "HOLD_CURSORS_OVER_COMMIT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "releaseSavepoint", "(", "Savepoint", "savepoint", ")", "throws", "SQLException", "{", "execSQL", "(", "\"", "<STR_LIT>", "\"", "+", "savepoint", ".", "getSavepointName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "rollback", "(", "Savepoint", "savepoint", ")", "throws", "SQLException", "{", "execSQL", "(", "\"", "<STR_LIT>", "\"", "+", "savepoint", ".", "getSavepointName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setAutoCommit", "(", "boolean", "autoCommit", ")", "throws", "SQLException", "{", "this", ".", "autoCommit", "=", "autoCommit", ";", "ensureTransaction", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setCatalog", "(", "String", "catalog", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setHoldability", "(", "int", "holdability", ")", "throws", "SQLException", "{", "this", ".", "holdability", "=", "holdability", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setReadOnly", "(", "boolean", "readOnly", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Savepoint", "setSavepoint", "(", ")", "throws", "SQLException", "{", "return", "setSavepoint", "(", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Savepoint", "setSavepoint", "(", "String", "name", ")", "throws", "SQLException", "{", "savePointId", "+", "+", ";", "if", "(", "name", "=", "=", "null", ")", "{", "name", "=", "\"", "<STR_LIT>", "\"", "+", "String", ".", "valueOf", "(", "savePointId", ")", ";", "}", "execSQL", "(", "\"", "<STR_LIT>", "\"", "+", "name", ")", ";", "return", "new", "DatabaseSavepoint", "(", "savePointId", ",", "name", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTransactionIsolation", "(", "int", "level", ")", "throws", "SQLException", "{", "switch", "(", "level", ")", "{", "case", "TRANSACTION_NONE", ":", "case", "TRANSACTION_SERIALIZABLE", ":", "case", "TRANSACTION_READ_COMMITTED", ":", "execSQL", "(", "\"", "<STR_LIT>", "\"", ")", ";", "transactionIsolation", "=", "level", ";", "break", ";", "case", "TRANSACTION_READ_UNCOMMITTED", ":", "execSQL", "(", "\"", "<STR_LIT>", "\"", ")", ";", "transactionIsolation", "=", "level", ";", "break", ";", "case", "TRANSACTION_REPEATABLE_READ", ":", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "default", ":", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", "+", "level", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTypeMap", "(", "Map", "<", "String", ",", "Class", "<", "?", ">", ">", "map", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Clob", "createClob", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Blob", "createBlob", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "NClob", "createNClob", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLXML", "createSQLXML", "(", ")", "throws", "SQLException", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isValid", "(", "int", "timeout", ")", "throws", "SQLException", "{", "return", "!", "isClosed", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setClientInfo", "(", "String", "name", ",", "String", "value", ")", "throws", "SQLClientInfoException", "{", "clientInfo", ".", "setProperty", "(", "name", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setClientInfo", "(", "Properties", "properties", ")", "throws", "SQLClientInfoException", "{", "if", "(", "properties", "!", "=", "null", ")", "{", "this", ".", "clientInfo", "=", "properties", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getClientInfo", "(", "String", "name", ")", "throws", "SQLException", "{", "return", "clientInfo", ".", "getProperty", "(", "name", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Properties", "getClientInfo", "(", ")", "throws", "SQLException", "{", "return", "clientInfo", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Array", "createArrayOf", "(", "String", "typeName", ",", "Object", "[", "]", "elements", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Struct", "createStruct", "(", "String", "typeName", ",", "Object", "[", "]", "attributes", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "T", "unwrap", "(", "Class", "<", "T", ">", "iface", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isWrapperFor", "(", "Class", "<", "?", ">", "iface", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "DatabaseSavepoint", "(", "int", "id", ",", "String", "name", ")", "{", "this", ".", "id", "=", "id", ";", "this", ".", "name", "=", "name", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSavepointId", "(", ")", "throws", "SQLException", "{", "return", "id", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getSavepointName", "(", ")", "throws", "SQLException", "{", "return", "name", ";", "}", "</s>"]
["<s>", "public", "CursorResultSet", "(", "Statement", "statement", ",", "Cursor", "cursor", ",", "boolean", "closeCursor", ")", "{", "if", "(", "cursor", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "this", ".", "statement", "=", "statement", ";", "this", ".", "cursor", "=", "cursor", ";", "this", ".", "closeCursor", "=", "closeCursor", ";", "cursor", ".", "moveToPosition", "(", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "absolute", "(", "int", "row", ")", "throws", "SQLException", "{", "return", "cursor", ".", "moveToPosition", "(", "row", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterLast", "(", ")", "throws", "SQLException", "{", "cursor", ".", "moveToLast", "(", ")", ";", "cursor", ".", "moveToNext", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeFirst", "(", ")", "throws", "SQLException", "{", "cursor", ".", "moveToPosition", "(", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "cancelRowUpdates", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearWarnings", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "SQLException", "{", "if", "(", "closeCursor", ")", "{", "cursor", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "deleteRow", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "findColumn", "(", "String", "columnName", ")", "throws", "SQLException", "{", "int", "index", "=", "cursor", ".", "getColumnIndex", "(", "columnName", ")", ";", "if", "(", "index", "=", "=", "-", "1", ")", "{", "throw", "new", "SQLDataException", "(", "\"", "<STR_LIT>", "\"", "+", "columnName", ")", ";", "}", "return", "index", "+", "1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "first", "(", ")", "throws", "SQLException", "{", "return", "cursor", ".", "moveToFirst", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Array", "getArray", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Array", "getArray", "(", "String", "colName", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "getAsciiStream", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "getAsciiStream", "(", "String", "columnName", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BigDecimal", "getBigDecimal", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "String", "value", "=", "getString", "(", "columnIndex", ")", ";", "return", "value", "=", "=", "null", "?", "null", ":", "new", "BigDecimal", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BigDecimal", "getBigDecimal", "(", "int", "columnIndex", ",", "int", "scale", ")", "throws", "SQLException", "{", "String", "value", "=", "getString", "(", "columnIndex", ")", ";", "BigDecimal", "result", "=", "value", "=", "=", "null", "?", "null", ":", "new", "BigDecimal", "(", "value", ")", ";", "if", "(", "result", "!", "=", "null", ")", "{", "result", "=", "result", ".", "setScale", "(", "scale", ",", "BigDecimal", ".", "ROUND_DOWN", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BigDecimal", "getBigDecimal", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getBigDecimal", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BigDecimal", "getBigDecimal", "(", "String", "columnName", ",", "int", "scale", ")", "throws", "SQLException", "{", "return", "getBigDecimal", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "getBinaryStream", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "new", "ByteArrayInputStream", "(", "getBytes", "(", "columnIndex", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "getBinaryStream", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getBinaryStream", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Blob", "getBlob", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Blob", "getBlob", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getBlob", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getBoolean", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "getInt", "(", "columnIndex", ")", ">", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getBoolean", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getBoolean", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "getByte", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "(", "byte", ")", "getShort", "(", "columnIndex", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "getByte", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getByte", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "[", "]", "getBytes", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "lastColumnIndex", "=", "columnIndex", ";", "return", "cursor", ".", "getBlob", "(", "columnIndex", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "[", "]", "getBytes", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getBytes", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Reader", "getCharacterStream", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "new", "StringReader", "(", "getString", "(", "columnIndex", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Reader", "getCharacterStream", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "new", "StringReader", "(", "getString", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Clob", "getClob", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Clob", "getClob", "(", "String", "colName", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getConcurrency", "(", ")", "throws", "SQLException", "{", "return", "CONCUR_READ_ONLY", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getCursorName", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Date", "getDate", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "lastColumnIndex", "=", "columnIndex", ";", "if", "(", "cursor", ".", "isNull", "(", "columnIndex", "-", "1", ")", ")", "{", "return", "null", ";", "}", "return", "new", "Date", "(", "cursor", ".", "getLong", "(", "columnIndex", "-", "1", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Date", "getDate", "(", "int", "columnIndex", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Date", "getDate", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getDate", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Date", "getDate", "(", "String", "columnName", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "double", "getDouble", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "lastColumnIndex", "=", "columnIndex", ";", "return", "cursor", ".", "getDouble", "(", "columnIndex", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "double", "getDouble", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getDouble", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getFetchDirection", "(", ")", "throws", "SQLException", "{", "return", "FETCH_FORWARD", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getFetchSize", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "float", "getFloat", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "lastColumnIndex", "=", "columnIndex", ";", "return", "cursor", ".", "getFloat", "(", "columnIndex", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "float", "getFloat", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getFloat", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getInt", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "lastColumnIndex", "=", "columnIndex", ";", "return", "cursor", ".", "getInt", "(", "columnIndex", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getInt", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getInt", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "getLong", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "lastColumnIndex", "=", "columnIndex", ";", "return", "cursor", ".", "getLong", "(", "columnIndex", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "getLong", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getLong", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSetMetaData", "getMetaData", "(", ")", "throws", "SQLException", "{", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "getObject", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "lastColumnIndex", "=", "columnIndex", ";", "columnIndex", "=", "columnIndex", "-", "1", ";", "int", "type", "=", "cursor", ".", "getType", "(", "columnIndex", ")", ";", "if", "(", "!", "cursor", ".", "isNull", "(", "columnIndex", ")", ")", "{", "switch", "(", "type", ")", "{", "case", "Cursor", ".", "FIELD_TYPE_BLOB", ":", "return", "cursor", ".", "getBlob", "(", "columnIndex", ")", ";", "case", "Cursor", ".", "FIELD_TYPE_FLOAT", ":", "return", "cursor", ".", "getFloat", "(", "columnIndex", ")", ";", "case", "Cursor", ".", "FIELD_TYPE_INTEGER", ":", "return", "cursor", ".", "getInt", "(", "columnIndex", ")", ";", "case", "Cursor", ".", "FIELD_TYPE_NULL", ":", "return", "null", ";", "case", "Cursor", ".", "FIELD_TYPE_STRING", ":", "return", "cursor", ".", "getString", "(", "columnIndex", ")", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "getObject", "(", "int", "columnIndex", ",", "Map", "<", "String", ",", "Class", "<", "?", ">", ">", "map", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "getObject", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getObject", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "getObject", "(", "String", "columnName", ",", "Map", "<", "String", ",", "Class", "<", "?", ">", ">", "map", ")", "throws", "SQLException", "{", "return", "getObject", "(", "findColumn", "(", "columnName", ")", ",", "map", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Ref", "getRef", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Ref", "getRef", "(", "String", "colName", ")", "throws", "SQLException", "{", "return", "getRef", "(", "findColumn", "(", "colName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getRow", "(", ")", "throws", "SQLException", "{", "return", "cursor", ".", "getPosition", "(", ")", "+", "1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "short", "getShort", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "lastColumnIndex", "=", "columnIndex", ";", "return", "cursor", ".", "getShort", "(", "columnIndex", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "short", "getShort", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getShort", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "getStatement", "(", ")", "throws", "SQLException", "{", "return", "statement", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getString", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "lastColumnIndex", "=", "columnIndex", ";", "if", "(", "cursor", ".", "isNull", "(", "columnIndex", "-", "1", ")", ")", "{", "return", "null", ";", "}", "return", "cursor", ".", "getString", "(", "columnIndex", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getString", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getString", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Time", "getTime", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "lastColumnIndex", "=", "columnIndex", ";", "if", "(", "cursor", ".", "isNull", "(", "columnIndex", "-", "1", ")", ")", "{", "return", "null", ";", "}", "return", "new", "Time", "(", "getLong", "(", "columnIndex", "-", "1", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Time", "getTime", "(", "int", "columnIndex", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "lastColumnIndex", "=", "columnIndex", ";", "if", "(", "cursor", ".", "isNull", "(", "columnIndex", "-", "1", ")", ")", "{", "return", "null", ";", "}", "return", "new", "Time", "(", "getLong", "(", "columnIndex", "-", "1", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Time", "getTime", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getTime", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Time", "getTime", "(", "String", "columnName", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Timestamp", "getTimestamp", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "lastColumnIndex", "=", "columnIndex", ";", "if", "(", "cursor", ".", "isNull", "(", "columnIndex", "-", "1", ")", ")", "{", "return", "null", ";", "}", "return", "new", "Timestamp", "(", "getLong", "(", "columnIndex", "-", "1", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Timestamp", "getTimestamp", "(", "int", "columnIndex", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Timestamp", "getTimestamp", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getTimestamp", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Timestamp", "getTimestamp", "(", "String", "columnName", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getType", "(", ")", "throws", "SQLException", "{", "return", "TYPE_SCROLL_SENSITIVE", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "getUnicodeStream", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "InputStream", "getUnicodeStream", "(", "String", "columnName", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "URL", "getURL", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "String", "value", "=", "getString", "(", "columnIndex", ")", ";", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "try", "{", "return", "new", "URL", "(", "value", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "throw", "new", "SQLException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "URL", "getURL", "(", "String", "columnName", ")", "throws", "SQLException", "{", "return", "getURL", "(", "findColumn", "(", "columnName", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLWarning", "getWarnings", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "insertRow", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isAfterLast", "(", ")", "throws", "SQLException", "{", "return", "cursor", ".", "isAfterLast", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isBeforeFirst", "(", ")", "throws", "SQLException", "{", "return", "cursor", ".", "getCount", "(", ")", "!", "=", "0", "&", "&", "cursor", ".", "isBeforeFirst", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isFirst", "(", ")", "throws", "SQLException", "{", "return", "cursor", ".", "isFirst", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isLast", "(", ")", "throws", "SQLException", "{", "return", "cursor", ".", "isLast", "(", ")", "|", "|", "cursor", ".", "getCount", "(", ")", "=", "=", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "last", "(", ")", "throws", "SQLException", "{", "return", "cursor", ".", "moveToLast", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "moveToCurrentRow", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "moveToInsertRow", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "next", "(", ")", "throws", "SQLException", "{", "return", "cursor", ".", "moveToNext", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "previous", "(", ")", "throws", "SQLException", "{", "return", "cursor", ".", "moveToPrevious", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "refreshRow", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "relative", "(", "int", "rows", ")", "throws", "SQLException", "{", "return", "cursor", ".", "move", "(", "rows", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "rowDeleted", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "rowInserted", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "rowUpdated", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFetchDirection", "(", "int", "direction", ")", "throws", "SQLException", "{", "if", "(", "direction", "!", "=", "ResultSet", ".", "FETCH_FORWARD", ")", "{", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFetchSize", "(", "int", "rows", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "wasNull", "(", ")", "throws", "SQLException", "{", "return", "cursor", ".", "isNull", "(", "lastColumnIndex", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "RowId", "getRowId", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "RowId", "getRowId", "(", "String", "columnLabel", ")", "throws", "SQLException", "{", "return", "getRowId", "(", "findColumn", "(", "columnLabel", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getHoldability", "(", ")", "throws", "SQLException", "{", "return", "HOLD_CURSORS_OVER_COMMIT", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isClosed", "(", ")", "throws", "SQLException", "{", "return", "cursor", ".", "isClosed", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "NClob", "getNClob", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "NClob", "getNClob", "(", "String", "columnLabel", ")", "throws", "SQLException", "{", "return", "getNClob", "(", "findColumn", "(", "columnLabel", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLXML", "getSQLXML", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLXML", "getSQLXML", "(", "String", "columnLabel", ")", "throws", "SQLException", "{", "return", "getSQLXML", "(", "findColumn", "(", "columnLabel", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getNString", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "getString", "(", "columnIndex", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getNString", "(", "String", "columnLabel", ")", "throws", "SQLException", "{", "return", "getNString", "(", "findColumn", "(", "columnLabel", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Reader", "getNCharacterStream", "(", "int", "columnIndex", ")", "throws", "SQLException", "{", "return", "getCharacterStream", "(", "columnIndex", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Reader", "getNCharacterStream", "(", "String", "columnLabel", ")", "throws", "SQLException", "{", "return", "getNCharacterStream", "(", "findColumn", "(", "columnLabel", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "T", "unwrap", "(", "Class", "<", "T", ">", "iface", ")", "throws", "SQLException", "{", "if", "(", "iface", "=", "=", "Cursor", ".", "class", ")", "{", "return", "iface", ".", "cast", "(", "cursor", ")", ";", "}", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isWrapperFor", "(", "Class", "<", "?", ">", "iface", ")", "throws", "SQLException", "{", "return", "iface", "=", "=", "Cursor", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getCatalogName", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getColumnClassName", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getColumnCount", "(", ")", "throws", "SQLException", "{", "return", "cursor", ".", "getColumnCount", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getColumnDisplaySize", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getColumnLabel", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "\"", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getColumnName", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "cursor", ".", "getColumnName", "(", "column", "-", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getColumnType", "(", "int", "column", ")", "throws", "SQLException", "{", "int", "type", "=", "cursor", ".", "getType", "(", "column", "-", "1", ")", ";", "switch", "(", "type", ")", "{", "case", "Cursor", ".", "FIELD_TYPE_BLOB", ":", "return", "Types", ".", "VARBINARY", ";", "case", "Cursor", ".", "FIELD_TYPE_FLOAT", ":", "return", "Types", ".", "FLOAT", ";", "case", "Cursor", ".", "FIELD_TYPE_INTEGER", ":", "return", "Types", ".", "INTEGER", ";", "case", "Cursor", ".", "FIELD_TYPE_NULL", ":", "return", "Types", ".", "NULL", ";", "case", "Cursor", ".", "FIELD_TYPE_STRING", ":", "return", "Types", ".", "VARCHAR", ";", "}", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getColumnTypeName", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getPrecision", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getScale", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getSchemaName", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getTableName", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isAutoIncrement", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isCaseSensitive", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isCurrency", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isDefinitelyWritable", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "isNullable", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "columnNullableUnknown", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isReadOnly", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isSearchable", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isSigned", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isWritable", "(", "int", "column", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "SqlitePreparedStatement", "(", "SqliteConnection", "connection", ",", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "super", "(", "connection", ",", "sql", ",", "autoGeneratedKeys", ")", ";", "this", ".", "connection", "=", "connection", ";", "statement", "=", "connection", ".", "getDatabase", "(", ")", ".", "compileStatement", "(", "sql", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "bindNullOrString", "(", "int", "index", ",", "Object", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "statement", ".", "bindNull", "(", "index", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "null", ")", ";", "}", "}", "else", "{", "String", "string", "=", "value", ".", "toString", "(", ")", ";", "statement", ".", "bindString", "(", "index", ",", "string", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "string", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "bindLong", "(", "int", "index", ",", "long", "value", ")", "{", "statement", ".", "bindLong", "(", "index", ",", "value", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "value", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "bindDouble", "(", "int", "index", ",", "double", "value", ")", "{", "statement", ".", "bindDouble", "(", "index", ",", "value", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "value", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "bindBlob", "(", "int", "index", ",", "byte", "[", "]", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "statement", ".", "bindNull", "(", "index", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "null", ")", ";", "}", "}", "else", "{", "statement", ".", "bindBlob", "(", "index", ",", "value", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "'", "\"", "+", "byteToHexString", "(", "value", ")", "+", "\"", "<STR_LIT>", "'", "\"", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "SQLException", "{", "clearParameters", "(", ")", ";", "statement", ".", "close", "(", ")", ";", "if", "(", "cursor", "!", "=", "null", ")", "{", "cursor", ".", "close", "(", ")", ";", "}", "super", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "executeQuery", "(", "String", "sql", ")", "throws", "SQLException", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearParameters", "(", ")", "throws", "SQLException", "{", "throwIfClosed", "(", ")", ";", "statement", ".", "clearBindings", "(", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "clear", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", ")", "throws", "SQLException", "{", "throwIfClosed", "(", ")", ";", "try", "{", "statement", ".", "execute", "(", ")", ";", "}", "catch", "(", "android", ".", "database", ".", "SQLException", "e", ")", "{", "SqliteConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "executeQuery", "(", ")", "throws", "SQLException", "{", "throwIfClosed", "(", ")", ";", "try", "{", "String", "[", "]", "args", "=", "bindingsToArray", "(", ")", ";", "if", "(", "cursor", "!", "=", "null", ")", "{", "cursor", ".", "setSelectionArguments", "(", "args", ")", ";", "if", "(", "!", "cursor", ".", "requery", "(", ")", ")", "{", "cursor", ".", "close", "(", ")", ";", "cursor", "=", "null", ";", "}", "}", "if", "(", "cursor", "=", "=", "null", ")", "{", "cursor", "=", "(", "SQLiteCursor", ")", "connection", ".", "getDatabase", "(", ")", ".", "rawQuery", "(", "sql", ",", "args", ")", ";", "}", "return", "queryResult", "=", "new", "CursorResultSet", "(", "this", ",", "cursor", ",", "false", ")", ";", "}", "catch", "(", "android", ".", "database", ".", "SQLException", "e", ")", "{", "SqliteConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", ")", "throws", "SQLException", "{", "throwIfClosed", "(", ")", ";", "if", "(", "autoGeneratedKeys", "=", "=", "RETURN_GENERATED_KEYS", ")", "{", "try", "{", "long", "rowId", "=", "statement", ".", "executeInsert", "(", ")", ";", "insertResult", "=", "new", "SingleResultSet", "(", "this", ",", "rowId", ")", ";", "updateCount", "=", "1", ";", "}", "catch", "(", "android", ".", "database", ".", "SQLException", "e", ")", "{", "SqliteConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "}", "else", "{", "try", "{", "updateCount", "=", "statement", ".", "executeUpdateDelete", "(", ")", ";", "}", "catch", "(", "android", ".", "database", ".", "SQLException", "e", ")", "{", "SqliteConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "}", "return", "updateCount", ";", "}", "</s>"]
["<s>", "SqliteStatement", "(", "SqliteConnection", "connection", ")", "{", "super", "(", "connection", ")", ";", "this", ".", "connection", "=", "connection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "SQLiteStatement", "statement", "=", "null", ";", "try", "{", "statement", "=", "connection", ".", "getDatabase", "(", ")", ".", "compileStatement", "(", "sql", ")", ";", "if", "(", "autoGeneratedKeys", "=", "=", "RETURN_GENERATED_KEYS", ")", "{", "long", "rowId", "=", "statement", ".", "executeInsert", "(", ")", ";", "insertResult", "=", "new", "SingleResultSet", "(", "this", ",", "rowId", ")", ";", "return", "true", ";", "}", "else", "{", "statement", ".", "execute", "(", ")", ";", "}", "}", "catch", "(", "android", ".", "database", ".", "SQLException", "e", ")", "{", "SqliteConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "finally", "{", "if", "(", "statement", "!", "=", "null", ")", "{", "statement", ".", "close", "(", ")", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "executeQuery", "(", "String", "sql", ")", "throws", "SQLException", "{", "throwIfClosed", "(", ")", ";", "try", "{", "@", "SuppressLint", "(", "\"", "<STR_LIT>", "\"", ")", "Cursor", "cursor", "=", "connection", ".", "getDatabase", "(", ")", ".", "rawQuery", "(", "sql", ",", "null", ")", ";", "return", "queryResult", "=", "new", "CursorResultSet", "(", "this", ",", "cursor", ",", "true", ")", ";", "}", "catch", "(", "android", ".", "database", ".", "SQLException", "e", ")", "{", "SqliteConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "SQLiteStatement", "statement", "=", "null", ";", "try", "{", "statement", "=", "connection", ".", "getDatabase", "(", ")", ".", "compileStatement", "(", "sql", ")", ";", "if", "(", "autoGeneratedKeys", "=", "=", "RETURN_GENERATED_KEYS", ")", "{", "long", "rowId", "=", "statement", ".", "executeInsert", "(", ")", ";", "insertResult", "=", "new", "SingleResultSet", "(", "this", ",", "rowId", ")", ";", "updateCount", "=", "1", ";", "}", "else", "{", "updateCount", "=", "statement", ".", "executeUpdateDelete", "(", ")", ";", "}", "}", "catch", "(", "android", ".", "database", ".", "SQLException", "e", ")", "{", "SqliteConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "finally", "{", "if", "(", "statement", "!", "=", "null", ")", "{", "statement", ".", "close", "(", ")", ";", "}", "}", "return", "updateCount", ";", "}", "</s>"]
["<s>", "void", "setLoggingEnabled", "(", "boolean", "enable", ")", ";", "</s>"]
["<s>", "void", "setTableCreationMode", "(", "TableCreationMode", "mode", ")", ";", "</s>"]
["<s>", "Configuration", "getConfiguration", "(", ")", ";", "</s>"]
["<s>", "void", "onCreate", "(", "T", "db", ")", ";", "</s>"]
["<s>", "void", "onConfigure", "(", "T", "db", ")", ";", "</s>"]
["<s>", "void", "onUpgrade", "(", "T", "db", ",", "int", "oldVersion", ",", "int", "newVersion", ")", ";", "</s>"]
["<s>", "T", "getReadableDatabase", "(", ")", ";", "</s>"]
["<s>", "T", "getWritableDatabase", "(", ")", ";", "</s>"]
["<s>", "void", "close", "(", ")", ";", "</s>"]
["<s>", "protected", "BasePreparedStatement", "(", "BaseConnection", "connection", ",", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "super", "(", "connection", ")", ";", "if", "(", "sql", "=", "=", "null", ")", "{", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "autoGeneratedKeys", "!", "=", "RETURN_GENERATED_KEYS", ")", "{", "bindings", "=", "new", "ArrayList", "<", ">", "(", "<NUM_LIT:4>", ")", ";", "}", "this", ".", "sql", "=", "sql", ";", "this", ".", "autoGeneratedKeys", "=", "autoGeneratedKeys", ";", "}", "</s>"]
["<s>", "protected", "abstract", "void", "bindNullOrString", "(", "int", "index", ",", "Object", "value", ")", ";", "</s>"]
["<s>", "protected", "abstract", "void", "bindLong", "(", "int", "index", ",", "long", "value", ")", ";", "</s>"]
["<s>", "protected", "abstract", "void", "bindDouble", "(", "int", "index", ",", "double", "value", ")", ";", "</s>"]
["<s>", "protected", "abstract", "void", "bindBlob", "(", "int", "index", ",", "byte", "[", "]", "value", ")", ";", "</s>"]
["<s>", "protected", "String", "[", "]", "bindingsToArray", "(", ")", "{", "String", "[", "]", "args", "=", "new", "String", "[", "bindings", ".", "size", "(", ")", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "bindings", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "Object", "value", "=", "bindings", ".", "get", "(", "i", ")", ";", "if", "(", "value", "!", "=", "null", ")", "{", "args", "[", "i", "]", "=", "value", ".", "toString", "(", ")", ";", "}", "}", "return", "args", ";", "}", "</s>"]
["<s>", "protected", "static", "String", "byteToHexString", "(", "byte", "[", "]", "bytes", ")", "{", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", "bytes", ".", "length", "*", "<NUM_LIT:2>", ")", ";", "for", "(", "byte", "b", ":", "bytes", ")", "{", "sb", ".", "append", "(", "hex", "[", "(", "b", ">", ">", "<NUM_LIT:4>", ")", "&", "<NUM_LIT>", "]", ")", ";", "sb", ".", "append", "(", "hex", "[", "(", "b", "&", "<NUM_LIT>", ")", "]", ")", ";", "}", "return", "sb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addBatch", "(", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSetMetaData", "getMetaData", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ParameterMetaData", "getParameterMetaData", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setArray", "(", "int", "parameterIndex", ",", "Array", "theArray", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setAsciiStream", "(", "int", "parameterIndex", ",", "InputStream", "theInputStream", ",", "int", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBigDecimal", "(", "int", "parameterIndex", ",", "BigDecimal", "theBigDecimal", ")", "throws", "SQLException", "{", "bindNullOrString", "(", "parameterIndex", ",", "theBigDecimal", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBinaryStream", "(", "int", "parameterIndex", ",", "InputStream", "theInputStream", ",", "int", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBlob", "(", "int", "parameterIndex", ",", "Blob", "theBlob", ")", "throws", "SQLException", "{", "setBytes", "(", "parameterIndex", ",", "theBlob", ".", "getBytes", "(", "0", ",", "(", "int", ")", "theBlob", ".", "length", "(", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBoolean", "(", "int", "parameterIndex", ",", "boolean", "theBoolean", ")", "throws", "SQLException", "{", "long", "value", "=", "theBoolean", "?", "1", ":", "0", ";", "bindLong", "(", "parameterIndex", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setByte", "(", "int", "parameterIndex", ",", "byte", "theByte", ")", "throws", "SQLException", "{", "bindLong", "(", "parameterIndex", ",", "(", "long", ")", "theByte", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBytes", "(", "int", "parameterIndex", ",", "byte", "[", "]", "theBytes", ")", "throws", "SQLException", "{", "bindBlob", "(", "parameterIndex", ",", "theBytes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setCharacterStream", "(", "int", "parameterIndex", ",", "Reader", "reader", ",", "int", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setClob", "(", "int", "parameterIndex", ",", "Clob", "theClob", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setDate", "(", "int", "parameterIndex", ",", "Date", "theDate", ")", "throws", "SQLException", "{", "setDate", "(", "parameterIndex", ",", "theDate", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setDate", "(", "int", "parameterIndex", ",", "Date", "theDate", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "if", "(", "theDate", "=", "=", "null", ")", "{", "bindNullOrString", "(", "parameterIndex", ",", "null", ")", ";", "}", "else", "{", "bindLong", "(", "parameterIndex", ",", "theDate", ".", "getTime", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setDouble", "(", "int", "parameterIndex", ",", "double", "theDouble", ")", "throws", "SQLException", "{", "bindDouble", "(", "parameterIndex", ",", "theDouble", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFloat", "(", "int", "parameterIndex", ",", "float", "theFloat", ")", "throws", "SQLException", "{", "bindDouble", "(", "parameterIndex", ",", "(", "double", ")", "theFloat", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setInt", "(", "int", "parameterIndex", ",", "int", "theInt", ")", "throws", "SQLException", "{", "bindLong", "(", "parameterIndex", ",", "(", "long", ")", "theInt", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setLong", "(", "int", "parameterIndex", ",", "long", "theLong", ")", "throws", "SQLException", "{", "bindLong", "(", "parameterIndex", ",", "theLong", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNull", "(", "int", "parameterIndex", ",", "int", "sqlType", ")", "throws", "SQLException", "{", "bindNullOrString", "(", "parameterIndex", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNull", "(", "int", "paramIndex", ",", "int", "sqlType", ",", "String", "typeName", ")", "throws", "SQLException", "{", "bindNullOrString", "(", "paramIndex", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setObject", "(", "int", "parameterIndex", ",", "Object", "theObject", ")", "throws", "SQLException", "{", "if", "(", "theObject", "=", "=", "null", ")", "{", "setNull", "(", "parameterIndex", ",", "Types", ".", "NULL", ")", ";", "}", "else", "{", "if", "(", "theObject", "instanceof", "String", ")", "{", "setString", "(", "parameterIndex", ",", "theObject", ".", "toString", "(", ")", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "Byte", ")", "{", "setByte", "(", "parameterIndex", ",", "(", "Byte", ")", "theObject", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "Short", ")", "{", "setShort", "(", "parameterIndex", ",", "(", "Short", ")", "theObject", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "Integer", ")", "{", "setInt", "(", "parameterIndex", ",", "(", "Integer", ")", "theObject", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "Long", ")", "{", "setLong", "(", "parameterIndex", ",", "(", "Long", ")", "theObject", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "Double", ")", "{", "setDouble", "(", "parameterIndex", ",", "(", "Double", ")", "theObject", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "Float", ")", "{", "setFloat", "(", "parameterIndex", ",", "(", "Float", ")", "theObject", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "Boolean", ")", "{", "setLong", "(", "parameterIndex", ",", "(", "Boolean", ")", "theObject", "?", "1", ":", "0", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "byte", "[", "]", ")", "{", "setBytes", "(", "parameterIndex", ",", "(", "byte", "[", "]", ")", "theObject", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "Date", ")", "{", "setDate", "(", "parameterIndex", ",", "(", "Date", ")", "theObject", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "java", ".", "util", ".", "Date", ")", "{", "java", ".", "util", ".", "Date", "date", "=", "(", "java", ".", "util", ".", "Date", ")", "theObject", ";", "setDate", "(", "parameterIndex", ",", "new", "Date", "(", "date", ".", "getTime", "(", ")", ")", ")", ";", "}", "else", "{", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", "+", "theObject", ".", "getClass", "(", ")", ".", "getCanonicalName", "(", ")", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setObject", "(", "int", "parameterIndex", ",", "Object", "theObject", ",", "int", "targetSqlType", ")", "throws", "SQLException", "{", "if", "(", "theObject", "=", "=", "null", "|", "|", "targetSqlType", "=", "=", "Types", ".", "NULL", ")", "{", "setNull", "(", "parameterIndex", ",", "Types", ".", "NULL", ")", ";", "return", ";", "}", "switch", "(", "targetSqlType", ")", "{", "case", "Types", ".", "INTEGER", ":", "case", "Types", ".", "SMALLINT", ":", "if", "(", "theObject", "instanceof", "Integer", ")", "{", "bindLong", "(", "parameterIndex", ",", "(", "(", "Integer", ")", "theObject", ")", ".", "longValue", "(", ")", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "Long", ")", "{", "bindLong", "(", "parameterIndex", ",", "(", "Long", ")", "theObject", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "Short", ")", "{", "bindLong", "(", "parameterIndex", ",", "(", "(", "Short", ")", "theObject", ")", ".", "longValue", "(", ")", ")", ";", "}", "break", ";", "case", "Types", ".", "TINYINT", ":", "if", "(", "theObject", "instanceof", "Byte", ")", "{", "bindLong", "(", "parameterIndex", ",", "(", "(", "Byte", ")", "theObject", ")", ".", "longValue", "(", ")", ")", ";", "}", "break", ";", "case", "Types", ".", "DOUBLE", ":", "case", "Types", ".", "FLOAT", ":", "case", "Types", ".", "REAL", ":", "if", "(", "theObject", "instanceof", "Double", ")", "{", "setDouble", "(", "parameterIndex", ",", "(", "Double", ")", "theObject", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "Float", ")", "{", "setFloat", "(", "parameterIndex", ",", "(", "Float", ")", "theObject", ")", ";", "}", "break", ";", "case", "Types", ".", "BLOB", ":", "case", "Types", ".", "BINARY", ":", "case", "Types", ".", "VARBINARY", ":", "setBytes", "(", "parameterIndex", ",", "(", "byte", "[", "]", ")", "theObject", ")", ";", "break", ";", "case", "Types", ".", "BOOLEAN", ":", "Boolean", "value", "=", "(", "Boolean", ")", "theObject", ";", "setBoolean", "(", "parameterIndex", ",", "value", ")", ";", "break", ";", "case", "Types", ".", "VARCHAR", ":", "case", "Types", ".", "NVARCHAR", ":", "String", "string", "=", "theObject", "instanceof", "String", "?", "(", "String", ")", "theObject", ":", "theObject", ".", "toString", "(", ")", ";", "setString", "(", "parameterIndex", ",", "string", ")", ";", "break", ";", "case", "Types", ".", "DATE", ":", "if", "(", "theObject", "instanceof", "Date", ")", "{", "Date", "date", "=", "(", "Date", ")", "theObject", ";", "setLong", "(", "parameterIndex", ",", "date", ".", "getTime", "(", ")", ")", ";", "}", "else", "if", "(", "theObject", "instanceof", "java", ".", "util", ".", "Date", ")", "{", "java", ".", "util", ".", "Date", "date", "=", "(", "java", ".", "util", ".", "Date", ")", "theObject", ";", "setLong", "(", "parameterIndex", ",", "date", ".", "getTime", "(", ")", ")", ";", "}", "break", ";", "case", "Types", ".", "TIMESTAMP", ":", "if", "(", "theObject", "instanceof", "Timestamp", ")", "{", "Timestamp", "timestamp", "=", "(", "Timestamp", ")", "theObject", ";", "setLong", "(", "parameterIndex", ",", "timestamp", ".", "getTime", "(", ")", ")", ";", "}", "break", ";", "case", "Types", ".", "BIGINT", ":", "if", "(", "theObject", "instanceof", "BigInteger", ")", "{", "BigInteger", "bigInteger", "=", "(", "BigInteger", ")", "theObject", ";", "bindNullOrString", "(", "parameterIndex", ",", "bigInteger", ".", "toString", "(", ")", ")", ";", "}", "break", ";", "default", ":", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", "+", "targetSqlType", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setObject", "(", "int", "parameterIndex", ",", "Object", "theObject", ",", "int", "targetSqlType", ",", "int", "scale", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setRef", "(", "int", "parameterIndex", ",", "Ref", "theRef", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setShort", "(", "int", "parameterIndex", ",", "short", "theShort", ")", "throws", "SQLException", "{", "bindLong", "(", "parameterIndex", ",", "(", "long", ")", "theShort", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setString", "(", "int", "parameterIndex", ",", "String", "theString", ")", "throws", "SQLException", "{", "bindNullOrString", "(", "parameterIndex", ",", "theString", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTime", "(", "int", "parameterIndex", ",", "Time", "theTime", ")", "throws", "SQLException", "{", "if", "(", "theTime", "=", "=", "null", ")", "{", "bindNullOrString", "(", "parameterIndex", ",", "null", ")", ";", "}", "else", "{", "bindLong", "(", "parameterIndex", ",", "theTime", ".", "getTime", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTime", "(", "int", "parameterIndex", ",", "Time", "theTime", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "if", "(", "theTime", "=", "=", "null", ")", "{", "bindNullOrString", "(", "parameterIndex", ",", "null", ")", ";", "}", "else", "{", "bindLong", "(", "parameterIndex", ",", "theTime", ".", "getTime", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTimestamp", "(", "int", "parameterIndex", ",", "Timestamp", "theTimestamp", ")", "throws", "SQLException", "{", "if", "(", "theTimestamp", "=", "=", "null", ")", "{", "bindNullOrString", "(", "parameterIndex", ",", "null", ")", ";", "}", "else", "{", "bindLong", "(", "parameterIndex", ",", "theTimestamp", ".", "getTime", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTimestamp", "(", "int", "parameterIndex", ",", "Timestamp", "theTimestamp", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "if", "(", "theTimestamp", "=", "=", "null", ")", "{", "bindNullOrString", "(", "parameterIndex", ",", "null", ")", ";", "}", "else", "{", "bindLong", "(", "parameterIndex", ",", "theTimestamp", ".", "getTime", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setUnicodeStream", "(", "int", "parameterIndex", ",", "InputStream", "theInputStream", ",", "int", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setURL", "(", "int", "parameterIndex", ",", "URL", "theURL", ")", "throws", "SQLException", "{", "bindNullOrString", "(", "parameterIndex", ",", "theURL", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setRowId", "(", "int", "parameterIndex", ",", "RowId", "theRowId", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNString", "(", "int", "parameterIndex", ",", "String", "theString", ")", "throws", "SQLException", "{", "bindNullOrString", "(", "parameterIndex", ",", "theString", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNCharacterStream", "(", "int", "parameterIndex", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNClob", "(", "int", "parameterIndex", ",", "NClob", "value", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setClob", "(", "int", "parameterIndex", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBlob", "(", "int", "parameterIndex", ",", "InputStream", "inputStream", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNClob", "(", "int", "parameterIndex", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setSQLXML", "(", "int", "parameterIndex", ",", "SQLXML", "xmlObject", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setAsciiStream", "(", "int", "parameterIndex", ",", "InputStream", "inputStream", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBinaryStream", "(", "int", "parameterIndex", ",", "InputStream", "inputStream", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setCharacterStream", "(", "int", "parameterIndex", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setAsciiStream", "(", "int", "parameterIndex", ",", "InputStream", "inputStream", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBinaryStream", "(", "int", "parameterIndex", ",", "InputStream", "inputStream", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setCharacterStream", "(", "int", "parameterIndex", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNCharacterStream", "(", "int", "parameterIndex", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setClob", "(", "int", "parameterIndex", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBlob", "(", "int", "parameterIndex", ",", "InputStream", "inputStream", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNClob", "(", "int", "parameterIndex", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "sql", ";", "}", "</s>"]
["<s>", "SqliteConnection", "(", "SQLiteDatabase", "db", ")", "{", "if", "(", "db", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "this", ".", "db", "=", "db", ";", "autoCommit", "=", "true", ";", "metaData", "=", "new", "SqliteMetaData", "(", "this", ")", ";", "}", "</s>"]
["<s>", "SQLiteDatabase", "getDatabase", "(", ")", "{", "return", "db", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "ensureTransaction", "(", ")", "{", "if", "(", "!", "autoCommit", ")", "{", "if", "(", "!", "db", ".", "inTransaction", "(", ")", ")", "{", "db", ".", "beginTransactionNonExclusive", "(", ")", ";", "enteredTransaction", "=", "true", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "execSQL", "(", "String", "sql", ")", "throws", "SQLException", "{", "try", "{", "db", ".", "execSQL", "(", "sql", ")", ";", "}", "catch", "(", "android", ".", "database", ".", "SQLException", "e", ")", "{", "throwSQLException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "commit", "(", ")", "throws", "SQLException", "{", "if", "(", "autoCommit", ")", "{", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "db", ".", "inTransaction", "(", ")", "&", "&", "enteredTransaction", ")", "{", "try", "{", "db", ".", "setTransactionSuccessful", "(", ")", ";", "}", "catch", "(", "IllegalStateException", "e", ")", "{", "throw", "new", "SQLException", "(", "e", ")", ";", "}", "finally", "{", "db", ".", "endTransaction", "(", ")", ";", "enteredTransaction", "=", "false", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", ")", "throws", "SQLException", "{", "return", "new", "SqliteStatement", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", "int", "resultSetType", ",", "int", "resultSetConcurrency", ")", "throws", "SQLException", "{", "return", "createStatement", "(", "resultSetType", ",", "resultSetConcurrency", ",", "ResultSet", ".", "HOLD_CURSORS_OVER_COMMIT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", "int", "resultSetType", ",", "int", "resultSetConcurrency", ",", "int", "resultSetHoldability", ")", "throws", "SQLException", "{", "if", "(", "resultSetConcurrency", "=", "=", "ResultSet", ".", "CONCUR_UPDATABLE", ")", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "return", "new", "SqliteStatement", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "DatabaseMetaData", "getMetaData", "(", ")", "throws", "SQLException", "{", "return", "metaData", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isClosed", "(", ")", "throws", "SQLException", "{", "return", "!", "db", ".", "isOpen", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isReadOnly", "(", ")", "throws", "SQLException", "{", "return", "db", ".", "isReadOnly", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "return", "new", "SqlitePreparedStatement", "(", "this", ",", "sql", ",", "autoGeneratedKeys", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "resultSetType", ",", "int", "resultSetConcurrency", ",", "int", "resultSetHoldability", ")", "throws", "SQLException", "{", "if", "(", "resultSetConcurrency", "=", "=", "ResultSet", ".", "CONCUR_UPDATABLE", ")", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "return", "new", "SqlitePreparedStatement", "(", "this", ",", "sql", ",", "Statement", ".", "NO_GENERATED_KEYS", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "String", "[", "]", "columnNames", ")", "throws", "SQLException", "{", "if", "(", "columnNames", ".", "length", "!", "=", "1", ")", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", ")", ";", "}", "return", "new", "SqlitePreparedStatement", "(", "this", ",", "sql", ",", "Statement", ".", "RETURN_GENERATED_KEYS", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "rollback", "(", ")", "throws", "SQLException", "{", "if", "(", "autoCommit", ")", "{", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "db", ".", "endTransaction", "(", ")", ";", "}", "</s>"]
["<s>", "protected", "SqliteMetaData", "(", "BaseConnection", "connection", ")", "{", "this", ".", "connection", "=", "connection", ";", "}", "</s>"]
["<s>", "protected", "<", "R", ">", "R", "queryMemory", "(", "Function", "<", "Cursor", ",", "R", ">", "function", ",", "String", "query", ")", "throws", "SQLException", "{", "try", "{", "final", "SQLiteDatabase", "database", "=", "SQLiteDatabase", ".", "openOrCreateDatabase", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "Cursor", "cursor", "=", "database", ".", "rawQuery", "(", "query", ",", "null", ")", ";", "return", "function", ".", "apply", "(", "closeWithCursor", "(", "database", ",", "cursor", ")", ")", ";", "}", "catch", "(", "android", ".", "database", ".", "SQLException", "e", ")", "{", "throw", "new", "SQLException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "protected", "CursorWrapper", "closeWithCursor", "(", "final", "Closeable", "closeable", ",", "Cursor", "cursor", ")", "{", "return", "new", "CursorWrapper", "(", "cursor", ")", "{", "@", "Override", "public", "void", "close", "(", ")", "{", "super", ".", "close", "(", ")", ";", "if", "(", "closeable", "!", "=", "null", ")", "{", "try", "{", "closeable", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "ignored", ")", "{", "}", "}", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "super", ".", "close", "(", ")", ";", "if", "(", "closeable", "!", "=", "null", ")", "{", "try", "{", "closeable", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "ignored", ")", "{", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "allProceduresAreCallable", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "allTablesAreSelectable", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "dataDefinitionCausesTransactionCommit", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "dataDefinitionIgnoredInTransactions", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "deletesAreDetected", "(", "int", "type", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "doesMaxRowSizeIncludeBlobs", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getAttributes", "(", "String", "catalog", ",", "String", "schemaPattern", ",", "String", "typeNamePattern", ",", "String", "attributeNamePattern", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getBestRowIdentifier", "(", "String", "catalog", ",", "String", "schema", ",", "String", "table", ",", "int", "scope", ",", "boolean", "nullable", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getCatalogs", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getCatalogSeparator", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getCatalogTerm", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getColumnPrivileges", "(", "String", "catalog", ",", "String", "schema", ",", "String", "table", ",", "String", "columnNamePattern", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getColumns", "(", "String", "catalog", ",", "String", "schemaPattern", ",", "String", "tableNamePattern", ",", "String", "columnNamePattern", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Connection", "getConnection", "(", ")", "throws", "SQLException", "{", "return", "connection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getCrossReference", "(", "String", "primaryCatalog", ",", "String", "primarySchema", ",", "String", "primaryTable", ",", "String", "foreignCatalog", ",", "String", "foreignSchema", ",", "String", "foreignTable", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getDatabaseMajorVersion", "(", ")", "throws", "SQLException", "{", "return", "Integer", ".", "parseInt", "(", "getDatabaseProductVersion", "(", ")", ".", "split", "(", "\"", "<STR_LIT:.>", "\"", ")", "[", "0", "]", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getDatabaseMinorVersion", "(", ")", "throws", "SQLException", "{", "return", "Integer", ".", "parseInt", "(", "getDatabaseProductVersion", "(", ")", ".", "split", "(", "\"", "<STR_LIT:.>", "\"", ")", "[", "1", "]", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getDatabaseProductName", "(", ")", "throws", "SQLException", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getDatabaseProductVersion", "(", ")", "throws", "SQLException", "{", "return", "queryMemory", "(", "new", "Function", "<", "Cursor", ",", "String", ">", "(", ")", "{", "@", "Override", "public", "String", "apply", "(", "Cursor", "cursor", ")", "{", "String", "version", "=", "\"", "\"", ";", "if", "(", "cursor", ".", "moveToNext", "(", ")", ")", "{", "version", "=", "cursor", ".", "getString", "(", "0", ")", ";", "}", "return", "version", ";", "}", "}", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "apply", "(", "Cursor", "cursor", ")", "{", "String", "version", "=", "\"", "\"", ";", "if", "(", "cursor", ".", "moveToNext", "(", ")", ")", "{", "version", "=", "cursor", ".", "getString", "(", "0", ")", ";", "}", "return", "version", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getDefaultTransactionIsolation", "(", ")", "throws", "SQLException", "{", "return", "Connection", ".", "TRANSACTION_READ_COMMITTED", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getDriverMajorVersion", "(", ")", "{", "return", "1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getDriverMinorVersion", "(", ")", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getDriverName", "(", ")", "throws", "SQLException", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getDriverVersion", "(", ")", "throws", "SQLException", "{", "return", "\"", "<STR_LIT:1.0>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getExportedKeys", "(", "String", "catalog", ",", "String", "schema", ",", "String", "table", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getExtraNameCharacters", "(", ")", "throws", "SQLException", "{", "return", "\"", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getIdentifierQuoteString", "(", ")", "throws", "SQLException", "{", "return", "\"", "<STR_LIT:\\\">", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getImportedKeys", "(", "String", "catalog", ",", "String", "schema", ",", "String", "table", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getIndexInfo", "(", "String", "catalog", ",", "String", "schema", ",", "String", "table", ",", "boolean", "unique", ",", "boolean", "approximate", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getJDBCMajorVersion", "(", ")", "throws", "SQLException", "{", "return", "1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getJDBCMinorVersion", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxBinaryLiteralLength", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxCatalogNameLength", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxCharLiteralLength", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxColumnNameLength", "(", ")", "throws", "SQLException", "{", "return", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxColumnsInGroupBy", "(", ")", "throws", "SQLException", "{", "return", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxColumnsInIndex", "(", ")", "throws", "SQLException", "{", "return", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxColumnsInOrderBy", "(", ")", "throws", "SQLException", "{", "return", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxColumnsInSelect", "(", ")", "throws", "SQLException", "{", "return", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxColumnsInTable", "(", ")", "throws", "SQLException", "{", "return", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxConnections", "(", ")", "throws", "SQLException", "{", "return", "1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxCursorNameLength", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxIndexLength", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxProcedureNameLength", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxRowSize", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxSchemaNameLength", "(", ")", "throws", "SQLException", "{", "return", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxStatementLength", "(", ")", "throws", "SQLException", "{", "return", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxStatements", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxTableNameLength", "(", ")", "throws", "SQLException", "{", "return", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxTablesInSelect", "(", ")", "throws", "SQLException", "{", "return", "<NUM_LIT>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxUserNameLength", "(", ")", "throws", "SQLException", "{", "return", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getNumericFunctions", "(", ")", "throws", "SQLException", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getPrimaryKeys", "(", "String", "catalog", ",", "String", "schema", ",", "String", "table", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getProcedureColumns", "(", "String", "catalog", ",", "String", "schemaPattern", ",", "String", "procedureNamePattern", ",", "String", "columnNamePattern", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getProcedures", "(", "String", "catalog", ",", "String", "schemaPattern", ",", "String", "procedureNamePattern", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getProcedureTerm", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getResultSetHoldability", "(", ")", "throws", "SQLException", "{", "return", "ResultSet", ".", "HOLD_CURSORS_OVER_COMMIT", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getSchemas", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getSchemaTerm", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getSearchStringEscape", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getSQLKeywords", "(", ")", "throws", "SQLException", "{", "return", "\"", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSQLStateType", "(", ")", "throws", "SQLException", "{", "return", "sqlStateSQL99", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getStringFunctions", "(", ")", "throws", "SQLException", "{", "return", "\"", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getSuperTables", "(", "String", "catalog", ",", "String", "schemaPattern", ",", "String", "tableNamePattern", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getSuperTypes", "(", "String", "catalog", ",", "String", "schemaPattern", ",", "String", "typeNamePattern", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getSystemFunctions", "(", ")", "throws", "SQLException", "{", "return", "\"", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getTablePrivileges", "(", "String", "catalog", ",", "String", "schemaPattern", ",", "String", "tableNamePattern", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getTables", "(", "String", "catalog", ",", "String", "schemaPattern", ",", "String", "tableNamePattern", ",", "String", "[", "]", "types", ")", "throws", "SQLException", "{", "if", "(", "types", "=", "=", "null", ")", "{", "types", "=", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ";", "}", "if", "(", "tableNamePattern", "=", "=", "null", ")", "{", "tableNamePattern", "=", "\"", "<STR_LIT:%>", "\"", ";", "}", "Map", "<", "String", ",", "String", ">", "select", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "select", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "select", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "select", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "select", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "select", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "select", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "select", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "select", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "select", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "select", ".", "put", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "QueryBuilder", "qb", "=", "new", "QueryBuilder", "(", "new", "QueryBuilder", ".", "Options", "(", "getIdentifierQuoteString", "(", ")", ",", "true", ",", "null", ",", "null", ",", "false", ",", "false", ")", ")", ".", "keyword", "(", "Keyword", ".", "SELECT", ")", ".", "commaSeparated", "(", "select", ".", "entrySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Map", ".", "Entry", "<", "String", ",", "String", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Map", ".", "Entry", "<", "String", ",", "String", ">", "entry", ")", "{", "String", "value", "=", "entry", ".", "getValue", "(", ")", "=", "=", "null", "?", "\"", "<STR_LIT>", "\"", ":", "entry", ".", "getValue", "(", ")", ";", "qb", ".", "append", "(", "value", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "entry", ".", "getKey", "(", ")", ")", ";", "}", "}", ")", ".", "keyword", "(", "Keyword", ".", "FROM", ")", ".", "openParenthesis", "(", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "closeParenthesis", "(", ")", ".", "keyword", "(", "Keyword", ".", "WHERE", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "tableNamePattern", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparated", "(", "Arrays", ".", "asList", "(", "types", ")", ")", ".", "closeParenthesis", "(", ")", ".", "keyword", "(", "Keyword", ".", "ORDER", ",", "Keyword", ".", "BY", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "return", "queryMemory", "(", "new", "Function", "<", "Cursor", ",", "ResultSet", ">", "(", ")", "{", "@", "Override", "public", "ResultSet", "apply", "(", "Cursor", "cursor", ")", "{", "return", "new", "CursorResultSet", "(", "null", ",", "cursor", ",", "true", ")", ";", "}", "}", ",", "qb", ".", "toString", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Map", ".", "Entry", "<", "String", ",", "String", ">", "entry", ")", "{", "String", "value", "=", "entry", ".", "getValue", "(", ")", "=", "=", "null", "?", "\"", "<STR_LIT>", "\"", ":", "entry", ".", "getValue", "(", ")", ";", "qb", ".", "append", "(", "value", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "entry", ".", "getKey", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "apply", "(", "Cursor", "cursor", ")", "{", "return", "new", "CursorResultSet", "(", "null", ",", "cursor", ",", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getTableTypes", "(", ")", "throws", "SQLException", "{", "return", "queryMemory", "(", "new", "Function", "<", "Cursor", ",", "ResultSet", ">", "(", ")", "{", "@", "Override", "public", "ResultSet", "apply", "(", "Cursor", "cursor", ")", "{", "return", "new", "CursorResultSet", "(", "null", ",", "cursor", ",", "true", ")", ";", "}", "}", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "apply", "(", "Cursor", "cursor", ")", "{", "return", "new", "CursorResultSet", "(", "null", ",", "cursor", ",", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getTimeDateFunctions", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getTypeInfo", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getUDTs", "(", "String", "catalog", ",", "String", "schemaPattern", ",", "String", "typeNamePattern", ",", "int", "[", "]", "types", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getURL", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getUserName", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getVersionColumns", "(", "String", "catalog", ",", "String", "schema", ",", "String", "table", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "insertsAreDetected", "(", "int", "type", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isCatalogAtStart", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isReadOnly", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "isReadOnly", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "locatorsUpdateCopy", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "nullPlusNonNullIsNull", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "nullsAreSortedAtEnd", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "nullsAreSortedAtStart", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "nullsAreSortedHigh", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "nullsAreSortedLow", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "othersDeletesAreVisible", "(", "int", "type", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "othersInsertsAreVisible", "(", "int", "type", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "othersUpdatesAreVisible", "(", "int", "type", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "ownDeletesAreVisible", "(", "int", "type", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "ownInsertsAreVisible", "(", "int", "type", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "ownUpdatesAreVisible", "(", "int", "type", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "storesLowerCaseIdentifiers", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "storesLowerCaseQuotedIdentifiers", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "storesMixedCaseIdentifiers", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "storesMixedCaseQuotedIdentifiers", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "storesUpperCaseIdentifiers", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "storesUpperCaseQuotedIdentifiers", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsAlterTableWithAddColumn", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsAlterTableWithDropColumn", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsANSI92EntryLevelSQL", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsANSI92FullSQL", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsANSI92IntermediateSQL", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsBatchUpdates", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsCatalogsInDataManipulation", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsCatalogsInIndexDefinitions", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsCatalogsInPrivilegeDefinitions", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsCatalogsInProcedureCalls", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsCatalogsInTableDefinitions", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsColumnAliasing", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsConvert", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsConvert", "(", "int", "fromType", ",", "int", "toType", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsCoreSQLGrammar", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsCorrelatedSubqueries", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsDataDefinitionAndDataManipulationTransactions", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsDataManipulationTransactionsOnly", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsDifferentTableCorrelationNames", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsExpressionsInOrderBy", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsExtendedSQLGrammar", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsFullOuterJoins", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGetGeneratedKeys", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGroupBy", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGroupByBeyondSelect", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGroupByUnrelated", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsIntegrityEnhancementFacility", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsLikeEscapeClause", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsLimitedOuterJoins", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsMinimumSQLGrammar", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsMixedCaseIdentifiers", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsMixedCaseQuotedIdentifiers", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsMultipleOpenResults", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsMultipleResultSets", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsMultipleTransactions", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsNamedParameters", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsNonNullableColumns", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsOpenCursorsAcrossCommit", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsOpenCursorsAcrossRollback", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsOpenStatementsAcrossCommit", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsOpenStatementsAcrossRollback", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsOrderByUnrelated", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsOuterJoins", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsPositionedDelete", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsPositionedUpdate", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsResultSetConcurrency", "(", "int", "type", ",", "int", "concurrency", ")", "throws", "SQLException", "{", "return", "concurrency", "=", "=", "ResultSet", ".", "CONCUR_READ_ONLY", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsResultSetHoldability", "(", "int", "holdability", ")", "throws", "SQLException", "{", "switch", "(", "holdability", ")", "{", "case", "ResultSet", ".", "HOLD_CURSORS_OVER_COMMIT", ":", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsResultSetType", "(", "int", "type", ")", "throws", "SQLException", "{", "switch", "(", "type", ")", "{", "case", "ResultSet", ".", "TYPE_SCROLL_INSENSITIVE", ":", "case", "ResultSet", ".", "TYPE_FORWARD_ONLY", ":", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsSavepoints", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsSchemasInDataManipulation", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsSchemasInIndexDefinitions", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsSchemasInPrivilegeDefinitions", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsSchemasInProcedureCalls", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsSchemasInTableDefinitions", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsSelectForUpdate", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsStatementPooling", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsStoredProcedures", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsSubqueriesInComparisons", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsSubqueriesInExists", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsSubqueriesInIns", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsSubqueriesInQuantifieds", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsTableCorrelationNames", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsTransactionIsolationLevel", "(", "int", "level", ")", "throws", "SQLException", "{", "switch", "(", "level", ")", "{", "case", "Connection", ".", "TRANSACTION_SERIALIZABLE", ":", "case", "Connection", ".", "TRANSACTION_READ_COMMITTED", ":", "case", "Connection", ".", "TRANSACTION_READ_UNCOMMITTED", ":", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsTransactions", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsUnion", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsUnionAll", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "updatesAreDetected", "(", "int", "type", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "usesLocalFilePerTable", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "usesLocalFiles", "(", ")", "throws", "SQLException", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "autoCommitFailureClosesAllResultSets", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getClientInfoProperties", "(", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getFunctionColumns", "(", "String", "catalog", ",", "String", "schemaPattern", ",", "String", "functionNamePattern", ",", "String", "columnNamePattern", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getFunctions", "(", "String", "catalog", ",", "String", "schemaPattern", ",", "String", "functionNamePattern", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "RowIdLifetime", "getRowIdLifetime", "(", ")", "throws", "SQLException", "{", "return", "RowIdLifetime", ".", "ROWID_UNSUPPORTED", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getSchemas", "(", "String", "catalog", ",", "String", "schemaPattern", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsStoredFunctionsUsingCallSyntax", "(", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "T", "unwrap", "(", "Class", "<", "T", ">", "iface", ")", "throws", "SQLException", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isWrapperFor", "(", "Class", "<", "?", ">", "iface", ")", "throws", "SQLException", "{", "return", "false", ";", "}", "</s>"]
["<s>", "SqlCipherStatement", "(", "SqlCipherConnection", "connection", ")", "{", "super", "(", "connection", ")", ";", "this", ".", "connection", "=", "connection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "SQLiteStatement", "statement", "=", "null", ";", "try", "{", "statement", "=", "connection", ".", "getDatabase", "(", ")", ".", "compileStatement", "(", "sql", ")", ";", "if", "(", "autoGeneratedKeys", "=", "=", "RETURN_GENERATED_KEYS", ")", "{", "long", "rowId", "=", "statement", ".", "executeInsert", "(", ")", ";", "insertResult", "=", "new", "SingleResultSet", "(", "this", ",", "rowId", ")", ";", "return", "true", ";", "}", "else", "{", "statement", ".", "execute", "(", ")", ";", "}", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlCipherConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "finally", "{", "if", "(", "statement", "!", "=", "null", ")", "{", "statement", ".", "close", "(", ")", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "executeQuery", "(", "String", "sql", ")", "throws", "SQLException", "{", "try", "{", "@", "SuppressLint", "(", "\"", "<STR_LIT>", "\"", ")", "Cursor", "cursor", "=", "connection", ".", "getDatabase", "(", ")", ".", "rawQuery", "(", "sql", ",", "null", ")", ";", "return", "queryResult", "=", "new", "CursorResultSet", "(", "this", ",", "cursor", ",", "true", ")", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlCipherConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "SQLiteStatement", "statement", "=", "null", ";", "try", "{", "statement", "=", "connection", ".", "getDatabase", "(", ")", ".", "compileStatement", "(", "sql", ")", ";", "if", "(", "autoGeneratedKeys", "=", "=", "RETURN_GENERATED_KEYS", ")", "{", "long", "rowId", "=", "statement", ".", "executeInsert", "(", ")", ";", "insertResult", "=", "new", "SingleResultSet", "(", "this", ",", "rowId", ")", ";", "return", "1", ";", "}", "else", "{", "return", "updateCount", "=", "statement", ".", "executeUpdateDelete", "(", ")", ";", "}", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlCipherConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "finally", "{", "if", "(", "statement", "!", "=", "null", ")", "{", "statement", ".", "close", "(", ")", ";", "}", "}", "return", "0", ";", "}", "</s>"]
["<s>", "SqlCipherMetaData", "(", "BaseConnection", "connection", ")", "{", "super", "(", "connection", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "<", "R", ">", "R", "queryMemory", "(", "Function", "<", "Cursor", ",", "R", ">", "function", ",", "String", "query", ")", "throws", "SQLException", "{", "try", "{", "final", "SQLiteDatabase", "database", "=", "SQLiteDatabase", ".", "openOrCreateDatabase", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", ",", "null", ")", ";", "Cursor", "cursor", "=", "database", ".", "rawQuery", "(", "query", ",", "null", ")", ";", "return", "function", ".", "apply", "(", "closeWithCursor", "(", "new", "Closeable", "(", ")", "{", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "database", ".", "close", "(", ")", ";", "}", "}", ",", "cursor", ")", ")", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "throw", "new", "SQLException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "IOException", "{", "database", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "public", "SqlCipherDatabaseSource", "(", "Context", "context", ",", "EntityModel", "model", ",", "String", "name", ",", "String", "password", ",", "int", "version", ")", "{", "super", "(", "context", ",", "name", ",", "null", ",", "version", ")", ";", "if", "(", "model", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "this", ".", "platform", "=", "new", "SQLite", "(", ")", ";", "this", ".", "mapping", "=", "onCreateMapping", "(", "platform", ")", ";", "this", ".", "model", "=", "model", ";", "this", ".", "password", "=", "password", ";", "this", ".", "mode", "=", "TableCreationMode", ".", "CREATE_NOT_EXISTS", ";", "SQLiteDatabase", ".", "loadLibs", "(", "context", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setLoggingEnabled", "(", "boolean", "enable", ")", "{", "this", ".", "loggingEnabled", "=", "enable", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTableCreationMode", "(", "TableCreationMode", "mode", ")", "{", "this", ".", "mode", "=", "mode", ";", "}", "</s>"]
["<s>", "protected", "Mapping", "onCreateMapping", "(", "Platform", "platform", ")", "{", "return", "new", "DefaultMapping", "(", "platform", ")", ";", "}", "</s>"]
["<s>", "protected", "void", "onConfigure", "(", "ConfigurationBuilder", "builder", ")", "{", "if", "(", "loggingEnabled", ")", "{", "LoggingListener", "loggingListener", "=", "new", "LoggingListener", "(", ")", ";", "builder", ".", "addStatementListener", "(", "loggingListener", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Connection", "getConnection", "(", "SQLiteDatabase", "db", ")", "throws", "SQLException", "{", "synchronized", "(", "this", ")", "{", "return", "new", "SqlCipherConnection", "(", "db", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Configuration", "getConfiguration", "(", ")", "{", "if", "(", "configuration", "=", "=", "null", ")", "{", "ConfigurationBuilder", "builder", "=", "new", "ConfigurationBuilder", "(", "this", ",", "model", ")", ".", "setMapping", "(", "mapping", ")", ".", "setPlatform", "(", "platform", ")", ".", "setBatchUpdateSize", "(", "<NUM_LIT:1000>", ")", ";", "onConfigure", "(", "builder", ")", ";", "configuration", "=", "builder", ".", "build", "(", ")", ";", "}", "return", "configuration", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "SQLiteDatabase", "db", ")", "{", "this", ".", "db", "=", "db", ";", "new", "SchemaModifier", "(", "getConfiguration", "(", ")", ")", ".", "createTables", "(", "TableCreationMode", ".", "CREATE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onConfigure", "(", "SQLiteDatabase", "db", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpgrade", "(", "final", "SQLiteDatabase", "db", ",", "int", "oldVersion", ",", "int", "newVersion", ")", "{", "this", ".", "db", "=", "db", ";", "SchemaUpdater", "updater", "=", "new", "SchemaUpdater", "(", "getConfiguration", "(", ")", ",", "new", "Function", "<", "String", ",", "Cursor", ">", "(", ")", "{", "@", "Override", "public", "Cursor", "apply", "(", "String", "s", ")", "{", "return", "db", ".", "rawQuery", "(", "s", ",", "null", ")", ";", "}", "}", ",", "mode", ")", ";", "updater", ".", "update", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Cursor", "apply", "(", "String", "s", ")", "{", "return", "db", ".", "rawQuery", "(", "s", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Connection", "getConnection", "(", ")", "throws", "SQLException", "{", "synchronized", "(", "this", ")", "{", "if", "(", "db", "=", "=", "null", ")", "{", "db", "=", "getWritableDatabase", "(", "password", ")", ";", "}", "return", "getConnection", "(", "db", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLiteDatabase", "getReadableDatabase", "(", ")", "{", "return", "getReadableDatabase", "(", "password", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLiteDatabase", "getWritableDatabase", "(", ")", "{", "return", "getWritableDatabase", "(", "password", ")", ";", "}", "</s>"]
["<s>", "SqlCipherConnection", "(", "SQLiteDatabase", "db", ")", "{", "if", "(", "db", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "this", ".", "db", "=", "db", ";", "autoCommit", "=", "true", ";", "metaData", "=", "new", "SqlCipherMetaData", "(", "this", ")", ";", "}", "</s>"]
["<s>", "static", "void", "throwSQLException", "(", "SQLiteException", "exception", ")", "throws", "SQLException", "{", "if", "(", "exception", "instanceof", "SQLiteConstraintException", ")", "{", "throw", "new", "SQLIntegrityConstraintViolationException", "(", "exception", ")", ";", "}", "throw", "new", "SQLException", "(", "exception", ")", ";", "}", "</s>"]
["<s>", "SQLiteDatabase", "getDatabase", "(", ")", "{", "return", "db", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "ensureTransaction", "(", ")", "{", "if", "(", "!", "autoCommit", ")", "{", "if", "(", "!", "db", ".", "inTransaction", "(", ")", ")", "{", "db", ".", "beginTransaction", "(", ")", ";", "enteredTransaction", "=", "true", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "execSQL", "(", "String", "sql", ")", "throws", "SQLException", "{", "try", "{", "db", ".", "execSQL", "(", "sql", ")", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "throwSQLException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "commit", "(", ")", "throws", "SQLException", "{", "if", "(", "autoCommit", ")", "{", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "db", ".", "inTransaction", "(", ")", "&", "&", "enteredTransaction", ")", "{", "try", "{", "db", ".", "setTransactionSuccessful", "(", ")", ";", "}", "catch", "(", "IllegalStateException", "e", ")", "{", "throw", "new", "SQLException", "(", "e", ")", ";", "}", "finally", "{", "db", ".", "endTransaction", "(", ")", ";", "enteredTransaction", "=", "false", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", ")", "throws", "SQLException", "{", "return", "new", "SqlCipherStatement", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", "int", "resultSetType", ",", "int", "resultSetConcurrency", ")", "throws", "SQLException", "{", "return", "createStatement", "(", "resultSetType", ",", "resultSetConcurrency", ",", "ResultSet", ".", "HOLD_CURSORS_OVER_COMMIT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", "int", "resultSetType", ",", "int", "resultSetConcurrency", ",", "int", "resultSetHoldability", ")", "throws", "SQLException", "{", "if", "(", "resultSetConcurrency", "=", "=", "ResultSet", ".", "CONCUR_UPDATABLE", ")", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "return", "new", "SqlCipherStatement", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "DatabaseMetaData", "getMetaData", "(", ")", "throws", "SQLException", "{", "return", "metaData", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isClosed", "(", ")", "throws", "SQLException", "{", "return", "!", "db", ".", "isOpen", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isReadOnly", "(", ")", "throws", "SQLException", "{", "return", "db", ".", "isReadOnly", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "return", "new", "SqlCipherPreparedStatement", "(", "this", ",", "sql", ",", "autoGeneratedKeys", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "resultSetType", ",", "int", "resultSetConcurrency", ",", "int", "resultSetHoldability", ")", "throws", "SQLException", "{", "return", "new", "SqlCipherPreparedStatement", "(", "this", ",", "sql", ",", "Statement", ".", "NO_GENERATED_KEYS", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "String", "[", "]", "columnNames", ")", "throws", "SQLException", "{", "return", "new", "SqlCipherPreparedStatement", "(", "this", ",", "sql", ",", "Statement", ".", "RETURN_GENERATED_KEYS", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "rollback", "(", ")", "throws", "SQLException", "{", "if", "(", "autoCommit", ")", "{", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "db", ".", "endTransaction", "(", ")", ";", "}", "</s>"]
["<s>", "SqlCipherPreparedStatement", "(", "SqlCipherConnection", "connection", ",", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "super", "(", "connection", ",", "sql", ",", "autoGeneratedKeys", ")", ";", "this", ".", "connection", "=", "connection", ";", "statement", "=", "connection", ".", "getDatabase", "(", ")", ".", "compileStatement", "(", "sql", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "bindNullOrString", "(", "int", "index", ",", "Object", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "statement", ".", "bindNull", "(", "index", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "null", ")", ";", "}", "}", "else", "{", "String", "string", "=", "value", ".", "toString", "(", ")", ";", "statement", ".", "bindString", "(", "index", ",", "string", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "string", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "bindLong", "(", "int", "index", ",", "long", "value", ")", "{", "statement", ".", "bindLong", "(", "index", ",", "value", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "value", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "bindDouble", "(", "int", "index", ",", "double", "value", ")", "{", "statement", ".", "bindDouble", "(", "index", ",", "value", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "value", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "bindBlob", "(", "int", "index", ",", "byte", "[", "]", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "statement", ".", "bindNull", "(", "index", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "null", ")", ";", "}", "}", "else", "{", "statement", ".", "bindBlob", "(", "index", ",", "value", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "'", "\"", "+", "byteToHexString", "(", "value", ")", "+", "\"", "<STR_LIT>", "'", "\"", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "SQLException", "{", "clearParameters", "(", ")", ";", "statement", ".", "close", "(", ")", ";", "if", "(", "cursor", "!", "=", "null", ")", "{", "cursor", ".", "close", "(", ")", ";", "}", "super", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "executeQuery", "(", "String", "sql", ")", "throws", "SQLException", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearParameters", "(", ")", "throws", "SQLException", "{", "statement", ".", "clearBindings", "(", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "clear", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", ")", "throws", "SQLException", "{", "try", "{", "statement", ".", "execute", "(", ")", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlCipherConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "executeQuery", "(", ")", "throws", "SQLException", "{", "try", "{", "String", "[", "]", "args", "=", "bindingsToArray", "(", ")", ";", "cursor", "=", "connection", ".", "getDatabase", "(", ")", ".", "rawQuery", "(", "sql", ",", "args", ")", ";", "return", "queryResult", "=", "new", "CursorResultSet", "(", "this", ",", "cursor", ",", "false", ")", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlCipherConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", ")", "throws", "SQLException", "{", "if", "(", "autoGeneratedKeys", "=", "=", "RETURN_GENERATED_KEYS", ")", "{", "try", "{", "long", "rowId", "=", "statement", ".", "executeInsert", "(", ")", ";", "insertResult", "=", "new", "SingleResultSet", "(", "this", ",", "rowId", ")", ";", "updateCount", "=", "1", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlCipherConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "}", "else", "{", "try", "{", "updateCount", "=", "statement", ".", "executeUpdateDelete", "(", ")", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlCipherConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "}", "return", "updateCount", ";", "}", "</s>"]
["<s>", "public", "SqlitexDatabaseSource", "(", "Context", "context", ",", "EntityModel", "model", ",", "int", "version", ")", "{", "this", "(", "context", ",", "model", ",", "getDefaultDatabaseName", "(", "context", ",", "model", ")", ",", "version", ")", ";", "}", "</s>"]
["<s>", "public", "SqlitexDatabaseSource", "(", "Context", "context", ",", "EntityModel", "model", ",", "String", "name", ",", "int", "version", ")", "{", "super", "(", "context", ",", "name", ",", "null", ",", "version", ")", ";", "if", "(", "model", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "this", ".", "platform", "=", "new", "SQLite", "(", ")", ";", "this", ".", "mapping", "=", "onCreateMapping", "(", "platform", ")", ";", "this", ".", "model", "=", "model", ";", "this", ".", "mode", "=", "TableCreationMode", ".", "CREATE_NOT_EXISTS", ";", "}", "</s>"]
["<s>", "private", "static", "String", "getDefaultDatabaseName", "(", "Context", "context", ",", "EntityModel", "model", ")", "{", "return", "TextUtils", ".", "isEmpty", "(", "model", ".", "getName", "(", ")", ")", "?", "context", ".", "getPackageName", "(", ")", ":", "model", ".", "getName", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setLoggingEnabled", "(", "boolean", "enable", ")", "{", "this", ".", "loggingEnabled", "=", "enable", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTableCreationMode", "(", "TableCreationMode", "mode", ")", "{", "this", ".", "mode", "=", "mode", ";", "}", "</s>"]
["<s>", "protected", "Mapping", "onCreateMapping", "(", "Platform", "platform", ")", "{", "return", "new", "DefaultMapping", "(", "platform", ")", ";", "}", "</s>"]
["<s>", "protected", "void", "onConfigure", "(", "ConfigurationBuilder", "builder", ")", "{", "if", "(", "loggingEnabled", ")", "{", "LoggingListener", "loggingListener", "=", "new", "LoggingListener", "(", ")", ";", "builder", ".", "addStatementListener", "(", "loggingListener", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Connection", "getConnection", "(", "SQLiteDatabase", "db", ")", "throws", "SQLException", "{", "synchronized", "(", "this", ")", "{", "return", "new", "SqlitexConnection", "(", "db", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Configuration", "getConfiguration", "(", ")", "{", "if", "(", "configuration", "=", "=", "null", ")", "{", "ConfigurationBuilder", "builder", "=", "new", "ConfigurationBuilder", "(", "this", ",", "model", ")", ".", "setMapping", "(", "mapping", ")", ".", "setPlatform", "(", "platform", ")", ".", "setBatchUpdateSize", "(", "<NUM_LIT:1000>", ")", ";", "onConfigure", "(", "builder", ")", ";", "configuration", "=", "builder", ".", "build", "(", ")", ";", "}", "return", "configuration", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCreate", "(", "SQLiteDatabase", "db", ")", "{", "this", ".", "db", "=", "db", ";", "new", "SchemaModifier", "(", "getConfiguration", "(", ")", ")", ".", "createTables", "(", "TableCreationMode", ".", "CREATE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onUpgrade", "(", "final", "SQLiteDatabase", "db", ",", "int", "oldVersion", ",", "int", "newVersion", ")", "{", "this", ".", "db", "=", "db", ";", "SchemaUpdater", "updater", "=", "new", "SchemaUpdater", "(", "getConfiguration", "(", ")", ",", "new", "Function", "<", "String", ",", "Cursor", ">", "(", ")", "{", "@", "Override", "public", "Cursor", "apply", "(", "String", "s", ")", "{", "return", "db", ".", "rawQuery", "(", "s", ",", "null", ")", ";", "}", "}", ",", "mode", ")", ";", "updater", ".", "update", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Cursor", "apply", "(", "String", "s", ")", "{", "return", "db", ".", "rawQuery", "(", "s", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Connection", "getConnection", "(", ")", "throws", "SQLException", "{", "synchronized", "(", "this", ")", "{", "if", "(", "db", "=", "=", "null", ")", "{", "db", "=", "getWritableDatabase", "(", ")", ";", "}", "return", "getConnection", "(", "db", ")", ";", "}", "}", "</s>"]
["<s>", "SqlitexConnection", "(", "SQLiteDatabase", "db", ")", "{", "this", ".", "db", "=", "db", ";", "autoCommit", "=", "true", ";", "metaData", "=", "new", "SqlitexMetaData", "(", "this", ")", ";", "}", "</s>"]
["<s>", "SQLiteDatabase", "getDatabase", "(", ")", "{", "return", "db", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "ensureTransaction", "(", ")", "{", "if", "(", "!", "autoCommit", ")", "{", "if", "(", "!", "db", ".", "inTransaction", "(", ")", ")", "{", "db", ".", "beginTransaction", "(", ")", ";", "enteredTransaction", "=", "true", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "execSQL", "(", "String", "sql", ")", "throws", "SQLException", "{", "try", "{", "db", ".", "execSQL", "(", "sql", ")", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "throwSQLException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "commit", "(", ")", "throws", "SQLException", "{", "if", "(", "autoCommit", ")", "{", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "db", ".", "inTransaction", "(", ")", "&", "&", "enteredTransaction", ")", "{", "try", "{", "db", ".", "setTransactionSuccessful", "(", ")", ";", "}", "catch", "(", "IllegalStateException", "e", ")", "{", "throw", "new", "SQLException", "(", "e", ")", ";", "}", "finally", "{", "db", ".", "endTransaction", "(", ")", ";", "enteredTransaction", "=", "false", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", ")", "throws", "SQLException", "{", "return", "new", "SqlitexStatement", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", "int", "resultSetType", ",", "int", "resultSetConcurrency", ")", "throws", "SQLException", "{", "return", "createStatement", "(", "resultSetType", ",", "resultSetConcurrency", ",", "ResultSet", ".", "HOLD_CURSORS_OVER_COMMIT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", "int", "resultSetType", ",", "int", "resultSetConcurrency", ",", "int", "resultSetHoldability", ")", "throws", "SQLException", "{", "if", "(", "resultSetConcurrency", "=", "=", "ResultSet", ".", "CONCUR_UPDATABLE", ")", "{", "throw", "new", "SQLFeatureNotSupportedException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "return", "new", "SqlitexStatement", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "DatabaseMetaData", "getMetaData", "(", ")", "throws", "SQLException", "{", "return", "metaData", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isClosed", "(", ")", "throws", "SQLException", "{", "return", "!", "db", ".", "isOpen", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isReadOnly", "(", ")", "throws", "SQLException", "{", "return", "db", ".", "isReadOnly", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "return", "new", "SqlitexPreparedStatement", "(", "this", ",", "sql", ",", "autoGeneratedKeys", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "resultSetType", ",", "int", "resultSetConcurrency", ",", "int", "resultSetHoldability", ")", "throws", "SQLException", "{", "return", "new", "SqlitexPreparedStatement", "(", "this", ",", "sql", ",", "Statement", ".", "NO_GENERATED_KEYS", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "String", "[", "]", "columnNames", ")", "throws", "SQLException", "{", "return", "new", "SqlitexPreparedStatement", "(", "this", ",", "sql", ",", "Statement", ".", "RETURN_GENERATED_KEYS", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "rollback", "(", ")", "throws", "SQLException", "{", "if", "(", "autoCommit", ")", "{", "throw", "new", "SQLException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "db", ".", "endTransaction", "(", ")", ";", "}", "</s>"]
["<s>", "SqlitexStatement", "(", "SqlitexConnection", "connection", ")", "{", "super", "(", "connection", ")", ";", "this", ".", "connection", "=", "connection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "SQLiteStatement", "statement", "=", "null", ";", "try", "{", "statement", "=", "connection", ".", "getDatabase", "(", ")", ".", "compileStatement", "(", "sql", ")", ";", "if", "(", "autoGeneratedKeys", "=", "=", "RETURN_GENERATED_KEYS", ")", "{", "long", "rowId", "=", "statement", ".", "executeInsert", "(", ")", ";", "insertResult", "=", "new", "SingleResultSet", "(", "this", ",", "rowId", ")", ";", "return", "true", ";", "}", "else", "{", "statement", ".", "execute", "(", ")", ";", "}", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlitexConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "finally", "{", "if", "(", "statement", "!", "=", "null", ")", "{", "statement", ".", "close", "(", ")", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "executeQuery", "(", "String", "sql", ")", "throws", "SQLException", "{", "try", "{", "@", "SuppressLint", "(", "\"", "<STR_LIT>", "\"", ")", "Cursor", "cursor", "=", "connection", ".", "getDatabase", "(", ")", ".", "rawQuery", "(", "sql", ",", "null", ")", ";", "return", "queryResult", "=", "new", "CursorResultSet", "(", "this", ",", "cursor", ",", "true", ")", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlitexConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "SQLiteStatement", "statement", "=", "null", ";", "try", "{", "statement", "=", "connection", ".", "getDatabase", "(", ")", ".", "compileStatement", "(", "sql", ")", ";", "if", "(", "autoGeneratedKeys", "=", "=", "RETURN_GENERATED_KEYS", ")", "{", "long", "rowId", "=", "statement", ".", "executeInsert", "(", ")", ";", "insertResult", "=", "new", "SingleResultSet", "(", "this", ",", "rowId", ")", ";", "updateCount", "=", "1", ";", "}", "else", "{", "updateCount", "=", "statement", ".", "executeUpdateDelete", "(", ")", ";", "}", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlitexConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "finally", "{", "if", "(", "statement", "!", "=", "null", ")", "{", "statement", ".", "close", "(", ")", ";", "}", "}", "return", "updateCount", ";", "}", "</s>"]
["<s>", "SqlitexMetaData", "(", "BaseConnection", "connection", ")", "{", "super", "(", "connection", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "<", "R", ">", "R", "queryMemory", "(", "Function", "<", "Cursor", ",", "R", ">", "function", ",", "String", "query", ")", "throws", "SQLException", "{", "try", "{", "SQLiteDatabase", "database", "=", "SQLiteDatabase", ".", "openOrCreateDatabase", "(", "\"", "<STR_LIT>", "\"", ",", "null", ")", ";", "Cursor", "cursor", "=", "database", ".", "rawQuery", "(", "query", ",", "null", ")", ";", "return", "function", ".", "apply", "(", "closeWithCursor", "(", "database", ",", "cursor", ")", ")", ";", "}", "catch", "(", "android", ".", "database", ".", "SQLException", "e", ")", "{", "throw", "new", "SQLException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "SqlitexPreparedStatement", "(", "SqlitexConnection", "connection", ",", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "super", "(", "connection", ",", "sql", ",", "autoGeneratedKeys", ")", ";", "this", ".", "connection", "=", "connection", ";", "statement", "=", "connection", ".", "getDatabase", "(", ")", ".", "compileStatement", "(", "sql", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "bindNullOrString", "(", "int", "index", ",", "Object", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "statement", ".", "bindNull", "(", "index", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "null", ")", ";", "}", "}", "else", "{", "String", "string", "=", "value", ".", "toString", "(", ")", ";", "statement", ".", "bindString", "(", "index", ",", "string", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "string", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "bindLong", "(", "int", "index", ",", "long", "value", ")", "{", "statement", ".", "bindLong", "(", "index", ",", "value", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "value", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "bindDouble", "(", "int", "index", ",", "double", "value", ")", "{", "statement", ".", "bindDouble", "(", "index", ",", "value", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "value", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "bindBlob", "(", "int", "index", ",", "byte", "[", "]", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "statement", ".", "bindNull", "(", "index", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "null", ")", ";", "}", "}", "else", "{", "statement", ".", "bindBlob", "(", "index", ",", "value", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "'", "\"", "+", "byteToHexString", "(", "value", ")", "+", "\"", "<STR_LIT>", "'", "\"", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "SQLException", "{", "clearParameters", "(", ")", ";", "statement", ".", "close", "(", ")", ";", "if", "(", "cursor", "!", "=", "null", ")", "{", "cursor", ".", "close", "(", ")", ";", "}", "super", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "executeQuery", "(", "String", "sql", ")", "throws", "SQLException", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearParameters", "(", ")", "throws", "SQLException", "{", "statement", ".", "clearBindings", "(", ")", ";", "if", "(", "bindings", "!", "=", "null", ")", "{", "bindings", ".", "clear", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", ")", "throws", "SQLException", "{", "try", "{", "statement", ".", "execute", "(", ")", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlitexConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "executeQuery", "(", ")", "throws", "SQLException", "{", "try", "{", "String", "[", "]", "args", "=", "bindingsToArray", "(", ")", ";", "cursor", "=", "connection", ".", "getDatabase", "(", ")", ".", "rawQuery", "(", "sql", ",", "args", ")", ";", "return", "queryResult", "=", "new", "CursorResultSet", "(", "this", ",", "cursor", ",", "false", ")", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlitexConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", ")", "throws", "SQLException", "{", "if", "(", "autoGeneratedKeys", "=", "=", "RETURN_GENERATED_KEYS", ")", "{", "try", "{", "long", "rowId", "=", "statement", ".", "executeInsert", "(", ")", ";", "insertResult", "=", "new", "SingleResultSet", "(", "this", ",", "rowId", ")", ";", "updateCount", "=", "1", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlitexConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "}", "else", "{", "try", "{", "updateCount", "=", "statement", ".", "executeUpdateDelete", "(", ")", ";", "}", "catch", "(", "SQLiteException", "e", ")", "{", "SqlitexConnection", ".", "throwSQLException", "(", "e", ")", ";", "}", "}", "return", "updateCount", ";", "}", "</s>"]
["<s>", "BaseProcessableElement", "(", "E", "element", ")", "{", "this", ".", "element", "=", "Objects", ".", "requireNonNull", "(", "element", ")", ";", "annotations", "=", "new", "HashMap", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "element", "(", ")", "{", "return", "element", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Map", "<", "Class", "<", "?", "extends", "Annotation", ">", ",", "Annotation", ">", "annotations", "(", ")", "{", "return", "annotations", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "ProcessableElement", ")", "{", "ProcessableElement", "other", "=", "(", "ProcessableElement", ")", "obj", ";", "return", "element", ".", "equals", "(", "other", ".", "element", "(", ")", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "element", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "element", "(", ")", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "EntityGenerator", "(", "ProcessingEnvironment", "processingEnvironment", ",", "EntityGraph", "graph", ",", "EntityDescriptor", "entity", ",", "EntityDescriptor", "parent", ")", "{", "super", "(", "processingEnvironment", ",", "graph", ",", "entity", ")", ";", "this", ".", "parent", "=", "parent", ";", "typeExtensions", "=", "new", "HashSet", "<", ">", "(", ")", ";", "memberExtensions", "=", "new", "HashSet", "<", ">", "(", ")", ";", "typeExtensions", ".", "add", "(", "new", "AndroidParcelableExtension", "(", "types", ")", ")", ";", "AndroidObservableExtension", "observable", "=", "new", "AndroidObservableExtension", "(", "entity", ",", "processingEnvironment", ")", ";", "typeExtensions", ".", "add", "(", "observable", ")", ";", "memberExtensions", ".", "add", "(", "observable", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "generate", "(", ")", "throws", "IOException", "{", "ClassName", "entityTypeName", "=", "entity", ".", "isEmbedded", "(", ")", "?", "nameResolver", ".", "embeddedTypeNameOf", "(", "entity", ",", "parent", ")", ":", "typeName", ";", "TypeSpec", ".", "Builder", "builder", "=", "TypeSpec", ".", "classBuilder", "(", "entityTypeName", ")", ".", "addModifiers", "(", "Modifier", ".", "PUBLIC", ")", ".", "addOriginatingElement", "(", "typeElement", ")", ";", "boolean", "metadataOnly", "=", "entity", ".", "isImmutable", "(", ")", "|", "|", "entity", ".", "isUnimplementable", "(", ")", ";", "if", "(", "typeElement", ".", "getKind", "(", ")", ".", "isInterface", "(", ")", ")", "{", "builder", ".", "addSuperinterface", "(", "ClassName", ".", "get", "(", "typeElement", ")", ")", ";", "builder", ".", "addSuperinterface", "(", "ClassName", ".", "get", "(", "Persistable", ".", "class", ")", ")", ";", "}", "else", "if", "(", "!", "metadataOnly", ")", "{", "builder", ".", "superclass", "(", "ClassName", ".", "get", "(", "typeElement", ")", ")", ";", "builder", ".", "addSuperinterface", "(", "ClassName", ".", "get", "(", "Persistable", ".", "class", ")", ")", ";", "}", "CodeGeneration", ".", "addGeneratedAnnotation", "(", "processingEnv", ",", "builder", ")", ";", "if", "(", "!", "entity", ".", "isEmbedded", "(", ")", ")", "{", "EntityMetaGenerator", "meta", "=", "new", "EntityMetaGenerator", "(", "processingEnv", ",", "graph", ",", "entity", ")", ";", "meta", ".", "generate", "(", "builder", ")", ";", "}", "if", "(", "!", "metadataOnly", ")", "{", "generateConstructors", "(", "builder", ")", ";", "generateMembers", "(", "builder", ")", ";", "generateProxyMethods", "(", "builder", ")", ";", "if", "(", "!", "entity", ".", "isEmbedded", "(", ")", ")", "{", "generateEquals", "(", "builder", ")", ";", "generateHashCode", "(", "builder", ")", ";", "generateToString", "(", "builder", ")", ";", "}", "}", "else", "{", "builder", ".", "addMethod", "(", "MethodSpec", ".", "constructorBuilder", "(", ")", ".", "addModifiers", "(", "Modifier", ".", "PRIVATE", ")", ".", "build", "(", ")", ")", ";", "generateMembers", "(", "builder", ")", ";", "generateImmutableTypeBuildMethod", "(", "builder", ")", ";", "}", "typeExtensions", ".", "forEach", "(", "extension", "-", ">", "extension", ".", "generate", "(", "entity", ",", "builder", ")", ")", ";", "CodeGeneration", ".", "writeType", "(", "processingEnv", ",", "typeName", ".", "packageName", "(", ")", ",", "builder", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "generateMembers", "(", "TypeSpec", ".", "Builder", "builder", ")", "{", "Modifier", "memberVisibility", "=", "entity", ".", "isEmbedded", "(", ")", "?", "Modifier", ".", "PROTECTED", ":", "Modifier", ".", "PRIVATE", ";", "if", "(", "!", "entity", ".", "isStateless", "(", ")", ")", "{", "entity", ".", "attributes", "(", ")", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "attribute", "-", ">", "!", "attribute", ".", "isTransient", "(", ")", ")", ".", "forEach", "(", "attribute", "-", ">", "{", "TypeName", "stateType", "=", "ClassName", ".", "get", "(", "PropertyState", ".", "class", ")", ";", "builder", ".", "addField", "(", "FieldSpec", ".", "builder", "(", "stateType", ",", "propertyStateFieldName", "(", "attribute", ")", ",", "memberVisibility", ")", ".", "build", "(", ")", ")", ";", "}", ")", ";", "}", "boolean", "generateMembers", "=", "typeElement", ".", "getKind", "(", ")", ".", "isInterface", "(", ")", "|", "|", "(", "entity", ".", "isImmutable", "(", ")", "&", "&", "!", "entity", ".", "builderType", "(", ")", ".", "isPresent", "(", ")", ")", ";", "if", "(", "generateMembers", ")", "{", "for", "(", "Map", ".", "Entry", "<", "Element", ",", "?", "extends", "AttributeDescriptor", ">", "entry", ":", "entity", ".", "attributes", "(", ")", ".", "entrySet", "(", ")", ")", "{", "Element", "element", "=", "entry", ".", "getKey", "(", ")", ";", "AttributeDescriptor", "attribute", "=", "entry", ".", "getValue", "(", ")", ";", "if", "(", "element", ".", "getKind", "(", ")", "=", "=", "ElementKind", ".", "METHOD", ")", "{", "ExecutableElement", "methodElement", "=", "(", "ExecutableElement", ")", "element", ";", "TypeMirror", "typeMirror", "=", "methodElement", ".", "getReturnType", "(", ")", ";", "TypeName", "fieldTypeName", ";", "if", "(", "attribute", ".", "isIterable", "(", ")", ")", "{", "fieldTypeName", "=", "parameterizedCollectionName", "(", "typeMirror", ")", ";", "}", "else", "if", "(", "attribute", ".", "isOptional", "(", ")", ")", "{", "typeMirror", "=", "tryFirstTypeArgument", "(", "attribute", ".", "typeMirror", "(", ")", ")", ";", "fieldTypeName", "=", "TypeName", ".", "get", "(", "typeMirror", ")", ";", "}", "else", "{", "fieldTypeName", "=", "nameResolver", ".", "tryGeneratedTypeName", "(", "typeMirror", ")", ";", "}", "builder", ".", "addField", "(", "FieldSpec", ".", "builder", "(", "fieldTypeName", ",", "attribute", ".", "fieldName", "(", ")", ",", "memberVisibility", ")", ".", "build", "(", ")", ")", ";", "}", "}", "}", "}", "</s>"]
["<s>", "private", "void", "generateConstructors", "(", "TypeSpec", ".", "Builder", "builder", ")", "{", "for", "(", "ExecutableElement", "constructor", ":", "ElementFilter", ".", "constructorsIn", "(", "typeElement", ".", "getEnclosedElements", "(", ")", ")", ")", "{", "List", "<", "?", "extends", "VariableElement", ">", "parameters", "=", "constructor", ".", "getParameters", "(", ")", ";", "if", "(", "!", "parameters", ".", "isEmpty", "(", ")", ")", "{", "MethodSpec", ".", "Builder", "constructorBuilder", "=", "MethodSpec", ".", "constructorBuilder", "(", ")", ";", "constructorBuilder", ".", "addModifiers", "(", "constructor", ".", "getModifiers", "(", ")", ")", ";", "List", "<", "String", ">", "parameterNames", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "VariableElement", "parameter", ":", "parameters", ")", "{", "Modifier", "[", "]", "modifiers", "=", "parameter", ".", "getModifiers", "(", ")", ".", "toArray", "(", "new", "Modifier", "[", "parameter", ".", "getModifiers", "(", ")", ".", "size", "(", ")", "]", ")", ";", "String", "parameterName", "=", "parameter", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "parameterNames", ".", "add", "(", "parameterName", ")", ";", "ParameterSpec", ".", "Builder", "parameterBuilder", "=", "ParameterSpec", ".", "builder", "(", "TypeName", ".", "get", "(", "parameter", ".", "asType", "(", ")", ")", ",", "parameterName", ",", "modifiers", ")", ";", "constructorBuilder", ".", "addParameter", "(", "parameterBuilder", ".", "build", "(", ")", ")", ";", "}", "StringJoiner", "joiner", "=", "new", "StringJoiner", "(", "\"", "<STR_LIT:U+002C>", "\"", ",", "\"", "<STR_LIT:(>", "\"", ",", "\"", "<STR_LIT:)>", "\"", ")", ";", "parameterNames", ".", "forEach", "(", "joiner", ":", ":", "add", ")", ";", "constructorBuilder", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", "+", "joiner", ".", "toString", "(", ")", ")", ";", "builder", ".", "addMethod", "(", "constructorBuilder", ".", "build", "(", ")", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "generateProxyMethods", "(", "TypeSpec", ".", "Builder", "builder", ")", "{", "TypeName", "entityType", "=", "entity", ".", "isEmbedded", "(", ")", "?", "nameResolver", ".", "typeNameOf", "(", "parent", ")", ":", "typeName", ";", "TypeName", "proxyName", "=", "parameterizedTypeName", "(", "EntityProxy", ".", "class", ",", "entityType", ")", ";", "FieldSpec", ".", "Builder", "proxyField", "=", "FieldSpec", ".", "builder", "(", "proxyName", ",", "PROXY_NAME", ",", "Modifier", ".", "PRIVATE", ",", "Modifier", ".", "FINAL", ",", "Modifier", ".", "TRANSIENT", ")", ";", "if", "(", "!", "entity", ".", "isEmbedded", "(", ")", ")", "{", "proxyField", ".", "initializer", "(", "\"", "<STR_LIT>", "\"", ",", "proxyName", ",", "TYPE_NAME", ")", ";", "}", "builder", ".", "addField", "(", "proxyField", ".", "build", "(", ")", ")", ";", "for", "(", "AttributeDescriptor", "attribute", ":", "entity", ".", "attributes", "(", ")", ".", "values", "(", ")", ")", "{", "boolean", "useField", "=", "attribute", ".", "isTransient", "(", ")", "|", "|", "attribute", ".", "isEmbedded", "(", ")", ";", "TypeMirror", "typeMirror", "=", "attribute", ".", "typeMirror", "(", ")", ";", "TypeName", "unboxedTypeName", ";", "if", "(", "attribute", ".", "isIterable", "(", ")", ")", "{", "unboxedTypeName", "=", "parameterizedCollectionName", "(", "typeMirror", ")", ";", "}", "else", "if", "(", "attribute", ".", "isOptional", "(", ")", ")", "{", "unboxedTypeName", "=", "TypeName", ".", "get", "(", "tryFirstTypeArgument", "(", "attribute", ".", "typeMirror", "(", ")", ")", ")", ";", "}", "else", "if", "(", "attribute", ".", "isEmbedded", "(", ")", ")", "{", "EntityDescriptor", "embedded", "=", "graph", ".", "embeddedDescriptorOf", "(", "attribute", ")", ".", "orElseThrow", "(", "IllegalStateException", ":", ":", "new", ")", ";", "unboxedTypeName", "=", "nameResolver", ".", "embeddedTypeNameOf", "(", "embedded", ",", "entity", ")", ";", "}", "else", "{", "unboxedTypeName", "=", "nameResolver", ".", "tryGeneratedTypeName", "(", "typeMirror", ")", ";", "}", "String", "attributeName", "=", "attribute", ".", "fieldName", "(", ")", ";", "String", "getterName", "=", "attribute", ".", "getterName", "(", ")", ";", "String", "fieldName", "=", "Names", ".", "upperCaseUnderscore", "(", "Names", ".", "removeMemberPrefixes", "(", "attributeName", ")", ")", ";", "if", "(", "entity", ".", "isEmbedded", "(", ")", ")", "{", "fieldName", "=", "nameResolver", ".", "typeNameOf", "(", "parent", ")", "+", "\"", "<STR_LIT:.>", "\"", "+", "fieldName", ";", "}", "MethodSpec", ".", "Builder", "getter", "=", "MethodSpec", ".", "methodBuilder", "(", "getterName", ")", ".", "addModifiers", "(", "Modifier", ".", "PUBLIC", ")", ".", "returns", "(", "attribute", ".", "isOptional", "(", ")", "?", "TypeName", ".", "get", "(", "typeMirror", ")", ":", "unboxedTypeName", ")", ";", "if", "(", "Mirrors", ".", "overridesMethod", "(", "types", ",", "typeElement", ",", "getterName", ")", ")", "{", "getter", ".", "addAnnotation", "(", "Override", ".", "class", ")", ";", "}", "memberExtensions", ".", "forEach", "(", "extension", "-", ">", "extension", ".", "addToGetter", "(", "attribute", ",", "getter", ")", ")", ";", "if", "(", "useField", ")", "{", "if", "(", "attribute", ".", "isEmbedded", "(", ")", ")", "{", "getter", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "unboxedTypeName", ",", "attributeName", ")", ";", "}", "else", "{", "getter", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "attributeName", ")", ";", "}", "}", "else", "if", "(", "attribute", ".", "isOptional", "(", ")", ")", "{", "getter", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "Optional", ".", "class", ",", "PROXY_NAME", ",", "fieldName", ")", ";", "}", "else", "{", "getter", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "PROXY_NAME", ",", "fieldName", ")", ";", "}", "builder", ".", "addMethod", "(", "getter", ".", "build", "(", ")", ")", ";", "String", "setterName", "=", "attribute", ".", "setterName", "(", ")", ";", "boolean", "readOnly", "=", "entity", ".", "isReadOnly", "(", ")", "|", "|", "attribute", ".", "isReadOnly", "(", ")", ";", "if", "(", "entity", ".", "element", "(", ")", ".", "getKind", "(", ")", ".", "isInterface", "(", ")", "&", "&", "ElementFilter", ".", "methodsIn", "(", "entity", ".", "element", "(", ")", ".", "getEnclosedElements", "(", ")", ")", ".", "stream", "(", ")", ".", "anyMatch", "(", "element", "-", ">", "element", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ".", "equals", "(", "setterName", ")", ")", ")", "{", "readOnly", "=", "false", ";", "}", "if", "(", "!", "readOnly", ")", "{", "String", "paramName", "=", "Names", ".", "lowerCaseFirst", "(", "Names", ".", "removeMemberPrefixes", "(", "attributeName", ")", ")", ";", "MethodSpec", ".", "Builder", "setter", "=", "MethodSpec", ".", "methodBuilder", "(", "setterName", ")", ".", "addModifiers", "(", "Modifier", ".", "PUBLIC", ")", ".", "addParameter", "(", "unboxedTypeName", ",", "paramName", ")", ";", "if", "(", "useField", ")", "{", "setter", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "attributeName", ",", "paramName", ")", ";", "}", "else", "{", "setter", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "PROXY_NAME", ",", "fieldName", ",", "paramName", ")", ";", "}", "memberExtensions", ".", "forEach", "(", "extension", "-", ">", "extension", ".", "addToSetter", "(", "attribute", ",", "setter", ")", ")", ";", "PropertyNameStyle", "style", "=", "entity", ".", "propertyNameStyle", "(", ")", ";", "if", "(", "style", "=", "=", "PropertyNameStyle", ".", "FLUENT", "|", "|", "style", "=", "=", "PropertyNameStyle", ".", "FLUENT_BEAN", ")", "{", "setter", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ")", ";", "setter", ".", "returns", "(", "typeName", ")", ";", "}", "builder", ".", "addMethod", "(", "setter", ".", "build", "(", ")", ")", ";", "}", "}", "MethodSpec", ".", "Builder", "constructor", "=", "MethodSpec", ".", "constructorBuilder", "(", ")", ".", "addModifiers", "(", "Modifier", ".", "PUBLIC", ")", ";", "if", "(", "entity", ".", "isEmbedded", "(", ")", ")", "{", "constructor", ".", "addParameter", "(", "ParameterSpec", ".", "builder", "(", "proxyName", ",", "\"", "<STR_LIT>", "\"", ")", ".", "build", "(", ")", ")", ";", "constructor", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "PROXY_NAME", ")", ";", "}", "generateListeners", "(", "constructor", ")", ";", "entity", ".", "attributes", "(", ")", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "AttributeDescriptor", ":", ":", "isEmbedded", ")", ".", "forEach", "(", "attribute", "-", ">", "graph", ".", "embeddedDescriptorOf", "(", "attribute", ")", ".", "ifPresent", "(", "embedded", "-", ">", "{", "ClassName", "embeddedName", "=", "nameResolver", ".", "embeddedTypeNameOf", "(", "embedded", ",", "entity", ")", ";", "constructor", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "attribute", ".", "fieldName", "(", ")", ",", "embeddedName", ",", "PROXY_NAME", ")", ";", "}", ")", ")", ";", "builder", ".", "addMethod", "(", "constructor", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "generateEquals", "(", "TypeSpec", ".", "Builder", "builder", ")", "{", "boolean", "overridesEquals", "=", "Mirrors", ".", "overridesMethod", "(", "types", ",", "typeElement", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "!", "overridesEquals", ")", "{", "MethodSpec", ".", "Builder", "equals", "=", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "addParameter", "(", "TypeName", ".", "OBJECT", ",", "\"", "<STR_LIT>", "\"", ")", ".", "returns", "(", "TypeName", ".", "BOOLEAN", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "typeName", ",", "typeName", ",", "PROXY_NAME", ",", "PROXY_NAME", ")", ";", "builder", ".", "addMethod", "(", "equals", ".", "build", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "generateHashCode", "(", "TypeSpec", ".", "Builder", "builder", ")", "{", "if", "(", "!", "Mirrors", ".", "overridesMethod", "(", "types", ",", "typeElement", ",", "\"", "<STR_LIT>", "\"", ")", ")", "{", "MethodSpec", ".", "Builder", "hashCode", "=", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "returns", "(", "TypeName", ".", "INT", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "PROXY_NAME", ")", ";", "builder", ".", "addMethod", "(", "hashCode", ".", "build", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "generateToString", "(", "TypeSpec", ".", "Builder", "builder", ")", "{", "if", "(", "!", "Mirrors", ".", "overridesMethod", "(", "types", ",", "typeElement", ",", "\"", "<STR_LIT:String>", "\"", ")", ")", "{", "MethodSpec", ".", "Builder", "equals", "=", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT:String>", "\"", ")", ".", "returns", "(", "String", ".", "class", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "PROXY_NAME", ")", ";", "builder", ".", "addMethod", "(", "equals", ".", "build", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "generateListeners", "(", "MethodSpec", ".", "Builder", "constructor", ")", "{", "for", "(", "Map", ".", "Entry", "<", "Element", ",", "?", "extends", "ListenerDescriptor", ">", "entry", ":", "entity", ".", "listeners", "(", ")", ".", "entrySet", "(", ")", ")", "{", "for", "(", "Annotation", "annotation", ":", "entry", ".", "getValue", "(", ")", ".", "listenerAnnotations", "(", ")", ")", "{", "String", "annotationName", "=", "annotation", ".", "annotationType", "(", ")", ".", "getSimpleName", "(", ")", ".", "replace", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ".", "replace", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "String", "methodName", "=", "Names", ".", "lowerCaseFirst", "(", "annotationName", ")", ";", "Element", "listener", "=", "elements", ".", "getTypeElement", "(", "PreInsertListener", ".", "class", ".", "getCanonicalName", "(", ")", ")", ";", "PackageElement", "packageElement", "=", "elements", ".", "getPackageOf", "(", "listener", ")", ";", "String", "packageName", "=", "packageElement", ".", "getQualifiedName", "(", ")", ".", "toString", "(", ")", ";", "ClassName", "listenerName", "=", "ClassName", ".", "get", "(", "packageName", ",", "annotationName", "+", "\"", "<STR_LIT>", "\"", ")", ";", "ParameterizedTypeName", "getterType", "=", "ParameterizedTypeName", ".", "get", "(", "listenerName", ",", "typeName", ")", ";", "TypeSpec", ".", "Builder", "listenerBuilder", "=", "TypeSpec", ".", "anonymousClassBuilder", "(", "\"", "\"", ")", ".", "addSuperinterface", "(", "getterType", ")", ".", "addMethod", "(", "CodeGeneration", ".", "overridePublicMethod", "(", "methodName", ")", ".", "addParameter", "(", "typeName", ",", "\"", "<STR_LIT>", "\"", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "entry", ".", "getKey", "(", ")", ".", "getSimpleName", "(", ")", ")", ".", "build", "(", ")", ")", ";", "constructor", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "PROXY_NAME", ",", "annotationName", "+", "\"", "<STR_LIT>", "\"", ",", "listenerBuilder", ".", "build", "(", ")", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "generateImmutableTypeBuildMethod", "(", "TypeSpec", ".", "Builder", "builder", ")", "{", "if", "(", "entity", ".", "isImmutable", "(", ")", "&", "&", "!", "entity", ".", "builderType", "(", ")", ".", "isPresent", "(", ")", "&", "&", "entity", ".", "factoryMethod", "(", ")", ".", "isPresent", "(", ")", ")", "{", "String", "methodName", "=", "entity", ".", "factoryMethod", "(", ")", ".", "map", "(", "element", "-", ">", "element", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ")", ".", "orElse", "(", "\"", "\"", ")", ";", "List", "<", "String", ">", "argumentNames", "=", "entity", ".", "factoryArguments", "(", ")", ";", "StringJoiner", "joiner", "=", "new", "StringJoiner", "(", "\"", "<STR_LIT:U+002C>", "\"", ")", ";", "argumentNames", ".", "forEach", "(", "name", "-", ">", "joiner", ".", "add", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "MethodSpec", ".", "Builder", "build", "=", "MethodSpec", ".", "methodBuilder", "(", "\"", "<STR_LIT>", "\"", ")", ".", "returns", "(", "ClassName", ".", "get", "(", "entity", ".", "element", "(", ")", ")", ")", ";", "if", "(", "methodName", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "Object", "[", "]", "args", "=", "new", "Object", "[", "1", "+", "argumentNames", ".", "size", "(", ")", "]", ";", "args", "[", "0", "]", "=", "ClassName", ".", "get", "(", "entity", ".", "element", "(", ")", ")", ";", "System", ".", "arraycopy", "(", "argumentNames", ".", "toArray", "(", ")", ",", "0", ",", "args", ",", "1", ",", "argumentNames", ".", "size", "(", ")", ")", ";", "build", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", "+", "joiner", ".", "toString", "(", ")", "+", "\"", "<STR_LIT:)>", "\"", ",", "args", ")", ".", "build", "(", ")", ";", "}", "else", "{", "Object", "[", "]", "args", "=", "new", "Object", "[", "<NUM_LIT:2>", "+", "argumentNames", ".", "size", "(", ")", "]", ";", "args", "[", "0", "]", "=", "ClassName", ".", "get", "(", "entity", ".", "element", "(", ")", ")", ";", "args", "[", "1", "]", "=", "methodName", ";", "System", ".", "arraycopy", "(", "argumentNames", ".", "toArray", "(", ")", ",", "0", ",", "args", ",", "<NUM_LIT:2>", ",", "argumentNames", ".", "size", "(", ")", ")", ";", "build", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", "+", "joiner", ".", "toString", "(", ")", "+", "\"", "<STR_LIT:)>", "\"", ",", "args", ")", ".", "build", "(", ")", ";", "}", "builder", ".", "addMethod", "(", "build", ".", "build", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "void", "generate", "(", ")", "throws", "IOException", ";", "</s>"]
["<s>", "JoinEntityGenerator", "(", "ProcessingEnvironment", "processingEnvironment", ",", "EntityNameResolver", "nameResolver", ",", "EntityDescriptor", "from", ",", "EntityDescriptor", "to", ",", "AttributeDescriptor", "attribute", ")", "{", "this", ".", "processingEnvironment", "=", "processingEnvironment", ";", "this", ".", "nameResolver", "=", "nameResolver", ";", "this", ".", "from", "=", "from", ";", "this", ".", "to", "=", "to", ";", "this", ".", "attribute", "=", "attribute", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "generate", "(", ")", "throws", "IOException", "{", "AssociativeEntityDescriptor", "descriptor", "=", "attribute", ".", "associativeEntity", "(", ")", ".", "orElseThrow", "(", "IllegalStateException", ":", ":", "new", ")", ";", "String", "name", "=", "descriptor", ".", "name", "(", ")", ";", "if", "(", "Names", ".", "isEmpty", "(", "name", ")", ")", "{", "name", "=", "from", ".", "tableName", "(", ")", "+", "\"", "<STR_LIT:_>", "\"", "+", "to", ".", "tableName", "(", ")", ";", "}", "ClassName", "entityName", "=", "nameResolver", ".", "joinEntityName", "(", "descriptor", ",", "from", ",", "to", ")", ";", "String", "className", "=", "\"", "<STR_LIT>", "\"", "+", "entityName", ".", "simpleName", "(", ")", ";", "TypeSpec", ".", "Builder", "junctionType", "=", "TypeSpec", ".", "classBuilder", "(", "className", ")", ".", "addModifiers", "(", "Modifier", ".", "PUBLIC", ",", "Modifier", ".", "ABSTRACT", ")", ".", "addSuperinterface", "(", "Serializable", ".", "class", ")", ".", "addAnnotation", "(", "AnnotationSpec", ".", "builder", "(", "Entity", ".", "class", ")", ".", "addMember", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "from", ".", "modelName", "(", ")", ")", ".", "addMember", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "from", ".", "isStateless", "(", ")", ")", ".", "build", "(", ")", ")", ".", "addAnnotation", "(", "AnnotationSpec", ".", "builder", "(", "Table", ".", "class", ")", ".", "addMember", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "name", ")", ".", "build", "(", ")", ")", ";", "CodeGeneration", ".", "addGeneratedAnnotation", "(", "processingEnvironment", ",", "junctionType", ")", ";", "Set", "<", "AssociativeReference", ">", "references", "=", "descriptor", ".", "columns", "(", ")", ";", "EntityDescriptor", "[", "]", "entities", "=", "new", "EntityDescriptor", "[", "]", "{", "from", ",", "to", "}", ";", "Map", "<", "AssociativeReference", ",", "EntityDescriptor", ">", "map", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "if", "(", "references", ".", "isEmpty", "(", ")", ")", "{", "for", "(", "EntityDescriptor", "type", ":", "entities", ")", "{", "AssociativeReference", "reference", "=", "new", "AssociativeReference", "(", "type", ".", "tableName", "(", ")", "+", "\"", "<STR_LIT>", "\"", ",", "type", ".", "element", "(", ")", ",", "null", ",", "ReferentialAction", ".", "CASCADE", ",", "ReferentialAction", ".", "CASCADE", ")", ";", "references", ".", "add", "(", "reference", ")", ";", "map", ".", "put", "(", "reference", ",", "type", ")", ";", "}", "}", "else", "{", "for", "(", "AssociativeReference", "reference", ":", "references", ")", "{", "for", "(", "EntityDescriptor", "entity", ":", "entities", ")", "{", "if", "(", "reference", ".", "referencedType", "(", ")", "!", "=", "null", "&", "&", "reference", ".", "referencedType", "(", ")", ".", "equals", "(", "entity", ".", "element", "(", ")", ")", ")", "{", "map", ".", "put", "(", "reference", ",", "entity", ")", ";", "}", "}", "}", "}", "int", "index", "=", "0", ";", "for", "(", "AssociativeReference", "reference", ":", "references", ")", "{", "ClassName", "action", "=", "ClassName", ".", "get", "(", "ReferentialAction", ".", "class", ")", ";", "AnnotationSpec", ".", "Builder", "key", "=", "AnnotationSpec", ".", "builder", "(", "ForeignKey", ".", "class", ")", ".", "addMember", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "action", ",", "reference", ".", "deleteAction", "(", ")", ".", "toString", "(", ")", ")", ".", "addMember", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "action", ",", "reference", ".", "updateAction", "(", ")", ".", "toString", "(", ")", ")", ";", "TypeElement", "referenceElement", "=", "reference", ".", "referencedType", "(", ")", ";", "EntityDescriptor", "entity", "=", "map", ".", "get", "(", "reference", ")", ";", "if", "(", "referenceElement", "=", "=", "null", ")", "{", "if", "(", "entity", "!", "=", "null", ")", "{", "referenceElement", "=", "entity", ".", "element", "(", ")", ";", "}", "else", "{", "referenceElement", "=", "entities", "[", "index", "+", "+", "]", ".", "element", "(", ")", ";", "}", "}", "if", "(", "referenceElement", "!", "=", "null", ")", "{", "key", ".", "addMember", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "nameResolver", ".", "generatedTypeNameOf", "(", "referenceElement", ")", ".", "orElseThrow", "(", "IllegalStateException", ":", ":", "new", ")", ")", ";", "}", "if", "(", "reference", ".", "referencedColumn", "(", ")", "!", "=", "null", ")", "{", "key", ".", "addMember", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "reference", ".", "referencedColumn", "(", ")", ")", ";", "}", "AnnotationSpec", ".", "Builder", "id", "=", "AnnotationSpec", ".", "builder", "(", "Key", ".", "class", ")", ";", "TypeName", "typeName", "=", "TypeName", ".", "get", "(", "Integer", ".", "class", ")", ";", "if", "(", "entity", "!", "=", "null", ")", "{", "Optional", "<", "?", "extends", "AttributeDescriptor", ">", "keyAttribute", "=", "entity", ".", "attributes", "(", ")", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "AttributeDescriptor", ":", ":", "isKey", ")", ".", "findAny", "(", ")", ";", "if", "(", "keyAttribute", ".", "isPresent", "(", ")", ")", "{", "TypeMirror", "keyType", "=", "keyAttribute", ".", "get", "(", ")", ".", "typeMirror", "(", ")", ";", "if", "(", "keyType", ".", "getKind", "(", ")", ".", "isPrimitive", "(", ")", ")", "{", "Types", "types", "=", "processingEnvironment", ".", "getTypeUtils", "(", ")", ";", "keyType", "=", "types", ".", "boxedClass", "(", "(", "PrimitiveType", ")", "keyType", ")", ".", "asType", "(", ")", ";", "}", "typeName", "=", "TypeName", ".", "get", "(", "keyType", ")", ";", "}", "}", "FieldSpec", ".", "Builder", "field", "=", "FieldSpec", ".", "builder", "(", "typeName", ",", "reference", ".", "name", "(", ")", ",", "Modifier", ".", "PROTECTED", ")", ".", "addAnnotation", "(", "key", ".", "build", "(", ")", ")", ".", "addAnnotation", "(", "id", ".", "build", "(", ")", ")", ";", "junctionType", ".", "addField", "(", "field", ".", "build", "(", ")", ")", ";", "}", "String", "packageName", "=", "entityName", ".", "packageName", "(", ")", ";", "CodeGeneration", ".", "writeType", "(", "processingEnvironment", ",", "packageName", ",", "junctionType", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "static", "AccessorNamePrefix", "fromElement", "(", "ExecutableElement", "element", ")", "{", "String", "simpleName", "=", "element", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "if", "(", "simpleName", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "simpleName", ".", "length", "(", ")", ">", "<NUM_LIT:2>", "&", "&", "Character", ".", "isUpperCase", "(", "simpleName", ".", "charAt", "(", "<NUM_LIT:2>", ")", ")", ")", "{", "return", "IS", ";", "}", "else", "if", "(", "simpleName", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "return", "GET", ";", "}", "else", "{", "return", "NONE", ";", "}", "}", "</s>"]
["<s>", "ListenerMethod", "(", "ExecutableElement", "element", ")", "{", "super", "(", "element", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "ElementValidator", ">", "process", "(", "ProcessingEnvironment", "processingEnvironment", ")", "{", "ElementValidator", "validator", "=", "new", "ElementValidator", "(", "element", "(", ")", ",", "processingEnvironment", ")", ";", "annotations", "=", "ListenerAnnotations", ".", "all", "(", ")", ".", "map", "(", "this", ":", ":", "annotationOf", ")", ".", "filter", "(", "Optional", ":", ":", "isPresent", ")", ".", "map", "(", "Optional", ":", ":", "get", ")", ".", "collect", "(", "Collectors", ".", "toList", "(", ")", ")", ";", "if", "(", "!", "annotations", ".", "isEmpty", "(", ")", ")", "{", "ExecutableElement", "element", "=", "element", "(", ")", ";", "if", "(", "!", "element", ".", "getParameters", "(", ")", ".", "isEmpty", "(", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "element", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "PRIVATE", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "element", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "ABSTRACT", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "!", "element", ".", "getThrownTypes", "(", ")", ".", "isEmpty", "(", ")", ")", "{", "Types", "types", "=", "processingEnvironment", ".", "getTypeUtils", "(", ")", ";", "for", "(", "TypeMirror", "mirror", ":", "element", ".", "getThrownTypes", "(", ")", ")", "{", "Element", "exceptionElement", "=", "types", ".", "asElement", "(", "mirror", ")", ";", "if", "(", "exceptionElement", ".", "getKind", "(", ")", "=", "=", "ElementKind", ".", "CLASS", ")", "{", "TypeElement", "typeElement", "=", "(", "TypeElement", ")", "exceptionElement", ";", "if", "(", "!", "Mirrors", ".", "isInstance", "(", "types", ",", "typeElement", ",", "RuntimeException", ".", "class", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "}", "}", "annotations", ".", "stream", "(", ")", ".", "filter", "(", "annotation", "-", ">", "element", "(", ")", ".", "getSimpleName", "(", ")", ".", "contentEquals", "(", "Names", ".", "lowerCaseFirst", "(", "annotation", ".", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ")", ")", ")", ".", "forEach", "(", "annotation", "-", ">", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "return", "Collections", ".", "singleton", "(", "validator", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Collection", "<", "Annotation", ">", "listenerAnnotations", "(", ")", "{", "return", "annotations", ";", "}", "</s>"]
["<s>", "private", "Mirrors", "(", ")", "{", "}", "</s>"]
["<s>", "static", "Optional", "<", "?", "extends", "AnnotationMirror", ">", "findAnnotationMirror", "(", "Element", "element", ",", "Class", "<", "?", "extends", "Annotation", ">", "annotation", ")", "{", "return", "findAnnotationMirror", "(", "element", ",", "annotation", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "static", "Optional", "<", "?", "extends", "AnnotationMirror", ">", "findAnnotationMirror", "(", "Element", "element", ",", "String", "qualifiedName", ")", "{", "return", "element", ".", "getAnnotationMirrors", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "mirror", "-", ">", "namesEqual", "(", "(", "TypeElement", ")", "mirror", ".", "getAnnotationType", "(", ")", ".", "asElement", "(", ")", ",", "qualifiedName", ")", ")", ".", "findFirst", "(", ")", ";", "}", "</s>"]
["<s>", "static", "Optional", "<", "AnnotationValue", ">", "findAnnotationValue", "(", "AnnotationMirror", "mirror", ")", "{", "return", "findAnnotationValue", "(", "mirror", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "static", "Optional", "<", "AnnotationValue", ">", "findAnnotationValue", "(", "AnnotationMirror", "mirror", ",", "String", "name", ")", "{", "return", "mirror", ".", "getElementValues", "(", ")", "=", "=", "null", "?", "Optional", ".", "empty", "(", ")", ":", "mirror", ".", "getElementValues", "(", ")", ".", "entrySet", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "entry", "-", ">", "entry", ".", "getKey", "(", ")", ".", "getSimpleName", "(", ")", ".", "contentEquals", "(", "name", ")", ")", ".", "map", "(", "entry", "-", ">", "(", "AnnotationValue", ")", "entry", ".", "getValue", "(", ")", ")", ".", "findFirst", "(", ")", ";", "}", "</s>"]
["<s>", "static", "List", "<", "TypeMirror", ">", "listGenericTypeArguments", "(", "TypeMirror", "typeMirror", ")", "{", "final", "List", "<", "TypeMirror", ">", "typeArguments", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "typeMirror", ".", "accept", "(", "new", "SimpleTypeVisitor6", "<", "Void", ",", "Void", ">", "(", ")", "{", "@", "Override", "public", "Void", "visitDeclared", "(", "DeclaredType", "declaredType", ",", "Void", "v", ")", "{", "if", "(", "!", "declaredType", ".", "getTypeArguments", "(", ")", ".", "isEmpty", "(", ")", ")", "{", "typeArguments", ".", "addAll", "(", "declaredType", ".", "getTypeArguments", "(", ")", ")", ";", "}", "return", "null", ";", "}", "@", "Override", "protected", "Void", "defaultAction", "(", "TypeMirror", "typeMirror", ",", "Void", "v", ")", "{", "return", "null", ";", "}", "}", ",", "null", ")", ";", "return", "typeArguments", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Void", "visitDeclared", "(", "DeclaredType", "declaredType", ",", "Void", "v", ")", "{", "if", "(", "!", "declaredType", ".", "getTypeArguments", "(", ")", ".", "isEmpty", "(", ")", ")", "{", "typeArguments", ".", "addAll", "(", "declaredType", ".", "getTypeArguments", "(", ")", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "Void", "defaultAction", "(", "TypeMirror", "typeMirror", ",", "Void", "v", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "static", "boolean", "isInstance", "(", "Types", "types", ",", "TypeElement", "element", ",", "Class", "<", "?", ">", "type", ")", "{", "String", "className", "=", "type", ".", "getCanonicalName", "(", ")", ";", "if", "(", "type", ".", "isInterface", "(", ")", ")", "{", "return", "implementsInterface", "(", "types", ",", "element", ",", "className", ")", ";", "}", "else", "{", "return", "namesEqual", "(", "element", ",", "className", ")", "|", "|", "extendsClass", "(", "types", ",", "element", ",", "className", ")", ";", "}", "}", "</s>"]
["<s>", "static", "boolean", "isInstance", "(", "Types", "types", ",", "TypeElement", "element", ",", "String", "className", ")", "{", "if", "(", "namesEqual", "(", "element", ",", "className", ")", ")", "{", "return", "true", ";", "}", "return", "implementsInterface", "(", "types", ",", "element", ",", "className", ")", "|", "|", "extendsClass", "(", "types", ",", "element", ",", "className", ")", ";", "}", "</s>"]
["<s>", "static", "boolean", "implementsInterface", "(", "Types", "types", ",", "TypeElement", "element", ",", "String", "interfaceName", ")", "{", "if", "(", "namesEqual", "(", "element", ",", "interfaceName", ")", ")", "{", "return", "true", ";", "}", "List", "<", "?", "extends", "TypeMirror", ">", "interfaces", "=", "element", ".", "getInterfaces", "(", ")", ";", "for", "(", "TypeMirror", "interfaceType", ":", "interfaces", ")", "{", "interfaceType", "=", "types", ".", "erasure", "(", "interfaceType", ")", ";", "TypeElement", "typeElement", "=", "(", "TypeElement", ")", "types", ".", "asElement", "(", "interfaceType", ")", ";", "if", "(", "implementsInterface", "(", "types", ",", "typeElement", ",", "interfaceName", ")", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "static", "boolean", "extendsClass", "(", "Types", "types", ",", "TypeElement", "element", ",", "String", "className", ")", "{", "if", "(", "namesEqual", "(", "element", ",", "className", ")", ")", "{", "return", "true", ";", "}", "TypeMirror", "superType", "=", "element", ".", "getSuperclass", "(", ")", ";", "while", "(", "superType", "!", "=", "null", "&", "&", "superType", ".", "getKind", "(", ")", "!", "=", "TypeKind", ".", "NONE", ")", "{", "TypeElement", "superTypeElement", "=", "(", "TypeElement", ")", "types", ".", "asElement", "(", "superType", ")", ";", "if", "(", "namesEqual", "(", "superTypeElement", ",", "className", ")", ")", "{", "return", "true", ";", "}", "superType", "=", "superTypeElement", ".", "getSuperclass", "(", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "static", "boolean", "overridesMethod", "(", "Types", "types", ",", "TypeElement", "element", ",", "String", "methodName", ")", "{", "while", "(", "element", "!", "=", "null", ")", "{", "if", "(", "ElementFilter", ".", "methodsIn", "(", "element", ".", "getEnclosedElements", "(", ")", ")", ".", "stream", "(", ")", ".", "anyMatch", "(", "method", "-", ">", "method", ".", "getSimpleName", "(", ")", ".", "contentEquals", "(", "methodName", ")", ")", ")", "{", "return", "true", ";", "}", "TypeMirror", "superType", "=", "element", ".", "getSuperclass", "(", ")", ";", "if", "(", "superType", ".", "getKind", "(", ")", "=", "=", "TypeKind", ".", "NONE", ")", "{", "break", ";", "}", "else", "{", "element", "=", "(", "TypeElement", ")", "types", ".", "asElement", "(", "superType", ")", ";", "}", "if", "(", "namesEqual", "(", "element", ",", "Object", ".", "class", ".", "getCanonicalName", "(", ")", ")", ")", "{", "break", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "namesEqual", "(", "TypeElement", "element", ",", "String", "qualifiedName", ")", "{", "return", "element", ".", "getQualifiedName", "(", ")", ".", "contentEquals", "(", "qualifiedName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SourceVersion", "getSupportedSourceVersion", "(", ")", "{", "return", "SourceVersion", ".", "latestSupported", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "synchronized", "void", "init", "(", "ProcessingEnvironment", "processingEnv", ")", "{", "super", ".", "init", "(", "processingEnv", ")", ";", "graphs", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "superTypes", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "embeddedTypes", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "process", "(", "Set", "<", "?", "extends", "TypeElement", ">", "annotations", ",", "RoundEnvironment", "roundEnv", ")", "{", "Map", "<", "TypeElement", ",", "EntityType", ">", "entities", "=", "new", "HashMap", "<", ">", "(", ")", ";", "SourceLanguage", ".", "map", "(", "processingEnv", ")", ";", "Types", "types", "=", "processingEnv", ".", "getTypeUtils", "(", ")", ";", "for", "(", "TypeElement", "annotation", ":", "annotations", ")", "{", "for", "(", "Element", "element", ":", "roundEnv", ".", "getElementsAnnotatedWith", "(", "annotation", ")", ")", "{", "typeElementOf", "(", "element", ")", ".", "ifPresent", "(", "typeElement", "-", ">", "{", "EntityType", "entity", "=", "null", ";", "if", "(", "isEntity", "(", "typeElement", ")", ")", "{", "entity", "=", "computeType", "(", "entities", ",", "typeElement", ")", ";", "String", "model", "=", "entity", ".", "modelName", "(", ")", ";", "graphs", ".", "computeIfAbsent", "(", "model", ",", "key", "-", ">", "new", "EntityGraph", "(", "types", ",", "embeddedTypes", ")", ")", ".", "add", "(", "entity", ")", ";", "}", "else", "if", "(", "isSuperclass", "(", "typeElement", ")", ")", "{", "entity", "=", "computeType", "(", "superTypes", ",", "typeElement", ")", ";", "}", "else", "if", "(", "isEmbeddable", "(", "typeElement", ")", ")", "{", "entity", "=", "computeType", "(", "embeddedTypes", ",", "typeElement", ")", ";", "}", "if", "(", "entity", "!", "=", "null", ")", "{", "entity", ".", "addAnnotationElement", "(", "annotation", ",", "element", ")", ";", "}", "}", ")", ";", "}", "}", "boolean", "hasErrors", "=", "false", ";", "Set", "<", "ElementValidator", ">", "validators", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "Elements", "elements", "=", "processingEnv", ".", "getElementUtils", "(", ")", ";", "for", "(", "EntityType", "entity", ":", "entities", ".", "values", "(", ")", ")", "{", "if", "(", "entity", ".", "element", "(", ")", ".", "getKind", "(", ")", "=", "=", "ElementKind", ".", "INTERFACE", ")", "{", "List", "<", "?", "extends", "TypeMirror", ">", "interfaces", "=", "entity", ".", "element", "(", ")", ".", "getInterfaces", "(", ")", ";", "for", "(", "TypeMirror", "mirror", ":", "interfaces", ")", "{", "TypeElement", "superElement", "=", "elements", ".", "getTypeElement", "(", "mirror", ".", "toString", "(", ")", ")", ";", "if", "(", "superElement", "!", "=", "null", ")", "{", "mergeSuperType", "(", "entity", ",", "superElement", ")", ";", "}", "}", "}", "TypeMirror", "typeMirror", "=", "entity", ".", "element", "(", ")", ".", "getSuperclass", "(", ")", ";", "while", "(", "typeMirror", ".", "getKind", "(", ")", "!", "=", "TypeKind", ".", "NONE", ")", "{", "TypeElement", "superElement", "=", "elements", ".", "getTypeElement", "(", "typeMirror", ".", "toString", "(", ")", ")", ";", "if", "(", "superElement", "!", "=", "null", ")", "{", "mergeSuperType", "(", "entity", ",", "superElement", ")", ";", "typeMirror", "=", "superElement", ".", "getSuperclass", "(", ")", ";", "}", "else", "{", "break", ";", "}", "}", "Set", "<", "ElementValidator", ">", "results", "=", "entity", ".", "process", "(", "processingEnv", ")", ";", "validators", ".", "addAll", "(", "results", ")", ";", "}", "for", "(", "EntityType", "entity", ":", "embeddedTypes", ".", "values", "(", ")", ")", "{", "Set", "<", "ElementValidator", ">", "results", "=", "entity", ".", "process", "(", "processingEnv", ")", ";", "validators", ".", "addAll", "(", "results", ")", ";", "}", "for", "(", "EntityGraph", "graph", ":", "graphs", ".", "values", "(", ")", ")", "{", "EntityGraphValidator", "validator", "=", "new", "EntityGraphValidator", "(", "processingEnv", ",", "graph", ")", ";", "Set", "<", "ElementValidator", ">", "results", "=", "validator", ".", "validate", "(", ")", ";", "validators", ".", "addAll", "(", "results", ")", ";", "}", "if", "(", "ElementValidator", ".", "hasErrors", "(", "validators", ")", ")", "{", "hasErrors", "=", "true", ";", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", "\"", "<STR_LIT>", "\"", ")", ";", "validators", ".", "forEach", "(", "validator", "-", ">", "sb", ".", "append", "(", "validator", ".", "toString", "(", ")", ")", ")", ";", "processingEnv", ".", "getMessager", "(", ")", ".", "printMessage", "(", "Diagnostic", ".", "Kind", ".", "WARNING", ",", "sb", ")", ";", "}", "Set", "<", "SourceGenerator", ">", "generators", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "if", "(", "!", "hasErrors", "|", "|", "getOption", "(", "GENERATE_ALWAYS", ",", "true", ")", ")", "{", "for", "(", "EntityDescriptor", "entity", ":", "entities", ".", "values", "(", ")", ")", "{", "EntityGraph", "graph", "=", "graphs", ".", "get", "(", "entity", ".", "modelName", "(", ")", ")", ";", "if", "(", "graph", "!", "=", "null", ")", "{", "generators", ".", "add", "(", "new", "EntityGenerator", "(", "processingEnv", ",", "graph", ",", "entity", ",", "null", ")", ")", ";", "}", "}", "}", "if", "(", "getOption", "(", "GENERATE_MODEL", ",", "true", ")", ")", "{", "Map", "<", "String", ",", "Collection", "<", "EntityDescriptor", ">", ">", "packagesMap", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "Map", "<", "String", ",", "Boolean", ">", "canGenerate", "=", "new", "HashMap", "<", ">", "(", ")", ";", "for", "(", "EntityType", "entity", ":", "entities", ".", "values", "(", ")", ")", "{", "EntityGraph", "graph", "=", "graphs", ".", "get", "(", "entity", ".", "modelName", "(", ")", ")", ";", "String", "packageName", "=", "findModelPackageName", "(", "graph", ")", ";", "canGenerate", ".", "computeIfAbsent", "(", "packageName", ",", "key", "-", ">", "true", ")", ";", "if", "(", "entity", ".", "generatesAdditionalTypes", "(", ")", ")", "{", "canGenerate", ".", "put", "(", "packageName", ",", "false", ")", ";", "}", "if", "(", "packagesMap", ".", "containsKey", "(", "packageName", ")", ")", "{", "packagesMap", ".", "get", "(", "packageName", ")", ".", "addAll", "(", "graph", ".", "entities", "(", ")", ")", ";", "}", "else", "{", "packagesMap", ".", "put", "(", "packageName", ",", "new", "LinkedHashSet", "<", ">", "(", "graph", ".", "entities", "(", ")", ")", ")", ";", "}", "}", "generators", ".", "addAll", "(", "packagesMap", ".", "entrySet", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "entry", "-", ">", "!", "entry", ".", "getValue", "(", ")", ".", "isEmpty", "(", ")", ")", ".", "filter", "(", "entry", "-", ">", "canGenerate", ".", "get", "(", "entry", ".", "getKey", "(", ")", ")", ")", ".", "map", "(", "entry", "-", ">", "new", "ModelGenerator", "(", "processingEnv", ",", "entry", ".", "getKey", "(", ")", ",", "entry", ".", "getValue", "(", ")", ")", ")", ".", "collect", "(", "Collectors", ".", "toList", "(", ")", ")", ")", ";", "}", "for", "(", "SourceGenerator", "generator", ":", "generators", ")", "{", "try", "{", "generator", ".", "generate", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "processingEnv", ".", "getMessager", "(", ")", ".", "printMessage", "(", "Diagnostic", ".", "Kind", ".", "ERROR", ",", "e", ".", "getMessage", "(", ")", ")", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "private", "void", "mergeSuperType", "(", "EntityType", "entity", ",", "TypeElement", "superElement", ")", "{", "EntityType", "superType", "=", "superTypes", ".", "get", "(", "superElement", ")", ";", "if", "(", "superType", "=", "=", "null", "&", "&", "isSuperclass", "(", "superElement", ")", ")", "{", "superType", "=", "computeType", "(", "superTypes", ",", "superElement", ")", ";", "}", "if", "(", "superType", "!", "=", "null", ")", "{", "superType", ".", "process", "(", "processingEnv", ")", ";", "entity", ".", "merge", "(", "superType", ")", ";", "}", "}", "</s>"]
["<s>", "private", "EntityType", "computeType", "(", "Map", "<", "TypeElement", ",", "EntityType", ">", "map", ",", "TypeElement", "element", ")", "{", "return", "map", ".", "computeIfAbsent", "(", "element", ",", "key", "-", ">", "new", "EntityType", "(", "processingEnv", ",", "key", ")", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isEntity", "(", "TypeElement", "element", ")", "{", "return", "Mirrors", ".", "findAnnotationMirror", "(", "element", ",", "Entity", ".", "class", ")", ".", "isPresent", "(", ")", "|", "|", "(", "getOption", "(", "GENERATE_JPA", ",", "true", ")", "&", "&", "Mirrors", ".", "findAnnotationMirror", "(", "element", ",", "javax", ".", "persistence", ".", "Entity", ".", "class", ")", ".", "isPresent", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isSuperclass", "(", "TypeElement", "element", ")", "{", "return", "Mirrors", ".", "findAnnotationMirror", "(", "element", ",", "Superclass", ".", "class", ")", ".", "isPresent", "(", ")", "|", "|", "(", "getOption", "(", "GENERATE_JPA", ",", "true", ")", "&", "&", "Mirrors", ".", "findAnnotationMirror", "(", "element", ",", "javax", ".", "persistence", ".", "MappedSuperclass", ".", "class", ")", ".", "isPresent", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isEmbeddable", "(", "TypeElement", "element", ")", "{", "return", "Mirrors", ".", "findAnnotationMirror", "(", "element", ",", "Embedded", ".", "class", ")", ".", "isPresent", "(", ")", "|", "|", "(", "getOption", "(", "GENERATE_JPA", ",", "true", ")", "&", "&", "Mirrors", ".", "findAnnotationMirror", "(", "element", ",", "javax", ".", "persistence", ".", "Embeddable", ".", "class", ")", ".", "isPresent", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "Optional", "<", "TypeElement", ">", "typeElementOf", "(", "Element", "element", ")", "{", "TypeElement", "typeElement", "=", "null", ";", "switch", "(", "element", ".", "getKind", "(", ")", ")", "{", "case", "METHOD", ":", "case", "CONSTRUCTOR", ":", "case", "FIELD", ":", "case", "ENUM_CONSTANT", ":", "typeElement", "=", "(", "TypeElement", ")", "element", ".", "getEnclosingElement", "(", ")", ";", "break", ";", "case", "CLASS", ":", "case", "INTERFACE", ":", "case", "ENUM", ":", "typeElement", "=", "(", "TypeElement", ")", "element", ";", "break", ";", "}", "return", "Optional", ".", "ofNullable", "(", "typeElement", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "getOption", "(", "String", "key", ",", "boolean", "defaultValue", ")", "{", "String", "value", "=", "processingEnv", ".", "getOptions", "(", ")", ".", "get", "(", "key", ")", ";", "return", "value", "=", "=", "null", "?", "defaultValue", ":", "Boolean", ".", "valueOf", "(", "value", ")", ";", "}", "</s>"]
["<s>", "private", "String", "findModelPackageName", "(", "EntityGraph", "graph", ")", "{", "String", "packageName", "=", "\"", "\"", ";", "Set", "<", "String", ">", "packageNames", "=", "graph", ".", "entities", "(", ")", ".", "stream", "(", ")", ".", "map", "(", "entity", "-", ">", "entity", ".", "typeName", "(", ")", ".", "packageName", "(", ")", ")", ".", "collect", "(", "Collectors", ".", "toSet", "(", ")", ")", ";", "if", "(", "packageNames", ".", "size", "(", ")", "=", "=", "1", ")", "{", "packageName", "=", "packageNames", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "}", "else", "{", "String", "target", "=", "packageNames", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "while", "(", "target", ".", "indexOf", "(", "\"", "<STR_LIT:.>", "\"", ")", "!", "=", "target", ".", "lastIndexOf", "(", "\"", "<STR_LIT:.>", "\"", ")", ")", "{", "target", "=", "target", ".", "substring", "(", "0", ",", "target", ".", "lastIndexOf", "(", "\"", "<STR_LIT:.>", "\"", ")", ")", ";", "boolean", "allTypesInPackage", "=", "true", ";", "for", "(", "EntityDescriptor", "entity", ":", "graph", ".", "entities", "(", ")", ")", "{", "if", "(", "!", "entity", ".", "typeName", "(", ")", ".", "packageName", "(", ")", ".", "startsWith", "(", "target", ")", ")", "{", "allTypesInPackage", "=", "false", ";", "}", "}", "if", "(", "allTypesInPackage", ")", "{", "packageName", "=", "target", ";", "break", ";", "}", "}", "if", "(", "\"", "\"", ".", "equals", "(", "packageName", ")", ")", "{", "packageName", "=", "target", ";", "}", "}", "return", "packageName", ";", "}", "</s>"]
["<s>", "AttributeMember", "(", "Element", "element", ",", "EntityDescriptor", "entity", ")", "{", "super", "(", "element", ")", ";", "if", "(", "!", "element", ".", "getKind", "(", ")", ".", "isField", "(", ")", "&", "&", "element", ".", "getKind", "(", ")", "!", "=", "ElementKind", ".", "METHOD", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "this", ".", "entity", "=", "entity", ";", "this", ".", "indexNames", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "ElementValidator", ">", "process", "(", "ProcessingEnvironment", "processingEnvironment", ")", "{", "Set", "<", "ElementValidator", ">", "validators", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "ElementValidator", "validator", "=", "new", "ElementValidator", "(", "element", "(", ")", ",", "processingEnvironment", ")", ";", "validators", ".", "add", "(", "validator", ")", ";", "validateField", "(", "validator", ")", ";", "processFieldAccessAnnotations", "(", "validator", ")", ";", "processBasicColumnAnnotations", "(", "validator", ")", ";", "processAssociativeAnnotations", "(", "processingEnvironment", ",", "validator", ")", ";", "processConverterAnnotation", "(", "validator", ")", ";", "checkMemberType", "(", "processingEnvironment", ",", "typeMirror", "(", ")", ",", "validators", ")", ";", "if", "(", "cardinality", "(", ")", "!", "=", "null", "&", "&", "entity", ".", "isImmutable", "(", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "checkReserved", "(", "name", "(", ")", ",", "validator", ")", ";", "isEmbedded", "=", "annotationOf", "(", "Embedded", ".", "class", ")", ".", "isPresent", "(", ")", "|", "|", "annotationOf", "(", "javax", ".", "persistence", ".", "Embedded", ".", "class", ")", ".", "isPresent", "(", ")", ";", "indexNames", ".", "forEach", "(", "name", "-", ">", "checkReserved", "(", "name", ",", "validator", ")", ")", ";", "return", "validators", ";", "}", "</s>"]
["<s>", "private", "void", "validateField", "(", "ElementValidator", "validator", ")", "{", "if", "(", "element", "(", ")", ".", "getKind", "(", ")", ".", "isField", "(", ")", ")", "{", "Set", "<", "Modifier", ">", "modifiers", "=", "element", "(", ")", ".", "getModifiers", "(", ")", ";", "if", "(", "!", "entity", ".", "isUnimplementable", "(", ")", "&", "&", "modifiers", ".", "contains", "(", "Modifier", ".", "PRIVATE", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "modifiers", ".", "contains", "(", "Modifier", ".", "STATIC", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "modifiers", ".", "contains", "(", "Modifier", ".", "FINAL", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "checkMemberType", "(", "ProcessingEnvironment", "processingEnvironment", ",", "TypeMirror", "type", ",", "Set", "<", "ElementValidator", ">", "validators", ")", "{", "builderClass", "=", "AttributeBuilder", ".", "class", ";", "Types", "types", "=", "processingEnvironment", ".", "getTypeUtils", "(", ")", ";", "isBoolean", "=", "type", ".", "getKind", "(", ")", "=", "=", "TypeKind", ".", "BOOLEAN", ";", "if", "(", "type", ".", "getKind", "(", ")", "=", "=", "TypeKind", ".", "DECLARED", ")", "{", "TypeElement", "element", "=", "(", "TypeElement", ")", "types", ".", "asElement", "(", "type", ")", ";", "if", "(", "element", "!", "=", "null", ")", "{", "if", "(", "cardinality", "!", "=", "null", ")", "{", "isIterable", "=", "Mirrors", ".", "isInstance", "(", "types", ",", "element", ",", "Iterable", ".", "class", ")", ";", "}", "isMap", "=", "Mirrors", ".", "isInstance", "(", "types", ",", "element", ",", "Map", ".", "class", ")", ";", "if", "(", "isMap", "&", "&", "cardinality", "!", "=", "null", ")", "{", "builderClass", "=", "MapAttributeBuilder", ".", "class", ";", "}", "isOptional", "=", "Mirrors", ".", "isInstance", "(", "types", ",", "element", ",", "Optional", ".", "class", ")", ";", "isBoolean", "=", "Mirrors", ".", "isInstance", "(", "types", ",", "element", ",", "Boolean", ".", "class", ")", ";", "}", "}", "if", "(", "isIterable", ")", "{", "validators", ".", "add", "(", "validateCollectionType", "(", "processingEnvironment", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "ElementValidator", "validateCollectionType", "(", "ProcessingEnvironment", "processingEnvironment", ")", "{", "Types", "types", "=", "processingEnvironment", ".", "getTypeUtils", "(", ")", ";", "TypeElement", "collectionElement", "=", "(", "TypeElement", ")", "types", ".", "asElement", "(", "typeMirror", "(", ")", ")", ";", "ElementValidator", "validator", "=", "new", "ElementValidator", "(", "collectionElement", ",", "processingEnvironment", ")", ";", "if", "(", "Mirrors", ".", "isInstance", "(", "types", ",", "collectionElement", ",", "List", ".", "class", ")", ")", "{", "builderClass", "=", "ListAttributeBuilder", ".", "class", ";", "}", "else", "if", "(", "Mirrors", ".", "isInstance", "(", "types", ",", "collectionElement", ",", "Set", ".", "class", ")", ")", "{", "builderClass", "=", "SetAttributeBuilder", ".", "class", ";", "}", "else", "if", "(", "Mirrors", ".", "isInstance", "(", "types", ",", "collectionElement", ",", "Iterable", ".", "class", ")", ")", "{", "builderClass", "=", "ResultAttributeBuilder", ".", "class", ";", "}", "else", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "return", "validator", ";", "}", "</s>"]
["<s>", "private", "void", "processFieldAccessAnnotations", "(", "ElementValidator", "validator", ")", "{", "if", "(", "annotationOf", "(", "Transient", ".", "class", ")", ".", "isPresent", "(", ")", "|", "|", "annotationOf", "(", "java", ".", "beans", ".", "Transient", ".", "class", ")", ".", "isPresent", "(", ")", "|", "|", "annotationOf", "(", "javax", ".", "persistence", ".", "Transient", ".", "class", ")", ".", "isPresent", "(", ")", "|", "|", "element", "(", ")", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "TRANSIENT", ")", ")", "{", "isTransient", "=", "true", ";", "}", "isReadOnly", "=", "annotationOf", "(", "ReadOnly", ".", "class", ")", ".", "isPresent", "(", ")", ";", "if", "(", "!", "SourceVersion", ".", "isIdentifier", "(", "getterName", "(", ")", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", "+", "getterName", "(", ")", ",", "Naming", ".", "class", ")", ";", "}", "if", "(", "!", "SourceVersion", ".", "isIdentifier", "(", "setterName", "(", ")", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", "+", "setterName", "(", ")", ",", "Naming", ".", "class", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "processBasicColumnAnnotations", "(", "ElementValidator", "validator", ")", "{", "if", "(", "annotationOf", "(", "Key", ".", "class", ")", ".", "isPresent", "(", ")", "|", "|", "annotationOf", "(", "javax", ".", "persistence", ".", "Id", ".", "class", ")", ".", "isPresent", "(", ")", ")", "{", "isKey", "=", "true", ";", "if", "(", "isTransient", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "if", "(", "annotationOf", "(", "Generated", ".", "class", ")", ".", "isPresent", "(", ")", "|", "|", "annotationOf", "(", "GeneratedValue", ".", "class", ")", ".", "isPresent", "(", ")", ")", "{", "isGenerated", "=", "true", ";", "isReadOnly", "=", "true", ";", "annotationOf", "(", "GeneratedValue", ".", "class", ")", ".", "ifPresent", "(", "generatedValue", "-", ">", "{", "if", "(", "generatedValue", ".", "strategy", "(", ")", "!", "=", "GenerationType", ".", "IDENTITY", "&", "&", "generatedValue", ".", "strategy", "(", ")", "!", "=", "GenerationType", ".", "AUTO", ")", "{", "validator", ".", "warning", "(", "\"", "<STR_LIT>", "\"", "+", "generatedValue", ".", "strategy", "(", ")", "+", "\"", "<STR_LIT>", "\"", ",", "generatedValue", ".", "getClass", "(", ")", ")", ";", "}", "}", ")", ";", "}", "if", "(", "annotationOf", "(", "Lazy", ".", "class", ")", ".", "isPresent", "(", ")", ")", "{", "if", "(", "isKey", ")", "{", "cannotCombine", "(", "validator", ",", "Key", ".", "class", ",", "Lazy", ".", "class", ")", ";", "}", "isLazy", "=", "true", ";", "}", "if", "(", "annotationOf", "(", "Nullable", ".", "class", ")", ".", "isPresent", "(", ")", "|", "|", "isOptional", "|", "|", "Mirrors", ".", "findAnnotationMirror", "(", "element", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ".", "isPresent", "(", ")", ")", "{", "isNullable", "=", "true", ";", "}", "else", "{", "if", "(", "element", "(", ")", ".", "getKind", "(", ")", ".", "isField", "(", ")", ")", "{", "isNullable", "=", "!", "element", "(", ")", ".", "asType", "(", ")", ".", "getKind", "(", ")", ".", "isPrimitive", "(", ")", ";", "}", "else", "if", "(", "element", "(", ")", ".", "getKind", "(", ")", "=", "=", "ElementKind", ".", "METHOD", ")", "{", "ExecutableElement", "executableElement", "=", "(", "ExecutableElement", ")", "element", "(", ")", ";", "isNullable", "=", "!", "executableElement", ".", "getReturnType", "(", ")", ".", "getKind", "(", ")", ".", "isPrimitive", "(", ")", ";", "}", "}", "if", "(", "annotationOf", "(", "Version", ".", "class", ")", ".", "isPresent", "(", ")", "|", "|", "annotationOf", "(", "javax", ".", "persistence", ".", "Version", ".", "class", ")", ".", "isPresent", "(", ")", ")", "{", "isVersion", "=", "true", ";", "if", "(", "isKey", ")", "{", "cannotCombine", "(", "validator", ",", "Key", ".", "class", ",", "Version", ".", "class", ")", ";", "}", "}", "Column", "column", "=", "annotationOf", "(", "Column", ".", "class", ")", ".", "orElse", "(", "null", ")", ";", "ForeignKey", "foreignKey", "=", "null", ";", "boolean", "foreignKeySetFromColumn", "=", "false", ";", "if", "(", "column", "!", "=", "null", ")", "{", "name", "=", "\"", "\"", ".", "equals", "(", "column", ".", "name", "(", ")", ")", "?", "null", ":", "column", ".", "name", "(", ")", ";", "isUnique", "=", "column", ".", "unique", "(", ")", ";", "isNullable", "=", "column", ".", "nullable", "(", ")", ";", "defaultValue", "=", "column", ".", "value", "(", ")", ";", "collate", "=", "column", ".", "collate", "(", ")", ";", "if", "(", "column", ".", "length", "(", ")", ">", "0", ")", "{", "length", "=", "column", ".", "length", "(", ")", ";", "}", "if", "(", "column", ".", "foreignKey", "(", ")", ".", "length", ">", "0", ")", "{", "foreignKey", "=", "column", ".", "foreignKey", "(", ")", "[", "0", "]", ";", "foreignKeySetFromColumn", "=", "true", ";", "}", "}", "if", "(", "!", "foreignKeySetFromColumn", ")", "{", "foreignKey", "=", "annotationOf", "(", "ForeignKey", ".", "class", ")", ".", "orElse", "(", "null", ")", ";", "}", "if", "(", "foreignKey", "!", "=", "null", ")", "{", "this", ".", "isForeignKey", "=", "true", ";", "deleteAction", "=", "foreignKey", ".", "delete", "(", ")", ";", "updateAction", "=", "foreignKey", ".", "update", "(", ")", ";", "referencedColumn", "=", "foreignKey", ".", "referencedColumn", "(", ")", ";", "}", "annotationOf", "(", "Index", ".", "class", ")", ".", "ifPresent", "(", "index", "-", ">", "{", "isIndexed", "=", "true", ";", "Collections", ".", "addAll", "(", "indexNames", ",", "index", ".", "value", "(", ")", ")", ";", "}", ")", ";", "annotationOf", "(", "Basic", ".", "class", ")", ".", "ifPresent", "(", "basic", "-", ">", "{", "isNullable", "=", "basic", ".", "optional", "(", ")", ";", "isLazy", "=", "basic", ".", "fetch", "(", ")", "=", "=", "FetchType", ".", "LAZY", ";", "}", ")", ";", "annotationOf", "(", "javax", ".", "persistence", ".", "Index", ".", "class", ")", ".", "ifPresent", "(", "index", "-", ">", "{", "isIndexed", "=", "true", ";", "Collections", ".", "addAll", "(", "indexNames", ",", "index", ".", "name", "(", ")", ")", ";", "}", ")", ";", "annotationOf", "(", "JoinColumn", ".", "class", ")", ".", "ifPresent", "(", "joinColumn", "-", ">", "{", "javax", ".", "persistence", ".", "ForeignKey", "joinForeignKey", "=", "joinColumn", ".", "foreignKey", "(", ")", ";", "this", ".", "isForeignKey", "=", "true", ";", "ConstraintMode", "constraintMode", "=", "joinForeignKey", ".", "value", "(", ")", ";", "switch", "(", "constraintMode", ")", "{", "default", ":", "case", "PROVIDER_DEFAULT", ":", "case", "CONSTRAINT", ":", "deleteAction", "=", "ReferentialAction", ".", "CASCADE", ";", "updateAction", "=", "ReferentialAction", ".", "CASCADE", ";", "break", ";", "case", "NO_CONSTRAINT", ":", "deleteAction", "=", "ReferentialAction", ".", "NO_ACTION", ";", "updateAction", "=", "ReferentialAction", ".", "NO_ACTION", ";", "break", ";", "}", "this", ".", "referencedTable", "=", "joinColumn", ".", "table", "(", ")", ";", "this", ".", "referencedColumn", "=", "joinColumn", ".", "referencedColumnName", "(", ")", ";", "}", ")", ";", "annotationOf", "(", "javax", ".", "persistence", ".", "Column", ".", "class", ")", ".", "ifPresent", "(", "persistenceColumn", "-", ">", "{", "name", "=", "\"", "\"", ".", "equals", "(", "persistenceColumn", ".", "name", "(", ")", ")", "?", "null", ":", "persistenceColumn", ".", "name", "(", ")", ";", "isUnique", "=", "persistenceColumn", ".", "unique", "(", ")", ";", "isNullable", "=", "persistenceColumn", ".", "nullable", "(", ")", ";", "length", "=", "persistenceColumn", ".", "length", "(", ")", ";", "isReadOnly", "=", "!", "persistenceColumn", ".", "updatable", "(", ")", ";", "}", ")", ";", "annotationOf", "(", "Enumerated", ".", "class", ")", ".", "ifPresent", "(", "enumerated", "-", ">", "{", "EnumType", "enumType", "=", "enumerated", ".", "value", "(", ")", ";", "if", "(", "enumType", "=", "=", "EnumType", ".", "ORDINAL", ")", "{", "converterType", "=", "EnumOrdinalConverter", ".", "class", ".", "getCanonicalName", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "private", "void", "processAssociativeAnnotations", "(", "ProcessingEnvironment", "processingEnvironment", ",", "ElementValidator", "validator", ")", "{", "Optional", "<", "Annotation", ">", "oneToOne", "=", "annotationOf", "(", "OneToOne", ".", "class", ")", ";", "Optional", "<", "Annotation", ">", "oneToMany", "=", "annotationOf", "(", "OneToMany", ".", "class", ")", ";", "Optional", "<", "Annotation", ">", "manyToOne", "=", "annotationOf", "(", "ManyToOne", ".", "class", ")", ";", "Optional", "<", "Annotation", ">", "manyToMany", "=", "annotationOf", "(", "ManyToMany", ".", "class", ")", ";", "oneToOne", "=", "oneToOne", ".", "isPresent", "(", ")", "?", "oneToOne", ":", "annotationOf", "(", "javax", ".", "persistence", ".", "OneToOne", ".", "class", ")", ";", "oneToMany", "=", "oneToMany", ".", "isPresent", "(", ")", "?", "oneToMany", ":", "annotationOf", "(", "javax", ".", "persistence", ".", "OneToMany", ".", "class", ")", ";", "manyToOne", "=", "manyToOne", ".", "isPresent", "(", ")", "?", "manyToOne", ":", "annotationOf", "(", "javax", ".", "persistence", ".", "ManyToOne", ".", "class", ")", ";", "manyToMany", "=", "manyToMany", ".", "isPresent", "(", ")", "?", "manyToMany", ":", "annotationOf", "(", "javax", ".", "persistence", ".", "ManyToMany", ".", "class", ")", ";", "if", "(", "Stream", ".", "of", "(", "oneToOne", ",", "oneToMany", ",", "manyToOne", ",", "manyToMany", ")", ".", "filter", "(", "Optional", ":", ":", "isPresent", ")", ".", "count", "(", ")", ">", "1", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "oneToOne", ".", "isPresent", "(", ")", ")", "{", "cardinality", "=", "Cardinality", ".", "ONE_TO_ONE", ";", "ReflectiveAssociation", "reflect", "=", "new", "ReflectiveAssociation", "(", "oneToOne", ".", "get", "(", ")", ")", ";", "mappedBy", "=", "reflect", ".", "mappedBy", "(", ")", ";", "cascadeActions", "=", "reflect", ".", "cascade", "(", ")", ";", "if", "(", "!", "isForeignKey", "(", ")", ")", "{", "isReadOnly", "=", "true", ";", "if", "(", "!", "isKey", "(", ")", ")", "{", "isUnique", "=", "true", ";", "}", "}", "}", "if", "(", "oneToMany", ".", "isPresent", "(", ")", ")", "{", "isIterable", "=", "true", ";", "cardinality", "=", "Cardinality", ".", "ONE_TO_MANY", ";", "isReadOnly", "=", "true", ";", "ReflectiveAssociation", "reflect", "=", "new", "ReflectiveAssociation", "(", "oneToMany", ".", "get", "(", ")", ")", ";", "mappedBy", "=", "reflect", ".", "mappedBy", "(", ")", ";", "cascadeActions", "=", "reflect", ".", "cascade", "(", ")", ";", "checkIterable", "(", "validator", ")", ";", "processOrderBy", "(", ")", ";", "}", "if", "(", "manyToOne", ".", "isPresent", "(", ")", ")", "{", "cardinality", "=", "Cardinality", ".", "MANY_TO_ONE", ";", "isForeignKey", "=", "true", ";", "ReflectiveAssociation", "reflect", "=", "new", "ReflectiveAssociation", "(", "manyToOne", ".", "get", "(", ")", ")", ";", "cascadeActions", "=", "reflect", ".", "cascade", "(", ")", ";", "if", "(", "deleteAction", "=", "=", "null", ")", "{", "deleteAction", "=", "ReferentialAction", ".", "CASCADE", ";", "}", "if", "(", "updateAction", "=", "=", "null", ")", "{", "updateAction", "=", "ReferentialAction", ".", "CASCADE", ";", "}", "}", "if", "(", "manyToMany", ".", "isPresent", "(", ")", ")", "{", "isIterable", "=", "true", ";", "cardinality", "=", "Cardinality", ".", "MANY_TO_MANY", ";", "ReflectiveAssociation", "reflect", "=", "new", "ReflectiveAssociation", "(", "manyToMany", ".", "get", "(", ")", ")", ";", "mappedBy", "=", "reflect", ".", "mappedBy", "(", ")", ";", "cascadeActions", "=", "reflect", ".", "cascade", "(", ")", ";", "Optional", "<", "JunctionTable", ">", "junctionTable", "=", "annotationOf", "(", "JunctionTable", ".", "class", ")", ";", "Optional", "<", "javax", ".", "persistence", ".", "JoinTable", ">", "joinTable", "=", "annotationOf", "(", "javax", ".", "persistence", ".", "JoinTable", ".", "class", ")", ";", "if", "(", "junctionTable", ".", "isPresent", "(", ")", ")", "{", "Elements", "elements", "=", "processingEnvironment", ".", "getElementUtils", "(", ")", ";", "associativeDescriptor", "=", "new", "JunctionTableAssociation", "(", "elements", ",", "this", ",", "junctionTable", ".", "get", "(", ")", ")", ";", "}", "else", "if", "(", "joinTable", ".", "isPresent", "(", ")", ")", "{", "associativeDescriptor", "=", "new", "JoinTableAssociation", "(", "joinTable", ".", "get", "(", ")", ")", ";", "}", "isReadOnly", "=", "true", ";", "checkIterable", "(", "validator", ")", ";", "processOrderBy", "(", ")", ";", "}", "if", "(", "isForeignKey", "(", ")", ")", "{", "if", "(", "deleteAction", "=", "=", "ReferentialAction", ".", "SET_NULL", "&", "&", "!", "isNullable", "(", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ",", "ForeignKey", ".", "class", ")", ";", "}", "Optional", "<", "?", "extends", "AnnotationMirror", ">", "mirror", "=", "Mirrors", ".", "findAnnotationMirror", "(", "element", "(", ")", ",", "ForeignKey", ".", "class", ")", ";", "if", "(", "mirror", ".", "isPresent", "(", ")", ")", "{", "referencedType", "=", "mirror", ".", "flatMap", "(", "m", "-", ">", "Mirrors", ".", "findAnnotationValue", "(", "m", ",", "\"", "<STR_LIT>", "\"", ")", ")", ".", "map", "(", "value", "-", ">", "value", ".", "getValue", "(", ")", ".", "toString", "(", ")", ")", ".", "orElse", "(", "null", ")", ";", "}", "else", "if", "(", "!", "typeMirror", "(", ")", ".", "getKind", "(", ")", ".", "isPrimitive", "(", ")", ")", "{", "referencedType", "=", "typeMirror", "(", ")", ".", "toString", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "checkReserved", "(", "String", "name", ",", "ElementValidator", "validator", ")", "{", "if", "(", "Stream", ".", "of", "(", "ReservedKeyword", ".", "values", "(", ")", ")", ".", "anyMatch", "(", "keyword", "-", ">", "keyword", ".", "toString", "(", ")", ".", "equalsIgnoreCase", "(", "name", ")", ")", ")", "{", "validator", ".", "warning", "(", "\"", "<STR_LIT>", "\"", "+", "name", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "checkIterable", "(", "ElementValidator", "validator", ")", "{", "if", "(", "!", "isIterable", "(", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "processConverterAnnotation", "(", "ElementValidator", "validator", ")", "{", "if", "(", "annotationOf", "(", "Convert", ".", "class", ")", ".", "isPresent", "(", ")", ")", "{", "Optional", "<", "?", "extends", "AnnotationMirror", ">", "mirror", "=", "Mirrors", ".", "findAnnotationMirror", "(", "element", "(", ")", ",", "Convert", ".", "class", ")", ";", "converterType", "=", "mirror", ".", "map", "(", "Mirrors", ":", ":", "findAnnotationValue", ")", ".", "filter", "(", "Optional", ":", ":", "isPresent", ")", ".", "map", "(", "Optional", ":", ":", "get", ")", ".", "map", "(", "value", "-", ">", "value", ".", "getValue", "(", ")", ".", "toString", "(", ")", ")", ".", "orElse", "(", "null", ")", ";", "}", "else", "if", "(", "annotationOf", "(", "javax", ".", "persistence", ".", "Convert", ".", "class", ")", ".", "isPresent", "(", ")", ")", "{", "Optional", "<", "?", "extends", "AnnotationMirror", ">", "mirror", "=", "Mirrors", ".", "findAnnotationMirror", "(", "element", "(", ")", ",", "javax", ".", "persistence", ".", "Convert", ".", "class", ")", ";", "converterType", "=", "mirror", ".", "map", "(", "m", "-", ">", "Mirrors", ".", "findAnnotationValue", "(", "m", ",", "\"", "<STR_LIT>", "\"", ")", ")", ".", "filter", "(", "Optional", ":", ":", "isPresent", ")", ".", "map", "(", "Optional", ":", ":", "get", ")", ".", "map", "(", "value", "-", ">", "value", ".", "getValue", "(", ")", ".", "toString", "(", ")", ")", ".", "orElse", "(", "null", ")", ";", "}", "if", "(", "converterType", "!", "=", "null", "&", "&", "cardinality", "!", "=", "null", ")", "{", "validator", ".", "warning", "(", "\"", "<STR_LIT>", "\"", ",", "Convert", ".", "class", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "processOrderBy", "(", ")", "{", "annotationOf", "(", "OrderBy", ".", "class", ")", ".", "ifPresent", "(", "orderBy", "-", ">", "{", "orderByColumn", "=", "orderBy", ".", "value", "(", ")", ";", "orderByDirection", "=", "orderBy", ".", "order", "(", ")", ";", "}", ")", ";", "annotationOf", "(", "javax", ".", "persistence", ".", "OrderBy", ".", "class", ")", ".", "ifPresent", "(", "orderBy", "-", ">", "{", "String", "value", "=", "orderBy", ".", "value", "(", ")", ";", "String", "[", "]", "parts", "=", "value", ".", "split", "(", "\"", "\"", ")", ";", "if", "(", "parts", ".", "length", ">", "0", ")", "{", "orderByColumn", "=", "parts", "[", "0", "]", ".", "trim", "(", ")", ";", "if", "(", "parts", ".", "length", ">", "1", ")", "{", "String", "direction", "=", "parts", "[", "1", "]", ".", "toUpperCase", "(", ")", ".", "trim", "(", ")", ";", "try", "{", "orderByDirection", "=", "Order", ".", "valueOf", "(", "direction", ")", ";", "}", "catch", "(", "IllegalArgumentException", "e", ")", "{", "orderByDirection", "=", "Order", ".", "ASC", ";", "}", "}", "}", "}", ")", ";", "}", "</s>"]
["<s>", "private", "void", "cannotCombine", "(", "ElementValidator", "validator", ",", "Class", "<", "?", "extends", "Annotation", ">", "annotation1", ",", "Class", "<", "?", "extends", "Annotation", ">", "annotation2", ")", "{", "String", "first", "=", "annotation1", ".", "getSimpleName", "(", ")", ";", "String", "second", "=", "annotation2", ".", "getSimpleName", "(", ")", ";", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", "+", "first", "+", "\"", "<STR_LIT>", "\"", "+", "second", ",", "annotation2", ")", ";", "}", "</s>"]
["<s>", "private", "String", "getMethodName", "(", "String", "override", ",", "String", "prefix", ")", "{", "override", "=", "override", ".", "replace", "(", "\"", "<STR_LIT:\\\">", "\"", ",", "\"", "\"", ")", ";", "if", "(", "Names", ".", "isEmpty", "(", "override", ")", ")", "{", "CharSequence", "simpleName", "=", "Names", ".", "removeMemberPrefixes", "(", "element", "(", ")", ".", "getSimpleName", "(", ")", ")", ";", "return", "Names", ".", "isEmpty", "(", "prefix", ")", "?", "Names", ".", "lowerCaseFirst", "(", "simpleName", ")", ":", "prefix", "+", "Names", ".", "upperCaseFirst", "(", "simpleName", ")", ";", "}", "else", "{", "return", "override", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "TypeMirror", "typeMirror", "(", ")", "{", "if", "(", "element", "(", ")", ".", "getKind", "(", ")", ".", "isField", "(", ")", ")", "{", "return", "element", "(", ")", ".", "asType", "(", ")", ";", "}", "else", "{", "ExecutableElement", "executableElement", "=", "(", "ExecutableElement", ")", "element", "(", ")", ";", "return", "executableElement", ".", "getReturnType", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "fieldName", "(", ")", "{", "if", "(", "element", "(", ")", ".", "getKind", "(", ")", ".", "isField", "(", ")", ")", "{", "return", "element", "(", ")", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "}", "else", "if", "(", "element", "(", ")", ".", "getKind", "(", ")", "=", "=", "ElementKind", ".", "METHOD", ")", "{", "ExecutableElement", "methodElement", "=", "(", "ExecutableElement", ")", "element", "(", ")", ";", "String", "name", "=", "methodElement", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "name", "=", "Names", ".", "removeMethodPrefixes", "(", "name", ")", ";", "if", "(", "Names", ".", "isAllUpper", "(", "name", ")", ")", "{", "return", "name", ".", "toLowerCase", "(", "Locale", ".", "ROOT", ")", ";", "}", "else", "{", "return", "Names", ".", "lowerCaseFirst", "(", "name", ")", ";", "}", "}", "else", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getterName", "(", ")", "{", "if", "(", "element", "(", ")", ".", "getKind", "(", ")", ".", "isField", "(", ")", ")", "{", "String", "name", "=", "annotationOf", "(", "Naming", ".", "class", ")", ".", "map", "(", "Naming", ":", ":", "getter", ")", ".", "orElse", "(", "\"", "\"", ")", ";", "String", "prefix", "=", "\"", "\"", ";", "if", "(", "useBeanStyleProperties", "(", ")", ")", "{", "prefix", "=", "isBoolean", "?", "\"", "<STR_LIT>", "\"", ":", "\"", "<STR_LIT>", "\"", ";", "}", "return", "getMethodName", "(", "name", ",", "prefix", ")", ";", "}", "else", "{", "return", "element", "(", ")", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "setterName", "(", ")", "{", "if", "(", "element", "(", ")", ".", "getKind", "(", ")", ".", "isField", "(", ")", ")", "{", "String", "name", "=", "annotationOf", "(", "Naming", ".", "class", ")", ".", "map", "(", "Naming", ":", ":", "setter", ")", ".", "orElse", "(", "\"", "\"", ")", ";", "return", "getMethodName", "(", "name", ",", "useBeanStyleProperties", "(", ")", "?", "\"", "<STR_LIT>", "\"", ":", "\"", "\"", ")", ";", "}", "else", "{", "for", "(", "ExecutableElement", "element", ":", "ElementFilter", ".", "methodsIn", "(", "entity", ".", "element", "(", ")", ".", "getEnclosedElements", "(", ")", ")", ")", "{", "List", "<", "?", "extends", "VariableElement", ">", "parameters", "=", "element", ".", "getParameters", "(", ")", ";", "if", "(", "parameters", ".", "size", "(", ")", "=", "=", "1", ")", "{", "String", "property", "=", "Names", ".", "removeMethodPrefixes", "(", "element", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ")", ";", "if", "(", "property", ".", "toLowerCase", "(", "Locale", ".", "ROOT", ")", ".", "equalsIgnoreCase", "(", "name", "(", ")", ")", ")", "{", "return", "element", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "}", "}", "}", "ExecutableElement", "executableElement", "=", "(", "ExecutableElement", ")", "element", "(", ")", ";", "String", "elementName", "=", "element", "(", ")", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "AccessorNamePrefix", "prefix", "=", "AccessorNamePrefix", ".", "fromElement", "(", "executableElement", ")", ";", "switch", "(", "prefix", ")", "{", "case", "GET", ":", "return", "elementName", ".", "replaceFirst", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "case", "IS", ":", "return", "elementName", ".", "replaceFirst", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "case", "NONE", ":", "default", ":", "return", "elementName", ";", "}", "}", "}", "</s>"]
["<s>", "private", "boolean", "useBeanStyleProperties", "(", ")", "{", "return", "entity", ".", "propertyNameStyle", "(", ")", "=", "=", "PropertyNameStyle", ".", "BEAN", "|", "|", "entity", ".", "propertyNameStyle", "(", ")", "=", "=", "PropertyNameStyle", ".", "FLUENT_BEAN", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "name", "(", ")", "{", "if", "(", "!", "Names", ".", "isEmpty", "(", "name", ")", ")", "{", "return", "name", ";", "}", "String", "elementName", "=", "element", "(", ")", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "if", "(", "element", "(", ")", ".", "getKind", "(", ")", "=", "=", "ElementKind", ".", "METHOD", ")", "{", "ExecutableElement", "executableElement", "=", "(", "ExecutableElement", ")", "element", "(", ")", ";", "AccessorNamePrefix", "prefix", "=", "AccessorNamePrefix", ".", "fromElement", "(", "executableElement", ")", ";", "switch", "(", "prefix", ")", "{", "case", "GET", ":", "elementName", "=", "elementName", ".", "replaceFirst", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", ")", ";", "break", ";", "case", "IS", ":", "elementName", "=", "elementName", ".", "replaceFirst", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", ")", ";", "break", ";", "}", "return", "Names", ".", "isAllUpper", "(", "elementName", ")", "?", "elementName", ":", "Names", ".", "lowerCaseFirst", "(", "elementName", ")", ";", "}", "return", "elementName", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "collate", "(", ")", "{", "return", "collate", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "columnLength", "(", ")", "{", "return", "length", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "converterName", "(", ")", "{", "return", "converterType", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "String", ">", "indexNames", "(", ")", "{", "return", "indexNames", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "defaultValue", "(", ")", "{", "return", "defaultValue", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isEmbedded", "(", ")", "{", "return", "isEmbedded", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isForeignKey", "(", ")", "{", "return", "isForeignKey", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isNullable", "(", ")", "{", "return", "isNullable", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isGenerated", "(", ")", "{", "return", "isGenerated", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isIndexed", "(", ")", "{", "return", "isIndexed", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isIterable", "(", ")", "{", "return", "isIterable", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isKey", "(", ")", "{", "return", "isKey", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isLazy", "(", ")", "{", "return", "isLazy", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isMap", "(", ")", "{", "return", "isMap", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isOptional", "(", ")", "{", "return", "isOptional", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isReadOnly", "(", ")", "{", "return", "isReadOnly", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isTransient", "(", ")", "{", "return", "isTransient", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isUnique", "(", ")", "{", "return", "isUnique", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isVersion", "(", ")", "{", "return", "isVersion", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Cardinality", "cardinality", "(", ")", "{", "return", "cardinality", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ReferentialAction", "deleteAction", "(", ")", "{", "return", "deleteAction", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ReferentialAction", "updateAction", "(", ")", "{", "return", "updateAction", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "CascadeAction", ">", "cascadeActions", "(", ")", "{", "EnumSet", "<", "CascadeAction", ">", "actions", "=", "EnumSet", ".", "noneOf", "(", "CascadeAction", ".", "class", ")", ";", "if", "(", "cascadeActions", "!", "=", "null", ")", "{", "actions", ".", "addAll", "(", "Arrays", ".", "asList", "(", "cascadeActions", ")", ")", ";", "}", "return", "actions", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "referencedColumn", "(", ")", "{", "return", "referencedColumn", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "referencedType", "(", ")", "{", "return", "referencedType", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "referencedTable", "(", ")", "{", "return", "referencedTable", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "mappedBy", "(", ")", "{", "return", "mappedBy", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "orderBy", "(", ")", "{", "return", "orderByColumn", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Order", "orderByDirection", "(", ")", "{", "return", "orderByDirection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "?", "extends", "AttributeBuilder", ">", "builderClass", "(", ")", "{", "return", "builderClass", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Optional", "<", "AssociativeEntityDescriptor", ">", "associativeEntity", "(", ")", "{", "return", "Optional", ".", "ofNullable", "(", "associativeDescriptor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "entity", ".", "typeName", "(", ")", "+", "\"", "<STR_LIT:.>", "\"", "+", "name", "(", ")", ";", "}", "</s>"]
["<s>", "ReflectiveAssociation", "(", "Annotation", "annotation", ")", "{", "this", ".", "annotation", "=", "annotation", ";", "}", "</s>"]
["<s>", "String", "mappedBy", "(", ")", "{", "try", "{", "return", "(", "String", ")", "annotation", ".", "getClass", "(", ")", ".", "getMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "invoke", "(", "annotation", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "return", "null", ";", "}", "}", "</s>"]
["<s>", "CascadeAction", "[", "]", "cascade", "(", ")", "{", "try", "{", "return", "(", "CascadeAction", "[", "]", ")", "annotation", ".", "getClass", "(", ")", ".", "getMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "invoke", "(", "annotation", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "try", "{", "CascadeType", "[", "]", "cascadeTypes", "=", "(", "CascadeType", "[", "]", ")", "annotation", ".", "getClass", "(", ")", ".", "getMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "invoke", "(", "annotation", ")", ";", "return", "mapCascadeActions", "(", "cascadeTypes", ")", ";", "}", "catch", "(", "Exception", "ee", ")", "{", "return", "null", ";", "}", "}", "}", "</s>"]
["<s>", "private", "static", "CascadeAction", "[", "]", "mapCascadeActions", "(", "CascadeType", "[", "]", "types", ")", "{", "EnumSet", "<", "CascadeAction", ">", "actions", "=", "EnumSet", ".", "noneOf", "(", "CascadeAction", ".", "class", ")", ";", "for", "(", "CascadeType", "type", ":", "types", ")", "{", "switch", "(", "type", ")", "{", "case", "ALL", ":", "actions", ".", "addAll", "(", "EnumSet", ".", "allOf", "(", "CascadeAction", ".", "class", ")", ")", ";", "case", "PERSIST", ":", "actions", ".", "add", "(", "CascadeAction", ".", "SAVE", ")", ";", "break", ";", "case", "MERGE", ":", "actions", ".", "add", "(", "CascadeAction", ".", "SAVE", ")", ";", "break", ";", "case", "REMOVE", ":", "actions", ".", "add", "(", "CascadeAction", ".", "DELETE", ")", ";", "break", ";", "case", "REFRESH", ":", "break", ";", "}", "}", "return", "actions", ".", "toArray", "(", "new", "CascadeAction", "[", "actions", ".", "size", "(", ")", "]", ")", ";", "}", "</s>"]
["<s>", "EntityType", "(", "ProcessingEnvironment", "processingEnvironment", ",", "TypeElement", "typeElement", ")", "{", "super", "(", "typeElement", ")", ";", "this", ".", "processingEnvironment", "=", "processingEnvironment", ";", "attributes", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "listeners", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "sourceLanguage", "=", "SourceLanguage", ".", "of", "(", "typeElement", ")", ";", "modelName", "=", "createModelName", "(", ")", ";", "qualifiedName", "=", "createQualifiedName", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "ElementValidator", ">", "process", "(", "ProcessingEnvironment", "processingEnvironment", ")", "{", "if", "(", "element", "(", ")", ".", "getKind", "(", ")", ".", "isInterface", "(", ")", "|", "|", "isImmutable", "(", ")", "|", "|", "sourceLanguage", "=", "=", "SourceLanguage", ".", "KOTLIN", ")", "{", "ElementFilter", ".", "methodsIn", "(", "element", "(", ")", ".", "getEnclosedElements", "(", ")", ")", ".", "stream", "(", ")", ".", "filter", "(", "this", ":", ":", "isMethodProcessable", ")", ".", "forEach", "(", "this", ":", ":", "computeAttribute", ")", ";", "}", "else", "{", "ElementFilter", ".", "fieldsIn", "(", "element", "(", ")", ".", "getEnclosedElements", "(", ")", ")", ".", "stream", "(", ")", ".", "filter", "(", "element", "-", ">", "!", "element", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "PRIVATE", ")", "&", "&", "!", "element", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "STATIC", ")", "&", "&", "(", "!", "element", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "FINAL", ")", "|", "|", "isImmutable", "(", ")", ")", ")", ".", "forEach", "(", "this", ":", ":", "computeAttribute", ")", ";", "}", "ElementFilter", ".", "methodsIn", "(", "element", "(", ")", ".", "getEnclosedElements", "(", ")", ")", ".", "stream", "(", ")", ".", "forEach", "(", "element", "-", ">", "ListenerAnnotations", ".", "all", "(", ")", ".", "forEach", "(", "annotation", "-", ">", "{", "if", "(", "element", ".", "getAnnotation", "(", "annotation", ")", "!", "=", "null", ")", "{", "ListenerMethod", "listener", "=", "listeners", ".", "computeIfAbsent", "(", "element", ",", "key", "-", ">", "new", "ListenerMethod", "(", "element", ")", ")", ";", "listener", ".", "annotations", "(", ")", ".", "put", "(", "annotation", ",", "element", ".", "getAnnotation", "(", "annotation", ")", ")", ";", "}", "}", ")", ")", ";", "Set", "<", "ProcessableElement", "<", "?", ">", ">", "elements", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "attributes", "(", ")", ".", "values", "(", ")", ".", "forEach", "(", "attribute", "-", ">", "elements", ".", "add", "(", "(", "ProcessableElement", "<", "?", ">", ")", "attribute", ")", ")", ";", "elements", ".", "addAll", "(", "listeners", ".", "values", "(", ")", ")", ";", "Set", "<", "ElementValidator", ">", "validations", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "elements", ".", "forEach", "(", "element", "-", ">", "validations", ".", "addAll", "(", "element", ".", "process", "(", "processingEnvironment", ")", ")", ")", ";", "ElementValidator", "validator", "=", "new", "ElementValidator", "(", "element", "(", ")", ",", "processingEnvironment", ")", ";", "Entity", "entity", "=", "annotationOf", "(", "Entity", ".", "class", ")", ".", "orElse", "(", "null", ")", ";", "if", "(", "entity", "!", "=", "null", "&", "&", "!", "Names", ".", "isEmpty", "(", "entity", ".", "name", "(", ")", ")", "&", "&", "!", "SourceVersion", ".", "isIdentifier", "(", "entity", ".", "name", "(", ")", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", "+", "entity", ".", "name", "(", ")", ",", "Entity", ".", "class", ")", ";", "}", "if", "(", "element", "(", ")", ".", "getNestingKind", "(", ")", "=", "=", "NestingKind", ".", "ANONYMOUS", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "element", "(", ")", ".", "getKind", "(", ")", "=", "=", "ElementKind", ".", "ENUM", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "attributes", ".", "values", "(", ")", ".", "isEmpty", "(", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "!", "isReadOnly", "(", ")", "&", "&", "!", "isEmbedded", "(", ")", "&", "&", "attributes", ".", "values", "(", ")", ".", "size", "(", ")", "=", "=", "1", "&", "&", "attributes", ".", "values", "(", ")", ".", "iterator", "(", ")", ".", "next", "(", ")", ".", "isGenerated", "(", ")", ")", "{", "validator", ".", "warning", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "checkReserved", "(", "tableName", "(", ")", ",", "validator", ")", ";", "validations", ".", "add", "(", "validator", ")", ";", "return", "validations", ";", "}", "</s>"]
["<s>", "private", "boolean", "isMethodProcessable", "(", "ExecutableElement", "element", ")", "{", "if", "(", "sourceLanguage", "=", "=", "SourceLanguage", ".", "JAVA", "&", "&", "element", "(", ")", ".", "getKind", "(", ")", ".", "isClass", "(", ")", "&", "&", "isImmutable", "(", ")", "&", "&", "!", "element", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "ABSTRACT", ")", ")", "{", "return", "false", ";", "}", "String", "name", "=", "element", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "if", "(", "sourceLanguage", "=", "=", "SourceLanguage", ".", "KOTLIN", "&", "&", "isUnimplementable", "(", ")", "&", "&", "name", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "name", ".", "length", "(", ")", ">", "\"", "<STR_LIT>", "\"", ".", "length", "(", ")", ")", "{", "return", "false", ";", "}", "TypeMirror", "type", "=", "element", ".", "getReturnType", "(", ")", ";", "return", "type", ".", "getKind", "(", ")", "!", "=", "TypeKind", ".", "VOID", "&", "&", "element", ".", "getParameters", "(", ")", ".", "isEmpty", "(", ")", "&", "&", "(", "isImmutable", "(", ")", "|", "|", "!", "element", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "FINAL", ")", ")", "&", "&", "(", "!", "isImmutable", "(", ")", "|", "|", "!", "type", ".", "equals", "(", "element", "(", ")", ".", "asType", "(", ")", ")", ")", "&", "&", "!", "type", ".", "equals", "(", "builderType", "(", ")", ".", "map", "(", "Element", ":", ":", "asType", ")", ".", "orElse", "(", "null", ")", ")", "&", "&", "!", "element", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "STATIC", ")", "&", "&", "!", "name", ".", "equals", "(", "\"", "<STR_LIT:String>", "\"", ")", "&", "&", "!", "name", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "void", "addAnnotationElement", "(", "TypeElement", "annotationElement", ",", "Element", "annotatedElement", ")", "{", "String", "qualifiedName", "=", "annotationElement", ".", "getQualifiedName", "(", ")", ".", "toString", "(", ")", ";", "Class", "<", "?", "extends", "Annotation", ">", "type", ";", "try", "{", "type", "=", "Class", ".", "forName", "(", "qualifiedName", ")", ".", "asSubclass", "(", "Annotation", ".", "class", ")", ";", "}", "catch", "(", "ClassNotFoundException", "e", ")", "{", "return", ";", "}", "switch", "(", "annotatedElement", ".", "getKind", "(", ")", ")", "{", "case", "CLASS", ":", "case", "INTERFACE", ":", "annotations", "(", ")", ".", "put", "(", "type", ",", "annotatedElement", ".", "getAnnotation", "(", "type", ")", ")", ";", "break", ";", "case", "FIELD", ":", "if", "(", "annotatedElement", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "STATIC", ")", "|", "|", "annotatedElement", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "FINAL", ")", ")", "{", "processingEnvironment", ".", "getMessager", "(", ")", ".", "printMessage", "(", "Diagnostic", ".", "Kind", ".", "ERROR", ",", "annotationElement", ".", "getSimpleName", "(", ")", "+", "\"", "<STR_LIT>", "\"", ",", "annotatedElement", ")", ";", "}", "else", "{", "VariableElement", "element", "=", "(", "VariableElement", ")", "annotatedElement", ";", "Optional", "<", "AttributeMember", ">", "attribute", "=", "computeAttribute", "(", "element", ")", ";", "Annotation", "annotation", "=", "annotatedElement", ".", "getAnnotation", "(", "type", ")", ";", "attribute", ".", "ifPresent", "(", "a", "-", ">", "a", ".", "annotations", "(", ")", ".", "put", "(", "type", ",", "annotation", ")", ")", ";", "}", "break", ";", "case", "METHOD", ":", "ExecutableElement", "element", "=", "(", "ExecutableElement", ")", "annotatedElement", ";", "Annotation", "annotation", "=", "annotatedElement", ".", "getAnnotation", "(", "type", ")", ";", "if", "(", "ListenerAnnotations", ".", "all", "(", ")", ".", "anyMatch", "(", "a", "-", ">", "a", ".", "equals", "(", "type", ")", ")", ")", "{", "ListenerMethod", "listener", "=", "listeners", ".", "computeIfAbsent", "(", "element", ",", "key", "-", ">", "new", "ListenerMethod", "(", "element", ")", ")", ";", "listener", ".", "annotations", "(", ")", ".", "put", "(", "type", ",", "annotation", ")", ";", "}", "else", "if", "(", "isMethodProcessable", "(", "element", ")", ")", "{", "Optional", "<", "AttributeMember", ">", "attribute", "=", "computeAttribute", "(", "element", ")", ";", "attribute", ".", "ifPresent", "(", "a", "-", ">", "a", ".", "annotations", "(", ")", ".", "put", "(", "type", ",", "annotation", ")", ")", ";", "}", "break", ";", "}", "}", "</s>"]
["<s>", "private", "Optional", "<", "AttributeMember", ">", "computeAttribute", "(", "Element", "element", ")", "{", "return", "Optional", ".", "of", "(", "(", "AttributeMember", ")", "attributes", ".", "computeIfAbsent", "(", "element", ",", "key", "-", ">", "new", "AttributeMember", "(", "element", ",", "this", ")", ")", ")", ";", "}", "</s>"]
["<s>", "void", "merge", "(", "EntityType", "from", ")", "{", "for", "(", "Map", ".", "Entry", "<", "Element", ",", "?", "extends", "AttributeDescriptor", ">", "entry", ":", "from", ".", "attributes", "(", ")", ".", "entrySet", "(", ")", ")", "{", "AttributeDescriptor", "newAttribute", "=", "entry", ".", "getValue", "(", ")", ";", "if", "(", "!", "attributes", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "anyMatch", "(", "attribute", "-", ">", "attribute", ".", "name", "(", ")", ".", "equals", "(", "newAttribute", ".", "name", "(", ")", ")", ")", ")", "{", "attributes", ".", "put", "(", "entry", ".", "getKey", "(", ")", ",", "newAttribute", ")", ";", "}", "}", "from", ".", "listeners", "(", ")", ".", "entrySet", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "entry", "-", ">", "entry", ".", "getValue", "(", ")", "instanceof", "ListenerMethod", ")", ".", "forEach", "(", "entry", "-", ">", "{", "ListenerMethod", "method", "=", "(", "ListenerMethod", ")", "entry", ".", "getValue", "(", ")", ";", "if", "(", "!", "listeners", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "anyMatch", "(", "listener", "-", ">", "listener", ".", "element", "(", ")", ".", "getSimpleName", "(", ")", ".", "equals", "(", "method", ".", "element", "(", ")", ".", "getSimpleName", "(", ")", ")", ")", ")", "{", "listeners", ".", "put", "(", "entry", ".", "getKey", "(", ")", ",", "method", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "boolean", "generatesAdditionalTypes", "(", ")", "{", "return", "attributes", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "anyMatch", "(", "member", "-", ">", "member", ".", "associativeEntity", "(", ")", ".", "isPresent", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "checkReserved", "(", "String", "name", ",", "ElementValidator", "validator", ")", "{", "if", "(", "Stream", ".", "of", "(", "ReservedKeyword", ".", "values", "(", ")", ")", ".", "anyMatch", "(", "keyword", "-", ">", "keyword", ".", "toString", "(", ")", ".", "equalsIgnoreCase", "(", "name", ")", ")", ")", "{", "validator", ".", "warning", "(", "\"", "<STR_LIT>", "\"", "+", "name", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "private", "String", "createModelName", "(", ")", "{", "if", "(", "Mirrors", ".", "findAnnotationMirror", "(", "element", "(", ")", ",", "Entity", ".", "class", ")", ".", "isPresent", "(", ")", ")", "{", "return", "Mirrors", ".", "findAnnotationMirror", "(", "element", "(", ")", ",", "Entity", ".", "class", ")", ".", "flatMap", "(", "mirror", "-", ">", "Mirrors", ".", "findAnnotationValue", "(", "mirror", ",", "\"", "<STR_LIT>", "\"", ")", ")", ".", "map", "(", "value", "-", ">", "value", ".", "getValue", "(", ")", ".", "toString", "(", ")", ")", ".", "filter", "(", "name", "-", ">", "!", "Names", ".", "isEmpty", "(", "name", ")", ")", ".", "orElse", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "else", "if", "(", "Mirrors", ".", "findAnnotationMirror", "(", "element", "(", ")", ",", "javax", ".", "persistence", ".", "Entity", ".", "class", ")", ".", "isPresent", "(", ")", ")", "{", "Elements", "elements", "=", "processingEnvironment", ".", "getElementUtils", "(", ")", ";", "Name", "packageName", "=", "elements", ".", "getPackageOf", "(", "element", "(", ")", ")", ".", "getQualifiedName", "(", ")", ";", "String", "[", "]", "parts", "=", "packageName", ".", "toString", "(", ")", ".", "split", "(", "\"", "<STR_LIT:\\\\>", "<STR_LIT:.>", "\"", ")", ";", "return", "parts", "[", "parts", ".", "length", "-", "1", "]", ";", "}", "return", "\"", "\"", ";", "}", "</s>"]
["<s>", "private", "QualifiedName", "createQualifiedName", "(", ")", "{", "String", "entityName", "=", "Stream", ".", "of", "(", "Mirrors", ".", "findAnnotationMirror", "(", "element", "(", ")", ",", "Entity", ".", "class", ")", ",", "Mirrors", ".", "findAnnotationMirror", "(", "element", "(", ")", ",", "javax", ".", "persistence", ".", "Entity", ".", "class", ")", ")", ".", "filter", "(", "Optional", ":", ":", "isPresent", ")", ".", "map", "(", "Optional", ":", ":", "get", ")", ".", "map", "(", "mirror", "-", ">", "Mirrors", ".", "findAnnotationValue", "(", "mirror", ",", "\"", "<STR_LIT>", "\"", ")", ")", ".", "filter", "(", "Optional", ":", ":", "isPresent", ")", ".", "map", "(", "Optional", ":", ":", "get", ")", ".", "map", "(", "value", "-", ">", "value", ".", "getValue", "(", ")", ".", "toString", "(", ")", ")", ".", "filter", "(", "name", "-", ">", "!", "Names", ".", "isEmpty", "(", "name", ")", ")", ".", "findAny", "(", ")", ".", "orElse", "(", "\"", "\"", ")", ";", "Elements", "elements", "=", "processingEnvironment", ".", "getElementUtils", "(", ")", ";", "String", "packageName", "=", "elements", ".", "getPackageOf", "(", "element", "(", ")", ")", ".", "getQualifiedName", "(", ")", ".", "toString", "(", ")", ";", "if", "(", "!", "Names", ".", "isEmpty", "(", "entityName", ")", ")", "{", "return", "new", "QualifiedName", "(", "packageName", ",", "entityName", ")", ";", "}", "String", "typeName", "=", "element", "(", ")", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "if", "(", "element", "(", ")", ".", "getKind", "(", ")", ".", "isInterface", "(", ")", ")", "{", "if", "(", "typeName", ".", "startsWith", "(", "\"", "<STR_LIT:I>", "\"", ")", "&", "&", "Character", ".", "isUpperCase", "(", "typeName", ".", "charAt", "(", "1", ")", ")", ")", "{", "entityName", "=", "typeName", ".", "substring", "(", "1", ")", ";", "}", "else", "{", "entityName", "=", "typeName", "+", "\"", "<STR_LIT>", "\"", ";", "}", "}", "else", "{", "entityName", "=", "Names", ".", "removeClassPrefixes", "(", "typeName", ")", ";", "if", "(", "entityName", ".", "equals", "(", "typeName", ")", ")", "{", "entityName", "=", "typeName", "+", "(", "isImmutable", "(", ")", "|", "|", "isUnimplementable", "(", ")", "?", "\"", "<STR_LIT>", "\"", ":", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "return", "new", "QualifiedName", "(", "packageName", ",", "entityName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Map", "<", "Element", ",", "?", "extends", "AttributeDescriptor", ">", "attributes", "(", ")", "{", "return", "attributes", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Map", "<", "Element", ",", "?", "extends", "ListenerDescriptor", ">", "listeners", "(", ")", "{", "return", "listeners", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "modelName", "(", ")", "{", "return", "modelName", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "QualifiedName", "typeName", "(", ")", "{", "return", "qualifiedName", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PropertyNameStyle", "propertyNameStyle", "(", ")", "{", "return", "annotationOf", "(", "Entity", ".", "class", ")", ".", "map", "(", "Entity", ":", ":", "propertyNameStyle", ")", ".", "orElse", "(", "PropertyNameStyle", ".", "BEAN", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "tableName", "(", ")", "{", "return", "annotationOf", "(", "Table", ".", "class", ")", ".", "map", "(", "Table", ":", ":", "name", ")", ".", "orElse", "(", "annotationOf", "(", "javax", ".", "persistence", ".", "Table", ".", "class", ")", ".", "map", "(", "javax", ".", "persistence", ".", "Table", ":", ":", "name", ")", ".", "orElse", "(", "element", "(", ")", ".", "getKind", "(", ")", ".", "isInterface", "(", ")", "|", "|", "isImmutable", "(", ")", "?", "element", "(", ")", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ":", "Names", ".", "removeClassPrefixes", "(", "element", "(", ")", ".", "getSimpleName", "(", ")", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "[", "]", "tableAttributes", "(", ")", "{", "return", "annotationOf", "(", "Table", ".", "class", ")", ".", "map", "(", "Table", ":", ":", "createAttributes", ")", ".", "orElse", "(", "new", "String", "[", "]", "{", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isCacheable", "(", ")", "{", "return", "annotationOf", "(", "Entity", ".", "class", ")", ".", "map", "(", "Entity", ":", ":", "cacheable", ")", ".", "orElse", "(", "annotationOf", "(", "Cacheable", ".", "class", ")", ".", "map", "(", "Cacheable", ":", ":", "value", ")", ".", "orElse", "(", "true", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isReadOnly", "(", ")", "{", "return", "annotationOf", "(", "ReadOnly", ".", "class", ")", ".", "isPresent", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isStateless", "(", ")", "{", "return", "isImmutable", "(", ")", "|", "|", "isUnimplementable", "(", ")", "|", "|", "annotationOf", "(", "Entity", ".", "class", ")", ".", "map", "(", "Entity", ":", ":", "stateless", ")", ".", "orElse", "(", "false", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isImmutable", "(", ")", "{", "return", "Stream", ".", "of", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ".", "filter", "(", "type", "-", ">", "Mirrors", ".", "findAnnotationMirror", "(", "element", "(", ")", ",", "type", ")", ".", "isPresent", "(", ")", ")", ".", "findAny", "(", ")", ".", "isPresent", "(", ")", "|", "|", "(", "sourceLanguage", "=", "=", "SourceLanguage", ".", "KOTLIN", "&", "&", "isUnimplementable", "(", ")", ")", "|", "|", "annotationOf", "(", "Entity", ".", "class", ")", ".", "map", "(", "Entity", ":", ":", "immutable", ")", ".", "orElse", "(", "false", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isUnimplementable", "(", ")", "{", "boolean", "extendable", "=", "annotationOf", "(", "Entity", ".", "class", ")", ".", "map", "(", "Entity", ":", ":", "extendable", ")", ".", "orElse", "(", "true", ")", ";", "return", "!", "extendable", "|", "|", "(", "element", "(", ")", ".", "getKind", "(", ")", ".", "isClass", "(", ")", "&", "&", "element", "(", ")", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "FINAL", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isEmbedded", "(", ")", "{", "return", "annotationOf", "(", "Embedded", ".", "class", ")", ".", "isPresent", "(", ")", "|", "|", "annotationOf", "(", "Embeddable", ".", "class", ")", ".", "isPresent", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Optional", "<", "TypeElement", ">", "builderType", "(", ")", "{", "Optional", "<", "Entity", ">", "entityAnnotation", "=", "annotationOf", "(", "Entity", ".", "class", ")", ";", "if", "(", "entityAnnotation", ".", "isPresent", "(", ")", ")", "{", "Entity", "entity", "=", "entityAnnotation", ".", "get", "(", ")", ";", "try", "{", "entity", ".", "builder", "(", ")", ";", "}", "catch", "(", "MirroredTypeException", "typeException", ")", "{", "TypeMirror", "mirror", "=", "typeException", ".", "getTypeMirror", "(", ")", ";", "Elements", "elements", "=", "processingEnvironment", ".", "getElementUtils", "(", ")", ";", "TypeElement", "element", "=", "elements", ".", "getTypeElement", "(", "mirror", ".", "toString", "(", ")", ")", ";", "if", "(", "element", "!", "=", "null", ")", "{", "return", "Optional", ".", "of", "(", "element", ")", ";", "}", "}", "}", "return", "ElementFilter", ".", "typesIn", "(", "element", "(", ")", ".", "getEnclosedElements", "(", ")", ")", ".", "stream", "(", ")", ".", "filter", "(", "element", "-", ">", "element", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "findFirst", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Optional", "<", "ExecutableElement", ">", "builderFactoryMethod", "(", ")", "{", "return", "ElementFilter", ".", "methodsIn", "(", "element", "(", ")", ".", "getEnclosedElements", "(", ")", ")", ".", "stream", "(", ")", ".", "filter", "(", "element", "-", ">", "element", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "STATIC", ")", ")", ".", "filter", "(", "element", "-", ">", "element", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "findFirst", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Optional", "<", "ExecutableElement", ">", "factoryMethod", "(", ")", "{", "Optional", "<", "ExecutableElement", ">", "staticFactory", "=", "ElementFilter", ".", "methodsIn", "(", "element", "(", ")", ".", "getEnclosedElements", "(", ")", ")", ".", "stream", "(", ")", ".", "filter", "(", "element", "-", ">", "element", ".", "getModifiers", "(", ")", ".", "contains", "(", "Modifier", ".", "STATIC", ")", ")", ".", "filter", "(", "element", "-", ">", "element", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ".", "equalsIgnoreCase", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "filter", "(", "element", "-", ">", "element", ".", "getParameters", "(", ")", ".", "size", "(", ")", ">", "0", ")", ".", "filter", "(", "element", "-", ">", "element", ".", "getReturnType", "(", ")", ".", "equals", "(", "element", "(", ")", ".", "asType", "(", ")", ")", ")", ".", "findAny", "(", ")", ";", "Optional", "<", "ExecutableElement", ">", "constructor", "=", "ElementFilter", ".", "constructorsIn", "(", "element", "(", ")", ".", "getEnclosedElements", "(", ")", ")", ".", "stream", "(", ")", ".", "filter", "(", "element", "-", ">", "element", ".", "getParameters", "(", ")", ".", "size", "(", ")", ">", "0", ")", ".", "findAny", "(", ")", ";", "return", "staticFactory", ".", "isPresent", "(", ")", "?", "staticFactory", ":", "constructor", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "String", ">", "factoryArguments", "(", ")", "{", "List", "<", "String", ">", "names", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "ExecutableElement", "method", "=", "factoryMethod", "(", ")", ".", "orElseThrow", "(", "IllegalStateException", ":", ":", "new", ")", ";", "Map", "<", "Element", ",", "AttributeDescriptor", ">", "map", "=", "new", "LinkedHashMap", "<", ">", "(", "attributes", ")", ";", "for", "(", "VariableElement", "parameter", ":", "method", ".", "getParameters", "(", ")", ")", "{", "Element", "matched", "=", "null", ";", "for", "(", "Map", ".", "Entry", "<", "Element", ",", "AttributeDescriptor", ">", "entry", ":", "map", ".", "entrySet", "(", ")", ")", "{", "AttributeDescriptor", "attribute", "=", "entry", ".", "getValue", "(", ")", ";", "String", "fieldName", "=", "attribute", ".", "fieldName", "(", ")", ";", "if", "(", "fieldName", ".", "equalsIgnoreCase", "(", "parameter", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ")", ")", "{", "names", ".", "add", "(", "fieldName", ")", ";", "matched", "=", "entry", ".", "getKey", "(", ")", ";", "}", "}", "if", "(", "matched", "!", "=", "null", ")", "{", "map", ".", "remove", "(", "matched", ")", ";", "}", "}", "if", "(", "names", ".", "isEmpty", "(", ")", ")", "{", "for", "(", "Map", ".", "Entry", "<", "Element", ",", "AttributeDescriptor", ">", "entry", ":", "map", ".", "entrySet", "(", ")", ")", "{", "names", ".", "add", "(", "0", ",", "entry", ".", "getValue", "(", ")", ".", "fieldName", "(", ")", ")", ";", "}", "}", "return", "names", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "classFactoryName", "(", ")", "{", "return", "Mirrors", ".", "findAnnotationMirror", "(", "element", "(", ")", ",", "Factory", ".", "class", ")", ".", "flatMap", "(", "Mirrors", ":", ":", "findAnnotationValue", ")", ".", "map", "(", "value", "-", ">", "value", ".", "getValue", "(", ")", ".", "toString", "(", ")", ")", ".", "orElse", "(", "null", ")", ";", "}", "</s>"]
["<s>", "AssociativeReference", "(", "String", "name", ",", "TypeElement", "referenceType", ",", "String", "referencedColumn", ",", "ReferentialAction", "deleteAction", ",", "ReferentialAction", "updateAction", ")", "{", "this", ".", "name", "=", "name", ";", "this", ".", "referencedColumn", "=", "referencedColumn", ";", "this", ".", "referenceType", "=", "referenceType", ";", "this", ".", "deleteAction", "=", "deleteAction", ";", "this", ".", "updateAction", "=", "updateAction", ";", "}", "</s>"]
["<s>", "String", "name", "(", ")", "{", "return", "name", ";", "}", "</s>"]
["<s>", "ReferentialAction", "deleteAction", "(", ")", "{", "return", "deleteAction", ";", "}", "</s>"]
["<s>", "ReferentialAction", "updateAction", "(", ")", "{", "return", "updateAction", ";", "}", "</s>"]
["<s>", "TypeElement", "referencedType", "(", ")", "{", "return", "referenceType", ";", "}", "</s>"]
["<s>", "String", "referencedColumn", "(", ")", "{", "return", "referencedColumn", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "AssociativeReference", ")", "{", "AssociativeReference", "other", "=", "(", "AssociativeReference", ")", "obj", ";", "return", "Objects", ".", "equals", "(", "name", ",", "other", ".", "name", ")", "&", "&", "Objects", ".", "equals", "(", "deleteAction", ",", "other", ".", "deleteAction", ")", "&", "&", "Objects", ".", "equals", "(", "updateAction", ",", "other", ".", "updateAction", ")", "&", "&", "Objects", ".", "equals", "(", "referenceType", ",", "other", ".", "referenceType", ")", "&", "&", "Objects", ".", "equals", "(", "referencedColumn", ",", "other", ".", "referencedColumn", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "name", ",", "deleteAction", ",", "updateAction", ",", "referenceType", ",", "referencedColumn", ")", ";", "}", "</s>"]
["<s>", "private", "ListenerAnnotations", "(", ")", "{", "}", "</s>"]
["<s>", "static", "Stream", "<", "Class", "<", "?", "extends", "Annotation", ">", ">", "all", "(", ")", "{", "return", "Stream", ".", "concat", "(", "annotationClasses", "(", ")", ",", "jpaAnnotationClasses", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "static", "Stream", "<", "Class", "<", "?", "extends", "Annotation", ">", ">", "jpaAnnotationClasses", "(", ")", "{", "return", "Stream", ".", "of", "(", "javax", ".", "persistence", ".", "PostLoad", ".", "class", ",", "javax", ".", "persistence", ".", "PostPersist", ".", "class", ",", "javax", ".", "persistence", ".", "PostRemove", ".", "class", ",", "javax", ".", "persistence", ".", "PostUpdate", ".", "class", ",", "javax", ".", "persistence", ".", "PrePersist", ".", "class", ",", "javax", ".", "persistence", ".", "PreRemove", ".", "class", ",", "javax", ".", "persistence", ".", "PreUpdate", ".", "class", ")", ";", "}", "</s>"]
["<s>", "private", "static", "Stream", "<", "Class", "<", "?", "extends", "Annotation", ">", ">", "annotationClasses", "(", ")", "{", "return", "Stream", ".", "of", "(", "PostLoad", ".", "class", ",", "PostInsert", ".", "class", ",", "PostDelete", ".", "class", ",", "PostUpdate", ".", "class", ",", "PreInsert", ".", "class", ",", "PreDelete", ".", "class", ",", "PreUpdate", ".", "class", ")", ";", "}", "</s>"]
["<s>", "JoinTableAssociation", "(", "JoinTable", "table", ")", "{", "this", ".", "table", "=", "table", ";", "this", ".", "columns", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "JoinColumn", "column", ":", "table", ".", "joinColumns", "(", ")", ")", "{", "String", "columnName", "=", "column", ".", "name", "(", ")", ";", "ForeignKey", "foreignKey", "=", "column", ".", "foreignKey", "(", ")", ";", "ReferentialAction", "action", "=", "mapConstraint", "(", "foreignKey", ".", "value", "(", ")", ")", ";", "columns", ".", "add", "(", "new", "AssociativeReference", "(", "columnName", ",", "null", ",", "null", ",", "action", ",", "action", ")", ")", ";", "}", "for", "(", "JoinColumn", "column", ":", "table", ".", "inverseJoinColumns", "(", ")", ")", "{", "String", "columnName", "=", "column", ".", "name", "(", ")", ";", "ForeignKey", "foreignKey", "=", "column", ".", "foreignKey", "(", ")", ";", "ReferentialAction", "action", "=", "mapConstraint", "(", "foreignKey", ".", "value", "(", ")", ")", ";", "columns", ".", "add", "(", "new", "AssociativeReference", "(", "columnName", ",", "null", ",", "null", ",", "action", ",", "action", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "ReferentialAction", "mapConstraint", "(", "ConstraintMode", "constraint", ")", "{", "switch", "(", "constraint", ")", "{", "case", "NO_CONSTRAINT", ":", "return", "ReferentialAction", ".", "NO_ACTION", ";", "default", ":", "case", "CONSTRAINT", ":", "case", "PROVIDER_DEFAULT", ":", "return", "ReferentialAction", ".", "CASCADE", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "name", "(", ")", "{", "return", "table", ".", "name", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "AssociativeReference", ">", "columns", "(", ")", "{", "return", "columns", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Optional", "<", "TypeMirror", ">", "type", "(", ")", "{", "return", "Optional", ".", "empty", "(", ")", ";", "}", "</s>"]
["<s>", "static", "SourceLanguage", "of", "(", "TypeElement", "element", ")", "{", "if", "(", "map", ".", "containsKey", "(", "element", ")", ")", "{", "return", "map", ".", "get", "(", "element", ")", ";", "}", "return", "SourceLanguage", ".", "JAVA", ";", "}", "</s>"]
["<s>", "static", "void", "map", "(", "ProcessingEnvironment", "environment", ")", "{", "map", ".", "clear", "(", ")", ";", "try", "{", "readKaptTypes", "(", "environment", ",", "map", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "environment", ".", "getMessager", "(", ")", ".", "printMessage", "(", "Diagnostic", ".", "Kind", ".", "WARNING", ",", "e", ".", "toString", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "void", "readKaptTypes", "(", "ProcessingEnvironment", "environment", ",", "Map", "<", "TypeElement", ",", "SourceLanguage", ">", "map", ")", "throws", "IOException", "{", "String", "path", "=", "environment", ".", "getOptions", "(", ")", ".", "get", "(", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "path", "=", "=", "null", ")", "{", "return", ";", "}", "File", "file", "=", "new", "File", "(", "path", ")", ";", "if", "(", "!", "file", ".", "exists", "(", ")", ")", "{", "return", ";", "}", "try", "(", "FileInputStream", "input", "=", "new", "FileInputStream", "(", "file", ")", ";", "BufferedReader", "buffered", "=", "new", "BufferedReader", "(", "new", "InputStreamReader", "(", "input", ")", ")", ")", "{", "String", "line", ";", "String", "annotationType", "=", "null", ";", "String", "packageName", "=", "null", ";", "String", "classType", ";", "while", "(", "(", "line", "=", "buffered", ".", "readLine", "(", ")", ")", "!", "=", "null", ")", "{", "classType", "=", "null", ";", "String", "[", "]", "parts", "=", "line", ".", "split", "(", "\"", "\"", ")", ";", "switch", "(", "parts", "[", "0", "]", ")", "{", "case", "\"", "<STR_LIT>", "\"", ":", "packageName", "=", "parts", "[", "1", "]", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "annotationType", "=", "parts", "[", "1", "]", ";", "break", ";", "case", "\"", "<STR_LIT>", "\"", ":", "classType", "=", "parts", "[", "<NUM_LIT:2>", "]", ";", "break", ";", "default", ":", "break", ";", "}", "if", "(", "classType", "!", "=", "null", "&", "&", "annotationType", "!", "=", "null", ")", "{", "parts", "=", "classType", ".", "split", "(", "\"", "<STR_LIT:/>", "\"", ")", ";", "String", "name", "=", "parts", "[", "parts", ".", "length", "-", "1", "]", ";", "String", "qname", "=", "packageName", "+", "\"", "<STR_LIT:.>", "\"", "+", "name", ";", "TypeElement", "element", "=", "environment", ".", "getElementUtils", "(", ")", ".", "getTypeElement", "(", "qname", ")", ";", "if", "(", "element", "!", "=", "null", ")", "{", "map", ".", "put", "(", "element", ",", "SourceLanguage", ".", "KOTLIN", ")", ";", "}", "}", "}", "}", "}", "</s>"]
["<s>", "private", "Names", "(", ")", "{", "}", "</s>"]
["<s>", "public", "static", "boolean", "isEmpty", "(", "CharSequence", "name", ")", "{", "return", "name", "=", "=", "null", "|", "|", "name", ".", "toString", "(", ")", ".", "isEmpty", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "lowerCaseFirst", "(", "CharSequence", "name", ")", "{", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", "name", ")", ";", "sb", ".", "setCharAt", "(", "0", ",", "Character", ".", "toLowerCase", "(", "sb", ".", "charAt", "(", "0", ")", ")", ")", ";", "return", "sb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "upperCaseFirst", "(", "CharSequence", "name", ")", "{", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", "name", ")", ";", "sb", ".", "setCharAt", "(", "0", ",", "Character", ".", "toUpperCase", "(", "sb", ".", "charAt", "(", "0", ")", ")", ")", ";", "return", "sb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "upperCaseUnderscore", "(", "CharSequence", "name", ")", "{", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", "name", ")", ";", "boolean", "wasLower", "=", "false", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "sb", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "char", "c", "=", "sb", ".", "charAt", "(", "i", ")", ";", "if", "(", "Character", ".", "isUpperCase", "(", "c", ")", "&", "&", "wasLower", ")", "{", "sb", ".", "insert", "(", "i", ",", "\"", "<STR_LIT:_>", "\"", ")", ";", "wasLower", "=", "false", ";", "}", "else", "{", "wasLower", "=", "Character", ".", "isLowerCase", "(", "c", ")", ";", "}", "}", "return", "sb", ".", "toString", "(", ")", ".", "toUpperCase", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "isAllUpper", "(", "CharSequence", "name", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "name", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "char", "c", "=", "name", ".", "charAt", "(", "i", ")", ";", "if", "(", "!", "Character", ".", "isUpperCase", "(", "c", ")", ")", "{", "return", "false", ";", "}", "}", "return", "true", ";", "}", "</s>"]
["<s>", "public", "static", "String", "removeMemberPrefixes", "(", "CharSequence", "name", ")", "{", "String", "string", "=", "name", ".", "toString", "(", ")", ";", "if", "(", "string", ".", "startsWith", "(", "\"", "<STR_LIT:_>", "\"", ")", ")", "{", "return", "string", ".", "substring", "(", "1", ")", ";", "}", "if", "(", "string", ".", "length", "(", ")", ">", "1", "&", "&", "string", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "Character", ".", "isUpperCase", "(", "string", ".", "charAt", "(", "1", ")", ")", ")", "{", "return", "string", ".", "substring", "(", "1", ")", ";", "}", "return", "string", ";", "}", "</s>"]
["<s>", "public", "static", "String", "removeMethodPrefixes", "(", "CharSequence", "name", ")", "{", "String", "string", "=", "name", ".", "toString", "(", ")", ";", "if", "(", "string", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "|", "|", "string", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "return", "string", ".", "substring", "(", "<NUM_LIT:3>", ")", ";", "}", "if", "(", "string", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "string", ".", "length", "(", ")", ">", "<NUM_LIT:2>", "&", "&", "Character", ".", "isUpperCase", "(", "string", ".", "charAt", "(", "<NUM_LIT:2>", ")", ")", ")", "{", "return", "string", ".", "substring", "(", "<NUM_LIT:2>", ")", ";", "}", "return", "string", ";", "}", "</s>"]
["<s>", "public", "static", "String", "removeClassPrefixes", "(", "CharSequence", "name", ")", "{", "String", "typeName", "=", "name", ".", "toString", "(", ")", ";", "if", "(", "typeName", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "return", "typeName", ".", "replaceFirst", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", ")", ";", "}", "if", "(", "typeName", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "return", "typeName", ".", "replaceFirst", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", ")", ";", "}", "return", "typeName", ";", "}", "</s>"]
["<s>", "QualifiedName", "(", "String", "packageName", ",", "String", "className", ")", "{", "if", "(", "Names", ".", "isEmpty", "(", "className", ")", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "!", "SourceVersion", ".", "isIdentifier", "(", "className", ")", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "className", ")", ";", "}", "this", ".", "packageName", "=", "packageName", ";", "this", ".", "className", "=", "className", ";", "}", "</s>"]
["<s>", "QualifiedName", "(", "String", "qualifiedName", ")", "{", "String", "[", "]", "parts", "=", "qualifiedName", ".", "split", "(", "\"", "<STR_LIT:\\\\>", "<STR_LIT:.>", "\"", ")", ";", "String", "className", "=", "\"", "\"", ";", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", ")", ";", "if", "(", "parts", ".", "length", "!", "=", "0", ")", "{", "for", "(", "String", "part", ":", "parts", ")", "{", "if", "(", "Character", ".", "isLowerCase", "(", "part", ".", "charAt", "(", "0", ")", ")", ")", "{", "sb", ".", "append", "(", "part", ")", ";", "sb", ".", "append", "(", "\"", "<STR_LIT:.>", "\"", ")", ";", "}", "else", "{", "className", "=", "part", ";", "}", "}", "}", "else", "{", "className", "=", "qualifiedName", ";", "}", "if", "(", "sb", ".", "length", "(", ")", ">", "0", "&", "&", "sb", ".", "charAt", "(", "sb", ".", "length", "(", ")", "-", "1", ")", "=", "=", "<CHAR_LIT:.>", ")", "{", "sb", ".", "deleteCharAt", "(", "sb", ".", "length", "(", ")", "-", "1", ")", ";", "}", "if", "(", "Names", ".", "isEmpty", "(", "className", ")", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "!", "SourceVersion", ".", "isIdentifier", "(", "className", ")", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "className", ")", ";", "}", "this", ".", "packageName", "=", "sb", ".", "toString", "(", ")", ";", "this", ".", "className", "=", "className", ";", "}", "</s>"]
["<s>", "String", "packageName", "(", ")", "{", "return", "packageName", ";", "}", "</s>"]
["<s>", "String", "className", "(", ")", "{", "return", "className", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "contentEquals", "(", "CharSequence", "cs", ")", "{", "return", "toString", "(", ")", ".", "equals", "(", "cs", ".", "toString", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "length", "(", ")", "{", "return", "toString", "(", ")", ".", "length", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "char", "charAt", "(", "int", "index", ")", "{", "return", "toString", "(", ")", ".", "charAt", "(", "index", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CharSequence", "subSequence", "(", "int", "start", ",", "int", "end", ")", "{", "return", "toString", "(", ")", ".", "subSequence", "(", "start", ",", "end", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "Name", ")", "{", "Name", "other", "=", "(", "Name", ")", "obj", ";", "return", "other", ".", "contentEquals", "(", "toString", "(", ")", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "Names", ".", "isEmpty", "(", "packageName", ")", "?", "className", ":", "packageName", "+", "\"", "<STR_LIT:.>", "\"", "+", "className", ";", "}", "</s>"]
["<s>", "JunctionTableAssociation", "(", "Elements", "elements", ",", "AttributeMember", "member", ",", "JunctionTable", "table", ")", "{", "this", ".", "table", "=", "table", ";", "this", ".", "columns", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "Optional", "<", "?", "extends", "AnnotationValue", ">", "columnValues", "=", "Mirrors", ".", "findAnnotationMirror", "(", "member", ".", "element", "(", ")", ",", "JunctionTable", ".", "class", ")", ".", "flatMap", "(", "m", "-", ">", "Mirrors", ".", "findAnnotationValue", "(", "m", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "for", "(", "Column", "column", ":", "table", ".", "columns", "(", ")", ")", "{", "ReferentialAction", "deleteAction", "=", "ReferentialAction", ".", "CASCADE", ";", "ReferentialAction", "updateAction", "=", "ReferentialAction", ".", "CASCADE", ";", "TypeElement", "referenceType", "=", "null", ";", "String", "referencedColumn", "=", "null", ";", "if", "(", "column", ".", "foreignKey", "(", ")", ".", "length", ">", "0", ")", "{", "ForeignKey", "key", "=", "column", ".", "foreignKey", "(", ")", "[", "0", "]", ";", "deleteAction", "=", "key", ".", "delete", "(", ")", ";", "updateAction", "=", "key", ".", "update", "(", ")", ";", "if", "(", "columnValues", ".", "isPresent", "(", ")", ")", "{", "List", "mirrors", "=", "(", "List", ")", "columnValues", ".", "get", "(", ")", ".", "getValue", "(", ")", ";", "AnnotationMirror", "mirror", "=", "null", ";", "for", "(", "Object", "m", ":", "mirrors", ")", "{", "String", "name", "=", "Mirrors", ".", "findAnnotationValue", "(", "(", "AnnotationMirror", ")", "m", ",", "\"", "<STR_LIT>", "\"", ")", ".", "map", "(", "AnnotationValue", ":", ":", "getValue", ")", ".", "map", "(", "Object", ":", ":", "toString", ")", ".", "orElse", "(", "null", ")", ";", "if", "(", "column", ".", "name", "(", ")", ".", "equals", "(", "name", ")", ")", "{", "mirror", "=", "(", "AnnotationMirror", ")", "m", ";", "break", ";", "}", "}", "if", "(", "mirror", "!", "=", "null", ")", "{", "Optional", "<", "?", "extends", "AnnotationValue", ">", "keyValue", "=", "Mirrors", ".", "findAnnotationValue", "(", "mirror", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "keyValue", ".", "isPresent", "(", ")", ")", "{", "List", "children", "=", "(", "List", ")", "keyValue", ".", "get", "(", ")", ".", "getValue", "(", ")", ";", "AnnotationMirror", "keyMirror", "=", "(", "AnnotationMirror", ")", "children", ".", "get", "(", "0", ")", ";", "referenceType", "=", "Mirrors", ".", "findAnnotationValue", "(", "keyMirror", ",", "\"", "<STR_LIT>", "\"", ")", ".", "map", "(", "value", "-", ">", "elements", ".", "getTypeElement", "(", "value", ".", "getValue", "(", ")", ".", "toString", "(", ")", ")", ")", ".", "orElse", "(", "null", ")", ";", "referencedColumn", "=", "Mirrors", ".", "findAnnotationValue", "(", "keyMirror", ",", "\"", "<STR_LIT>", "\"", ")", ".", "map", "(", "value", "-", ">", "value", ".", "getValue", "(", ")", ".", "toString", "(", ")", ")", ".", "orElse", "(", "null", ")", ";", "}", "}", "}", "}", "columns", ".", "add", "(", "new", "AssociativeReference", "(", "column", ".", "name", "(", ")", ",", "referenceType", ",", "referencedColumn", ",", "deleteAction", ",", "updateAction", ")", ")", ";", "}", "TypeMirror", "mirror", "=", "null", ";", "try", "{", "table", ".", "type", "(", ")", ";", "}", "catch", "(", "MirroredTypeException", "e", ")", "{", "if", "(", "!", "e", ".", "getTypeMirror", "(", ")", ".", "toString", "(", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "mirror", "=", "e", ".", "getTypeMirror", "(", ")", ";", "}", "}", "this", ".", "typeMirror", "=", "mirror", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "name", "(", ")", "{", "return", "table", ".", "name", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "AssociativeReference", ">", "columns", "(", ")", "{", "return", "columns", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Optional", "<", "TypeMirror", ">", "type", "(", ")", "{", "return", "Optional", ".", "ofNullable", "(", "typeMirror", ")", ";", "}", "</s>"]
["<s>", "AndroidObservableExtension", "(", "EntityDescriptor", "entity", ",", "ProcessingEnvironment", "processingEnvironment", ")", "{", "this", ".", "entity", "=", "entity", ";", "this", ".", "processingEnvironment", "=", "processingEnvironment", ";", "this", ".", "observable", "=", "isObservable", "(", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isObservable", "(", ")", "{", "String", "[", "]", "types", "=", "new", "String", "[", "]", "{", "BINDING_PACKAGE", "+", "\"", "<STR_LIT>", "\"", ",", "BINDING_PACKAGE", "+", "\"", "<STR_LIT>", "\"", "}", ";", "TypeElement", "element", "=", "entity", ".", "element", "(", ")", ";", "return", "Arrays", ".", "stream", "(", "types", ")", ".", "anyMatch", "(", "name", "-", ">", "Mirrors", ".", "isInstance", "(", "processingEnvironment", ".", "getTypeUtils", "(", ")", ",", "element", ",", "name", ")", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "isBindable", "(", "AttributeDescriptor", "descriptor", ")", "{", "Element", "element", "=", "descriptor", ".", "element", "(", ")", ";", "return", "Mirrors", ".", "findAnnotationMirror", "(", "element", ",", "BINDING_PACKAGE", "+", "\"", "<STR_LIT>", "\"", ")", ".", "isPresent", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "generate", "(", "EntityDescriptor", "entity", ",", "TypeSpec", ".", "Builder", "builder", ")", "{", "if", "(", "isObservable", "(", ")", "&", "&", "entity", ".", "element", "(", ")", ".", "getKind", "(", ")", ".", "isInterface", "(", ")", ")", "{", "builder", ".", "superclass", "(", "ClassName", ".", "get", "(", "BINDING_PACKAGE", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addToGetter", "(", "AttributeDescriptor", "member", ",", "MethodSpec", ".", "Builder", "builder", ")", "{", "if", "(", "observable", "&", "&", "isBindable", "(", "member", ")", ")", "{", "builder", ".", "addAnnotation", "(", "ClassName", ".", "get", "(", "BINDING_PACKAGE", ",", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addToSetter", "(", "AttributeDescriptor", "member", ",", "MethodSpec", ".", "Builder", "builder", ")", "{", "if", "(", "!", "observable", "|", "|", "!", "isBindable", "(", "member", ")", ")", "{", "return", ";", "}", "Elements", "elements", "=", "processingEnvironment", ".", "getElementUtils", "(", ")", ";", "String", "bindingInfo", "=", "BINDING_PACKAGE", "+", "\"", "<STR_LIT>", "\"", ";", "TypeElement", "dataBindingType", "=", "elements", ".", "getTypeElement", "(", "bindingInfo", ")", ";", "ClassName", "BRclass", "=", "null", ";", "if", "(", "dataBindingType", "!", "=", "null", ")", "{", "Optional", "<", "String", ">", "modulePackage", "=", "Mirrors", ".", "findAnnotationMirror", "(", "dataBindingType", ",", "BINDING_PACKAGE", "+", "\"", "<STR_LIT>", "\"", ")", ".", "map", "(", "mirror", "-", ">", "Mirrors", ".", "findAnnotationValue", "(", "mirror", ",", "\"", "<STR_LIT>", "\"", ")", ")", ".", "filter", "(", "Optional", ":", ":", "isPresent", ")", ".", "map", "(", "Optional", ":", ":", "get", ")", ".", "map", "(", "AnnotationValue", ":", ":", "toString", ")", ";", "if", "(", "modulePackage", ".", "isPresent", "(", ")", ")", "{", "BRclass", "=", "ClassName", ".", "get", "(", "modulePackage", ".", "get", "(", ")", ".", "replaceAll", "(", "\"", "<STR_LIT:\\\">", "\"", ",", "\"", "\"", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "if", "(", "BRclass", "=", "=", "null", ")", "{", "PackageElement", "packageElement", "=", "elements", ".", "getPackageOf", "(", "entity", ".", "element", "(", ")", ")", ";", "String", "packageName", "=", "packageElement", ".", "getQualifiedName", "(", ")", ".", "toString", "(", ")", ";", "BRclass", "=", "ClassName", ".", "get", "(", "packageName", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "String", "propertyName", "=", "member", ".", "setterName", "(", ")", ".", "replaceFirst", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "\"", ")", ";", "propertyName", "=", "Names", ".", "lowerCaseFirst", "(", "propertyName", ")", ";", "builder", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "BRclass", ",", "propertyName", ")", ";", "}", "</s>"]
["<s>", "void", "addToGetter", "(", "AttributeDescriptor", "member", ",", "MethodSpec", ".", "Builder", "builder", ")", ";", "</s>"]
["<s>", "void", "addToSetter", "(", "AttributeDescriptor", "member", ",", "MethodSpec", ".", "Builder", "builder", ")", ";", "</s>"]
["<s>", "private", "CodeGeneration", "(", ")", "{", "}", "</s>"]
["<s>", "static", "void", "addGeneratedAnnotation", "(", "ProcessingEnvironment", "processingEnvironment", ",", "TypeSpec", ".", "Builder", "builder", ")", "{", "Elements", "elements", "=", "processingEnvironment", ".", "getElementUtils", "(", ")", ";", "if", "(", "elements", ".", "getTypeElement", "(", "Generated", ".", "class", ".", "getCanonicalName", "(", ")", ")", "!", "=", "null", ")", "{", "builder", ".", "addAnnotation", "(", "AnnotationSpec", ".", "builder", "(", "Generated", ".", "class", ")", ".", "addMember", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "EntityProcessor", ".", "class", ".", "getCanonicalName", "(", ")", ")", ".", "build", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "static", "TypeSpec", "createAnonymousSupplier", "(", "TypeName", "type", ",", "CodeBlock", "block", ")", "{", "return", "TypeSpec", ".", "anonymousClassBuilder", "(", "\"", "\"", ")", ".", "addSuperinterface", "(", "ParameterizedTypeName", ".", "get", "(", "ClassName", ".", "get", "(", "Supplier", ".", "class", ")", ",", "type", ")", ")", ".", "addMethod", "(", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "addCode", "(", "block", ")", ".", "returns", "(", "type", ")", ".", "build", "(", ")", ")", ".", "build", "(", ")", ";", "}", "</s>"]
["<s>", "static", "MethodSpec", ".", "Builder", "overridePublicMethod", "(", "String", "name", ")", "{", "return", "MethodSpec", ".", "methodBuilder", "(", "name", ")", ".", "addModifiers", "(", "Modifier", ".", "PUBLIC", ")", ".", "addAnnotation", "(", "Override", ".", "class", ")", ";", "}", "</s>"]
["<s>", "static", "void", "writeType", "(", "ProcessingEnvironment", "processingEnvironment", ",", "String", "packageName", ",", "TypeSpec", "typeSpec", ")", "throws", "IOException", "{", "JavaFile", "file", "=", "JavaFile", ".", "builder", "(", "packageName", ",", "typeSpec", ")", ".", "addFileComment", "(", "\"", "<STR_LIT>", "\"", "+", "EntityProcessor", ".", "class", ".", "getCanonicalName", "(", ")", ")", ".", "indent", "(", "\"", "\"", ")", ".", "build", "(", ")", ";", "file", ".", "writeTo", "(", "processingEnvironment", ".", "getFiler", "(", ")", ")", ";", "}", "</s>"]
["<s>", "TypeElement", "element", "(", ")", ";", "</s>"]
["<s>", "Map", "<", "Element", ",", "?", "extends", "AttributeDescriptor", ">", "attributes", "(", ")", ";", "</s>"]
["<s>", "Map", "<", "Element", ",", "?", "extends", "ListenerDescriptor", ">", "listeners", "(", ")", ";", "</s>"]
["<s>", "QualifiedName", "typeName", "(", ")", ";", "</s>"]
["<s>", "String", "modelName", "(", ")", ";", "</s>"]
["<s>", "String", "tableName", "(", ")", ";", "</s>"]
["<s>", "String", "classFactoryName", "(", ")", ";", "</s>"]
["<s>", "String", "[", "]", "tableAttributes", "(", ")", ";", "</s>"]
["<s>", "PropertyNameStyle", "propertyNameStyle", "(", ")", ";", "</s>"]
["<s>", "boolean", "isCacheable", "(", ")", ";", "</s>"]
["<s>", "boolean", "isEmbedded", "(", ")", ";", "</s>"]
["<s>", "boolean", "isImmutable", "(", ")", ";", "</s>"]
["<s>", "boolean", "isReadOnly", "(", ")", ";", "</s>"]
["<s>", "boolean", "isStateless", "(", ")", ";", "</s>"]
["<s>", "boolean", "isUnimplementable", "(", ")", ";", "</s>"]
["<s>", "Optional", "<", "TypeElement", ">", "builderType", "(", ")", ";", "</s>"]
["<s>", "Optional", "<", "ExecutableElement", ">", "builderFactoryMethod", "(", ")", ";", "</s>"]
["<s>", "Optional", "<", "ExecutableElement", ">", "factoryMethod", "(", ")", ";", "</s>"]
["<s>", "List", "<", "String", ">", "factoryArguments", "(", ")", ";", "</s>"]
["<s>", "AndroidParcelableExtension", "(", "Types", "types", ")", "{", "this", ".", "types", "=", "types", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "generate", "(", "EntityDescriptor", "entity", ",", "TypeSpec", ".", "Builder", "builder", ")", "{", "TypeElement", "typeElement", "=", "entity", ".", "element", "(", ")", ";", "if", "(", "entity", ".", "isImmutable", "(", ")", "|", "|", "!", "Mirrors", ".", "isInstance", "(", "types", ",", "typeElement", ",", "PACKAGE_ANDROID_OS", "+", "\"", "<STR_LIT>", "\"", ")", "|", "|", "Mirrors", ".", "overridesMethod", "(", "types", ",", "typeElement", ",", "\"", "<STR_LIT>", "\"", ")", ")", "{", "return", ";", "}", "ClassName", "className", "=", "ClassName", ".", "bestGuess", "(", "entity", ".", "typeName", "(", ")", ".", "toString", "(", ")", ")", ";", "TypeName", "creatorType", "=", "ParameterizedTypeName", ".", "get", "(", "ClassName", ".", "get", "(", "PACKAGE_ANDROID_OS", ",", "\"", "<STR_LIT>", "\"", ")", ",", "className", ")", ";", "ClassName", "parcelName", "=", "ClassName", ".", "get", "(", "PACKAGE_ANDROID_OS", ",", "\"", "<STR_LIT>", "\"", ")", ";", "ClassName", "parcelableName", "=", "ClassName", ".", "get", "(", "PACKAGE_ANDROID_OS", ",", "\"", "<STR_LIT>", "\"", ")", ";", "builder", ".", "addSuperinterface", "(", "parcelableName", ")", ";", "TypeSpec", ".", "Builder", "creatorBuilder", "=", "TypeSpec", ".", "anonymousClassBuilder", "(", "\"", "\"", ")", ".", "addSuperinterface", "(", "creatorType", ")", ".", "addMethod", "(", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "addParameter", "(", "ParameterSpec", ".", "builder", "(", "parcelName", ",", "\"", "<STR_LIT>", "\"", ")", ".", "build", "(", ")", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ")", ".", "returns", "(", "className", ")", ".", "build", "(", ")", ")", ".", "addMethod", "(", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "addParameter", "(", "TypeName", ".", "INT", ",", "\"", "<STR_LIT>", "\"", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "className", ")", ".", "returns", "(", "ArrayTypeName", ".", "of", "(", "className", ")", ")", ".", "build", "(", ")", ")", ";", "builder", ".", "addField", "(", "FieldSpec", ".", "builder", "(", "creatorType", ",", "\"", "<STR_LIT>", "\"", ",", "Modifier", ".", "PUBLIC", ",", "Modifier", ".", "STATIC", ",", "Modifier", ".", "FINAL", ")", ".", "initializer", "(", "\"", "<STR_LIT>", "\"", ",", "creatorBuilder", ".", "build", "(", ")", ")", ".", "build", "(", ")", ")", ";", "builder", ".", "addMethod", "(", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "returns", "(", "TypeName", ".", "INT", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ")", ".", "build", "(", ")", ")", ";", "builder", ".", "addMethod", "(", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "returns", "(", "TypeName", ".", "VOID", ")", ".", "addParameter", "(", "parcelName", ",", "\"", "<STR_LIT>", "\"", ")", ".", "addParameter", "(", "TypeName", ".", "INT", ",", "\"", "<STR_LIT>", "\"", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ")", ".", "build", "(", ")", ")", ";", "TypeName", "parcelerType", "=", "ParameterizedTypeName", ".", "get", "(", "ClassName", ".", "get", "(", "PACKAGE_PARCELER", ",", "\"", "<STR_LIT>", "\"", ")", ",", "className", ")", ";", "builder", ".", "addField", "(", "FieldSpec", ".", "builder", "(", "parcelerType", ",", "\"", "<STR_LIT>", "\"", ",", "Modifier", ".", "PRIVATE", ",", "Modifier", ".", "STATIC", ",", "Modifier", ".", "FINAL", ")", ".", "initializer", "(", "\"", "<STR_LIT>", "\"", ",", "parcelerType", ",", "EntityGenerator", ".", "TYPE_NAME", ")", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "ExecutableElement", "element", "(", ")", ";", "</s>"]
["<s>", "Collection", "<", "Annotation", ">", "listenerAnnotations", "(", ")", ";", "</s>"]
["<s>", "EntityGraph", "(", "Types", "types", ",", "Map", "<", "TypeElement", ",", "?", "extends", "EntityDescriptor", ">", "embeddedTypes", ")", "{", "this", ".", "types", "=", "types", ";", "this", ".", "embeddedTypes", "=", "embeddedTypes", ";", "this", ".", "entities", "=", "new", "HashMap", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "Collection", "<", "EntityDescriptor", ">", "entities", "(", ")", "{", "return", "Collections", ".", "unmodifiableCollection", "(", "entities", ".", "values", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "void", "add", "(", "EntityDescriptor", "entity", ")", "{", "entities", ".", "putIfAbsent", "(", "entity", ".", "element", "(", ")", ",", "entity", ")", ";", "}", "</s>"]
["<s>", "Optional", "<", "EntityDescriptor", ">", "embeddedDescriptorOf", "(", "AttributeDescriptor", "attribute", ")", "{", "TypeMirror", "mirror", "=", "attribute", ".", "typeMirror", "(", ")", ";", "Element", "element", "=", "types", ".", "asElement", "(", "mirror", ")", ";", "if", "(", "element", "instanceof", "TypeElement", ")", "{", "return", "Optional", ".", "ofNullable", "(", "embeddedTypes", ".", "get", "(", "element", ")", ")", ";", "}", "return", "Optional", ".", "empty", "(", ")", ";", "}", "</s>"]
["<s>", "private", "Optional", "<", "EntityDescriptor", ">", "entityByName", "(", "QualifiedName", "name", ")", "{", "boolean", "ignorePackage", "=", "Names", ".", "isEmpty", "(", "name", ".", "packageName", "(", ")", ")", ";", "for", "(", "EntityDescriptor", "entity", ":", "entities", ".", "values", "(", ")", ")", "{", "QualifiedName", "entityName", "=", "entity", ".", "typeName", "(", ")", ";", "if", "(", "(", "ignorePackage", "&", "&", "entityName", ".", "className", "(", ")", ".", "equals", "(", "name", ".", "className", "(", ")", ")", ")", "|", "|", "entityName", ".", "equals", "(", "name", ")", "|", "|", "match", "(", "entity", ",", "name", ".", "className", "(", ")", ")", ")", "{", "return", "Optional", ".", "of", "(", "entity", ")", ";", "}", "}", "return", "Optional", ".", "empty", "(", ")", ";", "}", "</s>"]
["<s>", "Optional", "<", "EntityDescriptor", ">", "referencingEntity", "(", "AttributeDescriptor", "attribute", ")", "{", "if", "(", "!", "Names", ".", "isEmpty", "(", "attribute", ".", "referencedTable", "(", ")", ")", ")", "{", "return", "entities", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "entity", "-", ">", "entity", ".", "tableName", "(", ")", ".", "equalsIgnoreCase", "(", "attribute", ".", "referencedTable", "(", ")", ")", ")", ".", "findFirst", "(", ")", ";", "}", "else", "if", "(", "!", "Names", ".", "isEmpty", "(", "attribute", ".", "referencedType", "(", ")", ")", ")", "{", "Optional", "<", "TypeKind", ">", "primitiveType", "=", "Stream", ".", "of", "(", "TypeKind", ".", "values", "(", ")", ")", ".", "filter", "(", "TypeKind", ":", ":", "isPrimitive", ")", ".", "filter", "(", "kind", "-", ">", "kind", ".", "toString", "(", ")", ".", "toLowerCase", "(", ")", ".", "equals", "(", "attribute", ".", "referencedType", "(", ")", ")", ")", ".", "findFirst", "(", ")", ";", "if", "(", "primitiveType", ".", "isPresent", "(", ")", ")", "{", "return", "Optional", ".", "empty", "(", ")", ";", "}", "else", "{", "QualifiedName", "referencedType", "=", "new", "QualifiedName", "(", "attribute", ".", "referencedType", "(", ")", ")", ";", "return", "entityByName", "(", "referencedType", ")", ";", "}", "}", "else", "{", "TypeMirror", "referencedType", "=", "attribute", ".", "typeMirror", "(", ")", ";", "if", "(", "attribute", ".", "isIterable", "(", ")", ")", "{", "referencedType", "=", "collectionElementType", "(", "referencedType", ")", ";", "}", "TypeElement", "referencedElement", "=", "(", "TypeElement", ")", "types", ".", "asElement", "(", "referencedType", ")", ";", "String", "referencedName", "=", "referencedElement", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "return", "entities", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "entity", "-", ">", "match", "(", "entity", ",", "referencedName", ")", ")", ".", "findFirst", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "boolean", "match", "(", "EntityDescriptor", "entity", ",", "String", "referenceName", ")", "{", "return", "(", "entity", ".", "typeName", "(", ")", ".", "className", "(", ")", ".", "equals", "(", "referenceName", ")", "|", "|", "entity", ".", "element", "(", ")", ".", "getSimpleName", "(", ")", ".", "contentEquals", "(", "referenceName", ")", ")", ";", "}", "</s>"]
["<s>", "Optional", "<", "?", "extends", "AttributeDescriptor", ">", "referencingAttribute", "(", "AttributeDescriptor", "attribute", ",", "EntityDescriptor", "referenced", ")", "{", "String", "referencedColumn", "=", "attribute", ".", "referencedColumn", "(", ")", ";", "if", "(", "Names", ".", "isEmpty", "(", "referencedColumn", ")", ")", "{", "List", "<", "AttributeDescriptor", ">", "keys", "=", "referenced", ".", "attributes", "(", ")", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "AttributeDescriptor", ":", ":", "isKey", ")", ".", "collect", "(", "Collectors", ".", "toList", "(", ")", ")", ";", "if", "(", "keys", ".", "size", "(", ")", "=", "=", "1", ")", "{", "return", "Optional", ".", "of", "(", "keys", ".", "get", "(", "0", ")", ")", ";", "}", "else", "{", "return", "keys", ".", "stream", "(", ")", ".", "filter", "(", "other", "-", ">", "other", ".", "typeMirror", "(", ")", ".", "equals", "(", "attribute", ".", "typeMirror", "(", ")", ")", ")", ".", "findFirst", "(", ")", ";", "}", "}", "else", "{", "return", "referenced", ".", "attributes", "(", ")", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "other", "-", ">", "other", ".", "name", "(", ")", ".", "equals", "(", "referencedColumn", ")", ")", ".", "findFirst", "(", ")", ";", "}", "}", "</s>"]
["<s>", "Set", "<", "AttributeDescriptor", ">", "mappedAttributes", "(", "EntityDescriptor", "entity", ",", "AttributeDescriptor", "attribute", ",", "EntityDescriptor", "referenced", ")", "{", "String", "mappedBy", "=", "attribute", ".", "mappedBy", "(", ")", ";", "if", "(", "Names", ".", "isEmpty", "(", "mappedBy", ")", ")", "{", "return", "referenced", ".", "attributes", "(", ")", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "other", "-", ">", "other", ".", "cardinality", "(", ")", "!", "=", "null", ")", ".", "filter", "(", "other", "-", ">", "referencingEntity", "(", "other", ")", ".", "isPresent", "(", ")", ")", ".", "filter", "(", "other", "-", ">", "referencingEntity", "(", "other", ")", ".", "orElseThrow", "(", "IllegalStateException", ":", ":", "new", ")", "=", "=", "entity", ")", ".", "collect", "(", "Collectors", ".", "toSet", "(", ")", ")", ";", "}", "else", "{", "return", "referenced", ".", "attributes", "(", ")", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "other", "-", ">", "other", ".", "name", "(", ")", ".", "equals", "(", "mappedBy", ")", ")", ".", "collect", "(", "Collectors", ".", "toSet", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "TypeMirror", "collectionElementType", "(", "TypeMirror", "typeMirror", ")", "{", "List", "<", "TypeMirror", ">", "arguments", "=", "Mirrors", ".", "listGenericTypeArguments", "(", "typeMirror", ")", ";", "return", "arguments", ".", "isEmpty", "(", ")", "?", "typeMirror", ":", "arguments", ".", "get", "(", "0", ")", ";", "}", "</s>"]
["<s>", "String", "name", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "AssociativeReference", ">", "columns", "(", ")", ";", "</s>"]
["<s>", "Optional", "<", "TypeMirror", ">", "type", "(", ")", ";", "</s>"]
["<s>", "GeneratedProperty", "(", "String", "propertyName", ",", "TypeName", "targetName", ",", "TypeName", "propertyTypeName", ")", "{", "this", "(", "propertyName", ",", "propertyName", ",", "targetName", ",", "propertyTypeName", ")", ";", "}", "</s>"]
["<s>", "GeneratedProperty", "(", "String", "readName", ",", "String", "writeName", ",", "TypeName", "targetName", ",", "TypeName", "propertyTypeName", ")", "{", "this", ".", "methodSuffix", "=", "\"", "\"", ";", "this", ".", "readName", "=", "readName", ";", "this", ".", "writeName", "=", "writeName", ";", "this", ".", "targetName", "=", "targetName", ";", "this", ".", "propertyTypeName", "=", "propertyTypeName", ";", "}", "</s>"]
["<s>", "GeneratedProperty", "setUseMethod", "(", "boolean", "useMethod", ")", "{", "this", ".", "useMethod", "=", "useMethod", ";", "return", "this", ";", "}", "</s>"]
["<s>", "GeneratedProperty", "setSuffix", "(", "String", "suffix", ")", "{", "this", ".", "methodSuffix", "=", "suffix", ";", "return", "this", ";", "}", "</s>"]
["<s>", "GeneratedProperty", "setNullable", "(", "boolean", "nullable", ")", "{", "this", ".", "isNullable", "=", "nullable", ";", "return", "this", ";", "}", "</s>"]
["<s>", "GeneratedProperty", "setReadOnly", "(", "boolean", "readOnly", ")", "{", "this", ".", "isReadOnly", "=", "readOnly", ";", "return", "this", ";", "}", "</s>"]
["<s>", "GeneratedProperty", "setWriteOnly", "(", "boolean", "writeOnly", ")", "{", "this", ".", "isWriteOnly", "=", "writeOnly", ";", "return", "this", ";", "}", "</s>"]
["<s>", "void", "build", "(", "TypeSpec", ".", "Builder", "builder", ")", "{", "addPropertyMethods", "(", "builder", ")", ";", "}", "</s>"]
["<s>", "private", "void", "addPropertyMethods", "(", "TypeSpec", ".", "Builder", "builder", ")", "{", "String", "suffix", "=", "methodSuffix", ";", "MethodSpec", ".", "Builder", "getMethod", "=", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", "+", "suffix", ")", ".", "addParameter", "(", "targetName", ",", "\"", "<STR_LIT>", "\"", ")", ".", "returns", "(", "propertyTypeName", ")", ";", "if", "(", "isWriteOnly", ")", "{", "getMethod", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "else", "{", "getMethod", ".", "addStatement", "(", "useMethod", "?", "\"", "<STR_LIT>", "\"", ":", "\"", "<STR_LIT>", "\"", ",", "readName", ")", ";", "}", "MethodSpec", ".", "Builder", "setMethod", "=", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", "+", "suffix", ")", ".", "addParameter", "(", "targetName", ",", "\"", "<STR_LIT>", "\"", ")", ".", "addParameter", "(", "propertyTypeName", ",", "\"", "<STR_LIT>", "\"", ")", ";", "if", "(", "isReadOnly", ")", "{", "setMethod", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "else", "{", "CodeBlock", ".", "Builder", "setterBlock", "=", "CodeBlock", ".", "builder", "(", ")", ";", "if", "(", "isNullable", ")", "{", "setterBlock", ".", "beginControlFlow", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "setterBlock", ".", "addStatement", "(", "useMethod", "?", "\"", "<STR_LIT>", "\"", ":", "\"", "<STR_LIT>", "\"", ",", "writeName", ")", ";", "if", "(", "isNullable", ")", "{", "setterBlock", ".", "endControlFlow", "(", ")", ";", "}", "setMethod", ".", "addCode", "(", "setterBlock", ".", "build", "(", ")", ")", ";", "}", "builder", ".", "addMethod", "(", "getMethod", ".", "build", "(", ")", ")", ";", "builder", ".", "addMethod", "(", "setMethod", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "EntityMetaGenerator", "(", "ProcessingEnvironment", "processingEnvironment", ",", "EntityGraph", "graph", ",", "EntityDescriptor", "entity", ")", "{", "super", "(", "processingEnvironment", ",", "graph", ",", "entity", ")", ";", "}", "</s>"]
["<s>", "void", "generate", "(", "TypeSpec", ".", "Builder", "builder", ")", "{", "boolean", "metadataOnly", "=", "entity", ".", "isImmutable", "(", ")", "|", "|", "entity", ".", "isUnimplementable", "(", ")", ";", "TypeName", "targetName", "=", "metadataOnly", "?", "ClassName", ".", "get", "(", "entity", ".", "element", "(", ")", ")", ":", "typeName", ";", "entity", ".", "attributes", "(", ")", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "attribute", "-", ">", "!", "attribute", ".", "isTransient", "(", ")", ")", ".", "forEach", "(", "attribute", "-", ">", "{", "String", "fieldName", "=", "Names", ".", "upperCaseUnderscore", "(", "Names", ".", "removeMemberPrefixes", "(", "attribute", ".", "fieldName", "(", ")", ")", ")", ";", "if", "(", "attribute", ".", "isForeignKey", "(", ")", "&", "&", "attribute", ".", "cardinality", "(", ")", "!", "=", "null", ")", "{", "graph", ".", "referencingEntity", "(", "attribute", ")", ".", "flatMap", "(", "entity", "-", ">", "graph", ".", "referencingAttribute", "(", "attribute", ",", "entity", ")", ")", ".", "ifPresent", "(", "foreignKey", "-", ">", "{", "String", "name", "=", "fieldName", "+", "\"", "<STR_LIT>", "\"", ";", "TypeMirror", "mirror", "=", "foreignKey", ".", "typeMirror", "(", ")", ";", "builder", ".", "addField", "(", "generateAttribute", "(", "attribute", ",", "targetName", ",", "name", ",", "mirror", ",", "true", ",", "null", ")", ")", ";", "expressionNames", ".", "add", "(", "name", ")", ";", "}", ")", ";", "}", "if", "(", "attribute", ".", "isEmbedded", "(", ")", ")", "{", "graph", ".", "embeddedDescriptorOf", "(", "attribute", ")", ".", "ifPresent", "(", "embedded", "-", ">", "generateEmbedded", "(", "attribute", ",", "embedded", ",", "builder", ",", "targetName", ")", ")", ";", "}", "else", "{", "TypeMirror", "mirror", "=", "attribute", ".", "typeMirror", "(", ")", ";", "builder", ".", "addField", "(", "generateAttribute", "(", "attribute", ",", "targetName", ",", "fieldName", ",", "mirror", ",", "false", ",", "null", ")", ")", ";", "attributeNames", ".", "add", "(", "fieldName", ")", ";", "}", "}", ")", ";", "generateType", "(", "builder", ",", "targetName", ")", ";", "}", "</s>"]
["<s>", "private", "void", "generateType", "(", "TypeSpec", ".", "Builder", "builder", ",", "TypeName", "targetName", ")", "{", "CodeBlock", ".", "Builder", "block", "=", "CodeBlock", ".", "builder", "(", ")", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "TypeBuilder", ".", "class", ",", "targetName", ",", "targetName", ",", "entity", ".", "tableName", "(", ")", ")", ";", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "ClassName", ".", "get", "(", "typeElement", ")", ")", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "entity", ".", "isCacheable", "(", ")", ")", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "entity", ".", "isImmutable", "(", ")", ")", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "entity", ".", "isReadOnly", "(", ")", ")", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "entity", ".", "isStateless", "(", ")", ")", ";", "String", "factoryName", "=", "entity", ".", "classFactoryName", "(", ")", ";", "if", "(", "!", "Names", ".", "isEmpty", "(", "factoryName", ")", ")", "{", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "ClassName", ".", "bestGuess", "(", "factoryName", ")", ")", ";", "}", "else", "if", "(", "entity", ".", "isImmutable", "(", ")", ")", "{", "TypeName", "builderName", "=", "entity", ".", "builderType", "(", ")", ".", "map", "(", "element", "-", ">", "TypeName", ".", "get", "(", "element", ".", "asType", "(", ")", ")", ")", ".", "orElse", "(", "typeName", ")", ";", "TypeSpec", ".", "Builder", "typeFactory", "=", "TypeSpec", ".", "anonymousClassBuilder", "(", "\"", "\"", ")", ".", "addSuperinterface", "(", "parameterizedTypeName", "(", "Supplier", ".", "class", ",", "builderName", ")", ")", ";", "MethodSpec", ".", "Builder", "buildMethod", "=", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "returns", "(", "builderName", ")", ";", "if", "(", "entity", ".", "builderFactoryMethod", "(", ")", ".", "isPresent", "(", ")", ")", "{", "buildMethod", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "targetName", ",", "entity", ".", "builderFactoryMethod", "(", ")", ".", "map", "(", "method", "-", ">", "method", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ")", ".", "orElse", "(", "\"", "\"", ")", ")", ";", "}", "else", "{", "buildMethod", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "builderName", ")", ";", "}", "typeFactory", ".", "addMethod", "(", "buildMethod", ".", "build", "(", ")", ")", ";", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "typeFactory", ".", "build", "(", ")", ")", ";", "TypeSpec", ".", "Builder", "buildFunction", "=", "TypeSpec", ".", "anonymousClassBuilder", "(", "\"", "\"", ")", ".", "addSuperinterface", "(", "parameterizedTypeName", "(", "Function", ".", "class", ",", "builderName", ",", "targetName", ")", ")", ".", "addMethod", "(", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "addParameter", "(", "builderName", ",", "\"", "<STR_LIT>", "\"", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ")", ".", "returns", "(", "targetName", ")", ".", "build", "(", ")", ")", ";", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "buildFunction", ".", "build", "(", ")", ")", ";", "}", "else", "{", "TypeSpec", ".", "Builder", "typeFactory", "=", "TypeSpec", ".", "anonymousClassBuilder", "(", "\"", "\"", ")", ".", "addSuperinterface", "(", "parameterizedTypeName", "(", "Supplier", ".", "class", ",", "targetName", ")", ")", ".", "addMethod", "(", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "targetName", ")", ".", "returns", "(", "targetName", ")", ".", "build", "(", ")", ")", ";", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "typeFactory", ".", "build", "(", ")", ")", ";", "}", "ParameterizedTypeName", "proxyType", "=", "parameterizedTypeName", "(", "EntityProxy", ".", "class", ",", "targetName", ")", ";", "TypeSpec", ".", "Builder", "proxyProvider", "=", "TypeSpec", ".", "anonymousClassBuilder", "(", "\"", "\"", ")", ".", "addSuperinterface", "(", "parameterizedTypeName", "(", "Function", ".", "class", ",", "targetName", ",", "proxyType", ")", ")", ";", "MethodSpec", ".", "Builder", "proxyFunction", "=", "CodeGeneration", ".", "overridePublicMethod", "(", "\"", "<STR_LIT>", "\"", ")", ".", "addParameter", "(", "targetName", ",", "\"", "<STR_LIT>", "\"", ")", ".", "returns", "(", "proxyType", ")", ";", "if", "(", "entity", ".", "isImmutable", "(", ")", "|", "|", "entity", ".", "isUnimplementable", "(", ")", ")", "{", "proxyFunction", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "proxyType", ",", "TYPE_NAME", ")", ";", "}", "else", "{", "proxyFunction", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "PROXY_NAME", ")", ";", "}", "proxyProvider", ".", "addMethod", "(", "proxyFunction", ".", "build", "(", ")", ")", ";", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "proxyProvider", ".", "build", "(", ")", ")", ";", "if", "(", "entity", ".", "tableAttributes", "(", ")", "!", "=", "null", "&", "&", "entity", ".", "tableAttributes", "(", ")", ".", "length", ">", "0", ")", "{", "StringJoiner", "joiner", "=", "new", "StringJoiner", "(", "\"", "<STR_LIT:U+002C>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT:}>", "\"", ")", ";", "for", "(", "String", "attribute", ":", "entity", ".", "tableAttributes", "(", ")", ")", "{", "joiner", ".", "add", "(", "\"", "<STR_LIT:\\\">", "\"", "+", "attribute", "+", "\"", "<STR_LIT:\\\">", "\"", ")", ";", "}", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "joiner", ".", "toString", "(", ")", ")", ";", "}", "attributeNames", ".", "forEach", "(", "name", "-", ">", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "name", ")", ")", ";", "expressionNames", ".", "forEach", "(", "name", "-", ">", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "name", ")", ")", ";", "block", ".", "add", "(", "\"", "<STR_LIT>", "\"", ")", ";", "ParameterizedTypeName", "type", "=", "parameterizedTypeName", "(", "Type", ".", "class", ",", "targetName", ")", ";", "builder", ".", "addField", "(", "FieldSpec", ".", "builder", "(", "type", ",", "TYPE_NAME", ",", "Modifier", ".", "PUBLIC", ",", "Modifier", ".", "STATIC", ",", "Modifier", ".", "FINAL", ")", ".", "initializer", "(", "\"", "<STR_LIT>", "\"", ",", "block", ".", "build", "(", ")", ")", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "generateEmbedded", "(", "AttributeDescriptor", "parent", ",", "EntityDescriptor", "embedded", ",", "TypeSpec", ".", "Builder", "builder", ",", "TypeName", "targetName", ")", "{", "embedded", ".", "attributes", "(", ")", ".", "values", "(", ")", ".", "forEach", "(", "attribute", "-", ">", "{", "String", "fieldName", "=", "Names", ".", "upperCaseUnderscore", "(", "Names", ".", "removeMemberPrefixes", "(", "attribute", ".", "fieldName", "(", ")", ")", ")", ";", "TypeMirror", "mirror", "=", "attribute", ".", "typeMirror", "(", ")", ";", "builder", ".", "addField", "(", "generateAttribute", "(", "attribute", ",", "targetName", ",", "fieldName", ",", "mirror", ",", "false", ",", "parent", ")", ")", ";", "attributeNames", ".", "add", "(", "fieldName", ")", ";", "}", ")", ";", "try", "{", "new", "EntityGenerator", "(", "processingEnv", ",", "graph", ",", "embedded", ",", "entity", ")", ".", "generate", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "FieldSpec", "generateAttribute", "(", "AttributeDescriptor", "attribute", ",", "TypeName", "targetName", ",", "String", "fieldName", ",", "TypeMirror", "mirror", ",", "boolean", "expression", ",", "AttributeDescriptor", "parent", ")", "{", "TypeMirror", "typeMirror", "=", "mirror", ";", "TypeName", "typeName", ";", "if", "(", "attribute", ".", "isIterable", "(", ")", ")", "{", "typeMirror", "=", "tryFirstTypeArgument", "(", "typeMirror", ")", ";", "typeName", "=", "parameterizedCollectionName", "(", "attribute", ".", "typeMirror", "(", ")", ")", ";", "}", "else", "if", "(", "attribute", ".", "isOptional", "(", ")", ")", "{", "typeMirror", "=", "tryFirstTypeArgument", "(", "typeMirror", ")", ";", "typeName", "=", "TypeName", ".", "get", "(", "typeMirror", ")", ";", "}", "else", "{", "typeName", "=", "nameResolver", ".", "generatedTypeNameOf", "(", "typeMirror", ")", ".", "orElse", "(", "null", ")", ";", "}", "if", "(", "typeName", "=", "=", "null", ")", "{", "typeName", "=", "boxedTypeName", "(", "typeMirror", ")", ";", "}", "ParameterizedTypeName", "type", ";", "ClassName", "attributeType", "=", "null", ";", "boolean", "useKotlinDelegate", "=", "false", ";", "if", "(", "expression", ")", "{", "type", "=", "parameterizedTypeName", "(", "QueryExpression", ".", "class", ",", "typeName", ")", ";", "}", "else", "{", "boolean", "isQueryable", "=", "attribute", ".", "cardinality", "(", ")", "=", "=", "null", "|", "|", "attribute", ".", "isForeignKey", "(", ")", ";", "Class", "<", "?", ">", "attributeClass", "=", "isQueryable", "?", "QueryAttribute", ".", "class", ":", "Attribute", ".", "class", ";", "attributeType", "=", "ClassName", ".", "get", "(", "attributeClass", ")", ";", "if", "(", "isQueryable", "&", "&", "SourceLanguage", ".", "of", "(", "entity", ".", "element", "(", ")", ")", "=", "=", "SourceLanguage", ".", "KOTLIN", ")", "{", "TypeElement", "delegateType", "=", "elements", ".", "getTypeElement", "(", "KOTLIN_ATTRIBUTE_DELEGATE", ")", ";", "if", "(", "delegateType", "!", "=", "null", ")", "{", "attributeType", "=", "ClassName", ".", "get", "(", "delegateType", ")", ";", "useKotlinDelegate", "=", "true", ";", "}", "}", "type", "=", "ParameterizedTypeName", ".", "get", "(", "attributeType", ",", "targetName", ",", "typeName", ")", ";", "}", "CodeBlock", ".", "Builder", "builder", "=", "CodeBlock", ".", "builder", "(", ")", ";", "if", "(", "attribute", ".", "isIterable", "(", ")", ")", "{", "typeMirror", "=", "tryFirstTypeArgument", "(", "typeMirror", ")", ";", "TypeName", "name", "=", "nameResolver", ".", "tryGeneratedTypeName", "(", "typeMirror", ")", ";", "TypeElement", "collectionElement", "=", "(", "TypeElement", ")", "types", ".", "asElement", "(", "attribute", ".", "typeMirror", "(", ")", ")", ";", "ParameterizedTypeName", "builderName", "=", "parameterizedTypeName", "(", "attribute", ".", "builderClass", "(", ")", ",", "targetName", ",", "typeName", ",", "name", ")", ";", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "builderName", ",", "attribute", ".", "name", "(", ")", ",", "ClassName", ".", "get", "(", "collectionElement", ")", ",", "name", ")", ";", "}", "else", "if", "(", "attribute", ".", "isMap", "(", ")", "&", "&", "attribute", ".", "cardinality", "(", ")", "!", "=", "null", ")", "{", "List", "<", "TypeMirror", ">", "parameters", "=", "Mirrors", ".", "listGenericTypeArguments", "(", "typeMirror", ")", ";", "TypeName", "keyName", "=", "TypeName", ".", "get", "(", "parameters", ".", "get", "(", "0", ")", ")", ";", "typeMirror", "=", "parameters", ".", "get", "(", "1", ")", ";", "TypeName", "valueName", "=", "nameResolver", ".", "tryGeneratedTypeName", "(", "typeMirror", ")", ";", "TypeElement", "valueElement", "=", "(", "TypeElement", ")", "types", ".", "asElement", "(", "attribute", ".", "typeMirror", "(", ")", ")", ";", "ParameterizedTypeName", "builderName", "=", "parameterizedTypeName", "(", "attribute", ".", "builderClass", "(", ")", ",", "targetName", ",", "typeName", ",", "keyName", ",", "valueName", ")", ";", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "builderName", ",", "attribute", ".", "name", "(", ")", ",", "ClassName", ".", "get", "(", "valueElement", ")", ",", "keyName", ",", "valueName", ")", ";", "}", "else", "{", "ParameterizedTypeName", "builderName", "=", "parameterizedTypeName", "(", "attribute", ".", "builderClass", "(", ")", ",", "targetName", ",", "typeName", ")", ";", "TypeName", "classType", "=", "typeName", ";", "if", "(", "typeMirror", ".", "getKind", "(", ")", ".", "isPrimitive", "(", ")", ")", "{", "classType", "=", "TypeName", ".", "get", "(", "typeMirror", ")", ";", "}", "String", "statement", ";", "if", "(", "Mirrors", ".", "listGenericTypeArguments", "(", "typeMirror", ")", ".", "size", "(", ")", ">", "0", ")", "{", "classType", "=", "TypeName", ".", "get", "(", "types", ".", "erasure", "(", "typeMirror", ")", ")", ";", "statement", "=", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ";", "}", "else", "{", "statement", "=", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ";", "}", "builder", ".", "add", "(", "statement", ",", "builderName", ",", "attribute", ".", "name", "(", ")", ",", "classType", ")", ";", "}", "if", "(", "!", "expression", ")", "{", "String", "prefix", "=", "\"", "\"", ";", "if", "(", "parent", "!", "=", "null", ")", "{", "prefix", "=", "parent", ".", "getterName", "(", ")", "+", "\"", "<STR_LIT>", "\"", ";", "}", "generateProperties", "(", "attribute", ",", "typeMirror", ",", "targetName", ",", "typeName", ",", "builder", ",", "prefix", ")", ";", "}", "if", "(", "attribute", ".", "isKey", "(", ")", ")", "{", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "}", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "isGenerated", "(", ")", ")", ";", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "isLazy", "(", ")", ")", ";", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "isNullable", "(", ")", ")", ";", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "isUnique", "(", ")", ")", ";", "if", "(", "!", "Names", ".", "isEmpty", "(", "attribute", ".", "defaultValue", "(", ")", ")", ")", "{", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "defaultValue", "(", ")", ")", ";", "}", "if", "(", "!", "Names", ".", "isEmpty", "(", "attribute", ".", "collate", "(", ")", ")", ")", "{", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "collate", "(", ")", ")", ";", "}", "if", "(", "attribute", ".", "columnLength", "(", ")", "!", "=", "null", ")", "{", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "columnLength", "(", ")", ")", ";", "}", "if", "(", "attribute", ".", "isVersion", "(", ")", ")", "{", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "isVersion", "(", ")", ")", ";", "}", "if", "(", "attribute", ".", "converterName", "(", ")", "!", "=", "null", ")", "{", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "converterName", "(", ")", ")", ";", "}", "if", "(", "attribute", ".", "isForeignKey", "(", ")", ")", "{", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "isForeignKey", "(", ")", ")", ";", "Optional", "<", "EntityDescriptor", ">", "referencedType", "=", "graph", ".", "referencingEntity", "(", "attribute", ")", ";", "referencedType", ".", "ifPresent", "(", "referenced", "-", ">", "{", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "referenced", ".", "isImmutable", "(", ")", "?", "TypeName", ".", "get", "(", "referenced", ".", "element", "(", ")", ".", "asType", "(", ")", ")", ":", "nameResolver", ".", "typeNameOf", "(", "referenced", ")", ")", ";", "graph", ".", "referencingAttribute", "(", "attribute", ",", "referenced", ")", ".", "ifPresent", "(", "referencedAttribute", "-", ">", "{", "String", "name", "=", "Names", ".", "upperCaseUnderscore", "(", "referencedAttribute", ".", "fieldName", "(", ")", ")", ";", "TypeSpec", "provider", "=", "CodeGeneration", ".", "createAnonymousSupplier", "(", "ClassName", ".", "get", "(", "Attribute", ".", "class", ")", ",", "CodeBlock", ".", "builder", "(", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "nameResolver", ".", "typeNameOf", "(", "referenced", ")", ",", "name", ")", ".", "build", "(", ")", ")", ";", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "provider", ")", ";", "}", ")", ";", "}", ")", ";", "}", "if", "(", "attribute", ".", "isIndexed", "(", ")", ")", "{", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "isIndexed", "(", ")", ")", ";", "if", "(", "!", "attribute", ".", "indexNames", "(", ")", ".", "isEmpty", "(", ")", ")", "{", "StringJoiner", "joiner", "=", "new", "StringJoiner", "(", "\"", "<STR_LIT:U+002C>", "\"", ")", ";", "attribute", ".", "indexNames", "(", ")", ".", "forEach", "(", "name", "-", ">", "joiner", ".", "add", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "builder", ".", "add", "(", "\"", "<STR_LIT>", "\"", "+", "joiner", "+", "\"", "<STR_LIT:)>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "indexNames", "(", ")", ".", "toArray", "(", ")", ")", ";", "}", "}", "if", "(", "attribute", ".", "deleteAction", "(", ")", "!", "=", "null", ")", "{", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "ClassName", ".", "get", "(", "ReferentialAction", ".", "class", ")", ",", "attribute", ".", "deleteAction", "(", ")", ")", ";", "}", "if", "(", "attribute", ".", "updateAction", "(", ")", "!", "=", "null", ")", "{", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "ClassName", ".", "get", "(", "ReferentialAction", ".", "class", ")", ",", "attribute", ".", "updateAction", "(", ")", ")", ";", "}", "if", "(", "!", "attribute", ".", "cascadeActions", "(", ")", ".", "isEmpty", "(", ")", ")", "{", "StringJoiner", "joiner", "=", "new", "StringJoiner", "(", "\"", "<STR_LIT:U+002C>", "\"", ")", ";", "attribute", ".", "cascadeActions", "(", ")", ".", "forEach", "(", "action", "-", ">", "joiner", ".", "add", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "int", "index", "=", "0", ";", "ClassName", "cascadeClass", "=", "ClassName", ".", "get", "(", "CascadeAction", ".", "class", ")", ";", "Object", "[", "]", "args", "=", "new", "Object", "[", "attribute", ".", "cascadeActions", "(", ")", ".", "size", "(", ")", "*", "<NUM_LIT:2>", "]", ";", "for", "(", "CascadeAction", "action", ":", "attribute", ".", "cascadeActions", "(", ")", ")", "{", "args", "[", "index", "+", "+", "]", "=", "cascadeClass", ";", "args", "[", "index", "+", "+", "]", "=", "action", ";", "}", "builder", ".", "add", "(", "\"", "<STR_LIT>", "\"", "+", "joiner", "+", "\"", "<STR_LIT:)>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "args", ")", ";", "}", "if", "(", "attribute", ".", "cardinality", "(", ")", "!", "=", "null", ")", "{", "if", "(", "!", "expression", ")", "{", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "ClassName", ".", "get", "(", "Cardinality", ".", "class", ")", ",", "attribute", ".", "cardinality", "(", ")", ")", ";", "}", "graph", ".", "referencingEntity", "(", "attribute", ")", ".", "ifPresent", "(", "referenced", "-", ">", "{", "Set", "<", "AttributeDescriptor", ">", "mappings", "=", "graph", ".", "mappedAttributes", "(", "entity", ",", "attribute", ",", "referenced", ")", ";", "if", "(", "attribute", ".", "cardinality", "(", ")", "=", "=", "Cardinality", ".", "MANY_TO_MANY", ")", "{", "generateJunctionType", "(", "attribute", ",", "referenced", ",", "mappings", ")", ".", "ifPresent", "(", "name", "-", ">", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "name", ")", ")", ";", "}", "if", "(", "mappings", ".", "size", "(", ")", "=", "=", "1", ")", "{", "AttributeDescriptor", "mapped", "=", "mappings", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "String", "staticMemberName", "=", "Names", ".", "upperCaseUnderscore", "(", "mapped", ".", "fieldName", "(", ")", ")", ";", "TypeSpec", "provider", "=", "CodeGeneration", ".", "createAnonymousSupplier", "(", "ClassName", ".", "get", "(", "Attribute", ".", "class", ")", ",", "CodeBlock", ".", "builder", "(", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "nameResolver", ".", "typeNameOf", "(", "referenced", ")", ",", "staticMemberName", ")", ".", "build", "(", ")", ")", ";", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "provider", ")", ";", "}", "if", "(", "attribute", ".", "orderBy", "(", ")", "!", "=", "null", ")", "{", "referenced", ".", "attributes", "(", ")", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "entry", "-", ">", "entry", ".", "name", "(", ")", ".", "equals", "(", "attribute", ".", "orderBy", "(", ")", ")", ")", ".", "findFirst", "(", ")", ".", "ifPresent", "(", "orderBy", "-", ">", "{", "String", "staticMemberName", "=", "Names", ".", "upperCaseUnderscore", "(", "orderBy", ".", "fieldName", "(", ")", ")", ";", "TypeSpec", "provider", "=", "CodeGeneration", ".", "createAnonymousSupplier", "(", "ClassName", ".", "get", "(", "Attribute", ".", "class", ")", ",", "CodeBlock", ".", "builder", "(", ")", ".", "addStatement", "(", "\"", "<STR_LIT>", "\"", ",", "nameResolver", ".", "typeNameOf", "(", "referenced", ")", ",", "staticMemberName", ")", ".", "build", "(", ")", ")", ";", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "provider", ")", ";", "builder", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "ClassName", ".", "get", "(", "Order", ".", "class", ")", ",", "attribute", ".", "orderByDirection", "(", ")", ")", ";", "}", ")", ";", "}", "}", ")", ";", "}", "builder", ".", "add", "(", "\"", "<STR_LIT>", "\"", ")", ";", "FieldSpec", ".", "Builder", "field", "=", "FieldSpec", ".", "builder", "(", "type", ",", "fieldName", ",", "Modifier", ".", "PUBLIC", ",", "Modifier", ".", "STATIC", ",", "Modifier", ".", "FINAL", ")", ";", "if", "(", "useKotlinDelegate", ")", "{", "return", "field", ".", "initializer", "(", "\"", "<STR_LIT>", "\"", ",", "attributeType", ",", "builder", ".", "build", "(", ")", ")", ".", "build", "(", ")", ";", "}", "else", "{", "return", "field", ".", "initializer", "(", "\"", "<STR_LIT>", "\"", ",", "builder", ".", "build", "(", ")", ")", ".", "build", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Optional", "<", "TypeName", ">", "generateJunctionType", "(", "AttributeDescriptor", "attribute", ",", "EntityDescriptor", "referenced", ",", "Set", "<", "AttributeDescriptor", ">", "mappings", ")", "{", "TypeName", "typeName", "=", "null", ";", "Optional", "<", "AssociativeEntityDescriptor", ">", "descriptor", "=", "attribute", ".", "associativeEntity", "(", ")", ";", "if", "(", "descriptor", ".", "isPresent", "(", ")", ")", "{", "Optional", "<", "TypeMirror", ">", "mirror", "=", "descriptor", ".", "get", "(", ")", ".", "type", "(", ")", ";", "if", "(", "mirror", ".", "isPresent", "(", ")", ")", "{", "typeName", "=", "TypeName", ".", "get", "(", "mirror", ".", "get", "(", ")", ")", ";", "}", "else", "{", "graph", ".", "referencingEntity", "(", "attribute", ")", ".", "ifPresent", "(", "referencing", "-", ">", "{", "JoinEntityGenerator", "generator", "=", "new", "JoinEntityGenerator", "(", "processingEnv", ",", "nameResolver", ",", "entity", ",", "referencing", ",", "attribute", ")", ";", "try", "{", "generator", ".", "generate", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "processingEnv", ".", "getMessager", "(", ")", ".", "printMessage", "(", "Diagnostic", ".", "Kind", ".", "ERROR", ",", "e", ".", "toString", "(", ")", ")", ";", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", ")", ";", "typeName", "=", "nameResolver", ".", "joinEntityName", "(", "descriptor", ".", "get", "(", ")", ",", "entity", ",", "referenced", ")", ";", "}", "}", "else", "if", "(", "mappings", ".", "size", "(", ")", "=", "=", "1", ")", "{", "descriptor", "=", "mappings", ".", "iterator", "(", ")", ".", "next", "(", ")", ".", "associativeEntity", "(", ")", ";", "if", "(", "descriptor", ".", "isPresent", "(", ")", ")", "{", "Optional", "<", "TypeMirror", ">", "mirror", "=", "descriptor", ".", "get", "(", ")", ".", "type", "(", ")", ";", "if", "(", "mirror", ".", "isPresent", "(", ")", ")", "{", "typeName", "=", "TypeName", ".", "get", "(", "mirror", ".", "get", "(", ")", ")", ";", "}", "else", "{", "typeName", "=", "nameResolver", ".", "joinEntityName", "(", "descriptor", ".", "get", "(", ")", ",", "referenced", ",", "entity", ")", ";", "}", "}", "}", "return", "Optional", ".", "ofNullable", "(", "typeName", ")", ";", "}", "</s>"]
["<s>", "private", "void", "generateProperties", "(", "AttributeDescriptor", "attribute", ",", "TypeMirror", "typeMirror", ",", "TypeName", "targetName", ",", "TypeName", "attributeName", ",", "CodeBlock", ".", "Builder", "block", ",", "String", "accessPrefix", ")", "{", "Class", "propertyClass", "=", "propertyClassFor", "(", "typeMirror", ")", ";", "ParameterizedTypeName", "propertyType", "=", "propertyName", "(", "propertyClass", ",", "targetName", ",", "attributeName", ")", ";", "TypeSpec", ".", "Builder", "propertyBuilder", "=", "TypeSpec", ".", "anonymousClassBuilder", "(", "\"", "\"", ")", ".", "addSuperinterface", "(", "propertyType", ")", ";", "boolean", "isNullable", "=", "typeMirror", ".", "getKind", "(", ")", ".", "isPrimitive", "(", ")", "&", "&", "attribute", ".", "isNullable", "(", ")", ";", "boolean", "useGetter", "=", "entity", ".", "isUnimplementable", "(", ")", "|", "|", "entity", ".", "isImmutable", "(", ")", ";", "boolean", "useSetter", "=", "entity", ".", "isUnimplementable", "(", ")", ";", "String", "getName", "=", "accessPrefix", "+", "(", "useGetter", "?", "attribute", ".", "getterName", "(", ")", ":", "attribute", ".", "fieldName", "(", ")", ")", ";", "String", "setName", "=", "accessPrefix", "+", "(", "useSetter", "?", "attribute", ".", "setterName", "(", ")", ":", "attribute", ".", "fieldName", "(", ")", ")", ";", "new", "GeneratedProperty", "(", "getName", ",", "setName", ",", "targetName", ",", "attributeName", ")", ".", "setNullable", "(", "isNullable", ")", ".", "setReadOnly", "(", "entity", ".", "isImmutable", "(", ")", ")", ".", "setUseMethod", "(", "useGetter", ")", ".", "build", "(", "propertyBuilder", ")", ";", "if", "(", "propertyClass", "!", "=", "Property", ".", "class", ")", "{", "TypeName", "primitiveType", "=", "TypeName", ".", "get", "(", "attribute", ".", "typeMirror", "(", ")", ")", ";", "String", "name", "=", "Names", ".", "upperCaseFirst", "(", "attribute", ".", "typeMirror", "(", ")", ".", "toString", "(", ")", ")", ";", "new", "GeneratedProperty", "(", "getName", ",", "setName", ",", "targetName", ",", "primitiveType", ")", ".", "setSuffix", "(", "name", ")", ".", "setReadOnly", "(", "entity", ".", "isImmutable", "(", ")", ")", ".", "setUseMethod", "(", "useGetter", ")", ".", "build", "(", "propertyBuilder", ")", ";", "}", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "propertyBuilder", ".", "build", "(", ")", ")", ";", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "attribute", ".", "element", "(", ")", ".", "getSimpleName", "(", ")", ")", ";", "if", "(", "!", "entity", ".", "isStateless", "(", ")", ")", "{", "ClassName", "stateClass", "=", "ClassName", ".", "get", "(", "PropertyState", ".", "class", ")", ";", "TypeSpec", ".", "Builder", "stateType", "=", "TypeSpec", ".", "anonymousClassBuilder", "(", "\"", "\"", ")", ".", "addSuperinterface", "(", "parameterizedTypeName", "(", "Property", ".", "class", ",", "targetName", ",", "stateClass", ")", ")", ";", "String", "fieldName", "=", "accessPrefix", "+", "propertyStateFieldName", "(", "attribute", ")", ";", "new", "GeneratedProperty", "(", "fieldName", ",", "targetName", ",", "stateClass", ")", ".", "build", "(", "stateType", ")", ";", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "stateType", ".", "build", "(", ")", ")", ";", "}", "if", "(", "entity", ".", "isImmutable", "(", ")", "&", "&", "\"", "\"", ".", "equals", "(", "accessPrefix", ")", ")", "{", "String", "propertyName", "=", "attribute", ".", "fieldName", "(", ")", ";", "TypeName", "builderName", "=", "typeName", ";", "useSetter", "=", "false", ";", "Optional", "<", "TypeElement", ">", "builderType", "=", "entity", ".", "builderType", "(", ")", ";", "if", "(", "builderType", ".", "isPresent", "(", ")", ")", "{", "propertyName", "=", "attribute", ".", "setterName", "(", ")", ";", "builderName", "=", "TypeName", ".", "get", "(", "builderType", ".", "get", "(", ")", ".", "asType", "(", ")", ")", ";", "useSetter", "=", "true", ";", "for", "(", "ExecutableElement", "method", ":", "ElementFilter", ".", "methodsIn", "(", "builderType", ".", "get", "(", ")", ".", "getEnclosedElements", "(", ")", ")", ")", "{", "List", "<", "?", "extends", "VariableElement", ">", "parameters", "=", "method", ".", "getParameters", "(", ")", ";", "String", "name", "=", "Names", ".", "removeMethodPrefixes", "(", "method", ".", "getSimpleName", "(", ")", ")", ";", "if", "(", "(", "name", ".", "startsWith", "(", "\"", "<STR_LIT>", "\"", ")", "&", "&", "name", ".", "length", "(", ")", ">", "<NUM_LIT:4>", "&", "&", "Character", ".", "isUpperCase", "(", "name", ".", "charAt", "(", "<NUM_LIT:4>", ")", ")", ")", "|", "|", "name", ".", "equalsIgnoreCase", "(", "attribute", ".", "fieldName", "(", ")", ")", "&", "&", "parameters", ".", "size", "(", ")", "=", "=", "1", ")", "{", "propertyName", "=", "method", ".", "getSimpleName", "(", ")", ".", "toString", "(", ")", ";", "break", ";", "}", "}", "}", "propertyType", "=", "propertyName", "(", "propertyClass", ",", "builderName", ",", "attributeName", ")", ";", "TypeSpec", ".", "Builder", "builderProperty", "=", "TypeSpec", ".", "anonymousClassBuilder", "(", "\"", "\"", ")", ".", "addSuperinterface", "(", "propertyType", ")", ";", "new", "GeneratedProperty", "(", "propertyName", ",", "builderName", ",", "attributeName", ")", ".", "setWriteOnly", "(", "true", ")", ".", "setUseMethod", "(", "useSetter", ")", ".", "build", "(", "builderProperty", ")", ";", "if", "(", "propertyClass", "!", "=", "Property", ".", "class", ")", "{", "TypeName", "primitiveType", "=", "TypeName", ".", "get", "(", "attribute", ".", "typeMirror", "(", ")", ")", ";", "String", "name", "=", "Names", ".", "upperCaseFirst", "(", "attribute", ".", "typeMirror", "(", ")", ".", "toString", "(", ")", ")", ";", "new", "GeneratedProperty", "(", "propertyName", ",", "builderName", ",", "primitiveType", ")", ".", "setSuffix", "(", "name", ")", ".", "setUseMethod", "(", "useSetter", ")", ".", "setWriteOnly", "(", "true", ")", ".", "build", "(", "builderProperty", ")", ";", "}", "block", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "builderProperty", ".", "build", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "ParameterizedTypeName", "propertyName", "(", "Class", "type", ",", "TypeName", "targetName", ",", "TypeName", "fieldName", ")", "{", "return", "type", "=", "=", "Property", ".", "class", "?", "ParameterizedTypeName", ".", "get", "(", "ClassName", ".", "get", "(", "type", ")", ",", "targetName", ",", "fieldName", ")", ":", "ParameterizedTypeName", ".", "get", "(", "ClassName", ".", "get", "(", "type", ")", ",", "targetName", ")", ";", "}", "</s>"]
["<s>", "private", "static", "Class", "propertyClassFor", "(", "TypeMirror", "typeMirror", ")", "{", "if", "(", "typeMirror", ".", "getKind", "(", ")", ".", "isPrimitive", "(", ")", ")", "{", "switch", "(", "typeMirror", ".", "getKind", "(", ")", ")", "{", "case", "BOOLEAN", ":", "return", "BooleanProperty", ".", "class", ";", "case", "BYTE", ":", "return", "ByteProperty", ".", "class", ";", "case", "SHORT", ":", "return", "ShortProperty", ".", "class", ";", "case", "INT", ":", "return", "IntProperty", ".", "class", ";", "case", "LONG", ":", "return", "LongProperty", ".", "class", ";", "case", "FLOAT", ":", "return", "FloatProperty", ".", "class", ";", "case", "DOUBLE", ":", "return", "DoubleProperty", ".", "class", ";", "}", "}", "return", "Property", ".", "class", ";", "}", "</s>"]
["<s>", "EntityGraphValidator", "(", "ProcessingEnvironment", "processingEnvironment", ",", "EntityGraph", "graph", ")", "{", "this", ".", "processingEnvironment", "=", "processingEnvironment", ";", "this", ".", "graph", "=", "graph", ";", "}", "</s>"]
["<s>", "Set", "<", "ElementValidator", ">", "validate", "(", ")", "{", "Set", "<", "ElementValidator", ">", "results", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "EntityDescriptor", "entity", ":", "graph", ".", "entities", "(", ")", ")", "{", "results", ".", "addAll", "(", "validateEntity", "(", "entity", ")", ")", ";", "}", "return", "results", ";", "}", "</s>"]
["<s>", "private", "Set", "<", "ElementValidator", ">", "validateEntity", "(", "EntityDescriptor", "entity", ")", "{", "Set", "<", "ElementValidator", ">", "results", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "Map", ".", "Entry", "<", "Element", ",", "?", "extends", "AttributeDescriptor", ">", "entry", ":", "entity", ".", "attributes", "(", ")", ".", "entrySet", "(", ")", ")", "{", "AttributeDescriptor", "attribute", "=", "entry", ".", "getValue", "(", ")", ";", "ElementValidator", "validator", "=", "new", "ElementValidator", "(", "attribute", ".", "element", "(", ")", ",", "processingEnvironment", ")", ";", "if", "(", "attribute", ".", "cardinality", "(", ")", "!", "=", "null", ")", "{", "Optional", "<", "EntityDescriptor", ">", "referencingEntity", "=", "graph", ".", "referencingEntity", "(", "attribute", ")", ";", "if", "(", "referencingEntity", ".", "isPresent", "(", ")", ")", "{", "EntityDescriptor", "referenced", "=", "referencingEntity", ".", "get", "(", ")", ";", "Set", "<", "AttributeDescriptor", ">", "mappings", "=", "graph", ".", "mappedAttributes", "(", "entity", ",", "attribute", ",", "referenced", ")", ";", "if", "(", "mappings", ".", "isEmpty", "(", ")", ")", "{", "if", "(", "attribute", ".", "cardinality", "(", ")", "=", "=", "Cardinality", ".", "ONE_TO_ONE", "&", "&", "!", "attribute", ".", "isForeignKey", "(", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "else", "if", "(", "attribute", ".", "cardinality", "(", ")", "=", "=", "Cardinality", ".", "ONE_TO_MANY", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "else", "if", "(", "mappings", ".", "size", "(", ")", "=", "=", "1", ")", "{", "AttributeDescriptor", "mapped", "=", "mappings", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "validateRelationship", "(", "validator", ",", "attribute", ",", "mapped", ")", ";", "}", "else", "if", "(", "mappings", ".", "size", "(", ")", ">", "1", ")", "{", "validator", ".", "warning", "(", "mappings", ".", "size", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "attribute", "+", "\"", "<STR_LIT>", "\"", "+", "referenced", ".", "typeName", "(", ")", ")", ";", "}", "}", "else", "{", "validator", ".", "warning", "(", "\"", "<STR_LIT>", "\"", "+", "attribute", ")", ";", "}", "}", "if", "(", "attribute", ".", "isForeignKey", "(", ")", ")", "{", "Optional", "<", "EntityDescriptor", ">", "referenced", "=", "graph", ".", "referencingEntity", "(", "attribute", ")", ";", "if", "(", "referenced", ".", "isPresent", "(", ")", ")", "{", "Optional", "<", "?", "extends", "AttributeDescriptor", ">", "referencedElement", "=", "graph", ".", "referencingAttribute", "(", "attribute", ",", "referenced", ".", "get", "(", ")", ")", ";", "if", "(", "!", "referencedElement", ".", "isPresent", "(", ")", ")", "{", "validator", ".", "warning", "(", "\"", "<STR_LIT>", "\"", "+", "referenced", ".", "get", "(", ")", ".", "typeName", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "attribute", ")", ";", "}", "else", "{", "referenced", ".", "get", "(", ")", ".", "attributes", "(", ")", ".", "values", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "AttributeDescriptor", ":", ":", "isForeignKey", ")", ".", "map", "(", "graph", ":", ":", "referencingEntity", ")", ".", "filter", "(", "Optional", ":", ":", "isPresent", ")", ".", "map", "(", "Optional", ":", ":", "get", ")", ".", "filter", "(", "entity", ":", ":", "equals", ")", ".", "findAny", "(", ")", ".", "ifPresent", "(", "other", "-", ">", "validator", ".", "warning", "(", "\"", "<STR_LIT>", "\"", "+", "entity", ".", "typeName", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "other", ".", "typeName", "(", ")", ",", "ForeignKey", ".", "class", ")", ")", ";", "}", "}", "else", "if", "(", "attribute", ".", "cardinality", "(", ")", "!", "=", "null", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", "+", "attribute", ".", "referencedColumn", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "attribute", ")", ";", "}", "}", "if", "(", "validator", ".", "hasErrors", "(", ")", "|", "|", "validator", ".", "hasWarnings", "(", ")", ")", "{", "results", ".", "add", "(", "validator", ")", ";", "}", "}", "return", "results", ";", "}", "</s>"]
["<s>", "private", "void", "validateRelationship", "(", "ElementValidator", "validator", ",", "AttributeDescriptor", "source", ",", "AttributeDescriptor", "mapped", ")", "{", "Cardinality", "sourceCardinality", "=", "source", ".", "cardinality", "(", ")", ";", "Cardinality", "mappedCardinality", "=", "mapped", ".", "cardinality", "(", ")", ";", "Cardinality", "expectedCardinality", ";", "switch", "(", "sourceCardinality", ")", "{", "case", "ONE_TO_ONE", ":", "expectedCardinality", "=", "Cardinality", ".", "ONE_TO_ONE", ";", "break", ";", "case", "ONE_TO_MANY", ":", "expectedCardinality", "=", "Cardinality", ".", "MANY_TO_ONE", ";", "break", ";", "case", "MANY_TO_ONE", ":", "expectedCardinality", "=", "Cardinality", ".", "ONE_TO_MANY", ";", "break", ";", "case", "MANY_TO_MANY", ":", "expectedCardinality", "=", "Cardinality", ".", "MANY_TO_MANY", ";", "break", ";", "default", ":", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "if", "(", "mappedCardinality", "!", "=", "expectedCardinality", "&", "&", "mapped", ".", "cardinality", "(", ")", "!", "=", "null", ")", "{", "String", "message", "=", "mappingErrorMessage", "(", "source", ",", "mapped", ",", "expectedCardinality", ")", ";", "validator", ".", "error", "(", "message", ")", ";", "}", "else", "if", "(", "sourceCardinality", "=", "=", "Cardinality", ".", "MANY_TO_MANY", ")", "{", "Optional", "<", "AssociativeEntityDescriptor", ">", "sourceAssociation", "=", "source", ".", "associativeEntity", "(", ")", ";", "Optional", "<", "AssociativeEntityDescriptor", ">", "mappedAssociation", "=", "mapped", ".", "associativeEntity", "(", ")", ";", "if", "(", "!", "sourceAssociation", ".", "isPresent", "(", ")", "&", "&", "!", "mappedAssociation", ".", "isPresent", "(", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "sourceAssociation", ".", "isPresent", "(", ")", "&", "&", "mappedAssociation", ".", "isPresent", "(", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "else", "if", "(", "sourceCardinality", "=", "=", "Cardinality", ".", "ONE_TO_ONE", ")", "{", "if", "(", "!", "source", ".", "isForeignKey", "(", ")", "&", "&", "!", "mapped", ".", "isForeignKey", "(", ")", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "source", ".", "isForeignKey", "(", ")", "&", "&", "mapped", ".", "isForeignKey", "(", ")", "&", "&", "source", "!", "=", "mapped", ")", "{", "validator", ".", "error", "(", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "String", "mappingErrorMessage", "(", "AttributeDescriptor", "source", ",", "AttributeDescriptor", "mapped", ",", "Cardinality", "expected", ")", "{", "String", "sourceType", "=", "source", ".", "cardinality", "(", ")", ".", "annotationClass", "(", ")", ".", "getSimpleName", "(", ")", ";", "String", "mappedType", "=", "mapped", ".", "cardinality", "(", ")", ".", "annotationClass", "(", ")", ".", "getSimpleName", "(", ")", ";", "String", "expectedType", "=", "expected", ".", "annotationClass", "(", ")", ".", "getSimpleName", "(", ")", ";", "String", "message", "=", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", ";", "return", "String", ".", "format", "(", "message", ",", "source", ",", "sourceType", ",", "mapped", ",", "mappedType", ",", "expectedType", ")", ";", "}", "</s>"]
["<s>", "E", "element", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "ElementValidator", ">", "process", "(", "ProcessingEnvironment", "processingEnvironment", ")", ";", "</s>"]
["<s>", "default", "<", "A", "extends", "Annotation", ">", "Optional", "<", "A", ">", "annotationOf", "(", "Class", "<", "?", "extends", "A", ">", "type", ")", "{", "A", "value", "=", "type", ".", "cast", "(", "annotations", "(", ")", ".", "get", "(", "type", ")", ")", ";", "return", "Optional", ".", "ofNullable", "(", "value", "=", "=", "null", "?", "element", "(", ")", ".", "getAnnotation", "(", "type", ")", ":", "value", ")", ";", "}", "</s>"]
["<s>", "Map", "<", "Class", "<", "?", "extends", "Annotation", ">", ",", "Annotation", ">", "annotations", "(", ")", ";", "</s>"]
["<s>", "ModelGenerator", "(", "ProcessingEnvironment", "processingEnvironment", ",", "String", "packageName", ",", "Collection", "<", "?", "extends", "EntityDescriptor", ">", "entities", ")", "{", "this", ".", "processingEnvironment", "=", "processingEnvironment", ";", "this", ".", "packageName", "=", "packageName", ";", "this", ".", "entities", "=", "entities", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "generate", "(", ")", "throws", "IOException", "{", "ClassName", "typeName", "=", "ClassName", ".", "get", "(", "packageName", ",", "\"", "<STR_LIT>", "\"", ")", ";", "TypeSpec", ".", "Builder", "type", "=", "TypeSpec", ".", "classBuilder", "(", "typeName", ")", ".", "addModifiers", "(", "Modifier", ".", "PUBLIC", ")", ".", "addMethod", "(", "MethodSpec", ".", "constructorBuilder", "(", ")", ".", "addModifiers", "(", "Modifier", ".", "PRIVATE", ")", ".", "build", "(", ")", ")", ";", "CodeGeneration", ".", "addGeneratedAnnotation", "(", "processingEnvironment", ",", "type", ")", ";", "Map", "<", "String", ",", "Set", "<", "EntityDescriptor", ">", ">", "models", "=", "new", "HashMap", "<", ">", "(", ")", ";", "entities", ".", "forEach", "(", "entity", "-", ">", "models", ".", "computeIfAbsent", "(", "entity", ".", "modelName", "(", ")", ",", "key", "-", ">", "new", "HashSet", "<", ">", "(", ")", ")", ".", "add", "(", "entity", ")", ")", ";", "for", "(", "String", "model", ":", "models", ".", "keySet", "(", ")", ")", "{", "Set", "<", "EntityDescriptor", ">", "types", "=", "models", ".", "get", "(", "model", ")", ";", "FieldSpec", ".", "Builder", "field", "=", "FieldSpec", ".", "builder", "(", "ClassName", ".", "get", "(", "EntityModel", ".", "class", ")", ",", "model", ".", "toUpperCase", "(", ")", ",", "Modifier", ".", "PUBLIC", ",", "Modifier", ".", "STATIC", ",", "Modifier", ".", "FINAL", ")", ";", "CodeBlock", ".", "Builder", "fieldType", "=", "CodeBlock", ".", "builder", "(", ")", ";", "fieldType", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "ClassName", ".", "get", "(", "EntityModelBuilder", ".", "class", ")", ",", "model", ")", ";", "types", ".", "forEach", "(", "e", "-", ">", "fieldType", ".", "add", "(", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "ClassName", ".", "bestGuess", "(", "e", ".", "typeName", "(", ")", ".", "toString", "(", ")", ")", ",", "EntityGenerator", ".", "TYPE_NAME", ")", ")", ";", "fieldType", ".", "add", "(", "\"", "<STR_LIT>", "\"", ")", ";", "field", ".", "initializer", "(", "\"", "<STR_LIT>", "\"", ",", "fieldType", ".", "build", "(", ")", ")", ";", "type", ".", "addField", "(", "field", ".", "build", "(", ")", ")", ";", "}", "CodeGeneration", ".", "writeType", "(", "processingEnvironment", ",", "typeName", ".", "packageName", "(", ")", ",", "type", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "Element", "element", "(", ")", ";", "</s>"]
["<s>", "TypeMirror", "typeMirror", "(", ")", ";", "</s>"]
["<s>", "String", "name", "(", ")", ";", "</s>"]
["<s>", "Class", "<", "?", "extends", "AttributeBuilder", ">", "builderClass", "(", ")", ";", "</s>"]
["<s>", "String", "collate", "(", ")", ";", "</s>"]
["<s>", "String", "converterName", "(", ")", ";", "</s>"]
["<s>", "Integer", "columnLength", "(", ")", ";", "</s>"]
["<s>", "String", "defaultValue", "(", ")", ";", "</s>"]
["<s>", "String", "fieldName", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "String", ">", "indexNames", "(", ")", ";", "</s>"]
["<s>", "String", "getterName", "(", ")", ";", "</s>"]
["<s>", "String", "setterName", "(", ")", ";", "</s>"]
["<s>", "boolean", "isForeignKey", "(", ")", ";", "</s>"]
["<s>", "boolean", "isGenerated", "(", ")", ";", "</s>"]
["<s>", "boolean", "isKey", "(", ")", ";", "</s>"]
["<s>", "boolean", "isLazy", "(", ")", ";", "</s>"]
["<s>", "boolean", "isEmbedded", "(", ")", ";", "</s>"]
["<s>", "boolean", "isIndexed", "(", ")", ";", "</s>"]
["<s>", "boolean", "isIterable", "(", ")", ";", "</s>"]
["<s>", "boolean", "isMap", "(", ")", ";", "</s>"]
["<s>", "boolean", "isNullable", "(", ")", ";", "</s>"]
["<s>", "boolean", "isOptional", "(", ")", ";", "</s>"]
["<s>", "boolean", "isReadOnly", "(", ")", ";", "</s>"]
["<s>", "boolean", "isTransient", "(", ")", ";", "</s>"]
["<s>", "boolean", "isUnique", "(", ")", ";", "</s>"]
["<s>", "boolean", "isVersion", "(", ")", ";", "</s>"]
["<s>", "Cardinality", "cardinality", "(", ")", ";", "</s>"]
["<s>", "Optional", "<", "AssociativeEntityDescriptor", ">", "associativeEntity", "(", ")", ";", "</s>"]
["<s>", "ReferentialAction", "deleteAction", "(", ")", ";", "</s>"]
["<s>", "ReferentialAction", "updateAction", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "CascadeAction", ">", "cascadeActions", "(", ")", ";", "</s>"]
["<s>", "String", "mappedBy", "(", ")", ";", "</s>"]
["<s>", "String", "orderBy", "(", ")", ";", "</s>"]
["<s>", "Order", "orderByDirection", "(", ")", ";", "</s>"]
["<s>", "String", "referencedColumn", "(", ")", ";", "</s>"]
["<s>", "String", "referencedType", "(", ")", ";", "</s>"]
["<s>", "String", "referencedTable", "(", ")", ";", "</s>"]
["<s>", "EntityPartGenerator", "(", "ProcessingEnvironment", "processingEnv", ",", "EntityGraph", "graph", ",", "EntityDescriptor", "entity", ")", "{", "this", ".", "processingEnv", "=", "processingEnv", ";", "this", ".", "graph", "=", "graph", ";", "this", ".", "entity", "=", "entity", ";", "this", ".", "elements", "=", "processingEnv", ".", "getElementUtils", "(", ")", ";", "this", ".", "types", "=", "processingEnv", ".", "getTypeUtils", "(", ")", ";", "nameResolver", "=", "new", "EntityNameResolver", "(", "graph", ")", ";", "attributeNames", "=", "new", "HashSet", "<", ">", "(", ")", ";", "expressionNames", "=", "new", "HashSet", "<", ">", "(", ")", ";", "typeElement", "=", "entity", ".", "element", "(", ")", ";", "typeName", "=", "nameResolver", ".", "typeNameOf", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "static", "String", "propertyStateFieldName", "(", "AttributeDescriptor", "attribute", ")", "{", "return", "\"", "<STR_LIT:$>", "\"", "+", "attribute", ".", "fieldName", "(", ")", "+", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "TypeName", "boxedTypeName", "(", "TypeMirror", "typeMirror", ")", "{", "if", "(", "typeMirror", ".", "getKind", "(", ")", ".", "isPrimitive", "(", ")", ")", "{", "return", "TypeName", ".", "get", "(", "types", ".", "boxedClass", "(", "(", "PrimitiveType", ")", "typeMirror", ")", ".", "asType", "(", ")", ")", ";", "}", "return", "TypeName", ".", "get", "(", "typeMirror", ")", ";", "}", "</s>"]
["<s>", "ParameterizedTypeName", "parameterizedCollectionName", "(", "TypeMirror", "typeMirror", ")", "{", "TypeMirror", "genericType", "=", "tryFirstTypeArgument", "(", "typeMirror", ")", ";", "TypeName", "elementName", "=", "nameResolver", ".", "tryGeneratedTypeName", "(", "genericType", ")", ";", "TypeElement", "collectionElement", "=", "(", "TypeElement", ")", "types", ".", "asElement", "(", "typeMirror", ")", ";", "ClassName", "collectionName", "=", "ClassName", ".", "get", "(", "collectionElement", ")", ";", "return", "ParameterizedTypeName", ".", "get", "(", "collectionName", ",", "elementName", ")", ";", "}", "</s>"]
["<s>", "static", "TypeMirror", "tryFirstTypeArgument", "(", "TypeMirror", "typeMirror", ")", "{", "List", "<", "TypeMirror", ">", "args", "=", "Mirrors", ".", "listGenericTypeArguments", "(", "typeMirror", ")", ";", "return", "args", ".", "isEmpty", "(", ")", "?", "typeMirror", ":", "args", ".", "get", "(", "0", ")", ";", "}", "</s>"]
["<s>", "static", "ParameterizedTypeName", "parameterizedTypeName", "(", "Class", "<", "?", ">", "rawType", ",", "TypeName", ".", ".", ".", "typeArguments", ")", "{", "return", "ParameterizedTypeName", ".", "get", "(", "ClassName", ".", "get", "(", "rawType", ")", ",", "typeArguments", ")", ";", "}", "</s>"]
["<s>", "void", "generate", "(", "EntityDescriptor", "entity", ",", "TypeSpec", ".", "Builder", "builder", ")", ";", "</s>"]
["<s>", "ElementValidator", "(", "Element", "element", ",", "ProcessingEnvironment", "processingEnvironment", ")", "{", "this", ".", "element", "=", "element", ";", "this", ".", "messager", "=", "processingEnvironment", ".", "getMessager", "(", ")", ";", "errors", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "void", "error", "(", "String", "message", ")", "{", "messager", ".", "printMessage", "(", "Diagnostic", ".", "Kind", ".", "ERROR", ",", "message", ",", "element", ")", ";", "errors", ".", "put", "(", "element", ",", "message", ")", ";", "}", "</s>"]
["<s>", "void", "error", "(", "String", "message", ",", "Class", "<", "?", "extends", "Annotation", ">", "annotation", ")", "{", "printMessage", "(", "annotation", ",", "Diagnostic", ".", "Kind", ".", "ERROR", ",", "message", ")", ";", "errors", ".", "put", "(", "element", ",", "message", ")", ";", "}", "</s>"]
["<s>", "void", "warning", "(", "String", "message", ")", "{", "hasWarnings", "=", "true", ";", "messager", ".", "printMessage", "(", "Diagnostic", ".", "Kind", ".", "WARNING", ",", "message", ",", "element", ")", ";", "}", "</s>"]
["<s>", "void", "warning", "(", "String", "message", ",", "Class", "<", "?", "extends", "Annotation", ">", "annotation", ")", "{", "hasWarnings", "=", "true", ";", "printMessage", "(", "annotation", ",", "Diagnostic", ".", "Kind", ".", "WARNING", ",", "message", ")", ";", "}", "</s>"]
["<s>", "private", "void", "printMessage", "(", "Class", "<", "?", "extends", "Annotation", ">", "annotation", ",", "Diagnostic", ".", "Kind", "kind", ",", "String", "message", ")", "{", "String", "name", "=", "annotation", ".", "getName", "(", ")", ";", "Optional", "<", "?", "extends", "AnnotationMirror", ">", "mirror", "=", "Mirrors", ".", "findAnnotationMirror", "(", "element", ",", "name", ")", ";", "if", "(", "mirror", ".", "isPresent", "(", ")", ")", "{", "messager", ".", "printMessage", "(", "kind", ",", "message", ",", "element", ",", "mirror", ".", "get", "(", ")", ")", ";", "}", "else", "{", "messager", ".", "printMessage", "(", "kind", ",", "message", ")", ";", "}", "}", "</s>"]
["<s>", "boolean", "hasWarnings", "(", ")", "{", "return", "hasWarnings", ";", "}", "</s>"]
["<s>", "boolean", "hasErrors", "(", ")", "{", "return", "!", "errors", ".", "values", "(", ")", ".", "isEmpty", "(", ")", ";", "}", "</s>"]
["<s>", "static", "boolean", "hasErrors", "(", "Set", "<", "ElementValidator", ">", "validators", ")", "{", "for", "(", "ElementValidator", "validator", ":", "validators", ")", "{", "if", "(", "validator", ".", "hasErrors", "(", ")", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", ")", ";", "errors", ".", "entrySet", "(", ")", ".", "forEach", "(", "entry", "-", ">", "sb", ".", "append", "(", "entry", ".", "getKey", "(", ")", ".", "getSimpleName", "(", ")", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "append", "(", "entry", ".", "getValue", "(", ")", ")", ")", ";", "return", "sb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "EntityNameResolver", "(", "EntityGraph", "graph", ")", "{", "this", ".", "graph", "=", "graph", ";", "}", "</s>"]
["<s>", "ClassName", "typeNameOf", "(", "EntityDescriptor", "type", ")", "{", "return", "ClassName", ".", "bestGuess", "(", "type", ".", "typeName", "(", ")", ".", "toString", "(", ")", ")", ";", "}", "</s>"]
["<s>", "ClassName", "embeddedTypeNameOf", "(", "EntityDescriptor", "embedded", ",", "EntityDescriptor", "parent", ")", "{", "String", "className", "=", "parent", ".", "typeName", "(", ")", ".", "className", "(", ")", "+", "\"", "<STR_LIT:_>", "\"", "+", "embedded", ".", "typeName", "(", ")", ".", "className", "(", ")", ";", "return", "ClassName", ".", "get", "(", "parent", ".", "typeName", "(", ")", ".", "packageName", "(", ")", ",", "className", ")", ";", "}", "</s>"]
["<s>", "TypeName", "tryGeneratedTypeName", "(", "TypeMirror", "typeMirror", ")", "{", "Optional", "<", "ClassName", ">", "name", "=", "generatedTypeNameOf", "(", "typeMirror", ")", ";", "return", "name", ".", "isPresent", "(", ")", "?", "name", ".", "get", "(", ")", ":", "TypeName", ".", "get", "(", "typeMirror", ")", ";", "}", "</s>"]
["<s>", "Optional", "<", "ClassName", ">", "generatedTypeNameOf", "(", "TypeMirror", "typeMirror", ")", "{", "return", "graph", ".", "entities", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "entity", "-", ">", "entity", ".", "typeName", "(", ")", ".", "className", "(", ")", ".", "equals", "(", "typeMirror", ".", "toString", "(", ")", ")", ")", ".", "map", "(", "this", ":", ":", "typeNameOf", ")", ".", "findFirst", "(", ")", ";", "}", "</s>"]
["<s>", "Optional", "<", "ClassName", ">", "generatedTypeNameOf", "(", "TypeElement", "typeElement", ")", "{", "return", "graph", ".", "entities", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "entity", "-", ">", "entity", ".", "element", "(", ")", ".", "getQualifiedName", "(", ")", ".", "equals", "(", "typeElement", ".", "getQualifiedName", "(", ")", ")", ")", ".", "map", "(", "this", ":", ":", "typeNameOf", ")", ".", "findFirst", "(", ")", ";", "}", "</s>"]
["<s>", "ClassName", "joinEntityName", "(", "AssociativeEntityDescriptor", "descriptor", ",", "EntityDescriptor", "a", ",", "EntityDescriptor", "b", ")", "{", "if", "(", "descriptor", ".", "type", "(", ")", ".", "isPresent", "(", ")", ")", "{", "return", "descriptor", ".", "type", "(", ")", ".", "flatMap", "(", "this", ":", ":", "generatedTypeNameOf", ")", ".", "orElse", "(", "ClassName", ".", "bestGuess", "(", "descriptor", ".", "name", "(", ")", ")", ")", ";", "}", "String", "className", ";", "if", "(", "Names", ".", "isEmpty", "(", "descriptor", ".", "name", "(", ")", ")", ")", "{", "className", "=", "a", ".", "typeName", "(", ")", ".", "className", "(", ")", "+", "\"", "<STR_LIT:_>", "\"", "+", "b", ".", "typeName", "(", ")", ".", "className", "(", ")", ";", "}", "else", "{", "className", "=", "Names", ".", "upperCaseFirst", "(", "descriptor", ".", "name", "(", ")", ")", ";", "}", "return", "ClassName", ".", "get", "(", "a", ".", "typeName", "(", ")", ".", "packageName", "(", ")", ",", "className", ")", ";", "}", "</s>"]
["<s>", "Transaction", "transaction", "(", ")", ";", "</s>"]
["<s>", "<", "V", ">", "R", "runInTransaction", "(", "Callable", "<", "V", ">", "callable", ")", ";", "</s>"]
["<s>", "<", "V", ">", "R", "runInTransaction", "(", "Callable", "<", "V", ">", "callable", ",", "TransactionIsolation", "isolation", ")", ";", "</s>"]
["<s>", "public", "RollbackException", "(", "Throwable", "throwable", ")", "{", "super", "(", "throwable", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "void", "close", "(", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "R", "insert", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "R", "insert", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "<", "K", ",", "E", "extends", "T", ">", "R", "insert", "(", "E", "entity", ",", "Class", "<", "K", ">", "keyClass", ")", ";", "</s>"]
["<s>", "<", "K", ",", "E", "extends", "T", ">", "R", "insert", "(", "Iterable", "<", "E", ">", "entities", ",", "Class", "<", "K", ">", "keyClass", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "R", "update", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "R", "update", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "R", "upsert", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "R", "upsert", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "R", "refresh", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "R", "refresh", "(", "E", "entity", ",", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "R", "refresh", "(", "Iterable", "<", "E", ">", "entities", ",", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "R", "refreshAll", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "R", "delete", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "R", "delete", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "<", "E", "extends", "T", ",", "K", ">", "R", "findByKey", "(", "Class", "<", "E", ">", "type", ",", "K", "key", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "BlockingEntityStore", "<", "T", ">", "toBlocking", "(", ")", ";", "</s>"]
["<s>", "void", "beforeBegin", "(", "TransactionIsolation", "isolation", ")", ";", "</s>"]
["<s>", "void", "afterBegin", "(", "TransactionIsolation", "isolation", ")", ";", "</s>"]
["<s>", "void", "beforeCommit", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", ";", "</s>"]
["<s>", "void", "afterCommit", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", ";", "</s>"]
["<s>", "void", "beforeRollback", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", ";", "</s>"]
["<s>", "void", "afterRollback", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "E", "extends", "T", ">", "E", "insert", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "E", "extends", "T", ">", "Iterable", "<", "E", ">", "insert", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "K", ",", "E", "extends", "T", ">", "K", "insert", "(", "E", "entity", ",", "Class", "<", "K", ">", "keyClass", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "K", ",", "E", "extends", "T", ">", "Iterable", "<", "K", ">", "insert", "(", "Iterable", "<", "E", ">", "entities", ",", "Class", "<", "K", ">", "keyClass", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "E", "extends", "T", ">", "E", "update", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "E", "extends", "T", ">", "Iterable", "<", "E", ">", "update", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "E", "extends", "T", ">", "E", "upsert", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "E", "extends", "T", ">", "Iterable", "<", "E", ">", "upsert", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "E", "extends", "T", ">", "E", "refresh", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "E", "extends", "T", ">", "E", "refresh", "(", "E", "entity", ",", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "E", "extends", "T", ">", "Iterable", "<", "E", ">", "refresh", "(", "Iterable", "<", "E", ">", "entities", ",", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "E", "extends", "T", ">", "E", "refreshAll", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "E", "extends", "T", ">", "Void", "delete", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "E", "extends", "T", ">", "Void", "delete", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ",", "K", ">", "E", "findByKey", "(", "Class", "<", "E", ">", "type", ",", "K", "key", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "V", ">", "V", "runInTransaction", "(", "Callable", "<", "V", ">", "callable", ")", ";", "</s>"]
["<s>", "@", "Override", "<", "V", ">", "V", "runInTransaction", "(", "Callable", "<", "V", ">", "callable", ",", "TransactionIsolation", "isolation", ")", ";", "</s>"]
["<s>", "Class", "<", "A", ">", "getMappedType", "(", ")", ";", "</s>"]
["<s>", "Class", "<", "B", ">", "getPersistedType", "(", ")", ";", "</s>"]
["<s>", "@", "Nullable", "Integer", "getPersistedSize", "(", ")", ";", "</s>"]
["<s>", "B", "convertToPersisted", "(", "A", "value", ")", ";", "</s>"]
["<s>", "A", "convertToMapped", "(", "Class", "<", "?", "extends", "A", ">", "type", ",", "@", "Nullable", "B", "value", ")", ";", "</s>"]
["<s>", "<", "T", ">", "T", "get", "(", "Class", "<", "T", ">", "type", ",", "Object", "key", ")", ";", "</s>"]
["<s>", "<", "T", ">", "void", "put", "(", "Class", "<", "T", ">", "type", ",", "Object", "key", ",", "T", "value", ")", ";", "</s>"]
["<s>", "boolean", "contains", "(", "Class", "<", "?", ">", "type", ",", "Object", "key", ")", ";", "</s>"]
["<s>", "void", "invalidate", "(", "Class", "<", "?", ">", "type", ")", ";", "</s>"]
["<s>", "void", "invalidate", "(", "Class", "<", "?", ">", "type", ",", "Object", "key", ")", ";", "</s>"]
["<s>", "void", "clear", "(", ")", ";", "</s>"]
["<s>", "public", "TransactionException", "(", "String", "message", ")", "{", "super", "(", "message", ")", ";", "}", "</s>"]
["<s>", "public", "TransactionException", "(", "Throwable", "throwable", ")", "{", "super", "(", "throwable", ")", ";", "}", "</s>"]
["<s>", "public", "PersistenceException", "(", ")", "{", "}", "</s>"]
["<s>", "public", "PersistenceException", "(", "Throwable", "throwable", ")", "{", "super", "(", "throwable", ")", ";", "}", "</s>"]
["<s>", "public", "PersistenceException", "(", "String", "message", ",", "Throwable", "throwable", ")", "{", "super", "(", "message", ",", "throwable", ")", ";", "}", "</s>"]
["<s>", "public", "PersistenceException", "(", "String", "message", ")", "{", "super", "(", "message", ")", ";", "}", "</s>"]
["<s>", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "Selection", "<", "Result", "<", "E", ">", ">", "select", "(", "Class", "<", "E", ">", "type", ",", "QueryAttribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "Selection", "<", "Result", "<", "E", ">", ">", "select", "(", "Class", "<", "E", ">", "type", ",", "Set", "<", "?", "extends", "QueryAttribute", "<", "E", ",", "?", ">", ">", "attributes", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "Insertion", "<", "Result", "<", "Tuple", ">", ">", "insert", "(", "Class", "<", "E", ">", "type", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "Update", "<", "Scalar", "<", "Integer", ">", ">", "update", "(", "Class", "<", "E", ">", "type", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "Deletion", "<", "Scalar", "<", "Integer", ">", ">", "delete", "(", "Class", "<", "E", ">", "type", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "Selection", "<", "Scalar", "<", "Integer", ">", ">", "count", "(", "Class", "<", "E", ">", "type", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "Selection", "<", "Scalar", "<", "Integer", ">", ">", "count", "(", "QueryAttribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "Selection", "<", "Result", "<", "Tuple", ">", ">", "select", "(", "Expression", "<", "?", ">", ".", ".", ".", "expressions", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "Selection", "<", "Result", "<", "Tuple", ">", ">", "select", "(", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "expressions", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "Update", "<", "Scalar", "<", "Integer", ">", ">", "update", "(", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "Deletion", "<", "Scalar", "<", "Integer", ">", ">", "delete", "(", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "Result", "<", "Tuple", ">", "raw", "(", "String", "query", ",", "Object", ".", ".", ".", "parameters", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "Result", "<", "E", ">", "raw", "(", "Class", "<", "E", ">", "type", ",", "String", "query", ",", "Object", ".", ".", ".", "parameters", ")", ";", "</s>"]
["<s>", "Transaction", "begin", "(", ")", ";", "</s>"]
["<s>", "Transaction", "begin", "(", "TransactionIsolation", "isolation", ")", ";", "</s>"]
["<s>", "void", "commit", "(", ")", ";", "</s>"]
["<s>", "void", "rollback", "(", ")", ";", "</s>"]
["<s>", "boolean", "active", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "void", "close", "(", ")", ";", "</s>"]
["<s>", "float", "getFloat", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "void", "setFloat", "(", "E", "entity", ",", "float", "value", ")", ";", "</s>"]
["<s>", "byte", "getByte", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "void", "setByte", "(", "E", "entity", ",", "byte", "value", ")", ";", "</s>"]
["<s>", "short", "getShort", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "void", "setShort", "(", "E", "entity", ",", "short", "value", ")", ";", "</s>"]
["<s>", "CollectionChanges", "(", "EntityProxy", "<", "T", ">", "proxy", ",", "Attribute", "<", "T", ",", "?", ">", "attribute", ")", "{", "this", ".", "proxy", "=", "proxy", ";", "this", ".", "attribute", "=", "attribute", ";", "added", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "removed", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "public", "Collection", "<", "E", ">", "addedElements", "(", ")", "{", "return", "added", ";", "}", "</s>"]
["<s>", "public", "Collection", "<", "E", ">", "removedElements", "(", ")", "{", "return", "removed", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "elementAdded", "(", "E", "element", ")", "{", "Objects", ".", "requireNotNull", "(", "element", ")", ";", "if", "(", "added", ".", "add", "(", "element", ")", ")", "{", "proxy", ".", "setState", "(", "attribute", ",", "PropertyState", ".", "MODIFIED", ")", ";", "}", "removed", ".", "remove", "(", "element", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "elementRemoved", "(", "E", "element", ")", "{", "Objects", ".", "requireNotNull", "(", "element", ")", ";", "added", ".", "remove", "(", "element", ")", ";", "if", "(", "removed", ".", "add", "(", "element", ")", ")", "{", "proxy", ".", "setState", "(", "attribute", ",", "PropertyState", ".", "MODIFIED", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clear", "(", ")", "{", "added", ".", "clear", "(", ")", ";", "removed", ".", "clear", "(", ")", ";", "}", "</s>"]
["<s>", "V", "initialize", "(", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "V", ">", "attribute", ")", ";", "</s>"]
["<s>", "boolean", "getBoolean", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "void", "setBoolean", "(", "E", "entity", ",", "boolean", "value", ")", ";", "</s>"]
["<s>", "public", "CompositeKey", "(", "Map", "<", "?", "extends", "Attribute", "<", "T", ",", "?", ">", ",", "?", ">", "values", ")", "{", "super", "(", "values", ".", "size", "(", ")", ")", ";", "if", "(", "values", ".", "isEmpty", "(", ")", ")", "{", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "int", "index", "=", "0", ";", "for", "(", "Map", ".", "Entry", "<", "?", "extends", "Attribute", "<", "T", ",", "?", ">", ",", "?", ">", "entry", ":", "values", ".", "entrySet", "(", ")", ")", "{", "set", "(", "index", "+", "+", ",", "(", "Expression", "<", "?", ">", ")", "entry", ".", "getKey", "(", ")", ",", "entry", ".", "getValue", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "V", "get", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "void", "set", "(", "E", "entity", ",", "V", "value", ")", ";", "</s>"]
["<s>", "int", "getInt", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "void", "setInt", "(", "E", "entity", ",", "int", "value", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "V", "initialize", "(", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "V", ">", "attribute", ")", "{", "return", "initialize", "(", "proxy", ",", "attribute", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "U", ">", "V", "initialize", "(", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "Supplier", "<", "Result", "<", "U", ">", ">", "query", ")", "{", "Class", "<", "?", ">", "type", "=", "attribute", ".", "getClassType", "(", ")", ";", "CollectionChanges", "<", "E", ",", "U", ">", "changes", "=", "new", "CollectionChanges", "<", ">", "(", "proxy", ",", "attribute", ")", ";", "Result", "<", "U", ">", "result", "=", "query", "=", "=", "null", "?", "null", ":", "query", ".", "get", "(", ")", ";", "Object", "collection", ";", "if", "(", "Iterable", ".", "class", ".", "isAssignableFrom", "(", "type", ")", ")", "{", "collection", "=", "new", "ModifiableResult", "<", ">", "(", "result", ",", "changes", ")", ";", "}", "else", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", "+", "type", ")", ";", "}", "return", "attribute", ".", "getClassType", "(", ")", ".", "cast", "(", "collection", ")", ";", "}", "</s>"]
["<s>", "void", "preDelete", "(", "T", "entity", ")", ";", "</s>"]
["<s>", "public", "EntityProxy", "(", "E", "entity", ",", "Type", "<", "E", ">", "type", ")", "{", "this", ".", "entity", "=", "entity", ";", "this", ".", "type", "=", "type", ";", "this", ".", "stateless", "=", "type", ".", "isStateless", "(", ")", ";", "}", "</s>"]
["<s>", "private", "PropertyState", "loadProperty", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ")", "{", "if", "(", "!", "stateless", ")", "{", "PropertyState", "state", "=", "getState", "(", "attribute", ")", ";", "if", "(", "state", "=", "=", "PropertyState", ".", "FETCH", "&", "&", "loader", "!", "=", "null", ")", "{", "loader", ".", "load", "(", "entity", ",", "this", ",", "attribute", ")", ";", "}", "return", "state", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "V", "get", "(", "Attribute", "<", "E", ",", "V", ">", "attribute", ")", "{", "return", "get", "(", "attribute", ",", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "V", "get", "(", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "boolean", "fetch", ")", "{", "PropertyState", "state", "=", "fetch", "?", "loadProperty", "(", "attribute", ")", ":", "getState", "(", "attribute", ")", ";", "V", "value", "=", "attribute", ".", "getProperty", "(", ")", ".", "get", "(", "entity", ")", ";", "if", "(", "value", "=", "=", "null", "&", "&", "(", "state", "=", "=", "PropertyState", ".", "FETCH", "|", "|", "stateless", ")", "&", "&", "attribute", ".", "getInitializer", "(", ")", "!", "=", "null", ")", "{", "value", "=", "attribute", ".", "getInitializer", "(", ")", ".", "initialize", "(", "this", ",", "attribute", ")", ";", "set", "(", "attribute", ",", "value", ",", "PropertyState", ".", "FETCH", ")", ";", "}", "return", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getInt", "(", "Attribute", "<", "E", ",", "Integer", ">", "attribute", ")", "{", "IntProperty", "<", "E", ">", "property", "=", "(", "IntProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "loadProperty", "(", "attribute", ")", ";", "return", "property", ".", "getInt", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "getLong", "(", "Attribute", "<", "E", ",", "Long", ">", "attribute", ")", "{", "LongProperty", "<", "E", ">", "property", "=", "(", "LongProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "loadProperty", "(", "attribute", ")", ";", "return", "property", ".", "getLong", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "short", "getShort", "(", "Attribute", "<", "E", ",", "Short", ">", "attribute", ")", "{", "ShortProperty", "<", "E", ">", "property", "=", "(", "ShortProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "loadProperty", "(", "attribute", ")", ";", "return", "property", ".", "getShort", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "getByte", "(", "Attribute", "<", "E", ",", "Byte", ">", "attribute", ")", "{", "ByteProperty", "<", "E", ">", "property", "=", "(", "ByteProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "loadProperty", "(", "attribute", ")", ";", "return", "property", ".", "getByte", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "float", "getFloat", "(", "Attribute", "<", "E", ",", "Float", ">", "attribute", ")", "{", "FloatProperty", "<", "E", ">", "property", "=", "(", "FloatProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "loadProperty", "(", "attribute", ")", ";", "return", "property", ".", "getFloat", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "double", "getDouble", "(", "Attribute", "<", "E", ",", "Double", ">", "attribute", ")", "{", "DoubleProperty", "<", "E", ">", "property", "=", "(", "DoubleProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "loadProperty", "(", "attribute", ")", ";", "return", "property", ".", "getDouble", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getBoolean", "(", "Attribute", "<", "E", ",", "Boolean", ">", "attribute", ")", "{", "BooleanProperty", "<", "E", ">", "property", "=", "(", "BooleanProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "loadProperty", "(", "attribute", ")", ";", "return", "property", ".", "getBoolean", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "void", "set", "(", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "V", "value", ")", "{", "set", "(", "attribute", ",", "value", ",", "PropertyState", ".", "MODIFIED", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "void", "set", "(", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "V", "value", ",", "PropertyState", "state", ")", "{", "attribute", ".", "getProperty", "(", ")", ".", "set", "(", "entity", ",", "value", ")", ";", "setState", "(", "attribute", ",", "state", ")", ";", "checkRegenerateKey", "(", "attribute", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setObject", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ",", "Object", "value", ",", "PropertyState", "state", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Property", "<", "E", ",", "Object", ">", "property", "=", "(", "Property", "<", "E", ",", "Object", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "property", ".", "set", "(", "entity", ",", "value", ")", ";", "setState", "(", "attribute", ",", "state", ")", ";", "checkRegenerateKey", "(", "attribute", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setInt", "(", "Attribute", "<", "E", ",", "Integer", ">", "attribute", ",", "int", "value", ",", "PropertyState", "state", ")", "{", "IntProperty", "<", "E", ">", "property", "=", "(", "IntProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "property", ".", "setInt", "(", "entity", ",", "value", ")", ";", "setState", "(", "attribute", ",", "state", ")", ";", "checkRegenerateKey", "(", "attribute", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setLong", "(", "Attribute", "<", "E", ",", "Long", ">", "attribute", ",", "long", "value", ",", "PropertyState", "state", ")", "{", "LongProperty", "<", "E", ">", "property", "=", "(", "LongProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "property", ".", "setLong", "(", "entity", ",", "value", ")", ";", "setState", "(", "attribute", ",", "state", ")", ";", "checkRegenerateKey", "(", "attribute", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setShort", "(", "Attribute", "<", "E", ",", "Short", ">", "attribute", ",", "short", "value", ",", "PropertyState", "state", ")", "{", "ShortProperty", "<", "E", ">", "property", "=", "(", "ShortProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "property", ".", "setShort", "(", "entity", ",", "value", ")", ";", "setState", "(", "attribute", ",", "state", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setByte", "(", "Attribute", "<", "E", ",", "Byte", ">", "attribute", ",", "byte", "value", ",", "PropertyState", "state", ")", "{", "ByteProperty", "<", "E", ">", "property", "=", "(", "ByteProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "property", ".", "setByte", "(", "entity", ",", "value", ")", ";", "setState", "(", "attribute", ",", "state", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFloat", "(", "Attribute", "<", "E", ",", "Float", ">", "attribute", ",", "float", "value", ",", "PropertyState", "state", ")", "{", "FloatProperty", "<", "E", ">", "property", "=", "(", "FloatProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "property", ".", "setFloat", "(", "entity", ",", "value", ")", ";", "setState", "(", "attribute", ",", "state", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setDouble", "(", "Attribute", "<", "E", ",", "Double", ">", "attribute", ",", "double", "value", ",", "PropertyState", "state", ")", "{", "DoubleProperty", "<", "E", ">", "property", "=", "(", "DoubleProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "property", ".", "setDouble", "(", "entity", ",", "value", ")", ";", "setState", "(", "attribute", ",", "state", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBoolean", "(", "Attribute", "<", "E", ",", "Boolean", ">", "attribute", ",", "boolean", "value", ",", "PropertyState", "state", ")", "{", "BooleanProperty", "<", "E", ">", "property", "=", "(", "BooleanProperty", "<", "E", ">", ")", "attribute", ".", "getProperty", "(", ")", ";", "property", ".", "setBoolean", "(", "entity", ",", "value", ")", ";", "setState", "(", "attribute", ",", "state", ")", ";", "}", "</s>"]
["<s>", "private", "void", "checkRegenerateKey", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ")", "{", "if", "(", "attribute", ".", "isKey", "(", ")", ")", "{", "regenerateKey", "=", "true", ";", "}", "}", "</s>"]
["<s>", "public", "void", "setState", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ",", "PropertyState", "state", ")", "{", "if", "(", "!", "stateless", ")", "{", "attribute", ".", "getPropertyState", "(", ")", ".", "set", "(", "entity", ",", "state", ")", ";", "}", "}", "</s>"]
["<s>", "public", "PropertyState", "getState", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ")", "{", "if", "(", "stateless", ")", "{", "return", "null", ";", "}", "PropertyState", "state", "=", "attribute", ".", "getPropertyState", "(", ")", ".", "get", "(", "entity", ")", ";", "return", "state", "=", "=", "null", "?", "PropertyState", ".", "FETCH", ":", "state", ";", "}", "</s>"]
["<s>", "public", "Object", "key", "(", ")", "{", "if", "(", "regenerateKey", "|", "|", "key", "=", "=", "null", ")", "{", "if", "(", "type", ".", "getSingleKeyAttribute", "(", ")", "!", "=", "null", ")", "{", "key", "=", "get", "(", "type", ".", "getSingleKeyAttribute", "(", ")", ")", ";", "}", "else", "if", "(", "type", ".", "getKeyAttributes", "(", ")", ".", "size", "(", ")", ">", "1", ")", "{", "LinkedHashMap", "<", "Attribute", "<", "E", ",", "?", ">", ",", "Object", ">", "keys", "=", "new", "LinkedHashMap", "<", ">", "(", "type", ".", "getKeyAttributes", "(", ")", ".", "size", "(", ")", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getKeyAttributes", "(", ")", ")", "{", "keys", ".", "put", "(", "attribute", ",", "get", "(", "attribute", ")", ")", ";", "}", "key", "=", "new", "CompositeKey", "<", ">", "(", "keys", ")", ";", "}", "}", "return", "key", ";", "}", "</s>"]
["<s>", "public", "boolean", "isLinked", "(", ")", "{", "synchronized", "(", "syncObject", "(", ")", ")", "{", "return", "this", ".", "loader", "!", "=", "null", ";", "}", "}", "</s>"]
["<s>", "public", "void", "link", "(", "PropertyLoader", "<", "E", ">", "loader", ")", "{", "synchronized", "(", "syncObject", "(", ")", ")", "{", "this", ".", "loader", "=", "loader", ";", "}", "}", "</s>"]
["<s>", "public", "void", "unlink", "(", ")", "{", "synchronized", "(", "syncObject", "(", ")", ")", "{", "this", ".", "loader", "=", "null", ";", "}", "}", "</s>"]
["<s>", "public", "Type", "<", "E", ">", "type", "(", ")", "{", "return", "type", ";", "}", "</s>"]
["<s>", "public", "Object", "syncObject", "(", ")", "{", "return", "this", ";", "}", "</s>"]
["<s>", "public", "EntityStateEventListenable", "<", "E", ">", "modifyListeners", "(", ")", "{", "if", "(", "listeners", "=", "=", "null", ")", "{", "listeners", "=", "new", "CompositeEntityStateListener", "<", ">", "(", "entity", ")", ";", "}", "return", "listeners", ";", "}", "</s>"]
["<s>", "private", "EntityStateListener", "stateListener", "(", ")", "{", "return", "listeners", "=", "=", "null", "?", "EntityStateListener", ".", "EMPTY", ":", "listeners", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preUpdate", "(", ")", "{", "stateListener", "(", ")", ".", "preUpdate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postUpdate", "(", ")", "{", "stateListener", "(", ")", ".", "postUpdate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preInsert", "(", ")", "{", "stateListener", "(", ")", ".", "preInsert", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postInsert", "(", ")", "{", "stateListener", "(", ")", ".", "postInsert", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preDelete", "(", ")", "{", "stateListener", "(", ")", ".", "preDelete", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postDelete", "(", ")", "{", "stateListener", "(", ")", ".", "postDelete", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postLoad", "(", ")", "{", "stateListener", "(", ")", ".", "postLoad", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "EntityProxy", ")", "{", "EntityProxy", "other", "=", "(", "EntityProxy", ")", "obj", ";", "if", "(", "other", ".", "entity", ".", "getClass", "(", ")", ".", "equals", "(", "entity", ".", "getClass", "(", ")", ")", ")", "{", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "!", "attribute", ".", "isAssociation", "(", ")", ")", "{", "Object", "value", "=", "get", "(", "attribute", ",", "false", ")", ";", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Object", "otherValue", "=", "other", ".", "get", "(", "attribute", ",", "false", ")", ";", "if", "(", "!", "Objects", ".", "equals", "(", "value", ",", "otherValue", ")", ")", "{", "return", "false", ";", "}", "}", "}", "return", "true", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "int", "hash", "=", "<NUM_LIT:31>", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "!", "attribute", ".", "isAssociation", "(", ")", ")", "{", "hash", "=", "<NUM_LIT:31>", "*", "hash", "+", "Objects", ".", "hashCode", "(", "get", "(", "attribute", ",", "false", ")", ")", ";", "}", "}", "return", "hash", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", ")", ";", "sb", ".", "append", "(", "type", ".", "getName", "(", ")", ")", ";", "sb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "int", "index", "=", "0", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "index", ">", "0", ")", "{", "sb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "Object", "value", "=", "get", "(", "attribute", ",", "false", ")", ";", "sb", ".", "append", "(", "value", "=", "=", "null", "?", "\"", "<STR_LIT>", "\"", ":", "value", ".", "toString", "(", ")", ")", ";", "index", "+", "+", ";", "}", "sb", ".", "append", "(", "\"", "<STR_LIT:]>", "\"", ")", ";", "return", "sb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "double", "getDouble", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "void", "setDouble", "(", "E", "entity", ",", "double", "value", ")", ";", "</s>"]
["<s>", "void", "postUpdate", "(", "T", "entity", ")", ";", "</s>"]
["<s>", "<", "V", ">", "V", "get", "(", "Attribute", "<", "E", ",", "V", ">", "attribute", ")", ";", "</s>"]
["<s>", "<", "V", ">", "V", "get", "(", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "boolean", "fetch", ")", ";", "</s>"]
["<s>", "boolean", "getBoolean", "(", "Attribute", "<", "E", ",", "Boolean", ">", "attribute", ")", ";", "</s>"]
["<s>", "byte", "getByte", "(", "Attribute", "<", "E", ",", "Byte", ">", "attribute", ")", ";", "</s>"]
["<s>", "short", "getShort", "(", "Attribute", "<", "E", ",", "Short", ">", "attribute", ")", ";", "</s>"]
["<s>", "int", "getInt", "(", "Attribute", "<", "E", ",", "Integer", ">", "attribute", ")", ";", "</s>"]
["<s>", "long", "getLong", "(", "Attribute", "<", "E", ",", "Long", ">", "attribute", ")", ";", "</s>"]
["<s>", "float", "getFloat", "(", "Attribute", "<", "E", ",", "Float", ">", "attribute", ")", ";", "</s>"]
["<s>", "double", "getDouble", "(", "Attribute", "<", "E", ",", "Double", ">", "attribute", ")", ";", "</s>"]
["<s>", "void", "addPreInsertListener", "(", "PreInsertListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "addPreDeleteListener", "(", "PreDeleteListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "addPreUpdateListener", "(", "PreUpdateListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "addPostInsertListener", "(", "PostInsertListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "addPostDeleteListener", "(", "PostDeleteListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "addPostUpdateListener", "(", "PostUpdateListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "addPostLoadListener", "(", "PostLoadListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "removePreInsertListener", "(", "PreInsertListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "removePreDeleteListener", "(", "PreDeleteListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "removePreUpdateListener", "(", "PreUpdateListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "removePostInsertListener", "(", "PostInsertListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "removePostDeleteListener", "(", "PostDeleteListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "removePostUpdateListener", "(", "PostUpdateListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "removePostLoadListener", "(", "PostLoadListener", "<", "T", ">", "listener", ")", ";", "</s>"]
["<s>", "void", "postLoad", "(", "T", "entity", ")", ";", "</s>"]
["<s>", "void", "preInsert", "(", "T", "entity", ")", ";", "</s>"]
["<s>", "<", "V", ">", "void", "set", "(", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "V", "value", ")", ";", "</s>"]
["<s>", "<", "V", ">", "void", "set", "(", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "V", "value", ",", "PropertyState", "state", ")", ";", "</s>"]
["<s>", "void", "setObject", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ",", "Object", "value", ",", "PropertyState", "state", ")", ";", "</s>"]
["<s>", "void", "setBoolean", "(", "Attribute", "<", "E", ",", "Boolean", ">", "attribute", ",", "boolean", "value", ",", "PropertyState", "state", ")", ";", "</s>"]
["<s>", "void", "setByte", "(", "Attribute", "<", "E", ",", "Byte", ">", "attribute", ",", "byte", "value", ",", "PropertyState", "state", ")", ";", "</s>"]
["<s>", "void", "setShort", "(", "Attribute", "<", "E", ",", "Short", ">", "attribute", ",", "short", "value", ",", "PropertyState", "state", ")", ";", "</s>"]
["<s>", "void", "setInt", "(", "Attribute", "<", "E", ",", "Integer", ">", "attribute", ",", "int", "value", ",", "PropertyState", "state", ")", ";", "</s>"]
["<s>", "void", "setLong", "(", "Attribute", "<", "E", ",", "Long", ">", "attribute", ",", "long", "value", ",", "PropertyState", "state", ")", ";", "</s>"]
["<s>", "void", "setDouble", "(", "Attribute", "<", "E", ",", "Double", ">", "attribute", ",", "double", "value", ",", "PropertyState", "state", ")", ";", "</s>"]
["<s>", "void", "setFloat", "(", "Attribute", "<", "E", ",", "Float", ">", "attribute", ",", "float", "value", ",", "PropertyState", "state", ")", ";", "</s>"]
["<s>", "void", "preUpdate", "(", "T", "entity", ")", ";", "</s>"]
["<s>", "long", "getLong", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "void", "setLong", "(", "E", "entity", ",", "long", "value", ")", ";", "</s>"]
["<s>", "CompositeEntityStateListener", "(", "T", "entity", ")", "{", "this", ".", "entity", "=", "entity", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preUpdate", "(", ")", "{", "for", "(", "PreUpdateListener", "<", "T", ">", "listener", ":", "preUpdateListeners", ")", "{", "listener", ".", "preUpdate", "(", "entity", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postUpdate", "(", ")", "{", "for", "(", "PostUpdateListener", "<", "T", ">", "listener", ":", "postUpdateListeners", ")", "{", "listener", ".", "postUpdate", "(", "entity", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preInsert", "(", ")", "{", "for", "(", "PreInsertListener", "<", "T", ">", "listener", ":", "preInsertListeners", ")", "{", "listener", ".", "preInsert", "(", "entity", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postInsert", "(", ")", "{", "for", "(", "PostInsertListener", "<", "T", ">", "listener", ":", "postInsertListeners", ")", "{", "listener", ".", "postInsert", "(", "entity", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preDelete", "(", ")", "{", "for", "(", "PreDeleteListener", "<", "T", ">", "listener", ":", "preDeleteListeners", ")", "{", "listener", ".", "preDelete", "(", "entity", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postDelete", "(", ")", "{", "for", "(", "PostDeleteListener", "<", "T", ">", "listener", ":", "postDeleteListeners", ")", "{", "listener", ".", "postDelete", "(", "entity", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postLoad", "(", ")", "{", "for", "(", "PostLoadListener", "<", "T", ">", "listener", ":", "postLoadListeners", ")", "{", "listener", ".", "postLoad", "(", "entity", ")", ";", "}", "}", "</s>"]
["<s>", "void", "postInsert", "(", "T", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "V", "initialize", "(", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "V", ">", "attribute", ")", "{", "return", "initialize", "(", "proxy", ",", "attribute", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "U", ">", "V", "initialize", "(", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "Supplier", "<", "Result", "<", "U", ">", ">", "query", ")", "{", "Class", "<", "?", ">", "type", "=", "attribute", ".", "getClassType", "(", ")", ";", "CollectionChanges", "<", "E", ",", "U", ">", "changes", "=", "new", "CollectionChanges", "<", ">", "(", "proxy", ",", "attribute", ")", ";", "Result", "<", "U", ">", "result", "=", "query", "=", "=", "null", "?", "null", ":", "query", ".", "get", "(", ")", ";", "Collection", "<", "U", ">", "collection", ";", "if", "(", "type", "=", "=", "Set", ".", "class", ")", "{", "Set", "<", "U", ">", "set", "=", "attribute", ".", "getOrderByAttribute", "(", ")", "=", "=", "null", "?", "new", "HashSet", "<", "U", ">", "(", ")", ":", "new", "LinkedHashSet", "<", "U", ">", "(", ")", ";", "if", "(", "result", "!", "=", "null", ")", "{", "result", ".", "collect", "(", "set", ")", ";", "}", "collection", "=", "new", "ObservableSet", "<", ">", "(", "set", ",", "changes", ")", ";", "}", "else", "if", "(", "type", "=", "=", "List", ".", "class", ")", "{", "ArrayList", "<", "U", ">", "list", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "if", "(", "result", "!", "=", "null", ")", "{", "result", ".", "collect", "(", "list", ")", ";", "}", "collection", "=", "new", "ObservableList", "<", ">", "(", "list", ",", "changes", ")", ";", "}", "else", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", "+", "type", ")", ";", "}", "return", "attribute", ".", "getClassType", "(", ")", ".", "cast", "(", "collection", ")", ";", "}", "</s>"]
["<s>", "<", "V", ">", "void", "load", "(", "E", "entity", ",", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "V", ">", "attribute", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "void", "preUpdate", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postUpdate", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preInsert", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postInsert", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preDelete", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postDelete", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postLoad", "(", ")", "{", "}", "</s>"]
["<s>", "void", "preUpdate", "(", ")", ";", "</s>"]
["<s>", "void", "postUpdate", "(", ")", ";", "</s>"]
["<s>", "void", "preInsert", "(", ")", ";", "</s>"]
["<s>", "void", "postInsert", "(", ")", ";", "</s>"]
["<s>", "void", "preDelete", "(", ")", ";", "</s>"]
["<s>", "void", "postDelete", "(", ")", ";", "</s>"]
["<s>", "void", "postLoad", "(", ")", ";", "</s>"]
["<s>", "public", "EntityBuilderProxy", "(", "Type", "<", "E", ">", "type", ")", "{", "Supplier", "<", "B", ">", "supplier", "=", "type", ".", "getBuilderFactory", "(", ")", ";", "this", ".", "builder", "=", "supplier", ".", "get", "(", ")", ";", "this", ".", "type", "=", "type", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "void", "set", "(", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "V", "value", ")", "{", "set", "(", "attribute", ",", "value", ",", "PropertyState", ".", "LOADED", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "void", "set", "(", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "V", "value", ",", "PropertyState", "state", ")", "{", "setObject", "(", "attribute", ",", "value", ",", "state", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setObject", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ",", "Object", "value", ",", "PropertyState", "state", ")", "{", "Property", "<", "B", ",", "Object", ">", "property", "=", "(", "Property", "<", "B", ",", "Object", ">", ")", "attribute", ".", "getBuilderProperty", "(", ")", ";", "property", ".", "set", "(", "builder", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBoolean", "(", "Attribute", "<", "E", ",", "Boolean", ">", "attribute", ",", "boolean", "value", ",", "PropertyState", "state", ")", "{", "BooleanProperty", "<", "B", ">", "property", "=", "(", "BooleanProperty", "<", "B", ">", ")", "attribute", ".", "getBuilderProperty", "(", ")", ";", "property", ".", "setBoolean", "(", "builder", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setDouble", "(", "Attribute", "<", "E", ",", "Double", ">", "attribute", ",", "double", "value", ",", "PropertyState", "state", ")", "{", "DoubleProperty", "<", "B", ">", "property", "=", "(", "DoubleProperty", "<", "B", ">", ")", "attribute", ".", "getBuilderProperty", "(", ")", ";", "property", ".", "setDouble", "(", "builder", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFloat", "(", "Attribute", "<", "E", ",", "Float", ">", "attribute", ",", "float", "value", ",", "PropertyState", "state", ")", "{", "FloatProperty", "<", "B", ">", "property", "=", "(", "FloatProperty", "<", "B", ">", ")", "attribute", ".", "getBuilderProperty", "(", ")", ";", "property", ".", "setFloat", "(", "builder", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setByte", "(", "Attribute", "<", "E", ",", "Byte", ">", "attribute", ",", "byte", "value", ",", "PropertyState", "state", ")", "{", "ByteProperty", "<", "B", ">", "property", "=", "(", "ByteProperty", "<", "B", ">", ")", "attribute", ".", "getBuilderProperty", "(", ")", ";", "property", ".", "setByte", "(", "builder", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setShort", "(", "Attribute", "<", "E", ",", "Short", ">", "attribute", ",", "short", "value", ",", "PropertyState", "state", ")", "{", "ShortProperty", "<", "B", ">", "property", "=", "(", "ShortProperty", "<", "B", ">", ")", "attribute", ".", "getBuilderProperty", "(", ")", ";", "property", ".", "setShort", "(", "builder", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setInt", "(", "Attribute", "<", "E", ",", "Integer", ">", "attribute", ",", "int", "value", ",", "PropertyState", "state", ")", "{", "IntProperty", "<", "B", ">", "property", "=", "(", "IntProperty", "<", "B", ">", ")", "attribute", ".", "getBuilderProperty", "(", ")", ";", "property", ".", "setInt", "(", "builder", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setLong", "(", "Attribute", "<", "E", ",", "Long", ">", "attribute", ",", "long", "value", ",", "PropertyState", "state", ")", "{", "LongProperty", "<", "B", ">", "property", "=", "(", "LongProperty", "<", "B", ">", ")", "attribute", ".", "getBuilderProperty", "(", ")", ";", "property", ".", "setLong", "(", "builder", ",", "value", ")", ";", "}", "</s>"]
["<s>", "public", "E", "build", "(", ")", "{", "return", "type", ".", "getBuildFunction", "(", ")", ".", "apply", "(", "builder", ")", ";", "}", "</s>"]
["<s>", "protected", "EntityStateEventListeners", "(", ")", "{", "preInsertListeners", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "preDeleteListeners", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "preUpdateListeners", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "postInsertListeners", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "postDeleteListeners", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "postUpdateListeners", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "postLoadListeners", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addPreInsertListener", "(", "PreInsertListener", "<", "T", ">", "listener", ")", "{", "preInsertListeners", ".", "add", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addPreDeleteListener", "(", "PreDeleteListener", "<", "T", ">", "listener", ")", "{", "preDeleteListeners", ".", "add", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addPreUpdateListener", "(", "PreUpdateListener", "<", "T", ">", "listener", ")", "{", "preUpdateListeners", ".", "add", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addPostInsertListener", "(", "PostInsertListener", "<", "T", ">", "listener", ")", "{", "postInsertListeners", ".", "add", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addPostDeleteListener", "(", "PostDeleteListener", "<", "T", ">", "listener", ")", "{", "postDeleteListeners", ".", "add", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addPostUpdateListener", "(", "PostUpdateListener", "<", "T", ">", "listener", ")", "{", "postUpdateListeners", ".", "add", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addPostLoadListener", "(", "PostLoadListener", "<", "T", ">", "listener", ")", "{", "postLoadListeners", ".", "add", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "removePreInsertListener", "(", "PreInsertListener", "<", "T", ">", "listener", ")", "{", "preInsertListeners", ".", "remove", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "removePreDeleteListener", "(", "PreDeleteListener", "<", "T", ">", "listener", ")", "{", "preDeleteListeners", ".", "remove", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "removePreUpdateListener", "(", "PreUpdateListener", "<", "T", ">", "listener", ")", "{", "preUpdateListeners", ".", "remove", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "removePostInsertListener", "(", "PostInsertListener", "<", "T", ">", "listener", ")", "{", "postInsertListeners", ".", "remove", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "removePostDeleteListener", "(", "PostDeleteListener", "<", "T", ">", "listener", ")", "{", "postDeleteListeners", ".", "remove", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "removePostUpdateListener", "(", "PostUpdateListener", "<", "T", ">", "listener", ")", "{", "postUpdateListeners", ".", "remove", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "removePostLoadListener", "(", "PostLoadListener", "<", "T", ">", "listener", ")", "{", "postLoadListeners", ".", "remove", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "void", "postDelete", "(", "T", "entity", ")", ";", "</s>"]
["<s>", "<", "U", ">", "V", "initialize", "(", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "Supplier", "<", "Result", "<", "U", ">", ">", "query", ")", ";", "</s>"]
["<s>", "KeyReference", "(", "Object", "key", ",", "S", "value", ",", "ReferenceQueue", "<", "S", ">", "referenceQueue", ")", "{", "super", "(", "value", ",", "referenceQueue", ")", ";", "Objects", ".", "requireNotNull", "(", "key", ")", ";", "Objects", ".", "requireNotNull", "(", "value", ")", ";", "this", ".", "key", "=", "key", ";", "}", "</s>"]
["<s>", "Object", "getKey", "(", ")", "{", "return", "key", ";", "}", "</s>"]
["<s>", "public", "T", "getValue", "(", "Object", "key", ")", "{", "removeStaleEntries", "(", ")", ";", "Reference", "<", "T", ">", "ref", "=", "get", "(", "key", ")", ";", "return", "ref", "=", "=", "null", "?", "null", ":", "ref", ".", "get", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "putValue", "(", "Object", "key", ",", "T", "value", ")", "{", "removeStaleEntries", "(", ")", ";", "put", "(", "key", ",", "new", "KeyReference", "<", ">", "(", "key", ",", "value", ",", "referenceQueue", ")", ")", ";", "}", "</s>"]
["<s>", "private", "void", "removeStaleEntries", "(", ")", "{", "Reference", "<", "?", "extends", "T", ">", "reference", ";", "while", "(", "(", "reference", "=", "referenceQueue", ".", "poll", "(", ")", ")", "!", "=", "null", ")", "{", "T", "value", "=", "reference", ".", "get", "(", ")", ";", "if", "(", "value", "=", "=", "null", ")", "{", "Object", "key", "=", "(", "(", "KeyReference", ")", "reference", ")", ".", "getKey", "(", ")", ";", "remove", "(", "key", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "WeakEntityCache", "(", ")", "{", "maps", "=", "new", "HashMap", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "T", "get", "(", "Class", "<", "T", ">", "type", ",", "Object", "key", ")", "{", "synchronized", "(", "maps", ")", "{", "WeakReferenceMap", "<", "?", ">", "map", "=", "maps", ".", "get", "(", "type", ")", ";", "if", "(", "map", "=", "=", "null", ")", "{", "return", "null", ";", "}", "Object", "value", "=", "map", ".", "getValue", "(", "key", ")", ";", "return", "type", ".", "cast", "(", "value", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "void", "put", "(", "Class", "<", "T", ">", "type", ",", "Object", "key", ",", "T", "value", ")", "{", "Objects", ".", "requireNotNull", "(", "type", ")", ";", "synchronized", "(", "maps", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "WeakReferenceMap", "<", "T", ">", "map", "=", "(", "WeakReferenceMap", "<", "T", ">", ")", "maps", ".", "get", "(", "type", ")", ";", "if", "(", "map", "=", "=", "null", ")", "{", "maps", ".", "put", "(", "type", ",", "map", "=", "new", "WeakReferenceMap", "<", ">", "(", ")", ")", ";", "}", "map", ".", "putValue", "(", "key", ",", "value", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "contains", "(", "Class", "<", "?", ">", "type", ",", "Object", "key", ")", "{", "synchronized", "(", "maps", ")", "{", "WeakReferenceMap", "<", "?", ">", "map", "=", "maps", ".", "get", "(", "type", ")", ";", "return", "map", "!", "=", "null", "&", "&", "map", ".", "containsKey", "(", "key", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "invalidate", "(", "Class", "<", "?", ">", "type", ",", "Object", "key", ")", "{", "synchronized", "(", "maps", ")", "{", "WeakReferenceMap", "<", "?", ">", "map", "=", "maps", ".", "get", "(", "type", ")", ";", "if", "(", "map", "!", "=", "null", ")", "{", "map", ".", "remove", "(", "key", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "invalidate", "(", "Class", "<", "?", ">", "type", ")", "{", "synchronized", "(", "maps", ")", "{", "WeakReferenceMap", "<", "?", ">", "map", "=", "maps", ".", "get", "(", "type", ")", ";", "if", "(", "map", "!", "=", "null", ")", "{", "map", ".", "clear", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clear", "(", ")", "{", "synchronized", "(", "maps", ")", "{", "maps", ".", "clear", "(", ")", ";", "}", "}", "</s>"]
["<s>", "public", "LayeredEntityCache", "(", "List", "<", "EntityCache", ">", "caches", ")", "{", "this", ".", "caches", "=", "caches", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "T", "get", "(", "Class", "<", "T", ">", "type", ",", "Object", "key", ")", "{", "for", "(", "EntityCache", "cache", ":", "caches", ")", "{", "T", "value", "=", "cache", ".", "get", "(", "type", ",", "key", ")", ";", "if", "(", "value", "!", "=", "null", ")", "{", "return", "value", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "void", "put", "(", "Class", "<", "T", ">", "type", ",", "Object", "key", ",", "T", "value", ")", "{", "for", "(", "EntityCache", "cache", ":", "caches", ")", "{", "cache", ".", "put", "(", "type", ",", "key", ",", "value", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "contains", "(", "Class", "<", "?", ">", "type", ",", "Object", "key", ")", "{", "for", "(", "EntityCache", "cache", ":", "caches", ")", "{", "boolean", "contains", "=", "cache", ".", "contains", "(", "type", ",", "key", ")", ";", "if", "(", "contains", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "invalidate", "(", "Class", "<", "?", ">", "type", ")", "{", "for", "(", "EntityCache", "cache", ":", "caches", ")", "{", "cache", ".", "invalidate", "(", "type", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "invalidate", "(", "Class", "<", "?", ">", "type", ",", "Object", "key", ")", "{", "for", "(", "EntityCache", "cache", ":", "caches", ")", "{", "cache", ".", "invalidate", "(", "type", ",", "key", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clear", "(", ")", "{", "for", "(", "EntityCache", "cache", ":", "caches", ")", "{", "cache", ".", "clear", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "T", "get", "(", "Class", "<", "T", ">", "type", ",", "Object", "key", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "void", "put", "(", "Class", "<", "T", ">", "type", ",", "Object", "key", ",", "T", "value", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "contains", "(", "Class", "<", "?", ">", "type", ",", "Object", "key", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "invalidate", "(", "Class", "<", "?", ">", "type", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "invalidate", "(", "Class", "<", "?", ">", "type", ",", "Object", "key", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clear", "(", ")", "{", "}", "</s>"]
["<s>", "public", "SerializableEntityCache", "(", "EntityModel", "model", ",", "CacheManager", "cacheManager", ")", "{", "if", "(", "cacheManager", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "this", ".", "model", "=", "model", ";", "this", ".", "cacheManager", "=", "cacheManager", ";", "this", ".", "expiryPolicyFactory", "=", "EternalExpiryPolicy", ".", "factoryOf", "(", ")", ";", "this", ".", "caches", "=", "new", "ClassMap", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "protected", "String", "getCacheName", "(", "Type", "<", "?", ">", "type", ")", "{", "return", "type", ".", "getName", "(", ")", ";", "}", "</s>"]
["<s>", "protected", "<", "K", ",", "V", ">", "void", "configure", "(", "MutableConfiguration", "<", "K", ",", "V", ">", "configuration", ")", "{", "configuration", ".", "setExpiryPolicyFactory", "(", "expiryPolicyFactory", ")", ";", "}", "</s>"]
["<s>", "private", "<", "T", ">", "Class", "getKeyClass", "(", "Type", "<", "T", ">", "type", ")", "{", "Set", "<", "Attribute", "<", "T", ",", "?", ">", ">", "ids", "=", "type", ".", "getKeyAttributes", "(", ")", ";", "Class", "keyClass", ";", "if", "(", "ids", ".", "isEmpty", "(", ")", ")", "{", "return", "Integer", ".", "class", ";", "}", "if", "(", "ids", ".", "size", "(", ")", "=", "=", "1", ")", "{", "keyClass", "=", "ids", ".", "iterator", "(", ")", ".", "next", "(", ")", ".", "getClassType", "(", ")", ";", "if", "(", "keyClass", ".", "isPrimitive", "(", ")", ")", "{", "if", "(", "keyClass", "=", "=", "int", ".", "class", ")", "{", "keyClass", "=", "Integer", ".", "class", ";", "}", "else", "if", "(", "keyClass", "=", "=", "long", ".", "class", ")", "{", "keyClass", "=", "Long", ".", "class", ";", "}", "}", "}", "else", "{", "keyClass", "=", "CompositeKey", ".", "class", ";", "}", "return", "keyClass", ";", "}", "</s>"]
["<s>", "protected", "<", "K", ",", "T", ">", "Cache", "<", "K", ",", "SerializedEntity", "<", "T", ">", ">", "createCache", "(", "String", "cacheName", ",", "Type", "<", "T", ">", "type", ")", "{", "Class", "keyClass", "=", "getKeyClass", "(", "type", ")", ";", "if", "(", "keyClass", "=", "=", "null", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "MutableConfiguration", "<", "K", ",", "SerializedEntity", "<", "T", ">", ">", "configuration", "=", "new", "MutableConfiguration", "<", ">", "(", ")", ";", "configuration", ".", "setTypes", "(", "keyClass", ",", "(", "Class", ")", "SerializedEntity", ".", "class", ")", ";", "configure", "(", "configuration", ")", ";", "return", "cacheManager", ".", "createCache", "(", "cacheName", ",", "configuration", ")", ";", "}", "</s>"]
["<s>", "private", "<", "K", ",", "T", ">", "Cache", "<", "K", ",", "SerializedEntity", "<", "T", ">", ">", "tryCreateCache", "(", "Class", "<", "T", ">", "type", ")", "{", "Type", "<", "T", ">", "declaredType", "=", "model", ".", "typeOf", "(", "type", ")", ";", "String", "cacheName", "=", "getCacheName", "(", "declaredType", ")", ";", "Cache", "<", "K", ",", "SerializedEntity", "<", "T", ">", ">", "cache", "=", "cacheManager", ".", "getCache", "(", "cacheName", ")", ";", "if", "(", "cache", "=", "=", "null", ")", "{", "try", "{", "cache", "=", "createCache", "(", "cacheName", ",", "declaredType", ")", ";", "}", "catch", "(", "CacheException", "ce", ")", "{", "cache", "=", "cacheManager", ".", "getCache", "(", "cacheName", ")", ";", "if", "(", "cache", "=", "=", "null", ")", "{", "throw", "ce", ";", "}", "}", "}", "return", "cache", ";", "}", "</s>"]
["<s>", "private", "Cache", "getCache", "(", "Class", "<", "?", ">", "type", ")", "{", "Cache", "cache", ";", "synchronized", "(", "caches", ")", "{", "cache", "=", "caches", ".", "get", "(", "type", ")", ";", "if", "(", "cache", "=", "=", "null", ")", "{", "Type", "declaredType", "=", "model", ".", "typeOf", "(", "type", ")", ";", "String", "cacheName", "=", "getCacheName", "(", "declaredType", ")", ";", "Class", "keyClass", "=", "getKeyClass", "(", "declaredType", ")", ";", "cache", "=", "cacheManager", ".", "getCache", "(", "cacheName", ",", "keyClass", ",", "SerializedEntity", ".", "class", ")", ";", "}", "}", "return", "cache", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "T", "get", "(", "Class", "<", "T", ">", "type", ",", "Object", "key", ")", "{", "Cache", "cache", "=", "getCache", "(", "type", ")", ";", "if", "(", "cache", "!", "=", "null", "&", "&", "cache", ".", "isClosed", "(", ")", ")", "{", "cache", "=", "null", ";", "}", "if", "(", "cache", "!", "=", "null", ")", "{", "SerializedEntity", "container", "=", "(", "SerializedEntity", ")", "cache", ".", "get", "(", "key", ")", ";", "if", "(", "container", "!", "=", "null", ")", "{", "return", "type", ".", "cast", "(", "container", ".", "getEntity", "(", ")", ")", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "void", "put", "(", "Class", "<", "T", ">", "type", ",", "Object", "key", ",", "T", "value", ")", "{", "Cache", "<", "Object", ",", "SerializedEntity", "<", "T", ">", ">", "cache", ";", "synchronized", "(", "caches", ")", "{", "cache", "=", "getCache", "(", "type", ")", ";", "if", "(", "cache", "=", "=", "null", ")", "{", "cache", "=", "tryCreateCache", "(", "type", ")", ";", "}", "}", "cache", ".", "put", "(", "key", ",", "new", "SerializedEntity", "<", ">", "(", "type", ",", "value", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "contains", "(", "Class", "<", "?", ">", "type", ",", "Object", "key", ")", "{", "Cache", "cache", "=", "getCache", "(", "type", ")", ";", "return", "cache", "!", "=", "null", "&", "&", "!", "cache", ".", "isClosed", "(", ")", "&", "&", "cache", ".", "containsKey", "(", "key", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "invalidate", "(", "Class", "<", "?", ">", "type", ")", "{", "Cache", "cache", "=", "getCache", "(", "type", ")", ";", "if", "(", "cache", "!", "=", "null", ")", "{", "cache", ".", "clear", "(", ")", ";", "String", "cacheName", "=", "getCacheName", "(", "model", ".", "typeOf", "(", "type", ")", ")", ";", "cacheManager", ".", "destroyCache", "(", "cacheName", ")", ";", "synchronized", "(", "caches", ")", "{", "caches", ".", "remove", "(", "type", ")", ";", "}", "cache", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "invalidate", "(", "Class", "<", "?", ">", "type", ",", "Object", "key", ")", "{", "Cache", "cache", "=", "getCache", "(", "type", ")", ";", "if", "(", "cache", "!", "=", "null", "&", "&", "!", "cache", ".", "isClosed", "(", ")", ")", "{", "cache", ".", "remove", "(", "key", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clear", "(", ")", "{", "synchronized", "(", "caches", ")", "{", "for", "(", "Map", ".", "Entry", "<", "Class", "<", "?", ">", ",", "Cache", "<", "?", ",", "?", ">", ">", "entry", ":", "caches", ".", "entrySet", "(", ")", ")", "{", "invalidate", "(", "entry", ".", "getKey", "(", ")", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "SerializedEntity", "(", "Class", "<", "E", ">", "entityClass", ",", "E", "entity", ")", "{", "this", ".", "entityClass", "=", "entityClass", ";", "this", ".", "entity", "=", "entity", ";", "}", "</s>"]
["<s>", "private", "void", "readObject", "(", "ObjectInputStream", "stream", ")", "throws", "IOException", ",", "ClassNotFoundException", "{", "stream", ".", "defaultReadObject", "(", ")", ";", "Type", "<", "E", ">", "type", "=", "SerializationContext", ".", "getType", "(", "entityClass", ")", ";", "entity", "=", "type", ".", "getFactory", "(", ")", ".", "get", "(", ")", ";", "EntityProxy", "<", "E", ">", "proxy", "=", "type", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "entity", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "attribute", ".", "isAssociation", "(", ")", ")", "{", "proxy", ".", "setState", "(", "attribute", ",", "PropertyState", ".", "FETCH", ")", ";", "continue", ";", "}", "Object", "value", "=", "stream", ".", "readObject", "(", ")", ";", "proxy", ".", "setObject", "(", "attribute", ",", "value", ",", "PropertyState", ".", "LOADED", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "writeObject", "(", "ObjectOutputStream", "stream", ")", "throws", "IOException", "{", "stream", ".", "defaultWriteObject", "(", ")", ";", "Type", "<", "E", ">", "type", "=", "SerializationContext", ".", "getType", "(", "entityClass", ")", ";", "EntityProxy", "<", "E", ">", "proxy", "=", "type", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "entity", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "attribute", ".", "isAssociation", "(", ")", ")", "{", "continue", ";", "}", "Object", "value", "=", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "stream", ".", "writeObject", "(", "value", ")", ";", "}", "}", "</s>"]
["<s>", "public", "E", "getEntity", "(", ")", "{", "return", "entity", ";", "}", "</s>"]
["<s>", "public", "EntityCacheBuilder", "(", "EntityModel", "model", ")", "{", "if", "(", "model", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "this", ".", "model", "=", "model", ";", "}", "</s>"]
["<s>", "public", "EntityCacheBuilder", "useReferenceCache", "(", "boolean", "enable", ")", "{", "this", ".", "useReferenceCache", "=", "enable", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "EntityCacheBuilder", "useSerializableCache", "(", "boolean", "enable", ")", "{", "this", ".", "useSerializableCache", "=", "enable", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "EntityCacheBuilder", "useCacheManager", "(", "CacheManager", "cacheManager", ")", "{", "this", ".", "cacheManager", "=", "cacheManager", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "EntityCache", "build", "(", ")", "{", "LinkedList", "<", "EntityCache", ">", "caches", "=", "new", "LinkedList", "<", ">", "(", ")", ";", "if", "(", "useReferenceCache", ")", "{", "caches", ".", "add", "(", "new", "WeakEntityCache", "(", ")", ")", ";", "}", "if", "(", "useSerializableCache", ")", "{", "SerializationContext", ".", "map", "(", "model", ")", ";", "caches", ".", "add", "(", "new", "SerializableEntityCache", "(", "model", ",", "cacheManager", ")", ")", ";", "}", "if", "(", "caches", ".", "isEmpty", "(", ")", ")", "{", "return", "new", "EmptyEntityCache", "(", ")", ";", "}", "else", "{", "return", "new", "LayeredEntityCache", "(", "caches", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "map", "(", "EntityModel", "model", ")", "{", "for", "(", "Type", "<", "?", ">", "type", ":", "model", ".", "getTypes", "(", ")", ")", "{", "types", ".", "put", "(", "type", ".", "getClassType", "(", ")", ",", "type", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "<", "E", ">", "Type", "<", "E", ">", "getType", "(", "Class", "<", "E", ">", "entityClass", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Type", "<", "E", ">", "type", "=", "(", "Type", "<", "E", ">", ")", "types", ".", "get", "(", "entityClass", ")", ";", "if", "(", "type", "=", "=", "null", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "return", "type", ";", "}", "</s>"]
["<s>", "private", "SerializationContext", "(", ")", "{", "}", "</s>"]
["<s>", "public", "EnumOrdinalConverter", "(", "Class", "<", "E", ">", "enumClass", ")", "{", "this", ".", "enumClass", "=", "enumClass", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "E", ">", "getMappedType", "(", ")", "{", "return", "enumClass", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "Integer", ">", "getPersistedType", "(", ")", "{", "return", "Integer", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "convertToPersisted", "(", "E", "value", ")", "{", "return", "value", "=", "=", "null", "?", "null", ":", "value", ".", "ordinal", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "convertToMapped", "(", "Class", "<", "?", "extends", "E", ">", "type", ",", "Integer", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "getMappedType", "(", ")", ".", "getEnumConstants", "(", ")", "[", "value", "]", ";", "}", "</s>"]
["<s>", "public", "EnumStringConverter", "(", "Class", "<", "E", ">", "enumClass", ")", "{", "this", ".", "enumClass", "=", "enumClass", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "E", ">", "getMappedType", "(", ")", "{", "return", "enumClass", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "String", ">", "getPersistedType", "(", ")", "{", "return", "String", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "convertToPersisted", "(", "Enum", "value", ")", "{", "return", "value", "=", "=", "null", "?", "null", ":", "value", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "convertToMapped", "(", "Class", "<", "?", "extends", "E", ">", "type", ",", "String", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "type", ".", "cast", "(", "Enum", ".", "valueOf", "(", "type", ",", "value", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "LocalDate", ">", "getMappedType", "(", ")", "{", "return", "LocalDate", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "java", ".", "sql", ".", "Date", ">", "getPersistedType", "(", ")", "{", "return", "java", ".", "sql", ".", "Date", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "java", ".", "sql", ".", "Date", "convertToPersisted", "(", "LocalDate", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "Instant", "instant", "=", "value", ".", "atStartOfDay", "(", "ZoneId", ".", "systemDefault", "(", ")", ")", ".", "toInstant", "(", ")", ";", "return", "new", "java", ".", "sql", ".", "Date", "(", "instant", ".", "toEpochMilli", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LocalDate", "convertToMapped", "(", "Class", "<", "?", "extends", "LocalDate", ">", "type", ",", "java", ".", "sql", ".", "Date", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "value", ".", "toLocalDate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "URL", ">", "getMappedType", "(", ")", "{", "return", "URL", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "String", ">", "getPersistedType", "(", ")", "{", "return", "String", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "convertToPersisted", "(", "URL", "value", ")", "{", "return", "value", "=", "=", "null", "?", "null", ":", "value", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "URL", "convertToMapped", "(", "Class", "<", "?", "extends", "URL", ">", "type", ",", "String", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "try", "{", "return", "new", "URL", "(", "value", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "ZonedDateTime", ">", "getMappedType", "(", ")", "{", "return", "ZonedDateTime", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "java", ".", "sql", ".", "Timestamp", ">", "getPersistedType", "(", ")", "{", "return", "java", ".", "sql", ".", "Timestamp", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "java", ".", "sql", ".", "Timestamp", "convertToPersisted", "(", "ZonedDateTime", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "Instant", "instant", "=", "value", ".", "toInstant", "(", ")", ";", "return", "java", ".", "sql", ".", "Timestamp", ".", "from", "(", "instant", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ZonedDateTime", "convertToMapped", "(", "Class", "<", "?", "extends", "ZonedDateTime", ">", "type", ",", "java", ".", "sql", ".", "Timestamp", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "Instant", "instant", "=", "Instant", ".", "ofEpochMilli", "(", "value", ".", "getTime", "(", ")", ")", ";", "return", "ZonedDateTime", ".", "ofInstant", "(", "instant", ",", "ZoneId", ".", "systemDefault", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "OffsetDateTime", ">", "getMappedType", "(", ")", "{", "return", "OffsetDateTime", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "java", ".", "sql", ".", "Timestamp", ">", "getPersistedType", "(", ")", "{", "return", "java", ".", "sql", ".", "Timestamp", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "java", ".", "sql", ".", "Timestamp", "convertToPersisted", "(", "OffsetDateTime", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "Instant", "instant", "=", "value", ".", "toInstant", "(", ")", ";", "return", "java", ".", "sql", ".", "Timestamp", ".", "from", "(", "instant", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "OffsetDateTime", "convertToMapped", "(", "Class", "<", "?", "extends", "OffsetDateTime", ">", "type", ",", "java", ".", "sql", ".", "Timestamp", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "OffsetDateTime", ".", "ofInstant", "(", "value", ".", "toInstant", "(", ")", ",", "ZoneId", ".", "systemDefault", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "UUID", ">", "getMappedType", "(", ")", "{", "return", "UUID", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "byte", "[", "]", ">", "getPersistedType", "(", ")", "{", "return", "byte", "[", "]", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "<NUM_LIT:16>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "[", "]", "convertToPersisted", "(", "UUID", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "byte", "[", "]", "bytes", "=", "new", "byte", "[", "<NUM_LIT:16>", "]", ";", "ByteBuffer", "buffer", "=", "ByteBuffer", ".", "wrap", "(", "bytes", ")", ";", "buffer", ".", "putLong", "(", "value", ".", "getMostSignificantBits", "(", ")", ")", ";", "buffer", ".", "putLong", "(", "value", ".", "getLeastSignificantBits", "(", ")", ")", ";", "return", "bytes", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "UUID", "convertToMapped", "(", "Class", "<", "?", "extends", "UUID", ">", "type", ",", "byte", "[", "]", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "ByteBuffer", "buffer", "=", "ByteBuffer", ".", "wrap", "(", "value", ")", ";", "return", "new", "UUID", "(", "buffer", ".", "getLong", "(", ")", ",", "buffer", ".", "getLong", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "URI", ">", "getMappedType", "(", ")", "{", "return", "URI", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "String", ">", "getPersistedType", "(", ")", "{", "return", "String", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "convertToPersisted", "(", "URI", "value", ")", "{", "return", "value", "=", "=", "null", "?", "null", ":", "value", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "URI", "convertToMapped", "(", "Class", "<", "?", "extends", "URI", ">", "type", ",", "String", "value", ")", "{", "return", "value", "=", "=", "null", "?", "null", ":", "URI", ".", "create", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "LocalTime", ">", "getMappedType", "(", ")", "{", "return", "LocalTime", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "java", ".", "sql", ".", "Time", ">", "getPersistedType", "(", ")", "{", "return", "java", ".", "sql", ".", "Time", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "java", ".", "sql", ".", "Time", "convertToPersisted", "(", "LocalTime", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "Instant", "instant", "=", "value", ".", "atDate", "(", "LocalDate", ".", "now", "(", ")", ")", ".", "atZone", "(", "ZoneId", ".", "systemDefault", "(", ")", ")", ".", "toInstant", "(", ")", ";", "return", "new", "java", ".", "sql", ".", "Time", "(", "instant", ".", "toEpochMilli", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LocalTime", "convertToMapped", "(", "Class", "<", "?", "extends", "LocalTime", ">", "type", ",", "java", ".", "sql", ".", "Time", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "value", ".", "toLocalTime", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "LocalDateTime", ">", "getMappedType", "(", ")", "{", "return", "LocalDateTime", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "java", ".", "sql", ".", "Timestamp", ">", "getPersistedType", "(", ")", "{", "return", "java", ".", "sql", ".", "Timestamp", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "java", ".", "sql", ".", "Timestamp", "convertToPersisted", "(", "LocalDateTime", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "Instant", "instant", "=", "value", ".", "atZone", "(", "ZoneId", ".", "systemDefault", "(", ")", ")", ".", "toInstant", "(", ")", ";", "return", "java", ".", "sql", ".", "Timestamp", ".", "from", "(", "instant", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LocalDateTime", "convertToMapped", "(", "Class", "<", "?", "extends", "LocalDateTime", ">", "type", ",", "java", ".", "sql", ".", "Timestamp", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "value", ".", "toLocalDateTime", "(", ")", ";", "}", "</s>"]
["<s>", "public", "FilteringIterator", "(", "Iterator", "<", "E", ">", "iterator", ",", "Predicate", "<", "?", "super", "E", ">", "filter", ")", "{", "this", ".", "iterator", "=", "Objects", ".", "requireNotNull", "(", "iterator", ")", ";", "this", ".", "filter", "=", "Objects", ".", "requireNotNull", "(", "filter", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasNext", "(", ")", "{", "if", "(", "hasNext", ")", "{", "return", "true", ";", "}", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "E", "element", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "filter", ".", "test", "(", "element", ")", ")", "{", "pending", "=", "element", ";", "hasNext", "=", "true", ";", "return", "true", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "next", "(", ")", "{", "E", "element", ";", "if", "(", "hasNext", ")", "{", "element", "=", "pending", ";", "pending", "=", "null", ";", "hasNext", "=", "false", ";", "return", "element", ";", "}", "else", "{", "element", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "filter", ".", "test", "(", "element", ")", ")", "{", "return", "element", ";", "}", "else", "{", "return", "next", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "remove", "(", ")", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "private", "Objects", "(", ")", "{", "}", "</s>"]
["<s>", "public", "static", "<", "T", ">", "T", "requireNotNull", "(", "T", "o", ")", "{", "if", "(", "o", "=", "=", "null", ")", "{", "throw", "new", "NullPointerException", "(", ")", ";", "}", "return", "o", ";", "}", "</s>"]
["<s>", "public", "static", "<", "T", ">", "T", "requireNotNull", "(", "T", "o", ",", "String", "message", ")", "{", "if", "(", "o", "=", "=", "null", ")", "{", "throw", "new", "NullPointerException", "(", "message", ")", ";", "}", "return", "o", ";", "}", "</s>"]
["<s>", "public", "static", "boolean", "equals", "(", "Object", "a", ",", "Object", "b", ")", "{", "return", "a", "=", "=", "b", "|", "|", "a", "!", "=", "null", "&", "&", "a", ".", "equals", "(", "b", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "toString", "(", "Object", "o", ",", "String", "nullString", ")", "{", "return", "o", "=", "=", "null", "?", "nullString", ":", "o", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "String", "toString", "(", "Object", "o", ")", "{", "return", "toString", "(", "o", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "static", "int", "hash", "(", "Object", ".", ".", ".", "values", ")", "{", "return", "Arrays", ".", "hashCode", "(", "values", ")", ";", "}", "</s>"]
["<s>", "public", "static", "int", "hashCode", "(", "Object", "o", ")", "{", "return", "o", "=", "=", "null", "?", "0", ":", "o", ".", "hashCode", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "<", "T", ">", "int", "compare", "(", "T", "a", ",", "T", "b", ",", "Comparator", "<", "?", "super", "T", ">", "c", ")", "{", "return", "(", "a", "=", "=", "b", ")", "?", "0", ":", "c", ".", "compare", "(", "a", ",", "b", ")", ";", "}", "</s>"]
["<s>", "public", "static", "LanguageVersion", "current", "(", ")", "{", "return", "version", ";", "}", "</s>"]
["<s>", "public", "boolean", "atLeast", "(", "LanguageVersion", "version", ")", "{", "return", "ordinal", "(", ")", ">", "=", "version", ".", "ordinal", "(", ")", ";", "}", "</s>"]
["<s>", "void", "elementAdded", "(", "E", "element", ")", ";", "</s>"]
["<s>", "void", "elementRemoved", "(", "E", "element", ")", ";", "</s>"]
["<s>", "void", "clear", "(", ")", ";", "</s>"]
["<s>", "E", "get", "(", "int", "index", ")", ";", "</s>"]
["<s>", "int", "position", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "void", "close", "(", ")", ";", "</s>"]
["<s>", "private", "ArrayFunctions", "(", ")", "{", "}", "</s>"]
["<s>", "public", "static", "void", "forEach", "(", "boolean", "[", "]", "array", ",", "Consumer", "<", "?", "super", "Boolean", ">", "consumer", ")", "{", "for", "(", "boolean", "i", ":", "array", ")", "{", "consumer", ".", "accept", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "forEach", "(", "short", "[", "]", "array", ",", "Consumer", "<", "?", "super", "Short", ">", "consumer", ")", "{", "for", "(", "short", "i", ":", "array", ")", "{", "consumer", ".", "accept", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "forEach", "(", "int", "[", "]", "array", ",", "Consumer", "<", "?", "super", "Integer", ">", "consumer", ")", "{", "for", "(", "int", "i", ":", "array", ")", "{", "consumer", ".", "accept", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "forEach", "(", "long", "[", "]", "array", ",", "Consumer", "<", "?", "super", "Long", ">", "consumer", ")", "{", "for", "(", "long", "i", ":", "array", ")", "{", "consumer", ".", "accept", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "forEach", "(", "double", "[", "]", "array", ",", "Consumer", "<", "?", "super", "Double", ">", "consumer", ")", "{", "for", "(", "double", "i", ":", "array", ")", "{", "consumer", ".", "accept", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "forEach", "(", "float", "[", "]", "array", ",", "Consumer", "<", "?", "super", "Float", ">", "consumer", ")", "{", "for", "(", "float", "i", ":", "array", ")", "{", "consumer", ".", "accept", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "static", "void", "forEach", "(", "Object", "[", "]", "array", ",", "Consumer", "<", "?", "super", "Object", ">", "consumer", ")", "{", "for", "(", "Object", "i", ":", "array", ")", "{", "consumer", ".", "accept", "(", "i", ")", ";", "}", "}", "</s>"]
["<s>", "public", "ObservableSet", "(", "Set", "<", "E", ">", "set", ",", "CollectionObserver", "<", "E", ">", "observer", ")", "{", "this", ".", "set", "=", "Objects", ".", "requireNotNull", "(", "set", ")", ";", "this", ".", "observer", "=", "observer", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CollectionObserver", "<", "E", ">", "observer", "(", ")", "{", "return", "observer", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "size", "(", ")", "{", "return", "set", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isEmpty", "(", ")", "{", "return", "set", ".", "isEmpty", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "contains", "(", "Object", "o", ")", "{", "return", "set", ".", "contains", "(", "o", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "Nonnull", "public", "Iterator", "<", "E", ">", "iterator", "(", ")", "{", "return", "set", ".", "iterator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "Nonnull", "public", "Object", "[", "]", "toArray", "(", ")", "{", "return", "set", ".", "toArray", "(", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "@", "Nonnull", "public", "<", "T", ">", "T", "[", "]", "toArray", "(", "@", "Nonnull", "T", "[", "]", "a", ")", "{", "return", "set", ".", "toArray", "(", "a", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "add", "(", "E", "e", ")", "{", "boolean", "added", "=", "set", ".", "add", "(", "e", ")", ";", "if", "(", "added", "&", "&", "observer", "!", "=", "null", ")", "{", "observer", ".", "elementAdded", "(", "e", ")", ";", "}", "return", "added", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "remove", "(", "Object", "o", ")", "{", "boolean", "removed", "=", "set", ".", "remove", "(", "o", ")", ";", "if", "(", "removed", "&", "&", "observer", "!", "=", "null", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "E", "element", "=", "(", "E", ")", "o", ";", "observer", ".", "elementRemoved", "(", "element", ")", ";", "}", "return", "removed", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "containsAll", "(", "@", "Nonnull", "Collection", "<", "?", ">", "c", ")", "{", "return", "set", ".", "containsAll", "(", "c", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "addAll", "(", "@", "Nonnull", "Collection", "<", "?", "extends", "E", ">", "c", ")", "{", "boolean", "modified", "=", "false", ";", "for", "(", "E", "element", ":", "c", ")", "{", "boolean", "added", "=", "add", "(", "element", ")", ";", "if", "(", "!", "modified", "&", "&", "added", ")", "{", "modified", "=", "true", ";", "}", "}", "return", "modified", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "retainAll", "(", "@", "Nonnull", "Collection", "<", "?", ">", "c", ")", "{", "ArrayList", "<", "E", ">", "toRemove", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "E", "element", ":", "this", ")", "{", "if", "(", "!", "c", ".", "contains", "(", "element", ")", ")", "{", "toRemove", ".", "add", "(", "element", ")", ";", "}", "}", "return", "removeAll", "(", "toRemove", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "removeAll", "(", "@", "Nonnull", "Collection", "<", "?", ">", "c", ")", "{", "boolean", "modified", "=", "false", ";", "for", "(", "Object", "element", ":", "c", ")", "{", "boolean", "removed", "=", "remove", "(", "element", ")", ";", "if", "(", "!", "modified", "&", "&", "removed", ")", "{", "modified", "=", "true", ";", "}", "}", "return", "modified", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clear", "(", ")", "{", "if", "(", "observer", "!", "=", "null", ")", "{", "observer", ".", "clear", "(", ")", ";", "for", "(", "E", "element", ":", "this", ")", "{", "observer", ".", "elementRemoved", "(", "element", ")", ";", "}", "}", "set", ".", "clear", "(", ")", ";", "}", "</s>"]
["<s>", "@", "SafeVarargs", "public", "CompositeIterator", "(", "Iterator", "<", "E", ">", ".", ".", ".", "iterators", ")", "{", "queue", "=", "new", "LinkedList", "<", ">", "(", ")", ";", "queue", ".", "addAll", "(", "Arrays", ".", "asList", "(", "iterators", ")", ")", ";", "if", "(", "!", "queue", ".", "isEmpty", "(", ")", ")", "{", "current", "=", "queue", ".", "poll", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasNext", "(", ")", "{", "if", "(", "current", "=", "=", "null", ")", "{", "return", "false", ";", "}", "boolean", "hasNext", "=", "current", ".", "hasNext", "(", ")", ";", "while", "(", "!", "hasNext", ")", "{", "if", "(", "queue", ".", "isEmpty", "(", ")", ")", "{", "return", "false", ";", "}", "current", "=", "queue", ".", "poll", "(", ")", ";", "hasNext", "=", "current", ".", "hasNext", "(", ")", ";", "if", "(", "hasNext", ")", "{", "return", "true", ";", "}", "}", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "next", "(", ")", "{", "if", "(", "current", "!", "=", "null", ")", "{", "if", "(", "current", ".", "hasNext", "(", ")", ")", "{", "return", "current", ".", "next", "(", ")", ";", "}", "else", "{", "while", "(", "!", "queue", ".", "isEmpty", "(", ")", ")", "{", "current", "=", "queue", ".", "poll", "(", ")", ";", "if", "(", "current", ".", "hasNext", "(", ")", ")", "{", "return", "current", ".", "next", "(", ")", ";", "}", "}", "}", "}", "throw", "new", "NoSuchElementException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "remove", "(", ")", "{", "if", "(", "current", "!", "=", "null", ")", "{", "current", ".", "remove", "(", ")", ";", "}", "else", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Class", "<", "?", ">", "findKey", "(", "Class", "<", "?", ">", "key", ")", "{", "if", "(", "keys", "=", "=", "null", ")", "{", "Set", "<", "Class", "<", "?", ">", ">", "keySet", "=", "keySet", "(", ")", ";", "keys", "=", "keySet", ".", "toArray", "(", "new", "Class", "[", "keySet", ".", "size", "(", ")", "]", ")", ";", "}", "for", "(", "Class", "<", "?", ">", "cls", ":", "keys", ")", "{", "if", "(", "cls", "=", "=", "key", ")", "{", "return", "cls", ";", "}", "}", "for", "(", "Class", "<", "?", ">", "cls", ":", "keys", ")", "{", "if", "(", "cls", ".", "isAssignableFrom", "(", "key", ")", ")", "{", "return", "cls", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "size", "(", ")", "{", "return", "map", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isEmpty", "(", ")", "{", "return", "map", ".", "isEmpty", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "containsKey", "(", "Object", "key", ")", "{", "return", "map", ".", "containsKey", "(", "findKey", "(", "(", "Class", "<", "?", ">", ")", "key", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "containsValue", "(", "Object", "value", ")", "{", "return", "map", ".", "containsValue", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "V", "get", "(", "Object", "key", ")", "{", "return", "map", ".", "get", "(", "findKey", "(", "(", "Class", "<", "?", ">", ")", "key", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "V", "put", "(", "Class", "<", "?", ">", "key", ",", "V", "value", ")", "{", "if", "(", "key", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "keys", "=", "null", ";", "return", "map", ".", "put", "(", "key", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "V", "remove", "(", "Object", "key", ")", "{", "return", "map", ".", "remove", "(", "key", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "putAll", "(", "@", "Nonnull", "Map", "<", "?", "extends", "Class", "<", "?", ">", ",", "?", "extends", "V", ">", "m", ")", "{", "for", "(", "Map", ".", "Entry", "<", "?", "extends", "Class", "<", "?", ">", ",", "?", "extends", "V", ">", "entry", ":", "m", ".", "entrySet", "(", ")", ")", "{", "put", "(", "entry", ".", "getKey", "(", ")", ",", "entry", ".", "getValue", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clear", "(", ")", "{", "map", ".", "clear", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "Nonnull", "public", "Set", "<", "Class", "<", "?", ">", ">", "keySet", "(", ")", "{", "return", "map", ".", "keySet", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "Nonnull", "public", "Collection", "<", "V", ">", "values", "(", ")", "{", "return", "map", ".", "values", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "Nonnull", "public", "Set", "<", "Entry", "<", "Class", "<", "?", ">", ",", "V", ">", ">", "entrySet", "(", ")", "{", "return", "map", ".", "entrySet", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "CloseableIterator", "<", "E", ">", "iterator", "(", ")", ";", "</s>"]
["<s>", "public", "ObservableList", "(", "List", "<", "E", ">", "list", ",", "CollectionObserver", "<", "E", ">", "observer", ")", "{", "this", ".", "list", "=", "list", ";", "this", ".", "observer", "=", "observer", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CollectionObserver", "<", "E", ">", "observer", "(", ")", "{", "return", "observer", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "size", "(", ")", "{", "return", "list", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isEmpty", "(", ")", "{", "return", "list", ".", "isEmpty", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "contains", "(", "Object", "o", ")", "{", "return", "list", ".", "contains", "(", "o", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "Nonnull", "public", "Iterator", "<", "E", ">", "iterator", "(", ")", "{", "return", "list", ".", "iterator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "Nonnull", "public", "Object", "[", "]", "toArray", "(", ")", "{", "return", "list", ".", "toArray", "(", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "@", "Nonnull", "public", "<", "T", ">", "T", "[", "]", "toArray", "(", "@", "Nonnull", "T", "[", "]", "a", ")", "{", "return", "list", ".", "toArray", "(", "a", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "add", "(", "E", "e", ")", "{", "boolean", "added", "=", "list", ".", "add", "(", "e", ")", ";", "if", "(", "added", "&", "&", "observer", "!", "=", "null", ")", "{", "observer", ".", "elementAdded", "(", "e", ")", ";", "}", "return", "added", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "remove", "(", "Object", "o", ")", "{", "boolean", "removed", "=", "list", ".", "remove", "(", "o", ")", ";", "if", "(", "removed", "&", "&", "observer", "!", "=", "null", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "E", "element", "=", "(", "E", ")", "o", ";", "observer", ".", "elementRemoved", "(", "element", ")", ";", "}", "return", "removed", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "containsAll", "(", "@", "Nonnull", "Collection", "<", "?", ">", "c", ")", "{", "return", "list", ".", "containsAll", "(", "c", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "addAll", "(", "@", "Nonnull", "Collection", "<", "?", "extends", "E", ">", "c", ")", "{", "boolean", "modified", "=", "false", ";", "for", "(", "E", "element", ":", "c", ")", "{", "boolean", "added", "=", "add", "(", "element", ")", ";", "if", "(", "!", "modified", "&", "&", "added", ")", "{", "modified", "=", "true", ";", "}", "}", "return", "modified", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "addAll", "(", "int", "index", ",", "@", "Nonnull", "Collection", "<", "?", "extends", "E", ">", "c", ")", "{", "return", "list", ".", "addAll", "(", "c", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "removeAll", "(", "@", "Nonnull", "Collection", "<", "?", ">", "c", ")", "{", "boolean", "modified", "=", "false", ";", "for", "(", "Object", "element", ":", "c", ")", "{", "boolean", "removed", "=", "remove", "(", "element", ")", ";", "if", "(", "!", "modified", "&", "&", "removed", ")", "{", "modified", "=", "true", ";", "}", "}", "return", "modified", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "retainAll", "(", "@", "Nonnull", "Collection", "<", "?", ">", "c", ")", "{", "ArrayList", "<", "E", ">", "toRemove", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "E", "element", ":", "this", ")", "{", "if", "(", "!", "c", ".", "contains", "(", "element", ")", ")", "{", "toRemove", ".", "add", "(", "element", ")", ";", "}", "}", "return", "removeAll", "(", "toRemove", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clear", "(", ")", "{", "if", "(", "observer", "!", "=", "null", ")", "{", "observer", ".", "clear", "(", ")", ";", "for", "(", "E", "element", ":", "this", ")", "{", "observer", ".", "elementRemoved", "(", "element", ")", ";", "}", "}", "list", ".", "clear", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", "int", "index", ")", "{", "return", "list", ".", "get", "(", "index", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "set", "(", "int", "index", ",", "E", "element", ")", "{", "Objects", ".", "requireNotNull", "(", "element", ")", ";", "E", "removed", "=", "list", ".", "set", "(", "index", ",", "element", ")", ";", "if", "(", "observer", "!", "=", "null", ")", "{", "if", "(", "removed", "!", "=", "null", ")", "{", "observer", ".", "elementRemoved", "(", "element", ")", ";", "}", "observer", ".", "elementAdded", "(", "element", ")", ";", "}", "return", "removed", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "add", "(", "int", "index", ",", "E", "element", ")", "{", "Objects", ".", "requireNotNull", "(", "element", ")", ";", "list", ".", "add", "(", "index", ",", "element", ")", ";", "if", "(", "observer", "!", "=", "null", ")", "{", "observer", ".", "elementAdded", "(", "element", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "remove", "(", "int", "index", ")", "{", "E", "removed", "=", "list", ".", "remove", "(", "index", ")", ";", "if", "(", "removed", "!", "=", "null", "&", "&", "observer", "!", "=", "null", ")", "{", "observer", ".", "elementRemoved", "(", "removed", ")", ";", "}", "return", "removed", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "indexOf", "(", "Object", "o", ")", "{", "return", "list", ".", "indexOf", "(", "o", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "lastIndexOf", "(", "Object", "o", ")", "{", "return", "list", ".", "lastIndexOf", "(", "o", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "Nonnull", "public", "ListIterator", "<", "E", ">", "listIterator", "(", ")", "{", "return", "list", ".", "listIterator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "Nonnull", "public", "ListIterator", "<", "E", ">", "listIterator", "(", "int", "index", ")", "{", "return", "list", ".", "listIterator", "(", "index", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "Nonnull", "public", "List", "<", "E", ">", "subList", "(", "int", "fromIndex", ",", "int", "toIndex", ")", "{", "return", "list", ".", "subList", "(", "fromIndex", ",", "toIndex", ")", ";", "}", "</s>"]
["<s>", "CollectionObserver", "<", "E", ">", "observer", "(", ")", ";", "</s>"]
["<s>", "T", "get", "(", ")", ";", "</s>"]
["<s>", "boolean", "test", "(", "T", "value", ")", ";", "</s>"]
["<s>", "void", "accept", "(", "E", "e", ")", ";", "</s>"]
["<s>", "R", "apply", "(", "T", "t", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "CompletionStage", "<", "E", ">", "insert", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "CompletionStage", "<", "Iterable", "<", "E", ">", ">", "insert", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "K", ",", "E", "extends", "T", ">", "CompletionStage", "<", "K", ">", "insert", "(", "E", "entity", ",", "Class", "<", "K", ">", "keyClass", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "K", ",", "E", "extends", "T", ">", "CompletionStage", "<", "Iterable", "<", "K", ">", ">", "insert", "(", "Iterable", "<", "E", ">", "entities", ",", "Class", "<", "K", ">", "keyClass", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "CompletionStage", "<", "E", ">", "update", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "CompletionStage", "<", "Iterable", "<", "E", ">", ">", "update", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "CompletionStage", "<", "E", ">", "upsert", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "CompletionStage", "<", "Iterable", "<", "E", ">", ">", "upsert", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "CompletionStage", "<", "E", ">", "refresh", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "CompletionStage", "<", "E", ">", "refresh", "(", "E", "entity", ",", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "CompletionStage", "<", "Iterable", "<", "E", ">", ">", "refresh", "(", "Iterable", "<", "E", ">", "entities", ",", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "CompletionStage", "<", "E", ">", "refreshAll", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "CompletionStage", "<", "Void", ">", "delete", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ">", "CompletionStage", "<", "Void", ">", "delete", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "<", "E", "extends", "T", ",", "K", ">", "CompletionStage", "<", "E", ">", "findByKey", "(", "Class", "<", "E", ">", "type", ",", "K", "key", ")", ";", "</s>"]
["<s>", "public", "CompletableEntityStore", "(", "BlockingEntityStore", "<", "T", ">", "delegate", ")", "{", "this", ".", "delegate", "=", "Objects", ".", "requireNotNull", "(", "delegate", ")", ";", "this", ".", "executor", "=", "Executors", ".", "newSingleThreadExecutor", "(", ")", ";", "createdExecutor", "=", "true", ";", "}", "</s>"]
["<s>", "public", "CompletableEntityStore", "(", "BlockingEntityStore", "<", "T", ">", "delegate", ",", "Executor", "executor", ")", "{", "this", ".", "delegate", "=", "Objects", ".", "requireNotNull", "(", "delegate", ")", ";", "this", ".", "executor", "=", "Objects", ".", "requireNotNull", "(", "executor", ")", ";", "createdExecutor", "=", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "CompletableFuture", "<", "E", ">", "insert", "(", "final", "E", "entity", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entity", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "CompletableFuture", "<", "Iterable", "<", "E", ">", ">", "insert", "(", "final", "Iterable", "<", "E", ">", "entities", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "Iterable", "<", "E", ">", ">", "(", ")", "{", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entities", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entities", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "K", ",", "E", "extends", "T", ">", "CompletionStage", "<", "K", ">", "insert", "(", "final", "E", "entity", ",", "final", "Class", "<", "K", ">", "keyClass", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "K", ">", "(", ")", "{", "@", "Override", "public", "K", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entity", ",", "keyClass", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "K", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entity", ",", "keyClass", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "K", ",", "E", "extends", "T", ">", "CompletionStage", "<", "Iterable", "<", "K", ">", ">", "insert", "(", "final", "Iterable", "<", "E", ">", "entities", ",", "final", "Class", "<", "K", ">", "keyClass", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "Iterable", "<", "K", ">", ">", "(", ")", "{", "@", "Override", "public", "Iterable", "<", "K", ">", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entities", ",", "keyClass", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Iterable", "<", "K", ">", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entities", ",", "keyClass", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "CompletableFuture", "<", "E", ">", "update", "(", "final", "E", "entity", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "update", "(", "entity", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "update", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "CompletableFuture", "<", "Iterable", "<", "E", ">", ">", "update", "(", "final", "Iterable", "<", "E", ">", "entities", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "Iterable", "<", "E", ">", ">", "(", ")", "{", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "update", "(", "entities", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "update", "(", "entities", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "CompletionStage", "<", "E", ">", "upsert", "(", "final", "E", "entity", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "upsert", "(", "entity", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "upsert", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "CompletableFuture", "<", "Iterable", "<", "E", ">", ">", "upsert", "(", "final", "Iterable", "<", "E", ">", "entities", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "Iterable", "<", "E", ">", ">", "(", ")", "{", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "upsert", "(", "entities", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "upsert", "(", "entities", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "CompletableFuture", "<", "E", ">", "refresh", "(", "final", "E", "entity", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "refresh", "(", "entity", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "refresh", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "CompletableFuture", "<", "E", ">", "refresh", "(", "final", "E", "entity", ",", "final", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "refresh", "(", "entity", ",", "attributes", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "refresh", "(", "entity", ",", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "CompletionStage", "<", "Iterable", "<", "E", ">", ">", "refresh", "(", "final", "Iterable", "<", "E", ">", "entities", ",", "final", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "Iterable", "<", "E", ">", ">", "(", ")", "{", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "refresh", "(", "entities", ",", "attributes", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "refresh", "(", "entities", ",", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "CompletableFuture", "<", "E", ">", "refreshAll", "(", "final", "E", "entity", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "refreshAll", "(", "entity", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "refreshAll", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "CompletableFuture", "<", "Void", ">", "delete", "(", "final", "E", "entity", ")", "{", "return", "CompletableFuture", ".", "runAsync", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "delegate", ".", "delete", "(", "entity", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "delegate", ".", "delete", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "CompletableFuture", "<", "Void", ">", "delete", "(", "final", "Iterable", "<", "E", ">", "entities", ")", "{", "return", "CompletableFuture", ".", "runAsync", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "delegate", ".", "delete", "(", "entities", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "delegate", ".", "delete", "(", "entities", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ",", "K", ">", "CompletableFuture", "<", "E", ">", "findByKey", "(", "final", "Class", "<", "E", ">", "type", ",", "final", "K", "key", ")", "{", "return", "CompletableFuture", ".", "supplyAsync", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "findByKey", "(", "type", ",", "key", ")", ";", "}", "}", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "findByKey", "(", "type", ",", "key", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "try", "{", "if", "(", "createdExecutor", ")", "{", "ExecutorService", "executorService", "=", "(", "ExecutorService", ")", "executor", ";", "executorService", ".", "shutdown", "(", ")", ";", "}", "}", "finally", "{", "delegate", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Selection", "<", "Result", "<", "Tuple", ">", ">", "select", "(", "Expression", "<", "?", ">", ".", ".", ".", "expressions", ")", "{", "return", "delegate", ".", "select", "(", "expressions", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selection", "<", "Result", "<", "Tuple", ">", ">", "select", "(", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "expressions", ")", "{", "return", "delegate", ".", "select", "(", "expressions", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Update", "<", "Scalar", "<", "Integer", ">", ">", "update", "(", ")", "{", "return", "delegate", ".", "update", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Deletion", "<", "Scalar", "<", "Integer", ">", ">", "delete", "(", ")", "{", "return", "delegate", ".", "delete", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Selection", "<", "Result", "<", "E", ">", ">", "select", "(", "Class", "<", "E", ">", "type", ",", "QueryAttribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "return", "delegate", ".", "select", "(", "type", ",", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Selection", "<", "Result", "<", "E", ">", ">", "select", "(", "Class", "<", "E", ">", "type", ",", "Set", "<", "?", "extends", "QueryAttribute", "<", "E", ",", "?", ">", ">", "attributes", ")", "{", "return", "delegate", ".", "select", "(", "type", ",", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Insertion", "<", "Result", "<", "Tuple", ">", ">", "insert", "(", "Class", "<", "E", ">", "type", ")", "{", "return", "delegate", ".", "insert", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Update", "<", "Scalar", "<", "Integer", ">", ">", "update", "(", "Class", "<", "E", ">", "type", ")", "{", "return", "delegate", ".", "update", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Deletion", "<", "Scalar", "<", "Integer", ">", ">", "delete", "(", "Class", "<", "E", ">", "type", ")", "{", "return", "delegate", ".", "delete", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Selection", "<", "Scalar", "<", "Integer", ">", ">", "count", "(", "Class", "<", "E", ">", "type", ")", "{", "return", "delegate", ".", "count", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selection", "<", "Scalar", "<", "Integer", ">", ">", "count", "(", "QueryAttribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "return", "delegate", ".", "count", "(", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Result", "<", "Tuple", ">", "raw", "(", "String", "query", ",", "Object", ".", ".", ".", "parameters", ")", "{", "return", "delegate", ".", "raw", "(", "query", ",", "parameters", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Result", "<", "E", ">", "raw", "(", "Class", "<", "E", ">", "type", ",", "String", "query", ",", "Object", ".", ".", ".", "parameters", ")", "{", "return", "delegate", ".", "raw", "(", "type", ",", "query", ",", "parameters", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BlockingEntityStore", "<", "T", ">", "toBlocking", "(", ")", "{", "return", "delegate", ";", "}", "</s>"]
["<s>", "String", "getName", "(", ")", ";", "</s>"]
["<s>", "<", "T", ">", "Type", "<", "T", ">", "typeOf", "(", "Class", "<", "?", "extends", "T", ">", "entityClass", ")", "throws", "NotMappedException", ";", "</s>"]
["<s>", "<", "T", ">", "boolean", "containsTypeOf", "(", "Class", "<", "?", "extends", "T", ">", "entityClass", ")", ";", "</s>"]
["<s>", "Set", "<", "Type", "<", "?", ">", ">", "getTypes", "(", ")", ";", "</s>"]
["<s>", "public", "Class", "<", "?", "extends", "Annotation", ">", "annotationClass", "(", ")", "{", "switch", "(", "this", ")", "{", "case", "ONE_TO_ONE", ":", "return", "OneToOne", ".", "class", ";", "case", "ONE_TO_MANY", ":", "return", "OneToMany", ".", "class", ";", "case", "MANY_TO_ONE", ":", "return", "ManyToOne", ".", "class", ";", "case", "MANY_TO_MANY", ":", "return", "ManyToMany", ".", "class", ";", "default", ":", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "public", "ResultAttributeBuilder", "(", "String", "name", ",", "Class", "<", "?", "extends", "Iterable", ">", "type", ",", "Class", "<", "E", ">", "elementType", ")", "{", "super", "(", "name", ",", "(", "Class", "<", "V", ">", ")", "type", ")", ";", "this", ".", "elementClass", "=", "Objects", ".", "requireNotNull", "(", "elementType", ")", ";", "setInitializer", "(", "new", "ResultInitializer", "<", "T", ",", "V", ">", "(", ")", ")", ";", "}", "</s>"]
["<s>", "void", "setDeclaringType", "(", "Type", "<", "T", ">", "type", ")", ";", "</s>"]
["<s>", "ImmutableAttribute", "(", "AttributeBuilder", "<", "T", ",", "V", ">", "builder", ")", "{", "name", "=", "builder", ".", "getName", "(", ")", ";", "classType", "=", "builder", ".", "getClassType", "(", ")", ";", "primitiveKind", "=", "builder", ".", "getPrimitiveKind", "(", ")", ";", "property", "=", "builder", ".", "getProperty", "(", ")", ";", "propertyName", "=", "builder", ".", "getPropertyName", "(", ")", ";", "propertyState", "=", "builder", ".", "getPropertyState", "(", ")", ";", "initializer", "=", "builder", ".", "getInitializer", "(", ")", ";", "builderProperty", "=", "builder", ".", "getBuilderProperty", "(", ")", ";", "isLazy", "=", "builder", ".", "isLazy", "(", ")", ";", "length", "=", "builder", ".", "getLength", "(", ")", ";", "isKey", "=", "builder", ".", "isKey", "(", ")", ";", "isUnique", "=", "builder", ".", "isUnique", "(", ")", ";", "isGenerated", "=", "builder", ".", "isGenerated", "(", ")", ";", "isNullable", "=", "builder", ".", "isNullable", "(", ")", ";", "isVersion", "=", "builder", ".", "isVersion", "(", ")", ";", "isForeignKey", "=", "builder", ".", "isForeignKey", "(", ")", ";", "isIndex", "=", "builder", ".", "isIndexed", "(", ")", ";", "defaultValue", "=", "builder", ".", "getDefaultValue", "(", ")", ";", "collate", "=", "builder", ".", "getCollate", "(", ")", ";", "indexNames", "=", "builder", ".", "getIndexNames", "(", ")", ";", "cardinality", "=", "builder", ".", "getCardinality", "(", ")", ";", "deleteAction", "=", "builder", ".", "getDeleteAction", "(", ")", ";", "updateAction", "=", "builder", ".", "getUpdateAction", "(", ")", ";", "cascadeActions", "=", "builder", ".", "getCascadeActions", "(", ")", ";", "referencedAttribute", "=", "builder", ".", "getReferencedAttribute", "(", ")", ";", "referencedClass", "=", "builder", ".", "getReferencedClass", "(", ")", ";", "mapKeyClass", "=", "builder", ".", "getMapKeyClass", "(", ")", ";", "elementClass", "=", "builder", ".", "getElementClass", "(", ")", ";", "isForeignKey", "=", "builder", ".", "isForeignKey", "(", ")", ";", "converter", "=", "builder", ".", "getConverter", "(", ")", ";", "mappedAttribute", "=", "builder", ".", "getMappedAttribute", "(", ")", ";", "orderByAttribute", "=", "builder", ".", "getOrderByAttribute", "(", ")", ";", "orderByDirection", "=", "builder", ".", "getOrderByDirection", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "String", "getName", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "Class", "<", "T", ">", "getClassType", "(", ")", ";", "</s>"]
["<s>", "Class", "<", "?", ">", "getBaseType", "(", ")", ";", "</s>"]
["<s>", "boolean", "isCacheable", "(", ")", ";", "</s>"]
["<s>", "boolean", "isImmutable", "(", ")", ";", "</s>"]
["<s>", "boolean", "isReadOnly", "(", ")", ";", "</s>"]
["<s>", "boolean", "isStateless", "(", ")", ";", "</s>"]
["<s>", "boolean", "isBuildable", "(", ")", ";", "</s>"]
["<s>", "<", "B", ">", "Supplier", "<", "B", ">", "getBuilderFactory", "(", ")", ";", "</s>"]
["<s>", "<", "B", ">", "Function", "<", "B", ",", "T", ">", "getBuildFunction", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "Attribute", "<", "T", ",", "?", ">", ">", "getAttributes", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "Attribute", "<", "T", ",", "?", ">", ">", "getKeyAttributes", "(", ")", ";", "</s>"]
["<s>", "Attribute", "<", "T", ",", "?", ">", "getSingleKeyAttribute", "(", ")", ";", "</s>"]
["<s>", "Supplier", "<", "T", ">", "getFactory", "(", ")", ";", "</s>"]
["<s>", "Function", "<", "T", ",", "EntityProxy", "<", "T", ">", ">", "getProxyProvider", "(", ")", ";", "</s>"]
["<s>", "String", "[", "]", "getTableCreateAttributes", "(", ")", ";", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "public", "CollectionAttributeBuilder", "(", "String", "name", ",", "Class", "<", "?", "extends", "Collection", ">", "type", ",", "Class", "<", "E", ">", "elementClass", ")", "{", "super", "(", "name", ",", "(", "Class", "<", "C", ">", ")", "type", ")", ";", "this", ".", "elementClass", "=", "Objects", ".", "requireNotNull", "(", "elementClass", ")", ";", "setInitializer", "(", "new", "CollectionInitializer", "<", "T", ",", "C", ">", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "TypeBuilder", "(", "Class", "<", "T", ">", "type", ",", "String", "name", ")", "{", "Objects", ".", "requireNotNull", "(", "type", ")", ";", "this", ".", "type", "=", "type", ";", "this", ".", "attributes", "=", "new", "TreeSet", "<", ">", "(", "new", "Comparator", "<", "Attribute", "<", "T", ",", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "int", "compare", "(", "Attribute", "<", "T", ",", "?", ">", "o1", ",", "Attribute", "<", "T", ",", "?", ">", "o2", ")", "{", "if", "(", "o1", ".", "isKey", "(", ")", ")", "{", "return", "-", "1", ";", "}", "if", "(", "o2", ".", "isKey", "(", ")", ")", "{", "return", "1", ";", "}", "return", "o1", ".", "getName", "(", ")", ".", "compareTo", "(", "o2", ".", "getName", "(", ")", ")", ";", "}", "}", ")", ";", "this", ".", "name", "=", "name", ";", "this", ".", "referencedTypes", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "this", ".", "expressions", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "compare", "(", "Attribute", "<", "T", ",", "?", ">", "o1", ",", "Attribute", "<", "T", ",", "?", ">", "o2", ")", "{", "if", "(", "o1", ".", "isKey", "(", ")", ")", "{", "return", "-", "1", ";", "}", "if", "(", "o2", ".", "isKey", "(", ")", ")", "{", "return", "1", ";", "}", "return", "o1", ".", "getName", "(", ")", ".", "compareTo", "(", "o2", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "TypeBuilder", "<", "T", ">", "setBaseType", "(", "Class", "<", "?", "super", "T", ">", "type", ")", "{", "this", ".", "baseType", "=", "type", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "TypeBuilder", "<", "T", ">", "setCacheable", "(", "boolean", "cacheable", ")", "{", "this", ".", "cacheable", "=", "cacheable", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "TypeBuilder", "<", "T", ">", "setImmutable", "(", "boolean", "immutable", ")", "{", "this", ".", "immutable", "=", "immutable", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "TypeBuilder", "<", "T", ">", "setReadOnly", "(", "boolean", "readOnly", ")", "{", "this", ".", "readOnly", "=", "readOnly", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "TypeBuilder", "<", "T", ">", "setStateless", "(", "boolean", "stateless", ")", "{", "this", ".", "stateless", "=", "stateless", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "TypeBuilder", "<", "T", ">", "setFactory", "(", "Supplier", "<", "T", ">", "factory", ")", "{", "this", ".", "factory", "=", "factory", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "TypeBuilder", "<", "T", ">", "setProxyProvider", "(", "Function", "<", "T", ",", "EntityProxy", "<", "T", ">", ">", "provider", ")", "{", "this", ".", "proxyProvider", "=", "provider", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "<", "B", ">", "TypeBuilder", "<", "T", ">", "setBuilderFactory", "(", "Supplier", "<", "B", ">", "factory", ")", "{", "this", ".", "builderFactory", "=", "factory", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "<", "B", ">", "TypeBuilder", "<", "T", ">", "setBuilderFunction", "(", "Function", "<", "B", ",", "T", ">", "function", ")", "{", "this", ".", "buildFunction", "=", "function", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "TypeBuilder", "<", "T", ">", "setTableCreateAttributes", "(", "String", "[", "]", "attributes", ")", "{", "this", ".", "tableCreateAttributes", "=", "attributes", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "TypeBuilder", "<", "T", ">", "addAttribute", "(", "Attribute", "<", "T", ",", "?", ">", "attribute", ")", "{", "this", ".", "attributes", ".", "add", "(", "attribute", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "TypeBuilder", "<", "T", ">", "addExpression", "(", "QueryExpression", "<", "?", ">", "expression", ")", "{", "this", ".", "expressions", ".", "add", "(", "expression", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "Type", "<", "T", ">", "build", "(", ")", "{", "return", "new", "ImmutableType", "<", ">", "(", "this", ")", ";", "}", "</s>"]
["<s>", "public", "SetAttributeBuilder", "(", "String", "name", ",", "Class", "<", "?", "extends", "Set", ">", "type", ",", "Class", "<", "E", ">", "elementType", ")", "{", "super", "(", "name", ",", "type", ",", "elementType", ")", ";", "}", "</s>"]
["<s>", "static", "PrimitiveKind", "fromClass", "(", "Class", "type", ")", "{", "if", "(", "type", ".", "isPrimitive", "(", ")", ")", "{", "if", "(", "type", "=", "=", "int", ".", "class", ")", "{", "return", "INT", ";", "}", "else", "if", "(", "type", "=", "=", "long", ".", "class", ")", "{", "return", "LONG", ";", "}", "else", "if", "(", "type", "=", "=", "short", ".", "class", ")", "{", "return", "SHORT", ";", "}", "else", "if", "(", "type", "=", "=", "float", ".", "class", ")", "{", "return", "FLOAT", ";", "}", "else", "if", "(", "type", "=", "=", "double", ".", "class", ")", "{", "return", "DOUBLE", ";", "}", "else", "if", "(", "type", "=", "=", "boolean", ".", "class", ")", "{", "return", "BOOLEAN", ";", "}", "else", "if", "(", "type", "=", "=", "char", ".", "class", ")", "{", "return", "CHAR", ";", "}", "else", "if", "(", "type", "=", "=", "byte", ".", "class", ")", "{", "return", "BYTE", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Initializer", "<", "T", ",", "V", ">", "getInitializer", "(", ")", "{", "return", "initializer", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Property", "<", "T", ",", "V", ">", "getProperty", "(", ")", "{", "return", "property", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getPropertyName", "(", ")", "{", "return", "propertyName", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Property", "<", "T", ",", "PropertyState", ">", "getPropertyState", "(", ")", "{", "return", "propertyState", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Property", "<", "?", ",", "V", ">", "getBuilderProperty", "(", ")", "{", "return", "builderProperty", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getName", "(", ")", "{", "return", "name", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "V", ">", "getClassType", "(", ")", "{", "return", "classType", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PrimitiveKind", "getPrimitiveKind", "(", ")", "{", "return", "primitiveKind", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ExpressionType", "getExpressionType", "(", ")", "{", "return", "ExpressionType", ".", "ATTRIBUTE", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Type", "<", "T", ">", "getDeclaringType", "(", ")", "{", "return", "declaringType", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isLazy", "(", ")", "{", "return", "isLazy", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getLength", "(", ")", "{", "return", "converter", "!", "=", "null", "?", "converter", ".", "getPersistedSize", "(", ")", ":", "length", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isAssociation", "(", ")", "{", "return", "cardinality", "!", "=", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isKey", "(", ")", "{", "return", "isKey", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isUnique", "(", ")", "{", "return", "isUnique", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isGenerated", "(", ")", "{", "return", "isGenerated", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isNullable", "(", ")", "{", "return", "isNullable", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isForeignKey", "(", ")", "{", "return", "isForeignKey", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isVersion", "(", ")", "{", "return", "isVersion", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isIndexed", "(", ")", "{", "return", "isIndex", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getDefaultValue", "(", ")", "{", "return", "defaultValue", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "String", ">", "getIndexNames", "(", ")", "{", "return", "indexNames", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getCollate", "(", ")", "{", "return", "collate", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "?", ">", "getMapKeyClass", "(", ")", "{", "return", "mapKeyClass", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "?", ">", "getElementClass", "(", ")", "{", "return", "elementClass", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "?", ">", "getReferencedClass", "(", ")", "{", "return", "referencedClass", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Cardinality", "getCardinality", "(", ")", "{", "return", "cardinality", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ReferentialAction", "getDeleteAction", "(", ")", "{", "return", "deleteAction", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ReferentialAction", "getUpdateAction", "(", ")", "{", "return", "updateAction", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "CascadeAction", ">", "getCascadeActions", "(", ")", "{", "return", "cascadeActions", "=", "=", "null", "?", "Collections", ".", "<", "CascadeAction", ">", "emptySet", "(", ")", ":", "cascadeActions", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Converter", "<", "V", ",", "?", ">", "getConverter", "(", ")", "{", "return", "converter", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Supplier", "<", "Attribute", ">", "getMappedAttribute", "(", ")", "{", "return", "mappedAttribute", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Supplier", "<", "Attribute", ">", "getReferencedAttribute", "(", ")", "{", "return", "referencedAttribute", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Supplier", "<", "Attribute", ">", "getOrderByAttribute", "(", ")", "{", "return", "orderByAttribute", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Order", "getOrderByDirection", "(", ")", "{", "return", "orderByDirection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "Attribute", ")", "{", "Attribute", "attribute", "=", "(", "Attribute", ")", "obj", ";", "return", "Objects", ".", "equals", "(", "name", ",", "attribute", ".", "getName", "(", ")", ")", "&", "&", "Objects", ".", "equals", "(", "classType", ",", "attribute", ".", "getClassType", "(", ")", ")", "&", "&", "Objects", ".", "equals", "(", "declaringType", ",", "attribute", ".", "getDeclaringType", "(", ")", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "name", ",", "classType", ",", "declaringType", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "getDeclaringType", "(", ")", "=", "=", "null", "?", "getName", "(", ")", ":", "getDeclaringType", "(", ")", ".", "getName", "(", ")", "+", "\"", "<STR_LIT:.>", "\"", "+", "getName", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setDeclaringType", "(", "Type", "<", "T", ">", "type", ")", "{", "declaringType", "=", "type", ";", "}", "</s>"]
["<s>", "public", "ListAttributeBuilder", "(", "String", "name", ",", "Class", "<", "?", "extends", "List", ">", "type", ",", "Class", "<", "E", ">", "elementType", ")", "{", "super", "(", "name", ",", "type", ",", "elementType", ")", ";", "}", "</s>"]
["<s>", "ImmutableEntityModel", "(", "String", "name", ",", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "this", ".", "name", "=", "name", ";", "ClassMap", "<", "Type", "<", "?", ">", ">", "map", "=", "new", "ClassMap", "<", ">", "(", ")", ";", "for", "(", "Type", "<", "?", ">", "type", ":", "types", ")", "{", "map", ".", "put", "(", "type", ".", "getClassType", "(", ")", ",", "type", ")", ";", "map", ".", "put", "(", "type", ".", "getBaseType", "(", ")", ",", "type", ")", ";", "}", "this", ".", "map", "=", "Collections", ".", "unmodifiableMap", "(", "map", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getName", "(", ")", "{", "return", "name", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "Type", "<", "T", ">", "typeOf", "(", "Class", "<", "?", "extends", "T", ">", "entityClass", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Type", "<", "T", ">", "type", "=", "(", "Type", ")", "map", ".", "get", "(", "entityClass", ")", ";", "if", "(", "type", "=", "=", "null", ")", "{", "throw", "new", "NotMappedException", "(", ")", ";", "}", "return", "type", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "boolean", "containsTypeOf", "(", "Class", "<", "?", "extends", "T", ">", "entityClass", ")", "{", "return", "map", ".", "containsKey", "(", "entityClass", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "Type", "<", "?", ">", ">", "getTypes", "(", ")", "{", "return", "new", "LinkedHashSet", "<", ">", "(", "map", ".", "values", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "name", "+", "\"", "<STR_LIT>", "\"", "+", "map", ".", "keySet", "(", ")", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "EntityModel", ")", "{", "EntityModel", "other", "=", "(", "EntityModel", ")", "obj", ";", "return", "Objects", ".", "equals", "(", "name", ",", "other", ".", "getName", "(", ")", ")", "&", "&", "getTypes", "(", ")", ".", "equals", "(", "other", ".", "getTypes", "(", ")", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "name", ",", "map", ")", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "(", "String", "name", ",", "Class", "<", "V", ">", "type", ")", "{", "this", ".", "name", "=", "Objects", ".", "requireNotNull", "(", "name", ")", ";", "this", ".", "classType", "=", "Objects", ".", "requireNotNull", "(", "type", ")", ";", "this", ".", "primitiveKind", "=", "PrimitiveKind", ".", "fromClass", "(", "classType", ")", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setProperty", "(", "Property", "<", "T", ",", "V", ">", "property", ")", "{", "this", ".", "property", "=", "property", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setPropertyName", "(", "String", "name", ")", "{", "this", ".", "propertyName", "=", "name", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setPropertyState", "(", "Property", "<", "T", ",", "PropertyState", ">", "property", ")", "{", "this", ".", "propertyState", "=", "property", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "<", "B", ">", "AttributeBuilder", "<", "T", ",", "V", ">", "setBuilderProperty", "(", "Property", "<", "B", ",", "V", ">", "property", ")", "{", "this", ".", "builderProperty", "=", "property", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setInitializer", "(", "Initializer", "<", "T", ",", "V", ">", "initializer", ")", "{", "this", ".", "initializer", "=", "initializer", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setLazy", "(", "boolean", "lazy", ")", "{", "this", ".", "isLazy", "=", "lazy", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setLength", "(", "Integer", "length", ")", "{", "this", ".", "length", "=", "length", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setKey", "(", "boolean", "key", ")", "{", "this", ".", "isKey", "=", "key", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setUnique", "(", "boolean", "unique", ")", "{", "this", ".", "isUnique", "=", "unique", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setGenerated", "(", "boolean", "generated", ")", "{", "this", ".", "isGenerated", "=", "generated", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setNullable", "(", "boolean", "nullable", ")", "{", "this", ".", "isNullable", "=", "nullable", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setForeignKey", "(", "boolean", "foreignKey", ")", "{", "this", ".", "isForeignKey", "=", "foreignKey", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setVersion", "(", "boolean", "version", ")", "{", "this", ".", "isVersion", "=", "version", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setDefaultValue", "(", "String", "value", ")", "{", "this", ".", "defaultValue", "=", "value", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setIndexed", "(", "boolean", "indexed", ")", "{", "this", ".", "isIndex", "=", "indexed", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setCollate", "(", "String", "collate", ")", "{", "this", ".", "collate", "=", "collate", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setIndexNames", "(", "String", ".", ".", ".", "names", ")", "{", "this", ".", "indexNames", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "Collections", ".", "addAll", "(", "indexNames", ",", "names", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setCardinality", "(", "Cardinality", "cardinality", ")", "{", "this", ".", "cardinality", "=", "cardinality", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setDeleteAction", "(", "ReferentialAction", "action", ")", "{", "this", ".", "deleteAction", "=", "action", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setUpdateAction", "(", "ReferentialAction", "action", ")", "{", "this", ".", "updateAction", "=", "action", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setCascadeAction", "(", "CascadeAction", ".", ".", ".", "actions", ")", "{", "this", ".", "cascadeActions", "=", "EnumSet", ".", "copyOf", "(", "Arrays", ".", "asList", "(", "actions", ")", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setConverter", "(", "Converter", "<", "V", ",", "?", ">", "converter", ")", "{", "this", ".", "converter", "=", "converter", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setReferencedClass", "(", "Class", "<", "?", ">", "type", ")", "{", "this", ".", "referencedClass", "=", "type", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setMappedAttribute", "(", "Supplier", "<", "Attribute", ">", "attribute", ")", "{", "this", ".", "mappedAttribute", "=", "attribute", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setReferencedAttribute", "(", "Supplier", "<", "Attribute", ">", "attribute", ")", "{", "this", ".", "referencedAttribute", "=", "attribute", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setOrderByAttribute", "(", "Supplier", "<", "Attribute", ">", "attribute", ")", "{", "this", ".", "orderByAttribute", "=", "attribute", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "AttributeBuilder", "<", "T", ",", "V", ">", "setOrderByDirection", "(", "Order", "order", ")", "{", "this", ".", "orderByDirection", "=", "order", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "QueryAttribute", "<", "T", ",", "V", ">", "build", "(", ")", "{", "return", "new", "ImmutableAttribute", "<", ">", "(", "this", ")", ";", "}", "</s>"]
["<s>", "ImmutableType", "(", "TypeBuilder", "<", "T", ">", "builder", ")", "{", "this", ".", "type", "=", "builder", ".", "getClassType", "(", ")", ";", "this", ".", "baseType", "=", "builder", ".", "getBaseType", "(", ")", ";", "this", ".", "name", "=", "builder", ".", "getName", "(", ")", ";", "this", ".", "cacheable", "=", "builder", ".", "isCacheable", "(", ")", ";", "this", ".", "readOnly", "=", "builder", ".", "isReadOnly", "(", ")", ";", "this", ".", "immutable", "=", "builder", ".", "isImmutable", "(", ")", ";", "this", ".", "stateless", "=", "builder", ".", "isStateless", "(", ")", ";", "this", ".", "factory", "=", "builder", ".", "getFactory", "(", ")", ";", "this", ".", "proxyProvider", "=", "builder", ".", "getProxyProvider", "(", ")", ";", "this", ".", "tableCreateAttributes", "=", "builder", ".", "getTableCreateAttributes", "(", ")", ";", "this", ".", "builderFactory", "=", "builder", ".", "getBuilderFactory", "(", ")", ";", "this", ".", "buildFunction", "=", "builder", ".", "getBuildFunction", "(", ")", ";", "LinkedHashSet", "<", "Attribute", "<", "T", ",", "?", ">", ">", "attributes", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "LinkedHashSet", "<", "Attribute", "<", "T", ",", "?", ">", ">", "keyAttributes", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "Attribute", "<", "T", ",", "?", ">", "attribute", ":", "builder", ".", "getAttributes", "(", ")", ")", "{", "setDeclaringType", "(", "attribute", ")", ";", "attributes", ".", "add", "(", "attribute", ")", ";", "if", "(", "attribute", ".", "isKey", "(", ")", ")", "{", "keyAttributes", ".", "add", "(", "attribute", ")", ";", "}", "}", "this", ".", "attributes", "=", "Collections", ".", "unmodifiableSet", "(", "attributes", ")", ";", "this", ".", "keyAttributes", "=", "Collections", ".", "unmodifiableSet", "(", "keyAttributes", ")", ";", "if", "(", "keyAttributes", ".", "size", "(", ")", "=", "=", "1", ")", "{", "keyAttribute", "=", "keyAttributes", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "}", "for", "(", "QueryExpression", "<", "?", ">", "expression", ":", "builder", ".", "expressions", ")", "{", "setDeclaringType", "(", "expression", ")", ";", "}", "if", "(", "factory", "=", "=", "null", ")", "{", "factory", "=", "new", "Supplier", "<", "T", ">", "(", ")", "{", "@", "Override", "public", "T", "get", "(", ")", "{", "try", "{", "return", "getClassType", "(", ")", ".", "newInstance", "(", ")", ";", "}", "catch", "(", "InstantiationException", "|", "IllegalAccessException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "}", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "T", "get", "(", ")", "{", "try", "{", "return", "getClassType", "(", ")", ".", "newInstance", "(", ")", ";", "}", "catch", "(", "InstantiationException", "|", "IllegalAccessException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "setDeclaringType", "(", "Object", "expression", ")", "{", "if", "(", "expression", "instanceof", "TypeDeclarable", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "TypeDeclarable", "<", "T", ">", "declarable", "=", "(", "TypeDeclarable", "<", "T", ">", ")", "expression", ";", "declarable", ".", "setDeclaringType", "(", "this", ")", ";", "}", "}", "</s>"]
["<s>", "BaseType", "(", ")", "{", "cacheable", "=", "true", ";", "referencedTypes", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getName", "(", ")", "{", "return", "name", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "T", ">", "getClassType", "(", ")", "{", "return", "type", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "?", "super", "T", ">", "getBaseType", "(", ")", "{", "return", "baseType", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ExpressionType", "getExpressionType", "(", ")", "{", "return", "ExpressionType", ".", "NAME", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isCacheable", "(", ")", "{", "return", "cacheable", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isImmutable", "(", ")", "{", "return", "immutable", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isReadOnly", "(", ")", "{", "return", "readOnly", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isStateless", "(", ")", "{", "return", "stateless", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isBuildable", "(", ")", "{", "return", "builderFactory", "!", "=", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "Attribute", "<", "T", ",", "?", ">", ">", "getAttributes", "(", ")", "{", "return", "attributes", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "Attribute", "<", "T", ",", "?", ">", ">", "getKeyAttributes", "(", ")", "{", "return", "keyAttributes", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Attribute", "<", "T", ",", "?", ">", "getSingleKeyAttribute", "(", ")", "{", "return", "keyAttribute", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "B", ">", "Supplier", "<", "B", ">", "getBuilderFactory", "(", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Supplier", "<", "B", ">", "supplier", "=", "(", "Supplier", "<", "B", ">", ")", "builderFactory", ";", "return", "supplier", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "B", ">", "Function", "<", "B", ",", "T", ">", "getBuildFunction", "(", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Function", "<", "B", ",", "T", ">", "function", "=", "(", "Function", "<", "B", ",", "T", ">", ")", "buildFunction", ";", "return", "function", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Supplier", "<", "T", ">", "getFactory", "(", ")", "{", "return", "factory", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Function", "<", "T", ",", "EntityProxy", "<", "T", ">", ">", "getProxyProvider", "(", ")", "{", "return", "proxyProvider", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "[", "]", "getTableCreateAttributes", "(", ")", "{", "return", "tableCreateAttributes", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "Type", ")", "{", "Type", "other", "=", "(", "Type", ")", "obj", ";", "return", "Objects", ".", "equals", "(", "getClassType", "(", ")", ",", "other", ".", "getClassType", "(", ")", ")", "&", "&", "Objects", ".", "equals", "(", "getName", "(", ")", ",", "other", ".", "getName", "(", ")", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "name", ",", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", "+", "type", ".", "toString", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "name", "+", "\"", "<STR_LIT>", "\"", "+", "readOnly", "+", "\"", "<STR_LIT>", "\"", "+", "immutable", "+", "\"", "<STR_LIT>", "\"", "+", "stateless", "+", "\"", "<STR_LIT>", "\"", "+", "cacheable", ";", "}", "</s>"]
["<s>", "String", "getName", "(", ")", ";", "</s>"]
["<s>", "Class", "<", "V", ">", "getClassType", "(", ")", ";", "</s>"]
["<s>", "Type", "<", "T", ">", "getDeclaringType", "(", ")", ";", "</s>"]
["<s>", "PrimitiveKind", "getPrimitiveKind", "(", ")", ";", "</s>"]
["<s>", "Initializer", "<", "T", ",", "V", ">", "getInitializer", "(", ")", ";", "</s>"]
["<s>", "Property", "<", "T", ",", "V", ">", "getProperty", "(", ")", ";", "</s>"]
["<s>", "String", "getPropertyName", "(", ")", ";", "</s>"]
["<s>", "Property", "<", "T", ",", "PropertyState", ">", "getPropertyState", "(", ")", ";", "</s>"]
["<s>", "Property", "<", "?", ",", "V", ">", "getBuilderProperty", "(", ")", ";", "</s>"]
["<s>", "boolean", "isLazy", "(", ")", ";", "</s>"]
["<s>", "boolean", "isAssociation", "(", ")", ";", "</s>"]
["<s>", "boolean", "isKey", "(", ")", ";", "</s>"]
["<s>", "boolean", "isUnique", "(", ")", ";", "</s>"]
["<s>", "boolean", "isGenerated", "(", ")", ";", "</s>"]
["<s>", "boolean", "isNullable", "(", ")", ";", "</s>"]
["<s>", "boolean", "isForeignKey", "(", ")", ";", "</s>"]
["<s>", "boolean", "isVersion", "(", ")", ";", "</s>"]
["<s>", "boolean", "isIndexed", "(", ")", ";", "</s>"]
["<s>", "String", "getDefaultValue", "(", ")", ";", "</s>"]
["<s>", "Integer", "getLength", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "String", ">", "getIndexNames", "(", ")", ";", "</s>"]
["<s>", "String", "getCollate", "(", ")", ";", "</s>"]
["<s>", "Class", "<", "?", ">", "getElementClass", "(", ")", ";", "</s>"]
["<s>", "Class", "<", "?", ">", "getMapKeyClass", "(", ")", ";", "</s>"]
["<s>", "Class", "<", "?", ">", "getReferencedClass", "(", ")", ";", "</s>"]
["<s>", "Cardinality", "getCardinality", "(", ")", ";", "</s>"]
["<s>", "ReferentialAction", "getDeleteAction", "(", ")", ";", "</s>"]
["<s>", "ReferentialAction", "getUpdateAction", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "CascadeAction", ">", "getCascadeActions", "(", ")", ";", "</s>"]
["<s>", "Converter", "<", "V", ",", "?", ">", "getConverter", "(", ")", ";", "</s>"]
["<s>", "Supplier", "<", "Attribute", ">", "getMappedAttribute", "(", ")", ";", "</s>"]
["<s>", "Supplier", "<", "Attribute", ">", "getReferencedAttribute", "(", ")", ";", "</s>"]
["<s>", "Supplier", "<", "Attribute", ">", "getOrderByAttribute", "(", ")", ";", "</s>"]
["<s>", "Order", "getOrderByDirection", "(", ")", ";", "</s>"]
["<s>", "public", "EntityModelBuilder", "(", "String", "name", ")", "{", "this", ".", "name", "=", "name", ";", "}", "</s>"]
["<s>", "public", "EntityModelBuilder", "addType", "(", "Type", "<", "?", ">", "type", ")", "{", "types", ".", "add", "(", "Objects", ".", "requireNotNull", "(", "type", ")", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "EntityModel", "build", "(", ")", "{", "return", "new", "ImmutableEntityModel", "(", "name", ",", "types", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "public", "MapAttributeBuilder", "(", "String", "name", ",", "Class", "<", "?", "extends", "Map", ">", "type", ",", "Class", "<", "K", ">", "keyType", ",", "Class", "<", "V", ">", "valueType", ")", "{", "super", "(", "name", ",", "(", "Class", "<", "M", ">", ")", "type", ")", ";", "this", ".", "mapKeyClass", "=", "Objects", ".", "requireNotNull", "(", "keyType", ")", ";", "this", ".", "elementClass", "=", "Objects", ".", "requireNotNull", "(", "valueType", ")", ";", "}", "</s>"]
["<s>", "<", "J", ">", "JoinOn", "<", "E", ">", "join", "(", "Class", "<", "J", ">", "type", ")", ";", "</s>"]
["<s>", "<", "J", ">", "JoinOn", "<", "E", ">", "leftJoin", "(", "Class", "<", "J", ">", "type", ")", ";", "</s>"]
["<s>", "<", "J", ">", "JoinOn", "<", "E", ">", "rightJoin", "(", "Class", "<", "J", ">", "type", ")", ";", "</s>"]
["<s>", "<", "J", ">", "JoinOn", "<", "E", ">", "join", "(", "Return", "<", "J", ">", "query", ")", ";", "</s>"]
["<s>", "<", "J", ">", "JoinOn", "<", "E", ">", "leftJoin", "(", "Return", "<", "J", ">", "query", ")", ";", "</s>"]
["<s>", "<", "J", ">", "JoinOn", "<", "E", ">", "rightJoin", "(", "Return", "<", "J", ">", "query", ")", ";", "</s>"]
["<s>", "E", "value", "(", ")", ";", "</s>"]
["<s>", "void", "consume", "(", "Consumer", "<", "?", "super", "E", ">", "action", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "CompletableFuture", "<", "E", ">", "toCompletableFuture", "(", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "CompletableFuture", "<", "E", ">", "toCompletableFuture", "(", "Executor", "executor", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "rx", ".", "Single", "<", "E", ">", "toSingle", "(", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "Supplier", "<", "E", ">", "toSupplier", "(", ")", ";", "</s>"]
["<s>", "Q", "exists", "(", "Return", "<", "?", ">", "query", ")", ";", "</s>"]
["<s>", "Q", "notExists", "(", "Return", "<", "?", ">", "query", ")", ";", "</s>"]
["<s>", "<", "V", ">", "Q", "orderBy", "(", "Expression", "<", "V", ">", "expression", ")", ";", "</s>"]
["<s>", "Q", "orderBy", "(", "Expression", "<", "?", ">", ".", ".", ".", "expressions", ")", ";", "</s>"]
["<s>", "<", "V", ">", "Q", "and", "(", "Condition", "<", "V", ",", "?", ">", "condition", ")", ";", "</s>"]
["<s>", "<", "V", ">", "Q", "or", "(", "Condition", "<", "V", ",", "?", ">", "condition", ")", ";", "</s>"]
["<s>", "<", "V", ">", "Update", "<", "E", ">", "set", "(", "Expression", "<", "V", ">", "expression", ",", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "union", "(", ")", ";", "</s>"]
["<s>", "Q", "unionAll", "(", ")", ";", "</s>"]
["<s>", "Q", "intersect", "(", ")", ";", "</s>"]
["<s>", "Q", "except", "(", ")", ";", "</s>"]
["<s>", "void", "add", "(", "E", "element", ")", ";", "</s>"]
["<s>", "void", "remove", "(", "E", "element", ")", ";", "</s>"]
["<s>", "<", "V", ">", "Insertion", "<", "E", ">", "value", "(", "Expression", "<", "V", ">", "expression", ",", "V", "value", ")", ";", "</s>"]
["<s>", "<", "V", ">", "V", "get", "(", "Expression", "<", "V", ">", "key", ")", ";", "</s>"]
["<s>", "<", "V", ">", "V", "get", "(", "String", "key", ")", ";", "</s>"]
["<s>", "<", "V", ">", "V", "get", "(", "int", "index", ")", ";", "</s>"]
["<s>", "int", "count", "(", ")", ";", "</s>"]
["<s>", "<", "V", ">", "HavingAndOr", "<", "E", ">", "having", "(", "Condition", "<", "V", ",", "?", ">", "condition", ")", ";", "</s>"]
["<s>", "protected", "BaseResult", "(", ")", "{", "this", "(", "null", ")", ";", "}", "</s>"]
["<s>", "protected", "BaseResult", "(", "Integer", "maxSize", ")", "{", "this", ".", "maxSize", "=", "maxSize", ";", "this", ".", "iterators", "=", "new", "ConcurrentLinkedQueue", "<", ">", "(", ")", ";", "this", ".", "closed", "=", "new", "AtomicBoolean", "(", ")", ";", "}", "</s>"]
["<s>", "public", "abstract", "CloseableIterator", "<", "E", ">", "iterator", "(", "int", "skip", ",", "int", "take", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "E", ">", "toList", "(", ")", "{", "List", "<", "E", ">", "list", "=", "maxSize", "=", "=", "null", "?", "new", "ArrayList", "<", "E", ">", "(", ")", ":", "new", "ArrayList", "<", "E", ">", "(", "maxSize", ")", ";", "collect", "(", "list", ")", ";", "return", "Collections", ".", "unmodifiableList", "(", "list", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "C", "extends", "Collection", "<", "E", ">", ">", "C", "collect", "(", "C", "collection", ")", "{", "try", "(", "CloseableIterator", "<", "E", ">", "iterator", "=", "iterator", "(", ")", ")", "{", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "collection", ".", "add", "(", "iterator", ".", "next", "(", ")", ")", ";", "}", "}", "return", "collection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "first", "(", ")", "{", "try", "(", "CloseableIterator", "<", "E", ">", "iterator", "=", "iterator", "(", ")", ")", "{", "return", "iterator", ".", "next", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "firstOr", "(", "E", "defaultElement", ")", "{", "try", "(", "CloseableIterator", "<", "E", ">", "iterator", "=", "iterator", "(", ")", ")", "{", "if", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "return", "iterator", ".", "next", "(", ")", ";", "}", "}", "return", "defaultElement", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "firstOr", "(", "Supplier", "<", "E", ">", "supplier", ")", "{", "try", "(", "CloseableIterator", "<", "E", ">", "iterator", "=", "iterator", "(", ")", ")", "{", "if", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "return", "iterator", ".", "next", "(", ")", ";", "}", "}", "return", "supplier", ".", "get", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "firstOrNull", "(", ")", "{", "return", "firstOr", "(", "(", "E", ")", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CloseableIterator", "<", "E", ">", "iterator", "(", ")", "{", "if", "(", "closed", ".", "get", "(", ")", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "CloseableIterator", "<", "E", ">", "iterator", "=", "iterator", "(", "0", ",", "Integer", ".", "MAX_VALUE", ")", ";", "iterators", ".", "add", "(", "iterator", ")", ";", "return", "iterator", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Stream", "<", "E", ">", "stream", "(", ")", "{", "final", "CloseableIterator", "<", "E", ">", "iterator", "=", "iterator", "(", ")", ";", "Spliterator", "<", "E", ">", "spliterator", "=", "maxSize", "=", "=", "null", "?", "Spliterators", ".", "spliteratorUnknownSize", "(", "iterator", ",", "0", ")", ":", "Spliterators", ".", "spliterator", "(", "iterator", ",", "maxSize", ",", "0", ")", ";", "return", "StreamSupport", ".", "stream", "(", "spliterator", ",", "false", ")", ".", "onClose", "(", "new", "Runnable", "(", ")", "{", "@", "Override", "public", "void", "run", "(", ")", "{", "iterator", ".", "close", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "run", "(", ")", "{", "iterator", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "rx", ".", "Observable", "<", "E", ">", "toObservable", "(", ")", "{", "return", "RxSupport", ".", "toObservable", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "rx", ".", "Observable", "<", "Result", "<", "E", ">", ">", "toSelfObservable", "(", ")", "{", "return", "RxSupport", ".", "toResultObservable", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "each", "(", "Consumer", "<", "?", "super", "E", ">", "action", ")", "{", "try", "(", "CloseableIterator", "<", "E", ">", "iterator", "=", "iterator", "(", ")", ")", "{", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "action", ".", "accept", "(", "iterator", ".", "next", "(", ")", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "K", ">", "Map", "<", "K", ",", "E", ">", "toMap", "(", "Expression", "<", "K", ">", "key", ")", "{", "return", "toMap", "(", "key", ",", "new", "HashMap", "<", "K", ",", "E", ">", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "public", "<", "K", ">", "Map", "<", "K", ",", "E", ">", "toMap", "(", "Expression", "<", "K", ">", "key", ",", "Map", "<", "K", ",", "E", ">", "map", ")", "{", "try", "(", "CloseableIterator", "<", "E", ">", "iterator", "=", "iterator", "(", ")", ")", "{", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "E", "value", "=", "iterator", ".", "next", "(", ")", ";", "Type", "<", "E", ">", "type", "=", "null", ";", "if", "(", "key", "instanceof", "Attribute", ")", "{", "Attribute", "attribute", "=", "(", "Attribute", ")", "key", ";", "type", "=", "(", "Type", "<", "E", ">", ")", "attribute", ".", "getDeclaringType", "(", ")", ";", "}", "if", "(", "type", "!", "=", "null", ")", "{", "EntityProxy", "<", "E", ">", "proxy", "=", "type", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "value", ")", ";", "map", ".", "put", "(", "proxy", ".", "get", "(", "(", "Attribute", "<", "E", ",", "K", ">", ")", "key", ")", ",", "value", ")", ";", "}", "else", "if", "(", "value", "instanceof", "Tuple", ")", "{", "map", ".", "put", "(", "(", "(", "Tuple", ")", "value", ")", ".", "get", "(", "key", ")", ",", "value", ")", ";", "}", "else", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "}", "}", "return", "map", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "if", "(", "closed", ".", "compareAndSet", "(", "false", ",", "true", ")", ")", "{", "CloseableIterator", "<", "E", ">", "iterator", "=", "iterators", ".", "poll", "(", ")", ";", "while", "(", "iterator", "!", "=", "null", ")", "{", "iterator", ".", "close", "(", ")", ";", "iterator", "=", "iterators", ".", "poll", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "Exists", "<", "SetGroupByOrderByLimit", "<", "E", ">", ">", "where", "(", ")", ";", "</s>"]
["<s>", "<", "V", ">", "WhereAndOr", "<", "E", ">", "where", "(", "Condition", "<", "V", ",", "?", ">", "condition", ")", ";", "</s>"]
["<s>", "Return", "<", "E", ">", "offset", "(", "int", "offset", ")", ";", "</s>"]
["<s>", "<", "V", ">", "JoinAndOr", "<", "E", ">", "on", "(", "Condition", "<", "V", ",", "?", ">", "field", ")", ";", "</s>"]
["<s>", "Order", "getOrder", "(", ")", ";", "</s>"]
["<s>", "NullOrder", "getNullOrder", "(", ")", ";", "</s>"]
["<s>", "OrderingExpression", "<", "V", ">", "nullsFirst", "(", ")", ";", "</s>"]
["<s>", "OrderingExpression", "<", "V", ">", "nullsLast", "(", ")", ";", "</s>"]
["<s>", "OrderingExpression", "<", "V", ">", "asc", "(", ")", ";", "</s>"]
["<s>", "OrderingExpression", "<", "V", ">", "desc", "(", ")", ";", "</s>"]
["<s>", "Abs", "<", "V", ">", "abs", "(", ")", ";", "</s>"]
["<s>", "Max", "<", "V", ">", "max", "(", ")", ";", "</s>"]
["<s>", "Min", "<", "V", ">", "min", "(", ")", ";", "</s>"]
["<s>", "Avg", "<", "V", ">", "avg", "(", ")", ";", "</s>"]
["<s>", "Sum", "<", "V", ">", "sum", "(", ")", ";", "</s>"]
["<s>", "Round", "<", "V", ">", "round", "(", ")", ";", "</s>"]
["<s>", "Round", "<", "V", ">", "round", "(", "int", "decimals", ")", ";", "</s>"]
["<s>", "Trim", "<", "V", ">", "trim", "(", "String", "chars", ")", ";", "</s>"]
["<s>", "Trim", "<", "V", ">", "trim", "(", ")", ";", "</s>"]
["<s>", "Substr", "<", "V", ">", "substr", "(", "int", "offset", ",", "int", "length", ")", ";", "</s>"]
["<s>", "Upper", "<", "V", ">", "upper", "(", ")", ";", "</s>"]
["<s>", "Lower", "<", "V", ">", "lower", "(", ")", ";", "</s>"]
["<s>", "Function", "<", "V", ">", "function", "(", "String", "name", ")", ";", "</s>"]
["<s>", "Offset", "<", "E", ">", "limit", "(", "int", "limit", ")", ";", "</s>"]
["<s>", "String", "getName", "(", ")", ";", "</s>"]
["<s>", "Class", "<", "V", ">", "getClassType", "(", ")", ";", "</s>"]
["<s>", "ExpressionType", "getExpressionType", "(", ")", ";", "</s>"]
["<s>", "Selection", "<", "E", ">", "select", "(", "Expression", "<", "?", ">", ".", ".", ".", "attributes", ")", ";", "</s>"]
["<s>", "Selection", "<", "E", ">", "select", "(", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "select", ")", ";", "</s>"]
["<s>", "public", "BaseScalar", "(", "Executor", "executor", ")", "{", "this", ".", "executor", "=", "executor", ";", "}", "</s>"]
["<s>", "protected", "abstract", "E", "evaluate", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "synchronized", "E", "value", "(", ")", "{", "if", "(", "!", "computed", ")", "{", "computed", "=", "true", ";", "value", "=", "evaluate", "(", ")", ";", "}", "return", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "consume", "(", "Consumer", "<", "?", "super", "E", ">", "action", ")", "{", "action", ".", "accept", "(", "value", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CompletableFuture", "<", "E", ">", "toCompletableFuture", "(", ")", "{", "return", "toCompletableFuture", "(", "this", ".", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CompletableFuture", "<", "E", ">", "toCompletableFuture", "(", "Executor", "executor", ")", "{", "final", "java", ".", "util", ".", "function", ".", "Supplier", "<", "E", ">", "supplier", "=", "new", "java", ".", "util", ".", "function", ".", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "BaseScalar", ".", "this", ".", "value", "(", ")", ";", "}", "}", ";", "return", "executor", "=", "=", "null", "?", "CompletableFuture", ".", "supplyAsync", "(", "supplier", ")", ":", "CompletableFuture", ".", "supplyAsync", "(", "supplier", ",", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "BaseScalar", ".", "this", ".", "value", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "rx", ".", "Single", "<", "E", ">", "toSingle", "(", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Supplier", "<", "E", ">", "toSupplier", "(", ")", "{", "return", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "value", "(", ")", ";", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "value", "(", ")", ";", "}", "</s>"]
["<s>", "public", "MutableTuple", "(", "int", "size", ")", "{", "if", "(", "size", "<", "=", "0", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "map", "=", "new", "HashMap", "<", ">", "(", "size", ")", ";", "values", "=", "new", "Object", "[", "size", "]", ";", "}", "</s>"]
["<s>", "private", "String", "keyOf", "(", "Expression", "<", "?", ">", "expression", ")", "{", "String", "key", "=", "expression", ".", "getName", "(", ")", ";", "if", "(", "expression", "instanceof", "Aliasable", ")", "{", "String", "alias", "=", "(", "(", "Aliasable", ")", "expression", ")", ".", "getAlias", "(", ")", ";", "if", "(", "alias", "!", "=", "null", ")", "{", "key", "=", "alias", ";", "}", "}", "return", "key", "=", "=", "null", "?", "null", ":", "key", ".", "toLowerCase", "(", "Locale", ".", "ROOT", ")", ";", "}", "</s>"]
["<s>", "public", "void", "set", "(", "int", "index", ",", "Expression", "<", "?", ">", "expression", ",", "Object", "value", ")", "{", "map", ".", "put", "(", "keyOf", "(", "expression", ")", ",", "value", ")", ";", "values", "[", "index", "]", "=", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "V", "get", "(", "Expression", "<", "V", ">", "key", ")", "{", "Object", "value", "=", "map", ".", "get", "(", "keyOf", "(", "key", ")", ")", ";", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "Class", "<", "V", ">", "type", "=", "key", ".", "getClassType", "(", ")", ";", "if", "(", "type", ".", "isPrimitive", "(", ")", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "V", "result", "=", "(", "V", ")", "boxedTypes", ".", "get", "(", "type", ")", ".", "cast", "(", "value", ")", ";", "return", "result", ";", "}", "return", "type", ".", "cast", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "<", "V", ">", "V", "get", "(", "int", "index", ")", "{", "return", "(", "V", ")", "values", "[", "index", "]", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "<", "V", ">", "V", "get", "(", "String", "key", ")", "{", "return", "(", "V", ")", "map", ".", "get", "(", "key", ".", "toLowerCase", "(", "Locale", ".", "ROOT", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "count", "(", ")", "{", "return", "values", ".", "length", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Arrays", ".", "hashCode", "(", "values", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "MutableTuple", ")", "{", "MutableTuple", "other", "=", "(", "MutableTuple", ")", "obj", ";", "return", "Arrays", ".", "equals", "(", "values", ",", "other", ".", "values", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", ")", ";", "int", "index", "=", "0", ";", "sb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "for", "(", "Map", ".", "Entry", "<", "String", ",", "Object", ">", "entry", ":", "map", ".", "entrySet", "(", ")", ")", "{", "if", "(", "index", ">", "0", ")", "{", "sb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "Object", "value", "=", "entry", ".", "getValue", "(", ")", ";", "sb", ".", "append", "(", "value", "=", "=", "null", "?", "\"", "<STR_LIT>", "\"", ":", "entry", ".", "getValue", "(", ")", ".", "toString", "(", ")", ")", ";", "index", "+", "+", ";", "}", "sb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "return", "sb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "public", "AliasedExpression", "(", "Expression", "<", "V", ">", "expression", ",", "String", "alias", ")", "{", "this", "(", "expression", ",", "expression", ".", "getName", "(", ")", ",", "alias", ")", ";", "}", "</s>"]
["<s>", "public", "AliasedExpression", "(", "Expression", "<", "V", ">", "expression", ",", "String", "name", ",", "String", "alias", ")", "{", "this", ".", "expression", "=", "expression", ";", "this", ".", "alias", "=", "alias", ";", "this", ".", "name", "=", "name", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getName", "(", ")", "{", "return", "name", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "V", ">", "getClassType", "(", ")", "{", "return", "expression", ".", "getClassType", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ExpressionType", "getExpressionType", "(", ")", "{", "return", "ExpressionType", ".", "ALIAS", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getAlias", "(", ")", "{", "return", "alias", ";", "}", "</s>"]
["<s>", "public", "Expression", "<", "V", ">", "innerExpression", "(", ")", "{", "return", "expression", ";", "}", "</s>"]
["<s>", "T", "as", "(", "String", "alias", ")", ";", "</s>"]
["<s>", "String", "getAlias", "(", ")", ";", "</s>"]
["<s>", "L", "getLeftOperand", "(", ")", ";", "</s>"]
["<s>", "Operator", "getOperator", "(", ")", ";", "</s>"]
["<s>", "R", "getRightOperand", "(", ")", ";", "</s>"]
["<s>", "public", "ModifiableResult", "(", "Result", "<", "E", ">", "result", ",", "CollectionChanges", "<", "?", ",", "E", ">", "changes", ")", "{", "this", ".", "result", "=", "result", ";", "this", ".", "changes", "=", "changes", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CollectionObserver", "<", "E", ">", "observer", "(", ")", "{", "return", "changes", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "add", "(", "E", "element", ")", "{", "changes", ".", "elementAdded", "(", "element", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "remove", "(", "E", "element", ")", "{", "changes", ".", "elementRemoved", "(", "element", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CloseableIterator", "<", "E", ">", "iterator", "(", ")", "{", "final", "Iterator", "<", "E", ">", "queried", "=", "result", "=", "=", "null", "?", "Collections", ".", "<", "E", ">", "emptyIterator", "(", ")", ":", "result", ".", "iterator", "(", ")", ";", "final", "Iterator", "<", "E", ">", "added", "=", "changes", ".", "addedElements", "(", ")", ".", "iterator", "(", ")", ";", "final", "Iterator", "<", "E", ">", "composite", "=", "new", "CompositeIterator", "<", ">", "(", "queried", ",", "added", ")", ";", "final", "Iterator", "<", "E", ">", "filtered", "=", "new", "FilteringIterator", "<", ">", "(", "composite", ",", "new", "Predicate", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "boolean", "test", "(", "E", "e", ")", "{", "return", "!", "changes", ".", "removedElements", "(", ")", ".", "contains", "(", "e", ")", ";", "}", "}", ")", ";", "return", "new", "CloseableIterator", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "void", "close", "(", ")", "{", "if", "(", "queried", "instanceof", "CloseableIterator", ")", "{", "CloseableIterator", "closeable", "=", "(", "CloseableIterator", ")", "queried", ";", "closeable", ".", "close", "(", ")", ";", "}", "}", "@", "Override", "public", "boolean", "hasNext", "(", ")", "{", "return", "filtered", ".", "hasNext", "(", ")", ";", "}", "@", "Override", "public", "E", "next", "(", ")", "{", "return", "filtered", ".", "next", "(", ")", ";", "}", "@", "Override", "public", "void", "remove", "(", ")", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "test", "(", "E", "e", ")", "{", "return", "!", "changes", ".", "removedElements", "(", ")", ".", "contains", "(", "e", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "if", "(", "queried", "instanceof", "CloseableIterator", ")", "{", "CloseableIterator", "closeable", "=", "(", "CloseableIterator", ")", "queried", ";", "closeable", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasNext", "(", ")", "{", "return", "filtered", ".", "hasNext", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "next", "(", ")", "{", "return", "filtered", ".", "next", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "remove", "(", ")", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "if", "(", "result", "!", "=", "null", ")", "{", "result", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "List", "<", "E", ">", "toList", "(", ")", "{", "return", "result", "=", "=", "null", "?", "Collections", ".", "<", "E", ">", "emptyList", "(", ")", ":", "result", ".", "toList", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "C", "extends", "Collection", "<", "E", ">", ">", "C", "collect", "(", "C", "collection", ")", "{", "if", "(", "result", "!", "=", "null", ")", "{", "return", "result", ".", "collect", "(", "collection", ")", ";", "}", "return", "collection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "first", "(", ")", "throws", "NoSuchElementException", "{", "if", "(", "result", "=", "=", "null", ")", "{", "throw", "new", "NoSuchElementException", "(", ")", ";", "}", "return", "result", ".", "first", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "firstOr", "(", "E", "defaultElement", ")", "{", "return", "result", "=", "=", "null", "?", "defaultElement", ":", "result", ".", "firstOr", "(", "defaultElement", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "firstOrNull", "(", ")", "{", "return", "firstOr", "(", "(", "E", ")", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "firstOr", "(", "Supplier", "<", "E", ">", "supplier", ")", "{", "if", "(", "result", "!", "=", "null", ")", "{", "return", "result", ".", "firstOr", "(", "supplier", ")", ";", "}", "return", "supplier", ".", "get", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "each", "(", "Consumer", "<", "?", "super", "E", ">", "action", ")", "{", "if", "(", "result", "!", "=", "null", ")", "{", "result", ".", "each", "(", "action", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Stream", "<", "E", ">", "stream", "(", ")", "{", "return", "result", "=", "=", "null", "?", "StreamSupport", ".", "stream", "(", "Spliterators", ".", "<", "E", ">", "emptySpliterator", "(", ")", ",", "false", ")", ":", "result", ".", "stream", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "K", ">", "Map", "<", "K", ",", "E", ">", "toMap", "(", "Expression", "<", "K", ">", "key", ")", "{", "return", "result", "=", "=", "null", "?", "Collections", ".", "<", "K", ",", "E", ">", "emptyMap", "(", ")", ":", "result", ".", "toMap", "(", "key", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "K", ">", "Map", "<", "K", ",", "E", ">", "toMap", "(", "Expression", "<", "K", ">", "key", ",", "Map", "<", "K", ",", "E", ">", "map", ")", "{", "if", "(", "result", "!", "=", "null", ")", "{", "return", "result", ".", "toMap", "(", "key", ",", "map", ")", ";", "}", "return", "map", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "rx", ".", "Observable", "<", "E", ">", "toObservable", "(", ")", "{", "return", "result", "=", "=", "null", "?", "rx", ".", "Observable", ".", "<", "E", ">", "empty", "(", ")", ":", "result", ".", "toObservable", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Observable", "<", "Result", "<", "E", ">", ">", "toSelfObservable", "(", ")", "{", "return", "result", "=", "=", "null", "?", "rx", ".", "Observable", ".", "<", "Result", "<", "E", ">", ">", "empty", "(", ")", ":", "result", ".", "toSelfObservable", "(", ")", ";", "}", "</s>"]
["<s>", "JoinWhereGroupByOrderBy", "<", "E", ">", "from", "(", "Class", "<", "?", ">", ".", ".", ".", "types", ")", ";", "</s>"]
["<s>", "JoinWhereGroupByOrderBy", "<", "E", ">", "from", "(", "Supplier", "<", "?", ">", ".", ".", ".", "subqueries", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "R", "get", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "CloseableIterator", "<", "E", ">", "iterator", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "void", "close", "(", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "Stream", "<", "E", ">", "stream", "(", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "rx", ".", "Observable", "<", "E", ">", "toObservable", "(", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "rx", ".", "Observable", "<", "Result", "<", "E", ">", ">", "toSelfObservable", "(", ")", ";", "</s>"]
["<s>", "<", "C", "extends", "Collection", "<", "E", ">", ">", "C", "collect", "(", "C", "collection", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "E", "first", "(", ")", "throws", "NoSuchElementException", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "E", "firstOr", "(", "E", "defaultElement", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "E", "firstOr", "(", "Supplier", "<", "E", ">", "supplier", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "E", "firstOrNull", "(", ")", ";", "</s>"]
["<s>", "void", "each", "(", "Consumer", "<", "?", "super", "E", ">", "action", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "List", "<", "E", ">", "toList", "(", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "<", "K", ">", "Map", "<", "K", ",", "E", ">", "toMap", "(", "Expression", "<", "K", ">", "key", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "<", "K", ">", "Map", "<", "K", ",", "E", ">", "toMap", "(", "Expression", "<", "K", ">", "key", ",", "Map", "<", "K", ",", "E", ">", "map", ")", ";", "</s>"]
["<s>", "public", "static", "<", "V", ">", "NamedExpression", "<", "V", ">", "of", "(", "String", "name", ",", "Class", "<", "V", ">", "type", ")", "{", "return", "new", "NamedExpression", "<", ">", "(", "name", ",", "type", ")", ";", "}", "</s>"]
["<s>", "public", "static", "NamedExpression", "<", "Integer", ">", "ofInteger", "(", "String", "name", ")", "{", "return", "new", "NamedExpression", "<", ">", "(", "name", ",", "Integer", ".", "class", ")", ";", "}", "</s>"]
["<s>", "public", "static", "NamedExpression", "<", "String", ">", "ofString", "(", "String", "name", ")", "{", "return", "new", "NamedExpression", "<", ">", "(", "name", ",", "String", ".", "class", ")", ";", "}", "</s>"]
["<s>", "private", "NamedExpression", "(", "String", "name", ",", "Class", "<", "V", ">", "type", ")", "{", "this", ".", "name", "=", "name", ";", "this", ".", "type", "=", "type", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getName", "(", ")", "{", "return", "name", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "V", ">", "getClassType", "(", ")", "{", "return", "type", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ExpressionType", "getExpressionType", "(", ")", "{", "return", "ExpressionType", ".", "NAME", ";", "}", "</s>"]
["<s>", "Q", "groupBy", "(", "Expression", "<", "?", ">", ".", ".", ".", "expressions", ")", ";", "</s>"]
["<s>", "<", "V", ">", "Q", "groupBy", "(", "Expression", "<", "V", ">", "expression", ")", ";", "</s>"]
["<s>", "Q", "equal", "(", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "notEqual", "(", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "lessThan", "(", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "greaterThan", "(", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "lessThanOrEqual", "(", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "greaterThanOrEqual", "(", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "eq", "(", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "ne", "(", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "lt", "(", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "gt", "(", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "lte", "(", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "gte", "(", "V", "value", ")", ";", "</s>"]
["<s>", "Q", "equal", "(", "Expression", "<", "V", ">", "value", ")", ";", "</s>"]
["<s>", "Q", "notEqual", "(", "Expression", "<", "V", ">", "value", ")", ";", "</s>"]
["<s>", "Q", "lessThan", "(", "Expression", "<", "V", ">", "value", ")", ";", "</s>"]
["<s>", "Q", "greaterThan", "(", "Expression", "<", "V", ">", "value", ")", ";", "</s>"]
["<s>", "Q", "lessThanOrEqual", "(", "Expression", "<", "V", ">", "value", ")", ";", "</s>"]
["<s>", "Q", "greaterThanOrEqual", "(", "Expression", "<", "V", ">", "value", ")", ";", "</s>"]
["<s>", "Q", "eq", "(", "Expression", "<", "V", ">", "value", ")", ";", "</s>"]
["<s>", "Q", "ne", "(", "Expression", "<", "V", ">", "value", ")", ";", "</s>"]
["<s>", "Q", "lt", "(", "Expression", "<", "V", ">", "value", ")", ";", "</s>"]
["<s>", "Q", "gt", "(", "Expression", "<", "V", ">", "value", ")", ";", "</s>"]
["<s>", "Q", "lte", "(", "Expression", "<", "V", ">", "value", ")", ";", "</s>"]
["<s>", "Q", "gte", "(", "Expression", "<", "V", ">", "value", ")", ";", "</s>"]
["<s>", "Q", "in", "(", "Collection", "<", "V", ">", "values", ")", ";", "</s>"]
["<s>", "Q", "notIn", "(", "Collection", "<", "V", ">", "values", ")", ";", "</s>"]
["<s>", "Q", "in", "(", "Return", "<", "?", ">", "query", ")", ";", "</s>"]
["<s>", "Q", "notIn", "(", "Return", "<", "?", ">", "query", ")", ";", "</s>"]
["<s>", "Q", "isNull", "(", ")", ";", "</s>"]
["<s>", "Q", "notNull", "(", ")", ";", "</s>"]
["<s>", "Q", "like", "(", "String", "expression", ")", ";", "</s>"]
["<s>", "Q", "notLike", "(", "String", "expression", ")", ";", "</s>"]
["<s>", "Q", "between", "(", "V", "start", ",", "V", "end", ")", ";", "</s>"]
["<s>", "Q", "distinct", "(", ")", ";", "</s>"]
["<s>", "protected", "FieldExpression", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "abstract", "String", "getName", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "abstract", "ExpressionType", "getExpressionType", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "abstract", "Class", "<", "V", ">", "getClassType", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "Expression", "<", "V", ">", "as", "(", "String", "alias", ")", "{", "return", "new", "AliasedExpression", "<", ">", "(", "this", ",", "alias", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getAlias", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "OrderingExpression", "<", "V", ">", "asc", "(", ")", "{", "return", "new", "OrderExpression", "<", ">", "(", "this", ",", "Order", ".", "ASC", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "OrderingExpression", "<", "V", ">", "desc", "(", ")", "{", "return", "new", "OrderExpression", "<", ">", "(", "this", ",", "Order", ".", "DESC", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Abs", "<", "V", ">", "abs", "(", ")", "{", "return", "Abs", ".", "abs", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Max", "<", "V", ">", "max", "(", ")", "{", "return", "Max", ".", "max", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Min", "<", "V", ">", "min", "(", ")", "{", "return", "Min", ".", "min", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Avg", "<", "V", ">", "avg", "(", ")", "{", "return", "Avg", ".", "avg", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Sum", "<", "V", ">", "sum", "(", ")", "{", "return", "Sum", ".", "sum", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Round", "<", "V", ">", "round", "(", ")", "{", "return", "round", "(", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Round", "<", "V", ">", "round", "(", "int", "decimals", ")", "{", "return", "Round", ".", "round", "(", "this", ",", "decimals", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Trim", "<", "V", ">", "trim", "(", "String", "chars", ")", "{", "return", "Trim", ".", "trim", "(", "this", ",", "chars", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Trim", "<", "V", ">", "trim", "(", ")", "{", "return", "trim", "(", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Substr", "<", "V", ">", "substr", "(", "int", "offset", ",", "int", "length", ")", "{", "return", "Substr", ".", "substr", "(", "this", ",", "offset", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Upper", "<", "V", ">", "upper", "(", ")", "{", "return", "Upper", ".", "upper", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Lower", "<", "V", ">", "lower", "(", ")", "{", "return", "Lower", ".", "lower", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Function", "<", "V", ">", "function", "(", "String", "name", ")", "{", "return", "new", "Function", "<", "V", ">", "(", "name", ",", "getClassType", "(", ")", ")", "{", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "FieldExpression", ".", "this", "}", ";", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "FieldExpression", ".", "this", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "equal", "(", "V", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "isNull", "(", ")", ";", "}", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "EQUAL", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "notEqual", "(", "V", "value", ")", "{", "Objects", ".", "requireNotNull", "(", "value", ")", ";", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "NOT_EQUAL", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "lessThan", "(", "V", "value", ")", "{", "Objects", ".", "requireNotNull", "(", "value", ")", ";", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "LESS_THAN", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "greaterThan", "(", "V", "value", ")", "{", "Objects", ".", "requireNotNull", "(", "value", ")", ";", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "GREATER_THAN", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "lessThanOrEqual", "(", "V", "value", ")", "{", "Objects", ".", "requireNotNull", "(", "value", ")", ";", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "LESS_THAN_OR_EQUAL", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "greaterThanOrEqual", "(", "V", "value", ")", "{", "Objects", ".", "requireNotNull", "(", "value", ")", ";", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "GREATER_THAN_OR_EQUAL", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Expression", "<", "V", ">", ">", "equal", "(", "Expression", "<", "V", ">", "value", ")", "{", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "EQUAL", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Expression", "<", "V", ">", ">", "notEqual", "(", "Expression", "<", "V", ">", "value", ")", "{", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "NOT_EQUAL", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Expression", "<", "V", ">", ">", "lessThan", "(", "Expression", "<", "V", ">", "value", ")", "{", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "LESS_THAN", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Expression", "<", "V", ">", ">", "greaterThan", "(", "Expression", "<", "V", ">", "value", ")", "{", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "GREATER_THAN", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Expression", "<", "V", ">", ">", "lessThanOrEqual", "(", "Expression", "<", "V", ">", "value", ")", "{", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "LESS_THAN_OR_EQUAL", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Expression", "<", "V", ">", ">", "greaterThanOrEqual", "(", "Expression", "<", "V", ">", "value", ")", "{", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "GREATER_THAN_OR_EQUAL", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "eq", "(", "V", "value", ")", "{", "return", "equal", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "ne", "(", "V", "value", ")", "{", "return", "notEqual", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "lt", "(", "V", "value", ")", "{", "return", "lessThan", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "gt", "(", "V", "value", ")", "{", "return", "greaterThan", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "lte", "(", "V", "value", ")", "{", "return", "lessThanOrEqual", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "gte", "(", "V", "value", ")", "{", "return", "greaterThanOrEqual", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Expression", "<", "V", ">", ">", "eq", "(", "Expression", "<", "V", ">", "value", ")", "{", "return", "equal", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Expression", "<", "V", ">", ">", "ne", "(", "Expression", "<", "V", ">", "value", ")", "{", "return", "notEqual", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Expression", "<", "V", ">", ">", "lt", "(", "Expression", "<", "V", ">", "value", ")", "{", "return", "lessThan", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Expression", "<", "V", ">", ">", "gt", "(", "Expression", "<", "V", ">", "value", ")", "{", "return", "greaterThan", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Expression", "<", "V", ">", ">", "lte", "(", "Expression", "<", "V", ">", "value", ")", "{", "return", "lessThanOrEqual", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Expression", "<", "V", ">", ">", "gte", "(", "Expression", "<", "V", ">", "value", ")", "{", "return", "greaterThanOrEqual", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "Collection", "<", "V", ">", ">", "in", "(", "Collection", "<", "V", ">", "values", ")", "{", "Objects", ".", "requireNotNull", "(", "values", ")", ";", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "IN", ",", "values", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "Collection", "<", "V", ">", ">", "notIn", "(", "Collection", "<", "V", ">", "values", ")", "{", "Objects", ".", "requireNotNull", "(", "values", ")", ";", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "NOT_IN", ",", "values", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Return", "<", "?", ">", ">", "in", "(", "Return", "<", "?", ">", "query", ")", "{", "Objects", ".", "requireNotNull", "(", "query", ")", ";", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "IN", ",", "query", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "?", "extends", "Return", "<", "?", ">", ">", "notIn", "(", "Return", "<", "?", ">", "query", ")", "{", "Objects", ".", "requireNotNull", "(", "query", ")", ";", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "NOT_IN", ",", "query", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "isNull", "(", ")", "{", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "IS_NULL", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "V", ">", "notNull", "(", ")", "{", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "NOT_NULL", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "String", ">", "like", "(", "String", "expression", ")", "{", "Objects", ".", "requireNotNull", "(", "expression", ")", ";", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "LIKE", ",", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "String", ">", "notLike", "(", "String", "expression", ")", "{", "Objects", ".", "requireNotNull", "(", "expression", ")", ";", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "NOT_LIKE", ",", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalCondition", "<", "?", "extends", "Expression", "<", "V", ">", ",", "Object", ">", "between", "(", "V", "start", ",", "V", "end", ")", "{", "Objects", ".", "requireNotNull", "(", "start", ")", ";", "Objects", ".", "requireNotNull", "(", "end", ")", ";", "Object", "value", "=", "new", "Object", "[", "]", "{", "start", ",", "end", "}", ";", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "BETWEEN", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "=", "=", "this", ")", "{", "return", "true", ";", "}", "if", "(", "obj", "instanceof", "FieldExpression", ")", "{", "FieldExpression", "other", "=", "(", "FieldExpression", ")", "obj", ";", "return", "Objects", ".", "equals", "(", "getName", "(", ")", ",", "other", ".", "getName", "(", ")", ")", "&", "&", "Objects", ".", "equals", "(", "getClassType", "(", ")", ",", "other", ".", "getClassType", "(", ")", ")", "&", "&", "Objects", ".", "equals", "(", "getAlias", "(", ")", ",", "other", ".", "getAlias", "(", ")", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "getName", "(", ")", ",", "getClassType", "(", ")", ",", "getAlias", "(", ")", ")", ";", "}", "</s>"]
["<s>", "ExpressionCondition", "(", "L", "leftOperand", ",", "Operator", "operator", ",", "R", "rightOperand", ")", "{", "this", ".", "leftOperand", "=", "leftOperand", ";", "this", ".", "operator", "=", "operator", ";", "this", ".", "rightOperand", "=", "rightOperand", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "LogicalCondition", "<", "?", ",", "?", ">", "and", "(", "Condition", "<", "V", ",", "?", ">", "condition", ")", "{", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "AND", ",", "condition", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "LogicalCondition", "<", "?", ",", "?", ">", "or", "(", "Condition", "<", "V", ",", "?", ">", "condition", ")", "{", "return", "new", "ExpressionCondition", "<", ">", "(", "this", ",", "Operator", ".", "OR", ",", "condition", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Operator", "getOperator", "(", ")", "{", "return", "operator", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "R", "getRightOperand", "(", ")", "{", "return", "rightOperand", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "L", "getLeftOperand", "(", ")", "{", "return", "leftOperand", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "ExpressionCondition", ")", "{", "ExpressionCondition", "other", "=", "(", "ExpressionCondition", ")", "obj", ";", "return", "Objects", ".", "equals", "(", "leftOperand", ",", "other", ".", "leftOperand", ")", "&", "&", "Objects", ".", "equals", "(", "operator", ",", "other", ".", "operator", ")", "&", "&", "Objects", ".", "equals", "(", "rightOperand", ",", "other", ".", "rightOperand", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "leftOperand", ",", "rightOperand", ",", "operator", ")", ";", "}", "</s>"]
["<s>", "OrderExpression", "(", "Expression", "<", "X", ">", "expression", ",", "Order", "order", ")", "{", "this", ".", "expression", "=", "expression", ";", "this", ".", "order", "=", "order", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "OrderingExpression", "<", "X", ">", "nullsFirst", "(", ")", "{", "nullOrder", "=", "NullOrder", ".", "FIRST", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "OrderingExpression", "<", "X", ">", "nullsLast", "(", ")", "{", "nullOrder", "=", "NullOrder", ".", "LAST", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Order", "getOrder", "(", ")", "{", "return", "order", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "NullOrder", "getNullOrder", "(", ")", "{", "return", "nullOrder", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getName", "(", ")", "{", "return", "expression", ".", "getName", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "X", ">", "getClassType", "(", ")", "{", "return", "expression", ".", "getClassType", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ExpressionType", "getExpressionType", "(", ")", "{", "return", "ExpressionType", ".", "ORDERING", ";", "}", "</s>"]
["<s>", "public", "QueryElement", "(", "QueryType", "queryType", ",", "EntityModel", "model", ",", "QueryOperation", "<", "E", ">", "operator", ")", "{", "this", ".", "queryType", "=", "Objects", ".", "requireNotNull", "(", "queryType", ")", ";", "this", ".", "model", "=", "model", ";", "this", ".", "operator", "=", "operator", ";", "this", ".", "where", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "private", "QueryElement", "(", "QueryElement", "<", "E", ">", "parent", ")", "{", "this", "(", "parent", ".", "queryType", ",", "parent", ".", "model", ",", "parent", ".", "operator", ")", ";", "this", ".", "parent", "=", "parent", ";", "}", "</s>"]
["<s>", "public", "QueryType", "queryType", "(", ")", "{", "return", "queryType", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "getSelection", "(", ")", "{", "return", "selection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isDistinct", "(", ")", "{", "return", "selectDistinct", ";", "}", "</s>"]
["<s>", "public", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "updateValues", "(", ")", "{", "return", "updates", "=", "=", "null", "?", "Collections", ".", "<", "Expression", "<", "?", ">", ",", "Object", ">", "emptyMap", "(", ")", ":", "updates", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "Set", "<", "WhereConditionElement", "<", "?", ">", ">", "getWhereElements", "(", ")", "{", "return", "(", "Set", ")", "where", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ExistsElement", "<", "?", ">", "getWhereExistsElement", "(", ")", "{", "return", "whereSubQuery", ";", "}", "</s>"]
["<s>", "public", "Set", "<", "JoinOnElement", "<", "E", ">", ">", "joinElements", "(", ")", "{", "return", "joins", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SetOperator", "getOperator", "(", ")", "{", "return", "setOperator", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "Expression", "<", "?", ">", ">", "getOrderByExpressions", "(", ")", "{", "return", "orderBy", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "Expression", "<", "?", ">", ">", "getGroupByExpressions", "(", ")", "{", "return", "groupBy", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "Set", "<", "HavingConditionElement", "<", "?", ">", ">", "getHavingElements", "(", ")", "{", "return", "(", "Set", ")", "having", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "QueryElement", "<", "E", ">", "getInnerSetQuery", "(", ")", "{", "return", "setQuery", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getLimit", "(", ")", "{", "return", "limit", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getOffset", "(", ")", "{", "return", "offset", ";", "}", "</s>"]
["<s>", "public", "Set", "<", "Type", "<", "?", ">", ">", "entityTypes", "(", ")", "{", "return", "types", ";", "}", "</s>"]
["<s>", "public", "Set", "<", "Expression", "<", "?", ">", ">", "fromExpressions", "(", ")", "{", "if", "(", "from", "=", "=", "null", ")", "{", "types", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "expressions", ";", "switch", "(", "queryType", ")", "{", "case", "SELECT", ":", "expressions", "=", "getSelection", "(", ")", ";", "break", ";", "case", "INSERT", ":", "case", "UPDATE", ":", "case", "UPSERT", ":", "expressions", "=", "updates", ".", "keySet", "(", ")", ";", "break", ";", "default", ":", "expressions", "=", "Collections", ".", "emptySet", "(", ")", ";", "}", "for", "(", "Expression", "<", "?", ">", "expression", ":", "expressions", ")", "{", "if", "(", "expression", "instanceof", "AliasedExpression", ")", "{", "expression", "=", "(", "(", "AliasedExpression", ")", "expression", ")", ".", "innerExpression", "(", ")", ";", "}", "if", "(", "expression", "instanceof", "Attribute", ")", "{", "Type", "type", "=", "(", "(", "Attribute", ")", "expression", ")", ".", "getDeclaringType", "(", ")", ";", "types", ".", "add", "(", "type", ")", ";", "}", "else", "if", "(", "expression", "instanceof", "Function", ")", "{", "Function", "function", "=", "(", "Function", ")", "expression", ";", "for", "(", "Object", "arg", ":", "function", ".", "arguments", "(", ")", ")", "{", "Type", "type", "=", "null", ";", "if", "(", "arg", "instanceof", "Attribute", ")", "{", "type", "=", "(", "(", "Attribute", ")", "arg", ")", ".", "getDeclaringType", "(", ")", ";", "types", ".", "add", "(", "type", ")", ";", "}", "else", "if", "(", "arg", "instanceof", "Class", ")", "{", "type", "=", "model", ".", "typeOf", "(", "(", "Class", ")", "arg", ")", ";", "}", "if", "(", "type", "!", "=", "null", ")", "{", "types", ".", "add", "(", "type", ")", ";", "}", "}", "}", "}", "if", "(", "from", "=", "=", "null", ")", "{", "from", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "if", "(", "!", "types", ".", "isEmpty", "(", ")", ")", "{", "from", ".", "addAll", "(", "types", ")", ";", "}", "}", "return", "from", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getName", "(", ")", "{", "return", "\"", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "QueryElement", ">", "getClassType", "(", ")", "{", "return", "QueryElement", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ExpressionType", "getExpressionType", "(", ")", "{", "return", "ExpressionType", ".", "QUERY", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Return", "<", "E", ">", "as", "(", "String", "alias", ")", "{", "this", ".", "aliasName", "=", "alias", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getAlias", "(", ")", "{", "return", "aliasName", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "QueryElement", "<", "E", ">", "select", "(", "Expression", "<", "?", ">", ".", ".", ".", "selection", ")", "{", "this", ".", "selection", "=", "selection", "=", "=", "null", "?", "null", ":", "new", "LinkedHashSet", "<", ">", "(", "Arrays", ".", "asList", "(", "selection", ")", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "QueryElement", "<", "E", ">", "select", "(", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "select", ")", "{", "this", ".", "selection", "=", "select", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "QueryElement", "<", "E", ">", "unwrapQuery", "(", ")", "{", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "DistinctSelection", "<", "E", ">", "distinct", "(", ")", "{", "selectDistinct", "=", "true", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "QueryElement", "<", "E", ">", "from", "(", "Class", "<", "?", ">", ".", ".", ".", "types", ")", "{", "this", ".", "types", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "Class", "<", "?", ">", "cls", ":", "types", ")", "{", "Type", "<", "?", ">", "type", "=", "model", ".", "typeOf", "(", "cls", ")", ";", "this", ".", "types", ".", "add", "(", "type", ")", ";", "}", "if", "(", "from", "=", "=", "null", ")", "{", "from", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "from", ".", "addAll", "(", "this", ".", "types", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "QueryElement", "<", "E", ">", "from", "(", "Supplier", "<", "?", ">", ".", ".", ".", "subqueries", ")", "{", "if", "(", "from", "=", "=", "null", ")", "{", "from", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "for", "(", "Supplier", "supplier", ":", "subqueries", ")", "{", "if", "(", "supplier", "instanceof", "Expression", ")", "{", "from", ".", "add", "(", "(", "Expression", "<", "?", ">", ")", "supplier", ")", ";", "}", "else", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "}", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "operator", ".", "evaluate", "(", "parent", "=", "=", "null", "?", "this", ":", "parent", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SetHavingOrderByLimit", "<", "E", ">", "groupBy", "(", "Expression", "<", "?", ">", ".", ".", ".", "expressions", ")", "{", "if", "(", "groupBy", "=", "=", "null", ")", "{", "groupBy", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "Collections", ".", "addAll", "(", "groupBy", ",", "expressions", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "SetHavingOrderByLimit", "<", "E", ">", "groupBy", "(", "Expression", "<", "V", ">", "expression", ")", "{", "if", "(", "groupBy", "=", "=", "null", ")", "{", "groupBy", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "groupBy", ".", "add", "(", "expression", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "private", "void", "addJoinElement", "(", "JoinOnElement", "<", "E", ">", "element", ")", "{", "if", "(", "joins", "=", "=", "null", ")", "{", "joins", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "joins", ".", "add", "(", "element", ")", ";", "}", "</s>"]
["<s>", "private", "<", "J", ">", "JoinOn", "<", "E", ">", "createJoin", "(", "Class", "<", "J", ">", "type", ",", "JoinType", "joinType", ")", "{", "String", "table", "=", "model", ".", "typeOf", "(", "type", ")", ".", "getName", "(", ")", ";", "JoinOnElement", "<", "E", ">", "join", "=", "new", "JoinOnElement", "<", ">", "(", "this", ",", "table", ",", "joinType", ")", ";", "addJoinElement", "(", "join", ")", ";", "return", "join", ";", "}", "</s>"]
["<s>", "private", "<", "J", ">", "JoinOn", "<", "E", ">", "createJoin", "(", "Return", "<", "J", ">", "query", ",", "JoinType", "joinType", ")", "{", "JoinOnElement", "<", "E", ">", "join", "=", "new", "JoinOnElement", "<", ">", "(", "this", ",", "query", ",", "joinType", ")", ";", "addJoinElement", "(", "join", ")", ";", "return", "join", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "J", ">", "JoinOn", "<", "E", ">", "join", "(", "Class", "<", "J", ">", "type", ")", "{", "return", "createJoin", "(", "type", ",", "JoinType", ".", "INNER", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "J", ">", "JoinOn", "<", "E", ">", "leftJoin", "(", "Class", "<", "J", ">", "type", ")", "{", "return", "createJoin", "(", "type", ",", "JoinType", ".", "LEFT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "J", ">", "JoinOn", "<", "E", ">", "rightJoin", "(", "Class", "<", "J", ">", "type", ")", "{", "return", "createJoin", "(", "type", ",", "JoinType", ".", "RIGHT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "J", ">", "JoinOn", "<", "E", ">", "join", "(", "Return", "<", "J", ">", "query", ")", "{", "return", "createJoin", "(", "query", ",", "JoinType", ".", "INNER", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "J", ">", "JoinOn", "<", "E", ">", "leftJoin", "(", "Return", "<", "J", ">", "query", ")", "{", "return", "createJoin", "(", "query", ",", "JoinType", ".", "LEFT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "J", ">", "JoinOn", "<", "E", ">", "rightJoin", "(", "Return", "<", "J", ">", "query", ")", "{", "return", "createJoin", "(", "query", ",", "JoinType", ".", "RIGHT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "Limit", "<", "E", ">", "orderBy", "(", "Expression", "<", "V", ">", "expression", ")", "{", "if", "(", "orderBy", "=", "=", "null", ")", "{", "orderBy", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "orderBy", ".", "add", "(", "expression", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Limit", "<", "E", ">", "orderBy", "(", "Expression", "<", "?", ">", ".", ".", ".", "expressions", ")", "{", "if", "(", "orderBy", "=", "=", "null", ")", "{", "orderBy", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "orderBy", ".", "addAll", "(", "Arrays", ".", "asList", "(", "expressions", ")", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Exists", "<", "SetGroupByOrderByLimit", "<", "E", ">", ">", "where", "(", ")", "{", "ExistsElement", "<", "SetGroupByOrderByLimit", "<", "E", ">", ">", "element", "=", "new", "ExistsElement", "<", "SetGroupByOrderByLimit", "<", "E", ">", ">", "(", "this", ")", ";", "whereSubQuery", "=", "element", ";", "return", "element", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "WhereAndOr", "<", "E", ">", "where", "(", "Condition", "<", "V", ",", "?", ">", "condition", ")", "{", "if", "(", "where", "=", "=", "null", ")", "{", "where", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "LogicalOperator", "operator", "=", "where", ".", "size", "(", ")", ">", "0", "?", "LogicalOperator", ".", "AND", ":", "null", ";", "WhereConditionElement", "<", "E", ">", "element", "=", "new", "WhereConditionElement", "<", ">", "(", "this", ",", "where", ",", "condition", ",", "operator", ")", ";", "where", ".", "add", "(", "element", ")", ";", "return", "element", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "HavingAndOr", "<", "E", ">", "having", "(", "Condition", "<", "V", ",", "?", ">", "condition", ")", "{", "if", "(", "having", "=", "=", "null", ")", "{", "having", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "HavingConditionElement", "<", "E", ">", "element", "=", "new", "HavingConditionElement", "<", ">", "(", "this", ",", "having", ",", "condition", ",", "null", ")", ";", "having", ".", "add", "(", "element", ")", ";", "return", "element", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Offset", "<", "E", ">", "limit", "(", "int", "limit", ")", "{", "this", ".", "limit", "=", "limit", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Return", "<", "E", ">", "offset", "(", "int", "offset", ")", "{", "this", ".", "offset", "=", "offset", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "Update", "<", "E", ">", "set", "(", "Expression", "<", "V", ">", "expression", ",", "V", "value", ")", "{", "value", "(", "expression", ",", "value", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "Insertion", "<", "E", ">", "value", "(", "Expression", "<", "V", ">", "expression", ",", "V", "value", ")", "{", "Objects", ".", "requireNotNull", "(", "expression", ")", ";", "if", "(", "updates", "=", "=", "null", ")", "{", "updates", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "}", "updates", ".", "put", "(", "expression", ",", "value", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selectable", "<", "E", ">", "union", "(", ")", "{", "setOperator", "=", "SetOperator", ".", "UNION", ";", "return", "setQuery", "=", "new", "QueryElement", "<", ">", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selectable", "<", "E", ">", "unionAll", "(", ")", "{", "setOperator", "=", "SetOperator", ".", "UNION_ALL", ";", "return", "setQuery", "=", "new", "QueryElement", "<", ">", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selectable", "<", "E", ">", "intersect", "(", ")", "{", "setOperator", "=", "SetOperator", ".", "INTERSECT", ";", "return", "setQuery", "=", "new", "QueryElement", "<", ">", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selectable", "<", "E", ">", "except", "(", ")", "{", "setOperator", "=", "SetOperator", ".", "EXCEPT", ";", "return", "setQuery", "=", "new", "QueryElement", "<", ">", "(", "this", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "=", "=", "this", ")", "{", "return", "true", ";", "}", "if", "(", "obj", "instanceof", "QueryElement", ")", "{", "QueryElement", "other", "=", "(", "QueryElement", ")", "obj", ";", "return", "queryType", "=", "=", "other", ".", "queryType", "&", "&", "selectDistinct", "=", "=", "other", ".", "selectDistinct", "&", "&", "Objects", ".", "equals", "(", "selection", ",", "other", ".", "selection", ")", "&", "&", "Objects", ".", "equals", "(", "updates", ",", "other", ".", "updates", ")", "&", "&", "Objects", ".", "equals", "(", "joins", ",", "other", ".", "joins", ")", "&", "&", "Objects", ".", "equals", "(", "where", ",", "other", ".", "where", ")", "&", "&", "Objects", ".", "equals", "(", "orderBy", ",", "other", ".", "orderBy", ")", "&", "&", "Objects", ".", "equals", "(", "groupBy", ",", "other", ".", "groupBy", ")", "&", "&", "Objects", ".", "equals", "(", "having", ",", "other", ".", "having", ")", "&", "&", "Objects", ".", "equals", "(", "setQuery", ",", "other", ".", "setQuery", ")", "&", "&", "Objects", ".", "equals", "(", "setOperator", ",", "other", ".", "setOperator", ")", "&", "&", "Objects", ".", "equals", "(", "limit", ",", "other", ".", "limit", ")", "&", "&", "Objects", ".", "equals", "(", "offset", ",", "other", ".", "offset", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "queryType", ",", "selectDistinct", ",", "selection", ",", "updates", ",", "joins", ",", "where", ",", "orderBy", ",", "groupBy", ",", "having", ",", "limit", ",", "offset", ")", ";", "}", "</s>"]
["<s>", "JoinOnElement", "(", "QueryElement", "<", "E", ">", "query", ",", "String", "table", ",", "JoinType", "joinType", ")", "{", "this", ".", "query", "=", "query", ";", "this", ".", "table", "=", "table", ";", "this", ".", "subQuery", "=", "null", ";", "this", ".", "joinType", "=", "joinType", ";", "this", ".", "conditions", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "JoinOnElement", "(", "QueryElement", "<", "E", ">", "query", ",", "Return", "subQuery", ",", "JoinType", "joinType", ")", "{", "this", ".", "query", "=", "query", ";", "this", ".", "subQuery", "=", "subQuery", ";", "this", ".", "joinType", "=", "joinType", ";", "this", ".", "table", "=", "null", ";", "this", ".", "conditions", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "public", "String", "tableName", "(", ")", "{", "return", "table", ";", "}", "</s>"]
["<s>", "public", "Return", "<", "?", ">", "subQuery", "(", ")", "{", "return", "subQuery", ";", "}", "</s>"]
["<s>", "public", "JoinType", "joinType", "(", ")", "{", "return", "joinType", ";", "}", "</s>"]
["<s>", "public", "Set", "<", "JoinConditionElement", "<", "E", ">", ">", "conditions", "(", ")", "{", "return", "conditions", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "JoinAndOr", "<", "E", ">", "on", "(", "Condition", "<", "V", ",", "?", ">", "condition", ")", "{", "JoinConditionElement", "<", "E", ">", "element", "=", "new", "JoinConditionElement", "<", ">", "(", "query", ",", "conditions", ",", "condition", ",", "null", ")", ";", "conditions", ".", "add", "(", "element", ")", ";", "return", "element", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "JoinOnElement", ")", "{", "JoinOnElement", "other", "=", "(", "JoinOnElement", ")", "obj", ";", "return", "Objects", ".", "equals", "(", "table", ",", "other", ".", "table", ")", "&", "&", "Objects", ".", "equals", "(", "joinType", ",", "other", ".", "joinType", ")", "&", "&", "Objects", ".", "equals", "(", "conditions", ",", "other", ".", "conditions", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "table", ",", "joinType", ",", "conditions", ")", ";", "}", "</s>"]
["<s>", "QueryElement", "<", "E", ">", "unwrapQuery", "(", ")", ";", "</s>"]
["<s>", "BaseLogicalElement", "(", "Set", "<", "E", ">", "elements", ",", "Condition", "<", "?", ",", "?", ">", "condition", ",", "LogicalOperator", "operator", ")", "{", "this", ".", "elements", "=", "elements", ";", "this", ".", "condition", "=", "condition", ";", "this", ".", "operator", "=", "operator", ";", "}", "</s>"]
["<s>", "abstract", "E", "newElement", "(", "Set", "<", "E", ">", "elements", ",", "Condition", "<", "?", ",", "?", ">", "condition", ",", "LogicalOperator", "operator", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "S", "and", "(", "Condition", "<", "V", ",", "?", ">", "condition", ")", "{", "E", "element", "=", "newElement", "(", "elements", ",", "condition", ",", "LogicalOperator", ".", "AND", ")", ";", "elements", ".", "add", "(", "element", ")", ";", "return", "element", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "S", "or", "(", "Condition", "<", "V", ",", "?", ">", "condition", ")", "{", "E", "element", "=", "newElement", "(", "elements", ",", "condition", ",", "LogicalOperator", ".", "OR", ")", ";", "elements", ".", "add", "(", "element", ")", ";", "return", "element", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Condition", "<", "?", ",", "?", ">", "getCondition", "(", ")", "{", "return", "condition", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LogicalOperator", "getOperator", "(", ")", "{", "return", "operator", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "BaseLogicalElement", ")", "{", "BaseLogicalElement", "other", "=", "(", "BaseLogicalElement", ")", "obj", ";", "return", "Objects", ".", "equals", "(", "operator", ",", "other", ".", "operator", ")", "&", "&", "Objects", ".", "equals", "(", "condition", ",", "other", ".", "condition", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "operator", ",", "condition", ")", ";", "}", "</s>"]
["<s>", "Condition", "<", "?", ",", "?", ">", "getCondition", "(", ")", ";", "</s>"]
["<s>", "LogicalOperator", "getOperator", "(", ")", ";", "</s>"]
["<s>", "ExistsElement", "(", "E", "query", ")", "{", "this", ".", "parent", "=", "query", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "exists", "(", "Return", "<", "?", ">", "query", ")", "{", "subQuery", "=", "Objects", ".", "requireNotNull", "(", "query", ")", ";", "return", "parent", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "notExists", "(", "Return", "<", "?", ">", "query", ")", "{", "notExists", "=", "true", ";", "subQuery", "=", "Objects", ".", "requireNotNull", "(", "query", ")", ";", "return", "parent", ";", "}", "</s>"]
["<s>", "public", "Return", "<", "?", ">", "getQuery", "(", ")", "{", "return", "subQuery", ";", "}", "</s>"]
["<s>", "public", "boolean", "isNotExists", "(", ")", "{", "return", "notExists", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "ExistsElement", ")", "{", "ExistsElement", "other", "=", "(", "ExistsElement", ")", "obj", ";", "return", "parent", "=", "=", "other", ".", "parent", "&", "&", "notExists", "=", "=", "other", ".", "notExists", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "parent", ",", "notExists", ")", ";", "}", "</s>"]
["<s>", "JoinConditionElement", "(", "QueryElement", "<", "E", ">", "query", ",", "Set", "<", "JoinConditionElement", "<", "E", ">", ">", "elements", ",", "Condition", "<", "?", ",", "?", ">", "condition", ",", "LogicalOperator", "operator", ")", "{", "super", "(", "elements", ",", "condition", ",", "operator", ")", ";", "this", ".", "query", "=", "query", ";", "}", "</s>"]
["<s>", "@", "Override", "JoinConditionElement", "<", "E", ">", "newElement", "(", "Set", "<", "JoinConditionElement", "<", "E", ">", ">", "elements", ",", "Condition", "<", "?", ",", "?", ">", "condition", ",", "LogicalOperator", "operator", ")", "{", "return", "new", "JoinConditionElement", "<", ">", "(", "query", ",", "elements", ",", "condition", ",", "operator", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "QueryElement", "<", "E", ">", "unwrapQuery", "(", ")", "{", "return", "query", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "query", ".", "get", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SetHavingOrderByLimit", "<", "E", ">", "groupBy", "(", "Expression", "<", "?", ">", ".", ".", ".", "expressions", ")", "{", "return", "query", ".", "groupBy", "(", "expressions", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "SetHavingOrderByLimit", "<", "E", ">", "groupBy", "(", "Expression", "<", "V", ">", "expression", ")", "{", "return", "query", ".", "groupBy", "(", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "J", ">", "JoinOn", "<", "E", ">", "join", "(", "Class", "<", "J", ">", "type", ")", "{", "return", "query", ".", "join", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "J", ">", "JoinOn", "<", "E", ">", "leftJoin", "(", "Class", "<", "J", ">", "type", ")", "{", "return", "query", ".", "leftJoin", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "J", ">", "JoinOn", "<", "E", ">", "rightJoin", "(", "Class", "<", "J", ">", "type", ")", "{", "return", "query", ".", "rightJoin", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "J", ">", "JoinOn", "<", "E", ">", "join", "(", "Return", "<", "J", ">", "query", ")", "{", "return", "this", ".", "query", ".", "join", "(", "query", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "J", ">", "JoinOn", "<", "E", ">", "leftJoin", "(", "Return", "<", "J", ">", "query", ")", "{", "return", "this", ".", "query", ".", "leftJoin", "(", "query", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "J", ">", "JoinOn", "<", "E", ">", "rightJoin", "(", "Return", "<", "J", ">", "query", ")", "{", "return", "this", ".", "query", ".", "rightJoin", "(", "query", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "Limit", "<", "E", ">", "orderBy", "(", "Expression", "<", "V", ">", "expression", ")", "{", "return", "query", ".", "orderBy", "(", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Limit", "<", "E", ">", "orderBy", "(", "Expression", "<", "?", ">", ".", ".", ".", "expressions", ")", "{", "return", "query", ".", "orderBy", "(", "expressions", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "WhereAndOr", "<", "E", ">", "where", "(", "Condition", "<", "V", ",", "?", ">", "condition", ")", "{", "return", "query", ".", "where", "(", "condition", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Exists", "<", "SetGroupByOrderByLimit", "<", "E", ">", ">", "where", "(", ")", "{", "return", "query", ".", "where", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Offset", "<", "E", ">", "limit", "(", "int", "limit", ")", "{", "return", "query", ".", "limit", "(", "limit", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selectable", "<", "E", ">", "union", "(", ")", "{", "return", "query", ".", "union", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selectable", "<", "E", ">", "unionAll", "(", ")", "{", "return", "query", ".", "unionAll", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selectable", "<", "E", ">", "intersect", "(", ")", "{", "return", "query", ".", "intersect", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selectable", "<", "E", ">", "except", "(", ")", "{", "return", "query", ".", "except", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Return", "<", "E", ">", "as", "(", "String", "alias", ")", "{", "return", "query", ".", "as", "(", "alias", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getAlias", "(", ")", "{", "return", "query", ".", "getAlias", "(", ")", ";", "}", "</s>"]
["<s>", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "getSelection", "(", ")", ";", "</s>"]
["<s>", "boolean", "isDistinct", "(", ")", ";", "</s>"]
["<s>", "E", "evaluate", "(", "QueryElement", "<", "E", ">", "query", ")", ";", "</s>"]
["<s>", "HavingConditionElement", "(", "QueryElement", "<", "E", ">", "query", ",", "Set", "<", "HavingConditionElement", "<", "E", ">", ">", "elements", ",", "Condition", "<", "?", ",", "?", ">", "condition", ",", "LogicalOperator", "operator", ")", "{", "super", "(", "elements", ",", "condition", ",", "operator", ")", ";", "this", ".", "query", "=", "query", ";", "}", "</s>"]
["<s>", "@", "Override", "HavingConditionElement", "<", "E", ">", "newElement", "(", "Set", "<", "HavingConditionElement", "<", "E", ">", ">", "elements", ",", "Condition", "<", "?", ",", "?", ">", "condition", ",", "LogicalOperator", "operator", ")", "{", "return", "new", "HavingConditionElement", "<", ">", "(", "query", ",", "elements", ",", "condition", ",", "operator", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Offset", "<", "E", ">", "limit", "(", "int", "limit", ")", "{", "return", "query", ".", "limit", "(", "limit", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "query", ".", "get", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "Limit", "<", "E", ">", "orderBy", "(", "Expression", "<", "V", ">", "expression", ")", "{", "return", "query", ".", "orderBy", "(", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Limit", "<", "E", ">", "orderBy", "(", "Expression", "<", "?", ">", ".", ".", ".", "expressions", ")", "{", "return", "query", ".", "orderBy", "(", "expressions", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "QueryElement", "<", "E", ">", "unwrapQuery", "(", ")", "{", "return", "query", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Return", "<", "E", ">", "as", "(", "String", "alias", ")", "{", "return", "query", ".", "as", "(", "alias", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getAlias", "(", ")", "{", "return", "query", ".", "getAlias", "(", ")", ";", "}", "</s>"]
["<s>", "WhereConditionElement", "(", "QueryElement", "<", "E", ">", "query", ",", "Set", "<", "WhereConditionElement", "<", "E", ">", ">", "where", ",", "Condition", "<", "?", ",", "?", ">", "condition", ",", "LogicalOperator", "operator", ")", "{", "super", "(", "where", ",", "condition", ",", "operator", ")", ";", "this", ".", "query", "=", "query", ";", "}", "</s>"]
["<s>", "@", "Override", "WhereConditionElement", "<", "E", ">", "newElement", "(", "Set", "<", "WhereConditionElement", "<", "E", ">", ">", "elements", ",", "Condition", "<", "?", ",", "?", ">", "condition", ",", "LogicalOperator", "operator", ")", "{", "return", "new", "WhereConditionElement", "<", ">", "(", "query", ",", "elements", ",", "condition", ",", "operator", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SetHavingOrderByLimit", "<", "E", ">", "groupBy", "(", "Expression", "<", "?", ">", ".", ".", ".", "expressions", ")", "{", "return", "query", ".", "groupBy", "(", "expressions", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "SetHavingOrderByLimit", "<", "E", ">", "groupBy", "(", "Expression", "<", "V", ">", "expression", ")", "{", "return", "query", ".", "groupBy", "(", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Offset", "<", "E", ">", "limit", "(", "int", "limit", ")", "{", "return", "query", ".", "limit", "(", "limit", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "query", ".", "get", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "Limit", "<", "E", ">", "orderBy", "(", "Expression", "<", "V", ">", "expression", ")", "{", "return", "query", ".", "orderBy", "(", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Limit", "<", "E", ">", "orderBy", "(", "Expression", "<", "?", ">", ".", ".", ".", "expressions", ")", "{", "return", "query", ".", "orderBy", "(", "expressions", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "QueryElement", "<", "E", ">", "unwrapQuery", "(", ")", "{", "return", "query", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selectable", "<", "E", ">", "union", "(", ")", "{", "return", "query", ".", "union", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selectable", "<", "E", ">", "unionAll", "(", ")", "{", "return", "query", ".", "unionAll", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selectable", "<", "E", ">", "intersect", "(", ")", "{", "return", "query", ".", "intersect", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selectable", "<", "E", ">", "except", "(", ")", "{", "return", "query", ".", "except", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Return", "<", "E", ">", "as", "(", "String", "alias", ")", "{", "return", "query", ".", "as", "(", "alias", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getAlias", "(", ")", "{", "return", "query", ".", "getAlias", "(", ")", ";", "}", "</s>"]
["<s>", "Integer", "getLimit", "(", ")", ";", "</s>"]
["<s>", "Integer", "getOffset", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "Expression", "<", "?", ">", ">", "getGroupByExpressions", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "HavingConditionElement", "<", "?", ">", ">", "getHavingElements", "(", ")", ";", "</s>"]
["<s>", "QueryElement", "<", "?", ">", "getInnerSetQuery", "(", ")", ";", "</s>"]
["<s>", "SetOperator", "getOperator", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "Expression", "<", "?", ">", ">", "getOrderByExpressions", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "WhereConditionElement", "<", "?", ">", ">", "getWhereElements", "(", ")", ";", "</s>"]
["<s>", "ExistsElement", "<", "?", ">", "getWhereExistsElement", "(", ")", ";", "</s>"]
["<s>", "private", "Case", "(", "String", "name", ",", "Class", "<", "E", ">", "type", ")", "{", "super", "(", "name", ",", "type", ")", ";", "conditions", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "<", "S", ">", "Case", "<", "S", ">", "type", "(", "String", "name", ",", "Class", "<", "S", ">", "type", ")", "{", "return", "new", "Case", "<", ">", "(", "name", ",", "type", ")", ";", "}", "</s>"]
["<s>", "public", "static", "<", "S", ">", "Case", "<", "S", ">", "type", "(", "Class", "<", "S", ">", "type", ")", "{", "return", "new", "Case", "<", ">", "(", "null", ",", "type", ")", ";", "}", "</s>"]
["<s>", "public", "<", "U", ",", "V", ">", "Case", "<", "E", ">", "when", "(", "Condition", "<", "U", ",", "?", ">", "condition", ",", "V", "then", ")", "{", "conditions", ".", "add", "(", "new", "CaseCondition", "<", ">", "(", "condition", ",", "then", ")", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "<", "V", ">", "Expression", "<", "E", ">", "elseThen", "(", "V", "result", ")", "{", "elseValue", "=", "result", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "}", ";", "}", "</s>"]
["<s>", "public", "Object", "elseValue", "(", ")", "{", "return", "elseValue", ";", "}", "</s>"]
["<s>", "public", "ArrayList", "<", "CaseCondition", "<", "?", ",", "?", ">", ">", "conditions", "(", ")", "{", "return", "conditions", ";", "}", "</s>"]
["<s>", "CaseCondition", "(", "Condition", "<", "V", ",", "?", ">", "condition", ",", "W", "then", ")", "{", "this", ".", "condition", "=", "condition", ";", "this", ".", "then", "=", "then", ";", "}", "</s>"]
["<s>", "public", "Condition", "<", "V", ",", "?", ">", "condition", "(", ")", "{", "return", "condition", ";", "}", "</s>"]
["<s>", "public", "W", "thenValue", "(", ")", "{", "return", "then", ";", "}", "</s>"]
["<s>", "private", "Avg", "(", "Expression", "<", "V", ">", "expression", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "expression", ".", "getClassType", "(", ")", ")", ";", "this", ".", "expression", "=", "expression", ";", "}", "</s>"]
["<s>", "public", "static", "<", "U", ">", "Avg", "<", "U", ">", "avg", "(", "Expression", "<", "U", ">", "expression", ")", "{", "return", "new", "Avg", "<", ">", "(", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "expression", "}", ";", "}", "</s>"]
["<s>", "public", "Now", "(", "Class", "<", "T", ">", "type", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "type", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Now", "<", "Date", ">", "now", "(", ")", "{", "return", "new", "Now", "<", ">", "(", "Date", ".", "class", ")", ";", "}", "</s>"]
["<s>", "public", "static", "<", "T", ">", "Now", "<", "T", ">", "now", "(", "Class", "<", "T", ">", "type", ")", "{", "return", "new", "Now", "<", ">", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "0", "]", ";", "}", "</s>"]
["<s>", "private", "Round", "(", "Expression", "<", "V", ">", "expression", ",", "int", "decimals", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "expression", ".", "getClassType", "(", ")", ")", ";", "this", ".", "expression", "=", "expression", ";", "this", ".", "decimals", "=", "decimals", ";", "}", "</s>"]
["<s>", "public", "static", "<", "U", ">", "Round", "<", "U", ">", "round", "(", "Expression", "<", "U", ">", "expression", ",", "int", "decimals", ")", "{", "return", "new", "Round", "<", ">", "(", "expression", ",", "decimals", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "expression", ",", "decimals", "}", ";", "}", "</s>"]
["<s>", "private", "Collate", "(", "Expression", "<", "T", ">", "expression", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "expression", ".", "getClassType", "(", ")", ")", ";", "this", ".", "expression", "=", "expression", ";", "}", "</s>"]
["<s>", "public", "static", "<", "C", ">", "Collate", "<", "C", ">", "collate", "(", "Expression", "<", "C", ">", "expression", ")", "{", "return", "new", "Collate", "<", ">", "(", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "expression", "}", ";", "}", "</s>"]
["<s>", "private", "Lower", "(", "Expression", "<", "V", ">", "expression", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "expression", ".", "getClassType", "(", ")", ")", ";", "this", ".", "expression", "=", "expression", ";", "}", "</s>"]
["<s>", "public", "static", "<", "U", ">", "Lower", "<", "U", ">", "lower", "(", "Expression", "<", "U", ">", "expression", ")", "{", "return", "new", "Lower", "<", ">", "(", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "expression", "}", ";", "}", "</s>"]
["<s>", "private", "Count", "(", "Attribute", "<", "?", ",", "?", ">", "[", "]", "attributes", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "Integer", ".", "class", ")", ";", "this", ".", "attributes", "=", "attributes", ";", "}", "</s>"]
["<s>", "private", "Count", "(", "Class", "<", "?", ">", "entityClass", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "Integer", ".", "class", ")", ";", "this", ".", "entityClass", "=", "entityClass", ";", "}", "</s>"]
["<s>", "public", "static", "Count", "count", "(", "QueryAttribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "return", "new", "Count", "(", "attributes", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Count", "count", "(", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "return", "new", "Count", "(", "attributes", ")", ";", "}", "</s>"]
["<s>", "public", "static", "Count", "count", "(", "Class", "<", "?", ">", "entityClass", ")", "{", "return", "new", "Count", "(", "entityClass", ")", ";", "}", "</s>"]
["<s>", "public", "Attribute", "<", "?", ",", "?", ">", "[", "]", "getAttributes", "(", ")", "{", "return", "attributes", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "if", "(", "entityClass", "!", "=", "null", ")", "{", "return", "new", "Object", "[", "]", "{", "entityClass", "}", ";", "}", "else", "{", "return", "attributes", ";", "}", "}", "</s>"]
["<s>", "private", "Coalesce", "(", "Expression", "<", "T", ">", "[", "]", "attributes", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "attributes", "[", "0", "]", ".", "getClassType", "(", ")", ")", ";", "this", ".", "expressions", "=", "attributes", ";", "}", "</s>"]
["<s>", "@", "SafeVarargs", "public", "static", "<", "C", ">", "Coalesce", "<", "C", ">", "coalesce", "(", "Expression", "<", "C", ">", ".", ".", ".", "attributes", ")", "{", "return", "new", "Coalesce", "<", ">", "(", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Expression", "<", "?", ">", "[", "]", "arguments", "(", ")", "{", "return", "expressions", ";", "}", "</s>"]
["<s>", "private", "Sum", "(", "Expression", "<", "V", ">", "expression", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "expression", ".", "getClassType", "(", ")", ")", ";", "this", ".", "expression", "=", "expression", ";", "}", "</s>"]
["<s>", "public", "static", "<", "U", ">", "Sum", "<", "U", ">", "sum", "(", "Expression", "<", "U", ">", "expression", ")", "{", "return", "new", "Sum", "<", ">", "(", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "expression", "}", ";", "}", "</s>"]
["<s>", "private", "Trim", "(", "Expression", "<", "V", ">", "expression", ",", "String", "chars", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "expression", ".", "getClassType", "(", ")", ")", ";", "this", ".", "expression", "=", "expression", ";", "this", ".", "chars", "=", "chars", ";", "}", "</s>"]
["<s>", "public", "static", "<", "U", ">", "Trim", "<", "U", ">", "trim", "(", "Expression", "<", "U", ">", "expression", ",", "String", "chars", ")", "{", "return", "new", "Trim", "<", ">", "(", "expression", ",", "chars", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "if", "(", "chars", "=", "=", "null", ")", "{", "return", "new", "Object", "[", "]", "{", "expression", "}", ";", "}", "else", "{", "return", "new", "Object", "[", "]", "{", "expression", ",", "chars", "}", ";", "}", "}", "</s>"]
["<s>", "private", "Upper", "(", "Expression", "<", "V", ">", "expression", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "expression", ".", "getClassType", "(", ")", ")", ";", "this", ".", "expression", "=", "expression", ";", "}", "</s>"]
["<s>", "public", "static", "<", "U", ">", "Upper", "<", "U", ">", "upper", "(", "Expression", "<", "U", ">", "expression", ")", "{", "return", "new", "Upper", "<", ">", "(", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "expression", "}", ";", "}", "</s>"]
["<s>", "private", "Max", "(", "Expression", "<", "V", ">", "expression", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "expression", ".", "getClassType", "(", ")", ")", ";", "this", ".", "expression", "=", "expression", ";", "}", "</s>"]
["<s>", "public", "static", "<", "U", ">", "Max", "<", "U", ">", "max", "(", "Expression", "<", "U", ">", "expression", ")", "{", "return", "new", "Max", "<", ">", "(", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "expression", "}", ";", "}", "</s>"]
["<s>", "private", "Min", "(", "Expression", "<", "V", ">", "expression", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "expression", ".", "getClassType", "(", ")", ")", ";", "this", ".", "expression", "=", "expression", ";", "}", "</s>"]
["<s>", "public", "static", "<", "U", ">", "Min", "<", "U", ">", "min", "(", "Expression", "<", "U", ">", "expression", ")", "{", "return", "new", "Min", "<", ">", "(", "expression", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "expression", "}", ";", "}", "</s>"]
["<s>", "private", "Abs", "(", "Expression", "<", "V", ">", "expression", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "expression", ".", "getClassType", "(", ")", ")", ";", "this", ".", "attribute", "=", "expression", ";", "}", "</s>"]
["<s>", "public", "static", "<", "U", ">", "Abs", "<", "U", ">", "abs", "(", "Expression", "<", "U", ">", "attribute", ")", "{", "return", "new", "Abs", "<", ">", "(", "attribute", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "attribute", "}", ";", "}", "</s>"]
["<s>", "private", "Substr", "(", "Expression", "<", "V", ">", "expression", ",", "int", "offset", ",", "int", "length", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ",", "expression", ".", "getClassType", "(", ")", ")", ";", "this", ".", "expression", "=", "expression", ";", "this", ".", "offset", "=", "offset", ";", "this", ".", "length", "=", "length", ";", "}", "</s>"]
["<s>", "public", "static", "<", "U", ">", "Substr", "<", "U", ">", "substr", "(", "Expression", "<", "U", ">", "expression", ",", "int", "offset", ",", "int", "length", ")", "{", "return", "new", "Substr", "<", ">", "(", "expression", ",", "offset", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "[", "]", "arguments", "(", ")", "{", "return", "new", "Object", "[", "]", "{", "expression", ",", "offset", ",", "length", "}", ";", "}", "</s>"]
["<s>", "public", "Function", "(", "String", "name", ",", "Class", "<", "V", ">", "type", ")", "{", "this", ".", "name", "=", "name", ";", "this", ".", "type", "=", "type", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ExpressionType", "getExpressionType", "(", ")", "{", "return", "ExpressionType", ".", "FUNCTION", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Function", "<", "V", ">", "as", "(", "String", "alias", ")", "{", "this", ".", "alias", "=", "alias", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getAlias", "(", ")", "{", "return", "alias", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "V", ">", "getClassType", "(", ")", "{", "return", "type", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getName", "(", ")", "{", "return", "name", ";", "}", "</s>"]
["<s>", "public", "abstract", "Object", "[", "]", "arguments", "(", ")", ";", "</s>"]
["<s>", "public", "Expression", "<", "?", ">", "expressionForArgument", "(", "int", "i", ")", "{", "Object", "value", "=", "arguments", "(", ")", "[", "i", "]", ";", "if", "(", "value", "instanceof", "Expression", ")", "{", "return", "(", "Expression", "<", "?", ">", ")", "value", ";", "}", "else", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "NamedExpression", ".", "of", "(", "\"", "<STR_LIT>", "\"", ",", "type", ")", ";", "}", "else", "{", "return", "new", "ArgumentExpression", "<", ">", "(", "value", ".", "getClass", "(", ")", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "=", "=", "this", ")", "{", "return", "true", ";", "}", "if", "(", "obj", "instanceof", "Function", ")", "{", "Function", "other", "=", "(", "Function", ")", "obj", ";", "return", "Objects", ".", "equals", "(", "getName", "(", ")", ",", "other", ".", "getName", "(", ")", ")", "&", "&", "Objects", ".", "equals", "(", "getClassType", "(", ")", ",", "other", ".", "getClassType", "(", ")", ")", "&", "&", "Objects", ".", "equals", "(", "getAlias", "(", ")", ",", "other", ".", "getAlias", "(", ")", ")", "&", "&", "Objects", ".", "equals", "(", "arguments", "(", ")", ",", "other", ".", "arguments", "(", ")", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "getName", "(", ")", ",", "getClassType", "(", ")", ",", "getAlias", "(", ")", ",", "arguments", "(", ")", ")", ";", "}", "</s>"]
["<s>", "ArgumentExpression", "(", "Class", "<", "X", ">", "type", ")", "{", "this", ".", "type", "=", "type", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getName", "(", ")", "{", "return", "\"", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "X", ">", "getClassType", "(", ")", "{", "return", "type", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ExpressionType", "getExpressionType", "(", ")", "{", "return", "ExpressionType", ".", "FUNCTION", ";", "}", "</s>"]
["<s>", "SingleOnSubscribeFromSupplier", "(", "Supplier", "<", "E", ">", "supplier", ")", "{", "this", ".", "supplier", "=", "supplier", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "SingleSubscriber", "<", "?", "super", "E", ">", "subscriber", ")", "{", "try", "{", "E", "value", "=", "supplier", ".", "get", "(", ")", ";", "subscriber", ".", "onSuccess", "(", "value", ")", ";", "}", "catch", "(", "Throwable", "t", ")", "{", "subscriber", ".", "onError", "(", "t", ")", ";", "}", "}", "</s>"]
["<s>", "OnSubscribeFromQuery", "(", "BaseResult", "<", "T", ">", "result", ")", "{", "this", ".", "result", "=", "result", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Subscriber", "<", "?", "super", "T", ">", "subscriber", ")", "{", "subscriber", ".", "setProducer", "(", "new", "ElementProducer", "(", "subscriber", ")", ")", ";", "}", "</s>"]
["<s>", "ElementProducer", "(", "Subscriber", "<", "?", "super", "T", ">", "subscriber", ")", "{", "this", ".", "subscriber", "=", "subscriber", ";", "requested", "=", "new", "AtomicLong", "(", ")", ";", "emitted", "=", "new", "AtomicLong", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "request", "(", "long", "n", ")", "{", "if", "(", "n", "=", "=", "Long", ".", "MAX_VALUE", "&", "&", "requested", ".", "compareAndSet", "(", "0", ",", "Long", ".", "MAX_VALUE", ")", ")", "{", "try", "(", "CloseableIterator", "<", "T", ">", "iterator", "=", "result", ".", "iterator", "(", ")", ")", "{", "while", "(", "!", "subscriber", ".", "isUnsubscribed", "(", ")", ")", "{", "if", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "subscriber", ".", "onNext", "(", "iterator", ".", "next", "(", ")", ")", ";", "emitted", ".", "incrementAndGet", "(", ")", ";", "}", "else", "{", "subscriber", ".", "onCompleted", "(", ")", ";", "break", ";", "}", "}", "}", "}", "else", "if", "(", "n", ">", "0", "&", "&", "BackpressureUtils", ".", "getAndAddRequest", "(", "requested", ",", "n", ")", "=", "=", "0", ")", "{", "long", "count", "=", "n", ";", "while", "(", "count", ">", "0", ")", "{", "try", "(", "CloseableIterator", "<", "T", ">", "iterator", "=", "result", ".", "iterator", "(", "emitted", ".", "intValue", "(", ")", ",", "(", "int", ")", "n", ")", ")", "{", "long", "i", "=", "0", ";", "while", "(", "!", "subscriber", ".", "isUnsubscribed", "(", ")", "&", "&", "iterator", ".", "hasNext", "(", ")", ")", "{", "if", "(", "i", "+", "+", "<", "count", ")", "{", "subscriber", ".", "onNext", "(", "iterator", ".", "next", "(", ")", ")", ";", "}", "else", "{", "break", ";", "}", "}", "emitted", ".", "addAndGet", "(", "i", ")", ";", "if", "(", "!", "subscriber", ".", "isUnsubscribed", "(", ")", "&", "&", "i", "<", "count", ")", "{", "subscriber", ".", "onCompleted", "(", ")", ";", "break", ";", "}", "count", "=", "requested", ".", "addAndGet", "(", "-", "count", ")", ";", "}", "}", "}", "}", "</s>"]
["<s>", "void", "addTransactionListener", "(", "Supplier", "<", "TransactionListener", ">", "transactionListener", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ">", "Single", "<", "E", ">", "insert", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ">", "Single", "<", "Iterable", "<", "E", ">", ">", "insert", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "K", ",", "E", "extends", "T", ">", "Single", "<", "K", ">", "insert", "(", "E", "entity", ",", "Class", "<", "K", ">", "keyClass", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "K", ",", "E", "extends", "T", ">", "Single", "<", "Iterable", "<", "K", ">", ">", "insert", "(", "Iterable", "<", "E", ">", "entities", ",", "Class", "<", "K", ">", "keyClass", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ">", "Single", "<", "E", ">", "update", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ">", "Single", "<", "Iterable", "<", "E", ">", ">", "update", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ">", "Single", "<", "E", ">", "upsert", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ">", "Single", "<", "Iterable", "<", "E", ">", ">", "upsert", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ">", "Single", "<", "E", ">", "refresh", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ">", "Single", "<", "E", ">", "refresh", "(", "E", "entity", ",", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ">", "Single", "<", "Iterable", "<", "E", ">", ">", "refresh", "(", "Iterable", "<", "E", ">", "entities", ",", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ">", "Single", "<", "E", ">", "refreshAll", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ">", "Single", "<", "Void", ">", "delete", "(", "E", "entity", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ">", "Single", "<", "Void", ">", "delete", "(", "Iterable", "<", "E", ">", "entities", ")", ";", "</s>"]
["<s>", "@", "Override", "@", "CheckReturnValue", "public", "abstract", "<", "E", "extends", "T", ",", "K", ">", "Single", "<", "E", ">", "findByKey", "(", "Class", "<", "E", ">", "type", ",", "K", "key", ")", ";", "</s>"]
["<s>", "@", "CheckReturnValue", "@", "SafeVarargs", "public", "final", "<", "E", ">", "Observable", "<", "E", ">", "runInTransaction", "(", "Single", "<", "?", "extends", "E", ">", ".", ".", ".", "elements", ")", "{", "return", "runInTransaction", "(", "Arrays", ".", "asList", "(", "elements", ")", ")", ";", "}", "</s>"]
["<s>", "abstract", "<", "E", ">", "Observable", "<", "E", ">", "runInTransaction", "(", "List", "<", "Single", "<", "?", "extends", "E", ">", ">", "elements", ")", ";", "</s>"]
["<s>", "SingleEntityStoreFromBlocking", "(", "BlockingEntityStore", "<", "T", ">", "delegate", ",", "@", "Nullable", "Scheduler", "subscribeOn", ")", "{", "this", ".", "delegate", "=", "Objects", ".", "requireNotNull", "(", "delegate", ")", ";", "if", "(", "subscribeOn", "=", "=", "null", ")", "{", "createdExecutor", "=", "true", ";", "executor", "=", "Executors", ".", "newSingleThreadExecutor", "(", ")", ";", "this", ".", "subscribeOn", "=", "Schedulers", ".", "from", "(", "executor", ")", ";", "}", "else", "{", "this", ".", "subscribeOn", "=", "subscribeOn", ";", "executor", "=", "null", ";", "createdExecutor", "=", "false", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Single", "<", "E", ">", "insert", "(", "final", "E", "entity", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entity", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Single", "<", "Iterable", "<", "E", ">", ">", "insert", "(", "final", "Iterable", "<", "E", ">", "entities", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "Iterable", "<", "E", ">", ">", "(", ")", "{", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entities", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entities", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "K", ",", "E", "extends", "T", ">", "Single", "<", "K", ">", "insert", "(", "final", "E", "entity", ",", "final", "Class", "<", "K", ">", "keyClass", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "K", ">", "(", ")", "{", "@", "Override", "public", "K", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entity", ",", "keyClass", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "K", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entity", ",", "keyClass", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "K", ",", "E", "extends", "T", ">", "Single", "<", "Iterable", "<", "K", ">", ">", "insert", "(", "final", "Iterable", "<", "E", ">", "entities", ",", "final", "Class", "<", "K", ">", "keyClass", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "Iterable", "<", "K", ">", ">", "(", ")", "{", "@", "Override", "public", "Iterable", "<", "K", ">", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entities", ",", "keyClass", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Iterable", "<", "K", ">", "get", "(", ")", "{", "return", "delegate", ".", "insert", "(", "entities", ",", "keyClass", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Single", "<", "E", ">", "update", "(", "final", "E", "entity", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "update", "(", "entity", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "update", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Single", "<", "Iterable", "<", "E", ">", ">", "update", "(", "final", "Iterable", "<", "E", ">", "entities", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "Iterable", "<", "E", ">", ">", "(", ")", "{", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "update", "(", "entities", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "update", "(", "entities", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Single", "<", "E", ">", "upsert", "(", "final", "E", "entity", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "upsert", "(", "entity", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "upsert", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Single", "<", "Iterable", "<", "E", ">", ">", "upsert", "(", "final", "Iterable", "<", "E", ">", "entities", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "Iterable", "<", "E", ">", ">", "(", ")", "{", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "upsert", "(", "entities", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "upsert", "(", "entities", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Single", "<", "E", ">", "refresh", "(", "final", "E", "entity", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "refresh", "(", "entity", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "refresh", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Single", "<", "E", ">", "refresh", "(", "final", "E", "entity", ",", "final", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "refresh", "(", "entity", ",", "attributes", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "refresh", "(", "entity", ",", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Single", "<", "Iterable", "<", "E", ">", ">", "refresh", "(", "final", "Iterable", "<", "E", ">", "entities", ",", "final", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "Iterable", "<", "E", ">", ">", "(", ")", "{", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "refresh", "(", "entities", ",", "attributes", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Iterable", "<", "E", ">", "get", "(", ")", "{", "return", "delegate", ".", "refresh", "(", "entities", ",", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Single", "<", "E", ">", "refreshAll", "(", "final", "E", "entity", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "refreshAll", "(", "entity", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "refreshAll", "(", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Single", "<", "Void", ">", "delete", "(", "final", "E", "entity", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "Void", ">", "(", ")", "{", "@", "Override", "public", "Void", "get", "(", ")", "{", "delegate", ".", "delete", "(", "entity", ")", ";", "return", "null", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Void", "get", "(", ")", "{", "delegate", ".", "delete", "(", "entity", ")", ";", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Single", "<", "Void", ">", "delete", "(", "final", "Iterable", "<", "E", ">", "entities", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "Void", ">", "(", ")", "{", "@", "Override", "public", "Void", "get", "(", ")", "{", "delegate", ".", "delete", "(", "entities", ")", ";", "return", "null", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Void", "get", "(", ")", "{", "delegate", ".", "delete", "(", "entities", ")", ";", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ",", "K", ">", "Single", "<", "E", ">", "findByKey", "(", "final", "Class", "<", "E", ">", "type", ",", "final", "K", "key", ")", "{", "return", "RxSupport", ".", "toSingle", "(", "new", "Supplier", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "findByKey", "(", "type", ",", "key", ")", ";", "}", "}", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", ")", "{", "return", "delegate", ".", "findByKey", "(", "type", ",", "key", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "delegate", ".", "close", "(", ")", ";", "if", "(", "executor", "!", "=", "null", "&", "&", "createdExecutor", ")", "{", "executor", ".", "shutdown", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Selection", "<", "Result", "<", "Tuple", ">", ">", "select", "(", "Expression", "<", "?", ">", ".", ".", ".", "attributes", ")", "{", "return", "delegate", ".", "select", "(", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selection", "<", "Result", "<", "Tuple", ">", ">", "select", "(", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "expressions", ")", "{", "return", "delegate", ".", "select", "(", "expressions", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Update", "<", "Scalar", "<", "Integer", ">", ">", "update", "(", ")", "{", "return", "delegate", ".", "update", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Deletion", "<", "Scalar", "<", "Integer", ">", ">", "delete", "(", ")", "{", "return", "delegate", ".", "delete", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Selection", "<", "Result", "<", "E", ">", ">", "select", "(", "Class", "<", "E", ">", "type", ",", "QueryAttribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "return", "delegate", ".", "select", "(", "type", ",", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Selection", "<", "Result", "<", "E", ">", ">", "select", "(", "Class", "<", "E", ">", "type", ",", "Set", "<", "?", "extends", "QueryAttribute", "<", "E", ",", "?", ">", ">", "attributes", ")", "{", "return", "delegate", ".", "select", "(", "type", ",", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Insertion", "<", "Result", "<", "Tuple", ">", ">", "insert", "(", "Class", "<", "E", ">", "type", ")", "{", "return", "delegate", ".", "insert", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Update", "<", "Scalar", "<", "Integer", ">", ">", "update", "(", "Class", "<", "E", ">", "type", ")", "{", "return", "delegate", ".", "update", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Deletion", "<", "Scalar", "<", "Integer", ">", ">", "delete", "(", "Class", "<", "E", ">", "type", ")", "{", "return", "delegate", ".", "delete", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Selection", "<", "Scalar", "<", "Integer", ">", ">", "count", "(", "Class", "<", "E", ">", "type", ")", "{", "return", "delegate", ".", "count", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selection", "<", "Scalar", "<", "Integer", ">", ">", "count", "(", "QueryAttribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "return", "delegate", ".", "count", "(", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Result", "<", "Tuple", ">", "raw", "(", "String", "query", ",", "Object", ".", ".", ".", "parameters", ")", "{", "return", "delegate", ".", "raw", "(", "query", ",", "parameters", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Result", "<", "E", ">", "raw", "(", "Class", "<", "E", ">", "type", ",", "String", "query", ",", "Object", ".", ".", ".", "parameters", ")", "{", "return", "delegate", ".", "raw", "(", "type", ",", "query", ",", "parameters", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BlockingEntityStore", "<", "T", ">", "toBlocking", "(", ")", "{", "return", "delegate", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "final", "<", "E", ">", "Observable", "<", "E", ">", "runInTransaction", "(", "final", "List", "<", "Single", "<", "?", "extends", "E", ">", ">", "elements", ")", "{", "Objects", ".", "requireNotNull", "(", "elements", ")", ";", "return", "Observable", ".", "create", "(", "new", "Observable", ".", "OnSubscribe", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "final", "Subscriber", "<", "?", "super", "E", ">", "subscriber", ")", "{", "delegate", ".", "runInTransaction", "(", "new", "Callable", "<", "Void", ">", "(", ")", "{", "@", "Override", "public", "Void", "call", "(", ")", "throws", "Exception", "{", "try", "{", "subscriber", ".", "onStart", "(", ")", ";", "for", "(", "Single", "<", "?", ">", "single", ":", "elements", ")", "{", "Object", "value", "=", "single", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "if", "(", "value", "!", "=", "null", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "E", "next", "=", "(", "E", ")", "value", ";", "subscriber", ".", "onNext", "(", "next", ")", ";", "}", "}", "subscriber", ".", "onCompleted", "(", ")", ";", "}", "catch", "(", "Throwable", "t", ")", "{", "subscriber", ".", "onError", "(", "t", ")", ";", "}", "return", "null", ";", "}", "}", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "final", "Subscriber", "<", "?", "super", "E", ">", "subscriber", ")", "{", "delegate", ".", "runInTransaction", "(", "new", "Callable", "<", "Void", ">", "(", ")", "{", "@", "Override", "public", "Void", "call", "(", ")", "throws", "Exception", "{", "try", "{", "subscriber", ".", "onStart", "(", ")", ";", "for", "(", "Single", "<", "?", ">", "single", ":", "elements", ")", "{", "Object", "value", "=", "single", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "if", "(", "value", "!", "=", "null", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "E", "next", "=", "(", "E", ")", "value", ";", "subscriber", ".", "onNext", "(", "next", ")", ";", "}", "}", "subscriber", ".", "onCompleted", "(", ")", ";", "}", "catch", "(", "Throwable", "t", ")", "{", "subscriber", ".", "onError", "(", "t", ")", ";", "}", "return", "null", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Void", "call", "(", ")", "throws", "Exception", "{", "try", "{", "subscriber", ".", "onStart", "(", ")", ";", "for", "(", "Single", "<", "?", ">", "single", ":", "elements", ")", "{", "Object", "value", "=", "single", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "if", "(", "value", "!", "=", "null", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "E", "next", "=", "(", "E", ")", "value", ";", "subscriber", ".", "onNext", "(", "next", ")", ";", "}", "}", "subscriber", ".", "onCompleted", "(", ")", ";", "}", "catch", "(", "Throwable", "t", ")", "{", "subscriber", ".", "onError", "(", "t", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "TypeChangeListener", "(", ")", "{", "commitSubject", "=", "new", "SerializedSubject", "<", ">", "(", "PublishSubject", ".", "<", "Set", "<", "Type", "<", "?", ">", ">", ">", "create", "(", ")", ")", ";", "rollbackSubject", "=", "new", "SerializedSubject", "<", ">", "(", "PublishSubject", ".", "<", "Set", "<", "Type", "<", "?", ">", ">", ">", "create", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "TransactionListener", "get", "(", ")", "{", "return", "new", "TransactionListener", "(", ")", "{", "@", "Override", "public", "void", "beforeBegin", "(", "TransactionIsolation", "isolation", ")", "{", "}", "@", "Override", "public", "void", "afterBegin", "(", "TransactionIsolation", "isolation", ")", "{", "}", "@", "Override", "public", "void", "beforeCommit", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "}", "@", "Override", "public", "void", "afterCommit", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "commitSubject", ".", "onNext", "(", "types", ")", ";", "}", "@", "Override", "public", "void", "beforeRollback", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "}", "@", "Override", "public", "void", "afterRollback", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "rollbackSubject", ".", "onNext", "(", "types", ")", ";", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeBegin", "(", "TransactionIsolation", "isolation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterBegin", "(", "TransactionIsolation", "isolation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeCommit", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterCommit", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "commitSubject", ".", "onNext", "(", "types", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeRollback", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterRollback", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "rollbackSubject", ".", "onNext", "(", "types", ")", ";", "}", "</s>"]
["<s>", "Subject", "<", "Set", "<", "Type", "<", "?", ">", ">", ",", "Set", "<", "Type", "<", "?", ">", ">", ">", "commitSubject", "(", ")", "{", "return", "commitSubject", ";", "}", "</s>"]
["<s>", "private", "RxSupport", "(", ")", "{", "}", "</s>"]
["<s>", "public", "static", "<", "S", ">", "SingleEntityStore", "<", "S", ">", "toReactiveStore", "(", "BlockingEntityStore", "<", "S", ">", "store", ")", "{", "return", "toReactiveStore", "(", "store", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "static", "<", "S", ">", "SingleEntityStore", "<", "S", ">", "toReactiveStore", "(", "BlockingEntityStore", "<", "S", ">", "store", ",", "Scheduler", "subscribeOn", ")", "{", "return", "new", "SingleEntityStoreFromBlocking", "<", ">", "(", "store", ",", "subscribeOn", ")", ";", "}", "</s>"]
["<s>", "public", "static", "<", "T", ">", "Observable", "<", "Result", "<", "T", ">", ">", "toResultObservable", "(", "final", "Result", "<", "T", ">", "result", ")", "{", "if", "(", "!", "(", "result", "instanceof", "ObservableResult", ")", ")", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "ObservableResult", "observableResult", "=", "(", "ObservableResult", ")", "result", ";", "final", "QueryElement", "<", "?", ">", "element", "=", "observableResult", ".", "unwrapQuery", "(", ")", ";", "observableResult", ".", "addTransactionListener", "(", "typeChanges", ")", ";", "return", "typeChanges", ".", "commitSubject", "(", ")", ".", "filter", "(", "new", "Func1", "<", "Set", "<", "Type", "<", "?", ">", ">", ",", "Boolean", ">", "(", ")", "{", "@", "Override", "public", "Boolean", "call", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "return", "!", "Collections", ".", "disjoint", "(", "element", ".", "entityTypes", "(", ")", ",", "types", ")", "|", "|", "referencesType", "(", "element", ".", "entityTypes", "(", ")", ",", "types", ")", ";", "}", "}", ")", ".", "map", "(", "new", "Func1", "<", "Set", "<", "Type", "<", "?", ">", ">", ",", "Result", "<", "T", ">", ">", "(", ")", "{", "@", "Override", "public", "Result", "<", "T", ">", "call", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "return", "result", ";", "}", "}", ")", ".", "startWith", "(", "result", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Boolean", "call", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "return", "!", "Collections", ".", "disjoint", "(", "element", ".", "entityTypes", "(", ")", ",", "types", ")", "|", "|", "referencesType", "(", "element", ".", "entityTypes", "(", ")", ",", "types", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Result", "<", "T", ">", "call", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "return", "result", ";", "}", "</s>"]
["<s>", "private", "static", "boolean", "referencesType", "(", "Set", "<", "Type", "<", "?", ">", ">", "source", ",", "Set", "<", "Type", "<", "?", ">", ">", "changed", ")", "{", "for", "(", "Type", "<", "?", ">", "type", ":", "source", ")", "{", "for", "(", "Attribute", "<", "?", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "attribute", ".", "isAssociation", "(", ")", ")", "{", "Attribute", "referenced", "=", "null", ";", "if", "(", "attribute", ".", "getReferencedAttribute", "(", ")", "!", "=", "null", ")", "{", "referenced", "=", "attribute", ".", "getReferencedAttribute", "(", ")", ".", "get", "(", ")", ";", "}", "if", "(", "attribute", ".", "getMappedAttribute", "(", ")", "!", "=", "null", ")", "{", "referenced", "=", "attribute", ".", "getMappedAttribute", "(", ")", ".", "get", "(", ")", ";", "}", "if", "(", "referenced", "!", "=", "null", ")", "{", "Type", "<", "?", ">", "declared", "=", "referenced", ".", "getDeclaringType", "(", ")", ";", "if", "(", "changed", ".", "contains", "(", "declared", ")", ")", "{", "return", "true", ";", "}", "}", "}", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "public", "static", "<", "E", ">", "Observable", "<", "E", ">", "toObservable", "(", "final", "BaseResult", "<", "E", ">", "result", ")", "{", "return", "Observable", ".", "create", "(", "new", "OnSubscribeFromQuery", "<", ">", "(", "result", ")", ")", ";", "}", "</s>"]
["<s>", "public", "static", "<", "E", ">", "Single", "<", "E", ">", "toSingle", "(", "final", "Scalar", "<", "E", ">", "scalar", ")", "{", "return", "Single", ".", "create", "(", "new", "SingleOnSubscribeFromSupplier", "<", ">", "(", "scalar", ".", "toSupplier", "(", ")", ")", ")", ";", "}", "</s>"]
["<s>", "static", "<", "E", ">", "Single", "<", "E", ">", "toSingle", "(", "Supplier", "<", "E", ">", "supplier", ",", "Scheduler", "subscribeOn", ")", "{", "Single", "<", "E", ">", "single", "=", "Single", ".", "create", "(", "new", "SingleOnSubscribeFromSupplier", "<", ">", "(", "supplier", ")", ")", ";", "if", "(", "subscribeOn", "!", "=", "null", ")", "{", "return", "single", ".", "subscribeOn", "(", "subscribeOn", ")", ";", "}", "return", "single", ";", "}", "</s>"]
["<s>", "CompositeTransactionListener", "(", "Set", "<", "Supplier", "<", "TransactionListener", ">", ">", "listenerFactories", ")", "{", "for", "(", "Supplier", "<", "TransactionListener", ">", "supplier", ":", "listenerFactories", ")", "{", "TransactionListener", "listener", "=", "supplier", ".", "get", "(", ")", ";", "if", "(", "listener", "!", "=", "null", ")", "{", "add", "(", "listener", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeBegin", "(", "TransactionIsolation", "isolation", ")", "{", "for", "(", "TransactionListener", "listener", ":", "this", ")", "{", "listener", ".", "beforeBegin", "(", "isolation", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterBegin", "(", "TransactionIsolation", "isolation", ")", "{", "for", "(", "TransactionListener", "listener", ":", "this", ")", "{", "listener", ".", "afterBegin", "(", "isolation", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeCommit", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "for", "(", "TransactionListener", "listener", ":", "this", ")", "{", "listener", ".", "beforeCommit", "(", "types", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterCommit", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "for", "(", "TransactionListener", "listener", ":", "this", ")", "{", "listener", ".", "afterCommit", "(", "types", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeRollback", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "for", "(", "TransactionListener", "listener", ":", "this", ")", "{", "listener", ".", "beforeRollback", "(", "types", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterRollback", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "for", "(", "TransactionListener", "listener", ":", "this", ")", "{", "listener", ".", "afterRollback", "(", "types", ")", ";", "}", "}", "</s>"]
["<s>", "DataSourceConnectionProvider", "(", "DataSource", "dataSource", ")", "{", "this", ".", "dataSource", "=", "Objects", ".", "requireNotNull", "(", "dataSource", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Connection", "getConnection", "(", ")", "throws", "SQLException", "{", "return", "dataSource", ".", "getConnection", "(", ")", ";", "}", "</s>"]
["<s>", "static", "<", "E", ",", "V", ">", "QueryAttribute", "<", "E", ",", "V", ">", "query", "(", "Attribute", "attribute", ")", "{", "if", "(", "attribute", "instanceof", "Supplier", ")", "{", "return", "get", "(", "(", "Supplier", ")", "attribute", ")", ";", "}", "return", "(", "QueryAttribute", "<", "E", ",", "V", ">", ")", "attribute", ";", "}", "</s>"]
["<s>", "static", "<", "E", ",", "V", ">", "QueryAttribute", "<", "E", ",", "V", ">", "get", "(", "Supplier", "supplier", ")", "{", "return", "query", "(", "(", "Attribute", ")", "supplier", ".", "get", "(", ")", ")", ";", "}", "</s>"]
["<s>", "static", "<", "E", ">", "Attribute", "<", "E", ",", "?", ">", "[", "]", "newArray", "(", "int", "size", ")", "{", "return", "new", "Attribute", "[", "size", "]", ";", "}", "</s>"]
["<s>", "static", "<", "E", ">", "Attribute", "<", "E", ",", "?", ">", "[", "]", "toArray", "(", "Collection", "<", "Attribute", "<", "E", ",", "?", ">", ">", "attributes", ",", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "filter", ")", "{", "LinkedHashSet", "<", "Attribute", ">", "filtered", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "attributes", ")", "{", "if", "(", "filter", "=", "=", "null", "|", "|", "filter", ".", "test", "(", "attribute", ")", ")", "{", "filtered", ".", "add", "(", "attribute", ")", ";", "}", "}", "Attribute", "<", "E", ",", "?", ">", "[", "]", "array", "=", "new", "Attribute", "[", "filtered", ".", "size", "(", ")", "]", ";", "return", "filtered", ".", "toArray", "(", "array", ")", ";", "}", "</s>"]
["<s>", "static", "Object", "replaceKeyReference", "(", "Object", "value", ",", "Attribute", "attribute", ")", "{", "if", "(", "value", "!", "=", "null", ")", "{", "Attribute", "<", "Object", ",", "Object", ">", "referenced", "=", "get", "(", "attribute", ".", "getReferencedAttribute", "(", ")", ")", ";", "value", "=", "referenced", ".", "getDeclaringType", "(", ")", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "value", ")", ".", "get", "(", "referenced", ",", "false", ")", ";", "}", "return", "value", ";", "}", "</s>"]
["<s>", "void", "enableStateListeners", "(", "boolean", "enabled", ")", "{", "this", ".", "enableStateListeners", "=", "enabled", ";", "}", "</s>"]
["<s>", "void", "preUpdate", "(", "T", "entity", ",", "EntityProxy", "<", "?", "extends", "T", ">", "proxy", ")", "{", "if", "(", "enableStateListeners", ")", "{", "for", "(", "PreUpdateListener", "<", "T", ">", "listener", ":", "preUpdateListeners", ")", "{", "listener", ".", "preUpdate", "(", "entity", ")", ";", "}", "}", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "preUpdate", "(", ")", ";", "}", "}", "</s>"]
["<s>", "void", "postUpdate", "(", "T", "entity", ",", "EntityProxy", "<", "?", "extends", "T", ">", "proxy", ")", "{", "if", "(", "enableStateListeners", ")", "{", "for", "(", "PostUpdateListener", "<", "T", ">", "listener", ":", "postUpdateListeners", ")", "{", "listener", ".", "postUpdate", "(", "entity", ")", ";", "}", "}", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "postUpdate", "(", ")", ";", "}", "}", "</s>"]
["<s>", "void", "preInsert", "(", "T", "entity", ",", "EntityProxy", "<", "?", "extends", "T", ">", "proxy", ")", "{", "if", "(", "enableStateListeners", ")", "{", "for", "(", "PreInsertListener", "<", "T", ">", "listener", ":", "preInsertListeners", ")", "{", "listener", ".", "preInsert", "(", "entity", ")", ";", "}", "}", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "preInsert", "(", ")", ";", "}", "}", "</s>"]
["<s>", "void", "postInsert", "(", "T", "entity", ",", "EntityProxy", "<", "?", "extends", "T", ">", "proxy", ")", "{", "if", "(", "enableStateListeners", ")", "{", "for", "(", "PostInsertListener", "<", "T", ">", "listener", ":", "postInsertListeners", ")", "{", "listener", ".", "postInsert", "(", "entity", ")", ";", "}", "}", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "postInsert", "(", ")", ";", "}", "}", "</s>"]
["<s>", "void", "preDelete", "(", "T", "entity", ",", "EntityProxy", "<", "?", "extends", "T", ">", "proxy", ")", "{", "if", "(", "enableStateListeners", ")", "{", "for", "(", "PreDeleteListener", "<", "T", ">", "listener", ":", "preDeleteListeners", ")", "{", "listener", ".", "preDelete", "(", "entity", ")", ";", "}", "}", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "preDelete", "(", ")", ";", "}", "}", "</s>"]
["<s>", "void", "postDelete", "(", "T", "entity", ",", "EntityProxy", "<", "?", "extends", "T", ">", "proxy", ")", "{", "if", "(", "enableStateListeners", ")", "{", "for", "(", "PostDeleteListener", "<", "T", ">", "listener", ":", "postDeleteListeners", ")", "{", "listener", ".", "postDelete", "(", "entity", ")", ";", "}", "}", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "postDelete", "(", ")", ";", "}", "}", "</s>"]
["<s>", "void", "postLoad", "(", "T", "entity", ",", "EntityProxy", "<", "?", "extends", "T", ">", "proxy", ")", "{", "if", "(", "enableStateListeners", ")", "{", "for", "(", "PostLoadListener", "<", "T", ">", "listener", ":", "postLoadListeners", ")", "{", "listener", ".", "postLoad", "(", "entity", ")", ";", "}", "}", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "postLoad", "(", ")", ";", "}", "}", "</s>"]
["<s>", "MissingVersionException", "(", "EntityProxy", "proxy", ")", "{", "this", ".", "proxy", "=", "proxy", ";", "}", "</s>"]
["<s>", "public", "EntityProxy", "getProxy", "(", ")", "{", "return", "proxy", ";", "}", "</s>"]
["<s>", "TransactionEntitiesSet", "(", "EntityCache", "cache", ")", "{", "this", ".", "cache", "=", "cache", ";", "this", ".", "types", "=", "new", "HashSet", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "add", "(", "EntityProxy", "<", "?", ">", "proxy", ")", "{", "if", "(", "super", ".", "add", "(", "proxy", ")", ")", "{", "types", ".", "add", "(", "proxy", ".", "type", "(", ")", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clear", "(", ")", "{", "super", ".", "clear", "(", ")", ";", "types", ".", "clear", "(", ")", ";", "}", "</s>"]
["<s>", "void", "clearAndInvalidate", "(", ")", "{", "for", "(", "EntityProxy", "<", "?", ">", "proxy", ":", "this", ")", "{", "proxy", ".", "unlink", "(", ")", ";", "Object", "key", "=", "proxy", ".", "key", "(", ")", ";", "if", "(", "key", "!", "=", "null", ")", "{", "cache", ".", "invalidate", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ",", "key", ")", ";", "}", "}", "clear", "(", ")", ";", "}", "</s>"]
["<s>", "Set", "<", "Type", "<", "?", ">", ">", "types", "(", ")", "{", "return", "types", ";", "}", "</s>"]
["<s>", "EntityReader", "(", "Type", "<", "E", ">", "type", ",", "EntityContext", "<", "S", ">", "context", ",", "Queryable", "<", "S", ">", "queryable", ")", "{", "this", ".", "type", "=", "Objects", ".", "requireNotNull", "(", "type", ")", ";", "this", ".", "context", "=", "Objects", ".", "requireNotNull", "(", "context", ")", ";", "this", ".", "queryable", "=", "Objects", ".", "requireNotNull", "(", "queryable", ")", ";", "this", ".", "cache", "=", "this", ".", "context", ".", "getCache", "(", ")", ";", "this", ".", "mapping", "=", "this", ".", "context", ".", "getMapping", "(", ")", ";", "this", ".", "stateless", "=", "type", ".", "isStateless", "(", ")", ";", "this", ".", "cacheable", "=", "type", ".", "isCacheable", "(", ")", ";", "LinkedHashSet", "<", "Expression", "<", "?", ">", ">", "selection", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "LinkedHashSet", "<", "Attribute", "<", "E", ",", "?", ">", ">", "selectAttributes", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "boolean", "isKey", "=", "(", "attribute", ".", "isForeignKey", "(", ")", "|", "|", "attribute", ".", "isKey", "(", ")", ")", ";", "if", "(", "!", "attribute", ".", "isLazy", "(", ")", "&", "&", "(", "isKey", "|", "|", "!", "attribute", ".", "isAssociation", "(", ")", ")", ")", "{", "if", "(", "attribute", ".", "isVersion", "(", ")", ")", "{", "Expression", "<", "?", ">", "expression", "=", "aliasVersion", "(", "attribute", ")", ";", "selection", ".", "add", "(", "expression", ")", ";", "}", "else", "{", "selection", ".", "add", "(", "(", "Expression", ")", "attribute", ")", ";", "}", "selectAttributes", ".", "add", "(", "attribute", ")", ";", "}", "}", "defaultSelection", "=", "Collections", ".", "unmodifiableSet", "(", "selection", ")", ";", "keyAttribute", "=", "Attributes", ".", "query", "(", "type", ".", "getSingleKeyAttribute", "(", ")", ")", ";", "defaultSelectionAttributes", "=", "Attributes", ".", "toArray", "(", "selectAttributes", ",", "new", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "boolean", "test", "(", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "return", "true", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "test", "(", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "Set", "<", "Expression", "<", "?", ">", ">", "defaultSelection", "(", ")", "{", "return", "defaultSelection", ";", "}", "</s>"]
["<s>", "Attribute", "<", "E", ",", "?", ">", "[", "]", "defaultSelectionAttributes", "(", ")", "{", "return", "defaultSelectionAttributes", ";", "}", "</s>"]
["<s>", "ResultReader", "<", "E", ">", "newResultReader", "(", "Attribute", "[", "]", "attributes", ")", "{", "if", "(", "type", ".", "isBuildable", "(", ")", ")", "{", "return", "new", "BuildableEntityResultReader", "<", ">", "(", "this", ",", "attributes", ")", ";", "}", "else", "{", "return", "new", "EntityResultReader", "<", ">", "(", "this", ",", "attributes", ")", ";", "}", "}", "</s>"]
["<s>", "private", "Expression", "aliasVersion", "(", "Attribute", "attribute", ")", "{", "String", "columnName", "=", "context", ".", "getPlatform", "(", ")", ".", "versionColumnDefinition", "(", ")", ".", "columnName", "(", ")", ";", "if", "(", "attribute", ".", "isVersion", "(", ")", "&", "&", "columnName", "!", "=", "null", ")", "{", "Expression", "<", "?", ">", "expression", "=", "(", "Expression", "<", "?", ">", ")", "attribute", ";", "return", "new", "AliasedExpression", "<", ">", "(", "expression", ",", "columnName", ",", "expression", ".", "getName", "(", ")", ")", ";", "}", "return", "(", "Expression", ")", "attribute", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "void", "load", "(", "E", "entity", ",", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "V", ">", "attribute", ")", "{", "refresh", "(", "entity", ",", "proxy", ",", "attribute", ")", ";", "}", "</s>"]
["<s>", "public", "E", "refresh", "(", "E", "entity", ",", "EntityProxy", "<", "E", ">", "proxy", ")", "{", "final", "Set", "<", "Attribute", "<", "E", ",", "?", ">", ">", "refreshAttributes", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "stateless", "|", "|", "proxy", ".", "getState", "(", "attribute", ")", "=", "=", "PropertyState", ".", "LOADED", ")", "{", "refreshAttributes", ".", "add", "(", "attribute", ")", ";", "}", "}", "return", "refresh", "(", "entity", ",", "proxy", ",", "refreshAttributes", ")", ";", "}", "</s>"]
["<s>", "public", "E", "refreshAll", "(", "E", "entity", ",", "EntityProxy", "<", "E", ">", "proxy", ")", "{", "return", "refresh", "(", "entity", ",", "proxy", ",", "type", ".", "getAttributes", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "SafeVarargs", "public", "final", "E", "refresh", "(", "E", "entity", ",", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "if", "(", "attributes", "=", "=", "null", "|", "|", "attributes", ".", "length", "=", "=", "0", ")", "{", "return", "entity", ";", "}", "Set", "<", "Attribute", "<", "E", ",", "?", ">", ">", "elements", ";", "if", "(", "attributes", ".", "length", "=", "=", "1", ")", "{", "elements", "=", "Collections", ".", "<", "Attribute", "<", "E", ",", "?", ">", ">", "singleton", "(", "attributes", "[", "0", "]", ")", ";", "}", "else", "{", "elements", "=", "new", "LinkedHashSet", "<", ">", "(", "attributes", ".", "length", ")", ";", "Collections", ".", "addAll", "(", "elements", ",", "attributes", ")", ";", "}", "return", "refresh", "(", "entity", ",", "proxy", ",", "elements", ")", ";", "}", "</s>"]
["<s>", "private", "E", "refresh", "(", "E", "entity", ",", "EntityProxy", "<", "E", ">", "proxy", ",", "final", "Set", "<", "Attribute", "<", "E", ",", "?", ">", ">", "attributes", ")", "{", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "basicFilter", "=", "new", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "boolean", "test", "(", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "return", "attributes", ".", "contains", "(", "value", ")", "&", "&", "(", "!", "value", ".", "isAssociation", "(", ")", "|", "|", "value", ".", "isForeignKey", "(", ")", ")", ";", "}", "}", ";", "FilteringIterator", "<", "Attribute", "<", "E", ",", "?", ">", ">", "filterator", "=", "new", "FilteringIterator", "<", ">", "(", "attributes", ".", "iterator", "(", ")", ",", "basicFilter", ")", ";", "if", "(", "filterator", ".", "hasNext", "(", ")", ")", "{", "QueryBuilder", "qb", "=", "new", "QueryBuilder", "(", "context", ".", "getQueryBuilderOptions", "(", ")", ")", ".", "keyword", "(", "SELECT", ")", ".", "commaSeparated", "(", "filterator", ",", "new", "QueryBuilder", ".", "Appender", "<", "Attribute", "<", "E", ",", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "String", "versionColumn", "=", "context", ".", "getPlatform", "(", ")", ".", "versionColumnDefinition", "(", ")", ".", "columnName", "(", ")", ";", "if", "(", "value", ".", "isVersion", "(", ")", "&", "&", "versionColumn", "!", "=", "null", ")", "{", "qb", ".", "append", "(", "versionColumn", ")", ".", "space", "(", ")", ".", "append", "(", "AS", ")", ".", "space", "(", ")", ".", "append", "(", "value", ".", "getName", "(", ")", ")", ".", "space", "(", ")", ";", "}", "else", "{", "qb", ".", "attribute", "(", "value", ")", ";", "}", "}", "}", ")", ".", "keyword", "(", "FROM", ")", ".", "tableName", "(", "type", ".", "getName", "(", ")", ")", ".", "keyword", "(", "WHERE", ")", ".", "appendWhereConditions", "(", "type", ".", "getKeyAttributes", "(", ")", ")", ";", "String", "sql", "=", "qb", ".", "toString", "(", ")", ";", "try", "(", "Connection", "connection", "=", "context", ".", "getConnection", "(", ")", ";", "PreparedStatement", "statement", "=", "connection", ".", "prepareStatement", "(", "sql", ")", ")", "{", "int", "index", "=", "1", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getKeyAttributes", "(", ")", ")", "{", "Object", "value", "=", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "if", "(", "value", "=", "=", "null", ")", "{", "throw", "new", "MissingKeyException", "(", "proxy", ")", ";", "}", "mapping", ".", "write", "(", "(", "Expression", ")", "attribute", ",", "statement", ",", "index", "+", "+", ",", "value", ")", ";", "}", "context", ".", "getStatementListener", "(", ")", ".", "beforeExecuteQuery", "(", "statement", ",", "sql", ",", "null", ")", ";", "ResultSet", "results", "=", "statement", ".", "executeQuery", "(", ")", ";", "context", ".", "getStatementListener", "(", ")", ".", "afterExecuteQuery", "(", "statement", ")", ";", "if", "(", "results", ".", "next", "(", ")", ")", "{", "Attribute", "[", "]", "selection", "=", "new", "Attribute", "[", "attributes", ".", "size", "(", ")", "]", ";", "attributes", ".", "toArray", "(", "selection", ")", ";", "if", "(", "type", ".", "isImmutable", "(", ")", ")", "{", "entity", "=", "fromBuilder", "(", "results", ",", "selection", ")", ";", "}", "else", "{", "entity", "=", "fromResult", "(", "entity", ",", "results", ",", "selection", ")", ";", "}", "}", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "}", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "attributes", ")", "{", "if", "(", "attribute", ".", "isAssociation", "(", ")", ")", "{", "refreshAssociation", "(", "proxy", ",", "attribute", ")", ";", "}", "}", "return", "entity", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "test", "(", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "return", "attributes", ".", "contains", "(", "value", ")", "&", "&", "(", "!", "value", ".", "isAssociation", "(", ")", "|", "|", "value", ".", "isForeignKey", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "String", "versionColumn", "=", "context", ".", "getPlatform", "(", ")", ".", "versionColumnDefinition", "(", ")", ".", "columnName", "(", ")", ";", "if", "(", "value", ".", "isVersion", "(", ")", "&", "&", "versionColumn", "!", "=", "null", ")", "{", "qb", ".", "append", "(", "versionColumn", ")", ".", "space", "(", ")", ".", "append", "(", "AS", ")", ".", "space", "(", ")", ".", "append", "(", "value", ".", "getName", "(", ")", ")", ".", "space", "(", ")", ";", "}", "else", "{", "qb", ".", "attribute", "(", "value", ")", ";", "}", "}", "</s>"]
["<s>", "private", "<", "V", ">", "void", "refreshAssociation", "(", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "V", ">", "attribute", ")", "{", "Supplier", "<", "Result", "<", "S", ">", ">", "query", "=", "associativeQuery", "(", "proxy", ",", "attribute", ")", ";", "switch", "(", "attribute", ".", "getCardinality", "(", ")", ")", "{", "case", "ONE_TO_ONE", ":", "case", "MANY_TO_ONE", ":", "S", "value", "=", "query", "=", "=", "null", "?", "null", ":", "query", ".", "get", "(", ")", ".", "firstOrNull", "(", ")", ";", "proxy", ".", "set", "(", "attribute", ",", "attribute", ".", "getClassType", "(", ")", ".", "cast", "(", "value", ")", ",", "PropertyState", ".", "LOADED", ")", ";", "break", ";", "case", "ONE_TO_MANY", ":", "case", "MANY_TO_MANY", ":", "Initializer", "<", "E", ",", "V", ">", "initializer", "=", "attribute", ".", "getInitializer", "(", ")", ";", "if", "(", "initializer", "instanceof", "QueryInitializer", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "QueryInitializer", "<", "E", ",", "V", ">", "queryInitializer", "=", "(", "QueryInitializer", "<", "E", ",", "V", ">", ")", "initializer", ";", "V", "result", "=", "queryInitializer", ".", "initialize", "(", "proxy", ",", "attribute", ",", "query", ")", ";", "proxy", ".", "set", "(", "attribute", ",", "result", ",", "PropertyState", ".", "LOADED", ")", ";", "}", "break", ";", "default", ":", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "<", "Q", "extends", "S", ">", "Supplier", "<", "Result", "<", "Q", ">", ">", "associativeQuery", "(", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "?", ">", "attribute", ")", "{", "switch", "(", "attribute", ".", "getCardinality", "(", ")", ")", "{", "case", "ONE_TO_ONE", ":", "case", "ONE_TO_MANY", ":", "case", "MANY_TO_ONE", ":", "{", "Object", "key", ";", "QueryAttribute", "<", "Q", ",", "Object", ">", "keyAttribute", ";", "Class", "<", "Q", ">", "uType", ";", "if", "(", "attribute", ".", "isForeignKey", "(", ")", ")", "{", "keyAttribute", "=", "Attributes", ".", "get", "(", "attribute", ".", "getReferencedAttribute", "(", ")", ")", ";", "uType", "=", "keyAttribute", ".", "getDeclaringType", "(", ")", ".", "getClassType", "(", ")", ";", "Q", "entity", "=", "uType", ".", "cast", "(", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ")", ";", "if", "(", "entity", "=", "=", "null", ")", "{", "return", "null", ";", "}", "EntityProxy", "<", "Q", ">", "referredProxy", "=", "context", ".", "getModel", "(", ")", ".", "typeOf", "(", "uType", ")", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "entity", ")", ";", "key", "=", "referredProxy", ".", "get", "(", "keyAttribute", ")", ";", "}", "else", "{", "keyAttribute", "=", "Attributes", ".", "get", "(", "attribute", ".", "getMappedAttribute", "(", ")", ")", ";", "uType", "=", "keyAttribute", ".", "getDeclaringType", "(", ")", ".", "getClassType", "(", ")", ";", "Attribute", "<", "E", ",", "?", ">", "referenced", "=", "Attributes", ".", "get", "(", "keyAttribute", ".", "getReferencedAttribute", "(", ")", ")", ";", "key", "=", "proxy", ".", "get", "(", "referenced", ")", ";", "}", "return", "order", "(", "queryable", ".", "select", "(", "uType", ")", ".", "where", "(", "keyAttribute", ".", "equal", "(", "key", ")", ")", ",", "attribute", ".", "getOrderByAttribute", "(", ")", ")", ";", "}", "case", "MANY_TO_MANY", ":", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Class", "<", "Q", ">", "uType", "=", "(", "Class", "<", "Q", ">", ")", "attribute", ".", "getElementClass", "(", ")", ";", "QueryAttribute", "<", "E", ",", "Object", ">", "tKey", "=", "null", ";", "QueryAttribute", "<", "Q", ",", "Object", ">", "uKey", "=", "null", ";", "Type", "<", "?", ">", "junctionType", "=", "context", ".", "getModel", "(", ")", ".", "typeOf", "(", "attribute", ".", "getReferencedClass", "(", ")", ")", ";", "for", "(", "Attribute", "a", ":", "junctionType", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "type", ".", "getClassType", "(", ")", ".", "isAssignableFrom", "(", "a", ".", "getReferencedClass", "(", ")", ")", ")", "{", "tKey", "=", "Attributes", ".", "query", "(", "a", ")", ";", "}", "else", "if", "(", "uType", ".", "isAssignableFrom", "(", "a", ".", "getReferencedClass", "(", ")", ")", ")", "{", "uKey", "=", "Attributes", ".", "query", "(", "a", ")", ";", "}", "}", "Objects", ".", "requireNotNull", "(", "tKey", ")", ";", "Objects", ".", "requireNotNull", "(", "uKey", ")", ";", "QueryAttribute", "<", "E", ",", "Object", ">", "tId", "=", "Attributes", ".", "get", "(", "tKey", ".", "getReferencedAttribute", "(", ")", ")", ";", "QueryAttribute", "<", "Q", ",", "Object", ">", "uId", "=", "Attributes", ".", "get", "(", "uKey", ".", "getReferencedAttribute", "(", ")", ")", ";", "Object", "id", "=", "proxy", ".", "get", "(", "tId", ")", ";", "if", "(", "id", "=", "=", "null", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "return", "order", "(", "queryable", ".", "select", "(", "uType", ")", ".", "join", "(", "junctionType", ".", "getClassType", "(", ")", ")", ".", "on", "(", "uId", ".", "equal", "(", "uKey", ")", ")", ".", "join", "(", "type", ".", "getClassType", "(", ")", ")", ".", "on", "(", "tKey", ".", "equal", "(", "tId", ")", ")", ".", "where", "(", "tId", ".", "equal", "(", "id", ")", ")", ",", "attribute", ".", "getOrderByAttribute", "(", ")", ")", ";", "}", "default", ":", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "<", "Q", "extends", "S", ">", "Supplier", "<", "Result", "<", "Q", ">", ">", "order", "(", "WhereAndOr", "<", "Result", "<", "Q", ">", ">", "query", ",", "Supplier", "<", "Attribute", ">", "supplier", ")", "{", "if", "(", "supplier", "!", "=", "null", ")", "{", "Attribute", "attribute", "=", "supplier", ".", "get", "(", ")", ";", "if", "(", "attribute", ".", "getOrderByDirection", "(", ")", "!", "=", "null", "&", "&", "attribute", "instanceof", "Functional", ")", "{", "switch", "(", "attribute", ".", "getOrderByDirection", "(", ")", ")", "{", "case", "ASC", ":", "query", ".", "orderBy", "(", "(", "(", "Functional", ")", "attribute", ")", ".", "asc", "(", ")", ")", ";", "break", ";", "case", "DESC", ":", "query", ".", "orderBy", "(", "(", "(", "Functional", ")", "attribute", ")", ".", "desc", "(", ")", ")", ";", "break", ";", "}", "}", "else", "{", "query", ".", "orderBy", "(", "(", "Expression", ")", "attribute", ")", ";", "}", "}", "return", "query", ";", "}", "</s>"]
["<s>", "@", "SafeVarargs", "final", "Iterable", "<", "E", ">", "batchRefresh", "(", "Iterable", "<", "E", ">", "entities", ",", "Attribute", "<", "E", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "final", "Collection", "<", "E", ">", "collection", "=", "type", ".", "isImmutable", "(", ")", "?", "new", "ArrayList", "<", "E", ">", "(", ")", ":", "null", ";", "if", "(", "keyAttribute", "=", "=", "null", ")", "{", "for", "(", "E", "entity", ":", "entities", ")", "{", "entity", "=", "refresh", "(", "entity", ",", "type", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "entity", ")", ",", "attributes", ")", ";", "if", "(", "collection", "!", "=", "null", ")", "{", "collection", ".", "add", "(", "entity", ")", ";", "}", "}", "}", "else", "{", "Set", "<", "Expression", "<", "?", ">", ">", "selection", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "Attribute", "[", "]", "selectAttributes", ";", "if", "(", "attributes", "=", "=", "null", "|", "|", "attributes", ".", "length", "=", "=", "0", ")", "{", "selection", "=", "defaultSelection", ";", "selectAttributes", "=", "defaultSelectionAttributes", ";", "}", "else", "{", "LinkedHashSet", "<", "Attribute", ">", "selectedAttributes", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "selection", ".", "add", "(", "keyAttribute", ")", ";", "selectedAttributes", ".", "add", "(", "keyAttribute", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "attributes", ")", "{", "if", "(", "attribute", ".", "isVersion", "(", ")", ")", "{", "selection", ".", "add", "(", "aliasVersion", "(", "attribute", ")", ")", ";", "}", "else", "if", "(", "!", "attribute", ".", "isAssociation", "(", ")", ")", "{", "QueryAttribute", "<", "E", ",", "?", ">", "queryAttribute", "=", "Attributes", ".", "query", "(", "attribute", ")", ";", "selection", ".", "add", "(", "queryAttribute", ")", ";", "}", "selectedAttributes", ".", "add", "(", "attribute", ")", ";", "}", "selectAttributes", "=", "selectedAttributes", ".", "toArray", "(", "new", "Attribute", "[", "selection", ".", "size", "(", ")", "]", ")", ";", "}", "Map", "<", "Object", ",", "EntityProxy", "<", "E", ">", ">", "map", "=", "new", "HashMap", "<", ">", "(", ")", ";", "for", "(", "E", "entity", ":", "entities", ")", "{", "EntityProxy", "<", "E", ">", "proxy", "=", "type", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "entity", ")", ";", "Object", "key", "=", "proxy", ".", "key", "(", ")", ";", "if", "(", "key", "=", "=", "null", ")", "{", "throw", "new", "MissingKeyException", "(", ")", ";", "}", "map", ".", "put", "(", "key", ",", "proxy", ")", ";", "}", "Condition", "<", "?", ",", "?", ">", "condition", "=", "Attributes", ".", "query", "(", "keyAttribute", ")", ".", "in", "(", "map", ".", "keySet", "(", ")", ")", ";", "if", "(", "type", ".", "isCacheable", "(", ")", ")", "{", "final", "Consumer", "<", "E", ">", "collector", "=", "new", "Consumer", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "void", "accept", "(", "E", "e", ")", "{", "if", "(", "collection", "!", "=", "null", ")", "{", "collection", ".", "add", "(", "e", ")", ";", "}", "}", "}", ";", "ResultReader", "<", "E", ">", "resultReader", "=", "newResultReader", "(", "selectAttributes", ")", ";", "SelectOperation", "<", "E", ">", "select", "=", "new", "SelectOperation", "<", ">", "(", "context", ",", "resultReader", ")", ";", "QueryElement", "<", "Result", "<", "E", ">", ">", "query", "=", "new", "QueryElement", "<", ">", "(", "QueryType", ".", "SELECT", ",", "context", ".", "getModel", "(", ")", ",", "select", ")", ";", "try", "(", "Result", "<", "E", ">", "result", "=", "query", ".", "select", "(", "selection", ")", ".", "where", "(", "condition", ")", ".", "get", "(", ")", ")", "{", "result", ".", "each", "(", "collector", ")", ";", "}", "}", "else", "{", "try", "(", "Result", "<", "Tuple", ">", "result", "=", "queryable", ".", "select", "(", "selection", ")", ".", "where", "(", "condition", ")", ".", "get", "(", ")", ")", "{", "for", "(", "Tuple", "tuple", ":", "result", ")", "{", "Object", "key", "=", "tuple", ".", "get", "(", "(", "Expression", ")", "keyAttribute", ")", ";", "EntityProxy", "<", "E", ">", "proxy", "=", "map", ".", "get", "(", "key", ")", ";", "synchronized", "(", "proxy", ".", "syncObject", "(", ")", ")", "{", "for", "(", "Expression", "expression", ":", "selection", ")", "{", "Object", "value", "=", "tuple", ".", "get", "(", "expression", ")", ";", "if", "(", "expression", "instanceof", "AliasedExpression", ")", "{", "AliasedExpression", "aliased", "=", "(", "AliasedExpression", ")", "expression", ";", "expression", "=", "aliased", ".", "innerExpression", "(", ")", ";", "}", "Attribute", "<", "E", ",", "Object", ">", "attribute", "=", "Attributes", ".", "query", "(", "(", "Attribute", ")", "expression", ")", ";", "proxy", ".", "set", "(", "attribute", ",", "value", ",", "PropertyState", ".", "LOADED", ")", ";", "}", "}", "}", "}", "}", "if", "(", "attributes", "!", "=", "null", ")", "{", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "attributes", ")", "{", "if", "(", "attribute", ".", "isAssociation", "(", ")", ")", "{", "for", "(", "EntityProxy", "<", "E", ">", "proxy", ":", "map", ".", "values", "(", ")", ")", "{", "refreshAssociation", "(", "proxy", ",", "attribute", ")", ";", "}", "}", "}", "}", "}", "return", "collection", "=", "=", "null", "?", "entities", ":", "collection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "accept", "(", "E", "e", ")", "{", "if", "(", "collection", "!", "=", "null", ")", "{", "collection", ".", "add", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "E", "createEntity", "(", ")", "{", "E", "entity", "=", "type", ".", "getFactory", "(", ")", ".", "get", "(", ")", ";", "EntityProxy", "<", "E", ">", "proxy", "=", "type", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "entity", ")", ";", "proxy", ".", "link", "(", "this", ")", ";", "return", "entity", ";", "}", "</s>"]
["<s>", "private", "Object", "readCacheKey", "(", "ResultSet", "results", ")", "throws", "SQLException", "{", "Object", "key", "=", "null", ";", "if", "(", "keyAttribute", "!", "=", "null", ")", "{", "key", "=", "readKey", "(", "keyAttribute", ",", "results", ",", "results", ".", "findColumn", "(", "keyAttribute", ".", "getName", "(", ")", ")", ")", ";", "}", "else", "{", "int", "count", "=", "type", ".", "getKeyAttributes", "(", ")", ".", "size", "(", ")", ";", "if", "(", "count", ">", "1", ")", "{", "LinkedHashMap", "<", "Attribute", "<", "E", ",", "?", ">", ",", "Object", ">", "keys", "=", "new", "LinkedHashMap", "<", ">", "(", "count", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getKeyAttributes", "(", ")", ")", "{", "String", "name", "=", "attribute", ".", "getName", "(", ")", ";", "Object", "value", "=", "readKey", "(", "attribute", ",", "results", ",", "results", ".", "findColumn", "(", "name", ")", ")", ";", "keys", ".", "put", "(", "attribute", ",", "value", ")", ";", "}", "key", "=", "new", "CompositeKey", "<", ">", "(", "keys", ")", ";", "}", "}", "return", "key", ";", "}", "</s>"]
["<s>", "private", "Object", "readKey", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ",", "ResultSet", "results", ",", "int", "index", ")", "throws", "SQLException", "{", "Attribute", "referenced", "=", "attribute", ";", "if", "(", "attribute", ".", "isAssociation", "(", ")", ")", "{", "referenced", "=", "Attributes", ".", "get", "(", "attribute", ".", "getReferencedAttribute", "(", ")", ")", ";", "}", "return", "mapping", ".", "read", "(", "(", "Expression", ")", "referenced", ",", "results", ",", "index", ")", ";", "}", "</s>"]
["<s>", "final", "E", "fromResult", "(", "E", "entity", ",", "ResultSet", "results", ",", "Attribute", "[", "]", "selection", ")", "throws", "SQLException", "{", "boolean", "overwrite", "=", "entity", "!", "=", "null", "|", "|", "stateless", ";", "boolean", "wasCached", "=", "false", ";", "if", "(", "entity", "=", "=", "null", ")", "{", "if", "(", "cacheable", ")", "{", "synchronized", "(", "type", ")", "{", "final", "Object", "key", "=", "readCacheKey", "(", "results", ")", ";", "if", "(", "key", "!", "=", "null", ")", "{", "entity", "=", "cache", ".", "get", "(", "type", ".", "getClassType", "(", ")", ",", "key", ")", ";", "wasCached", "=", "entity", "!", "=", "null", ";", "}", "if", "(", "entity", "=", "=", "null", ")", "{", "entity", "=", "createEntity", "(", ")", ";", "if", "(", "key", "!", "=", "null", ")", "{", "cache", ".", "put", "(", "type", ".", "getClassType", "(", ")", ",", "key", ",", "entity", ")", ";", "}", "}", "}", "}", "else", "{", "entity", "=", "createEntity", "(", ")", ";", "}", "}", "EntityProxy", "<", "E", ">", "proxy", "=", "type", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "entity", ")", ";", "synchronized", "(", "proxy", ".", "syncObject", "(", ")", ")", "{", "proxy", ".", "link", "(", "this", ")", ";", "int", "index", "=", "1", ";", "for", "(", "Attribute", "expression", ":", "selection", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Attribute", "<", "E", ",", "?", ">", "attribute", "=", "(", "Attribute", "<", "E", ",", "?", ">", ")", "expression", ";", "boolean", "isAssociation", "=", "attribute", ".", "isAssociation", "(", ")", ";", "if", "(", "(", "attribute", ".", "isForeignKey", "(", ")", "|", "|", "attribute", ".", "isKey", "(", ")", ")", "&", "&", "isAssociation", ")", "{", "Attribute", "referenced", "=", "Attributes", ".", "get", "(", "attribute", ".", "getReferencedAttribute", "(", ")", ")", ";", "Object", "key", "=", "mapping", ".", "read", "(", "(", "Expression", ")", "referenced", ",", "results", ",", "index", ")", ";", "if", "(", "key", "!", "=", "null", ")", "{", "Object", "value", "=", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "if", "(", "value", "=", "=", "null", ")", "{", "Class", "classType", "=", "attribute", ".", "getClassType", "(", ")", ";", "EntityReader", "reader", "=", "context", ".", "read", "(", "classType", ")", ";", "value", "=", "reader", ".", "createEntity", "(", ")", ";", "}", "context", ".", "proxyOf", "(", "value", ",", "false", ")", ".", "set", "(", "Attributes", ".", "get", "(", "attribute", ".", "getReferencedAttribute", "(", ")", ")", ",", "key", ",", "PropertyState", ".", "LOADED", ")", ";", "PropertyState", "state", "=", "PropertyState", ".", "LOADED", ";", "if", "(", "!", "stateless", ")", "{", "state", "=", "proxy", ".", "getState", "(", "attribute", ")", ";", "state", "=", "state", "=", "=", "PropertyState", ".", "LOADED", "?", "state", ":", "PropertyState", ".", "FETCH", ";", "}", "proxy", ".", "setObject", "(", "attribute", ",", "value", ",", "state", ")", ";", "}", "}", "else", "if", "(", "isAssociation", ")", "{", "continue", ";", "}", "else", "if", "(", "overwrite", "|", "|", "proxy", ".", "getState", "(", "attribute", ")", "!", "=", "PropertyState", ".", "MODIFIED", ")", "{", "if", "(", "attribute", ".", "getPrimitiveKind", "(", ")", "!", "=", "null", ")", "{", "readPrimitiveField", "(", "proxy", ",", "attribute", ",", "results", ",", "index", ")", ";", "}", "else", "{", "Object", "value", "=", "mapping", ".", "read", "(", "(", "Expression", ")", "attribute", ",", "results", ",", "index", ")", ";", "proxy", ".", "setObject", "(", "attribute", ",", "value", ",", "PropertyState", ".", "LOADED", ")", ";", "}", "}", "index", "+", "+", ";", "}", "}", "if", "(", "!", "wasCached", ")", "{", "context", ".", "getStateListener", "(", ")", ".", "postLoad", "(", "entity", ",", "proxy", ")", ";", "}", "return", "entity", ";", "}", "</s>"]
["<s>", "final", "<", "B", ">", "E", "fromBuilder", "(", "ResultSet", "results", ",", "Attribute", "[", "]", "selection", ")", "throws", "SQLException", "{", "EntityBuilderProxy", "<", "B", ",", "E", ">", "proxy", "=", "new", "EntityBuilderProxy", "<", ">", "(", "type", ")", ";", "int", "index", "=", "1", ";", "for", "(", "Attribute", "expression", ":", "selection", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Attribute", "<", "E", ",", "?", ">", "attribute", "=", "(", "Attribute", "<", "E", ",", "?", ">", ")", "expression", ";", "if", "(", "attribute", ".", "getPrimitiveKind", "(", ")", "!", "=", "null", ")", "{", "readPrimitiveField", "(", "proxy", ",", "attribute", ",", "results", ",", "index", ")", ";", "}", "else", "{", "Object", "value", "=", "mapping", ".", "read", "(", "(", "Expression", ")", "attribute", ",", "results", ",", "index", ")", ";", "proxy", ".", "setObject", "(", "attribute", ",", "value", ",", "PropertyState", ".", "LOADED", ")", ";", "}", "index", "+", "+", ";", "}", "return", "proxy", ".", "build", "(", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "private", "void", "readPrimitiveField", "(", "Settable", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "?", ">", "attribute", ",", "ResultSet", "results", ",", "int", "index", ")", "throws", "SQLException", "{", "switch", "(", "attribute", ".", "getPrimitiveKind", "(", ")", ")", "{", "case", "INT", ":", "Attribute", "<", "E", ",", "Integer", ">", "intAttribute", "=", "(", "Attribute", "<", "E", ",", "Integer", ">", ")", "attribute", ";", "int", "intValue", "=", "mapping", ".", "readInt", "(", "results", ",", "index", ")", ";", "proxy", ".", "setInt", "(", "intAttribute", ",", "intValue", ",", "PropertyState", ".", "LOADED", ")", ";", "break", ";", "case", "LONG", ":", "Attribute", "<", "E", ",", "Long", ">", "longAttribute", "=", "(", "Attribute", "<", "E", ",", "Long", ">", ")", "attribute", ";", "long", "longValue", "=", "mapping", ".", "readLong", "(", "results", ",", "index", ")", ";", "proxy", ".", "setLong", "(", "longAttribute", ",", "longValue", ",", "PropertyState", ".", "LOADED", ")", ";", "break", ";", "case", "SHORT", ":", "Attribute", "<", "E", ",", "Short", ">", "shortAttribute", "=", "(", "Attribute", "<", "E", ",", "Short", ">", ")", "attribute", ";", "short", "shortValue", "=", "mapping", ".", "readShort", "(", "results", ",", "index", ")", ";", "proxy", ".", "setShort", "(", "shortAttribute", ",", "shortValue", ",", "PropertyState", ".", "LOADED", ")", ";", "break", ";", "case", "BYTE", ":", "Attribute", "<", "E", ",", "Byte", ">", "byteAttribute", "=", "(", "Attribute", "<", "E", ",", "Byte", ">", ")", "attribute", ";", "byte", "byteValue", "=", "mapping", ".", "readByte", "(", "results", ",", "index", ")", ";", "proxy", ".", "setByte", "(", "byteAttribute", ",", "byteValue", ",", "PropertyState", ".", "LOADED", ")", ";", "break", ";", "case", "BOOLEAN", ":", "Attribute", "<", "E", ",", "Boolean", ">", "booleanAttribute", "=", "(", "Attribute", "<", "E", ",", "Boolean", ">", ")", "attribute", ";", "boolean", "booleanValue", "=", "mapping", ".", "readBoolean", "(", "results", ",", "index", ")", ";", "proxy", ".", "setBoolean", "(", "booleanAttribute", ",", "booleanValue", ",", "PropertyState", ".", "LOADED", ")", ";", "break", ";", "case", "FLOAT", ":", "Attribute", "<", "E", ",", "Float", ">", "floatAttribute", "=", "(", "Attribute", "<", "E", ",", "Float", ">", ")", "attribute", ";", "float", "floatValue", "=", "mapping", ".", "readFloat", "(", "results", ",", "index", ")", ";", "proxy", ".", "setFloat", "(", "floatAttribute", ",", "floatValue", ",", "PropertyState", ".", "LOADED", ")", ";", "break", ";", "case", "DOUBLE", ":", "Attribute", "<", "E", ",", "Double", ">", "doubleAttribute", "=", "(", "Attribute", "<", "E", ",", "Double", ">", ")", "attribute", ";", "double", "doubleValue", "=", "mapping", ".", "readDouble", "(", "results", ",", "index", ")", ";", "proxy", ".", "setDouble", "(", "doubleAttribute", ",", "doubleValue", ",", "PropertyState", ".", "LOADED", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "public", "GenericMapping", "(", "Platform", "platform", ")", "{", "types", "=", "new", "ClassMap", "<", ">", "(", ")", ";", "primitiveIntType", "=", "new", "IntegerType", "(", "int", ".", "class", ")", ";", "primitiveLongType", "=", "new", "BigIntType", "(", "long", ".", "class", ")", ";", "primitiveShortType", "=", "new", "SmallIntType", "(", "short", ".", "class", ")", ";", "primitiveBooleanType", "=", "new", "BooleanType", "(", "boolean", ".", "class", ")", ";", "primitiveFloatType", "=", "new", "FloatType", "(", "float", ".", "class", ")", ";", "primitiveDoubleType", "=", "new", "RealType", "(", "double", ".", "class", ")", ";", "primitiveByteType", "=", "new", "TinyIntType", "(", "byte", ".", "class", ")", ";", "types", ".", "put", "(", "boolean", ".", "class", ",", "new", "BooleanType", "(", "boolean", ".", "class", ")", ")", ";", "types", ".", "put", "(", "Boolean", ".", "class", ",", "new", "BooleanType", "(", "Boolean", ".", "class", ")", ")", ";", "types", ".", "put", "(", "int", ".", "class", ",", "new", "IntegerType", "(", "int", ".", "class", ")", ")", ";", "types", ".", "put", "(", "Integer", ".", "class", ",", "new", "IntegerType", "(", "Integer", ".", "class", ")", ")", ";", "types", ".", "put", "(", "short", ".", "class", ",", "new", "SmallIntType", "(", "short", ".", "class", ")", ")", ";", "types", ".", "put", "(", "Short", ".", "class", ",", "new", "SmallIntType", "(", "Short", ".", "class", ")", ")", ";", "types", ".", "put", "(", "byte", ".", "class", ",", "new", "TinyIntType", "(", "byte", ".", "class", ")", ")", ";", "types", ".", "put", "(", "Byte", ".", "class", ",", "new", "TinyIntType", "(", "Byte", ".", "class", ")", ")", ";", "types", ".", "put", "(", "long", ".", "class", ",", "new", "BigIntType", "(", "long", ".", "class", ")", ")", ";", "types", ".", "put", "(", "Long", ".", "class", ",", "new", "BigIntType", "(", "Long", ".", "class", ")", ")", ";", "types", ".", "put", "(", "float", ".", "class", ",", "new", "FloatType", "(", "float", ".", "class", ")", ")", ";", "types", ".", "put", "(", "Float", ".", "class", ",", "new", "FloatType", "(", "Float", ".", "class", ")", ")", ";", "types", ".", "put", "(", "double", ".", "class", ",", "new", "RealType", "(", "double", ".", "class", ")", ")", ";", "types", ".", "put", "(", "Double", ".", "class", ",", "new", "RealType", "(", "Double", ".", "class", ")", ")", ";", "types", ".", "put", "(", "BigDecimal", ".", "class", ",", "new", "DecimalType", "(", ")", ")", ";", "types", ".", "put", "(", "byte", "[", "]", ".", "class", ",", "new", "VarBinaryType", "(", ")", ")", ";", "types", ".", "put", "(", "java", ".", "util", ".", "Date", ".", "class", ",", "new", "JavaDateType", "(", ")", ")", ";", "types", ".", "put", "(", "java", ".", "sql", ".", "Date", ".", "class", ",", "new", "DateType", "(", ")", ")", ";", "types", ".", "put", "(", "Time", ".", "class", ",", "new", "TimeType", "(", ")", ")", ";", "types", ".", "put", "(", "Timestamp", ".", "class", ",", "new", "TimeStampType", "(", ")", ")", ";", "types", ".", "put", "(", "String", ".", "class", ",", "new", "VarCharType", "(", ")", ")", ";", "types", ".", "put", "(", "Blob", ".", "class", ",", "new", "BlobType", "(", ")", ")", ";", "types", ".", "put", "(", "Clob", ".", "class", ",", "new", "ClobType", "(", ")", ")", ";", "fixedTypes", "=", "new", "ClassMap", "<", ">", "(", ")", ";", "fixedTypes", ".", "put", "(", "byte", "[", "]", ".", "class", ",", "new", "BinaryType", "(", ")", ")", ";", "converters", "=", "new", "ClassMap", "<", ">", "(", ")", ";", "resolvedTypes", "=", "new", "IdentityHashMap", "<", ">", "(", ")", ";", "Set", "<", "Converter", ">", "converters", "=", "new", "HashSet", "<", ">", "(", ")", ";", "converters", ".", "add", "(", "new", "EnumStringConverter", "<", ">", "(", "Enum", ".", "class", ")", ")", ";", "converters", ".", "add", "(", "new", "UUIDConverter", "(", ")", ")", ";", "converters", ".", "add", "(", "new", "URIConverter", "(", ")", ")", ";", "converters", ".", "add", "(", "new", "URLConverter", "(", ")", ")", ";", "if", "(", "LanguageVersion", ".", "current", "(", ")", ".", "atLeast", "(", "LanguageVersion", ".", "JAVA_1_8", ")", ")", "{", "converters", ".", "add", "(", "new", "LocalDateConverter", "(", ")", ")", ";", "converters", ".", "add", "(", "new", "LocalTimeConverter", "(", ")", ")", ";", "converters", ".", "add", "(", "new", "LocalDateTimeConverter", "(", ")", ")", ";", "converters", ".", "add", "(", "new", "ZonedDateTimeConverter", "(", ")", ")", ";", "converters", ".", "add", "(", "new", "OffsetDateTimeConverter", "(", ")", ")", ";", "}", "platform", ".", "addMappings", "(", "this", ")", ";", "for", "(", "Converter", "converter", ":", "converters", ")", "{", "Class", "mapped", "=", "converter", ".", "getMappedType", "(", ")", ";", "if", "(", "!", "types", ".", "containsKey", "(", "mapped", ")", ")", "{", "this", ".", "converters", ".", "put", "(", "mapped", ",", "converter", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "Mapping", "replaceType", "(", "int", "sqlType", ",", "FieldType", "<", "T", ">", "replacementType", ")", "{", "Objects", ".", "requireNotNull", "(", "replacementType", ")", ";", "replace", "(", "types", ",", "sqlType", ",", "replacementType", ")", ";", "replace", "(", "fixedTypes", ",", "sqlType", ",", "replacementType", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "private", "void", "replace", "(", "ClassMap", "<", "FieldType", ">", "map", ",", "int", "sqlType", ",", "FieldType", "replace", ")", "{", "Set", "<", "Class", "<", "?", ">", ">", "keys", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "Map", ".", "Entry", "<", "Class", "<", "?", ">", ",", "FieldType", ">", "entry", ":", "map", ".", "entrySet", "(", ")", ")", "{", "if", "(", "entry", ".", "getValue", "(", ")", ".", "getSqlType", "(", ")", "=", "=", "sqlType", ")", "{", "keys", ".", "add", "(", "entry", ".", "getKey", "(", ")", ")", ";", "}", "}", "for", "(", "Class", "<", "?", ">", "type", ":", "keys", ")", "{", "map", ".", "put", "(", "type", ",", "replace", ")", ";", "}", "if", "(", "sqlType", "=", "=", "primitiveIntType", ".", "getSqlType", "(", ")", "&", "&", "replace", "instanceof", "PrimitiveIntType", ")", "{", "primitiveIntType", "=", "(", "PrimitiveIntType", ")", "replace", ";", "}", "else", "if", "(", "sqlType", "=", "=", "primitiveLongType", ".", "getSqlType", "(", ")", "&", "&", "replace", "instanceof", "PrimitiveLongType", ")", "{", "primitiveLongType", "=", "(", "PrimitiveLongType", ")", "replace", ";", "}", "else", "if", "(", "sqlType", "=", "=", "primitiveShortType", ".", "getSqlType", "(", ")", "&", "&", "replace", "instanceof", "PrimitiveShortType", ")", "{", "primitiveShortType", "=", "(", "PrimitiveShortType", ")", "replace", ";", "}", "else", "if", "(", "sqlType", "=", "=", "primitiveBooleanType", ".", "getSqlType", "(", ")", "&", "&", "replace", "instanceof", "PrimitiveBooleanType", ")", "{", "primitiveBooleanType", "=", "(", "PrimitiveBooleanType", ")", "replace", ";", "}", "else", "if", "(", "sqlType", "=", "=", "primitiveFloatType", ".", "getSqlType", "(", ")", "&", "&", "replace", "instanceof", "PrimitiveFloatType", ")", "{", "primitiveFloatType", "=", "(", "PrimitiveFloatType", ")", "replace", ";", "}", "else", "if", "(", "sqlType", "=", "=", "primitiveDoubleType", ".", "getSqlType", "(", ")", "&", "&", "replace", "instanceof", "PrimitiveDoubleType", ")", "{", "primitiveDoubleType", "=", "(", "PrimitiveDoubleType", ")", "replace", ";", "}", "else", "if", "(", "sqlType", "=", "=", "primitiveByteType", ".", "getSqlType", "(", ")", "&", "&", "replace", "instanceof", "PrimitiveByteType", ")", "{", "primitiveByteType", "=", "(", "PrimitiveByteType", ")", "replace", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "Mapping", "putType", "(", "Class", "<", "?", "super", "T", ">", "type", ",", "FieldType", "<", "T", ">", "fieldType", ")", "{", "if", "(", "type", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "if", "(", "fieldType", "=", "=", "null", ")", "{", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "types", ".", "put", "(", "type", ",", "fieldType", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "Converter", "<", "?", ",", "?", ">", "converterForType", "(", "Class", "<", "?", ">", "type", ")", "{", "Converter", "<", "?", ",", "?", ">", "converter", "=", "converters", ".", "get", "(", "type", ")", ";", "if", "(", "converter", "=", "=", "null", "&", "&", "type", ".", "isEnum", "(", ")", ")", "{", "converter", "=", "converters", ".", "get", "(", "Enum", ".", "class", ")", ";", "}", "return", "converter", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "FieldType", "mapAttribute", "(", "Attribute", "<", "?", ",", "?", ">", "attribute", ")", "{", "FieldType", "fieldType", "=", "resolvedTypes", ".", "get", "(", "attribute", ")", ";", "if", "(", "fieldType", "!", "=", "null", ")", "{", "return", "fieldType", ";", "}", "Class", "<", "?", ">", "type", "=", "attribute", ".", "getClassType", "(", ")", ";", "if", "(", "attribute", ".", "isAssociation", "(", ")", "&", "&", "attribute", ".", "getReferencedAttribute", "(", ")", "!", "=", "null", ")", "{", "type", "=", "attribute", ".", "getReferencedAttribute", "(", ")", ".", "get", "(", ")", ".", "getClassType", "(", ")", ";", "}", "if", "(", "attribute", ".", "getConverter", "(", ")", "!", "=", "null", ")", "{", "Converter", "<", "?", ",", "?", ">", "converter", "=", "attribute", ".", "getConverter", "(", ")", ";", "type", "=", "converter", ".", "getPersistedType", "(", ")", ";", "}", "fieldType", "=", "getSubstitutedType", "(", "type", ")", ";", "resolvedTypes", ".", "put", "(", "attribute", ",", "fieldType", ")", ";", "return", "fieldType", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "?", ">", "typeOf", "(", "int", "sqlType", ")", "{", "for", "(", "Map", ".", "Entry", "<", "Class", "<", "?", ">", ",", "FieldType", ">", "entry", ":", "types", ".", "entrySet", "(", ")", ")", "{", "if", "(", "entry", ".", "getValue", "(", ")", ".", "getSqlType", "(", ")", "=", "=", "sqlType", ")", "{", "return", "entry", ".", "getKey", "(", ")", ";", "}", "}", "return", "String", ".", "class", ";", "}", "</s>"]
["<s>", "private", "FieldType", "getSubstitutedType", "(", "Class", "<", "?", ">", "type", ")", "{", "FieldType", "fieldType", "=", "null", ";", "Converter", "<", "?", ",", "?", ">", "converter", "=", "converterForType", "(", "type", ")", ";", "if", "(", "converter", "!", "=", "null", ")", "{", "if", "(", "converter", ".", "getPersistedSize", "(", ")", "!", "=", "null", ")", "{", "fieldType", "=", "fixedTypes", ".", "get", "(", "converter", ".", "getPersistedType", "(", ")", ")", ";", "}", "type", "=", "converter", ".", "getPersistedType", "(", ")", ";", "}", "if", "(", "fieldType", "=", "=", "null", ")", "{", "fieldType", "=", "types", ".", "get", "(", "type", ")", ";", "}", "return", "fieldType", "=", "=", "null", "?", "new", "VarCharType", "(", ")", ":", "fieldType", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "A", ">", "A", "read", "(", "Expression", "<", "A", ">", "expression", ",", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "Class", "<", "A", ">", "type", ";", "Converter", "<", "?", ",", "?", ">", "converter", "=", "null", ";", "FieldType", "fieldType", ";", "if", "(", "expression", ".", "getExpressionType", "(", ")", "=", "=", "ExpressionType", ".", "ATTRIBUTE", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Attribute", "<", "?", ",", "A", ">", "attribute", "=", "(", "Attribute", ")", "expression", ";", "converter", "=", "attribute", ".", "getConverter", "(", ")", ";", "type", "=", "attribute", ".", "getClassType", "(", ")", ";", "fieldType", "=", "mapAttribute", "(", "attribute", ")", ";", "}", "else", "{", "type", "=", "expression", ".", "getClassType", "(", ")", ";", "fieldType", "=", "getSubstitutedType", "(", "type", ")", ";", "}", "boolean", "isPrimitive", "=", "type", ".", "isPrimitive", "(", ")", ";", "if", "(", "converter", "=", "=", "null", "&", "&", "!", "isPrimitive", ")", "{", "converter", "=", "converterForType", "(", "type", ")", ";", "}", "Object", "value", "=", "fieldType", ".", "read", "(", "results", ",", "column", ")", ";", "if", "(", "converter", "!", "=", "null", ")", "{", "value", "=", "toMapped", "(", "(", "Converter", ")", "converter", ",", "type", ",", "value", ")", ";", "}", "if", "(", "isPrimitive", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "A", "boxed", "=", "(", "A", ")", "value", ";", "return", "boxed", ";", "}", "else", "{", "return", "type", ".", "cast", "(", "value", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "readBoolean", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "primitiveBooleanType", ".", "readBoolean", "(", "results", ",", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "readByte", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "primitiveByteType", ".", "readByte", "(", "results", ",", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "short", "readShort", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "primitiveShortType", ".", "readShort", "(", "results", ",", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "readInt", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "primitiveIntType", ".", "readInt", "(", "results", ",", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "readLong", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "primitiveLongType", ".", "readLong", "(", "results", ",", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "float", "readFloat", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "primitiveFloatType", ".", "readFloat", "(", "results", ",", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "double", "readDouble", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "primitiveDoubleType", ".", "readDouble", "(", "results", ",", "column", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "<", "A", ">", "void", "write", "(", "Expression", "<", "A", ">", "expression", ",", "PreparedStatement", "statement", ",", "int", "index", ",", "A", "value", ")", "throws", "SQLException", "{", "Class", "<", "?", ">", "type", ";", "Converter", "converter", "=", "null", ";", "FieldType", "fieldType", ";", "if", "(", "expression", ".", "getExpressionType", "(", ")", "=", "=", "ExpressionType", ".", "ATTRIBUTE", ")", "{", "Attribute", "<", "?", ",", "A", ">", "attribute", "=", "(", "Attribute", ")", "expression", ";", "converter", "=", "attribute", ".", "getConverter", "(", ")", ";", "fieldType", "=", "mapAttribute", "(", "attribute", ")", ";", "type", "=", "attribute", ".", "isAssociation", "(", ")", "?", "attribute", ".", "getReferencedAttribute", "(", ")", ".", "get", "(", ")", ".", "getClassType", "(", ")", ":", "attribute", ".", "getClassType", "(", ")", ";", "}", "else", "{", "type", "=", "expression", ".", "getClassType", "(", ")", ";", "fieldType", "=", "getSubstitutedType", "(", "type", ")", ";", "}", "if", "(", "converter", "=", "=", "null", "&", "&", "!", "type", ".", "isPrimitive", "(", ")", ")", "{", "converter", "=", "converterForType", "(", "type", ")", ";", "}", "Object", "converted", "=", "value", ";", "if", "(", "converter", "!", "=", "null", ")", "{", "converted", "=", "converter", ".", "convertToPersisted", "(", "value", ")", ";", "}", "fieldType", ".", "write", "(", "statement", ",", "index", ",", "converted", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeBoolean", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "boolean", "value", ")", "throws", "SQLException", "{", "primitiveBooleanType", ".", "writeBoolean", "(", "statement", ",", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeByte", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "byte", "value", ")", "throws", "SQLException", "{", "primitiveByteType", ".", "writeByte", "(", "statement", ",", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeShort", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "short", "value", ")", "throws", "SQLException", "{", "primitiveShortType", ".", "writeShort", "(", "statement", ",", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeInt", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "int", "value", ")", "throws", "SQLException", "{", "primitiveIntType", ".", "writeInt", "(", "statement", ",", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeLong", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "long", "value", ")", "throws", "SQLException", "{", "primitiveLongType", ".", "writeLong", "(", "statement", ",", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeFloat", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "float", "value", ")", "throws", "SQLException", "{", "primitiveFloatType", ".", "writeFloat", "(", "statement", ",", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeDouble", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "double", "value", ")", "throws", "SQLException", "{", "primitiveDoubleType", ".", "writeDouble", "(", "statement", ",", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "public", "void", "addConverter", "(", "Converter", "<", "?", ",", "?", ">", "converter", ",", "Class", "<", "?", ">", ".", ".", ".", "classes", ")", "{", "for", "(", "Class", "<", "?", ">", "type", ":", "classes", ")", "{", "converters", ".", "put", "(", "type", ",", "converter", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "<", "A", ",", "B", ">", "A", "toMapped", "(", "Converter", "<", "A", ",", "B", ">", "converter", ",", "Class", "<", "?", "extends", "A", ">", "type", ",", "B", "value", ")", "{", "return", "converter", ".", "convertToMapped", "(", "type", ",", "value", ")", ";", "}", "</s>"]
["<s>", "EntityWriter", "(", "Type", "<", "E", ">", "type", ",", "EntityContext", "<", "S", ">", "context", ",", "Queryable", "<", "S", ">", "queryable", ")", "{", "this", ".", "type", "=", "Objects", ".", "requireNotNull", "(", "type", ")", ";", "this", ".", "context", "=", "Objects", ".", "requireNotNull", "(", "context", ")", ";", "this", ".", "queryable", "=", "Objects", ".", "requireNotNull", "(", "queryable", ")", ";", "this", ".", "cache", "=", "this", ".", "context", ".", "getCache", "(", ")", ";", "this", ".", "model", "=", "this", ".", "context", ".", "getModel", "(", ")", ";", "this", ".", "mapping", "=", "this", ".", "context", ".", "getMapping", "(", ")", ";", "boolean", "hasGeneratedKey", "=", "false", ";", "boolean", "hasForeignKeys", "=", "false", ";", "Attribute", "<", "E", ",", "?", ">", "versionAttribute", "=", "null", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "attribute", ".", "isKey", "(", ")", "&", "&", "attribute", ".", "isGenerated", "(", ")", ")", "{", "hasGeneratedKey", "=", "true", ";", "}", "if", "(", "attribute", ".", "isVersion", "(", ")", ")", "{", "versionAttribute", "=", "attribute", ";", "}", "if", "(", "attribute", ".", "isForeignKey", "(", ")", ")", "{", "hasForeignKeys", "=", "true", ";", "}", "}", "this", ".", "hasGeneratedKey", "=", "hasGeneratedKey", ";", "this", ".", "hasForeignKeys", "=", "hasForeignKeys", ";", "this", ".", "versionAttribute", "=", "versionAttribute", ";", "this", ".", "keyAttribute", "=", "type", ".", "getSingleKeyAttribute", "(", ")", ";", "Collection", "<", "Attribute", "<", "E", ",", "?", ">", ">", "keys", "=", "type", ".", "getKeyAttributes", "(", ")", ";", "generatedColumnNames", "=", "new", "String", "[", "keys", ".", "size", "(", ")", "]", ";", "int", "i", "=", "0", ";", "for", "(", "Attribute", "attribute", ":", "keys", ")", "{", "generatedColumnNames", "[", "i", "+", "+", "]", "=", "attribute", ".", "getName", "(", ")", ";", "}", "entityClass", "=", "type", ".", "getClassType", "(", ")", ";", "proxyProvider", "=", "type", ".", "getProxyProvider", "(", ")", ";", "cacheable", "=", "!", "type", ".", "getKeyAttributes", "(", ")", ".", "isEmpty", "(", ")", "&", "&", "type", ".", "isCacheable", "(", ")", ";", "stateless", "=", "type", ".", "isStateless", "(", ")", ";", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "bindable", "=", "new", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "boolean", "test", "(", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "boolean", "isGeneratedKey", "=", "value", ".", "isGenerated", "(", ")", "&", "&", "value", ".", "isKey", "(", ")", ";", "boolean", "isSystemVersion", "=", "value", ".", "isVersion", "(", ")", "&", "&", "hasSystemVersionColumn", "(", ")", ";", "boolean", "isAssociation", "=", "value", ".", "isAssociation", "(", ")", "&", "&", "!", "(", "value", ".", "isForeignKey", "(", ")", "|", "|", "value", ".", "isKey", "(", ")", ")", ";", "return", "!", "(", "isGeneratedKey", "|", "|", "isSystemVersion", ")", "&", "&", "!", "isAssociation", ";", "}", "}", ";", "bindableAttributes", "=", "Attributes", ".", "toArray", "(", "type", ".", "getAttributes", "(", ")", ",", "bindable", ")", ";", "associativeAttributes", "=", "Attributes", ".", "toArray", "(", "type", ".", "getAttributes", "(", ")", ",", "new", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "boolean", "test", "(", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "return", "value", ".", "isAssociation", "(", ")", ";", "}", "}", ")", ";", "int", "keyCount", "=", "keyAttribute", "!", "=", "null", "?", "1", ":", "type", ".", "getKeyAttributes", "(", ")", ".", "size", "(", ")", ";", "boolean", "hasVersion", "=", "versionAttribute", "!", "=", "null", ";", "whereAttributes", "=", "Attributes", ".", "newArray", "(", "keyCount", "+", "(", "hasVersion", "?", "1", ":", "0", ")", ")", ";", "int", "index", "=", "0", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "keys", ")", "{", "whereAttributes", "[", "index", "+", "+", "]", "=", "attribute", ";", "}", "if", "(", "hasVersion", ")", "{", "whereAttributes", "[", "index", "]", "=", "versionAttribute", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "test", "(", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "boolean", "isGeneratedKey", "=", "value", ".", "isGenerated", "(", ")", "&", "&", "value", ".", "isKey", "(", ")", ";", "boolean", "isSystemVersion", "=", "value", ".", "isVersion", "(", ")", "&", "&", "hasSystemVersionColumn", "(", ")", ";", "boolean", "isAssociation", "=", "value", ".", "isAssociation", "(", ")", "&", "&", "!", "(", "value", ".", "isForeignKey", "(", ")", "|", "|", "value", ".", "isKey", "(", ")", ")", ";", "return", "!", "(", "isGeneratedKey", "|", "|", "isSystemVersion", ")", "&", "&", "!", "isAssociation", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "test", "(", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "return", "value", ".", "isAssociation", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "checkRowsAffected", "(", "int", "count", ",", "E", "entity", ",", "EntityProxy", "<", "E", ">", "proxy", ")", "{", "if", "(", "proxy", "!", "=", "null", "&", "&", "versionAttribute", "!", "=", "null", "&", "&", "count", "=", "=", "0", ")", "{", "Object", "version", "=", "proxy", ".", "get", "(", "versionAttribute", ")", ";", "throw", "new", "OptimisticLockException", "(", "entity", ",", "version", ")", ";", "}", "else", "if", "(", "count", "!", "=", "1", ")", "{", "throw", "new", "RowCountException", "(", "1", ",", "count", ")", ";", "}", "}", "</s>"]
["<s>", "private", "boolean", "hasSystemVersionColumn", "(", ")", "{", "return", "!", "context", ".", "getPlatform", "(", ")", ".", "versionColumnDefinition", "(", ")", ".", "createColumn", "(", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "canBatchInStatement", "(", ")", "{", "boolean", "canBatchStatement", "=", "context", ".", "supportsBatchUpdates", "(", ")", ";", "boolean", "canBatchGeneratedKey", "=", "context", ".", "getPlatform", "(", ")", ".", "supportsGeneratedKeysInBatchUpdate", "(", ")", ";", "return", "hasGeneratedKey", "?", "canBatchStatement", "&", "&", "canBatchGeneratedKey", ":", "canBatchStatement", ";", "}", "</s>"]
["<s>", "private", "void", "cascadeBatch", "(", "Map", "<", "Class", "<", "?", "extends", "S", ">", ",", "List", "<", "S", ">", ">", "map", ")", "{", "for", "(", "Map", ".", "Entry", "<", "Class", "<", "?", "extends", "S", ">", ",", "List", "<", "S", ">", ">", "entry", ":", "map", ".", "entrySet", "(", ")", ")", "{", "Class", "<", "?", "extends", "S", ">", "key", "=", "entry", ".", "getKey", "(", ")", ";", "context", ".", "write", "(", "key", ")", ".", "batchInsert", "(", "entry", ".", "getValue", "(", ")", ",", "false", ")", ";", "}", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "private", "S", "foreignKeyReference", "(", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "?", ">", "attribute", ")", "{", "if", "(", "attribute", ".", "isForeignKey", "(", ")", "&", "&", "attribute", ".", "isAssociation", "(", ")", ")", "{", "return", "(", "S", ")", "proxy", ".", "get", "(", "attribute", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "private", "void", "findCascadePreInserts", "(", "EntityProxy", "<", "E", ">", "proxy", ",", "Map", "<", "Class", "<", "?", "extends", "S", ">", ",", "List", "<", "S", ">", ">", "elements", ")", "{", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "associativeAttributes", ")", "{", "S", "referenced", "=", "foreignKeyReference", "(", "proxy", ",", "attribute", ")", ";", "if", "(", "referenced", "!", "=", "null", ")", "{", "EntityProxy", "<", "S", ">", "otherProxy", "=", "context", ".", "proxyOf", "(", "referenced", ",", "false", ")", ";", "if", "(", "otherProxy", "!", "=", "null", "&", "&", "!", "otherProxy", ".", "isLinked", "(", ")", ")", "{", "Class", "<", "?", "extends", "S", ">", "key", "=", "otherProxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ";", "List", "<", "S", ">", "values", "=", "elements", ".", "get", "(", "key", ")", ";", "if", "(", "values", "=", "=", "null", ")", "{", "elements", ".", "put", "(", "key", ",", "values", "=", "new", "ArrayList", "<", ">", "(", ")", ")", ";", "}", "values", ".", "add", "(", "referenced", ")", ";", "}", "}", "}", "}", "</s>"]
["<s>", "GeneratedKeys", "<", "E", ">", "batchInsert", "(", "Iterable", "<", "E", ">", "entities", ",", "boolean", "returnKeys", ")", "{", "final", "boolean", "batchInStatement", "=", "canBatchInStatement", "(", ")", ";", "final", "int", "batchSize", "=", "context", ".", "getBatchUpdateSize", "(", ")", ";", "final", "EntityReader", "<", "E", ",", "S", ">", "reader", "=", "context", ".", "read", "(", "entityClass", ")", ";", "final", "Iterator", "<", "E", ">", "iterator", "=", "entities", ".", "iterator", "(", ")", ";", "final", "boolean", "isImmtuable", "=", "type", ".", "isImmutable", "(", ")", ";", "final", "GeneratedKeys", "<", "E", ">", "keys", "=", "returnKeys", "&", "&", "hasGeneratedKey", "?", "new", "GeneratedKeys", "<", "E", ">", "(", ")", ":", "null", ";", "int", "collectionSize", "=", "entities", "instanceof", "Collection", "?", "(", "(", "Collection", ")", "entities", ")", ".", "size", "(", ")", ":", "-", "1", ";", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "final", "E", "[", "]", "elements", "=", "(", "E", "[", "]", ")", "new", "Object", "[", "Math", ".", "min", "(", "collectionSize", ",", "batchSize", ")", "]", ";", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "int", "index", "=", "0", ";", "Map", "<", "Class", "<", "?", "extends", "S", ">", ",", "List", "<", "S", ">", ">", "associations", "=", "new", "HashMap", "<", ">", "(", ")", ";", "while", "(", "iterator", ".", "hasNext", "(", ")", "&", "&", "index", "<", "batchSize", ")", "{", "E", "entity", "=", "iterator", ".", "next", "(", ")", ";", "EntityProxy", "<", "E", ">", "proxy", "=", "proxyProvider", ".", "apply", "(", "entity", ")", ";", "elements", "[", "index", "]", "=", "entity", ";", "if", "(", "hasForeignKeys", ")", "{", "findCascadePreInserts", "(", "proxy", ",", "associations", ")", ";", "}", "if", "(", "versionAttribute", "!", "=", "null", "&", "&", "!", "hasSystemVersionColumn", "(", ")", ")", "{", "incrementVersion", "(", "proxy", ")", ";", "}", "context", ".", "getStateListener", "(", ")", ".", "preInsert", "(", "entity", ",", "proxy", ")", ";", "index", "+", "+", ";", "}", "cascadeBatch", "(", "associations", ")", ";", "final", "int", "count", "=", "index", ";", "GeneratedResultReader", "generatedKeyReader", "=", "null", ";", "if", "(", "hasGeneratedKey", ")", "{", "generatedKeyReader", "=", "new", "GeneratedResultReader", "(", ")", "{", "@", "Override", "public", "void", "read", "(", "int", "index", ",", "ResultSet", "results", ")", "throws", "SQLException", "{", "int", "readCount", "=", "batchInStatement", "?", "count", ":", "1", ";", "for", "(", "int", "i", "=", "index", ";", "i", "<", "index", "+", "readCount", ";", "i", "+", "+", ")", "{", "if", "(", "!", "results", ".", "next", "(", ")", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "EntityProxy", "<", "E", ">", "proxy", "=", "proxyProvider", ".", "apply", "(", "elements", "[", "i", "]", ")", ";", "Settable", "<", "E", ">", "keyProxy", "=", "keys", "=", "=", "null", "?", "proxy", ":", "keys", ".", "proxy", "(", "isImmtuable", "?", "null", ":", "proxy", ")", ";", "readGeneratedKeys", "(", "keyProxy", ",", "results", ")", ";", "}", "}", "@", "Override", "public", "String", "[", "]", "generatedColumns", "(", ")", "{", "return", "generatedColumnNames", ";", "}", "}", ";", "}", "BatchUpdateOperation", "<", "E", ">", "updater", "=", "new", "BatchUpdateOperation", "<", ">", "(", "context", ",", "elements", ",", "count", ",", "this", ",", "generatedKeyReader", ",", "batchInStatement", ")", ";", "QueryElement", "<", "int", "[", "]", ">", "query", "=", "new", "QueryElement", "<", ">", "(", "QueryType", ".", "INSERT", ",", "model", ",", "updater", ")", ";", "query", ".", "from", "(", "entityClass", ")", ";", "for", "(", "Attribute", "attribute", ":", "bindableAttributes", ")", "{", "query", ".", "value", "(", "(", "Expression", ")", "attribute", ",", "null", ")", ";", "}", "int", "[", "]", "updates", "=", "query", ".", "get", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "updates", ".", "length", ";", "i", "+", "+", ")", "{", "E", "entity", "=", "elements", "[", "i", "]", ";", "EntityProxy", "<", "E", ">", "proxy", "=", "proxyProvider", ".", "apply", "(", "entity", ")", ";", "checkRowsAffected", "(", "updates", "[", "i", "]", ",", "entity", ",", "proxy", ")", ";", "proxy", ".", "link", "(", "reader", ")", ";", "updateAssociations", "(", "CascadeMode", ".", "AUTO", ",", "entity", ",", "proxy", ")", ";", "context", ".", "getStateListener", "(", ")", ".", "postInsert", "(", "entity", ",", "proxy", ")", ";", "if", "(", "cacheable", ")", "{", "cache", ".", "put", "(", "entityClass", ",", "proxy", ".", "key", "(", ")", ",", "entity", ")", ";", "}", "}", "}", "return", "keys", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "read", "(", "int", "index", ",", "ResultSet", "results", ")", "throws", "SQLException", "{", "int", "readCount", "=", "batchInStatement", "?", "count", ":", "1", ";", "for", "(", "int", "i", "=", "index", ";", "i", "<", "index", "+", "readCount", ";", "i", "+", "+", ")", "{", "if", "(", "!", "results", ".", "next", "(", ")", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "EntityProxy", "<", "E", ">", "proxy", "=", "proxyProvider", ".", "apply", "(", "elements", "[", "i", "]", ")", ";", "Settable", "<", "E", ">", "keyProxy", "=", "keys", "=", "=", "null", "?", "proxy", ":", "keys", ".", "proxy", "(", "isImmtuable", "?", "null", ":", "proxy", ")", ";", "readGeneratedKeys", "(", "keyProxy", ",", "results", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "[", "]", "generatedColumns", "(", ")", "{", "return", "generatedColumnNames", ";", "}", "</s>"]
["<s>", "private", "void", "readGeneratedKeys", "(", "Settable", "<", "E", ">", "proxy", ",", "ResultSet", "results", ")", "throws", "SQLException", "{", "if", "(", "keyAttribute", "!", "=", "null", ")", "{", "readKeyFromResult", "(", "keyAttribute", ",", "proxy", ",", "results", ")", ";", "}", "else", "{", "for", "(", "Attribute", "<", "E", ",", "?", ">", "key", ":", "type", ".", "getKeyAttributes", "(", ")", ")", "{", "readKeyFromResult", "(", "key", ",", "proxy", ",", "results", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "private", "void", "readKeyFromResult", "(", "Attribute", "<", "E", ",", "?", ">", "key", ",", "Settable", "<", "E", ">", "proxy", ",", "ResultSet", "results", ")", "throws", "SQLException", "{", "Object", "generatedKey", ";", "String", "column", "=", "key", ".", "getName", "(", ")", ";", "int", "resultIndex", "=", "1", ";", "try", "{", "resultIndex", "=", "results", ".", "findColumn", "(", "column", ")", ";", "}", "catch", "(", "SQLException", "ignored", ")", "{", "}", "if", "(", "key", ".", "getPrimitiveKind", "(", ")", "!", "=", "null", ")", "{", "switch", "(", "key", ".", "getPrimitiveKind", "(", ")", ")", "{", "case", "INT", ":", "int", "intValue", "=", "mapping", ".", "readInt", "(", "results", ",", "resultIndex", ")", ";", "proxy", ".", "setInt", "(", "(", "Attribute", "<", "E", ",", "Integer", ">", ")", "key", ",", "intValue", ",", "PropertyState", ".", "LOADED", ")", ";", "break", ";", "case", "LONG", ":", "long", "longValue", "=", "mapping", ".", "readLong", "(", "results", ",", "resultIndex", ")", ";", "proxy", ".", "setLong", "(", "(", "Attribute", "<", "E", ",", "Long", ">", ")", "key", ",", "longValue", ",", "PropertyState", ".", "LOADED", ")", ";", "break", ";", "}", "}", "else", "{", "generatedKey", "=", "mapping", ".", "read", "(", "(", "Expression", ")", "key", ",", "results", ",", "resultIndex", ")", ";", "if", "(", "generatedKey", "=", "=", "null", ")", "{", "throw", "new", "MissingKeyException", "(", ")", ";", "}", "proxy", ".", "setObject", "(", "key", ",", "generatedKey", ",", "PropertyState", ".", "LOADED", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "bindParameters", "(", "PreparedStatement", "statement", ",", "E", "element", ",", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "filter", ")", "throws", "SQLException", "{", "int", "i", "=", "0", ";", "EntityProxy", "<", "E", ">", "proxy", "=", "type", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "element", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "bindableAttributes", ")", "{", "if", "(", "filter", "!", "=", "null", "&", "&", "!", "filter", ".", "test", "(", "attribute", ")", ")", "{", "continue", ";", "}", "if", "(", "attribute", ".", "isAssociation", "(", ")", ")", "{", "Object", "value", "=", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "if", "(", "value", "!", "=", "null", ")", "{", "Attribute", "<", "Object", ",", "Object", ">", "referenced", "=", "Attributes", ".", "get", "(", "attribute", ".", "getReferencedAttribute", "(", ")", ")", ";", "Function", "<", "Object", ",", "EntityProxy", "<", "Object", ">", ">", "proxyProvider", "=", "referenced", ".", "getDeclaringType", "(", ")", ".", "getProxyProvider", "(", ")", ";", "value", "=", "proxyProvider", ".", "apply", "(", "value", ")", ".", "get", "(", "referenced", ",", "false", ")", ";", "}", "mapping", ".", "write", "(", "(", "Expression", ")", "attribute", ",", "statement", ",", "i", "+", "1", ",", "value", ")", ";", "}", "else", "{", "if", "(", "attribute", ".", "getPrimitiveKind", "(", ")", "!", "=", "null", ")", "{", "mapPrimitiveType", "(", "proxy", ",", "attribute", ",", "statement", ",", "i", "+", "1", ")", ";", "}", "else", "{", "Object", "value", "=", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "mapping", ".", "write", "(", "(", "Expression", ")", "attribute", ",", "statement", ",", "i", "+", "1", ",", "value", ")", ";", "}", "}", "proxy", ".", "setState", "(", "attribute", ",", "PropertyState", ".", "LOADED", ")", ";", "i", "+", "+", ";", "}", "return", "i", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "private", "void", "mapPrimitiveType", "(", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "?", ">", "attribute", ",", "PreparedStatement", "statement", ",", "int", "index", ")", "throws", "SQLException", "{", "switch", "(", "attribute", ".", "getPrimitiveKind", "(", ")", ")", "{", "case", "BYTE", ":", "byte", "byteValue", "=", "proxy", ".", "getByte", "(", "(", "Attribute", "<", "E", ",", "Byte", ">", ")", "attribute", ")", ";", "mapping", ".", "writeByte", "(", "statement", ",", "index", ",", "byteValue", ")", ";", "break", ";", "case", "SHORT", ":", "short", "shortValue", "=", "proxy", ".", "getShort", "(", "(", "Attribute", "<", "E", ",", "Short", ">", ")", "attribute", ")", ";", "mapping", ".", "writeShort", "(", "statement", ",", "index", ",", "shortValue", ")", ";", "break", ";", "case", "INT", ":", "int", "intValue", "=", "proxy", ".", "getInt", "(", "(", "Attribute", "<", "E", ",", "Integer", ">", ")", "attribute", ")", ";", "mapping", ".", "writeInt", "(", "statement", ",", "index", ",", "intValue", ")", ";", "break", ";", "case", "LONG", ":", "long", "longValue", "=", "proxy", ".", "getLong", "(", "(", "Attribute", "<", "E", ",", "Long", ">", ")", "attribute", ")", ";", "mapping", ".", "writeLong", "(", "statement", ",", "index", ",", "longValue", ")", ";", "break", ";", "case", "BOOLEAN", ":", "boolean", "booleanValue", "=", "proxy", ".", "getBoolean", "(", "(", "Attribute", "<", "E", ",", "Boolean", ">", ")", "attribute", ")", ";", "mapping", ".", "writeBoolean", "(", "statement", ",", "index", ",", "booleanValue", ")", ";", "break", ";", "case", "FLOAT", ":", "float", "floatValue", "=", "proxy", ".", "getFloat", "(", "(", "Attribute", "<", "E", ",", "Float", ">", ")", "attribute", ")", ";", "mapping", ".", "writeFloat", "(", "statement", ",", "index", ",", "floatValue", ")", ";", "break", ";", "case", "DOUBLE", ":", "double", "doubleValue", "=", "proxy", ".", "getDouble", "(", "(", "Attribute", "<", "E", ",", "Double", ">", ")", "attribute", ")", ";", "mapping", ".", "writeDouble", "(", "statement", ",", "index", ",", "doubleValue", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "public", "GeneratedKeys", "<", "E", ">", "insert", "(", "E", "entity", ",", "final", "EntityProxy", "<", "E", ">", "proxy", ",", "boolean", "returnKeys", ")", "{", "return", "insert", "(", "entity", ",", "proxy", ",", "returnKeys", ",", "CascadeMode", ".", "AUTO", ")", ";", "}", "</s>"]
["<s>", "public", "GeneratedKeys", "<", "E", ">", "insert", "(", "E", "entity", ",", "final", "EntityProxy", "<", "E", ">", "proxy", ",", "boolean", "returnKeys", ",", "CascadeMode", "mode", ")", "{", "GeneratedResultReader", "keyReader", "=", "null", ";", "final", "GeneratedKeys", "<", "E", ">", "keys", "=", "(", "returnKeys", "&", "&", "hasGeneratedKey", ")", "?", "new", "GeneratedKeys", "<", ">", "(", "type", ".", "isImmutable", "(", ")", "?", "null", ":", "proxy", ")", ":", "null", ";", "if", "(", "hasGeneratedKey", ")", "{", "keyReader", "=", "new", "GeneratedResultReader", "(", ")", "{", "@", "Override", "public", "void", "read", "(", "int", "index", ",", "ResultSet", "results", ")", "throws", "SQLException", "{", "if", "(", "results", ".", "next", "(", ")", ")", "{", "readGeneratedKeys", "(", "keys", "=", "=", "null", "?", "proxy", ":", "keys", ",", "results", ")", ";", "}", "}", "@", "Override", "public", "String", "[", "]", "generatedColumns", "(", ")", "{", "return", "generatedColumnNames", ";", "}", "}", ";", "}", "EntityUpdateOperation", "<", "E", ">", "insert", "=", "new", "EntityUpdateOperation", "<", ">", "(", "context", ",", "entity", ",", "this", ",", "null", ",", "keyReader", ")", ";", "QueryElement", "<", "Scalar", "<", "Integer", ">", ">", "query", "=", "new", "QueryElement", "<", ">", "(", "QueryType", ".", "INSERT", ",", "model", ",", "insert", ")", ";", "query", ".", "from", "(", "entityClass", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "associativeAttributes", ")", "{", "cascadeForeignKeyReference", "(", "CascadeMode", ".", "INSERT", ",", "proxy", ",", "attribute", ")", ";", "}", "if", "(", "versionAttribute", "!", "=", "null", "&", "&", "!", "hasSystemVersionColumn", "(", ")", ")", "{", "incrementVersion", "(", "proxy", ")", ";", "}", "for", "(", "Attribute", "attribute", ":", "bindableAttributes", ")", "{", "query", ".", "value", "(", "(", "Expression", ")", "attribute", ",", "null", ")", ";", "}", "context", ".", "getStateListener", "(", ")", ".", "preInsert", "(", "entity", ",", "proxy", ")", ";", "checkRowsAffected", "(", "query", ".", "get", "(", ")", ".", "value", "(", ")", ",", "entity", ",", "null", ")", ";", "proxy", ".", "link", "(", "context", ".", "read", "(", "entityClass", ")", ")", ";", "updateAssociations", "(", "mode", ",", "entity", ",", "proxy", ")", ";", "context", ".", "getStateListener", "(", ")", ".", "postInsert", "(", "entity", ",", "proxy", ")", ";", "if", "(", "cacheable", ")", "{", "cache", ".", "put", "(", "entityClass", ",", "proxy", ".", "key", "(", ")", ",", "entity", ")", ";", "}", "return", "keys", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "read", "(", "int", "index", ",", "ResultSet", "results", ")", "throws", "SQLException", "{", "if", "(", "results", ".", "next", "(", ")", ")", "{", "readGeneratedKeys", "(", "keys", "=", "=", "null", "?", "proxy", ":", "keys", ",", "results", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "[", "]", "generatedColumns", "(", ")", "{", "return", "generatedColumnNames", ";", "}", "</s>"]
["<s>", "public", "void", "upsert", "(", "E", "entity", ",", "final", "EntityProxy", "<", "E", ">", "proxy", ")", "{", "if", "(", "hasGeneratedKey", ")", "{", "throw", "new", "UnsupportedOperationException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "if", "(", "context", ".", "getPlatform", "(", ")", ".", "supportsUpsert", "(", ")", ")", "{", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "associativeAttributes", ")", "{", "cascadeForeignKeyReference", "(", "CascadeMode", ".", "UPSERT", ",", "proxy", ",", "attribute", ")", ";", "}", "if", "(", "versionAttribute", "!", "=", "null", "&", "&", "!", "hasSystemVersionColumn", "(", ")", ")", "{", "incrementVersion", "(", "proxy", ")", ";", "}", "List", "<", "Attribute", "<", "E", ",", "?", ">", ">", "attributes", "=", "Arrays", ".", "asList", "(", "bindableAttributes", ")", ";", "UpdateOperation", "upsert", "=", "new", "UpdateOperation", "(", "context", ")", ";", "QueryElement", "<", "Scalar", "<", "Integer", ">", ">", "element", "=", "new", "QueryElement", "<", ">", "(", "QueryType", ".", "UPSERT", ",", "model", ",", "upsert", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "attributes", ")", "{", "element", ".", "value", "(", "(", "Expression", ")", "attribute", ",", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ")", ";", "}", "int", "rows", "=", "upsert", ".", "evaluate", "(", "element", ")", ".", "value", "(", ")", ";", "if", "(", "rows", "<", "=", "0", ")", "{", "throw", "new", "RowCountException", "(", "1", ",", "rows", ")", ";", "}", "proxy", ".", "link", "(", "context", ".", "read", "(", "entityClass", ")", ")", ";", "updateAssociations", "(", "CascadeMode", ".", "UPSERT", ",", "entity", ",", "proxy", ")", ";", "if", "(", "cacheable", ")", "{", "cache", ".", "put", "(", "entityClass", ",", "proxy", ".", "key", "(", ")", ",", "entity", ")", ";", "}", "}", "else", "{", "if", "(", "update", "(", "entity", ",", "proxy", ",", "false", ",", "CascadeMode", ".", "UPSERT", ")", "=", "=", "0", ")", "{", "insert", "(", "entity", ",", "proxy", ",", "false", ",", "CascadeMode", ".", "UPSERT", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "void", "update", "(", "E", "entity", ",", "EntityProxy", "<", "E", ">", "proxy", ")", "{", "update", "(", "entity", ",", "proxy", ",", "true", ",", "CascadeMode", ".", "AUTO", ")", ";", "}", "</s>"]
["<s>", "private", "int", "update", "(", "E", "entity", ",", "final", "EntityProxy", "<", "E", ">", "proxy", ",", "boolean", "checkCount", ",", "CascadeMode", "mode", ")", "{", "if", "(", "whereAttributes", ".", "length", "=", "=", "0", ")", "{", "throw", "new", "MissingKeyException", "(", "proxy", ")", ";", "}", "context", ".", "getStateListener", "(", ")", ".", "preUpdate", "(", "entity", ",", "proxy", ")", ";", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "updateable", "=", "new", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "boolean", "test", "(", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "return", "stateless", "|", "|", "(", "(", "proxy", ".", "getState", "(", "value", ")", "=", "=", "PropertyState", ".", "MODIFIED", ")", "&", "&", "(", "!", "value", ".", "isAssociation", "(", ")", "|", "|", "value", ".", "isForeignKey", "(", ")", "|", "|", "value", ".", "isKey", "(", ")", ")", ")", ";", "}", "}", ";", "boolean", "hasVersion", "=", "versionAttribute", "!", "=", "null", ";", "final", "Object", "version", "=", "hasVersion", "?", "proxy", ".", "get", "(", "versionAttribute", ",", "true", ")", ":", "null", ";", "if", "(", "hasVersion", ")", "{", "boolean", "modified", "=", "false", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "bindableAttributes", ")", "{", "if", "(", "attribute", "!", "=", "versionAttribute", "&", "&", "updateable", ".", "test", "(", "attribute", ")", ")", "{", "modified", "=", "true", ";", "break", ";", "}", "}", "if", "(", "modified", ")", "{", "if", "(", "version", "=", "=", "null", ")", "{", "throw", "new", "MissingVersionException", "(", "proxy", ")", ";", "}", "if", "(", "!", "hasSystemVersionColumn", "(", ")", ")", "{", "incrementVersion", "(", "proxy", ")", ";", "}", "}", "}", "ParameterBinder", "<", "E", ">", "binder", "=", "new", "ParameterBinder", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "int", "bindParameters", "(", "PreparedStatement", "statement", ",", "E", "element", ",", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "filter", ")", "throws", "SQLException", "{", "int", "index", "=", "EntityWriter", ".", "this", ".", "bindParameters", "(", "statement", ",", "element", ",", "filter", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "whereAttributes", ")", "{", "if", "(", "attribute", "=", "=", "versionAttribute", ")", "{", "mapping", ".", "write", "(", "(", "Expression", ")", "attribute", ",", "statement", ",", "index", "+", "1", ",", "version", ")", ";", "}", "else", "{", "if", "(", "attribute", ".", "getPrimitiveKind", "(", ")", "!", "=", "null", ")", "{", "mapPrimitiveType", "(", "proxy", ",", "attribute", ",", "statement", ",", "index", "+", "1", ")", ";", "}", "else", "{", "Object", "value", "=", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "mapping", ".", "write", "(", "(", "Expression", ")", "attribute", ",", "statement", ",", "index", "+", "1", ",", "value", ")", ";", "}", "}", "index", "+", "+", ";", "}", "return", "index", ";", "}", "}", ";", "EntityUpdateOperation", "<", "E", ">", "operation", "=", "new", "EntityUpdateOperation", "<", ">", "(", "context", ",", "entity", ",", "binder", ",", "updateable", ",", "null", ")", ";", "QueryElement", "<", "Scalar", "<", "Integer", ">", ">", "query", "=", "new", "QueryElement", "<", ">", "(", "UPDATE", ",", "model", ",", "operation", ")", ";", "query", ".", "from", "(", "entityClass", ")", ";", "int", "count", "=", "0", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "bindableAttributes", ")", "{", "if", "(", "!", "updateable", ".", "test", "(", "attribute", ")", ")", "{", "continue", ";", "}", "S", "referenced", "=", "foreignKeyReference", "(", "proxy", ",", "attribute", ")", ";", "if", "(", "referenced", "!", "=", "null", "&", "&", "!", "stateless", ")", "{", "proxy", ".", "setState", "(", "attribute", ",", "PropertyState", ".", "LOADED", ")", ";", "cascadeWrite", "(", "mode", ",", "referenced", ",", "null", ")", ";", "proxy", ".", "setState", "(", "attribute", ",", "PropertyState", ".", "MODIFIED", ")", ";", "}", "query", ".", "set", "(", "(", "Expression", ")", "attribute", ",", "null", ")", ";", "count", "+", "+", ";", "}", "int", "result", "=", "-", "1", ";", "if", "(", "count", ">", "0", ")", "{", "if", "(", "keyAttribute", "!", "=", "null", ")", "{", "query", ".", "where", "(", "Attributes", ".", "query", "(", "keyAttribute", ")", ".", "equal", "(", "\"", "<STR_LIT:?>", "\"", ")", ")", ";", "}", "else", "{", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getKeyAttributes", "(", ")", ")", "{", "query", ".", "where", "(", "Attributes", ".", "query", "(", "attribute", ")", ".", "equal", "(", "\"", "<STR_LIT:?>", "\"", ")", ")", ";", "}", "}", "if", "(", "hasVersion", ")", "{", "addVersionCondition", "(", "query", ",", "version", ")", ";", "}", "result", "=", "query", ".", "get", "(", ")", ".", "value", "(", ")", ";", "proxy", ".", "link", "(", "context", ".", "read", "(", "entityClass", ")", ")", ";", "if", "(", "checkCount", ")", "{", "checkRowsAffected", "(", "result", ",", "entity", ",", "proxy", ")", ";", "}", "if", "(", "result", ">", "0", ")", "{", "updateAssociations", "(", "mode", ",", "entity", ",", "proxy", ")", ";", "}", "}", "else", "{", "updateAssociations", "(", "mode", ",", "entity", ",", "proxy", ")", ";", "}", "context", ".", "getStateListener", "(", ")", ".", "postUpdate", "(", "entity", ",", "proxy", ")", ";", "return", "result", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "test", "(", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "return", "stateless", "|", "|", "(", "(", "proxy", ".", "getState", "(", "value", ")", "=", "=", "PropertyState", ".", "MODIFIED", ")", "&", "&", "(", "!", "value", ".", "isAssociation", "(", ")", "|", "|", "value", ".", "isForeignKey", "(", ")", "|", "|", "value", ".", "isKey", "(", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "bindParameters", "(", "PreparedStatement", "statement", ",", "E", "element", ",", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "filter", ")", "throws", "SQLException", "{", "int", "index", "=", "EntityWriter", ".", "this", ".", "bindParameters", "(", "statement", ",", "element", ",", "filter", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "whereAttributes", ")", "{", "if", "(", "attribute", "=", "=", "versionAttribute", ")", "{", "mapping", ".", "write", "(", "(", "Expression", ")", "attribute", ",", "statement", ",", "index", "+", "1", ",", "version", ")", ";", "}", "else", "{", "if", "(", "attribute", ".", "getPrimitiveKind", "(", ")", "!", "=", "null", ")", "{", "mapPrimitiveType", "(", "proxy", ",", "attribute", ",", "statement", ",", "index", "+", "1", ")", ";", "}", "else", "{", "Object", "value", "=", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "mapping", ".", "write", "(", "(", "Expression", ")", "attribute", ",", "statement", ",", "index", "+", "1", ",", "value", ")", ";", "}", "}", "index", "+", "+", ";", "}", "return", "index", ";", "}", "</s>"]
["<s>", "private", "void", "addVersionCondition", "(", "Where", "<", "?", ">", "where", ",", "Object", "version", ")", "{", "if", "(", "versionAttribute", "!", "=", "null", ")", "{", "QueryAttribute", "<", "E", ",", "Object", ">", "queryAttribute", "=", "Attributes", ".", "query", "(", "versionAttribute", ")", ";", "VersionColumnDefinition", "versionColumnDefinition", "=", "context", ".", "getPlatform", "(", ")", ".", "versionColumnDefinition", "(", ")", ";", "String", "columnName", "=", "versionColumnDefinition", ".", "columnName", "(", ")", ";", "if", "(", "!", "versionColumnDefinition", ".", "createColumn", "(", ")", "&", "&", "columnName", "!", "=", "null", ")", "{", "FieldExpression", "<", "Object", ">", "expression", "=", "(", "FieldExpression", "<", "Object", ">", ")", "queryAttribute", ".", "as", "(", "columnName", ")", ";", "where", ".", "where", "(", "expression", ".", "equal", "(", "version", ")", ")", ";", "}", "else", "{", "where", ".", "where", "(", "queryAttribute", ".", "equal", "(", "version", ")", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "private", "void", "updateAssociations", "(", "CascadeMode", "mode", ",", "E", "entity", ",", "EntityProxy", "<", "E", ">", "proxy", ")", "{", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "associativeAttributes", ")", "{", "boolean", "isModified", "=", "stateless", "|", "|", "proxy", ".", "getState", "(", "attribute", ")", "=", "=", "PropertyState", ".", "MODIFIED", ";", "if", "(", "!", "isModified", ")", "{", "continue", ";", "}", "Cardinality", "cardinality", "=", "attribute", ".", "getCardinality", "(", ")", ";", "switch", "(", "cardinality", ")", "{", "case", "ONE_TO_ONE", ":", "S", "value", "=", "(", "S", ")", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "if", "(", "value", "!", "=", "null", ")", "{", "Attribute", "<", "S", ",", "Object", ">", "mapped", "=", "Attributes", ".", "get", "(", "attribute", ".", "getMappedAttribute", "(", ")", ")", ";", "EntityProxy", "<", "S", ">", "referred", "=", "context", ".", "proxyOf", "(", "value", ",", "true", ")", ";", "referred", ".", "set", "(", "mapped", ",", "entity", ",", "PropertyState", ".", "MODIFIED", ")", ";", "cascadeWrite", "(", "mode", ",", "value", ",", "referred", ")", ";", "}", "else", "if", "(", "!", "stateless", ")", "{", "throw", "new", "PersistenceException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "break", ";", "case", "ONE_TO_MANY", ":", "Object", "relation", "=", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "if", "(", "relation", "instanceof", "ObservableCollection", ")", "{", "ObservableCollection", "<", "S", ">", "collection", "=", "(", "ObservableCollection", "<", "S", ">", ")", "relation", ";", "CollectionChanges", "<", "?", ",", "S", ">", "changes", "=", "(", "CollectionChanges", "<", "?", ",", "S", ">", ")", "collection", ".", "observer", "(", ")", ";", "List", "<", "S", ">", "added", "=", "new", "ArrayList", "<", ">", "(", "changes", ".", "addedElements", "(", ")", ")", ";", "List", "<", "S", ">", "removed", "=", "new", "ArrayList", "<", ">", "(", "changes", ".", "removedElements", "(", ")", ")", ";", "changes", ".", "clear", "(", ")", ";", "for", "(", "S", "element", ":", "added", ")", "{", "updateInverseAssociation", "(", "mode", ",", "element", ",", "attribute", ",", "entity", ")", ";", "}", "for", "(", "S", "element", ":", "removed", ")", "{", "updateInverseAssociation", "(", "CascadeMode", ".", "UPDATE", ",", "element", ",", "attribute", ",", "null", ")", ";", "}", "}", "else", "if", "(", "relation", "instanceof", "Iterable", ")", "{", "Iterable", "<", "S", ">", "iterable", "=", "(", "Iterable", "<", "S", ">", ")", "relation", ";", "for", "(", "S", "added", ":", "iterable", ")", "{", "updateInverseAssociation", "(", "mode", ",", "added", ",", "attribute", ",", "entity", ")", ";", "}", "}", "else", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", "+", "relation", ")", ";", "}", "break", ";", "case", "MANY_TO_MANY", ":", "Class", "referencedClass", "=", "attribute", ".", "getReferencedClass", "(", ")", ";", "if", "(", "referencedClass", "=", "=", "null", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", "+", "attribute", ".", "toString", "(", ")", ")", ";", "}", "Type", "<", "?", ">", "referencedType", "=", "model", ".", "typeOf", "(", "referencedClass", ")", ";", "QueryAttribute", "<", "S", ",", "Object", ">", "tKey", "=", "null", ";", "QueryAttribute", "<", "S", ",", "Object", ">", "uKey", "=", "null", ";", "for", "(", "Attribute", "a", ":", "referencedType", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "entityClass", ".", "isAssignableFrom", "(", "a", ".", "getReferencedClass", "(", ")", ")", ")", "{", "tKey", "=", "Attributes", ".", "query", "(", "a", ")", ";", "}", "else", "if", "(", "attribute", ".", "getElementClass", "(", ")", ".", "isAssignableFrom", "(", "a", ".", "getReferencedClass", "(", ")", ")", ")", "{", "uKey", "=", "Attributes", ".", "query", "(", "a", ")", ";", "}", "}", "Objects", ".", "requireNotNull", "(", "tKey", ")", ";", "Objects", ".", "requireNotNull", "(", "uKey", ")", ";", "Attribute", "<", "E", ",", "Object", ">", "tRef", "=", "Attributes", ".", "get", "(", "tKey", ".", "getReferencedAttribute", "(", ")", ")", ";", "Attribute", "<", "S", ",", "Object", ">", "uRef", "=", "Attributes", ".", "get", "(", "uKey", ".", "getReferencedAttribute", "(", ")", ")", ";", "CollectionChanges", "<", "?", ",", "S", ">", "changes", "=", "null", ";", "relation", "=", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "Iterable", "<", "S", ">", "addedElements", "=", "(", "Iterable", "<", "S", ">", ")", "relation", ";", "boolean", "isObservableCollection", "=", "relation", "instanceof", "ObservableCollection", ";", "if", "(", "relation", "instanceof", "ObservableCollection", ")", "{", "ObservableCollection", "<", "S", ">", "collection", "=", "(", "ObservableCollection", "<", "S", ">", ")", "relation", ";", "changes", "=", "(", "CollectionChanges", "<", "?", ",", "S", ">", ")", "collection", ".", "observer", "(", ")", ";", "if", "(", "changes", "!", "=", "null", ")", "{", "addedElements", "=", "changes", ".", "addedElements", "(", ")", ";", "}", "}", "for", "(", "S", "added", ":", "addedElements", ")", "{", "S", "junction", "=", "(", "S", ")", "referencedType", ".", "getFactory", "(", ")", ".", "get", "(", ")", ";", "EntityProxy", "<", "S", ">", "junctionProxy", "=", "context", ".", "proxyOf", "(", "junction", ",", "false", ")", ";", "EntityProxy", "<", "S", ">", "uProxy", "=", "context", ".", "proxyOf", "(", "added", ",", "false", ")", ";", "if", "(", "attribute", ".", "getCascadeActions", "(", ")", ".", "contains", "(", "CascadeAction", ".", "SAVE", ")", ")", "{", "cascadeWrite", "(", "mode", ",", "added", ",", "uProxy", ")", ";", "}", "Object", "tValue", "=", "proxy", ".", "get", "(", "tRef", ",", "false", ")", ";", "Object", "uValue", "=", "uProxy", ".", "get", "(", "uRef", ",", "false", ")", ";", "junctionProxy", ".", "set", "(", "tKey", ",", "tValue", ",", "PropertyState", ".", "MODIFIED", ")", ";", "junctionProxy", ".", "set", "(", "uKey", ",", "uValue", ",", "PropertyState", ".", "MODIFIED", ")", ";", "CascadeMode", "junctionCascadeMode", "=", "!", "isObservableCollection", "&", "&", "mode", "=", "=", "CascadeMode", ".", "UPSERT", "?", "CascadeMode", ".", "UPSERT", ":", "CascadeMode", ".", "INSERT", ";", "cascadeWrite", "(", "junctionCascadeMode", ",", "junction", ",", "null", ")", ";", "}", "if", "(", "changes", "!", "=", "null", ")", "{", "Object", "keyValue", "=", "proxy", ".", "get", "(", "tRef", ",", "false", ")", ";", "for", "(", "S", "removed", ":", "changes", ".", "removedElements", "(", ")", ")", "{", "Object", "otherValue", "=", "context", ".", "proxyOf", "(", "removed", ",", "false", ")", ".", "get", "(", "uRef", ")", ";", "Class", "<", "?", "extends", "S", ">", "removeType", "=", "(", "Class", "<", "?", "extends", "S", ">", ")", "referencedType", ".", "getClassType", "(", ")", ";", "Supplier", "<", "Scalar", "<", "Integer", ">", ">", "query", "=", "queryable", ".", "delete", "(", "removeType", ")", ".", "where", "(", "tKey", ".", "equal", "(", "keyValue", ")", ")", ".", "and", "(", "uKey", ".", "equal", "(", "otherValue", ")", ")", ";", "int", "count", "=", "query", ".", "get", "(", ")", ".", "value", "(", ")", ";", "if", "(", "count", "!", "=", "1", ")", "{", "throw", "new", "RowCountException", "(", "1", ",", "count", ")", ";", "}", "}", "changes", ".", "clear", "(", ")", ";", "}", "break", ";", "case", "MANY_TO_ONE", ":", "default", ":", "break", ";", "}", "context", ".", "read", "(", "type", ".", "getClassType", "(", ")", ")", ".", "refresh", "(", "entity", ",", "proxy", ",", "attribute", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "incrementVersion", "(", "EntityProxy", "<", "E", ">", "proxy", ")", "{", "Object", "version", "=", "proxy", ".", "get", "(", "versionAttribute", ")", ";", "Class", "<", "?", ">", "type", "=", "versionAttribute", ".", "getClassType", "(", ")", ";", "if", "(", "type", "=", "=", "Long", ".", "class", "|", "|", "type", "=", "=", "long", ".", "class", ")", "{", "if", "(", "version", "=", "=", "null", ")", "{", "version", "=", "<NUM_LIT>", ";", "}", "else", "{", "Long", "value", "=", "(", "Long", ")", "version", ";", "version", "=", "value", "+", "1", ";", "}", "}", "else", "if", "(", "type", "=", "=", "Integer", ".", "class", "|", "|", "type", "=", "=", "int", ".", "class", ")", "{", "if", "(", "version", "=", "=", "null", ")", "{", "version", "=", "1", ";", "}", "else", "{", "Integer", "value", "=", "(", "Integer", ")", "version", ";", "version", "=", "value", "+", "1", ";", "}", "}", "else", "if", "(", "type", "=", "=", "Timestamp", ".", "class", ")", "{", "version", "=", "new", "Timestamp", "(", "System", ".", "currentTimeMillis", "(", ")", ")", ";", "}", "else", "{", "throw", "new", "PersistenceException", "(", "\"", "<STR_LIT>", "\"", "+", "versionAttribute", ".", "getClassType", "(", ")", ")", ";", "}", "proxy", ".", "setObject", "(", "versionAttribute", ",", "version", ",", "PropertyState", ".", "MODIFIED", ")", ";", "}", "</s>"]
["<s>", "private", "<", "U", "extends", "S", ">", "void", "updateInverseAssociation", "(", "CascadeMode", "mode", ",", "U", "entity", ",", "Attribute", "attribute", ",", "Object", "value", ")", "{", "EntityProxy", "<", "U", ">", "proxy", "=", "context", ".", "proxyOf", "(", "entity", ",", "false", ")", ";", "Attribute", "<", "U", ",", "Object", ">", "inverse", "=", "Attributes", ".", "get", "(", "attribute", ".", "getMappedAttribute", "(", ")", ")", ";", "proxy", ".", "set", "(", "inverse", ",", "value", ",", "PropertyState", ".", "MODIFIED", ")", ";", "cascadeWrite", "(", "mode", ",", "entity", ",", "proxy", ")", ";", "}", "</s>"]
["<s>", "public", "void", "delete", "(", "E", "entity", ",", "EntityProxy", "<", "E", ">", "proxy", ")", "{", "context", ".", "getStateListener", "(", ")", ".", "preDelete", "(", "entity", ",", "proxy", ")", ";", "proxy", ".", "unlink", "(", ")", ";", "if", "(", "cacheable", ")", "{", "cache", ".", "invalidate", "(", "entityClass", ",", "proxy", ".", "key", "(", ")", ")", ";", "}", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "associativeAttributes", ")", "{", "boolean", "delete", "=", "attribute", ".", "getCascadeActions", "(", ")", ".", "contains", "(", "CascadeAction", ".", "DELETE", ")", ";", "if", "(", "delete", "&", "&", "(", "stateless", "|", "|", "proxy", ".", "getState", "(", "attribute", ")", "=", "=", "PropertyState", ".", "FETCH", ")", ")", "{", "context", ".", "read", "(", "type", ".", "getClassType", "(", ")", ")", ".", "refresh", "(", "entity", ",", "proxy", ",", "attribute", ")", ";", "}", "}", "Deletion", "<", "Scalar", "<", "Integer", ">", ">", "deletion", "=", "queryable", ".", "delete", "(", "entityClass", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getKeyAttributes", "(", ")", ")", "{", "QueryAttribute", "<", "E", ",", "Object", ">", "id", "=", "Attributes", ".", "query", "(", "attribute", ")", ";", "deletion", ".", "where", "(", "id", ".", "equal", "(", "proxy", ".", "get", "(", "attribute", ")", ")", ")", ";", "}", "if", "(", "versionAttribute", "!", "=", "null", ")", "{", "Object", "version", "=", "proxy", ".", "get", "(", "versionAttribute", ",", "true", ")", ";", "if", "(", "version", "=", "=", "null", ")", "{", "throw", "new", "MissingVersionException", "(", "proxy", ")", ";", "}", "addVersionCondition", "(", "deletion", ",", "version", ")", ";", "}", "int", "rows", "=", "deletion", ".", "get", "(", ")", ".", "value", "(", ")", ";", "boolean", "cascaded", "=", "clearAssociations", "(", "entity", ",", "proxy", ")", ";", "if", "(", "!", "cascaded", ")", "{", "checkRowsAffected", "(", "rows", ",", "entity", ",", "proxy", ")", ";", "}", "context", ".", "getStateListener", "(", ")", ".", "postDelete", "(", "entity", ",", "proxy", ")", ";", "}", "</s>"]
["<s>", "private", "boolean", "clearAssociations", "(", "E", "entity", ",", "EntityProxy", "<", "E", ">", "proxy", ")", "{", "boolean", "cascade", "=", "false", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "associativeAttributes", ")", "{", "boolean", "delete", "=", "attribute", ".", "getCascadeActions", "(", ")", ".", "contains", "(", "CascadeAction", ".", "DELETE", ")", ";", "Object", "value", "=", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "proxy", ".", "set", "(", "attribute", ",", "null", ",", "PropertyState", ".", "LOADED", ")", ";", "if", "(", "value", "!", "=", "null", ")", "{", "if", "(", "attribute", ".", "isForeignKey", "(", ")", "&", "&", "attribute", ".", "getDeleteAction", "(", ")", "=", "=", "ReferentialAction", ".", "CASCADE", ")", "{", "cascade", "=", "true", ";", "}", "switch", "(", "attribute", ".", "getCardinality", "(", ")", ")", "{", "case", "ONE_TO_ONE", ":", "case", "MANY_TO_ONE", ":", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "S", "element", "=", "(", "S", ")", "value", ";", "cascadeRemove", "(", "entity", ",", "element", ",", "delete", ")", ";", "break", ";", "case", "ONE_TO_MANY", ":", "case", "MANY_TO_MANY", ":", "if", "(", "value", "instanceof", "Iterable", ")", "{", "Iterable", "iterable", "=", "(", "Iterable", ")", "value", ";", "List", "<", "S", ">", "elements", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "Object", "item", ":", "iterable", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "S", "e", "=", "(", "S", ")", "item", ";", "elements", ".", "add", "(", "e", ")", ";", "}", "for", "(", "S", "item", ":", "elements", ")", "{", "cascadeRemove", "(", "entity", ",", "item", ",", "delete", ")", ";", "}", "}", "break", ";", "}", "}", "}", "return", "cascade", ";", "}", "</s>"]
["<s>", "void", "batchDelete", "(", "Iterable", "<", "E", ">", "entities", ")", "{", "final", "int", "batchSize", "=", "context", ".", "getBatchUpdateSize", "(", ")", ";", "final", "Iterator", "<", "E", ">", "iterator", "=", "entities", ".", "iterator", "(", ")", ";", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "final", "List", "<", "Object", ">", "ids", "=", "new", "LinkedList", "<", ">", "(", ")", ";", "while", "(", "iterator", ".", "hasNext", "(", ")", "&", "&", "ids", ".", "size", "(", ")", "<", "batchSize", ")", "{", "E", "entity", "=", "iterator", ".", "next", "(", ")", ";", "EntityProxy", "<", "E", ">", "proxy", "=", "proxyProvider", ".", "apply", "(", "entity", ")", ";", "if", "(", "versionAttribute", "!", "=", "null", "|", "|", "type", ".", "getKeyAttributes", "(", ")", ".", "size", "(", ")", ">", "1", ")", "{", "delete", "(", "entity", ",", "proxy", ")", ";", "}", "else", "{", "context", ".", "getStateListener", "(", ")", ".", "preDelete", "(", "entity", ",", "proxy", ")", ";", "boolean", "cascaded", "=", "clearAssociations", "(", "entity", ",", "proxy", ")", ";", "Object", "key", "=", "proxy", ".", "key", "(", ")", ";", "if", "(", "cacheable", ")", "{", "cache", ".", "invalidate", "(", "entityClass", ",", "key", ")", ";", "}", "if", "(", "!", "cascaded", ")", "{", "ids", ".", "add", "(", "key", ")", ";", "}", "proxy", ".", "unlink", "(", ")", ";", "context", ".", "getStateListener", "(", ")", ".", "postDelete", "(", "entity", ",", "proxy", ")", ";", "}", "}", "if", "(", "ids", ".", "size", "(", ")", ">", "0", ")", "{", "Deletion", "<", "Scalar", "<", "Integer", ">", ">", "deletion", "=", "queryable", ".", "delete", "(", "entityClass", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getKeyAttributes", "(", ")", ")", "{", "QueryAttribute", "<", "E", ",", "Object", ">", "id", "=", "Attributes", ".", "query", "(", "attribute", ")", ";", "deletion", ".", "where", "(", "id", ".", "in", "(", "ids", ")", ")", ";", "}", "int", "rows", "=", "deletion", ".", "get", "(", ")", ".", "value", "(", ")", ";", "if", "(", "rows", "!", "=", "ids", ".", "size", "(", ")", ")", "{", "throw", "new", "RowCountException", "(", "ids", ".", "size", "(", ")", ",", "rows", ")", ";", "}", "}", "}", "}", "</s>"]
["<s>", "private", "void", "cascadeForeignKeyReference", "(", "CascadeMode", "mode", ",", "EntityProxy", "<", "E", ">", "proxy", ",", "Attribute", "<", "E", ",", "?", ">", "attribute", ")", "{", "S", "referenced", "=", "foreignKeyReference", "(", "proxy", ",", "attribute", ")", ";", "if", "(", "referenced", "!", "=", "null", "&", "&", "proxy", ".", "getState", "(", "attribute", ")", "=", "=", "PropertyState", ".", "MODIFIED", ")", "{", "EntityProxy", "<", "S", ">", "referred", "=", "context", ".", "proxyOf", "(", "referenced", ",", "false", ")", ";", "if", "(", "!", "referred", ".", "isLinked", "(", ")", ")", "{", "proxy", ".", "setState", "(", "attribute", ",", "PropertyState", ".", "LOADED", ")", ";", "cascadeWrite", "(", "mode", ",", "referenced", ",", "null", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "<", "U", "extends", "S", ">", "void", "cascadeWrite", "(", "CascadeMode", "mode", ",", "U", "entity", ",", "EntityProxy", "<", "U", ">", "proxy", ")", "{", "if", "(", "entity", "!", "=", "null", ")", "{", "if", "(", "proxy", "=", "=", "null", ")", "{", "proxy", "=", "context", ".", "proxyOf", "(", "entity", ",", "false", ")", ";", "}", "EntityWriter", "<", "U", ",", "S", ">", "writer", "=", "context", ".", "write", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ")", ";", "if", "(", "mode", "=", "=", "CascadeMode", ".", "AUTO", ")", "{", "mode", "=", "proxy", ".", "isLinked", "(", ")", "|", "|", "hasKey", "(", "proxy", ")", "?", "CascadeMode", ".", "UPDATE", ":", "CascadeMode", ".", "INSERT", ";", "}", "switch", "(", "mode", ")", "{", "case", "INSERT", ":", "writer", ".", "insert", "(", "entity", ",", "proxy", ",", "false", ",", "mode", ")", ";", "break", ";", "case", "UPDATE", ":", "writer", ".", "update", "(", "entity", ",", "proxy", ",", "false", ",", "mode", ")", ";", "break", ";", "case", "UPSERT", ":", "writer", ".", "upsert", "(", "entity", ",", "proxy", ")", ";", "break", ";", "}", "}", "}", "</s>"]
["<s>", "private", "<", "U", "extends", "S", ">", "void", "cascadeRemove", "(", "E", "entity", ",", "U", "element", ",", "boolean", "delete", ")", "{", "EntityProxy", "<", "U", ">", "proxy", "=", "context", ".", "proxyOf", "(", "element", ",", "false", ")", ";", "if", "(", "proxy", "!", "=", "null", ")", "{", "EntityWriter", "<", "U", ",", "S", ">", "writer", "=", "context", ".", "write", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ")", ";", "if", "(", "delete", "&", "&", "proxy", ".", "isLinked", "(", ")", ")", "{", "writer", ".", "delete", "(", "element", ",", "proxy", ")", ";", "}", "else", "{", "writer", ".", "removeEntity", "(", "proxy", ",", "entity", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "<", "U", "extends", "S", ">", "boolean", "hasKey", "(", "EntityProxy", "<", "U", ">", "proxy", ")", "{", "Type", "<", "U", ">", "type", "=", "proxy", ".", "type", "(", ")", ";", "if", "(", "type", ".", "getKeyAttributes", "(", ")", ".", "size", "(", ")", ">", "0", ")", "{", "for", "(", "Attribute", "<", "U", ",", "?", ">", "attribute", ":", "type", ".", "getKeyAttributes", "(", ")", ")", "{", "PropertyState", "state", "=", "proxy", ".", "getState", "(", "attribute", ")", ";", "if", "(", "!", "(", "state", "=", "=", "PropertyState", ".", "MODIFIED", "|", "|", "state", "=", "=", "PropertyState", ".", "LOADED", ")", ")", "{", "return", "false", ";", "}", "}", "return", "true", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "private", "void", "removeEntity", "(", "EntityProxy", "<", "E", ">", "proxy", ",", "S", "entity", ")", "{", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "associativeAttributes", ")", "{", "Object", "value", "=", "proxy", ".", "get", "(", "attribute", ",", "false", ")", ";", "switch", "(", "attribute", ".", "getCardinality", "(", ")", ")", "{", "case", "ONE_TO_ONE", ":", "case", "MANY_TO_ONE", ":", "if", "(", "value", "=", "=", "entity", ")", "{", "proxy", ".", "set", "(", "attribute", ",", "null", ",", "PropertyState", ".", "LOADED", ")", ";", "}", "break", ";", "case", "ONE_TO_MANY", ":", "case", "MANY_TO_MANY", ":", "if", "(", "value", "instanceof", "Collection", ")", "{", "Collection", "collection", "=", "(", "Collection", ")", "value", ";", "collection", ".", "remove", "(", "entity", ")", ";", "}", "else", "if", "(", "value", "instanceof", "MutableResult", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "MutableResult", "<", "Object", ">", "result", "=", "(", "MutableResult", ")", "value", ";", "result", ".", "remove", "(", "entity", ")", ";", "}", "break", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "createColumn", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "columnName", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "PreparedQueryOperation", "(", "RuntimeConfiguration", "configuration", ",", "GeneratedResultReader", "generatedResultReader", ")", "{", "this", ".", "configuration", "=", "configuration", ";", "this", ".", "generatedResultReader", "=", "generatedResultReader", ";", "this", ".", "model", "=", "configuration", ".", "getModel", "(", ")", ";", "}", "</s>"]
["<s>", "PreparedStatement", "prepare", "(", "String", "sql", ",", "Connection", "connection", ")", "throws", "SQLException", "{", "PreparedStatement", "statement", ";", "if", "(", "generatedResultReader", "!", "=", "null", ")", "{", "if", "(", "configuration", ".", "getPlatform", "(", ")", ".", "supportsGeneratedColumnsInPrepareStatement", "(", ")", ")", "{", "String", "[", "]", "generatedColumns", "=", "generatedResultReader", ".", "generatedColumns", "(", ")", ";", "statement", "=", "connection", ".", "prepareStatement", "(", "sql", ",", "generatedColumns", ")", ";", "}", "else", "{", "statement", "=", "connection", ".", "prepareStatement", "(", "sql", ",", "Statement", ".", "RETURN_GENERATED_KEYS", ")", ";", "}", "}", "else", "{", "statement", "=", "connection", ".", "prepareStatement", "(", "sql", ",", "Statement", ".", "NO_GENERATED_KEYS", ")", ";", "}", "return", "statement", ";", "}", "</s>"]
["<s>", "void", "mapParameters", "(", "PreparedStatement", "statement", ",", "BoundParameters", "parameters", ")", "throws", "SQLException", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "parameters", ".", "count", "(", ")", ";", "i", "+", "+", ")", "{", "Expression", "expression", "=", "parameters", ".", "expressionAt", "(", "i", ")", ";", "Object", "value", "=", "parameters", ".", "valueAt", "(", "i", ")", ";", "if", "(", "expression", "instanceof", "Attribute", ")", "{", "Attribute", "attribute", "=", "(", "Attribute", ")", "expression", ";", "if", "(", "attribute", ".", "isAssociation", "(", ")", ")", "{", "value", "=", "Attributes", ".", "replaceKeyReference", "(", "value", ",", "attribute", ")", ";", "}", "}", "Class", "<", "?", ">", "type", "=", "value", "=", "=", "null", "?", "null", ":", "value", ".", "getClass", "(", ")", ";", "if", "(", "type", "!", "=", "null", ")", "{", "if", "(", "model", ".", "containsTypeOf", "(", "type", ")", ")", "{", "Type", "<", "Object", ">", "entityType", "=", "model", ".", "typeOf", "(", "type", ")", ";", "Attribute", "<", "Object", ",", "?", ">", "keyAttribute", "=", "entityType", ".", "getSingleKeyAttribute", "(", ")", ";", "if", "(", "keyAttribute", "!", "=", "null", ")", "{", "value", "=", "keyAttribute", ".", "getProperty", "(", ")", ".", "get", "(", "value", ")", ";", "expression", "=", "(", "Expression", ")", "keyAttribute", ";", "}", "}", "}", "configuration", ".", "getMapping", "(", ")", ".", "write", "(", "expression", ",", "statement", ",", "i", "+", "1", ",", "value", ")", ";", "}", "}", "</s>"]
["<s>", "void", "readGeneratedKeys", "(", "int", "index", ",", "Statement", "statement", ")", "throws", "SQLException", "{", "if", "(", "generatedResultReader", "!", "=", "null", ")", "{", "try", "(", "ResultSet", "results", "=", "statement", ".", "getGeneratedKeys", "(", ")", ")", "{", "generatedResultReader", ".", "read", "(", "index", ",", "results", ")", ";", "}", "}", "}", "</s>"]
["<s>", "BatchUpdateOperation", "(", "RuntimeConfiguration", "configuration", ",", "E", "[", "]", "elements", ",", "int", "length", ",", "ParameterBinder", "<", "E", ">", "parameterBinder", ",", "GeneratedResultReader", "generatedResultReader", ",", "boolean", "batchInStatement", ")", "{", "super", "(", "configuration", ",", "generatedResultReader", ")", ";", "this", ".", "elements", "=", "elements", ";", "this", ".", "length", "=", "length", ";", "this", ".", "parameterBinder", "=", "parameterBinder", ";", "this", ".", "batchInStatement", "=", "batchInStatement", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "[", "]", "evaluate", "(", "QueryElement", "<", "int", "[", "]", ">", "query", ")", "{", "int", "[", "]", "result", "=", "batchInStatement", "?", "null", ":", "new", "int", "[", "length", "]", ";", "try", "(", "Connection", "connection", "=", "configuration", ".", "getConnection", "(", ")", ")", "{", "DefaultOutput", "generator", "=", "new", "DefaultOutput", "(", "configuration", ",", "query", ")", ";", "String", "sql", "=", "generator", ".", "toSql", "(", ")", ";", "StatementListener", "listener", "=", "configuration", ".", "getStatementListener", "(", ")", ";", "try", "(", "PreparedStatement", "statement", "=", "prepare", "(", "sql", ",", "connection", ")", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "length", ";", "i", "+", "+", ")", "{", "E", "element", "=", "elements", "[", "i", "]", ";", "parameterBinder", ".", "bindParameters", "(", "statement", ",", "element", ",", "null", ")", ";", "if", "(", "batchInStatement", ")", "{", "statement", ".", "addBatch", "(", ")", ";", "}", "else", "{", "listener", ".", "beforeExecuteUpdate", "(", "statement", ",", "sql", ",", "null", ")", ";", "result", "[", "i", "]", "=", "statement", ".", "executeUpdate", "(", ")", ";", "listener", ".", "afterExecuteUpdate", "(", "statement", ")", ";", "readGeneratedKeys", "(", "i", ",", "statement", ")", ";", "}", "}", "if", "(", "batchInStatement", ")", "{", "listener", ".", "beforeExecuteUpdate", "(", "statement", ",", "sql", ",", "null", ")", ";", "result", "=", "statement", ".", "executeBatch", "(", ")", ";", "listener", ".", "afterExecuteUpdate", "(", "statement", ")", ";", "readGeneratedKeys", "(", "0", ",", "statement", ")", ";", "}", "}", "}", "catch", "(", "BatchUpdateException", "e", ")", "{", "result", "=", "e", ".", "getUpdateCounts", "(", ")", ";", "if", "(", "result", "=", "=", "null", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "BuildableEntityResultReader", "(", "EntityReader", "<", "E", ",", "S", ">", "reader", ",", "Attribute", "<", "?", ",", "?", ">", "[", "]", "attributes", ")", "{", "this", ".", "reader", "=", "reader", ";", "this", ".", "attributes", "=", "attributes", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "read", "(", "ResultSet", "results", ",", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "selection", ")", "throws", "SQLException", "{", "return", "reader", ".", "fromBuilder", "(", "results", ",", "attributes", ")", ";", "}", "</s>"]
["<s>", "ConnectionTransaction", "(", "TransactionListener", "transactionListener", ",", "ConnectionProvider", "connectionProvider", ",", "EntityCache", "cache", ",", "boolean", "supportsTransaction", ")", "{", "this", ".", "transactionListener", "=", "Objects", ".", "requireNotNull", "(", "transactionListener", ")", ";", "this", ".", "connectionProvider", "=", "Objects", ".", "requireNotNull", "(", "connectionProvider", ")", ";", "this", ".", "supportsTransaction", "=", "supportsTransaction", ";", "this", ".", "entities", "=", "new", "TransactionEntitiesSet", "(", "cache", ")", ";", "this", ".", "previousIsolationLevel", "=", "-", "1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Connection", "getConnection", "(", ")", "{", "return", "uncloseableConnection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Transaction", "begin", "(", ")", "{", "return", "begin", "(", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Transaction", "begin", "(", "TransactionIsolation", "isolation", ")", "{", "if", "(", "active", "(", ")", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "try", "{", "transactionListener", ".", "beforeBegin", "(", "isolation", ")", ";", "connection", "=", "connectionProvider", ".", "getConnection", "(", ")", ";", "uncloseableConnection", "=", "new", "UncloseableConnection", "(", "connection", ")", ";", "if", "(", "supportsTransaction", ")", "{", "connection", ".", "setAutoCommit", "(", "false", ")", ";", "if", "(", "isolation", "!", "=", "null", ")", "{", "previousIsolationLevel", "=", "connection", ".", "getTransactionIsolation", "(", ")", ";", "int", "level", ";", "switch", "(", "isolation", ")", "{", "case", "NONE", ":", "level", "=", "Connection", ".", "TRANSACTION_NONE", ";", "break", ";", "case", "READ_UNCOMMITTED", ":", "level", "=", "Connection", ".", "TRANSACTION_READ_UNCOMMITTED", ";", "break", ";", "case", "READ_COMMITTED", ":", "level", "=", "Connection", ".", "TRANSACTION_READ_COMMITTED", ";", "break", ";", "case", "REPEATABLE_READ", ":", "level", "=", "Connection", ".", "TRANSACTION_REPEATABLE_READ", ";", "break", ";", "case", "SERIALIZABLE", ":", "level", "=", "Connection", ".", "TRANSACTION_SERIALIZABLE", ";", "break", ";", "default", ":", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "connection", ".", "setTransactionIsolation", "(", "level", ")", ";", "}", "}", "committed", "=", "false", ";", "rolledBack", "=", "false", ";", "entities", ".", "clear", "(", ")", ";", "transactionListener", ".", "afterBegin", "(", "isolation", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "TransactionException", "(", "e", ")", ";", "}", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "if", "(", "connection", "!", "=", "null", ")", "{", "if", "(", "!", "committed", "&", "&", "!", "rolledBack", ")", "{", "try", "{", "rollback", "(", ")", ";", "}", "catch", "(", "Exception", "ignored", ")", "{", "}", "}", "try", "{", "connection", ".", "close", "(", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "TransactionException", "(", "e", ")", ";", "}", "finally", "{", "connection", "=", "null", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "commit", "(", ")", "{", "try", "{", "transactionListener", ".", "beforeCommit", "(", "entities", ".", "types", "(", ")", ")", ";", "if", "(", "supportsTransaction", ")", "{", "connection", ".", "commit", "(", ")", ";", "committed", "=", "true", ";", "}", "transactionListener", ".", "afterCommit", "(", "entities", ".", "types", "(", ")", ")", ";", "entities", ".", "clear", "(", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "TransactionException", "(", "e", ")", ";", "}", "finally", "{", "try", "{", "connection", ".", "setAutoCommit", "(", "true", ")", ";", "if", "(", "previousIsolationLevel", "!", "=", "-", "1", ")", "{", "connection", ".", "setTransactionIsolation", "(", "previousIsolationLevel", ")", ";", "}", "}", "catch", "(", "SQLException", "ignored", ")", "{", "}", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "rollback", "(", ")", "{", "try", "{", "transactionListener", ".", "beforeRollback", "(", "entities", ".", "types", "(", ")", ")", ";", "if", "(", "supportsTransaction", ")", "{", "connection", ".", "rollback", "(", ")", ";", "rolledBack", "=", "true", ";", "entities", ".", "clearAndInvalidate", "(", ")", ";", "}", "transactionListener", ".", "afterRollback", "(", "entities", ".", "types", "(", ")", ")", ";", "entities", ".", "clear", "(", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "TransactionException", "(", "e", ")", ";", "}", "finally", "{", "try", "{", "connection", ".", "setAutoCommit", "(", "true", ")", ";", "}", "catch", "(", "SQLException", "ignored", ")", "{", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "active", "(", ")", "{", "try", "{", "return", "connection", "!", "=", "null", "&", "&", "!", "connection", ".", "getAutoCommit", "(", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "return", "false", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addToTransaction", "(", "EntityProxy", "<", "?", ">", "proxy", ")", "{", "entities", ".", "add", "(", "proxy", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addToTransaction", "(", "Collection", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "entities", ".", "types", "(", ")", ".", "addAll", "(", "types", ")", ";", "}", "</s>"]
["<s>", "public", "TableModificationException", "(", "Throwable", "throwable", ")", "{", "super", "(", "throwable", ")", ";", "}", "</s>"]
["<s>", "void", "append", "(", "QueryBuilder", "qb", ",", "T", "value", ")", ";", "</s>"]
["<s>", "public", "Options", "(", "String", "quotedIdentifier", ",", "boolean", "lowercaseKeywords", ",", "Function", "<", "String", ",", "String", ">", "tableTransformer", ",", "Function", "<", "String", ",", "String", ">", "columnTransformer", ",", "boolean", "quoteTableNames", ",", "boolean", "quoteColumnNames", ")", "{", "if", "(", "quotedIdentifier", ".", "equals", "(", "\"", "\"", ")", ")", "{", "quotedIdentifier", "=", "\"", "<STR_LIT:\\\">", "\"", ";", "}", "this", ".", "quotedIdentifier", "=", "quotedIdentifier", ";", "this", ".", "tableTransformer", "=", "tableTransformer", ";", "this", ".", "columnTransformer", "=", "columnTransformer", ";", "this", ".", "lowercaseKeywords", "=", "lowercaseKeywords", ";", "this", ".", "quoteTableNames", "=", "quoteTableNames", ";", "this", ".", "quoteColumnNames", "=", "quoteColumnNames", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "(", "Options", "options", ")", "{", "this", ".", "options", "=", "options", ";", "this", ".", "sb", "=", "new", "StringBuilder", "(", "<NUM_LIT:32>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "@", "Nonnull", "public", "String", "toString", "(", ")", "{", "return", "sb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "length", "(", ")", "{", "return", "sb", ".", "length", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "char", "charAt", "(", "int", "index", ")", "{", "return", "sb", ".", "charAt", "(", "index", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CharSequence", "subSequence", "(", "int", "start", ",", "int", "end", ")", "{", "return", "sb", ".", "subSequence", "(", "start", ",", "end", ")", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "keyword", "(", "Keyword", ".", ".", ".", "keywords", ")", "{", "for", "(", "Keyword", "keyword", ":", "keywords", ")", "{", "sb", ".", "append", "(", "options", ".", "lowercaseKeywords", "?", "keyword", ".", "toString", "(", ")", ".", "toLowerCase", "(", "Locale", ".", "ROOT", ")", ":", "keyword", ")", ";", "sb", ".", "append", "(", "\"", "\"", ")", ";", "}", "return", "this", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "appendIdentifier", "(", "String", "value", ",", "String", "identifier", ")", "{", "return", "append", "(", "identifier", ",", "false", ")", ".", "append", "(", "value", ",", "false", ")", ".", "append", "(", "identifier", ")", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "appendQuoted", "(", "String", "value", ")", "{", "return", "appendIdentifier", "(", "value", ",", "\"", "<STR_LIT>", "'", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "tableName", "(", "Object", "value", ")", "{", "String", "name", "=", "value", ".", "toString", "(", ")", ";", "if", "(", "options", ".", "tableTransformer", "!", "=", "null", ")", "{", "name", "=", "options", ".", "tableTransformer", ".", "apply", "(", "name", ")", ";", "}", "if", "(", "options", ".", "quoteTableNames", ")", "{", "appendIdentifier", "(", "name", ",", "options", ".", "quotedIdentifier", ")", ";", "}", "else", "{", "append", "(", "name", ")", ";", "}", "return", "space", "(", ")", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "tableNames", "(", "Iterable", "<", "Expression", "<", "?", ">", ">", "values", ")", "{", "Set", "<", "Type", "<", "?", ">", ">", "types", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "Expression", "<", "?", ">", "expression", ":", "values", ")", "{", "if", "(", "expression", ".", "getExpressionType", "(", ")", "=", "=", "ExpressionType", ".", "ATTRIBUTE", ")", "{", "Attribute", "attribute", "=", "(", "Attribute", ")", "expression", ";", "types", ".", "add", "(", "attribute", ".", "getDeclaringType", "(", ")", ")", ";", "}", "}", "return", "commaSeparated", "(", "types", ",", "new", "Appender", "<", "Type", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Type", "<", "?", ">", "value", ")", "{", "tableName", "(", "value", ".", "getName", "(", ")", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Type", "<", "?", ">", "value", ")", "{", "tableName", "(", "value", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "attribute", "(", "Attribute", "value", ")", "{", "String", "name", "=", "options", ".", "columnTransformer", "=", "=", "null", "?", "value", ".", "getName", "(", ")", ":", "options", ".", "columnTransformer", ".", "apply", "(", "value", ".", "getName", "(", ")", ")", ";", "if", "(", "options", ".", "quoteColumnNames", ")", "{", "appendIdentifier", "(", "name", ",", "options", ".", "quotedIdentifier", ")", ";", "}", "else", "{", "append", "(", "name", ")", ";", "}", "return", "space", "(", ")", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "aliasAttribute", "(", "String", "alias", ",", "Attribute", "value", ")", "{", "append", "(", "alias", ")", ";", "append", "(", "\"", "<STR_LIT:.>", "\"", ")", ";", "return", "attribute", "(", "value", ")", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "append", "(", "Object", "value", ")", "{", "return", "append", "(", "value", ",", "false", ")", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "value", "(", "Object", "value", ")", "{", "return", "append", "(", "value", ",", "true", ")", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "append", "(", "Object", "value", ",", "boolean", "space", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "keyword", "(", "Keyword", ".", "NULL", ")", ";", "}", "else", "if", "(", "value", "instanceof", "String", "[", "]", ")", "{", "commaSeparated", "(", "Arrays", ".", "asList", "(", "(", "String", "[", "]", ")", "value", ")", ")", ";", "}", "else", "{", "if", "(", "value", "instanceof", "Keyword", ")", "{", "sb", ".", "append", "(", "options", ".", "lowercaseKeywords", "?", "value", ".", "toString", "(", ")", ".", "toLowerCase", "(", "Locale", ".", "ROOT", ")", ":", "value", ".", "toString", "(", ")", ")", ";", "}", "else", "{", "sb", ".", "append", "(", "value", ".", "toString", "(", ")", ")", ";", "}", "}", "if", "(", "space", ")", "{", "sb", ".", "append", "(", "\"", "\"", ")", ";", "}", "return", "this", ";", "}", "</s>"]
["<s>", "public", "<", "T", ">", "QueryBuilder", "appendWhereConditions", "(", "Set", "<", "Attribute", "<", "T", ",", "?", ">", ">", "attributes", ")", "{", "int", "index", "=", "0", ";", "for", "(", "Attribute", "attribute", ":", "attributes", ")", "{", "if", "(", "index", ">", "0", ")", "{", "keyword", "(", "Keyword", ".", "AND", ")", ";", "space", "(", ")", ";", "}", "attribute", "(", "attribute", ")", ";", "space", "(", ")", ";", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "space", "(", ")", ";", "index", "+", "+", ";", "}", "return", "this", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "commaSeparatedExpressions", "(", "Iterable", "<", "Expression", "<", "?", ">", ">", "values", ")", "{", "return", "commaSeparated", "(", "values", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "switch", "(", "value", ".", "getExpressionType", "(", ")", ")", "{", "case", "ATTRIBUTE", ":", "qb", ".", "attribute", "(", "(", "Attribute", ")", "value", ")", ";", "break", ";", "default", ":", "qb", ".", "append", "(", "value", ".", "getName", "(", ")", ")", ".", "space", "(", ")", ";", "break", ";", "}", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "switch", "(", "value", ".", "getExpressionType", "(", ")", ")", "{", "case", "ATTRIBUTE", ":", "qb", ".", "attribute", "(", "(", "Attribute", ")", "value", ")", ";", "break", ";", "default", ":", "qb", ".", "append", "(", "value", ".", "getName", "(", ")", ")", ".", "space", "(", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "public", "<", "E", ">", "QueryBuilder", "commaSeparatedAttributes", "(", "Iterable", "<", "Attribute", "<", "E", ",", "?", ">", ">", "values", ")", "{", "return", "commaSeparated", "(", "values", ",", "new", "QueryBuilder", ".", "Appender", "<", "Attribute", "<", "E", ",", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "qb", ".", "attribute", "(", "value", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "qb", ".", "attribute", "(", "value", ")", ";", "}", "</s>"]
["<s>", "public", "<", "T", ">", "QueryBuilder", "commaSeparated", "(", "Iterable", "<", "?", "extends", "T", ">", "values", ")", "{", "return", "commaSeparated", "(", "values", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "<", "T", ">", "QueryBuilder", "commaSeparated", "(", "Iterable", "<", "?", "extends", "T", ">", "values", ",", "Appender", "<", "T", ">", "appender", ")", "{", "return", "commaSeparated", "(", "values", ".", "iterator", "(", ")", ",", "appender", ")", ";", "}", "</s>"]
["<s>", "public", "<", "T", ">", "QueryBuilder", "commaSeparated", "(", "Iterator", "<", "?", "extends", "T", ">", "values", ",", "Appender", "<", "T", ">", "appender", ")", "{", "int", "i", "=", "0", ";", "while", "(", "values", ".", "hasNext", "(", ")", ")", "{", "T", "value", "=", "values", ".", "next", "(", ")", ";", "if", "(", "i", ">", "0", ")", "{", "comma", "(", ")", ";", "}", "if", "(", "appender", "=", "=", "null", ")", "{", "append", "(", "value", ")", ";", "}", "else", "{", "appender", ".", "append", "(", "this", ",", "value", ")", ";", "}", "i", "+", "+", ";", "}", "return", "this", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "openParenthesis", "(", ")", "{", "sb", ".", "append", "(", "\"", "<STR_LIT:(>", "\"", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "closeParenthesis", "(", ")", "{", "if", "(", "sb", ".", "charAt", "(", "sb", ".", "length", "(", ")", "-", "1", ")", "=", "=", "<CHAR_LIT>", ")", "{", "sb", ".", "setCharAt", "(", "sb", ".", "length", "(", ")", "-", "1", ",", "<CHAR_LIT:)>", ")", ";", "}", "else", "{", "sb", ".", "append", "(", "<CHAR_LIT:)>", ")", ";", "}", "return", "this", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "space", "(", ")", "{", "if", "(", "sb", ".", "charAt", "(", "sb", ".", "length", "(", ")", "-", "1", ")", "!", "=", "<CHAR_LIT>", ")", "{", "sb", ".", "append", "(", "\"", "\"", ")", ";", "}", "return", "this", ";", "}", "</s>"]
["<s>", "public", "QueryBuilder", "comma", "(", ")", "{", "if", "(", "sb", ".", "charAt", "(", "sb", ".", "length", "(", ")", "-", "1", ")", "=", "=", "<CHAR_LIT>", ")", "{", "sb", ".", "setCharAt", "(", "sb", ".", "length", "(", ")", "-", "1", ",", "<CHAR_LIT:U+002C>", ")", ";", "}", "else", "{", "sb", ".", "append", "(", "<CHAR_LIT:U+002C>", ")", ";", "}", "space", "(", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "EntityDataStore", "(", "DataSource", "dataSource", ",", "EntityModel", "model", ")", "{", "this", "(", "dataSource", ",", "model", ",", "null", ")", ";", "}", "</s>"]
["<s>", "public", "EntityDataStore", "(", "DataSource", "dataSource", ",", "EntityModel", "model", ",", "@", "Nullable", "Mapping", "mapping", ")", "{", "this", "(", "new", "ConfigurationBuilder", "(", "dataSource", ",", "model", ")", ".", "setMapping", "(", "mapping", ")", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "EntityDataStore", "(", "Configuration", "configuration", ")", "{", "closed", "=", "new", "AtomicBoolean", "(", ")", ";", "readers", "=", "new", "ClassMap", "<", ">", "(", ")", ";", "writers", "=", "new", "ClassMap", "<", ">", "(", ")", ";", "entityModel", "=", "Objects", ".", "requireNotNull", "(", "configuration", ".", "getModel", "(", ")", ")", ";", "connectionProvider", "=", "Objects", ".", "requireNotNull", "(", "configuration", ".", "getConnectionProvider", "(", ")", ")", ";", "mapping", "=", "configuration", ".", "getMapping", "(", ")", ";", "platform", "=", "configuration", ".", "getPlatform", "(", ")", ";", "transactionMode", "=", "configuration", ".", "getTransactionMode", "(", ")", ";", "this", ".", "configuration", "=", "configuration", ";", "statementListeners", "=", "new", "CompositeStatementListener", "(", "configuration", ".", "getStatementListeners", "(", ")", ")", ";", "stateListeners", "=", "new", "CompositeEntityListener", "<", ">", "(", ")", ";", "entityCache", "=", "configuration", ".", "getCache", "(", ")", "=", "=", "null", "?", "new", "EmptyEntityCache", "(", ")", ":", "configuration", ".", "getCache", "(", ")", ";", "int", "statementCacheSize", "=", "configuration", ".", "getStatementCacheSize", "(", ")", ";", "if", "(", "statementCacheSize", ">", "0", ")", "{", "statementCache", "=", "new", "PreparedStatementCache", "(", "statementCacheSize", ")", ";", "}", "if", "(", "platform", "!", "=", "null", "&", "&", "mapping", "=", "=", "null", ")", "{", "mapping", "=", "new", "GenericMapping", "(", "platform", ")", ";", "}", "context", "=", "new", "DataContext", "(", ")", ";", "transactionProvider", "=", "new", "TransactionProvider", "(", "context", ")", ";", "updateOperation", "=", "new", "UpdateOperation", "(", "context", ")", ";", "countOperation", "=", "new", "SelectCountOperation", "(", "context", ")", ";", "Set", "<", "EntityStateListener", "<", "T", ">", ">", "entityListeners", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "if", "(", "configuration", ".", "getUseDefaultLogging", "(", ")", ")", "{", "LoggingListener", "<", "T", ">", "logListener", "=", "new", "LoggingListener", "<", ">", "(", ")", ";", "entityListeners", ".", "add", "(", "logListener", ")", ";", "statementListeners", ".", "add", "(", "logListener", ")", ";", "}", "if", "(", "!", "configuration", ".", "getEntityStateListeners", "(", ")", ".", "isEmpty", "(", ")", ")", "{", "for", "(", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "EntityStateListener", "<", "T", ">", "listener", ":", "configuration", ".", "getEntityStateListeners", "(", ")", ")", "{", "entityListeners", ".", "add", "(", "listener", ")", ";", "}", "}", "if", "(", "!", "entityListeners", ".", "isEmpty", "(", ")", ")", "{", "stateListeners", ".", "enableStateListeners", "(", "true", ")", ";", "for", "(", "EntityStateListener", "<", "T", ">", "listener", ":", "entityListeners", ")", "{", "stateListeners", ".", "addPostLoadListener", "(", "listener", ")", ";", "stateListeners", ".", "addPostInsertListener", "(", "listener", ")", ";", "stateListeners", ".", "addPostDeleteListener", "(", "listener", ")", ";", "stateListeners", ".", "addPostUpdateListener", "(", "listener", ")", ";", "stateListeners", ".", "addPreInsertListener", "(", "listener", ")", ";", "stateListeners", ".", "addPreDeleteListener", "(", "listener", ")", ";", "stateListeners", ".", "addPreUpdateListener", "(", "listener", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "E", "insert", "(", "E", "entity", ")", "{", "insert", "(", "entity", ",", "null", ")", ";", "return", "entity", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "K", ",", "E", "extends", "T", ">", "K", "insert", "(", "E", "entity", ",", "@", "Nullable", "Class", "<", "K", ">", "keyClass", ")", "{", "try", "(", "TransactionScope", "transaction", "=", "new", "TransactionScope", "(", "transactionProvider", ")", ")", "{", "EntityProxy", "<", "E", ">", "proxy", "=", "context", ".", "proxyOf", "(", "entity", ",", "true", ")", ";", "synchronized", "(", "proxy", ".", "syncObject", "(", ")", ")", "{", "EntityWriter", "<", "E", ",", "T", ">", "writer", "=", "context", ".", "write", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ")", ";", "GeneratedKeys", "<", "E", ">", "key", "=", "writer", ".", "insert", "(", "entity", ",", "proxy", ",", "keyClass", "!", "=", "null", ")", ";", "transaction", ".", "commit", "(", ")", ";", "if", "(", "key", "!", "=", "null", "&", "&", "key", ".", "size", "(", ")", ">", "0", "&", "&", "keyClass", "!", "=", "null", ")", "{", "return", "keyClass", ".", "cast", "(", "key", ".", "get", "(", "0", ")", ")", ";", "}", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Iterable", "<", "E", ">", "insert", "(", "Iterable", "<", "E", ">", "entities", ")", "{", "insert", "(", "entities", ",", "null", ")", ";", "return", "entities", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "K", ",", "E", "extends", "T", ">", "Iterable", "<", "K", ">", "insert", "(", "Iterable", "<", "E", ">", "entities", ",", "@", "Nullable", "Class", "<", "K", ">", "keyClass", ")", "{", "Iterator", "<", "E", ">", "iterator", "=", "entities", ".", "iterator", "(", ")", ";", "if", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "try", "(", "TransactionScope", "transaction", "=", "new", "TransactionScope", "(", "transactionProvider", ")", ")", "{", "E", "entity", "=", "iterator", ".", "next", "(", ")", ";", "EntityProxy", "<", "E", ">", "proxy", "=", "context", ".", "proxyOf", "(", "entity", ",", "true", ")", ";", "EntityWriter", "<", "E", ",", "T", ">", "writer", "=", "context", ".", "write", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ")", ";", "GeneratedKeys", "<", "E", ">", "keys", "=", "writer", ".", "batchInsert", "(", "entities", ",", "keyClass", "!", "=", "null", ")", ";", "if", "(", "keys", "!", "=", "null", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Iterable", "<", "K", ">", "result", "=", "(", "Iterable", "<", "K", ">", ")", "keys", ";", "return", "result", ";", "}", "transaction", ".", "commit", "(", ")", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "E", "update", "(", "E", "entity", ")", "{", "try", "(", "TransactionScope", "transaction", "=", "new", "TransactionScope", "(", "transactionProvider", ")", ")", "{", "EntityProxy", "<", "E", ">", "proxy", "=", "context", ".", "proxyOf", "(", "entity", ",", "true", ")", ";", "synchronized", "(", "proxy", ".", "syncObject", "(", ")", ")", "{", "context", ".", "write", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ")", ".", "update", "(", "entity", ",", "proxy", ")", ";", "transaction", ".", "commit", "(", ")", ";", "return", "entity", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Iterable", "<", "E", ">", "update", "(", "Iterable", "<", "E", ">", "entities", ")", "{", "try", "(", "TransactionScope", "transaction", "=", "new", "TransactionScope", "(", "transactionProvider", ")", ")", "{", "for", "(", "E", "entity", ":", "entities", ")", "{", "update", "(", "entity", ")", ";", "}", "transaction", ".", "commit", "(", ")", ";", "}", "return", "entities", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "E", "upsert", "(", "E", "entity", ")", "{", "try", "(", "TransactionScope", "transaction", "=", "new", "TransactionScope", "(", "transactionProvider", ")", ")", "{", "EntityProxy", "<", "E", ">", "proxy", "=", "context", ".", "proxyOf", "(", "entity", ",", "true", ")", ";", "synchronized", "(", "proxy", ".", "syncObject", "(", ")", ")", "{", "EntityWriter", "<", "E", ",", "T", ">", "writer", "=", "context", ".", "write", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ")", ";", "writer", ".", "upsert", "(", "entity", ",", "proxy", ")", ";", "transaction", ".", "commit", "(", ")", ";", "return", "entity", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Iterable", "<", "E", ">", "upsert", "(", "Iterable", "<", "E", ">", "entities", ")", "{", "try", "(", "TransactionScope", "transaction", "=", "new", "TransactionScope", "(", "transactionProvider", ")", ")", "{", "for", "(", "E", "entity", ":", "entities", ")", "{", "upsert", "(", "entity", ")", ";", "}", "transaction", ".", "commit", "(", ")", ";", "}", "return", "entities", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "E", "refresh", "(", "E", "entity", ")", "{", "EntityProxy", "<", "E", ">", "proxy", "=", "context", ".", "proxyOf", "(", "entity", ",", "false", ")", ";", "synchronized", "(", "proxy", ".", "syncObject", "(", ")", ")", "{", "return", "context", ".", "read", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ")", ".", "refresh", "(", "entity", ",", "proxy", ")", ";", "}", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "<", "E", "extends", "T", ">", "E", "refresh", "(", "E", "entity", ",", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "EntityProxy", "<", "E", ">", "proxy", "=", "context", ".", "proxyOf", "(", "entity", ",", "false", ")", ";", "synchronized", "(", "proxy", ".", "syncObject", "(", ")", ")", "{", "return", "context", ".", "read", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ")", ".", "refresh", "(", "entity", ",", "proxy", ",", "(", "Attribute", "<", "E", ",", "?", ">", "[", "]", ")", "attributes", ")", ";", "}", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "<", "E", "extends", "T", ">", "Iterable", "<", "E", ">", "refresh", "(", "Iterable", "<", "E", ">", "entities", ",", "Attribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "Iterator", "<", "E", ">", "iterator", "=", "entities", ".", "iterator", "(", ")", ";", "if", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "E", "entity", "=", "iterator", ".", "next", "(", ")", ";", "EntityProxy", "<", "E", ">", "proxy", "=", "context", ".", "proxyOf", "(", "entity", ",", "false", ")", ";", "EntityReader", "<", "E", ",", "T", ">", "reader", "=", "context", ".", "read", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ")", ";", "return", "reader", ".", "batchRefresh", "(", "entities", ",", "(", "Attribute", "<", "E", ",", "?", ">", "[", "]", ")", "attributes", ")", ";", "}", "return", "entities", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "E", "refreshAll", "(", "E", "entity", ")", "{", "EntityProxy", "<", "E", ">", "proxy", "=", "context", ".", "proxyOf", "(", "entity", ",", "false", ")", ";", "synchronized", "(", "proxy", ".", "syncObject", "(", ")", ")", "{", "return", "context", ".", "read", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ")", ".", "refreshAll", "(", "entity", ",", "proxy", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Void", "delete", "(", "E", "entity", ")", "{", "try", "(", "TransactionScope", "transaction", "=", "new", "TransactionScope", "(", "transactionProvider", ")", ")", "{", "EntityProxy", "<", "E", ">", "proxy", "=", "context", ".", "proxyOf", "(", "entity", ",", "true", ")", ";", "synchronized", "(", "proxy", ".", "syncObject", "(", ")", ")", "{", "context", ".", "write", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ")", ".", "delete", "(", "entity", ",", "proxy", ")", ";", "transaction", ".", "commit", "(", ")", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Void", "delete", "(", "Iterable", "<", "E", ">", "entities", ")", "{", "Iterator", "<", "E", ">", "iterator", "=", "entities", ".", "iterator", "(", ")", ";", "if", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "try", "(", "TransactionScope", "transaction", "=", "new", "TransactionScope", "(", "transactionProvider", ")", ")", "{", "E", "entity", "=", "iterator", ".", "next", "(", ")", ";", "EntityProxy", "<", "E", ">", "proxy", "=", "context", ".", "proxyOf", "(", "entity", ",", "false", ")", ";", "EntityWriter", "<", "E", ",", "T", ">", "writer", "=", "context", ".", "write", "(", "proxy", ".", "type", "(", ")", ".", "getClassType", "(", ")", ")", ";", "writer", ".", "batchDelete", "(", "entities", ")", ";", "transaction", ".", "commit", "(", ")", ";", "}", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ",", "K", ">", "E", "findByKey", "(", "Class", "<", "E", ">", "type", ",", "K", "key", ")", "{", "Type", "<", "E", ">", "entityType", "=", "entityModel", ".", "typeOf", "(", "type", ")", ";", "if", "(", "entityType", ".", "isCacheable", "(", ")", "&", "&", "entityCache", "!", "=", "null", ")", "{", "E", "entity", "=", "entityCache", ".", "get", "(", "type", ",", "key", ")", ";", "if", "(", "entity", "!", "=", "null", ")", "{", "return", "entity", ";", "}", "}", "Set", "<", "Attribute", "<", "E", ",", "?", ">", ">", "keys", "=", "entityType", ".", "getKeyAttributes", "(", ")", ";", "if", "(", "keys", ".", "isEmpty", "(", ")", ")", "{", "throw", "new", "MissingKeyException", "(", ")", ";", "}", "Selection", "<", "Result", "<", "E", ">", ">", "selection", "=", "select", "(", "type", ")", ";", "if", "(", "keys", ".", "size", "(", ")", "=", "=", "1", ")", "{", "QueryAttribute", "<", "E", ",", "Object", ">", "attribute", "=", "Attributes", ".", "query", "(", "keys", ".", "iterator", "(", ")", ".", "next", "(", ")", ")", ";", "selection", ".", "where", "(", "attribute", ".", "equal", "(", "key", ")", ")", ";", "}", "else", "{", "if", "(", "key", "instanceof", "CompositeKey", ")", "{", "CompositeKey", "compositeKey", "=", "(", "CompositeKey", ")", "key", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "keys", ")", "{", "QueryAttribute", "<", "E", ",", "Object", ">", "keyAttribute", "=", "Attributes", ".", "query", "(", "attribute", ")", ";", "Object", "value", "=", "compositeKey", ".", "get", "(", "keyAttribute", ")", ";", "selection", ".", "where", "(", "keyAttribute", ".", "equal", "(", "value", ")", ")", ";", "}", "}", "else", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "return", "selection", ".", "get", "(", ")", ".", "firstOrNull", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Transaction", "transaction", "(", ")", "{", "checkClosed", "(", ")", ";", "return", "transactionProvider", ".", "get", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "if", "(", "closed", ".", "compareAndSet", "(", "false", ",", "true", ")", ")", "{", "entityCache", ".", "clear", "(", ")", ";", "if", "(", "statementCache", "!", "=", "null", ")", "{", "statementCache", ".", "close", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Selection", "<", "Result", "<", "Tuple", ">", ">", "select", "(", "Expression", "<", "?", ">", ".", ".", ".", "expressions", ")", "{", "TupleResultReader", "reader", "=", "new", "TupleResultReader", "(", "context", ")", ";", "SelectOperation", "<", "Tuple", ">", "select", "=", "new", "SelectOperation", "<", ">", "(", "context", ",", "reader", ")", ";", "return", "new", "QueryElement", "<", ">", "(", "SELECT", ",", "entityModel", ",", "select", ")", ".", "select", "(", "expressions", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selection", "<", "Result", "<", "Tuple", ">", ">", "select", "(", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "expressions", ")", "{", "TupleResultReader", "reader", "=", "new", "TupleResultReader", "(", "context", ")", ";", "SelectOperation", "<", "Tuple", ">", "select", "=", "new", "SelectOperation", "<", ">", "(", "context", ",", "reader", ")", ";", "return", "new", "QueryElement", "<", ">", "(", "SELECT", ",", "entityModel", ",", "select", ")", ".", "select", "(", "expressions", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Update", "<", "Scalar", "<", "Integer", ">", ">", "update", "(", ")", "{", "checkClosed", "(", ")", ";", "return", "new", "QueryElement", "<", ">", "(", "UPDATE", ",", "entityModel", ",", "updateOperation", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Deletion", "<", "Scalar", "<", "Integer", ">", ">", "delete", "(", ")", "{", "checkClosed", "(", ")", ";", "return", "new", "QueryElement", "<", ">", "(", "DELETE", ",", "entityModel", ",", "updateOperation", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Selection", "<", "Result", "<", "E", ">", ">", "select", "(", "Class", "<", "E", ">", "type", ",", "QueryAttribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "checkClosed", "(", ")", ";", "EntityReader", "<", "E", ",", "T", ">", "reader", "=", "context", ".", "read", "(", "type", ")", ";", "Set", "<", "Expression", "<", "?", ">", ">", "selection", ";", "ResultReader", "<", "E", ">", "resultReader", ";", "if", "(", "attributes", ".", "length", "=", "=", "0", ")", "{", "selection", "=", "reader", ".", "defaultSelection", "(", ")", ";", "resultReader", "=", "reader", ".", "newResultReader", "(", "reader", ".", "defaultSelectionAttributes", "(", ")", ")", ";", "}", "else", "{", "selection", "=", "new", "LinkedHashSet", "<", ">", "(", "Arrays", ".", "<", "Expression", "<", "?", ">", ">", "asList", "(", "attributes", ")", ")", ";", "resultReader", "=", "reader", ".", "newResultReader", "(", "attributes", ")", ";", "}", "SelectOperation", "<", "E", ">", "select", "=", "new", "SelectOperation", "<", ">", "(", "context", ",", "resultReader", ")", ";", "QueryElement", "<", "Result", "<", "E", ">", ">", "query", "=", "new", "QueryElement", "<", ">", "(", "SELECT", ",", "entityModel", ",", "select", ")", ";", "return", "query", ".", "select", "(", "selection", ")", ".", "from", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Selection", "<", "Result", "<", "E", ">", ">", "select", "(", "Class", "<", "E", ">", "type", ",", "Set", "<", "?", "extends", "QueryAttribute", "<", "E", ",", "?", ">", ">", "attributes", ")", "{", "QueryAttribute", "<", "?", ",", "?", ">", "[", "]", "array", "=", "attributes", ".", "toArray", "(", "new", "QueryAttribute", "[", "attributes", ".", "size", "(", ")", "]", ")", ";", "return", "select", "(", "type", ",", "array", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Insertion", "<", "Result", "<", "Tuple", ">", ">", "insert", "(", "Class", "<", "E", ">", "type", ")", "{", "checkClosed", "(", ")", ";", "Type", "<", "E", ">", "entityType", "=", "context", ".", "getModel", "(", ")", ".", "typeOf", "(", "type", ")", ";", "Set", "<", "Expression", "<", "?", ">", ">", "keySelection", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "entityType", ".", "getKeyAttributes", "(", ")", ")", "{", "keySelection", ".", "add", "(", "(", "Expression", "<", "?", ">", ")", "attribute", ")", ";", "}", "InsertReturningOperation", "operation", "=", "new", "InsertReturningOperation", "(", "context", ",", "keySelection", ")", ";", "return", "new", "QueryElement", "<", ">", "(", "INSERT", ",", "entityModel", ",", "operation", ")", ".", "from", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Update", "<", "Scalar", "<", "Integer", ">", ">", "update", "(", "Class", "<", "E", ">", "type", ")", "{", "checkClosed", "(", ")", ";", "return", "new", "QueryElement", "<", ">", "(", "UPDATE", ",", "entityModel", ",", "updateOperation", ")", ".", "from", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Deletion", "<", "Scalar", "<", "Integer", ">", ">", "delete", "(", "Class", "<", "E", ">", "type", ")", "{", "checkClosed", "(", ")", ";", "return", "new", "QueryElement", "<", ">", "(", "DELETE", ",", "entityModel", ",", "updateOperation", ")", ".", "from", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Selection", "<", "Scalar", "<", "Integer", ">", ">", "count", "(", "Class", "<", "E", ">", "type", ")", "{", "checkClosed", "(", ")", ";", "Objects", ".", "requireNotNull", "(", "type", ")", ";", "return", "new", "QueryElement", "<", ">", "(", "SELECT", ",", "entityModel", ",", "countOperation", ")", ".", "select", "(", "Count", ".", "count", "(", "type", ")", ")", ".", "from", "(", "type", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Selection", "<", "Scalar", "<", "Integer", ">", ">", "count", "(", "QueryAttribute", "<", "?", ",", "?", ">", ".", ".", ".", "attributes", ")", "{", "checkClosed", "(", ")", ";", "return", "new", "QueryElement", "<", ">", "(", "SELECT", ",", "entityModel", ",", "countOperation", ")", ".", "select", "(", "Count", ".", "count", "(", "attributes", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Result", "<", "Tuple", ">", "raw", "(", "final", "String", "query", ",", "final", "Object", ".", ".", ".", "parameters", ")", "{", "checkClosed", "(", ")", ";", "return", "new", "RawTupleQuery", "(", "context", ",", "query", ",", "parameters", ")", ".", "get", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", "extends", "T", ">", "Result", "<", "E", ">", "raw", "(", "Class", "<", "E", ">", "type", ",", "String", "query", ",", "Object", ".", ".", ".", "parameters", ")", "{", "checkClosed", "(", ")", ";", "return", "new", "RawEntityQuery", "<", ">", "(", "context", ",", "type", ",", "query", ",", "parameters", ")", ".", "get", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "V", "runInTransaction", "(", "Callable", "<", "V", ">", "callable", ",", "@", "Nullable", "TransactionIsolation", "isolation", ")", "{", "Objects", ".", "requireNotNull", "(", "callable", ")", ";", "checkClosed", "(", ")", ";", "Transaction", "transaction", "=", "transactionProvider", ".", "get", "(", ")", ";", "if", "(", "transaction", "=", "=", "null", ")", "{", "throw", "new", "TransactionException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "try", "{", "transaction", ".", "begin", "(", "isolation", ")", ";", "V", "result", "=", "callable", ".", "call", "(", ")", ";", "transaction", ".", "commit", "(", ")", ";", "return", "result", ";", "}", "catch", "(", "Exception", "e", ")", "{", "throw", "new", "RollbackException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "V", "runInTransaction", "(", "Callable", "<", "V", ">", "callable", ")", "{", "return", "runInTransaction", "(", "callable", ",", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BlockingEntityStore", "<", "T", ">", "toBlocking", "(", ")", "{", "return", "this", ";", "}", "</s>"]
["<s>", "protected", "synchronized", "void", "checkConnectionMetadata", "(", ")", "{", "if", "(", "!", "metadataChecked", ")", "{", "try", "(", "Connection", "connection", "=", "context", ".", "getConnection", "(", ")", ")", "{", "DatabaseMetaData", "metadata", "=", "connection", ".", "getMetaData", "(", ")", ";", "if", "(", "!", "metadata", ".", "supportsTransactions", "(", ")", ")", "{", "transactionMode", "=", "TransactionMode", ".", "NONE", ";", "}", "supportsBatchUpdates", "=", "metadata", ".", "supportsBatchUpdates", "(", ")", ";", "String", "quoteIdentifier", "=", "metadata", ".", "getIdentifierQuoteString", "(", ")", ";", "queryOptions", "=", "new", "QueryBuilder", ".", "Options", "(", "quoteIdentifier", ",", "true", ",", "configuration", ".", "getTableTransformer", "(", ")", ",", "configuration", ".", "getColumnTransformer", "(", ")", ",", "configuration", ".", "getQuoteTableNames", "(", ")", ",", "configuration", ".", "getQuoteColumnNames", "(", ")", ")", ";", "metadataChecked", "=", "true", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "}", "}", "</s>"]
["<s>", "protected", "void", "checkClosed", "(", ")", "{", "if", "(", "closed", ".", "get", "(", ")", ")", "{", "throw", "new", "PersistenceException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "</s>"]
["<s>", "protected", "EntityContext", "<", "T", ">", "context", "(", ")", "{", "return", "context", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "E", ">", "EntityProxy", "<", "E", ">", "proxyOf", "(", "E", "entity", ",", "boolean", "forUpdate", ")", "{", "checkClosed", "(", ")", ";", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "Type", "<", "E", ">", "type", "=", "(", "Type", "<", "E", ">", ")", "entityModel", ".", "typeOf", "(", "entity", ".", "getClass", "(", ")", ")", ";", "EntityProxy", "<", "E", ">", "proxy", "=", "type", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "entity", ")", ";", "if", "(", "forUpdate", "&", "&", "type", ".", "isReadOnly", "(", ")", ")", "{", "throw", "new", "ReadOnlyException", "(", ")", ";", "}", "if", "(", "forUpdate", ")", "{", "EntityTransaction", "transaction", "=", "transactionProvider", ".", "get", "(", ")", ";", "if", "(", "transaction", "!", "=", "null", "&", "&", "transaction", ".", "active", "(", ")", ")", "{", "transaction", ".", "addToTransaction", "(", "proxy", ")", ";", "}", "}", "return", "proxy", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "synchronized", "Connection", "getConnection", "(", ")", "throws", "SQLException", "{", "Connection", "connection", "=", "null", ";", "Transaction", "transaction", "=", "transactionProvider", ".", "get", "(", ")", ";", "if", "(", "transaction", "!", "=", "null", "&", "&", "transaction", ".", "active", "(", ")", ")", "{", "if", "(", "transaction", "instanceof", "ConnectionProvider", ")", "{", "ConnectionProvider", "connectionProvider", "=", "(", "ConnectionProvider", ")", "transaction", ";", "connection", "=", "connectionProvider", ".", "getConnection", "(", ")", ";", "}", "}", "if", "(", "connection", "=", "=", "null", ")", "{", "connection", "=", "connectionProvider", ".", "getConnection", "(", ")", ";", "if", "(", "statementCache", "!", "=", "null", ")", "{", "connection", "=", "new", "StatementCachingConnection", "(", "statementCache", ",", "connection", ")", ";", "}", "}", "if", "(", "platform", "=", "=", "null", ")", "{", "platform", "=", "new", "PlatformDelegate", "(", "connection", ")", ";", "}", "if", "(", "mapping", "=", "=", "null", ")", "{", "mapping", "=", "new", "GenericMapping", "(", "platform", ")", ";", "}", "return", "connection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "synchronized", "<", "E", "extends", "T", ">", "EntityReader", "<", "E", ",", "T", ">", "read", "(", "Class", "<", "?", "extends", "E", ">", "type", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "EntityReader", "<", "E", ",", "T", ">", "reader", "=", "(", "EntityReader", "<", "E", ",", "T", ">", ")", "readers", ".", "get", "(", "type", ")", ";", "if", "(", "reader", "=", "=", "null", ")", "{", "checkConnectionMetadata", "(", ")", ";", "reader", "=", "new", "EntityReader", "<", ">", "(", "entityModel", ".", "typeOf", "(", "type", ")", ",", "this", ",", "EntityDataStore", ".", "this", ")", ";", "readers", ".", "put", "(", "type", ",", "reader", ")", ";", "}", "return", "reader", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "synchronized", "<", "E", "extends", "T", ">", "EntityWriter", "<", "E", ",", "T", ">", "write", "(", "Class", "<", "?", "extends", "E", ">", "type", ")", "{", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "EntityWriter", "<", "E", ",", "T", ">", "writer", "=", "(", "EntityWriter", "<", "E", ",", "T", ">", ")", "writers", ".", "get", "(", "type", ")", ";", "if", "(", "writer", "=", "=", "null", ")", "{", "checkConnectionMetadata", "(", ")", ";", "writer", "=", "new", "EntityWriter", "<", ">", "(", "entityModel", ".", "typeOf", "(", "type", ")", ",", "this", ",", "EntityDataStore", ".", "this", ")", ";", "writers", ".", "put", "(", "type", ",", "writer", ")", ";", "}", "return", "writer", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CompositeEntityListener", "<", "T", ">", "getStateListener", "(", ")", "{", "return", "stateListeners", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsBatchUpdates", "(", ")", "{", "checkConnectionMetadata", "(", ")", ";", "return", "supportsBatchUpdates", "&", "&", "getBatchUpdateSize", "(", ")", ">", "0", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getBatchUpdateSize", "(", ")", "{", "return", "configuration", ".", "getBatchUpdateSize", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "QueryBuilder", ".", "Options", "getQueryBuilderOptions", "(", ")", "{", "checkConnectionMetadata", "(", ")", ";", "return", "queryOptions", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Mapping", "getMapping", "(", ")", "{", "return", "mapping", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "EntityModel", "getModel", "(", ")", "{", "return", "entityModel", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "EntityCache", "getCache", "(", ")", "{", "return", "entityCache", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Platform", "getPlatform", "(", ")", "{", "checkConnectionMetadata", "(", ")", ";", "return", "platform", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "StatementGenerator", "getStatementGenerator", "(", ")", "{", "if", "(", "statementGenerator", "=", "=", "null", ")", "{", "statementGenerator", "=", "StatementGenerator", ".", "create", "(", "getPlatform", "(", ")", ")", ";", "}", "return", "statementGenerator", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "StatementListener", "getStatementListener", "(", ")", "{", "return", "statementListeners", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "Supplier", "<", "TransactionListener", ">", ">", "getTransactionListenerFactories", "(", ")", "{", "return", "configuration", ".", "getTransactionListenerFactories", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "TransactionProvider", "getTransactionProvider", "(", ")", "{", "return", "transactionProvider", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "TransactionMode", "getTransactionMode", "(", ")", "{", "checkConnectionMetadata", "(", ")", ";", "return", "transactionMode", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "TransactionIsolation", "getTransactionIsolation", "(", ")", "{", "return", "configuration", ".", "getTransactionIsolation", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Executor", "getWriteExecutor", "(", ")", "{", "return", "configuration", ".", "getWriteExecutor", "(", ")", ";", "}", "</s>"]
["<s>", "Mapping", "getMapping", "(", ")", ";", "</s>"]
["<s>", "EntityModel", "getModel", "(", ")", ";", "</s>"]
["<s>", "EntityCache", "getCache", "(", ")", ";", "</s>"]
["<s>", "Platform", "getPlatform", "(", ")", ";", "</s>"]
["<s>", "StatementGenerator", "getStatementGenerator", "(", ")", ";", "</s>"]
["<s>", "boolean", "supportsBatchUpdates", "(", ")", ";", "</s>"]
["<s>", "int", "getBatchUpdateSize", "(", ")", ";", "</s>"]
["<s>", "StatementListener", "getStatementListener", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "Supplier", "<", "TransactionListener", ">", ">", "getTransactionListenerFactories", "(", ")", ";", "</s>"]
["<s>", "TransactionMode", "getTransactionMode", "(", ")", ";", "</s>"]
["<s>", "TransactionIsolation", "getTransactionIsolation", "(", ")", ";", "</s>"]
["<s>", "TransactionProvider", "getTransactionProvider", "(", ")", ";", "</s>"]
["<s>", "Executor", "getWriteExecutor", "(", ")", ";", "</s>"]
["<s>", "QueryBuilder", ".", "Options", "getQueryBuilderOptions", "(", ")", ";", "</s>"]
["<s>", "public", "SchemaModifier", "(", "DataSource", "dataSource", ",", "EntityModel", "model", ")", "{", "this", "(", "new", "ConfigurationBuilder", "(", "dataSource", ",", "model", ")", ".", "build", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "SchemaModifier", "(", "Configuration", "configuration", ")", "{", "this", ".", "configuration", "=", "configuration", ";", "this", ".", "connectionProvider", "=", "configuration", ".", "getConnectionProvider", "(", ")", ";", "this", ".", "platform", "=", "configuration", ".", "getPlatform", "(", ")", ";", "this", ".", "model", "=", "Objects", ".", "requireNotNull", "(", "configuration", ".", "getModel", "(", ")", ")", ";", "this", ".", "mapping", "=", "configuration", ".", "getMapping", "(", ")", ";", "this", ".", "statementListeners", "=", "new", "CompositeStatementListener", "(", "configuration", ".", "getStatementListeners", "(", ")", ")", ";", "if", "(", "configuration", ".", "getUseDefaultLogging", "(", ")", ")", "{", "statementListeners", ".", "add", "(", "new", "LoggingListener", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "synchronized", "Connection", "getConnection", "(", ")", "throws", "SQLException", "{", "Connection", "connection", "=", "connectionProvider", ".", "getConnection", "(", ")", ";", "if", "(", "platform", "=", "=", "null", ")", "{", "platform", "=", "new", "PlatformDelegate", "(", "connection", ")", ";", "}", "if", "(", "mapping", "=", "=", "null", ")", "{", "mapping", "=", "new", "GenericMapping", "(", "platform", ")", ";", "}", "return", "connection", ";", "}", "</s>"]
["<s>", "private", "QueryBuilder", "createQueryBuilder", "(", ")", "{", "if", "(", "queryOptions", "=", "=", "null", ")", "{", "try", "(", "Connection", "connection", "=", "getConnection", "(", ")", ")", "{", "String", "quoteIdentifier", "=", "connection", ".", "getMetaData", "(", ")", ".", "getIdentifierQuoteString", "(", ")", ";", "queryOptions", "=", "new", "QueryBuilder", ".", "Options", "(", "quoteIdentifier", ",", "true", ",", "configuration", ".", "getTableTransformer", "(", ")", ",", "configuration", ".", "getColumnTransformer", "(", ")", ",", "configuration", ".", "getQuoteTableNames", "(", ")", ",", "configuration", ".", "getQuoteColumnNames", "(", ")", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "}", "return", "new", "QueryBuilder", "(", "queryOptions", ")", ";", "}", "</s>"]
["<s>", "public", "void", "createTables", "(", "TableCreationMode", "mode", ")", "{", "ArrayList", "<", "Type", "<", "?", ">", ">", "sorted", "=", "sortTypes", "(", ")", ";", "try", "(", "Connection", "connection", "=", "getConnection", "(", ")", ";", "Statement", "statement", "=", "connection", ".", "createStatement", "(", ")", ")", "{", "connection", ".", "setAutoCommit", "(", "false", ")", ";", "if", "(", "mode", "=", "=", "TableCreationMode", ".", "DROP_CREATE", ")", "{", "executeDropStatements", "(", "statement", ")", ";", "}", "for", "(", "Type", "<", "?", ">", "type", ":", "sorted", ")", "{", "String", "sql", "=", "tableCreateStatement", "(", "type", ",", "mode", ")", ";", "statementListeners", ".", "beforeExecuteUpdate", "(", "statement", ",", "sql", ",", "null", ")", ";", "statement", ".", "execute", "(", "sql", ")", ";", "statementListeners", ".", "afterExecuteUpdate", "(", "statement", ")", ";", "}", "if", "(", "mode", "=", "=", "TableCreationMode", ".", "CREATE", "|", "|", "mode", "=", "=", "TableCreationMode", ".", "CREATE_NOT_EXISTS", ")", "{", "for", "(", "Type", "<", "?", ">", "type", ":", "sorted", ")", "{", "createIndexes", "(", "connection", ",", "mode", ",", "type", ")", ";", "}", "}", "connection", ".", "commit", "(", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "TableModificationException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "public", "String", "createTablesString", "(", "TableCreationMode", "mode", ")", "{", "ArrayList", "<", "Type", "<", "?", ">", ">", "sorted", "=", "sortTypes", "(", ")", ";", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", ")", ";", "for", "(", "Type", "<", "?", ">", "type", ":", "sorted", ")", "{", "String", "sql", "=", "tableCreateStatement", "(", "type", ",", "mode", ")", ";", "sb", ".", "append", "(", "sql", ")", ";", "sb", ".", "append", "(", "\"", "<STR_LIT:;>", "<STR_LIT>", "<STR_LIT>", "\"", ")", ";", "}", "return", "sb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "public", "void", "dropTables", "(", ")", "{", "try", "(", "Connection", "connection", "=", "getConnection", "(", ")", ";", "Statement", "statement", "=", "connection", ".", "createStatement", "(", ")", ")", "{", "executeDropStatements", "(", "statement", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "TableModificationException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "executeDropStatements", "(", "Statement", "statement", ")", "throws", "SQLException", "{", "ArrayList", "<", "Type", "<", "?", ">", ">", "reversed", "=", "sortTypes", "(", ")", ";", "Collections", ".", "reverse", "(", "reversed", ")", ";", "for", "(", "Type", "<", "?", ">", "type", ":", "reversed", ")", "{", "QueryBuilder", "qb", "=", "createQueryBuilder", "(", ")", ";", "qb", ".", "keyword", "(", "DROP", ",", "TABLE", ")", ";", "if", "(", "platform", ".", "supportsIfExists", "(", ")", ")", "{", "qb", ".", "keyword", "(", "IF", ",", "EXISTS", ")", ";", "}", "qb", ".", "tableName", "(", "type", ".", "getName", "(", ")", ")", ";", "try", "{", "String", "sql", "=", "qb", ".", "toString", "(", ")", ";", "statementListeners", ".", "beforeExecuteUpdate", "(", "statement", ",", "sql", ",", "null", ")", ";", "statement", ".", "execute", "(", "sql", ")", ";", "statementListeners", ".", "afterExecuteUpdate", "(", "statement", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "if", "(", "platform", ".", "supportsIfExists", "(", ")", ")", "{", "throw", "e", ";", "}", "}", "}", "}", "</s>"]
["<s>", "public", "<", "T", ">", "void", "addColumn", "(", "Attribute", "<", "T", ",", "?", ">", "attribute", ")", "{", "Type", "<", "T", ">", "type", "=", "attribute", ".", "getDeclaringType", "(", ")", ";", "QueryBuilder", "qb", "=", "createQueryBuilder", "(", ")", ";", "qb", ".", "keyword", "(", "ALTER", ",", "TABLE", ")", ".", "tableName", "(", "type", ".", "getName", "(", ")", ")", ";", "if", "(", "attribute", ".", "isForeignKey", "(", ")", ")", "{", "if", "(", "platform", ".", "supportsAddingConstraint", "(", ")", ")", "{", "qb", ".", "keyword", "(", "ADD", ",", "COLUMN", ")", ";", "createColumn", "(", "qb", ",", "attribute", ")", ";", "executeSql", "(", "qb", ")", ";", "qb", "=", "createQueryBuilder", "(", ")", ";", "qb", ".", "keyword", "(", "ALTER", ",", "TABLE", ")", ".", "tableName", "(", "type", ".", "getName", "(", ")", ")", ".", "keyword", "(", "ADD", ")", ";", "createForeignKeyColumn", "(", "qb", ",", "attribute", ",", "true", ")", ";", "}", "else", "{", "qb", "=", "createQueryBuilder", "(", ")", ";", "qb", ".", "keyword", "(", "ALTER", ",", "TABLE", ")", ".", "tableName", "(", "type", ".", "getName", "(", ")", ")", ".", "keyword", "(", "ADD", ")", ";", "createForeignKeyColumn", "(", "qb", ",", "attribute", ",", "false", ")", ";", "}", "}", "else", "{", "qb", ".", "keyword", "(", "ADD", ",", "COLUMN", ")", ";", "createColumn", "(", "qb", ",", "attribute", ")", ";", "executeSql", "(", "qb", ")", ";", "}", "}", "</s>"]
["<s>", "public", "<", "T", ">", "void", "dropColumn", "(", "Attribute", "<", "T", ",", "?", ">", "attribute", ")", "{", "Type", "<", "T", ">", "type", "=", "attribute", ".", "getDeclaringType", "(", ")", ";", "if", "(", "attribute", ".", "isForeignKey", "(", ")", ")", "{", "}", "QueryBuilder", "qb", "=", "createQueryBuilder", "(", ")", ";", "qb", ".", "keyword", "(", "ALTER", ",", "TABLE", ")", ".", "tableName", "(", "type", ".", "getName", "(", ")", ")", ".", "keyword", "(", "DROP", ",", "COLUMN", ")", ".", "attribute", "(", "attribute", ")", ";", "executeSql", "(", "qb", ")", ";", "}", "</s>"]
["<s>", "private", "void", "executeSql", "(", "QueryBuilder", "qb", ")", "{", "try", "(", "Connection", "connection", "=", "getConnection", "(", ")", ")", "{", "executeSql", "(", "connection", ",", "qb", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "executeSql", "(", "Connection", "connection", ",", "QueryBuilder", "qb", ")", "{", "try", "(", "Statement", "statement", "=", "connection", ".", "createStatement", "(", ")", ")", "{", "String", "sql", "=", "qb", ".", "toString", "(", ")", ";", "statementListeners", ".", "beforeExecuteUpdate", "(", "statement", ",", "sql", ",", "null", ")", ";", "statement", ".", "execute", "(", "sql", ")", ";", "statementListeners", ".", "afterExecuteUpdate", "(", "statement", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "private", "ArrayList", "<", "Type", "<", "?", ">", ">", "sortTypes", "(", ")", "{", "ArrayDeque", "<", "Type", "<", "?", ">", ">", "queue", "=", "new", "ArrayDeque", "<", ">", "(", "model", ".", "getTypes", "(", ")", ")", ";", "ArrayList", "<", "Type", "<", "?", ">", ">", "sorted", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "while", "(", "!", "queue", ".", "isEmpty", "(", ")", ")", "{", "Type", "<", "?", ">", "type", "=", "queue", ".", "poll", "(", ")", ";", "Set", "<", "Type", "<", "?", ">", ">", "referencing", "=", "referencedTypesOf", "(", "type", ")", ";", "for", "(", "Type", "<", "?", ">", "referenced", ":", "referencing", ")", "{", "Set", "<", "Type", "<", "?", ">", ">", "backReferences", "=", "referencedTypesOf", "(", "referenced", ")", ";", "if", "(", "backReferences", ".", "contains", "(", "type", ")", ")", "{", "throw", "new", "CircularReferenceException", "(", "\"", "<STR_LIT>", "\"", "+", "type", ".", "getName", "(", ")", "+", "\"", "<STR_LIT>", "\"", "+", "referenced", ".", "getName", "(", ")", ")", ";", "}", "}", "if", "(", "referencing", ".", "isEmpty", "(", ")", "|", "|", "sorted", ".", "containsAll", "(", "referencing", ")", ")", "{", "sorted", ".", "add", "(", "type", ")", ";", "queue", ".", "remove", "(", "type", ")", ";", "}", "else", "{", "queue", ".", "offer", "(", "type", ")", ";", "}", "}", "return", "sorted", ";", "}", "</s>"]
["<s>", "private", "Set", "<", "Type", "<", "?", ">", ">", "referencedTypesOf", "(", "Type", "<", "?", ">", "type", ")", "{", "Set", "<", "Type", "<", "?", ">", ">", "referencedTypes", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "Attribute", "<", "?", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "attribute", ".", "isForeignKey", "(", ")", ")", "{", "Class", "<", "?", ">", "referenced", "=", "attribute", ".", "getReferencedClass", "(", ")", "=", "=", "null", "?", "attribute", ".", "getClassType", "(", ")", ":", "attribute", ".", "getReferencedClass", "(", ")", ";", "if", "(", "referenced", "!", "=", "null", ")", "{", "for", "(", "Type", "<", "?", ">", "t", ":", "model", ".", "getTypes", "(", ")", ")", "{", "if", "(", "type", "!", "=", "t", "&", "&", "referenced", ".", "isAssignableFrom", "(", "t", ".", "getClassType", "(", ")", ")", ")", "{", "referencedTypes", ".", "add", "(", "t", ")", ";", "}", "}", "}", "}", "}", "return", "Collections", ".", "unmodifiableSet", "(", "referencedTypes", ")", ";", "}", "</s>"]
["<s>", "public", "<", "T", ">", "String", "tableCreateStatement", "(", "Type", "<", "T", ">", "type", ",", "TableCreationMode", "mode", ")", "{", "String", "tableName", "=", "type", ".", "getName", "(", ")", ";", "Set", "<", "Attribute", "<", "T", ",", "?", ">", ">", "attributes", "=", "type", ".", "getAttributes", "(", ")", ";", "QueryBuilder", "qb", "=", "createQueryBuilder", "(", ")", ";", "qb", ".", "keyword", "(", "CREATE", ",", "TABLE", ")", ";", "if", "(", "mode", "=", "=", "TableCreationMode", ".", "CREATE_NOT_EXISTS", ")", "{", "qb", ".", "keyword", "(", "IF", ",", "NOT", ",", "EXISTS", ")", ";", "}", "qb", ".", "tableName", "(", "tableName", ")", ";", "qb", ".", "openParenthesis", "(", ")", ";", "int", "index", "=", "0", ";", "Predicate", "<", "Attribute", ">", "filter", "=", "new", "Predicate", "<", "Attribute", ">", "(", ")", "{", "@", "Override", "public", "boolean", "test", "(", "Attribute", "value", ")", "{", "if", "(", "value", ".", "isVersion", "(", ")", "&", "&", "!", "platform", ".", "versionColumnDefinition", "(", ")", ".", "createColumn", "(", ")", ")", "{", "return", "false", ";", "}", "if", "(", "platform", ".", "supportsInlineForeignKeyReference", "(", ")", ")", "{", "return", "!", "value", ".", "isForeignKey", "(", ")", "&", "&", "!", "value", ".", "isAssociation", "(", ")", ";", "}", "else", "{", "return", "value", ".", "isForeignKey", "(", ")", "|", "|", "!", "value", ".", "isAssociation", "(", ")", ";", "}", "}", "}", ";", "for", "(", "Attribute", "attribute", ":", "attributes", ")", "{", "if", "(", "filter", ".", "test", "(", "attribute", ")", ")", "{", "if", "(", "index", ">", "0", ")", "{", "qb", ".", "comma", "(", ")", ";", "}", "createColumn", "(", "qb", ",", "attribute", ")", ";", "index", "+", "+", ";", "}", "}", "for", "(", "Attribute", "attribute", ":", "attributes", ")", "{", "if", "(", "attribute", ".", "isForeignKey", "(", ")", ")", "{", "if", "(", "index", ">", "0", ")", "{", "qb", ".", "comma", "(", ")", ";", "}", "createForeignKeyColumn", "(", "qb", ",", "attribute", ",", "true", ")", ";", "index", "+", "+", ";", "}", "}", "if", "(", "type", ".", "getKeyAttributes", "(", ")", ".", "size", "(", ")", ">", "1", ")", "{", "if", "(", "index", ">", "0", ")", "{", "qb", ".", "comma", "(", ")", ";", "}", "qb", ".", "keyword", "(", "PRIMARY", ",", "KEY", ")", ";", "qb", ".", "openParenthesis", "(", ")", ";", "qb", ".", "commaSeparated", "(", "type", ".", "getKeyAttributes", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Attribute", "<", "T", ",", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Attribute", "<", "T", ",", "?", ">", "value", ")", "{", "qb", ".", "attribute", "(", "value", ")", ";", "}", "}", ")", ";", "qb", ".", "closeParenthesis", "(", ")", ";", "}", "qb", ".", "closeParenthesis", "(", ")", ";", "return", "qb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "test", "(", "Attribute", "value", ")", "{", "if", "(", "value", ".", "isVersion", "(", ")", "&", "&", "!", "platform", ".", "versionColumnDefinition", "(", ")", ".", "createColumn", "(", ")", ")", "{", "return", "false", ";", "}", "if", "(", "platform", ".", "supportsInlineForeignKeyReference", "(", ")", ")", "{", "return", "!", "value", ".", "isForeignKey", "(", ")", "&", "&", "!", "value", ".", "isAssociation", "(", ")", ";", "}", "else", "{", "return", "value", ".", "isForeignKey", "(", ")", "|", "|", "!", "value", ".", "isAssociation", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Attribute", "<", "T", ",", "?", ">", "value", ")", "{", "qb", ".", "attribute", "(", "value", ")", ";", "}", "</s>"]
["<s>", "private", "void", "createForeignKeyColumn", "(", "QueryBuilder", "qb", ",", "Attribute", "<", "?", ",", "?", ">", "attribute", ",", "boolean", "forCreateStatement", ")", "{", "Type", "<", "?", ">", "referenced", "=", "model", ".", "typeOf", "(", "attribute", ".", "getReferencedClass", "(", ")", "!", "=", "null", "?", "attribute", ".", "getReferencedClass", "(", ")", ":", "attribute", ".", "getClassType", "(", ")", ")", ";", "final", "Attribute", "referencedAttribute", ";", "if", "(", "attribute", ".", "getReferencedAttribute", "(", ")", "!", "=", "null", ")", "{", "referencedAttribute", "=", "attribute", ".", "getReferencedAttribute", "(", ")", ".", "get", "(", ")", ";", "}", "else", "{", "referencedAttribute", "=", "referenced", ".", "getKeyAttributes", "(", ")", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "}", "if", "(", "!", "platform", ".", "supportsInlineForeignKeyReference", "(", ")", "&", "&", "forCreateStatement", ")", "{", "qb", ".", "keyword", "(", "FOREIGN", ",", "KEY", ")", ".", "openParenthesis", "(", ")", ".", "attribute", "(", "attribute", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "}", "else", "{", "qb", ".", "attribute", "(", "attribute", ")", ";", "FieldType", "fieldType", "=", "null", ";", "if", "(", "referencedAttribute", "!", "=", "null", ")", "{", "fieldType", "=", "mapping", ".", "mapAttribute", "(", "referencedAttribute", ")", ";", "}", "if", "(", "fieldType", "=", "=", "null", ")", "{", "fieldType", "=", "new", "IntegerType", "(", "int", ".", "class", ")", ";", "}", "qb", ".", "value", "(", "fieldType", ".", "getIdentifier", "(", ")", ")", ";", "}", "qb", ".", "keyword", "(", "REFERENCES", ")", ";", "qb", ".", "tableName", "(", "referenced", ".", "getName", "(", ")", ")", ";", "if", "(", "referencedAttribute", "!", "=", "null", ")", "{", "qb", ".", "openParenthesis", "(", ")", ".", "attribute", "(", "referencedAttribute", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "}", "if", "(", "attribute", ".", "getDeleteAction", "(", ")", "!", "=", "null", ")", "{", "qb", ".", "keyword", "(", "ON", ",", "DELETE", ")", ";", "appendReferentialAction", "(", "qb", ",", "attribute", ".", "getDeleteAction", "(", ")", ")", ";", "}", "if", "(", "referencedAttribute", "!", "=", "null", "&", "&", "!", "referencedAttribute", ".", "isGenerated", "(", ")", "&", "&", "attribute", ".", "getUpdateAction", "(", ")", "!", "=", "null", ")", "{", "qb", ".", "keyword", "(", "ON", ",", "UPDATE", ")", ";", "appendReferentialAction", "(", "qb", ",", "attribute", ".", "getUpdateAction", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "appendReferentialAction", "(", "QueryBuilder", "qb", ",", "ReferentialAction", "action", ")", "{", "switch", "(", "action", ")", "{", "case", "CASCADE", ":", "qb", ".", "keyword", "(", "CASCADE", ")", ";", "break", ";", "case", "NO_ACTION", ":", "qb", ".", "keyword", "(", "NO", ",", "ACTION", ")", ";", "break", ";", "case", "RESTRICT", ":", "qb", ".", "keyword", "(", "RESTRICT", ")", ";", "break", ";", "case", "SET_DEFAULT", ":", "qb", ".", "keyword", "(", "SET", ",", "DEFAULT", ")", ";", "break", ";", "case", "SET_NULL", ":", "qb", ".", "keyword", "(", "SET", ",", "NULL", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "private", "void", "createColumn", "(", "QueryBuilder", "qb", ",", "Attribute", "<", "?", ",", "?", ">", "attribute", ")", "{", "qb", ".", "attribute", "(", "attribute", ")", ";", "FieldType", "fieldType", "=", "mapping", ".", "mapAttribute", "(", "attribute", ")", ";", "GeneratedColumnDefinition", "generatedColumnDefinition", "=", "platform", ".", "generatedColumnDefinition", "(", ")", ";", "if", "(", "!", "(", "attribute", ".", "isGenerated", "(", ")", "&", "&", "generatedColumnDefinition", ".", "skipTypeIdentifier", "(", ")", ")", ")", "{", "Object", "identifier", "=", "fieldType", ".", "getIdentifier", "(", ")", ";", "Converter", "converter", "=", "attribute", ".", "getConverter", "(", ")", ";", "if", "(", "converter", "=", "=", "null", "&", "&", "mapping", "instanceof", "GenericMapping", ")", "{", "GenericMapping", "genericMapping", "=", "(", "GenericMapping", ")", "mapping", ";", "converter", "=", "genericMapping", ".", "converterForType", "(", "attribute", ".", "getClassType", "(", ")", ")", ";", "}", "if", "(", "fieldType", ".", "hasLength", "(", ")", "|", "|", "(", "converter", "!", "=", "null", "&", "&", "converter", ".", "getPersistedSize", "(", ")", "!", "=", "null", ")", ")", "{", "Integer", "length", "=", "attribute", ".", "getLength", "(", ")", ";", "if", "(", "length", "=", "=", "null", "&", "&", "converter", "!", "=", "null", ")", "{", "length", "=", "converter", ".", "getPersistedSize", "(", ")", ";", "}", "if", "(", "length", "=", "=", "null", ")", "{", "length", "=", "fieldType", ".", "getDefaultLength", "(", ")", ";", "}", "if", "(", "length", "=", "=", "null", ")", "{", "length", "=", "<NUM_LIT:255>", ";", "}", "qb", ".", "append", "(", "identifier", ")", ".", "openParenthesis", "(", ")", ".", "append", "(", "length", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "}", "else", "{", "qb", ".", "append", "(", "identifier", ")", ".", "space", "(", ")", ";", "}", "}", "String", "suffix", "=", "fieldType", ".", "getIdentifierSuffix", "(", ")", ";", "if", "(", "suffix", "!", "=", "null", ")", "{", "qb", ".", "append", "(", "suffix", ")", ".", "space", "(", ")", ";", "}", "if", "(", "attribute", ".", "isKey", "(", ")", "&", "&", "!", "attribute", ".", "isForeignKey", "(", ")", ")", "{", "if", "(", "attribute", ".", "isGenerated", "(", ")", "&", "&", "!", "generatedColumnDefinition", ".", "postFixPrimaryKey", "(", ")", ")", "{", "generatedColumnDefinition", ".", "appendGeneratedSequence", "(", "qb", ",", "attribute", ")", ";", "qb", ".", "space", "(", ")", ";", "}", "if", "(", "attribute", ".", "getDeclaringType", "(", ")", ".", "getKeyAttributes", "(", ")", ".", "size", "(", ")", "=", "=", "1", ")", "{", "qb", ".", "keyword", "(", "PRIMARY", ",", "KEY", ")", ";", "}", "if", "(", "attribute", ".", "isGenerated", "(", ")", "&", "&", "generatedColumnDefinition", ".", "postFixPrimaryKey", "(", ")", ")", "{", "generatedColumnDefinition", ".", "appendGeneratedSequence", "(", "qb", ",", "attribute", ")", ";", "qb", ".", "space", "(", ")", ";", "}", "}", "else", "if", "(", "attribute", ".", "isGenerated", "(", ")", ")", "{", "generatedColumnDefinition", ".", "appendGeneratedSequence", "(", "qb", ",", "attribute", ")", ";", "qb", ".", "space", "(", ")", ";", "}", "if", "(", "attribute", ".", "getCollate", "(", ")", "!", "=", "null", "&", "&", "attribute", ".", "getCollate", "(", ")", ".", "length", "(", ")", ">", "0", ")", "{", "qb", ".", "keyword", "(", "COLLATE", ")", ";", "qb", ".", "append", "(", "attribute", ".", "getCollate", "(", ")", ")", ";", "qb", ".", "space", "(", ")", ";", "}", "if", "(", "attribute", ".", "getDefaultValue", "(", ")", "!", "=", "null", "&", "&", "attribute", ".", "getDefaultValue", "(", ")", ".", "length", "(", ")", ">", "0", ")", "{", "qb", ".", "keyword", "(", "DEFAULT", ")", ";", "qb", ".", "append", "(", "attribute", ".", "getDefaultValue", "(", ")", ")", ";", "qb", ".", "space", "(", ")", ";", "}", "if", "(", "!", "attribute", ".", "isNullable", "(", ")", ")", "{", "qb", ".", "keyword", "(", "NOT", ",", "NULL", ")", ";", "}", "if", "(", "attribute", ".", "isUnique", "(", ")", ")", "{", "qb", ".", "keyword", "(", "UNIQUE", ")", ";", "}", "}", "</s>"]
["<s>", "private", "<", "T", ">", "void", "createIndexes", "(", "Connection", "connection", ",", "TableCreationMode", "mode", ",", "Type", "<", "T", ">", "type", ")", "{", "Set", "<", "Attribute", "<", "T", ",", "?", ">", ">", "attributes", "=", "type", ".", "getAttributes", "(", ")", ";", "Map", "<", "String", ",", "Set", "<", "Attribute", "<", "?", ",", "?", ">", ">", ">", "indexes", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "for", "(", "Attribute", "<", "T", ",", "?", ">", "attribute", ":", "attributes", ")", "{", "if", "(", "attribute", ".", "isIndexed", "(", ")", ")", "{", "Set", "<", "String", ">", "names", "=", "new", "LinkedHashSet", "<", ">", "(", "attribute", ".", "getIndexNames", "(", ")", ")", ";", "if", "(", "names", ".", "isEmpty", "(", ")", ")", "{", "String", "indexName", "=", "attribute", ".", "getName", "(", ")", "+", "\"", "<STR_LIT>", "\"", ";", "names", ".", "add", "(", "indexName", ")", ";", "}", "for", "(", "String", "indexName", ":", "names", ")", "{", "Set", "<", "Attribute", "<", "?", ",", "?", ">", ">", "indexColumns", "=", "indexes", ".", "get", "(", "indexName", ")", ";", "if", "(", "indexColumns", "=", "=", "null", ")", "{", "indexes", ".", "put", "(", "indexName", ",", "indexColumns", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ")", ";", "}", "indexColumns", ".", "add", "(", "attribute", ")", ";", "}", "}", "}", "for", "(", "Map", ".", "Entry", "<", "String", ",", "Set", "<", "Attribute", "<", "?", ",", "?", ">", ">", ">", "entry", ":", "indexes", ".", "entrySet", "(", ")", ")", "{", "QueryBuilder", "qb", "=", "createQueryBuilder", "(", ")", ";", "createIndex", "(", "qb", ",", "entry", ".", "getKey", "(", ")", ",", "entry", ".", "getValue", "(", ")", ",", "type", ",", "mode", ")", ";", "executeSql", "(", "connection", ",", "qb", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "createIndex", "(", "QueryBuilder", "qb", ",", "String", "indexName", ",", "Set", "<", "Attribute", "<", "?", ",", "?", ">", ">", "attributes", ",", "Type", "<", "?", ">", "type", ",", "TableCreationMode", "mode", ")", "{", "qb", ".", "keyword", "(", "CREATE", ")", ";", "if", "(", "attributes", ".", "size", "(", ")", "=", "=", "1", "&", "&", "attributes", ".", "iterator", "(", ")", ".", "next", "(", ")", ".", "isUnique", "(", ")", ")", "{", "qb", ".", "keyword", "(", "UNIQUE", ")", ";", "}", "qb", ".", "keyword", "(", "INDEX", ")", ";", "if", "(", "mode", "=", "=", "TableCreationMode", ".", "CREATE_NOT_EXISTS", ")", "{", "qb", ".", "keyword", "(", "IF", ",", "NOT", ",", "EXISTS", ")", ";", "}", "qb", ".", "append", "(", "indexName", ")", ".", "space", "(", ")", ".", "keyword", "(", "ON", ")", ".", "tableName", "(", "type", ".", "getName", "(", ")", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparated", "(", "attributes", ",", "new", "QueryBuilder", ".", "Appender", "<", "Attribute", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Attribute", "value", ")", "{", "qb", ".", "attribute", "(", "value", ")", ";", "}", "}", ")", ".", "closeParenthesis", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Attribute", "value", ")", "{", "qb", ".", "attribute", "(", "value", ")", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "(", "ConnectionProvider", "connectionProvider", ",", "EntityModel", "model", ")", "{", "this", ".", "connectionProvider", "=", "Objects", ".", "requireNotNull", "(", "connectionProvider", ")", ";", "this", ".", "model", "=", "Objects", ".", "requireNotNull", "(", "model", ")", ";", "this", ".", "statementListeners", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "this", ".", "entityStateListeners", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "this", ".", "transactionListenerFactory", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "setQuoteTableNames", "(", "false", ")", ";", "setQuoteColumnNames", "(", "false", ")", ";", "setEntityCache", "(", "new", "WeakEntityCache", "(", ")", ")", ";", "setStatementCacheSize", "(", "0", ")", ";", "setBatchUpdateSize", "(", "<NUM_LIT>", ")", ";", "setTransactionMode", "(", "TransactionMode", ".", "AUTO", ")", ";", "setTransactionIsolation", "(", "null", ")", ";", "setTableTransformer", "(", "null", ")", ";", "setColumnTransformer", "(", "null", ")", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "(", "CommonDataSource", "dataSource", ",", "EntityModel", "model", ")", "{", "this", "(", "createConnectionProvider", "(", "dataSource", ")", ",", "model", ")", ";", "}", "</s>"]
["<s>", "private", "static", "ConnectionProvider", "createConnectionProvider", "(", "CommonDataSource", "dataSource", ")", "{", "if", "(", "dataSource", "instanceof", "DataSource", ")", "{", "return", "new", "DataSourceConnectionProvider", "(", "(", "DataSource", ")", "dataSource", ")", ";", "}", "else", "if", "(", "dataSource", "instanceof", "ConnectionPoolDataSource", ")", "{", "return", "new", "PooledConnectionProvider", "(", "(", "ConnectionPoolDataSource", ")", "dataSource", ")", ";", "}", "else", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "dataSource", ")", ";", "}", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "setMapping", "(", "Mapping", "mapping", ")", "{", "this", ".", "mapping", "=", "mapping", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "setPlatform", "(", "Platform", "platform", ")", "{", "this", ".", "platform", "=", "platform", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "setEntityCache", "(", "EntityCache", "cache", ")", "{", "this", ".", "cache", "=", "cache", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "setStatementCacheSize", "(", "int", "size", ")", "{", "if", "(", "size", "<", "0", ")", "{", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "this", ".", "statementCacheSize", "=", "size", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "setBatchUpdateSize", "(", "int", "size", ")", "{", "if", "(", "size", "<", "0", ")", "{", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "this", ".", "batchUpdateSize", "=", "size", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "setQuoteTableNames", "(", "boolean", "quote", ")", "{", "this", ".", "quoteTableNames", "=", "quote", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "setTableTransformer", "(", "Function", "<", "String", ",", "String", ">", "function", ")", "{", "this", ".", "tableTransformer", "=", "function", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "setColumnTransformer", "(", "Function", "<", "String", ",", "String", ">", "function", ")", "{", "this", ".", "columnTransformer", "=", "function", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "setQuoteColumnNames", "(", "boolean", "quote", ")", "{", "this", ".", "quoteColumnNames", "=", "quote", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "setWriteExecutor", "(", "Executor", "writeExecutor", ")", "{", "this", ".", "writeExecutor", "=", "writeExecutor", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "addStatementListener", "(", "StatementListener", "listener", ")", "{", "this", ".", "statementListeners", ".", "add", "(", "Objects", ".", "requireNotNull", "(", "listener", ")", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "addTransactionListenerFactory", "(", "Supplier", "<", "TransactionListener", ">", "supplier", ")", "{", "this", ".", "transactionListenerFactory", ".", "add", "(", "Objects", ".", "requireNotNull", "(", "supplier", ")", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "useDefaultLogging", "(", ")", "{", "this", ".", "useDefaultLogging", "=", "true", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "addEntityStateListener", "(", "EntityStateListener", "listener", ")", "{", "this", ".", "entityStateListeners", ".", "add", "(", "Objects", ".", "requireNotNull", "(", "listener", ")", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "setTransactionIsolation", "(", "TransactionIsolation", "isolation", ")", "{", "this", ".", "transactionIsolation", "=", "isolation", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "ConfigurationBuilder", "setTransactionMode", "(", "TransactionMode", "mode", ")", "{", "this", ".", "transactionMode", "=", "mode", ";", "return", "this", ";", "}", "</s>"]
["<s>", "public", "Configuration", "build", "(", ")", "{", "return", "new", "ImmutableConfiguration", "(", "connectionProvider", ",", "platform", ",", "model", ",", "cache", ",", "mapping", ",", "useDefaultLogging", ",", "statementCacheSize", ",", "batchUpdateSize", ",", "quoteTableNames", ",", "quoteColumnNames", ",", "tableTransformer", ",", "columnTransformer", ",", "entityStateListeners", ",", "statementListeners", ",", "transactionMode", ",", "transactionIsolation", ",", "transactionListenerFactory", ",", "writeExecutor", ")", ";", "}", "</s>"]
["<s>", "ManagedTransaction", "(", "TransactionListener", "transactionListener", ",", "ConnectionProvider", "connectionProvider", ",", "EntityCache", "cache", ")", "{", "this", ".", "transactionListener", "=", "Objects", ".", "requireNotNull", "(", "transactionListener", ")", ";", "this", ".", "connectionProvider", "=", "Objects", ".", "requireNotNull", "(", "connectionProvider", ")", ";", "this", ".", "entities", "=", "new", "TransactionEntitiesSet", "(", "cache", ")", ";", "}", "</s>"]
["<s>", "private", "TransactionSynchronizationRegistry", "getSynchronizationRegistry", "(", ")", "{", "if", "(", "registry", "=", "=", "null", ")", "{", "try", "{", "registry", "=", "InitialContext", ".", "doLookup", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "catch", "(", "NamingException", "e", ")", "{", "throw", "new", "TransactionException", "(", "e", ")", ";", "}", "}", "return", "registry", ";", "}", "</s>"]
["<s>", "private", "UserTransaction", "getUserTransaction", "(", ")", "{", "if", "(", "userTransaction", "=", "=", "null", ")", "{", "try", "{", "userTransaction", "=", "InitialContext", ".", "doLookup", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "catch", "(", "NamingException", "e", ")", "{", "throw", "new", "TransactionException", "(", "e", ")", ";", "}", "}", "return", "userTransaction", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Connection", "getConnection", "(", ")", "{", "return", "uncloseableConnection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Transaction", "begin", "(", ")", "{", "if", "(", "active", "(", ")", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "transactionListener", ".", "beforeBegin", "(", "null", ")", ";", "int", "status", "=", "getSynchronizationRegistry", "(", ")", ".", "getTransactionStatus", "(", ")", ";", "if", "(", "status", "=", "=", "Status", ".", "STATUS_NO_TRANSACTION", ")", "{", "try", "{", "getUserTransaction", "(", ")", ".", "begin", "(", ")", ";", "initiatedTransaction", "=", "true", ";", "}", "catch", "(", "NotSupportedException", "|", "SystemException", "e", ")", "{", "throw", "new", "TransactionException", "(", "e", ")", ";", "}", "}", "getSynchronizationRegistry", "(", ")", ".", "registerInterposedSynchronization", "(", "this", ")", ";", "try", "{", "connection", "=", "connectionProvider", ".", "getConnection", "(", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "TransactionException", "(", "e", ")", ";", "}", "uncloseableConnection", "=", "new", "UncloseableConnection", "(", "connection", ")", ";", "committed", "=", "false", ";", "rolledBack", "=", "false", ";", "entities", ".", "clear", "(", ")", ";", "transactionListener", ".", "afterBegin", "(", "null", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Transaction", "begin", "(", "TransactionIsolation", "isolation", ")", "{", "if", "(", "isolation", "!", "=", "null", ")", "{", "throw", "new", "TransactionException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "else", "{", "return", "begin", "(", "null", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "if", "(", "connection", "!", "=", "null", ")", "{", "if", "(", "!", "committed", "&", "&", "!", "rolledBack", ")", "{", "rollback", "(", ")", ";", "}", "try", "{", "connection", ".", "close", "(", ")", ";", "}", "catch", "(", "SQLException", "ignored", ")", "{", "}", "finally", "{", "connection", "=", "null", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "commit", "(", ")", "{", "if", "(", "initiatedTransaction", ")", "{", "try", "{", "transactionListener", ".", "beforeCommit", "(", "entities", ".", "types", "(", ")", ")", ";", "getUserTransaction", "(", ")", ".", "commit", "(", ")", ";", "transactionListener", ".", "afterCommit", "(", "entities", ".", "types", "(", ")", ")", ";", "}", "catch", "(", "RollbackException", "|", "SystemException", "|", "HeuristicMixedException", "|", "HeuristicRollbackException", "e", ")", "{", "throw", "new", "TransactionException", "(", "e", ")", ";", "}", "}", "try", "{", "entities", ".", "clear", "(", ")", ";", "}", "finally", "{", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "rollback", "(", ")", "{", "if", "(", "!", "rolledBack", ")", "{", "try", "{", "if", "(", "!", "completed", ")", "{", "transactionListener", ".", "beforeRollback", "(", "entities", ".", "types", "(", ")", ")", ";", "if", "(", "initiatedTransaction", ")", "{", "try", "{", "getUserTransaction", "(", ")", ".", "rollback", "(", ")", ";", "}", "catch", "(", "SystemException", "e", ")", "{", "throw", "new", "TransactionException", "(", "e", ")", ";", "}", "}", "else", "if", "(", "active", "(", ")", ")", "{", "getSynchronizationRegistry", "(", ")", ".", "setRollbackOnly", "(", ")", ";", "}", "transactionListener", ".", "afterRollback", "(", "entities", ".", "types", "(", ")", ")", ";", "}", "}", "finally", "{", "rolledBack", "=", "true", ";", "entities", ".", "clearAndInvalidate", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "active", "(", ")", "{", "TransactionSynchronizationRegistry", "registry", "=", "getSynchronizationRegistry", "(", ")", ";", "return", "registry", "!", "=", "null", "&", "&", "registry", ".", "getTransactionStatus", "(", ")", "=", "=", "Status", ".", "STATUS_ACTIVE", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeCompletion", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterCompletion", "(", "int", "status", ")", "{", "switch", "(", "status", ")", "{", "case", "Status", ".", "STATUS_ROLLEDBACK", ":", "case", "Status", ".", "STATUS_MARKED_ROLLBACK", ":", "case", "Status", ".", "STATUS_ROLLING_BACK", ":", "rollback", "(", ")", ";", "close", "(", ")", ";", "break", ";", "}", "completed", "=", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addToTransaction", "(", "EntityProxy", "<", "?", ">", "proxy", ")", "{", "entities", ".", "add", "(", "proxy", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addToTransaction", "(", "Collection", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "entities", ".", "types", "(", ")", ".", "addAll", "(", "types", ")", ";", "}", "</s>"]
["<s>", "void", "read", "(", "int", "index", ",", "ResultSet", "results", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "String", "[", "]", "generatedColumns", "(", ")", ";", "</s>"]
["<s>", "CachedStatement", "(", "PreparedStatementCache", "cache", ",", "String", "sql", ",", "PreparedStatement", "statement", ")", "{", "super", "(", "statement", ")", ";", "this", ".", "cache", "=", "cache", ";", "this", ".", "sql", "=", "sql", ";", "this", ".", "statement", "=", "statement", ";", "}", "</s>"]
["<s>", "void", "closeDelegate", "(", ")", "throws", "SQLException", "{", "statement", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "SQLException", "{", "cache", ".", "put", "(", "sql", ",", "this", ")", ";", "}", "</s>"]
["<s>", "PreparedStatementCache", "(", "final", "int", "count", ")", "{", "elements", "=", "new", "LinkedHashMap", "<", "String", ",", "PreparedStatement", ">", "(", "count", ",", "<NUM_LIT>", ",", "true", ")", "{", "@", "Override", "protected", "boolean", "removeEldestEntry", "(", "Map", ".", "Entry", "eldest", ")", "{", "synchronized", "(", "elements", ")", "{", "if", "(", "elements", ".", "size", "(", ")", ">", "count", ")", "{", "PreparedStatement", "statement", "=", "(", "PreparedStatement", ")", "eldest", ".", "getValue", "(", ")", ";", "closeStatement", "(", "statement", ")", ";", "return", "true", ";", "}", "}", "return", "false", ";", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "boolean", "removeEldestEntry", "(", "Map", ".", "Entry", "eldest", ")", "{", "synchronized", "(", "elements", ")", "{", "if", "(", "elements", ".", "size", "(", ")", ">", "count", ")", "{", "PreparedStatement", "statement", "=", "(", "PreparedStatement", ")", "eldest", ".", "getValue", "(", ")", ";", "closeStatement", "(", "statement", ")", ";", "return", "true", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "public", "PreparedStatement", "get", "(", "String", "sql", ")", "throws", "SQLException", "{", "synchronized", "(", "elements", ")", "{", "if", "(", "closed", ")", "{", "return", "null", ";", "}", "PreparedStatement", "statement", "=", "elements", ".", "remove", "(", "sql", ")", ";", "if", "(", "statement", "!", "=", "null", "&", "&", "statement", ".", "isClosed", "(", ")", ")", "{", "return", "null", ";", "}", "return", "statement", ";", "}", "}", "</s>"]
["<s>", "public", "PreparedStatement", "put", "(", "String", "sql", ",", "PreparedStatement", "statement", ")", "{", "if", "(", "!", "(", "statement", "instanceof", "CachedStatement", ")", ")", "{", "statement", "=", "new", "CachedStatement", "(", "this", ",", "sql", ",", "statement", ")", ";", "}", "synchronized", "(", "elements", ")", "{", "if", "(", "closed", ")", "{", "return", "null", ";", "}", "elements", ".", "put", "(", "sql", ",", "statement", ")", ";", "}", "return", "statement", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "synchronized", "(", "elements", ")", "{", "if", "(", "closed", ")", "{", "return", ";", "}", "closed", "=", "true", ";", "for", "(", "PreparedStatement", "statement", ":", "elements", ".", "values", "(", ")", ")", "{", "closeStatement", "(", "statement", ")", ";", "}", "elements", ".", "clear", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "closeStatement", "(", "PreparedStatement", "statement", ")", "{", "try", "{", "if", "(", "!", "statement", ".", "isClosed", "(", ")", ")", "{", "if", "(", "statement", "instanceof", "CachedStatement", ")", "{", "CachedStatement", "delegate", "=", "(", "CachedStatement", ")", "statement", ";", "delegate", ".", "closeDelegate", "(", ")", ";", "}", "}", "}", "catch", "(", "SQLException", "ignored", ")", "{", "ignored", ".", "printStackTrace", "(", ")", ";", "}", "}", "</s>"]
["<s>", "RawTupleQuery", "(", "RuntimeConfiguration", "configuration", ",", "String", "sql", ",", "Object", "[", "]", "parameters", ")", "{", "super", "(", "configuration", ",", "null", ")", ";", "ParameterInliner", "inlined", "=", "new", "ParameterInliner", "(", "sql", ",", "parameters", ")", ".", "apply", "(", ")", ";", "this", ".", "sql", "=", "inlined", ".", "sql", "(", ")", ";", "queryType", "=", "queryTypeOf", "(", "sql", ")", ";", "boundParameters", "=", "new", "BoundParameters", "(", "inlined", ".", "parameters", "(", ")", ")", ";", "}", "</s>"]
["<s>", "private", "static", "QueryType", "queryTypeOf", "(", "String", "sql", ")", "{", "int", "end", "=", "sql", ".", "indexOf", "(", "\"", "\"", ")", ";", "if", "(", "end", "<", "0", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"", "<STR_LIT>", "\"", "+", "sql", ")", ";", "}", "String", "keyword", "=", "sql", ".", "substring", "(", "0", ",", "end", ")", ".", "trim", "(", ")", ".", "toUpperCase", "(", "Locale", ".", "ROOT", ")", ";", "try", "{", "return", "QueryType", ".", "valueOf", "(", "keyword", ")", ";", "}", "catch", "(", "IllegalArgumentException", "e", ")", "{", "return", "QueryType", ".", "SELECT", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Result", "<", "Tuple", ">", "get", "(", ")", "{", "try", "{", "Connection", "connection", "=", "configuration", ".", "getConnection", "(", ")", ";", "PreparedStatement", "statement", "=", "prepare", "(", "sql", ",", "connection", ")", ";", "mapParameters", "(", "statement", ",", "boundParameters", ")", ";", "switch", "(", "queryType", ")", "{", "case", "SELECT", ":", "default", ":", "return", "new", "TupleResult", "(", "statement", ")", ";", "case", "INSERT", ":", "case", "UPDATE", ":", "case", "UPSERT", ":", "case", "DELETE", ":", "case", "TRUNCATE", ":", "case", "MERGE", ":", "StatementListener", "listener", "=", "configuration", ".", "getStatementListener", "(", ")", ";", "listener", ".", "beforeExecuteUpdate", "(", "statement", ",", "sql", ",", "boundParameters", ")", ";", "int", "count", "=", "statement", ".", "executeUpdate", "(", ")", ";", "listener", ".", "afterExecuteUpdate", "(", "statement", ")", ";", "MutableTuple", "tuple", "=", "new", "MutableTuple", "(", "1", ")", ";", "tuple", ".", "set", "(", "0", ",", "NamedExpression", ".", "ofInteger", "(", "\"", "<STR_LIT>", "\"", ")", ",", "count", ")", ";", "try", "{", "statement", ".", "close", "(", ")", ";", "}", "finally", "{", "try", "{", "connection", ".", "close", "(", ")", ";", "}", "catch", "(", "Exception", "ignored", ")", "{", "}", "}", "return", "new", "SingleResult", "<", "Tuple", ">", "(", "tuple", ")", ";", "}", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "StatementExecutionException", "(", "e", ",", "sql", ")", ";", "}", "}", "</s>"]
["<s>", "private", "TupleResult", "(", "PreparedStatement", "statement", ")", "{", "this", ".", "statement", "=", "statement", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Tuple", "read", "(", "ResultSet", "results", ",", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "selection", ")", "throws", "SQLException", "{", "Mapping", "mapping", "=", "configuration", ".", "getMapping", "(", ")", ";", "MutableTuple", "tuple", "=", "new", "MutableTuple", "(", "expressions", ".", "length", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "tuple", ".", "count", "(", ")", ";", "i", "+", "+", ")", "{", "Object", "value", "=", "mapping", ".", "read", "(", "expressions", "[", "i", "]", ",", "results", ",", "i", "+", "1", ")", ";", "tuple", ".", "set", "(", "i", ",", "expressions", "[", "i", "]", ",", "value", ")", ";", "}", "return", "tuple", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CloseableIterator", "<", "Tuple", ">", "iterator", "(", "int", "skip", ",", "int", "take", ")", "{", "try", "{", "StatementListener", "listener", "=", "configuration", ".", "getStatementListener", "(", ")", ";", "listener", ".", "beforeExecuteQuery", "(", "statement", ",", "sql", ",", "boundParameters", ")", ";", "ResultSet", "results", "=", "statement", ".", "executeQuery", "(", ")", ";", "listener", ".", "afterExecuteQuery", "(", "statement", ")", ";", "ResultSetMetaData", "metadata", "=", "results", ".", "getMetaData", "(", ")", ";", "int", "columns", "=", "metadata", ".", "getColumnCount", "(", ")", ";", "expressions", "=", "new", "Expression", "[", "columns", "]", ";", "Mapping", "mapping", "=", "configuration", ".", "getMapping", "(", ")", ";", "CloseableIterator", "<", "Tuple", ">", "iterator", "=", "new", "ResultSetIterator", "<", ">", "(", "this", ",", "results", ",", "null", ",", "true", ",", "true", ")", ";", "if", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "columns", ";", "i", "+", "+", ")", "{", "String", "name", "=", "metadata", ".", "getColumnName", "(", "i", "+", "1", ")", ";", "int", "sqlType", "=", "metadata", ".", "getColumnType", "(", "i", "+", "1", ")", ";", "Class", "type", "=", "mapping", ".", "typeOf", "(", "sqlType", ")", ";", "expressions", "[", "i", "]", "=", "NamedExpression", ".", "of", "(", "name", ",", "type", ")", ";", "}", "}", "return", "iterator", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "SelectOperation", "(", "RuntimeConfiguration", "configuration", ",", "ResultReader", "<", "E", ">", "reader", ")", "{", "this", ".", "configuration", "=", "configuration", ";", "this", ".", "reader", "=", "reader", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Result", "<", "E", ">", "evaluate", "(", "QueryElement", "<", "Result", "<", "E", ">", ">", "query", ")", "{", "return", "new", "SelectResult", "<", ">", "(", "configuration", ",", "query", ",", "reader", ")", ";", "}", "</s>"]
["<s>", "int", "getBatchUpdateSize", "(", ")", ";", "</s>"]
["<s>", "ConnectionProvider", "getConnectionProvider", "(", ")", ";", "</s>"]
["<s>", "EntityCache", "getCache", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "EntityStateListener", ">", "getEntityStateListeners", "(", ")", ";", "</s>"]
["<s>", "Mapping", "getMapping", "(", ")", ";", "</s>"]
["<s>", "EntityModel", "getModel", "(", ")", ";", "</s>"]
["<s>", "Platform", "getPlatform", "(", ")", ";", "</s>"]
["<s>", "boolean", "getQuoteTableNames", "(", ")", ";", "</s>"]
["<s>", "boolean", "getQuoteColumnNames", "(", ")", ";", "</s>"]
["<s>", "Function", "<", "String", ",", "String", ">", "getTableTransformer", "(", ")", ";", "</s>"]
["<s>", "Function", "<", "String", ",", "String", ">", "getColumnTransformer", "(", ")", ";", "</s>"]
["<s>", "int", "getStatementCacheSize", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "StatementListener", ">", "getStatementListeners", "(", ")", ";", "</s>"]
["<s>", "TransactionMode", "getTransactionMode", "(", ")", ";", "</s>"]
["<s>", "TransactionIsolation", "getTransactionIsolation", "(", ")", ";", "</s>"]
["<s>", "Set", "<", "Supplier", "<", "TransactionListener", ">", ">", "getTransactionListenerFactories", "(", ")", ";", "</s>"]
["<s>", "boolean", "getUseDefaultLogging", "(", ")", ";", "</s>"]
["<s>", "Executor", "getWriteExecutor", "(", ")", ";", "</s>"]
["<s>", "ImmutableConfiguration", "(", "ConnectionProvider", "connectionProvider", ",", "Platform", "platform", ",", "EntityModel", "model", ",", "EntityCache", "cache", ",", "Mapping", "mapping", ",", "boolean", "useDefaultLogging", ",", "int", "statementCacheSize", ",", "int", "batchUpdateSize", ",", "boolean", "quoteTableNames", ",", "boolean", "quoteColumnNames", ",", "Function", "<", "String", ",", "String", ">", "tableTransformer", ",", "Function", "<", "String", ",", "String", ">", "columnTransformer", ",", "Set", "<", "EntityStateListener", ">", "entityStateListeners", ",", "Set", "<", "StatementListener", ">", "statementListeners", ",", "TransactionMode", "transactionMode", ",", "TransactionIsolation", "transactionIsolation", ",", "Set", "<", "Supplier", "<", "TransactionListener", ">", ">", "transactionListenerFactories", ",", "Executor", "writeExecutor", ")", "{", "this", ".", "connectionProvider", "=", "connectionProvider", ";", "this", ".", "platform", "=", "platform", ";", "this", ".", "model", "=", "model", ";", "this", ".", "cache", "=", "cache", ";", "this", ".", "mapping", "=", "mapping", ";", "this", ".", "useDefaultLogging", "=", "useDefaultLogging", ";", "this", ".", "statementCacheSize", "=", "statementCacheSize", ";", "this", ".", "batchUpdateSize", "=", "batchUpdateSize", ";", "this", ".", "quoteTableNames", "=", "quoteTableNames", ";", "this", ".", "quoteColumnNames", "=", "quoteColumnNames", ";", "this", ".", "tableTransformer", "=", "tableTransformer", ";", "this", ".", "columnTransformer", "=", "columnTransformer", ";", "this", ".", "transactionMode", "=", "transactionMode", ";", "this", ".", "entityStateListeners", "=", "Collections", ".", "unmodifiableSet", "(", "entityStateListeners", ")", ";", "this", ".", "statementListeners", "=", "Collections", ".", "unmodifiableSet", "(", "statementListeners", ")", ";", "this", ".", "transactionIsolation", "=", "transactionIsolation", ";", "this", ".", "transactionListenerFactories", "=", "transactionListenerFactories", ";", "this", ".", "writeExecutor", "=", "writeExecutor", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getBatchUpdateSize", "(", ")", "{", "return", "batchUpdateSize", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "EntityCache", "getCache", "(", ")", "{", "return", "cache", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ConnectionProvider", "getConnectionProvider", "(", ")", "{", "return", "connectionProvider", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "EntityStateListener", ">", "getEntityStateListeners", "(", ")", "{", "return", "entityStateListeners", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Mapping", "getMapping", "(", ")", "{", "return", "mapping", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "EntityModel", "getModel", "(", ")", "{", "return", "model", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Platform", "getPlatform", "(", ")", "{", "return", "platform", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getQuoteTableNames", "(", ")", "{", "return", "quoteTableNames", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getQuoteColumnNames", "(", ")", "{", "return", "quoteColumnNames", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Function", "<", "String", ",", "String", ">", "getColumnTransformer", "(", ")", "{", "return", "columnTransformer", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Function", "<", "String", ",", "String", ">", "getTableTransformer", "(", ")", "{", "return", "tableTransformer", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getStatementCacheSize", "(", ")", "{", "return", "statementCacheSize", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "StatementListener", ">", "getStatementListeners", "(", ")", "{", "return", "statementListeners", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "TransactionIsolation", "getTransactionIsolation", "(", ")", "{", "return", "transactionIsolation", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Set", "<", "Supplier", "<", "TransactionListener", ">", ">", "getTransactionListenerFactories", "(", ")", "{", "return", "transactionListenerFactories", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "TransactionMode", "getTransactionMode", "(", ")", "{", "return", "transactionMode", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getUseDefaultLogging", "(", ")", "{", "return", "useDefaultLogging", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Executor", "getWriteExecutor", "(", ")", "{", "return", "writeExecutor", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "Configuration", ")", "{", "Configuration", "other", "=", "(", "Configuration", ")", "obj", ";", "return", "hashCode", "(", ")", "=", "=", "other", ".", "hashCode", "(", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "platform", ",", "connectionProvider", ",", "model", ",", "mapping", ",", "quoteColumnNames", ",", "quoteTableNames", ",", "transactionIsolation", ",", "transactionMode", ",", "statementCacheSize", ",", "transactionListenerFactories", ",", "useDefaultLogging", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "(", "\"", "<STR_LIT>", "\"", "+", "platform", ")", "+", "\"", "<STR_LIT>", "\"", "+", "connectionProvider", "+", "\"", "<STR_LIT>", "\"", "+", "model", "+", "\"", "<STR_LIT>", "\"", "+", "quoteColumnNames", "+", "\"", "<STR_LIT>", "\"", "+", "quoteTableNames", "+", "\"", "<STR_LIT>", "\"", "+", "transactionMode", "+", "\"", "<STR_LIT>", "\"", "+", "transactionIsolation", "+", "\"", "<STR_LIT>", "\"", "+", "statementCacheSize", "+", "\"", "<STR_LIT>", "\"", "+", "useDefaultLogging", ";", "}", "</s>"]
["<s>", "UpdateOperation", "(", "RuntimeConfiguration", "configuration", ")", "{", "super", "(", "configuration", ",", "null", ")", ";", "}", "</s>"]
["<s>", "UpdateOperation", "(", "RuntimeConfiguration", "configuration", ",", "GeneratedResultReader", "resultReader", ")", "{", "super", "(", "configuration", ",", "resultReader", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Scalar", "<", "Integer", ">", "evaluate", "(", "final", "QueryElement", "<", "Scalar", "<", "Integer", ">", ">", "query", ")", "{", "return", "new", "BaseScalar", "<", "Integer", ">", "(", "configuration", ".", "getWriteExecutor", "(", ")", ")", "{", "@", "Override", "public", "Integer", "evaluate", "(", ")", "{", "DefaultOutput", "output", "=", "new", "DefaultOutput", "(", "configuration", ",", "query", ")", ";", "String", "sql", "=", "output", ".", "toSql", "(", ")", ";", "int", "result", ";", "TransactionProvider", "transactionProvider", "=", "configuration", ".", "getTransactionProvider", "(", ")", ";", "Set", "<", "Type", "<", "?", ">", ">", "types", "=", "query", ".", "entityTypes", "(", ")", ";", "try", "(", "TransactionScope", "scope", "=", "new", "TransactionScope", "(", "transactionProvider", ",", "types", ")", ";", "Connection", "connection", "=", "configuration", ".", "getConnection", "(", ")", ")", "{", "StatementListener", "listener", "=", "configuration", ".", "getStatementListener", "(", ")", ";", "try", "(", "PreparedStatement", "statement", "=", "prepare", "(", "sql", ",", "connection", ")", ")", "{", "BoundParameters", "parameters", "=", "output", ".", "parameters", "(", ")", ";", "mapParameters", "(", "statement", ",", "parameters", ")", ";", "listener", ".", "beforeExecuteUpdate", "(", "statement", ",", "sql", ",", "parameters", ")", ";", "result", "=", "statement", ".", "executeUpdate", "(", ")", ";", "listener", ".", "afterExecuteUpdate", "(", "statement", ")", ";", "readGeneratedKeys", "(", "0", ",", "statement", ")", ";", "}", "scope", ".", "commit", "(", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "StatementExecutionException", "(", "e", ",", "sql", ")", ";", "}", "return", "result", ";", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "evaluate", "(", ")", "{", "DefaultOutput", "output", "=", "new", "DefaultOutput", "(", "configuration", ",", "query", ")", ";", "String", "sql", "=", "output", ".", "toSql", "(", ")", ";", "int", "result", ";", "TransactionProvider", "transactionProvider", "=", "configuration", ".", "getTransactionProvider", "(", ")", ";", "Set", "<", "Type", "<", "?", ">", ">", "types", "=", "query", ".", "entityTypes", "(", ")", ";", "try", "(", "TransactionScope", "scope", "=", "new", "TransactionScope", "(", "transactionProvider", ",", "types", ")", ";", "Connection", "connection", "=", "configuration", ".", "getConnection", "(", ")", ")", "{", "StatementListener", "listener", "=", "configuration", ".", "getStatementListener", "(", ")", ";", "try", "(", "PreparedStatement", "statement", "=", "prepare", "(", "sql", ",", "connection", ")", ")", "{", "BoundParameters", "parameters", "=", "output", ".", "parameters", "(", ")", ";", "mapParameters", "(", "statement", ",", "parameters", ")", ";", "listener", ".", "beforeExecuteUpdate", "(", "statement", ",", "sql", ",", "parameters", ")", ";", "result", "=", "statement", ".", "executeUpdate", "(", ")", ";", "listener", ".", "afterExecuteUpdate", "(", "statement", ")", ";", "readGeneratedKeys", "(", "0", ",", "statement", ")", ";", "}", "scope", ".", "commit", "(", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "StatementExecutionException", "(", "e", ",", "sql", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "StatementCachingConnection", "(", "PreparedStatementCache", "cache", ",", "Connection", "connection", ")", "{", "super", "(", "connection", ")", ";", "this", ".", "statementCache", "=", "cache", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "resultSetType", ",", "int", "resultSetConcurrency", ")", "throws", "SQLException", "{", "return", "prepareStatement", "(", "sql", ",", "resultSetType", ",", "resultSetConcurrency", ",", "getHoldability", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "resultSetType", ",", "int", "resultSetConcurrency", ",", "int", "resultSetHoldability", ")", "throws", "SQLException", "{", "PreparedStatement", "statement", "=", "statementCache", ".", "get", "(", "sql", ")", ";", "if", "(", "statement", "!", "=", "null", "&", "&", "statement", ".", "getResultSetType", "(", ")", "=", "=", "resultSetType", "&", "&", "statement", ".", "getResultSetConcurrency", "(", ")", "=", "=", "resultSetConcurrency", "&", "&", "statement", ".", "getResultSetHoldability", "(", ")", "=", "=", "resultSetHoldability", ")", "{", "return", "statement", ";", "}", "statement", "=", "super", ".", "prepareStatement", "(", "sql", ",", "resultSetType", ",", "resultSetConcurrency", ",", "resultSetHoldability", ")", ";", "return", "statementCache", ".", "put", "(", "sql", ",", "statement", ")", ";", "}", "</s>"]
["<s>", "boolean", "skipTypeIdentifier", "(", ")", ";", "</s>"]
["<s>", "boolean", "postFixPrimaryKey", "(", ")", ";", "</s>"]
["<s>", "void", "appendGeneratedSequence", "(", "QueryBuilder", "qb", ",", "Attribute", "attribute", ")", ";", "</s>"]
["<s>", "OptimisticLockException", "(", "Object", "entity", ",", "Object", "version", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", "+", "entity", "+", "\"", "<STR_LIT>", "\"", "+", "version", "+", "\"", "<STR_LIT>", "\"", ")", ";", "this", ".", "entity", "=", "entity", ";", "}", "</s>"]
["<s>", "public", "Object", "entity", "(", ")", "{", "return", "entity", ";", "}", "</s>"]
["<s>", "@", "Nullable", "T", "read", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "write", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "@", "Nullable", "T", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "int", "getSqlType", "(", ")", ";", "</s>"]
["<s>", "boolean", "hasLength", "(", ")", ";", "</s>"]
["<s>", "@", "Nullable", "Integer", "getDefaultLength", "(", ")", ";", "</s>"]
["<s>", "Object", "getIdentifier", "(", ")", ";", "</s>"]
["<s>", "@", "Nullable", "String", "getIdentifierSuffix", "(", ")", ";", "</s>"]
["<s>", "public", "BoundParameters", "(", ")", "{", "expressions", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "values", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "}", "</s>"]
["<s>", "public", "BoundParameters", "(", "Object", ".", ".", ".", "parameters", ")", "{", "this", "(", ")", ";", "int", "index", "=", "0", ";", "for", "(", "Object", "parameter", ":", "parameters", ")", "{", "Class", "type", "=", "parameter", "=", "=", "null", "?", "Object", ".", "class", ":", "parameter", ".", "getClass", "(", ")", ";", "Expression", "expression", "=", "NamedExpression", ".", "of", "(", "String", ".", "valueOf", "(", "index", "+", "+", ")", ",", "type", ")", ";", "add", "(", "expression", ",", "parameter", ")", ";", "}", "}", "</s>"]
["<s>", "public", "<", "V", ">", "void", "add", "(", "Expression", "<", "V", ">", "expression", ",", "V", "value", ")", "{", "expressions", ".", "add", "(", "expression", ")", ";", "values", ".", "add", "(", "value", ")", ";", "}", "</s>"]
["<s>", "Expression", "<", "?", ">", "expressionAt", "(", "int", "index", ")", "{", "return", "expressions", ".", "get", "(", "index", ")", ";", "}", "</s>"]
["<s>", "Object", "valueAt", "(", "int", "index", ")", "{", "return", "values", ".", "get", "(", "index", ")", ";", "}", "</s>"]
["<s>", "public", "int", "count", "(", ")", "{", "return", "expressions", ".", "size", "(", ")", ";", "}", "</s>"]
["<s>", "public", "boolean", "isEmpty", "(", ")", "{", "return", "count", "(", ")", "=", "=", "0", ";", "}", "</s>"]
["<s>", "public", "void", "addAll", "(", "BoundParameters", "parameters", ")", "{", "expressions", ".", "addAll", "(", "parameters", ".", "expressions", ")", ";", "values", ".", "addAll", "(", "parameters", ".", "values", ")", ";", "}", "</s>"]
["<s>", "public", "void", "clear", "(", ")", "{", "expressions", ".", "clear", "(", ")", ";", "values", ".", "clear", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "BoundParameters", ")", "{", "BoundParameters", "parameters", "=", "(", "BoundParameters", ")", "obj", ";", "return", "Objects", ".", "equals", "(", "values", ",", "parameters", ".", "values", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "values", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", "\"", "<STR_LIT:[>", "\"", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "values", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "Object", "value", "=", "valueAt", "(", "i", ")", ";", "if", "(", "i", ">", "0", ")", "{", "sb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "sb", ".", "append", "(", "String", ".", "valueOf", "(", "value", ")", ")", ";", "}", "sb", ".", "append", "(", "\"", "<STR_LIT:]>", "\"", ")", ";", "return", "sb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "Connection", "getConnection", "(", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "<", "T", ">", "Mapping", "putType", "(", "Class", "<", "?", "super", "T", ">", "type", ",", "FieldType", "<", "T", ">", "fieldType", ")", ";", "</s>"]
["<s>", "<", "T", ">", "Mapping", "replaceType", "(", "int", "sqlType", ",", "FieldType", "<", "T", ">", "replacementType", ")", ";", "</s>"]
["<s>", "FieldType", "mapAttribute", "(", "Attribute", "<", "?", ",", "?", ">", "attribute", ")", ";", "</s>"]
["<s>", "Class", "<", "?", ">", "typeOf", "(", "int", "sqlType", ")", ";", "</s>"]
["<s>", "<", "A", ">", "A", "read", "(", "Expression", "<", "A", ">", "expression", ",", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "boolean", "readBoolean", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "byte", "readByte", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "short", "readShort", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "int", "readInt", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "long", "readLong", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "float", "readFloat", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "double", "readDouble", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "<", "A", ">", "void", "write", "(", "Expression", "<", "A", ">", "expression", ",", "PreparedStatement", "statement", ",", "int", "index", ",", "A", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeBoolean", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "boolean", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeByte", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "byte", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeShort", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "short", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeInt", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "int", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeLong", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "long", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeFloat", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "float", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeDouble", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "double", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "RawEntityQuery", "(", "EntityContext", "<", "S", ">", "context", ",", "Class", "<", "E", ">", "cls", ",", "String", "sql", ",", "Object", "[", "]", "parameters", ")", "{", "super", "(", "context", ",", "null", ")", ";", "ParameterInliner", "inlined", "=", "new", "ParameterInliner", "(", "sql", ",", "parameters", ")", ".", "apply", "(", ")", ";", "this", ".", "type", "=", "configuration", ".", "getModel", "(", ")", ".", "typeOf", "(", "cls", ")", ";", "this", ".", "sql", "=", "inlined", ".", "sql", "(", ")", ";", "this", ".", "reader", "=", "context", ".", "read", "(", "cls", ")", ";", "boundParameters", "=", "new", "BoundParameters", "(", "inlined", ".", "parameters", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Result", "<", "E", ">", "get", "(", ")", "{", "try", "{", "Connection", "connection", "=", "configuration", ".", "getConnection", "(", ")", ";", "PreparedStatement", "statement", "=", "prepare", "(", "sql", ",", "connection", ")", ";", "mapParameters", "(", "statement", ",", "boundParameters", ")", ";", "return", "new", "EntityResult", "(", "statement", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "StatementExecutionException", "(", "e", ",", "sql", ")", ";", "}", "}", "</s>"]
["<s>", "private", "EntityResult", "(", "PreparedStatement", "statement", ")", "{", "this", ".", "statement", "=", "statement", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CloseableIterator", "<", "E", ">", "iterator", "(", "int", "skip", ",", "int", "take", ")", "{", "try", "{", "StatementListener", "listener", "=", "configuration", ".", "getStatementListener", "(", ")", ";", "listener", ".", "beforeExecuteQuery", "(", "statement", ",", "sql", ",", "boundParameters", ")", ";", "ResultSet", "results", "=", "statement", ".", "executeQuery", "(", ")", ";", "listener", ".", "afterExecuteQuery", "(", "statement", ")", ";", "ResultSetMetaData", "metadata", "=", "results", ".", "getMetaData", "(", ")", ";", "Map", "<", "String", ",", "Attribute", "<", "E", ",", "?", ">", ">", "map", "=", "new", "HashMap", "<", ">", "(", ")", ";", "for", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "map", ".", "put", "(", "attribute", ".", "getName", "(", ")", ".", "toLowerCase", "(", "Locale", ".", "ROOT", ")", ",", "attribute", ")", ";", "}", "Set", "<", "Attribute", "<", "E", ",", "?", ">", ">", "attributes", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "metadata", ".", "getColumnCount", "(", ")", ";", "i", "+", "+", ")", "{", "String", "name", "=", "metadata", ".", "getColumnName", "(", "i", "+", "1", ")", ";", "Attribute", "<", "E", ",", "?", ">", "attribute", "=", "map", ".", "get", "(", "name", ".", "toLowerCase", "(", "Locale", ".", "ROOT", ")", ")", ";", "if", "(", "attribute", "!", "=", "null", ")", "{", "attributes", ".", "add", "(", "attribute", ")", ";", "}", "}", "Attribute", "[", "]", "array", "=", "Attributes", ".", "toArray", "(", "attributes", ",", "new", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "boolean", "test", "(", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "return", "true", ";", "}", "}", ")", ";", "EntityResultReader", "<", "E", ",", "S", ">", "entityReader", "=", "new", "EntityResultReader", "<", ">", "(", "reader", ",", "array", ")", ";", "return", "new", "ResultSetIterator", "<", ">", "(", "entityReader", ",", "results", ",", "null", ",", "true", ",", "true", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "test", "(", "Attribute", "<", "E", ",", "?", ">", "value", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "ThreadLocalTransaction", "(", "RuntimeConfiguration", "configuration", ")", "{", "this", ".", "threadLocal", "=", "new", "ThreadLocal", "<", ">", "(", ")", ";", "this", ".", "configuration", "=", "configuration", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Transaction", "begin", "(", ")", "{", "return", "begin", "(", "configuration", ".", "getTransactionIsolation", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Transaction", "begin", "(", "TransactionIsolation", "isolation", ")", "{", "EntityTransaction", "transaction", "=", "threadLocal", ".", "get", "(", ")", ";", "if", "(", "transaction", "=", "=", "null", ")", "{", "EntityCache", "cache", "=", "configuration", ".", "getCache", "(", ")", ";", "TransactionMode", "mode", "=", "configuration", ".", "getTransactionMode", "(", ")", ";", "TransactionListener", "listener", "=", "new", "CompositeTransactionListener", "(", "configuration", ".", "getTransactionListenerFactories", "(", ")", ")", ";", "transaction", "=", "mode", "=", "=", "TransactionMode", ".", "MANAGED", "?", "new", "ManagedTransaction", "(", "listener", ",", "configuration", ",", "cache", ")", ":", "new", "ConnectionTransaction", "(", "listener", ",", "configuration", ",", "cache", ",", "mode", "!", "=", "TransactionMode", ".", "NONE", ")", ";", "threadLocal", ".", "set", "(", "transaction", ")", ";", "}", "transaction", ".", "begin", "(", "isolation", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "commit", "(", ")", "{", "Transaction", "transaction", "=", "threadLocal", ".", "get", "(", ")", ";", "if", "(", "transaction", "=", "=", "null", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "transaction", ".", "commit", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "rollback", "(", ")", "{", "Transaction", "transaction", "=", "threadLocal", ".", "get", "(", ")", ";", "if", "(", "transaction", "=", "=", "null", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "transaction", ".", "rollback", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "active", "(", ")", "{", "Transaction", "transaction", "=", "threadLocal", ".", "get", "(", ")", ";", "return", "transaction", "!", "=", "null", "&", "&", "transaction", ".", "active", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addToTransaction", "(", "EntityProxy", "<", "?", ">", "proxy", ")", "{", "EntityTransaction", "transaction", "=", "threadLocal", ".", "get", "(", ")", ";", "if", "(", "transaction", "!", "=", "null", ")", "{", "transaction", ".", "addToTransaction", "(", "proxy", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addToTransaction", "(", "Collection", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "EntityTransaction", "transaction", "=", "threadLocal", ".", "get", "(", ")", ";", "if", "(", "transaction", "!", "=", "null", ")", "{", "transaction", ".", "addToTransaction", "(", "types", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "Transaction", "transaction", "=", "threadLocal", ".", "get", "(", ")", ";", "try", "{", "if", "(", "transaction", "!", "=", "null", ")", "{", "transaction", ".", "close", "(", ")", ";", "}", "}", "finally", "{", "threadLocal", ".", "remove", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Connection", "getConnection", "(", ")", "throws", "SQLException", "{", "Transaction", "transaction", "=", "threadLocal", ".", "get", "(", ")", ";", "if", "(", "transaction", "instanceof", "ConnectionProvider", ")", "{", "return", "(", "(", "ConnectionProvider", ")", "transaction", ")", ".", "getConnection", "(", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "EntityUpdateOperation", "(", "RuntimeConfiguration", "configuration", ",", "E", "element", ",", "ParameterBinder", "<", "E", ">", "parameterBinder", ",", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "filter", ",", "GeneratedResultReader", "resultReader", ")", "{", "super", "(", "configuration", ",", "resultReader", ")", ";", "this", ".", "element", "=", "element", ";", "this", ".", "filter", "=", "filter", ";", "this", ".", "parameterBinder", "=", "parameterBinder", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Scalar", "<", "Integer", ">", "evaluate", "(", "final", "QueryElement", "<", "Scalar", "<", "Integer", ">", ">", "query", ")", "{", "return", "new", "BaseScalar", "<", "Integer", ">", "(", "configuration", ".", "getWriteExecutor", "(", ")", ")", "{", "@", "Override", "public", "Integer", "evaluate", "(", ")", "{", "QueryBuilder", "qb", "=", "new", "QueryBuilder", "(", "configuration", ".", "getQueryBuilderOptions", "(", ")", ")", ";", "DefaultOutput", "output", "=", "new", "DefaultOutput", "(", "configuration", ".", "getStatementGenerator", "(", ")", ",", "query", ",", "qb", ",", "null", ",", "false", ")", ";", "String", "sql", "=", "output", ".", "toSql", "(", ")", ";", "int", "result", ";", "try", "(", "Connection", "connection", "=", "configuration", ".", "getConnection", "(", ")", ")", "{", "StatementListener", "listener", "=", "configuration", ".", "getStatementListener", "(", ")", ";", "try", "(", "PreparedStatement", "statement", "=", "prepare", "(", "sql", ",", "connection", ")", ")", "{", "parameterBinder", ".", "bindParameters", "(", "statement", ",", "element", ",", "filter", ")", ";", "listener", ".", "beforeExecuteUpdate", "(", "statement", ",", "sql", ",", "null", ")", ";", "result", "=", "statement", ".", "executeUpdate", "(", ")", ";", "listener", ".", "afterExecuteUpdate", "(", "statement", ")", ";", "readGeneratedKeys", "(", "0", ",", "statement", ")", ";", "}", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "StatementExecutionException", "(", "e", ",", "sql", ")", ";", "}", "return", "result", ";", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "evaluate", "(", ")", "{", "QueryBuilder", "qb", "=", "new", "QueryBuilder", "(", "configuration", ".", "getQueryBuilderOptions", "(", ")", ")", ";", "DefaultOutput", "output", "=", "new", "DefaultOutput", "(", "configuration", ".", "getStatementGenerator", "(", ")", ",", "query", ",", "qb", ",", "null", ",", "false", ")", ";", "String", "sql", "=", "output", ".", "toSql", "(", ")", ";", "int", "result", ";", "try", "(", "Connection", "connection", "=", "configuration", ".", "getConnection", "(", ")", ")", "{", "StatementListener", "listener", "=", "configuration", ".", "getStatementListener", "(", ")", ";", "try", "(", "PreparedStatement", "statement", "=", "prepare", "(", "sql", ",", "connection", ")", ")", "{", "parameterBinder", ".", "bindParameters", "(", "statement", ",", "element", ",", "filter", ")", ";", "listener", ".", "beforeExecuteUpdate", "(", "statement", ",", "sql", ",", "null", ")", ";", "result", "=", "statement", ".", "executeUpdate", "(", ")", ";", "listener", ".", "afterExecuteUpdate", "(", "statement", ")", ";", "readGeneratedKeys", "(", "0", ",", "statement", ")", ";", "}", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "StatementExecutionException", "(", "e", ",", "sql", ")", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "SingleResult", "(", "E", "element", ")", "{", "super", "(", "1", ")", ";", "this", ".", "element", "=", "element", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CloseableIterator", "<", "E", ">", "iterator", "(", "int", "skip", ",", "int", "take", ")", "{", "final", "Iterator", "<", "E", ">", "iterator", "=", "Collections", ".", "singleton", "(", "element", ")", ".", "iterator", "(", ")", ";", "return", "new", "CloseableIterator", "<", "E", ">", "(", ")", "{", "@", "Override", "public", "void", "close", "(", ")", "{", "}", "@", "Override", "public", "boolean", "hasNext", "(", ")", "{", "return", "iterator", ".", "hasNext", "(", ")", ";", "}", "@", "Override", "public", "E", "next", "(", ")", "{", "return", "iterator", ".", "next", "(", ")", ";", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasNext", "(", ")", "{", "return", "iterator", ".", "hasNext", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "next", "(", ")", "{", "return", "iterator", ".", "next", "(", ")", ";", "}", "</s>"]
["<s>", "R", "read", "(", "ResultSet", "results", ",", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "selection", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "addMappings", "(", "Mapping", "mapping", ")", ";", "</s>"]
["<s>", "boolean", "supportsInlineForeignKeyReference", "(", ")", ";", "</s>"]
["<s>", "boolean", "supportsAddingConstraint", "(", ")", ";", "</s>"]
["<s>", "boolean", "supportsIfExists", "(", ")", ";", "</s>"]
["<s>", "boolean", "supportsGeneratedColumnsInPrepareStatement", "(", ")", ";", "</s>"]
["<s>", "boolean", "supportsGeneratedKeysInBatchUpdate", "(", ")", ";", "</s>"]
["<s>", "boolean", "supportsUpsert", "(", ")", ";", "</s>"]
["<s>", "GeneratedColumnDefinition", "generatedColumnDefinition", "(", ")", ";", "</s>"]
["<s>", "Generator", "<", "LimitedElement", ">", "limitGenerator", "(", ")", ";", "</s>"]
["<s>", "Generator", "<", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", ">", "upsertGenerator", "(", ")", ";", "</s>"]
["<s>", "Generator", "<", "OrderByElement", ">", "orderByGenerator", "(", ")", ";", "</s>"]
["<s>", "VersionColumnDefinition", "versionColumnDefinition", "(", ")", ";", "</s>"]
["<s>", "InsertReturningOperation", "(", "RuntimeConfiguration", "configuration", ",", "final", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "selection", ")", "{", "super", "(", "configuration", ",", "new", "GeneratedResultReader", "(", ")", "{", "@", "Override", "public", "void", "read", "(", "int", "index", ",", "ResultSet", "results", ")", "throws", "SQLException", "{", "}", "@", "Override", "public", "String", "[", "]", "generatedColumns", "(", ")", "{", "String", "[", "]", "keys", "=", "new", "String", "[", "selection", ".", "size", "(", ")", "]", ";", "int", "index", "=", "0", ";", "for", "(", "Expression", "<", "?", ">", "expression", ":", "selection", ")", "{", "keys", "[", "index", "]", "=", "expression", ".", "getName", "(", ")", ";", "index", "+", "+", ";", "}", "return", "keys", ";", "}", "}", ")", ";", "this", ".", "selection", "=", "selection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "read", "(", "int", "index", ",", "ResultSet", "results", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "[", "]", "generatedColumns", "(", ")", "{", "String", "[", "]", "keys", "=", "new", "String", "[", "selection", ".", "size", "(", ")", "]", ";", "int", "index", "=", "0", ";", "for", "(", "Expression", "<", "?", ">", "expression", ":", "selection", ")", "{", "keys", "[", "index", "]", "=", "expression", ".", "getName", "(", ")", ";", "index", "+", "+", ";", "}", "return", "keys", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Result", "<", "Tuple", ">", "evaluate", "(", "final", "QueryElement", "<", "Result", "<", "Tuple", ">", ">", "query", ")", "{", "DefaultOutput", "generator", "=", "new", "DefaultOutput", "(", "configuration", ",", "query", ")", ";", "String", "sql", "=", "generator", ".", "toSql", "(", ")", ";", "BoundParameters", "parameters", "=", "generator", ".", "parameters", "(", ")", ";", "int", "count", ";", "try", "{", "Connection", "connection", "=", "configuration", ".", "getConnection", "(", ")", ";", "StatementListener", "listener", "=", "configuration", ".", "getStatementListener", "(", ")", ";", "PreparedStatement", "statement", "=", "prepare", "(", "sql", ",", "connection", ")", ";", "mapParameters", "(", "statement", ",", "parameters", ")", ";", "listener", ".", "beforeExecuteUpdate", "(", "statement", ",", "sql", ",", "parameters", ")", ";", "count", "=", "statement", ".", "executeUpdate", "(", ")", ";", "listener", ".", "afterExecuteUpdate", "(", "statement", ")", ";", "if", "(", "selection", "=", "=", "null", "|", "|", "selection", ".", "isEmpty", "(", ")", ")", "{", "connection", ".", "close", "(", ")", ";", "MutableTuple", "tuple", "=", "new", "MutableTuple", "(", "1", ")", ";", "tuple", ".", "set", "(", "0", ",", "NamedExpression", ".", "ofInteger", "(", "\"", "<STR_LIT>", "\"", ")", ",", "count", ")", ";", "return", "new", "SingleResult", "<", "Tuple", ">", "(", "tuple", ")", ";", "}", "else", "{", "ResultSet", "results", "=", "statement", ".", "getGeneratedKeys", "(", ")", ";", "return", "new", "GeneratedKeyResult", "(", "configuration", ",", "selection", ",", "connection", ",", "results", ",", "count", ")", ";", "}", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "EntityReader", "<", "E", ",", "T", ">", "read", "(", "Class", "<", "?", "extends", "E", ">", "type", ")", ";", "</s>"]
["<s>", "<", "E", "extends", "T", ">", "EntityWriter", "<", "E", ",", "T", ">", "write", "(", "Class", "<", "?", "extends", "E", ">", "type", ")", ";", "</s>"]
["<s>", "<", "E", ">", "EntityProxy", "<", "E", ">", "proxyOf", "(", "E", "entity", ",", "boolean", "forUpdate", ")", ";", "</s>"]
["<s>", "CompositeEntityListener", "<", "T", ">", "getStateListener", "(", ")", ";", "</s>"]
["<s>", "RowCountException", "(", "long", "expected", ",", "long", "actual", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", "+", "expected", "+", "\"", "<STR_LIT>", "\"", "+", "actual", ")", ";", "this", ".", "expected", "=", "expected", ";", "this", ".", "actual", "=", "actual", ";", "}", "</s>"]
["<s>", "public", "long", "getExpected", "(", ")", "{", "return", "expected", ";", "}", "</s>"]
["<s>", "public", "long", "getActual", "(", ")", "{", "return", "actual", ";", "}", "</s>"]
["<s>", "protected", "GeneratedKeyResult", "(", "RuntimeConfiguration", "configuration", ",", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "selection", ",", "Connection", "connection", ",", "ResultSet", "results", ",", "Integer", "maxSize", ")", "{", "super", "(", "maxSize", ")", ";", "this", ".", "results", "=", "results", ";", "this", ".", "connection", "=", "connection", ";", "this", ".", "selection", "=", "selection", ";", "this", ".", "reader", "=", "new", "TupleResultReader", "(", "configuration", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CloseableIterator", "<", "Tuple", ">", "iterator", "(", "int", "skip", ",", "int", "take", ")", "{", "return", "new", "ResultSetIterator", "<", ">", "(", "reader", ",", "results", ",", "selection", ",", "true", ",", "true", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "super", ".", "close", "(", ")", ";", "try", "{", "connection", ".", "close", "(", ")", ";", "}", "catch", "(", "SQLException", "ignored", ")", "{", "}", "}", "</s>"]
["<s>", "int", "bindParameters", "(", "PreparedStatement", "statement", ",", "E", "element", ",", "Predicate", "<", "Attribute", "<", "E", ",", "?", ">", ">", "filter", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "SelectCountOperation", "(", "RuntimeConfiguration", "configuration", ")", "{", "this", ".", "configuration", "=", "configuration", ";", "this", ".", "reader", "=", "new", "TupleResultReader", "(", "configuration", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Scalar", "<", "Integer", ">", "evaluate", "(", "final", "QueryElement", "<", "Scalar", "<", "Integer", ">", ">", "query", ")", "{", "return", "new", "BaseScalar", "<", "Integer", ">", "(", "configuration", ".", "getWriteExecutor", "(", ")", ")", "{", "@", "Override", "public", "Integer", "evaluate", "(", ")", "{", "try", "(", "Result", "<", "Tuple", ">", "result", "=", "new", "SelectResult", "<", ">", "(", "configuration", ",", "query", ",", "reader", ")", ")", "{", "return", "result", ".", "first", "(", ")", ".", "get", "(", "0", ")", ";", "}", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "evaluate", "(", ")", "{", "try", "(", "Result", "<", "Tuple", ">", "result", "=", "new", "SelectResult", "<", ">", "(", "configuration", ",", "query", ",", "reader", ")", ")", "{", "return", "result", ".", "first", "(", ")", ".", "get", "(", "0", ")", ";", "}", "}", "</s>"]
["<s>", "TransactionScope", "(", "Supplier", "<", "?", "extends", "EntityTransaction", ">", "supplier", ")", "{", "this", "(", "supplier", ",", "null", ")", ";", "}", "</s>"]
["<s>", "TransactionScope", "(", "Supplier", "<", "?", "extends", "EntityTransaction", ">", "supplier", ",", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "this", ".", "transaction", "=", "supplier", ".", "get", "(", ")", ";", "if", "(", "!", "transaction", ".", "active", "(", ")", ")", "{", "transaction", ".", "begin", "(", ")", ";", "enteredTransaction", "=", "true", ";", "if", "(", "types", "!", "=", "null", ")", "{", "transaction", ".", "addToTransaction", "(", "types", ")", ";", "}", "}", "else", "{", "enteredTransaction", "=", "false", ";", "}", "}", "</s>"]
["<s>", "public", "void", "commit", "(", ")", "{", "if", "(", "enteredTransaction", ")", "{", "transaction", ".", "commit", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "if", "(", "enteredTransaction", ")", "{", "transaction", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "TupleResultReader", "(", "RuntimeConfiguration", "configuration", ")", "{", "this", ".", "configuration", "=", "Objects", ".", "requireNotNull", "(", "configuration", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Tuple", "read", "(", "ResultSet", "results", ",", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "selection", ")", "throws", "SQLException", "{", "MutableTuple", "tuple", "=", "new", "MutableTuple", "(", "selection", ".", "size", "(", ")", ")", ";", "int", "index", "=", "1", ";", "Mapping", "mapping", "=", "configuration", ".", "getMapping", "(", ")", ";", "for", "(", "Expression", "<", "?", ">", "expression", ":", "selection", ")", "{", "Object", "value", "=", "mapping", ".", "read", "(", "expression", ",", "results", ",", "index", ")", ";", "tuple", ".", "set", "(", "index", "-", "1", ",", "expression", ",", "value", ")", ";", "index", "+", "+", ";", "}", "return", "tuple", ";", "}", "</s>"]
["<s>", "CircularReferenceException", "(", "String", "message", ")", "{", "super", "(", "message", ")", ";", "}", "</s>"]
["<s>", "void", "beforeExecuteUpdate", "(", "Statement", "statement", ",", "String", "sql", ",", "BoundParameters", "parameters", ")", ";", "</s>"]
["<s>", "void", "afterExecuteUpdate", "(", "Statement", "statement", ")", ";", "</s>"]
["<s>", "void", "beforeExecuteQuery", "(", "Statement", "statement", ",", "String", "sql", ",", "BoundParameters", "parameters", ")", ";", "</s>"]
["<s>", "void", "afterExecuteQuery", "(", "Statement", "statement", ")", ";", "</s>"]
["<s>", "GeneratedKeys", "(", ")", "{", "}", "</s>"]
["<s>", "GeneratedKeys", "(", "EntityProxy", "<", "E", ">", "proxy", ")", "{", "this", ".", "proxy", "=", "proxy", ";", "}", "</s>"]
["<s>", "GeneratedKeys", "<", "E", ">", "proxy", "(", "EntityProxy", "<", "E", ">", "proxy", ")", "{", "this", ".", "proxy", "=", "proxy", ";", "return", "this", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "void", "set", "(", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "V", "value", ")", "{", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "set", "(", "attribute", ",", "value", ")", ";", "}", "add", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "V", ">", "void", "set", "(", "Attribute", "<", "E", ",", "V", ">", "attribute", ",", "V", "value", ",", "PropertyState", "state", ")", "{", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "set", "(", "attribute", ",", "value", ",", "state", ")", ";", "}", "add", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setObject", "(", "Attribute", "<", "E", ",", "?", ">", "attribute", ",", "Object", "value", ",", "PropertyState", "state", ")", "{", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "setObject", "(", "attribute", ",", "value", ",", "state", ")", ";", "}", "add", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBoolean", "(", "Attribute", "<", "E", ",", "Boolean", ">", "attribute", ",", "boolean", "value", ",", "PropertyState", "state", ")", "{", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "setBoolean", "(", "attribute", ",", "value", ",", "state", ")", ";", "}", "add", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setDouble", "(", "Attribute", "<", "E", ",", "Double", ">", "attribute", ",", "double", "value", ",", "PropertyState", "state", ")", "{", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "setDouble", "(", "attribute", ",", "value", ",", "state", ")", ";", "}", "add", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFloat", "(", "Attribute", "<", "E", ",", "Float", ">", "attribute", ",", "float", "value", ",", "PropertyState", "state", ")", "{", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "setFloat", "(", "attribute", ",", "value", ",", "state", ")", ";", "}", "add", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setByte", "(", "Attribute", "<", "E", ",", "Byte", ">", "attribute", ",", "byte", "value", ",", "PropertyState", "state", ")", "{", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "setByte", "(", "attribute", ",", "value", ",", "state", ")", ";", "}", "add", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setShort", "(", "Attribute", "<", "E", ",", "Short", ">", "attribute", ",", "short", "value", ",", "PropertyState", "state", ")", "{", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "setShort", "(", "attribute", ",", "value", ",", "state", ")", ";", "}", "add", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setInt", "(", "Attribute", "<", "E", ",", "Integer", ">", "attribute", ",", "int", "value", ",", "PropertyState", "state", ")", "{", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "setInt", "(", "attribute", ",", "value", ",", "state", ")", ";", "}", "add", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setLong", "(", "Attribute", "<", "E", ",", "Long", ">", "attribute", ",", "long", "value", ",", "PropertyState", "state", ")", "{", "if", "(", "proxy", "!", "=", "null", ")", "{", "proxy", ".", "setLong", "(", "attribute", ",", "value", ",", "state", ")", ";", "}", "add", "(", "value", ")", ";", "}", "</s>"]
["<s>", "void", "addToTransaction", "(", "Collection", "<", "Type", "<", "?", ">", ">", "types", ")", ";", "</s>"]
["<s>", "void", "addToTransaction", "(", "EntityProxy", "<", "?", ">", "proxy", ")", ";", "</s>"]
["<s>", "TransactionProvider", "(", "RuntimeConfiguration", "configuration", ")", "{", "threadLocalTransaction", "=", "new", "ThreadLocalTransaction", "(", "configuration", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "EntityTransaction", "get", "(", ")", "{", "return", "threadLocalTransaction", ";", "}", "</s>"]
["<s>", "protected", "BasicType", "(", "Class", "<", "T", ">", "type", ",", "int", "sqlType", ")", "{", "super", "(", "type", ",", "sqlType", ")", ";", "checkNull", "=", "!", "type", ".", "isPrimitive", "(", ")", ";", "}", "</s>"]
["<s>", "public", "abstract", "T", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "@", "Override", "public", "T", "read", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "T", "result", "=", "fromResult", "(", "results", ",", "column", ")", ";", "if", "(", "checkNull", "&", "&", "results", ".", "wasNull", "(", ")", ")", "{", "return", "null", ";", "}", "return", "result", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "abstract", "Keyword", "getIdentifier", "(", ")", ";", "</s>"]
["<s>", "StatementExecutionException", "(", "Throwable", "throwable", ",", "String", "sql", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", "+", "sql", ",", "throwable", ")", ";", "this", ".", "sql", "=", "sql", ";", "}", "</s>"]
["<s>", "public", "String", "getSql", "(", ")", "{", "return", "sql", ";", "}", "</s>"]
["<s>", "protected", "BaseType", "(", "Class", "<", "T", ">", "type", ",", "int", "sqlType", ")", "{", "this", ".", "type", "=", "type", ";", "this", ".", "sqlType", "=", "sqlType", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "T", "read", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "T", "value", "=", "type", ".", "cast", "(", "results", ".", "getObject", "(", "column", ")", ")", ";", "if", "(", "results", ".", "wasNull", "(", ")", ")", "{", "return", "null", ";", "}", "return", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "T", "value", ")", "throws", "SQLException", "{", "if", "(", "value", "=", "=", "null", ")", "{", "statement", ".", "setNull", "(", "index", ",", "sqlType", ")", ";", "}", "else", "{", "statement", ".", "setObject", "(", "index", ",", "value", ",", "sqlType", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getSqlType", "(", ")", "{", "return", "sqlType", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasLength", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getDefaultLength", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "public", "abstract", "Object", "getIdentifier", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "String", "getIdentifierSuffix", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "FieldType", ")", "{", "FieldType", "other", "=", "(", "FieldType", ")", "obj", ";", "return", "Objects", ".", "equals", "(", "getIdentifier", "(", ")", ",", "other", ".", "getIdentifier", "(", ")", ")", "&", "&", "getSqlType", "(", ")", "=", "=", "other", ".", "getSqlType", "(", ")", "&", "&", "hasLength", "(", ")", "=", "=", "other", ".", "hasLength", "(", ")", "&", "&", "Objects", ".", "equals", "(", "getIdentifierSuffix", "(", ")", ",", "other", ".", "getIdentifierSuffix", "(", ")", ")", "&", "&", "Objects", ".", "equals", "(", "getDefaultLength", "(", ")", ",", "other", ".", "getDefaultLength", "(", ")", ")", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "getIdentifier", "(", ")", ",", "getSqlType", "(", ")", ",", "getDefaultLength", "(", ")", ",", "getIdentifierSuffix", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", ")", ";", "sb", ".", "append", "(", "getIdentifier", "(", ")", ")", ";", "if", "(", "hasLength", "(", ")", ")", "{", "sb", ".", "append", "(", "\"", "<STR_LIT:(>", "\"", ")", ";", "sb", ".", "append", "(", "getDefaultLength", "(", ")", ")", ";", "sb", ".", "append", "(", "\"", "<STR_LIT:)>", "\"", ")", ";", "}", "if", "(", "getIdentifierSuffix", "(", ")", "!", "=", "null", ")", "{", "sb", ".", "append", "(", "\"", "\"", ")", ";", "sb", ".", "append", "(", "getIdentifierSuffix", "(", ")", ")", ";", "}", "return", "sb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "PreparedStatementDelegate", "(", "PreparedStatement", "statement", ")", "{", "super", "(", "statement", ")", ";", "this", ".", "statement", "=", "statement", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "executeQuery", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "executeQuery", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "executeUpdate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNull", "(", "int", "parameterIndex", ",", "int", "sqlType", ")", "throws", "SQLException", "{", "statement", ".", "setNull", "(", "parameterIndex", ",", "sqlType", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBoolean", "(", "int", "parameterIndex", ",", "boolean", "x", ")", "throws", "SQLException", "{", "statement", ".", "setBoolean", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setByte", "(", "int", "parameterIndex", ",", "byte", "x", ")", "throws", "SQLException", "{", "statement", ".", "setByte", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setShort", "(", "int", "parameterIndex", ",", "short", "x", ")", "throws", "SQLException", "{", "statement", ".", "setShort", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setInt", "(", "int", "parameterIndex", ",", "int", "x", ")", "throws", "SQLException", "{", "statement", ".", "setInt", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setLong", "(", "int", "parameterIndex", ",", "long", "x", ")", "throws", "SQLException", "{", "statement", ".", "setLong", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFloat", "(", "int", "parameterIndex", ",", "float", "x", ")", "throws", "SQLException", "{", "statement", ".", "setFloat", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setDouble", "(", "int", "parameterIndex", ",", "double", "x", ")", "throws", "SQLException", "{", "statement", ".", "setDouble", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBigDecimal", "(", "int", "parameterIndex", ",", "BigDecimal", "x", ")", "throws", "SQLException", "{", "statement", ".", "setBigDecimal", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setString", "(", "int", "parameterIndex", ",", "String", "x", ")", "throws", "SQLException", "{", "statement", ".", "setString", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBytes", "(", "int", "parameterIndex", ",", "byte", "[", "]", "x", ")", "throws", "SQLException", "{", "statement", ".", "setBytes", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setDate", "(", "int", "parameterIndex", ",", "Date", "x", ")", "throws", "SQLException", "{", "statement", ".", "setDate", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTime", "(", "int", "parameterIndex", ",", "Time", "x", ")", "throws", "SQLException", "{", "statement", ".", "setTime", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTimestamp", "(", "int", "parameterIndex", ",", "Timestamp", "x", ")", "throws", "SQLException", "{", "statement", ".", "setTimestamp", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setAsciiStream", "(", "int", "parameterIndex", ",", "InputStream", "x", ",", "int", "length", ")", "throws", "SQLException", "{", "statement", ".", "setAsciiStream", "(", "parameterIndex", ",", "x", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "void", "setUnicodeStream", "(", "int", "parameterIndex", ",", "InputStream", "x", ",", "int", "length", ")", "throws", "SQLException", "{", "statement", ".", "setUnicodeStream", "(", "parameterIndex", ",", "x", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBinaryStream", "(", "int", "parameterIndex", ",", "InputStream", "x", ",", "int", "length", ")", "throws", "SQLException", "{", "statement", ".", "setBinaryStream", "(", "parameterIndex", ",", "x", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearParameters", "(", ")", "throws", "SQLException", "{", "statement", ".", "clearParameters", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setObject", "(", "int", "parameterIndex", ",", "Object", "x", ",", "int", "targetSqlType", ")", "throws", "SQLException", "{", "statement", ".", "setObject", "(", "parameterIndex", ",", "x", ",", "targetSqlType", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setObject", "(", "int", "parameterIndex", ",", "Object", "x", ")", "throws", "SQLException", "{", "statement", ".", "setObject", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "execute", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addBatch", "(", ")", "throws", "SQLException", "{", "statement", ".", "addBatch", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setCharacterStream", "(", "int", "parameterIndex", ",", "Reader", "reader", ",", "int", "length", ")", "throws", "SQLException", "{", "statement", ".", "setCharacterStream", "(", "parameterIndex", ",", "reader", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setRef", "(", "int", "parameterIndex", ",", "Ref", "x", ")", "throws", "SQLException", "{", "statement", ".", "setRef", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBlob", "(", "int", "parameterIndex", ",", "Blob", "x", ")", "throws", "SQLException", "{", "statement", ".", "setBlob", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setClob", "(", "int", "parameterIndex", ",", "Clob", "x", ")", "throws", "SQLException", "{", "statement", ".", "setClob", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setArray", "(", "int", "parameterIndex", ",", "Array", "x", ")", "throws", "SQLException", "{", "statement", ".", "setArray", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSetMetaData", "getMetaData", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getMetaData", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setDate", "(", "int", "parameterIndex", ",", "Date", "x", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "statement", ".", "setDate", "(", "parameterIndex", ",", "x", ",", "cal", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTime", "(", "int", "parameterIndex", ",", "Time", "x", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "statement", ".", "setTime", "(", "parameterIndex", ",", "x", ",", "cal", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTimestamp", "(", "int", "parameterIndex", ",", "Timestamp", "x", ",", "Calendar", "cal", ")", "throws", "SQLException", "{", "statement", ".", "setTimestamp", "(", "parameterIndex", ",", "x", ",", "cal", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNull", "(", "int", "parameterIndex", ",", "int", "sqlType", ",", "String", "typeName", ")", "throws", "SQLException", "{", "statement", ".", "setNull", "(", "parameterIndex", ",", "sqlType", ",", "typeName", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setURL", "(", "int", "parameterIndex", ",", "URL", "x", ")", "throws", "SQLException", "{", "statement", ".", "setURL", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ParameterMetaData", "getParameterMetaData", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getParameterMetaData", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setRowId", "(", "int", "parameterIndex", ",", "RowId", "x", ")", "throws", "SQLException", "{", "statement", ".", "setRowId", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNString", "(", "int", "parameterIndex", ",", "String", "value", ")", "throws", "SQLException", "{", "statement", ".", "setNString", "(", "parameterIndex", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNCharacterStream", "(", "int", "parameterIndex", ",", "Reader", "value", ",", "long", "length", ")", "throws", "SQLException", "{", "statement", ".", "setNCharacterStream", "(", "parameterIndex", ",", "value", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNClob", "(", "int", "parameterIndex", ",", "NClob", "value", ")", "throws", "SQLException", "{", "statement", ".", "setNClob", "(", "parameterIndex", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setClob", "(", "int", "parameterIndex", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "statement", ".", "setClob", "(", "parameterIndex", ",", "reader", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBlob", "(", "int", "parameterIndex", ",", "InputStream", "inputStream", ",", "long", "length", ")", "throws", "SQLException", "{", "statement", ".", "setBlob", "(", "parameterIndex", ",", "inputStream", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNClob", "(", "int", "parameterIndex", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "statement", ".", "setNClob", "(", "parameterIndex", ",", "reader", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setSQLXML", "(", "int", "parameterIndex", ",", "SQLXML", "xmlObject", ")", "throws", "SQLException", "{", "statement", ".", "setSQLXML", "(", "parameterIndex", ",", "xmlObject", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setObject", "(", "int", "parameterIndex", ",", "Object", "x", ",", "int", "targetSqlType", ",", "int", "scaleOrLength", ")", "throws", "SQLException", "{", "statement", ".", "setObject", "(", "parameterIndex", ",", "x", ",", "targetSqlType", ",", "scaleOrLength", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setAsciiStream", "(", "int", "parameterIndex", ",", "InputStream", "x", ",", "long", "length", ")", "throws", "SQLException", "{", "statement", ".", "setAsciiStream", "(", "parameterIndex", ",", "x", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBinaryStream", "(", "int", "parameterIndex", ",", "InputStream", "x", ",", "long", "length", ")", "throws", "SQLException", "{", "statement", ".", "setBinaryStream", "(", "parameterIndex", ",", "x", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setCharacterStream", "(", "int", "parameterIndex", ",", "Reader", "reader", ",", "long", "length", ")", "throws", "SQLException", "{", "statement", ".", "setCharacterStream", "(", "parameterIndex", ",", "reader", ",", "length", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setAsciiStream", "(", "int", "parameterIndex", ",", "InputStream", "x", ")", "throws", "SQLException", "{", "statement", ".", "setAsciiStream", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBinaryStream", "(", "int", "parameterIndex", ",", "InputStream", "x", ")", "throws", "SQLException", "{", "statement", ".", "setBinaryStream", "(", "parameterIndex", ",", "x", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setCharacterStream", "(", "int", "parameterIndex", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "statement", ".", "setCharacterStream", "(", "parameterIndex", ",", "reader", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNCharacterStream", "(", "int", "parameterIndex", ",", "Reader", "value", ")", "throws", "SQLException", "{", "statement", ".", "setNCharacterStream", "(", "parameterIndex", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setClob", "(", "int", "parameterIndex", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "statement", ".", "setClob", "(", "parameterIndex", ",", "reader", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setBlob", "(", "int", "parameterIndex", ",", "InputStream", "inputStream", ")", "throws", "SQLException", "{", "statement", ".", "setBlob", "(", "parameterIndex", ",", "inputStream", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNClob", "(", "int", "parameterIndex", ",", "Reader", "reader", ")", "throws", "SQLException", "{", "statement", ".", "setNClob", "(", "parameterIndex", ",", "reader", ")", ";", "}", "</s>"]
["<s>", "ConnectionDelegate", "(", "Connection", "connection", ")", "{", "this", ".", "connection", "=", "connection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "createStatement", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ")", "throws", "SQLException", "{", "return", "connection", ".", "prepareStatement", "(", "sql", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CallableStatement", "prepareCall", "(", "String", "sql", ")", "throws", "SQLException", "{", "return", "connection", ".", "prepareCall", "(", "sql", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "nativeSQL", "(", "String", "sql", ")", "throws", "SQLException", "{", "return", "connection", ".", "nativeSQL", "(", "sql", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setAutoCommit", "(", "boolean", "autoCommit", ")", "throws", "SQLException", "{", "connection", ".", "setAutoCommit", "(", "autoCommit", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getAutoCommit", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "getAutoCommit", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "commit", "(", ")", "throws", "SQLException", "{", "connection", ".", "commit", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "rollback", "(", ")", "throws", "SQLException", "{", "connection", ".", "rollback", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "SQLException", "{", "connection", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isClosed", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "isClosed", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "DatabaseMetaData", "getMetaData", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "getMetaData", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setReadOnly", "(", "boolean", "readOnly", ")", "throws", "SQLException", "{", "connection", ".", "setReadOnly", "(", "readOnly", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isReadOnly", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "isReadOnly", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setCatalog", "(", "String", "catalog", ")", "throws", "SQLException", "{", "connection", ".", "setCatalog", "(", "catalog", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getCatalog", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "getCatalog", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTransactionIsolation", "(", "int", "level", ")", "throws", "SQLException", "{", "connection", ".", "setTransactionIsolation", "(", "level", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getTransactionIsolation", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "getTransactionIsolation", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLWarning", "getWarnings", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "getWarnings", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearWarnings", "(", ")", "throws", "SQLException", "{", "connection", ".", "clearWarnings", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", "int", "resultSetType", ",", "int", "resultSetConcurrency", ")", "throws", "SQLException", "{", "return", "connection", ".", "createStatement", "(", "resultSetType", ",", "resultSetConcurrency", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "resultSetType", ",", "int", "resultSetConcurrency", ")", "throws", "SQLException", "{", "return", "connection", ".", "prepareStatement", "(", "sql", ",", "resultSetType", ",", "resultSetConcurrency", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CallableStatement", "prepareCall", "(", "String", "sql", ",", "int", "resultSetType", ",", "int", "resultSetConcurrency", ")", "throws", "SQLException", "{", "return", "connection", ".", "prepareCall", "(", "sql", ",", "resultSetType", ",", "resultSetConcurrency", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Map", "<", "String", ",", "Class", "<", "?", ">", ">", "getTypeMap", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "getTypeMap", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setTypeMap", "(", "Map", "<", "String", ",", "Class", "<", "?", ">", ">", "map", ")", "throws", "SQLException", "{", "connection", ".", "setTypeMap", "(", "map", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setHoldability", "(", "int", "holdability", ")", "throws", "SQLException", "{", "connection", ".", "setHoldability", "(", "holdability", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getHoldability", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "getHoldability", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Savepoint", "setSavepoint", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "setSavepoint", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Savepoint", "setSavepoint", "(", "String", "name", ")", "throws", "SQLException", "{", "return", "connection", ".", "setSavepoint", "(", "name", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "rollback", "(", "Savepoint", "savepoint", ")", "throws", "SQLException", "{", "connection", ".", "rollback", "(", "savepoint", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "releaseSavepoint", "(", "Savepoint", "savepoint", ")", "throws", "SQLException", "{", "connection", ".", "releaseSavepoint", "(", "savepoint", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Statement", "createStatement", "(", "int", "resultSetType", ",", "int", "resultSetConcurrency", ",", "int", "resultSetHoldability", ")", "throws", "SQLException", "{", "return", "connection", ".", "createStatement", "(", "resultSetType", ",", "resultSetConcurrency", ",", "resultSetHoldability", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "resultSetType", ",", "int", "resultSetConcurrency", ",", "int", "resultSetHoldability", ")", "throws", "SQLException", "{", "return", "connection", ".", "prepareStatement", "(", "sql", ",", "resultSetType", ",", "resultSetConcurrency", ",", "resultSetHoldability", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CallableStatement", "prepareCall", "(", "String", "sql", ",", "int", "resultSetType", ",", "int", "resultSetConcurrency", ",", "int", "resultSetHoldability", ")", "throws", "SQLException", "{", "return", "connection", ".", "prepareCall", "(", "sql", ",", "resultSetType", ",", "resultSetConcurrency", ",", "resultSetHoldability", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "return", "connection", ".", "prepareStatement", "(", "sql", ",", "autoGeneratedKeys", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "int", "[", "]", "columnIndexes", ")", "throws", "SQLException", "{", "return", "connection", ".", "prepareStatement", "(", "sql", ",", "columnIndexes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "PreparedStatement", "prepareStatement", "(", "String", "sql", ",", "String", "[", "]", "columnNames", ")", "throws", "SQLException", "{", "return", "connection", ".", "prepareStatement", "(", "sql", ",", "columnNames", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Clob", "createClob", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "createClob", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Blob", "createBlob", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "createBlob", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "NClob", "createNClob", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "createNClob", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLXML", "createSQLXML", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "createSQLXML", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isValid", "(", "int", "timeout", ")", "throws", "SQLException", "{", "return", "connection", ".", "isValid", "(", "timeout", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setClientInfo", "(", "String", "name", ",", "String", "value", ")", "throws", "SQLClientInfoException", "{", "connection", ".", "setClientInfo", "(", "name", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setClientInfo", "(", "Properties", "properties", ")", "throws", "SQLClientInfoException", "{", "connection", ".", "setClientInfo", "(", "properties", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getClientInfo", "(", "String", "name", ")", "throws", "SQLException", "{", "return", "connection", ".", "getClientInfo", "(", "name", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Properties", "getClientInfo", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "getClientInfo", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Array", "createArrayOf", "(", "String", "typeName", ",", "Object", "[", "]", "elements", ")", "throws", "SQLException", "{", "return", "connection", ".", "createArrayOf", "(", "typeName", ",", "elements", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Struct", "createStruct", "(", "String", "typeName", ",", "Object", "[", "]", "attributes", ")", "throws", "SQLException", "{", "return", "connection", ".", "createStruct", "(", "typeName", ",", "attributes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setSchema", "(", "String", "schema", ")", "throws", "SQLException", "{", "connection", ".", "setSchema", "(", "schema", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getSchema", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "getSchema", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "abort", "(", "Executor", "executor", ")", "throws", "SQLException", "{", "connection", ".", "abort", "(", "executor", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setNetworkTimeout", "(", "Executor", "executor", ",", "int", "milliseconds", ")", "throws", "SQLException", "{", "connection", ".", "setNetworkTimeout", "(", "executor", ",", "milliseconds", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getNetworkTimeout", "(", ")", "throws", "SQLException", "{", "return", "connection", ".", "getNetworkTimeout", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "T", "unwrap", "(", "Class", "<", "T", ">", "iface", ")", "throws", "SQLException", "{", "return", "connection", ".", "unwrap", "(", "iface", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isWrapperFor", "(", "Class", "<", "?", ">", "iface", ")", "throws", "SQLException", "{", "return", "connection", ".", "isWrapperFor", "(", "iface", ")", ";", "}", "</s>"]
["<s>", "MissingKeyException", "(", ")", "{", "}", "</s>"]
["<s>", "MissingKeyException", "(", "EntityProxy", "proxy", ")", "{", "super", "(", "\"", "<STR_LIT>", "\"", ")", ";", "this", ".", "proxy", "=", "proxy", ";", "}", "</s>"]
["<s>", "public", "EntityProxy", "getProxy", "(", ")", "{", "return", "proxy", ";", "}", "</s>"]
["<s>", "PooledConnectionProvider", "(", "ConnectionPoolDataSource", "dataSource", ")", "{", "this", ".", "dataSource", "=", "Objects", ".", "requireNotNull", "(", "dataSource", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Connection", "getConnection", "(", ")", "throws", "SQLException", "{", "PooledConnection", "connection", "=", "dataSource", ".", "getPooledConnection", "(", ")", ";", "return", "connection", ".", "getConnection", "(", ")", ";", "}", "</s>"]
["<s>", "CompositeStatementListener", "(", "Set", "<", "StatementListener", ">", "listeners", ")", "{", "if", "(", "listeners", "!", "=", "null", ")", "{", "this", ".", "listeners", ".", "addAll", "(", "listeners", ")", ";", "}", "}", "</s>"]
["<s>", "public", "void", "add", "(", "StatementListener", "listener", ")", "{", "listeners", ".", "add", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "public", "void", "remove", "(", "StatementListener", "listener", ")", "{", "listeners", ".", "remove", "(", "listener", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeExecuteUpdate", "(", "Statement", "statement", ",", "String", "sql", ",", "BoundParameters", "parameters", ")", "{", "for", "(", "StatementListener", "interceptor", ":", "listeners", ")", "{", "interceptor", ".", "beforeExecuteUpdate", "(", "statement", ",", "sql", ",", "parameters", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterExecuteUpdate", "(", "Statement", "statement", ")", "{", "for", "(", "StatementListener", "interceptor", ":", "listeners", ")", "{", "interceptor", ".", "afterExecuteUpdate", "(", "statement", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeExecuteQuery", "(", "Statement", "statement", ",", "String", "sql", ",", "BoundParameters", "parameters", ")", "{", "for", "(", "StatementListener", "interceptor", ":", "listeners", ")", "{", "interceptor", ".", "beforeExecuteQuery", "(", "statement", ",", "sql", ",", "parameters", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterExecuteQuery", "(", "Statement", "statement", ")", "{", "for", "(", "StatementListener", "interceptor", ":", "listeners", ")", "{", "interceptor", ".", "afterExecuteQuery", "(", "statement", ")", ";", "}", "}", "</s>"]
["<s>", "EntityResultReader", "(", "EntityReader", "<", "E", ",", "S", ">", "reader", ",", "Attribute", "[", "]", "attributes", ")", "{", "this", ".", "reader", "=", "reader", ";", "this", ".", "attributes", "=", "attributes", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "read", "(", "ResultSet", "results", ",", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "selection", ")", "throws", "SQLException", "{", "return", "reader", ".", "fromResult", "(", "null", ",", "results", ",", "attributes", ")", ";", "}", "</s>"]
["<s>", "public", "AutoIncrementColumnDefinition", "(", ")", "{", "this", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "public", "AutoIncrementColumnDefinition", "(", "String", "autoincrementKeyword", ")", "{", "this", ".", "autoincrementKeyword", "=", "autoincrementKeyword", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "skipTypeIdentifier", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "postFixPrimaryKey", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "appendGeneratedSequence", "(", "QueryBuilder", "qb", ",", "Attribute", "attribute", ")", "{", "qb", ".", "append", "(", "autoincrementKeyword", ")", ";", "}", "</s>"]
["<s>", "ParameterInliner", "(", "String", "sql", ",", "Object", "[", "]", "parameters", ")", "{", "this", ".", "sql", "=", "sql", ";", "this", ".", "parameters", "=", "parameters", ";", "}", "</s>"]
["<s>", "public", "Object", "[", "]", "parameters", "(", ")", "{", "return", "parameters", ";", "}", "</s>"]
["<s>", "public", "String", "sql", "(", ")", "{", "return", "sql", ";", "}", "</s>"]
["<s>", "ParameterInliner", "apply", "(", ")", "{", "if", "(", "!", "test", "(", "parameters", ")", ")", "{", "return", "this", ";", "}", "List", "<", "Integer", ">", "indicesOfArguments", "=", "new", "ArrayList", "<", ">", "(", "parameters", ".", "length", ")", ";", "Matcher", "matcher", "=", "questionMarkPattern", ".", "matcher", "(", "sql", ")", ";", "while", "(", "matcher", ".", "find", "(", ")", ")", "{", "indicesOfArguments", ".", "add", "(", "matcher", ".", "start", "(", ")", ")", ";", "}", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", "sql", ")", ";", "ArrayList", "<", "Object", ">", "list", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "parameters", ".", "length", "-", "1", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "Object", "parameter", "=", "parameters", "[", "i", "]", ";", "int", "index", "=", "indicesOfArguments", ".", "get", "(", "i", ")", ";", "if", "(", "parameter", "instanceof", "Iterable", ")", "{", "int", "sizeBefore", "=", "list", ".", "size", "(", ")", ";", "Iterable", "iterable", "=", "(", "Iterable", ")", "parameter", ";", "Consumer", "<", "Object", ">", "collector", "=", "collect", "(", "list", ")", ";", "for", "(", "Object", "e", ":", "iterable", ")", "{", "collector", ".", "accept", "(", "e", ")", ";", "}", "expand", "(", "sb", ",", "index", ",", "list", ".", "size", "(", ")", "-", "sizeBefore", ")", ";", "}", "else", "if", "(", "parameter", "instanceof", "short", "[", "]", ")", "{", "short", "[", "]", "array", "=", "(", "short", "[", "]", ")", "parameter", ";", "ArrayFunctions", ".", "forEach", "(", "array", ",", "collect", "(", "list", ")", ")", ";", "expand", "(", "sb", ",", "index", ",", "array", ".", "length", ")", ";", "}", "else", "if", "(", "parameter", "instanceof", "int", "[", "]", ")", "{", "int", "[", "]", "array", "=", "(", "int", "[", "]", ")", "parameter", ";", "ArrayFunctions", ".", "forEach", "(", "array", ",", "collect", "(", "list", ")", ")", ";", "expand", "(", "sb", ",", "index", ",", "array", ".", "length", ")", ";", "}", "else", "if", "(", "parameter", "instanceof", "long", "[", "]", ")", "{", "long", "[", "]", "array", "=", "(", "long", "[", "]", ")", "parameter", ";", "ArrayFunctions", ".", "forEach", "(", "array", ",", "collect", "(", "list", ")", ")", ";", "expand", "(", "sb", ",", "index", ",", "array", ".", "length", ")", ";", "}", "else", "if", "(", "parameter", "instanceof", "float", "[", "]", ")", "{", "float", "[", "]", "array", "=", "(", "float", "[", "]", ")", "parameter", ";", "ArrayFunctions", ".", "forEach", "(", "array", ",", "collect", "(", "list", ")", ")", ";", "expand", "(", "sb", ",", "index", ",", "array", ".", "length", ")", ";", "}", "else", "if", "(", "parameter", "instanceof", "double", "[", "]", ")", "{", "double", "[", "]", "array", "=", "(", "double", "[", "]", ")", "parameter", ";", "ArrayFunctions", ".", "forEach", "(", "array", ",", "collect", "(", "list", ")", ")", ";", "expand", "(", "sb", ",", "index", ",", "array", ".", "length", ")", ";", "}", "else", "if", "(", "parameter", "instanceof", "boolean", "[", "]", ")", "{", "boolean", "[", "]", "array", "=", "(", "boolean", "[", "]", ")", "parameter", ";", "ArrayFunctions", ".", "forEach", "(", "array", ",", "collect", "(", "list", ")", ")", ";", "expand", "(", "sb", ",", "index", ",", "array", ".", "length", ")", ";", "}", "else", "if", "(", "parameter", "instanceof", "Object", "[", "]", ")", "{", "Object", "[", "]", "array", "=", "(", "Object", "[", "]", ")", "parameter", ";", "ArrayFunctions", ".", "forEach", "(", "array", ",", "collect", "(", "list", ")", ")", ";", "expand", "(", "sb", ",", "index", ",", "array", ".", "length", ")", ";", "}", "else", "{", "list", ".", "add", "(", "0", ",", "parameter", ")", ";", "}", "}", "sql", "=", "sb", ".", "toString", "(", ")", ";", "parameters", "=", "list", ".", "toArray", "(", ")", ";", "return", "this", ";", "}", "</s>"]
["<s>", "private", "static", "<", "T", ">", "Consumer", "<", "T", ">", "collect", "(", "final", "ArrayList", "<", "T", ">", "list", ")", "{", "return", "new", "Consumer", "<", "T", ">", "(", ")", "{", "int", "index", "=", "0", ";", "@", "Override", "public", "void", "accept", "(", "T", "t", ")", "{", "list", ".", "add", "(", "index", "+", "+", ",", "t", ")", ";", "}", "}", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "accept", "(", "T", "t", ")", "{", "list", ".", "add", "(", "index", "+", "+", ",", "t", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "test", "(", "Object", "[", "]", "value", ")", "{", "for", "(", "Object", "parameter", ":", "parameters", ")", "{", "if", "(", "parameter", "instanceof", "Iterable", "|", "|", "(", "parameter", "!", "=", "null", "&", "&", "parameter", ".", "getClass", "(", ")", ".", "isArray", "(", ")", ")", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}", "</s>"]
["<s>", "private", "void", "expand", "(", "StringBuilder", "sb", ",", "int", "index", ",", "int", "length", ")", "{", "StringBuilder", "replacement", "=", "new", "StringBuilder", "(", "\"", "<STR_LIT:(>", "\"", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "length", ";", "i", "+", "+", ")", "{", "replacement", ".", "append", "(", "\"", "<STR_LIT:?>", "\"", ")", ";", "if", "(", "i", "+", "1", "<", "length", ")", "{", "replacement", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "}", "replacement", ".", "append", "(", "\"", "<STR_LIT:)>", "\"", ")", ";", "sb", ".", "replace", "(", "index", ",", "index", "+", "1", ",", "replacement", ".", "toString", "(", ")", ")", ";", "}", "</s>"]
["<s>", "SelectResult", "(", "RuntimeConfiguration", "configuration", ",", "QueryElement", "<", "?", ">", "query", ",", "ResultReader", "<", "E", ">", "reader", ")", "{", "super", "(", "query", ".", "getLimit", "(", ")", ")", ";", "this", ".", "query", "=", "query", ";", "this", ".", "configuration", "=", "configuration", ";", "this", ".", "reader", "=", "reader", ";", "selection", "=", "query", ".", "getSelection", "(", ")", ";", "limit", "=", "query", ".", "getLimit", "(", ")", ";", "closeConnection", "=", "true", ";", "keepStatement", "=", "false", ";", "resultSetType", "=", "ResultSet", ".", "TYPE_FORWARD_ONLY", ";", "resultSetConcurrency", "=", "ResultSet", ".", "CONCUR_READ_ONLY", ";", "}", "</s>"]
["<s>", "private", "Statement", "createStatement", "(", "boolean", "prepared", ")", "throws", "SQLException", "{", "if", "(", "keepStatement", "&", "&", "statement", "!", "=", "null", ")", "{", "return", "statement", ";", "}", "Connection", "connection", "=", "configuration", ".", "getConnection", "(", ")", ";", "closeConnection", "=", "!", "(", "connection", "instanceof", "UncloseableConnection", ")", ";", "Statement", "statement", ";", "if", "(", "!", "prepared", ")", "{", "statement", "=", "connection", ".", "createStatement", "(", "resultSetType", ",", "resultSetConcurrency", ")", ";", "}", "else", "{", "statement", "=", "connection", ".", "prepareStatement", "(", "sql", ",", "resultSetType", ",", "resultSetConcurrency", ")", ";", "}", "if", "(", "keepStatement", ")", "{", "this", ".", "statement", "=", "statement", ";", "this", ".", "connection", "=", "connection", ";", "}", "return", "statement", ";", "}", "</s>"]
["<s>", "private", "BoundParameters", "createQuery", "(", "int", "skip", ",", "int", "take", ")", "{", "if", "(", "limit", "=", "=", "null", "&", "&", "take", ">", "0", "&", "&", "take", "!", "=", "Integer", ".", "MAX_VALUE", ")", "{", "query", ".", "limit", "(", "take", ")", ".", "offset", "(", "skip", ")", ";", "}", "DefaultOutput", "generator", "=", "new", "DefaultOutput", "(", "configuration", ",", "query", ")", ";", "sql", "=", "generator", ".", "toSql", "(", ")", ";", "return", "generator", ".", "parameters", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CloseableIterator", "<", "E", ">", "iterator", "(", "int", "skip", ",", "int", "take", ")", "{", "try", "{", "BoundParameters", "parameters", "=", "createQuery", "(", "skip", ",", "take", ")", ";", "Statement", "statement", "=", "createStatement", "(", "!", "parameters", ".", "isEmpty", "(", ")", ")", ";", "statement", ".", "setFetchSize", "(", "limit", "=", "=", "null", "?", "0", ":", "limit", ")", ";", "StatementListener", "listener", "=", "configuration", ".", "getStatementListener", "(", ")", ";", "listener", ".", "beforeExecuteQuery", "(", "statement", ",", "sql", ",", "parameters", ")", ";", "ResultSet", "results", ";", "if", "(", "parameters", ".", "isEmpty", "(", ")", ")", "{", "results", "=", "statement", ".", "executeQuery", "(", "sql", ")", ";", "}", "else", "{", "PreparedStatement", "preparedStatement", "=", "(", "PreparedStatement", ")", "statement", ";", "Mapping", "mapping", "=", "configuration", ".", "getMapping", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "parameters", ".", "count", "(", ")", ";", "i", "+", "+", ")", "{", "Expression", "expression", "=", "parameters", ".", "expressionAt", "(", "i", ")", ";", "Object", "value", "=", "parameters", ".", "valueAt", "(", "i", ")", ";", "if", "(", "expression", "instanceof", "Attribute", ")", "{", "Attribute", "attribute", "=", "(", "Attribute", ")", "expression", ";", "if", "(", "attribute", ".", "isAssociation", "(", ")", "&", "&", "(", "attribute", ".", "isForeignKey", "(", ")", "|", "|", "attribute", ".", "isKey", "(", ")", ")", ")", "{", "if", "(", "value", "!", "=", "null", "&", "&", "(", "(", "Expression", "<", "?", ">", ")", "expression", ")", ".", "getClassType", "(", ")", ".", "isAssignableFrom", "(", "value", ".", "getClass", "(", ")", ")", ")", "{", "value", "=", "Attributes", ".", "replaceKeyReference", "(", "value", ",", "attribute", ")", ";", "}", "}", "}", "mapping", ".", "write", "(", "expression", ",", "preparedStatement", ",", "i", "+", "1", ",", "value", ")", ";", "}", "results", "=", "preparedStatement", ".", "executeQuery", "(", ")", ";", "}", "listener", ".", "afterExecuteQuery", "(", "statement", ")", ";", "return", "new", "ResultSetIterator", "<", ">", "(", "reader", ",", "results", ",", "selection", ",", "!", "keepStatement", ",", "closeConnection", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "super", ".", "close", "(", ")", ";", "if", "(", "keepStatement", ")", "{", "if", "(", "statement", "!", "=", "null", ")", "{", "try", "{", "statement", ".", "close", "(", ")", ";", "}", "catch", "(", "SQLException", "ignored", ")", "{", "}", "}", "if", "(", "connection", "!", "=", "null", ")", "{", "try", "{", "connection", ".", "close", "(", ")", ";", "}", "catch", "(", "SQLException", "ignored", ")", "{", "}", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addTransactionListener", "(", "Supplier", "<", "TransactionListener", ">", "transactionListener", ")", "{", "if", "(", "transactionListener", "!", "=", "null", ")", "{", "configuration", ".", "getTransactionListenerFactories", "(", ")", ".", "add", "(", "transactionListener", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "QueryElement", "unwrapQuery", "(", ")", "{", "return", "query", ";", "}", "</s>"]
["<s>", "boolean", "createColumn", "(", ")", ";", "</s>"]
["<s>", "String", "columnName", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "boolean", "skipTypeIdentifier", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "postFixPrimaryKey", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "appendGeneratedSequence", "(", "QueryBuilder", "qb", ",", "Attribute", "attribute", ")", "{", "int", "start", "=", "1", ";", "int", "increment", "=", "1", ";", "qb", ".", "keyword", "(", "GENERATED", ",", "ALWAYS", ",", "AS", ",", "IDENTITY", ")", ";", "qb", ".", "openParenthesis", "(", ")", ".", "keyword", "(", "START", ",", "WITH", ")", ".", "value", "(", "start", ")", ".", "comma", "(", ")", ".", "keyword", "(", "INCREMENT", ",", "BY", ")", ".", "value", "(", "increment", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "}", "</s>"]
["<s>", "public", "LoggingListener", "(", ")", "{", "this", "(", "Logger", ".", "getLogger", "(", "\"", "<STR_LIT>", "\"", ")", ",", "Level", ".", "INFO", ")", ";", "}", "</s>"]
["<s>", "public", "LoggingListener", "(", "Logger", "log", ",", "Level", "level", ")", "{", "this", ".", "log", "=", "log", ";", "this", ".", "level", "=", "level", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postLoad", "(", "T", "entity", ")", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postInsert", "(", "T", "entity", ")", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postDelete", "(", "T", "entity", ")", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "postUpdate", "(", "T", "entity", ")", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preInsert", "(", "T", "entity", ")", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preDelete", "(", "T", "entity", ")", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "preUpdate", "(", "T", "entity", ")", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "\"", ",", "entity", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeExecuteUpdate", "(", "Statement", "statement", ",", "String", "sql", ",", "BoundParameters", "parameters", ")", "{", "if", "(", "parameters", "!", "=", "null", "&", "&", "!", "parameters", ".", "isEmpty", "(", ")", ")", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "new", "Object", "[", "]", "{", "statement", ",", "sql", ",", "parameters", "}", ")", ";", "}", "else", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "new", "Object", "[", "]", "{", "statement", ",", "sql", "}", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterExecuteUpdate", "(", "Statement", "statement", ")", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeExecuteQuery", "(", "Statement", "statement", ",", "String", "sql", ",", "BoundParameters", "parameters", ")", "{", "if", "(", "parameters", "!", "=", "null", "&", "&", "!", "parameters", ".", "isEmpty", "(", ")", ")", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "new", "Object", "[", "]", "{", "statement", ",", "sql", ",", "parameters", "}", ")", ";", "}", "else", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "<STR_LIT>", "<STR_LIT>", "\"", ",", "new", "Object", "[", "]", "{", "statement", ",", "sql", "}", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterExecuteQuery", "(", "Statement", "statement", ")", "{", "log", ".", "log", "(", "level", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "StatementDelegate", "(", "Statement", "statement", ")", "{", "this", ".", "statement", "=", "statement", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "executeQuery", "(", "String", "sql", ")", "throws", "SQLException", "{", "return", "statement", ".", "executeQuery", "(", "sql", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ")", "throws", "SQLException", "{", "return", "statement", ".", "executeUpdate", "(", "sql", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "SQLException", "{", "statement", ".", "close", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxFieldSize", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getMaxFieldSize", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setMaxFieldSize", "(", "int", "max", ")", "throws", "SQLException", "{", "statement", ".", "setMaxFieldSize", "(", "max", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getMaxRows", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getMaxRows", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setMaxRows", "(", "int", "max", ")", "throws", "SQLException", "{", "statement", ".", "setMaxRows", "(", "max", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setEscapeProcessing", "(", "boolean", "enable", ")", "throws", "SQLException", "{", "statement", ".", "setEscapeProcessing", "(", "enable", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getQueryTimeout", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getQueryTimeout", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setQueryTimeout", "(", "int", "seconds", ")", "throws", "SQLException", "{", "statement", ".", "setQueryTimeout", "(", "seconds", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "cancel", "(", ")", "throws", "SQLException", "{", "statement", ".", "cancel", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "SQLWarning", "getWarnings", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getWarnings", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearWarnings", "(", ")", "throws", "SQLException", "{", "statement", ".", "clearWarnings", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setCursorName", "(", "String", "name", ")", "throws", "SQLException", "{", "statement", ".", "setCursorName", "(", "name", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ")", "throws", "SQLException", "{", "return", "statement", ".", "execute", "(", "sql", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getResultSet", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getResultSet", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getUpdateCount", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getUpdateCount", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getMoreResults", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getMoreResults", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFetchDirection", "(", "int", "direction", ")", "throws", "SQLException", "{", "statement", ".", "setFetchDirection", "(", "direction", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getFetchDirection", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getFetchDirection", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setFetchSize", "(", "int", "rows", ")", "throws", "SQLException", "{", "statement", ".", "setFetchSize", "(", "rows", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getFetchSize", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getFetchSize", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getResultSetConcurrency", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getResultSetConcurrency", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getResultSetType", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getResultSetType", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addBatch", "(", "String", "sql", ")", "throws", "SQLException", "{", "statement", ".", "addBatch", "(", "sql", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "clearBatch", "(", ")", "throws", "SQLException", "{", "statement", ".", "clearBatch", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "[", "]", "executeBatch", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "executeBatch", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Connection", "getConnection", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getConnection", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "getMoreResults", "(", "int", "current", ")", "throws", "SQLException", "{", "return", "statement", ".", "getMoreResults", "(", "current", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ResultSet", "getGeneratedKeys", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getGeneratedKeys", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "return", "statement", ".", "executeUpdate", "(", "sql", ",", "autoGeneratedKeys", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ",", "int", "[", "]", "columnIndexes", ")", "throws", "SQLException", "{", "return", "statement", ".", "executeUpdate", "(", "sql", ",", "columnIndexes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "executeUpdate", "(", "String", "sql", ",", "String", "[", "]", "columnNames", ")", "throws", "SQLException", "{", "return", "statement", ".", "executeUpdate", "(", "sql", ",", "columnNames", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ",", "int", "autoGeneratedKeys", ")", "throws", "SQLException", "{", "return", "statement", ".", "execute", "(", "sql", ",", "autoGeneratedKeys", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ",", "int", "[", "]", "columnIndexes", ")", "throws", "SQLException", "{", "return", "statement", ".", "execute", "(", "sql", ",", "columnIndexes", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "execute", "(", "String", "sql", ",", "String", "[", "]", "columnNames", ")", "throws", "SQLException", "{", "return", "statement", ".", "execute", "(", "sql", ",", "columnNames", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "getResultSetHoldability", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "getResultSetHoldability", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isClosed", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "isClosed", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "setPoolable", "(", "boolean", "poolable", ")", "throws", "SQLException", "{", "statement", ".", "setPoolable", "(", "poolable", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isPoolable", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "isPoolable", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "closeOnCompletion", "(", ")", "throws", "SQLException", "{", "statement", ".", "closeOnCompletion", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isCloseOnCompletion", "(", ")", "throws", "SQLException", "{", "return", "statement", ".", "isCloseOnCompletion", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "T", "unwrap", "(", "Class", "<", "T", ">", "iface", ")", "throws", "SQLException", "{", "return", "statement", ".", "unwrap", "(", "iface", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isWrapperFor", "(", "Class", "<", "?", ">", "iface", ")", "throws", "SQLException", "{", "return", "statement", ".", "isWrapperFor", "(", "iface", ")", ";", "}", "</s>"]
["<s>", "ResultSetIterator", "(", "ResultReader", "<", "E", ">", "reader", ",", "ResultSet", "results", ",", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "selection", ",", "boolean", "closeStatement", ",", "boolean", "closeConnection", ")", "{", "this", ".", "reader", "=", "Objects", ".", "requireNotNull", "(", "reader", ")", ";", "this", ".", "results", "=", "Objects", ".", "requireNotNull", "(", "results", ")", ";", "this", ".", "selection", "=", "selection", ";", "this", ".", "closeStatement", "=", "closeStatement", ";", "this", ".", "closeConnection", "=", "closeConnection", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasNext", "(", ")", "{", "if", "(", "closed", ")", "{", "return", "false", ";", "}", "if", "(", "advanced", ")", "{", "return", "true", ";", "}", "else", "{", "try", "{", "if", "(", "results", ".", "next", "(", ")", ")", "{", "return", "advanced", "=", "true", ";", "}", "else", "{", "close", "(", ")", ";", "return", "false", ";", "}", "}", "catch", "(", "SQLException", "e", ")", "{", "return", "false", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "next", "(", ")", "{", "if", "(", "closed", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "try", "{", "if", "(", "!", "advanced", ")", "{", "if", "(", "!", "results", ".", "next", "(", ")", ")", "{", "advanced", "=", "false", ";", "close", "(", ")", ";", "throw", "new", "NoSuchElementException", "(", ")", ";", "}", "}", "E", "value", "=", "reader", ".", "read", "(", "results", ",", "selection", ")", ";", "position", "+", "+", ";", "advanced", "=", "false", ";", "return", "value", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "NoSuchElementException", "exception", "=", "new", "NoSuchElementException", "(", ")", ";", "exception", ".", "initCause", "(", "e", ")", ";", "throw", "exception", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "E", "get", "(", "int", "index", ")", "{", "if", "(", "index", "<", "0", ")", "{", "throw", "new", "IndexOutOfBoundsException", "(", ")", ";", "}", "try", "{", "if", "(", "results", ".", "absolute", "(", "index", "+", "1", ")", ")", "{", "position", "=", "index", ";", "if", "(", "results", ".", "rowDeleted", "(", ")", ")", "{", "return", "null", ";", "}", "return", "reader", ".", "read", "(", "results", ",", "selection", ")", ";", "}", "else", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "position", "(", ")", "{", "return", "position", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "remove", "(", ")", "{", "try", "{", "if", "(", "results", ".", "isBeforeFirst", "(", ")", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "if", "(", "results", ".", "getConcurrency", "(", ")", "=", "=", "ResultSet", ".", "CONCUR_UPDATABLE", ")", "{", "results", ".", "deleteRow", "(", ")", ";", "}", "else", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "}", "catch", "(", "SQLFeatureNotSupportedException", "e", ")", "{", "throw", "new", "UnsupportedOperationException", "(", "e", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "{", "synchronized", "(", "results", ")", "{", "if", "(", "!", "closed", ")", "{", "Statement", "statement", "=", "null", ";", "if", "(", "closeStatement", ")", "{", "try", "{", "statement", "=", "results", ".", "getStatement", "(", ")", ";", "}", "catch", "(", "SQLException", "ignored", ")", "{", "}", "}", "closeSuppressed", "(", "results", ")", ";", "if", "(", "statement", "!", "=", "null", ")", "{", "Connection", "connection", "=", "null", ";", "try", "{", "connection", "=", "statement", ".", "getConnection", "(", ")", ";", "}", "catch", "(", "SQLException", "ignored", ")", "{", "}", "closeSuppressed", "(", "statement", ")", ";", "if", "(", "closeConnection", ")", "{", "closeSuppressed", "(", "connection", ")", ";", "}", "}", "closed", "=", "true", ";", "}", "}", "}", "</s>"]
["<s>", "private", "static", "void", "closeSuppressed", "(", "AutoCloseable", "closeable", ")", "{", "if", "(", "closeable", "!", "=", "null", ")", "{", "try", "{", "closeable", ".", "close", "(", ")", ";", "}", "catch", "(", "Exception", "ignored", ")", "{", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "<", "T", ">", "T", "unwrap", "(", "Class", "<", "T", ">", "iface", ")", "throws", "SQLException", "{", "return", "results", ".", "unwrap", "(", "iface", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "isWrapperFor", "(", "Class", "<", "?", ">", "iface", ")", "throws", "SQLException", "{", "return", "results", ".", "isWrapperFor", "(", "iface", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "equals", "(", "Object", "obj", ")", "{", "if", "(", "obj", "instanceof", "ResultSetIterator", ")", "{", "ResultSetIterator", "iterator", "=", "(", "ResultSetIterator", ")", "obj", ";", "return", "iterator", ".", "results", "=", "=", "results", ";", "}", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "hashCode", "(", ")", "{", "return", "Objects", ".", "hash", "(", "results", ")", ";", "}", "</s>"]
["<s>", "UncloseableConnection", "(", "Connection", "connection", ")", "{", "super", "(", "connection", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "close", "(", ")", "throws", "SQLException", "{", "}", "</s>"]
["<s>", "public", "SQLServer", "(", ")", "{", "generatedColumnDefinition", "=", "new", "IdentityColumnDefinition", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsIfExists", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "GeneratedColumnDefinition", "generatedColumnDefinition", "(", ")", "{", "return", "generatedColumnDefinition", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "LimitedElement", ">", "limitGenerator", "(", ")", "{", "return", "new", "OrderByOffsetFetchLimit", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", ">", "upsertGenerator", "(", ")", "{", "return", "new", "MergeGenerator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "OrderByElement", ">", "orderByGenerator", "(", ")", "{", "return", "new", "OrderByWithLimitGenerator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addMappings", "(", "Mapping", "mapping", ")", "{", "super", ".", "addMappings", "(", "mapping", ")", ";", "mapping", ".", "replaceType", "(", "Types", ".", "BOOLEAN", ",", "new", "BitBooleanType", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "Output", "output", ",", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "values", ")", "{", "super", ".", "write", "(", "output", ",", "values", ")", ";", "output", ".", "builder", "(", ")", ".", "append", "(", "\"", "<STR_LIT:;>", "\"", ")", ";", "}", "</s>"]
["<s>", "private", "void", "forceOrderBy", "(", "QueryElement", "<", "?", ">", "query", ")", "{", "if", "(", "query", ".", "getLimit", "(", ")", "!", "=", "null", "&", "&", "(", "query", ".", "getOrderByExpressions", "(", ")", "=", "=", "null", "|", "|", "query", ".", "getOrderByExpressions", "(", ")", ".", "isEmpty", "(", ")", ")", ")", "{", "Set", "<", "Type", "<", "?", ">", ">", "types", "=", "query", ".", "entityTypes", "(", ")", ";", "if", "(", "types", "!", "=", "null", "&", "&", "!", "types", ".", "isEmpty", "(", ")", ")", "{", "Type", "<", "?", ">", "type", "=", "types", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "for", "(", "Attribute", "attribute", ":", "type", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "attribute", ".", "isKey", "(", ")", ")", "{", "query", ".", "orderBy", "(", "(", "Expression", ")", "attribute", ")", ";", "break", ";", "}", "}", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "Output", "output", ",", "OrderByElement", "query", ")", "{", "if", "(", "query", "instanceof", "QueryElement", ")", "{", "forceOrderBy", "(", "(", "QueryElement", "<", "?", ">", ")", "query", ")", ";", "}", "super", ".", "write", "(", "output", ",", "query", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "skipTypeIdentifier", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "postFixPrimaryKey", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "appendGeneratedSequence", "(", "QueryBuilder", "qb", ",", "Attribute", "attribute", ")", "{", "int", "start", "=", "1", ";", "int", "increment", "=", "1", ";", "qb", ".", "keyword", "(", "Keyword", ".", "IDENTITY", ")", ";", "qb", ".", "openParenthesis", "(", ")", ".", "value", "(", "start", ")", ".", "comma", "(", ")", ".", "value", "(", "increment", ")", ".", "closeParenthesis", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "QueryBuilder", "qb", ",", "Integer", "limit", ",", "Integer", "offset", ")", "{", "super", ".", "write", "(", "qb", ",", "limit", ",", "offset", "=", "=", "null", "?", "0", ":", "offset", ")", ";", "}", "</s>"]
["<s>", "BitBooleanType", "(", ")", "{", "super", "(", "Boolean", ".", "class", ",", "Types", ".", "BIT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "getIdentifier", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Boolean", "read", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "Boolean", "value", "=", "results", ".", "getBoolean", "(", "column", ")", ";", "return", "results", ".", "wasNull", "(", ")", "?", "null", ":", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "readBoolean", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getBoolean", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeBoolean", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "boolean", "value", ")", "throws", "SQLException", "{", "statement", ".", "setBoolean", "(", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "public", "SQLite", "(", ")", "{", "autoIncrementColumn", "=", "new", "AutoIncrementColumnDefinition", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGeneratedKeysInBatchUpdate", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsAddingConstraint", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "GeneratedColumnDefinition", "generatedColumnDefinition", "(", ")", "{", "return", "autoIncrementColumn", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LimitGenerator", "limitGenerator", "(", ")", "{", "return", "new", "LimitGenerator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", ">", "upsertGenerator", "(", ")", "{", "return", "new", "InsertOrReplace", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsUpsert", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addMappings", "(", "Mapping", "mapping", ")", "{", "super", ".", "addMappings", "(", "mapping", ")", ";", "mapping", ".", "putType", "(", "long", ".", "class", ",", "new", "LongType", "(", "long", ".", "class", ")", ")", ";", "mapping", ".", "putType", "(", "Long", ".", "class", ",", "new", "LongType", "(", "Long", ".", "class", ")", ")", ";", "}", "</s>"]
["<s>", "LongType", "(", "Class", "<", "Long", ">", "type", ")", "{", "super", "(", "type", ",", "Types", ".", "INTEGER", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Long", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getLong", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "INTEGER", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "readLong", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getLong", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeLong", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "long", "value", ")", "throws", "SQLException", "{", "statement", ".", "setLong", "(", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "final", "Output", "output", ",", "final", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "values", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "Type", "<", "?", ">", "type", "=", "(", "(", "Attribute", ")", "values", ".", "keySet", "(", ")", ".", "iterator", "(", ")", ".", "next", "(", ")", ")", ".", "getDeclaringType", "(", ")", ";", "qb", ".", "keyword", "(", "INSERT", ",", "OR", ",", "REPLACE", ",", "INTO", ")", ".", "tableNames", "(", "values", ".", "keySet", "(", ")", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparated", "(", "values", ".", "keySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "if", "(", "value", "instanceof", "Attribute", ")", "{", "Attribute", "attribute", "=", "(", "Attribute", ")", "value", ";", "if", "(", "attribute", ".", "isForeignKey", "(", ")", "&", "&", "attribute", ".", "getDeleteAction", "(", ")", "=", "=", "ReferentialAction", ".", "CASCADE", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "qb", ".", "attribute", "(", "attribute", ")", ";", "}", "}", "}", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "final", "String", "previousAlias", "=", "\"", "<STR_LIT>", "\"", ";", "final", "String", "newAlias", "=", "\"", "<STR_LIT>", "\"", ";", "qb", ".", "keyword", "(", "SELECT", ")", ".", "commaSeparated", "(", "values", ".", "keySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "qb", ".", "aliasAttribute", "(", "newAlias", ",", "(", "Attribute", ")", "value", ")", ";", "}", "}", ")", ".", "keyword", "(", "FROM", ")", ".", "openParenthesis", "(", ")", ".", "keyword", "(", "SELECT", ")", ".", "commaSeparated", "(", "values", ".", "keySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "keyword", "(", "AS", ")", ".", "append", "(", "expression", ".", "getName", "(", ")", ")", ";", "output", ".", "parameters", "(", ")", ".", "add", "(", "expression", ",", "values", ".", "get", "(", "expression", ")", ")", ";", "}", "}", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ".", "keyword", "(", "AS", ")", ".", "append", "(", "newAlias", ")", ".", "space", "(", ")", ".", "keyword", "(", "LEFT", ",", "JOIN", ")", ".", "openParenthesis", "(", ")", ".", "keyword", "(", "SELECT", ")", ".", "commaSeparatedExpressions", "(", "values", ".", "keySet", "(", ")", ")", ".", "keyword", "(", "FROM", ")", ".", "tableName", "(", "type", ".", "getName", "(", ")", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ".", "keyword", "(", "AS", ")", ".", "append", "(", "previousAlias", ")", ".", "space", "(", ")", ".", "keyword", "(", "ON", ")", ".", "aliasAttribute", "(", "previousAlias", ",", "type", ".", "getSingleKeyAttribute", "(", ")", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "aliasAttribute", "(", "newAlias", ",", "type", ".", "getSingleKeyAttribute", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "if", "(", "value", "instanceof", "Attribute", ")", "{", "Attribute", "attribute", "=", "(", "Attribute", ")", "value", ";", "if", "(", "attribute", ".", "isForeignKey", "(", ")", "&", "&", "attribute", ".", "getDeleteAction", "(", ")", "=", "=", "ReferentialAction", ".", "CASCADE", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "qb", ".", "attribute", "(", "attribute", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "qb", ".", "aliasAttribute", "(", "newAlias", ",", "(", "Attribute", ")", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "keyword", "(", "AS", ")", ".", "append", "(", "expression", ".", "getName", "(", ")", ")", ";", "output", ".", "parameters", "(", ")", ".", "add", "(", "expression", ",", "values", ".", "get", "(", "expression", ")", ")", ";", "}", "</s>"]
["<s>", "public", "H2", "(", ")", "{", "autoIncrementColumn", "=", "new", "AutoIncrementColumnDefinition", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "GeneratedColumnDefinition", "generatedColumnDefinition", "(", ")", "{", "return", "autoIncrementColumn", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LimitGenerator", "limitGenerator", "(", ")", "{", "return", "new", "LimitGenerator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", ">", "upsertGenerator", "(", ")", "{", "return", "new", "UpsertMergeDual", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "final", "Output", "output", ",", "final", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "values", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "Type", "<", "?", ">", "type", "=", "(", "(", "Attribute", ")", "values", ".", "keySet", "(", ")", ".", "iterator", "(", ")", ".", "next", "(", ")", ")", ".", "getDeclaringType", "(", ")", ";", "qb", ".", "keyword", "(", "MERGE", ")", ".", "keyword", "(", "INTO", ")", ".", "tableNames", "(", "values", ".", "keySet", "(", ")", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparatedExpressions", "(", "values", ".", "keySet", "(", ")", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ".", "keyword", "(", "KEY", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparatedAttributes", "(", "type", ".", "getKeyAttributes", "(", ")", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ".", "keyword", "(", "SELECT", ")", ".", "commaSeparated", "(", "values", ".", "keySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT:?>", "\"", ")", ";", "output", ".", "parameters", "(", ")", ".", "add", "(", "expression", ",", "values", ".", "get", "(", "expression", ")", ")", ";", "}", "}", ")", ".", "space", "(", ")", ".", "keyword", "(", "FROM", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT:?>", "\"", ")", ";", "output", ".", "parameters", "(", ")", ".", "add", "(", "expression", ",", "values", ".", "get", "(", "expression", ")", ")", ";", "}", "</s>"]
["<s>", "CharBitData", "(", "int", "jdbcType", ")", "{", "super", "(", "byte", "[", "]", ".", "class", ",", "jdbcType", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasLength", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getDefaultLength", "(", ")", "{", "return", "<NUM_LIT:32>", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "getIdentifier", "(", ")", "{", "switch", "(", "getSqlType", "(", ")", ")", "{", "case", "Types", ".", "BINARY", ":", "return", "\"", "<STR_LIT>", "\"", ";", "case", "Types", ".", "VARBINARY", ":", "return", "Keyword", ".", "VARCHAR", ";", "default", ":", "throw", "new", "IllegalArgumentException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getIdentifierSuffix", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "[", "]", "read", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "byte", "[", "]", "value", "=", "results", ".", "getBytes", "(", "column", ")", ";", "return", "results", ".", "wasNull", "(", ")", "?", "null", ":", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addMappings", "(", "Mapping", "mapping", ")", "{", "super", ".", "addMappings", "(", "mapping", ")", ";", "mapping", ".", "replaceType", "(", "Types", ".", "VARBINARY", ",", "new", "CharBitData", "(", "Types", ".", "VARBINARY", ")", ")", ";", "mapping", ".", "replaceType", "(", "Types", ".", "BINARY", ",", "new", "CharBitData", "(", "Types", ".", "BINARY", ")", ")", ";", "mapping", ".", "replaceType", "(", "Types", ".", "NVARCHAR", ",", "new", "VarCharType", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsIfExists", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGeneratedColumnsInPrepareStatement", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsUpsert", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "public", "PlatformDelegate", "(", "Connection", "connection", ")", "{", "platform", "=", "new", "PlatformFromConnection", "(", ")", ".", "apply", "(", "connection", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addMappings", "(", "Mapping", "mapping", ")", "{", "platform", ".", "addMappings", "(", "mapping", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsIfExists", "(", ")", "{", "return", "platform", ".", "supportsIfExists", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsInlineForeignKeyReference", "(", ")", "{", "return", "platform", ".", "supportsInlineForeignKeyReference", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsAddingConstraint", "(", ")", "{", "return", "platform", ".", "supportsAddingConstraint", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGeneratedKeysInBatchUpdate", "(", ")", "{", "return", "platform", ".", "supportsGeneratedKeysInBatchUpdate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGeneratedColumnsInPrepareStatement", "(", ")", "{", "return", "platform", ".", "supportsGeneratedColumnsInPrepareStatement", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsUpsert", "(", ")", "{", "return", "platform", ".", "supportsUpsert", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "GeneratedColumnDefinition", "generatedColumnDefinition", "(", ")", "{", "return", "platform", ".", "generatedColumnDefinition", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "LimitedElement", ">", "limitGenerator", "(", ")", "{", "return", "platform", ".", "limitGenerator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "VersionColumnDefinition", "versionColumnDefinition", "(", ")", "{", "return", "platform", ".", "versionColumnDefinition", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", ">", "upsertGenerator", "(", ")", "{", "return", "platform", ".", "upsertGenerator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "OrderByElement", ">", "orderByGenerator", "(", ")", "{", "return", "platform", ".", "orderByGenerator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "platform", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "public", "PostgresSQL", "(", ")", "{", "serialColumnDefinition", "=", "new", "SerialColumnDefinition", "(", ")", ";", "versionColumnDefinition", "=", "new", "SystemVersionColumnDefinition", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsInlineForeignKeyReference", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGeneratedKeysInBatchUpdate", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "GeneratedColumnDefinition", "generatedColumnDefinition", "(", ")", "{", "return", "serialColumnDefinition", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addMappings", "(", "Mapping", "mapping", ")", "{", "super", ".", "addMappings", "(", "mapping", ")", ";", "mapping", ".", "replaceType", "(", "Types", ".", "BINARY", ",", "new", "ByteArrayType", "(", "Types", ".", "BINARY", ")", ")", ";", "mapping", ".", "replaceType", "(", "Types", ".", "VARBINARY", ",", "new", "ByteArrayType", "(", "Types", ".", "VARBINARY", ")", ")", ";", "mapping", ".", "replaceType", "(", "Types", ".", "NVARCHAR", ",", "new", "VarCharType", "(", ")", ")", ";", "mapping", ".", "putType", "(", "UUID", ".", "class", ",", "new", "UUIDType", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LimitGenerator", "limitGenerator", "(", ")", "{", "return", "new", "LimitGenerator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "VersionColumnDefinition", "versionColumnDefinition", "(", ")", "{", "return", "versionColumnDefinition", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", ">", "upsertGenerator", "(", ")", "{", "return", "new", "UpsertOnConflictDoUpdate", "(", ")", ";", "}", "</s>"]
["<s>", "ByteArrayType", "(", "int", "jdbcType", ")", "{", "super", "(", "byte", "[", "]", ".", "class", ",", "jdbcType", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getIdentifier", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "[", "]", "read", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "byte", "[", "]", "value", "=", "results", ".", "getBytes", "(", "column", ")", ";", "return", "results", ".", "wasNull", "(", ")", "?", "null", ":", "value", ";", "}", "</s>"]
["<s>", "UUIDType", "(", ")", "{", "super", "(", "UUID", ".", "class", ",", "Types", ".", "JAVA_OBJECT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getIdentifier", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "UUID", "value", ")", "throws", "SQLException", "{", "statement", ".", "setObject", "(", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "skipTypeIdentifier", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "postFixPrimaryKey", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "appendGeneratedSequence", "(", "QueryBuilder", "qb", ",", "Attribute", "attribute", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "createColumn", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "columnName", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "final", "Output", "output", ",", "final", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "values", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "Type", "<", "?", ">", "type", "=", "(", "(", "Attribute", ")", "values", ".", "keySet", "(", ")", ".", "iterator", "(", ")", ".", "next", "(", ")", ")", ".", "getDeclaringType", "(", ")", ";", "qb", ".", "keyword", "(", "INSERT", ",", "INTO", ")", ".", "tableNames", "(", "values", ".", "keySet", "(", ")", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparatedExpressions", "(", "values", ".", "keySet", "(", ")", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ".", "keyword", "(", "VALUES", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparated", "(", "values", ".", "keySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT:?>", "\"", ")", ";", "output", ".", "parameters", "(", ")", ".", "add", "(", "expression", ",", "values", ".", "get", "(", "expression", ")", ")", ";", "}", "}", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ".", "keyword", "(", "ON", ",", "CONFLICT", ")", ".", "openParenthesis", "(", ")", ".", "attribute", "(", "type", ".", "getSingleKeyAttribute", "(", ")", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ".", "keyword", "(", "DO", ",", "UPDATE", ",", "SET", ")", ".", "commaSeparated", "(", "values", ".", "keySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "qb", ".", "attribute", "(", "(", "Attribute", ")", "value", ")", ";", "qb", ".", "append", "(", "\"", "<STR_LIT>", "\"", "+", "value", ".", "getName", "(", ")", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT:?>", "\"", ")", ";", "output", ".", "parameters", "(", ")", ".", "add", "(", "expression", ",", "values", ".", "get", "(", "expression", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "qb", ".", "attribute", "(", "(", "Attribute", ")", "value", ")", ";", "qb", ".", "append", "(", "\"", "<STR_LIT>", "\"", "+", "value", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "HSQL", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "LimitedElement", ">", "limitGenerator", "(", ")", "{", "return", "new", "LimitGenerator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGeneratedColumnsInPrepareStatement", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "public", "Oracle", "(", ")", "{", "generatedColumn", "=", "new", "OracleIdentityColumnDefinition", "(", ")", ";", "upsertMergeWriter", "=", "new", "UpsertMergeDual", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addMappings", "(", "Mapping", "mapping", ")", "{", "super", ".", "addMappings", "(", "mapping", ")", ";", "mapping", ".", "replaceType", "(", "Types", ".", "BINARY", ",", "new", "RawType", "(", "Types", ".", "BINARY", ")", ")", ";", "mapping", ".", "replaceType", "(", "Types", ".", "VARBINARY", ",", "new", "RawType", "(", "Types", ".", "VARBINARY", ")", ")", ";", "mapping", ".", "replaceType", "(", "Types", ".", "BOOLEAN", ",", "new", "NumericBooleanType", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsIfExists", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "GeneratedColumnDefinition", "generatedColumnDefinition", "(", ")", "{", "return", "generatedColumn", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", ">", "upsertGenerator", "(", ")", "{", "return", "upsertMergeWriter", ";", "}", "</s>"]
["<s>", "@", "Override", "protected", "void", "appendUsing", "(", "final", "Output", "context", ",", "final", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "values", ")", "{", "QueryBuilder", "qb", "=", "context", ".", "builder", "(", ")", ";", "qb", ".", "openParenthesis", "(", ")", ".", "keyword", "(", "SELECT", ")", ".", "commaSeparated", "(", "values", ".", "keySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "context", ".", "parameters", "(", ")", ".", "add", "(", "expression", ",", "values", ".", "get", "(", "expression", ")", ")", ";", "qb", ".", "append", "(", "expression", ".", "getName", "(", ")", ")", ";", "}", "}", ")", ".", "space", "(", ")", ".", "keyword", "(", "FROM", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "closeParenthesis", "(", ")", ".", "append", "(", "\"", "\"", "+", "alias", "+", "\"", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "context", ".", "parameters", "(", ")", ".", "add", "(", "expression", ",", "values", ".", "get", "(", "expression", ")", ")", ";", "qb", ".", "append", "(", "expression", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "RawType", "(", "int", "jdbcType", ")", "{", "super", "(", "byte", "[", "]", ".", "class", ",", "jdbcType", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasLength", "(", ")", "{", "return", "getSqlType", "(", ")", "=", "=", "Types", ".", "VARBINARY", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getIdentifier", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "[", "]", "read", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "byte", "[", "]", "value", "=", "results", ".", "getBytes", "(", "column", ")", ";", "if", "(", "results", ".", "wasNull", "(", ")", ")", "{", "return", "null", ";", "}", "return", "value", ";", "}", "</s>"]
["<s>", "NumericBooleanType", "(", ")", "{", "super", "(", "Boolean", ".", "class", ",", "Types", ".", "NUMERIC", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasLength", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getDefaultLength", "(", ")", "{", "return", "1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "getIdentifier", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Boolean", "read", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "Boolean", "value", "=", "results", ".", "getBoolean", "(", "column", ")", ";", "if", "(", "results", ".", "wasNull", "(", ")", ")", "{", "return", "null", ";", "}", "return", "value", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "readBoolean", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getBoolean", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeBoolean", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "boolean", "value", ")", "throws", "SQLException", "{", "statement", ".", "setBoolean", "(", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "appendGeneratedSequence", "(", "QueryBuilder", "qb", ",", "Attribute", "attribute", ")", "{", "int", "start", "=", "1", ";", "int", "increment", "=", "1", ";", "qb", ".", "keyword", "(", "GENERATED", ",", "ALWAYS", ",", "AS", ",", "IDENTITY", ")", ";", "qb", ".", "openParenthesis", "(", ")", ".", "keyword", "(", "START", ",", "WITH", ")", ".", "value", "(", "start", ")", ".", "keyword", "(", "INCREMENT", ",", "BY", ")", ".", "value", "(", "increment", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "}", "</s>"]
["<s>", "public", "MySQL", "(", ")", "{", "autoIncrementColumn", "=", "new", "AutoIncrementColumnDefinition", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGeneratedKeysInBatchUpdate", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "GeneratedColumnDefinition", "generatedColumnDefinition", "(", ")", "{", "return", "autoIncrementColumn", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "LimitGenerator", "limitGenerator", "(", ")", "{", "return", "new", "LimitGenerator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", ">", "upsertGenerator", "(", ")", "{", "return", "new", "UpsertOnDuplicateKeyUpdate", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "final", "Output", "output", ",", "final", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "values", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "qb", ".", "keyword", "(", "INSERT", ",", "INTO", ")", ".", "tableNames", "(", "values", ".", "keySet", "(", ")", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparatedExpressions", "(", "values", ".", "keySet", "(", ")", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ".", "keyword", "(", "VALUES", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparated", "(", "values", ".", "keySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT:?>", "\"", ")", ";", "output", ".", "parameters", "(", ")", ".", "add", "(", "expression", ",", "values", ".", "get", "(", "expression", ")", ")", ";", "}", "}", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ".", "keyword", "(", "ON", ",", "DUPLICATE", ",", "KEY", ",", "UPDATE", ")", ".", "commaSeparated", "(", "values", ".", "keySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "qb", ".", "attribute", "(", "(", "Attribute", ")", "value", ")", ".", "append", "(", "\"", "<STR_LIT:=>", "\"", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "openParenthesis", "(", ")", ".", "attribute", "(", "(", "Attribute", ")", "value", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT:?>", "\"", ")", ";", "output", ".", "parameters", "(", ")", ".", "add", "(", "expression", ",", "values", ".", "get", "(", "expression", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "qb", ".", "attribute", "(", "(", "Attribute", ")", "value", ")", ".", "append", "(", "\"", "<STR_LIT:=>", "\"", ")", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ".", "openParenthesis", "(", ")", ".", "attribute", "(", "(", "Attribute", ")", "value", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "}", "</s>"]
["<s>", "public", "Generic", "(", ")", "{", "generatedColumnDefinition", "=", "new", "IdentityColumnDefinition", "(", ")", ";", "limitDefinition", "=", "new", "OffsetFetchGenerator", "(", ")", ";", "versionColumnDefinition", "=", "new", "UserVersionColumnDefinition", "(", ")", ";", "upsertDefinition", "=", "new", "UpsertMergeGenerator", "(", ")", ";", "orderByDefinition", "=", "new", "OrderByGenerator", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "addMappings", "(", "Mapping", "mapping", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsInlineForeignKeyReference", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsAddingConstraint", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsIfExists", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGeneratedKeysInBatchUpdate", "(", ")", "{", "return", "false", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsGeneratedColumnsInPrepareStatement", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "supportsUpsert", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "GeneratedColumnDefinition", "generatedColumnDefinition", "(", ")", "{", "return", "generatedColumnDefinition", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "LimitedElement", ">", "limitGenerator", "(", ")", "{", "return", "limitDefinition", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "VersionColumnDefinition", "versionColumnDefinition", "(", ")", "{", "return", "versionColumnDefinition", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", ">", "upsertGenerator", "(", ")", "{", "return", "upsertDefinition", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Generator", "<", "OrderByElement", ">", "orderByGenerator", "(", ")", "{", "return", "orderByDefinition", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "getClass", "(", ")", ".", "getSimpleName", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Platform", "apply", "(", "Connection", "connection", ")", "{", "Platform", "platform", ";", "String", "product", ";", "try", "{", "product", "=", "connection", ".", "getMetaData", "(", ")", ".", "getDatabaseProductName", "(", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "PersistenceException", "(", "e", ")", ";", "}", "if", "(", "product", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "platform", "=", "new", "PostgresSQL", "(", ")", ";", "}", "else", "if", "(", "product", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "platform", "=", "new", "SQLite", "(", ")", ";", "}", "else", "if", "(", "product", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "platform", "=", "new", "MySQL", "(", ")", ";", "}", "else", "if", "(", "product", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "platform", "=", "new", "H2", "(", ")", ";", "}", "else", "if", "(", "product", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "platform", "=", "new", "HSQL", "(", ")", ";", "}", "else", "if", "(", "product", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "platform", "=", "new", "Derby", "(", ")", ";", "}", "else", "if", "(", "product", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "platform", "=", "new", "Oracle", "(", ")", ";", "}", "else", "if", "(", "product", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "platform", "=", "new", "SQLServer", "(", ")", ";", "}", "else", "{", "platform", "=", "new", "Generic", "(", ")", ";", "}", "return", "platform", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "Output", "output", ",", "LimitedElement", "query", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "Integer", "limit", "=", "query", ".", "getLimit", "(", ")", ";", "if", "(", "limit", "!", "=", "null", "&", "&", "limit", ">", "0", ")", "{", "Integer", "offset", "=", "query", ".", "getOffset", "(", ")", ";", "qb", ".", "keyword", "(", "LIMIT", ")", ".", "value", "(", "limit", ")", ";", "if", "(", "offset", "!", "=", "null", ")", "{", "qb", ".", "keyword", "(", "OFFSET", ")", ".", "value", "(", "offset", ")", ";", "}", "}", "}", "</s>"]
["<s>", "public", "DefaultOutput", "(", "RuntimeConfiguration", "configuration", ",", "QueryElement", "<", "?", ">", "query", ")", "{", "this", "(", "configuration", ".", "getStatementGenerator", "(", ")", ",", "query", ",", "new", "QueryBuilder", "(", "configuration", ".", "getQueryBuilderOptions", "(", ")", ")", ",", "null", ",", "true", ")", ";", "}", "</s>"]
["<s>", "public", "DefaultOutput", "(", "StatementGenerator", "statementGenerator", ",", "QueryElement", "<", "?", ">", "query", ",", "QueryBuilder", "qb", ",", "Aliases", "inherited", ",", "boolean", "parameterize", ")", "{", "this", ".", "query", "=", "query", ";", "this", ".", "qb", "=", "qb", ";", "this", ".", "inheritedAliases", "=", "inherited", ";", "this", ".", "parameterize", "=", "parameterize", ";", "this", ".", "statementGenerator", "=", "statementGenerator", ";", "this", ".", "parameters", "=", "parameterize", "?", "new", "BoundParameters", "(", ")", ":", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "QueryBuilder", "builder", "(", ")", "{", "return", "qb", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BoundParameters", "parameters", "(", ")", "{", "return", "parameters", ";", "}", "</s>"]
["<s>", "public", "String", "toSql", "(", ")", "{", "aliases", "=", "inheritedAliases", "=", "=", "null", "?", "new", "Aliases", "(", ")", ":", "inheritedAliases", ";", "Set", "<", "Expression", "<", "?", ">", ">", "from", "=", "query", ".", "fromExpressions", "(", ")", ";", "Set", "<", "?", ">", "joins", "=", "query", ".", "joinElements", "(", ")", ";", "autoAlias", "=", "from", ".", "size", "(", ")", ">", "1", "|", "|", "(", "joins", "!", "=", "null", "&", "&", "joins", ".", "size", "(", ")", ">", "0", ")", ";", "statementGenerator", ".", "write", "(", "this", ",", "query", ")", ";", "return", "qb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "appendTables", "(", ")", "{", "Set", "<", "Expression", "<", "?", ">", ">", "from", "=", "query", ".", "fromExpressions", "(", ")", ";", "if", "(", "from", ".", "size", "(", ")", "=", "=", "1", ")", "{", "Expression", "first", "=", "from", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "if", "(", "first", "instanceof", "QueryWrapper", ")", "{", "appendFromExpression", "(", "first", ")", ";", "}", "else", "{", "if", "(", "autoAlias", ")", "{", "aliases", ".", "append", "(", "qb", ",", "first", ".", "getName", "(", ")", ")", ";", "}", "else", "{", "qb", ".", "tableName", "(", "first", ".", "getName", "(", ")", ")", ";", "}", "}", "}", "else", "if", "(", "from", ".", "size", "(", ")", ">", "1", ")", "{", "qb", ".", "openParenthesis", "(", ")", ";", "int", "index", "=", "0", ";", "for", "(", "Expression", "expression", ":", "from", ")", "{", "if", "(", "index", ">", "0", ")", "{", "qb", ".", "comma", "(", ")", ";", "}", "appendFromExpression", "(", "expression", ")", ";", "index", "+", "+", ";", "}", "qb", ".", "closeParenthesis", "(", ")", ";", "}", "appendJoins", "(", ")", ";", "}", "</s>"]
["<s>", "private", "void", "appendJoins", "(", ")", "{", "if", "(", "query", ".", "joinElements", "(", ")", "!", "=", "null", "&", "&", "!", "query", ".", "joinElements", "(", ")", ".", "isEmpty", "(", ")", ")", "{", "for", "(", "JoinOnElement", "<", "?", ">", "join", ":", "query", ".", "joinElements", "(", ")", ")", "{", "appendJoin", "(", "join", ")", ";", "}", "}", "}", "</s>"]
["<s>", "private", "void", "appendFromExpression", "(", "Expression", "expression", ")", "{", "if", "(", "expression", ".", "getExpressionType", "(", ")", "=", "=", "ExpressionType", ".", "QUERY", ")", "{", "QueryWrapper", "wrapper", "=", "(", "QueryWrapper", ")", "expression", ";", "String", "alias", "=", "wrapper", ".", "unwrapQuery", "(", ")", ".", "getAlias", "(", ")", ";", "if", "(", "alias", "=", "=", "null", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "qb", ".", "openParenthesis", "(", ")", ";", "appendQuery", "(", "wrapper", ")", ";", "qb", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "qb", ".", "append", "(", "alias", ")", ".", "space", "(", ")", ";", "}", "else", "{", "qb", ".", "append", "(", "expression", ".", "getName", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "static", "Expression", "<", "?", ">", "unwrapExpression", "(", "Expression", "<", "?", ">", "expression", ")", "{", "if", "(", "expression", ".", "getExpressionType", "(", ")", "=", "=", "ExpressionType", ".", "ALIAS", ")", "{", "AliasedExpression", "aliased", "=", "(", "AliasedExpression", ")", "expression", ";", "return", "aliased", ".", "innerExpression", "(", ")", ";", "}", "return", "expression", ";", "}", "</s>"]
["<s>", "private", "String", "findAlias", "(", "Expression", "<", "?", ">", "expression", ")", "{", "String", "alias", "=", "null", ";", "if", "(", "expression", "instanceof", "Aliasable", ")", "{", "Aliasable", "aliasable", "=", "(", "Aliasable", ")", "expression", ";", "alias", "=", "aliasable", ".", "getAlias", "(", ")", ";", "}", "return", "alias", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "appendColumn", "(", "Expression", "<", "?", ">", "expression", ")", "{", "String", "alias", "=", "findAlias", "(", "expression", ")", ";", "if", "(", "expression", "instanceof", "Function", ")", "{", "appendFunction", "(", "(", "Function", ")", "expression", ")", ";", "}", "else", "if", "(", "autoAlias", "&", "&", "expression", "instanceof", "Attribute", "&", "&", "alias", "=", "=", "null", ")", "{", "aliases", ".", "prefix", "(", "qb", ",", "(", "Attribute", ")", "expression", ")", ";", "}", "else", "{", "if", "(", "alias", "=", "=", "null", "|", "|", "alias", ".", "length", "(", ")", "=", "=", "0", ")", "{", "appendColumnExpression", "(", "expression", ")", ";", "}", "else", "{", "qb", ".", "append", "(", "alias", ")", ".", "space", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "appendColumnForSelect", "(", "Expression", "<", "?", ">", "expression", ")", "{", "String", "alias", "=", "findAlias", "(", "expression", ")", ";", "if", "(", "expression", "instanceof", "Function", ")", "{", "appendFunction", "(", "(", "Function", ")", "expression", ")", ";", "}", "else", "if", "(", "autoAlias", ")", "{", "if", "(", "expression", "instanceof", "Attribute", ")", "{", "aliases", ".", "prefix", "(", "qb", ",", "(", "Attribute", ")", "expression", ")", ";", "}", "else", "{", "aliases", ".", "prefix", "(", "qb", ",", "expression", ")", ";", "}", "}", "else", "{", "appendColumnExpression", "(", "expression", ")", ";", "}", "if", "(", "alias", "!", "=", "null", "&", "&", "alias", ".", "length", "(", ")", ">", "0", ")", "{", "qb", ".", "keyword", "(", "AS", ")", ";", "qb", ".", "append", "(", "alias", ")", ".", "space", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "appendColumnExpression", "(", "Expression", "expression", ")", "{", "switch", "(", "expression", ".", "getExpressionType", "(", ")", ")", "{", "case", "ATTRIBUTE", ":", "Attribute", "attribute", "=", "(", "Attribute", ")", "expression", ";", "qb", ".", "attribute", "(", "attribute", ")", ";", "break", ";", "default", ":", "qb", ".", "append", "(", "expression", ".", "getName", "(", ")", ")", ".", "space", "(", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "private", "void", "appendFunction", "(", "Function", "function", ")", "{", "if", "(", "function", "instanceof", "Case", ")", "{", "appendCaseFunction", "(", "(", "Case", ")", "function", ")", ";", "}", "else", "{", "String", "name", "=", "function", ".", "getName", "(", ")", ";", "qb", ".", "append", "(", "name", ")", ";", "qb", ".", "openParenthesis", "(", ")", ";", "int", "index", "=", "0", ";", "for", "(", "Object", "arg", ":", "function", ".", "arguments", "(", ")", ")", "{", "if", "(", "index", ">", "0", ")", "{", "qb", ".", "comma", "(", ")", ";", "}", "if", "(", "arg", "instanceof", "Expression", ")", "{", "Expression", "expression", "=", "(", "Expression", ")", "arg", ";", "switch", "(", "expression", ".", "getExpressionType", "(", ")", ")", "{", "case", "ATTRIBUTE", ":", "appendColumnForSelect", "(", "expression", ")", ";", "break", ";", "case", "FUNCTION", ":", "Function", "inner", "=", "(", "Function", ")", "arg", ";", "appendFunction", "(", "inner", ")", ";", "break", ";", "default", ":", "qb", ".", "append", "(", "expression", ".", "getName", "(", ")", ")", ";", "break", ";", "}", "}", "else", "if", "(", "arg", "instanceof", "Class", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT:*>", "\"", ")", ";", "}", "else", "{", "appendConditionValue", "(", "function", ".", "expressionForArgument", "(", "index", ")", ",", "arg", ")", ";", "}", "index", "+", "+", ";", "}", "qb", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "appendCaseFunction", "(", "Case", "<", "?", ">", "function", ")", "{", "qb", ".", "keyword", "(", "CASE", ")", ";", "for", "(", "Case", ".", "CaseCondition", "<", "?", ",", "?", ">", "condition", ":", "function", ".", "conditions", "(", ")", ")", "{", "qb", ".", "keyword", "(", "WHEN", ")", ";", "appendOperation", "(", "condition", ".", "condition", "(", ")", ")", ";", "qb", ".", "keyword", "(", "THEN", ")", ";", "if", "(", "condition", ".", "thenValue", "(", ")", "instanceof", "CharSequence", "|", "|", "condition", ".", "thenValue", "(", ")", "instanceof", "Number", ")", "{", "appendConditionValue", "(", "function", ",", "condition", ".", "thenValue", "(", ")", ",", "false", ")", ";", "}", "else", "{", "appendConditionValue", "(", "function", ",", "condition", ".", "thenValue", "(", ")", ")", ";", "}", "}", "if", "(", "function", ".", "elseValue", "(", ")", "!", "=", "null", ")", "{", "qb", ".", "keyword", "(", "ELSE", ")", ";", "appendConditionValue", "(", "function", ",", "function", ".", "elseValue", "(", ")", ")", ";", "}", "qb", ".", "keyword", "(", "END", ")", ";", "}", "</s>"]
["<s>", "private", "void", "appendJoin", "(", "JoinOnElement", "<", "?", ">", "join", ")", "{", "switch", "(", "join", ".", "joinType", "(", ")", ")", "{", "case", "INNER", ":", "qb", ".", "keyword", "(", "INNER", ",", "JOIN", ")", ";", "break", ";", "case", "LEFT", ":", "qb", ".", "keyword", "(", "LEFT", ",", "JOIN", ")", ";", "break", ";", "case", "RIGHT", ":", "qb", ".", "keyword", "(", "RIGHT", ",", "JOIN", ")", ";", "break", ";", "}", "if", "(", "join", ".", "tableName", "(", ")", "!", "=", "null", ")", "{", "if", "(", "autoAlias", ")", "{", "aliases", ".", "append", "(", "qb", ",", "join", ".", "tableName", "(", ")", ")", ";", "}", "else", "{", "qb", ".", "tableName", "(", "join", ".", "tableName", "(", ")", ")", ";", "}", "}", "else", "if", "(", "join", ".", "subQuery", "(", ")", "!", "=", "null", ")", "{", "qb", ".", "openParenthesis", "(", ")", ";", "appendQuery", "(", "(", "QueryWrapper", "<", "?", ">", ")", "join", ".", "subQuery", "(", ")", ")", ";", "qb", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "if", "(", "join", ".", "subQuery", "(", ")", ".", "getAlias", "(", ")", "!", "=", "null", ")", "{", "qb", ".", "append", "(", "join", ".", "subQuery", "(", ")", ".", "getAlias", "(", ")", ")", ".", "space", "(", ")", ";", "}", "}", "qb", ".", "keyword", "(", "ON", ")", ";", "for", "(", "JoinConditionElement", "<", "?", ">", "where", ":", "join", ".", "conditions", "(", ")", ")", "{", "appendConditional", "(", "where", ")", ";", "}", "}", "</s>"]
["<s>", "private", "void", "appendOperation", "(", "Condition", "condition", ")", "{", "Object", "leftOperand", "=", "condition", ".", "getLeftOperand", "(", ")", ";", "if", "(", "leftOperand", "instanceof", "Expression", ")", "{", "final", "Expression", "<", "?", ">", "expression", "=", "(", "Expression", "<", "?", ">", ")", "condition", ".", "getLeftOperand", "(", ")", ";", "appendColumn", "(", "expression", ")", ";", "Object", "value", "=", "condition", ".", "getRightOperand", "(", ")", ";", "appendOperator", "(", "condition", ".", "getOperator", "(", ")", ")", ";", "if", "(", "value", "instanceof", "Collection", ")", "{", "Collection", "collection", "=", "(", "Collection", ")", "value", ";", "qb", ".", "openParenthesis", "(", ")", ";", "qb", ".", "commaSeparated", "(", "collection", ",", "new", "QueryBuilder", ".", "Appender", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Object", "value", ")", "{", "appendConditionValue", "(", "expression", ",", "value", ")", ";", "}", "}", ")", ";", "qb", ".", "closeParenthesis", "(", ")", ";", "}", "else", "if", "(", "value", "instanceof", "Object", "[", "]", ")", "{", "Object", "[", "]", "values", "=", "(", "Object", "[", "]", ")", "value", ";", "if", "(", "condition", ".", "getOperator", "(", ")", "=", "=", "Operator", ".", "BETWEEN", ")", "{", "Object", "begin", "=", "values", "[", "0", "]", ";", "Object", "end", "=", "values", "[", "1", "]", ";", "appendConditionValue", "(", "expression", ",", "begin", ")", ";", "qb", ".", "keyword", "(", "AND", ")", ";", "appendConditionValue", "(", "expression", ",", "end", ")", ";", "}", "else", "{", "for", "(", "Object", "o", ":", "values", ")", "{", "appendConditionValue", "(", "expression", ",", "o", ")", ";", "}", "}", "}", "else", "if", "(", "value", "instanceof", "QueryWrapper", ")", "{", "QueryWrapper", "wrapper", "=", "(", "QueryWrapper", ")", "value", ";", "qb", ".", "openParenthesis", "(", ")", ";", "appendQuery", "(", "wrapper", ")", ";", "qb", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "}", "else", "if", "(", "value", "instanceof", "Condition", ")", "{", "appendOperation", "(", "(", "Condition", ")", "value", ")", ";", "}", "else", "if", "(", "value", "!", "=", "null", ")", "{", "appendConditionValue", "(", "expression", ",", "value", ")", ";", "}", "}", "else", "if", "(", "leftOperand", "instanceof", "Condition", ")", "{", "appendOperation", "(", "(", "Condition", ")", "leftOperand", ")", ";", "appendOperator", "(", "condition", ".", "getOperator", "(", ")", ")", ";", "Object", "value", "=", "condition", ".", "getRightOperand", "(", ")", ";", "if", "(", "value", "instanceof", "Condition", ")", "{", "appendOperation", "(", "(", "Condition", ")", "value", ")", ";", "}", "else", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "}", "else", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", "+", "leftOperand", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Object", "value", ")", "{", "appendConditionValue", "(", "expression", ",", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "appendConditionValue", "(", "Expression", "expression", ",", "Object", "value", ")", "{", "appendConditionValue", "(", "expression", ",", "value", ",", "true", ")", ";", "}", "</s>"]
["<s>", "private", "void", "appendConditionValue", "(", "Expression", "expression", ",", "Object", "value", ",", "boolean", "parameterize", ")", "{", "if", "(", "value", "instanceof", "QueryAttribute", ")", "{", "QueryAttribute", "a", "=", "(", "QueryAttribute", ")", "value", ";", "appendColumn", "(", "a", ")", ";", "}", "else", "if", "(", "value", "instanceof", "NamedExpression", ")", "{", "NamedExpression", "namedExpression", "=", "(", "NamedExpression", ")", "value", ";", "qb", ".", "append", "(", "namedExpression", ".", "getName", "(", ")", ")", ";", "}", "else", "{", "if", "(", "parameterize", ")", "{", "if", "(", "parameters", "!", "=", "null", ")", "{", "parameters", ".", "add", "(", "expression", ",", "value", ")", ";", "}", "qb", ".", "append", "(", "\"", "<STR_LIT:?>", "\"", ")", ".", "space", "(", ")", ";", "}", "else", "{", "if", "(", "value", "instanceof", "CharSequence", ")", "{", "qb", ".", "appendQuoted", "(", "value", ".", "toString", "(", ")", ")", ".", "space", "(", ")", ";", "}", "else", "{", "qb", ".", "append", "(", "value", ")", ".", "space", "(", ")", ";", "}", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "appendConditional", "(", "LogicalElement", "element", ")", "{", "LogicalOperator", "op", "=", "element", ".", "getOperator", "(", ")", ";", "if", "(", "op", "!", "=", "null", ")", "{", "switch", "(", "op", ")", "{", "case", "AND", ":", "qb", ".", "keyword", "(", "AND", ")", ";", "break", ";", "case", "OR", ":", "qb", ".", "keyword", "(", "OR", ")", ";", "break", ";", "}", "}", "Condition", "condition", "=", "element", ".", "getCondition", "(", ")", ";", "boolean", "nested", "=", "false", ";", "if", "(", "condition", ".", "getRightOperand", "(", ")", "instanceof", "Condition", ")", "{", "nested", "=", "true", ";", "}", "if", "(", "nested", ")", "{", "qb", ".", "openParenthesis", "(", ")", ";", "}", "appendOperation", "(", "condition", ")", ";", "if", "(", "nested", ")", "{", "qb", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "appendOperator", "(", "Operator", "operator", ")", "{", "switch", "(", "operator", ")", "{", "case", "EQUAL", ":", "qb", ".", "value", "(", "\"", "<STR_LIT:=>", "\"", ")", ";", "break", ";", "case", "NOT_EQUAL", ":", "qb", ".", "value", "(", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "case", "LESS_THAN", ":", "qb", ".", "value", "(", "\"", "<STR_LIT:<>", "\"", ")", ";", "break", ";", "case", "LESS_THAN_OR_EQUAL", ":", "qb", ".", "value", "(", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "case", "GREATER_THAN", ":", "qb", ".", "value", "(", "\"", "<STR_LIT:>>", "\"", ")", ";", "break", ";", "case", "GREATER_THAN_OR_EQUAL", ":", "qb", ".", "value", "(", "\"", "<STR_LIT>", "\"", ")", ";", "break", ";", "case", "IN", ":", "qb", ".", "keyword", "(", "IN", ")", ";", "break", ";", "case", "NOT_IN", ":", "qb", ".", "keyword", "(", "NOT", ",", "IN", ")", ";", "break", ";", "case", "LIKE", ":", "qb", ".", "keyword", "(", "LIKE", ")", ";", "break", ";", "case", "NOT_LIKE", ":", "qb", ".", "keyword", "(", "NOT", ",", "LIKE", ")", ";", "break", ";", "case", "BETWEEN", ":", "qb", ".", "keyword", "(", "BETWEEN", ")", ";", "break", ";", "case", "IS_NULL", ":", "qb", ".", "keyword", "(", "IS", ",", "NULL", ")", ";", "break", ";", "case", "NOT_NULL", ":", "qb", ".", "keyword", "(", "IS", ",", "NOT", ",", "NULL", ")", ";", "break", ";", "case", "AND", ":", "qb", ".", "keyword", "(", "AND", ")", ";", "break", ";", "case", "OR", ":", "qb", ".", "keyword", "(", "OR", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "appendQuery", "(", "QueryWrapper", "<", "?", ">", "wrapper", ")", "{", "QueryElement", "<", "?", ">", "query", "=", "wrapper", ".", "unwrapQuery", "(", ")", ";", "DefaultOutput", "generator", "=", "new", "DefaultOutput", "(", "statementGenerator", ",", "query", ",", "qb", ",", "aliases", ",", "parameterize", ")", ";", "generator", ".", "toSql", "(", ")", ";", "if", "(", "parameters", "!", "=", "null", ")", "{", "parameters", ".", "addAll", "(", "generator", ".", "parameters", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "String", "alias", "(", "String", "key", ")", "{", "String", "alias", "=", "aliases", ".", "get", "(", "key", ")", ";", "if", "(", "alias", "=", "=", "null", ")", "{", "if", "(", "index", ">", "<CHAR_LIT>", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "aliases", ".", "put", "(", "key", ",", "alias", "=", "String", ".", "valueOf", "(", "index", ")", ")", ";", "index", "+", "+", ";", "}", "return", "alias", ";", "}", "</s>"]
["<s>", "void", "append", "(", "QueryBuilder", "qb", ",", "String", "table", ")", "{", "String", "key", "=", "table", ".", "replaceAll", "(", "\"", "<STR_LIT:\\\">", "\"", ",", "\"", "\"", ")", ";", "String", "alias", "=", "alias", "(", "key", ")", ";", "qb", ".", "tableName", "(", "table", ")", ".", "value", "(", "alias", ")", ";", "}", "</s>"]
["<s>", "void", "prefix", "(", "QueryBuilder", "qb", ",", "Attribute", "attribute", ")", "{", "String", "key", "=", "attribute", ".", "getDeclaringType", "(", ")", ".", "getName", "(", ")", ";", "String", "alias", "=", "alias", "(", "key", ")", ";", "qb", ".", "append", "(", "alias", "+", "\"", "<STR_LIT:.>", "\"", ")", ".", "attribute", "(", "attribute", ")", ";", "}", "</s>"]
["<s>", "void", "prefix", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "Expression", "inner", "=", "unwrapExpression", "(", "expression", ")", ";", "String", "key", "=", "inner", ".", "getName", "(", ")", ";", "if", "(", "inner", ".", "getExpressionType", "(", ")", "=", "=", "ExpressionType", ".", "ATTRIBUTE", ")", "{", "Attribute", "attribute", "=", "(", "Attribute", ")", "inner", ";", "key", "=", "attribute", ".", "getDeclaringType", "(", ")", ".", "getName", "(", ")", ";", "}", "String", "alias", "=", "alias", "(", "key", ")", ";", "qb", ".", "append", "(", "alias", "+", "\"", "<STR_LIT:.>", "\"", "+", "expression", ".", "getName", "(", ")", ")", ".", "space", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "Output", "output", ",", "LimitedElement", "query", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "Integer", "limit", "=", "query", ".", "getLimit", "(", ")", ";", "if", "(", "limit", "!", "=", "null", "&", "&", "limit", ">", "0", ")", "{", "Integer", "offset", "=", "query", ".", "getOffset", "(", ")", ";", "write", "(", "qb", ",", "limit", ",", "offset", ")", ";", "}", "}", "</s>"]
["<s>", "protected", "void", "write", "(", "QueryBuilder", "qb", ",", "Integer", "limit", ",", "Integer", "offset", ")", "{", "if", "(", "offset", "!", "=", "null", ")", "{", "qb", ".", "keyword", "(", "OFFSET", ")", ".", "value", "(", "offset", ")", ".", "keyword", "(", "offset", ">", "1", "?", "ROWS", ":", "ROW", ")", ".", "keyword", "(", "FETCH", ",", "NEXT", ")", ".", "value", "(", "limit", ")", ".", "keyword", "(", "limit", ">", "1", "?", "ROWS", ":", "ROW", ")", ".", "keyword", "(", "ONLY", ")", ";", "}", "else", "if", "(", "limit", "!", "=", "null", ")", "{", "qb", ".", "keyword", "(", "FETCH", ",", "Keyword", ".", "FIRST", ")", ".", "value", "(", "limit", ")", ".", "keyword", "(", "limit", ">", "1", "?", "ROWS", ":", "ROW", ")", ".", "keyword", "(", "ONLY", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "Output", "output", ",", "OrderByElement", "query", ")", "{", "Set", "<", "Expression", "<", "?", ">", ">", "orderBy", "=", "query", ".", "getOrderByExpressions", "(", ")", ";", "if", "(", "orderBy", "!", "=", "null", "&", "&", "orderBy", ".", "size", "(", ")", ">", "0", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "qb", ".", "keyword", "(", "ORDER", ",", "BY", ")", ";", "int", "i", "=", "0", ";", "int", "size", "=", "orderBy", ".", "size", "(", ")", ";", "for", "(", "Expression", "<", "?", ">", "order", ":", "orderBy", ")", "{", "output", ".", "appendColumn", "(", "order", ")", ";", "if", "(", "order", ".", "getExpressionType", "(", ")", "=", "=", "ExpressionType", ".", "ORDERING", ")", "{", "OrderingExpression", "ordering", "=", "(", "OrderingExpression", ")", "order", ";", "qb", ".", "keyword", "(", "ordering", ".", "getOrder", "(", ")", "=", "=", "Order", ".", "ASC", "?", "ASC", ":", "DESC", ")", ";", "if", "(", "ordering", ".", "getNullOrder", "(", ")", "!", "=", "null", ")", "{", "qb", ".", "keyword", "(", "NULLS", ")", ";", "switch", "(", "ordering", ".", "getNullOrder", "(", ")", ")", "{", "case", "FIRST", ":", "qb", ".", "keyword", "(", "FIRST", ")", ";", "break", ";", "case", "LAST", ":", "qb", ".", "keyword", "(", "LAST", ")", ";", "break", ";", "}", "}", "}", "if", "(", "i", "<", "size", "-", "1", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT:U+002C>", "\"", ")", ";", "}", "i", "+", "+", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "Output", "output", ",", "SetOperationElement", "query", ")", "{", "if", "(", "query", ".", "getInnerSetQuery", "(", ")", "!", "=", "null", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "switch", "(", "query", ".", "getOperator", "(", ")", ")", "{", "case", "UNION", ":", "qb", ".", "keyword", "(", "UNION", ")", ";", "break", ";", "case", "UNION_ALL", ":", "qb", ".", "keyword", "(", "UNION", ",", "ALL", ")", ";", "break", ";", "case", "INTERSECT", ":", "qb", ".", "keyword", "(", "INTERSECT", ")", ";", "break", ";", "case", "EXCEPT", ":", "qb", ".", "keyword", "(", "EXCEPT", ")", ";", "break", ";", "}", "output", ".", "appendQuery", "(", "query", ".", "getInnerSetQuery", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "private", "StatementGenerator", "(", "Platform", "platform", ")", "{", "select", "=", "new", "SelectGenerator", "(", ")", ";", "insert", "=", "new", "InsertGenerator", "(", ")", ";", "update", "=", "new", "UpdateGenerator", "(", ")", ";", "upsert", "=", "platform", ".", "upsertGenerator", "(", ")", ";", "where", "=", "new", "WhereGenerator", "(", ")", ";", "groupBy", "=", "new", "GroupByGenerator", "(", ")", ";", "orderBy", "=", "platform", ".", "orderByGenerator", "(", ")", ";", "limit", "=", "platform", ".", "limitGenerator", "(", ")", ";", "setOperation", "=", "new", "SetOperatorGenerator", "(", ")", ";", "}", "</s>"]
["<s>", "public", "static", "StatementGenerator", "create", "(", "Platform", "platform", ")", "{", "return", "new", "StatementGenerator", "(", "platform", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "Output", "output", ",", "QueryElement", "<", "?", ">", "query", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "switch", "(", "query", ".", "queryType", "(", ")", ")", "{", "case", "SELECT", ":", "select", ".", "write", "(", "output", ",", "query", ")", ";", "break", ";", "case", "INSERT", ":", "insert", ".", "write", "(", "output", ",", "checkEmpty", "(", "query", ".", "updateValues", "(", ")", ")", ")", ";", "break", ";", "case", "UPDATE", ":", "update", ".", "write", "(", "output", ",", "checkEmpty", "(", "query", ".", "updateValues", "(", ")", ")", ")", ";", "break", ";", "case", "UPSERT", ":", "upsert", ".", "write", "(", "output", ",", "checkEmpty", "(", "query", ".", "updateValues", "(", ")", ")", ")", ";", "break", ";", "case", "DELETE", ":", "qb", ".", "keyword", "(", "DELETE", ",", "FROM", ")", ";", "output", ".", "appendTables", "(", ")", ";", "break", ";", "case", "TRUNCATE", ":", "qb", ".", "keyword", "(", "TRUNCATE", ")", ";", "output", ".", "appendTables", "(", ")", ";", "break", ";", "}", "where", ".", "write", "(", "output", ",", "query", ")", ";", "groupBy", ".", "write", "(", "output", ",", "query", ")", ";", "orderBy", ".", "write", "(", "output", ",", "query", ")", ";", "limit", ".", "write", "(", "output", ",", "query", ")", ";", "setOperation", ".", "write", "(", "output", ",", "query", ")", ";", "}", "</s>"]
["<s>", "private", "static", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "checkEmpty", "(", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "values", ")", "{", "if", "(", "values", "=", "=", "null", "|", "|", "values", ".", "isEmpty", "(", ")", ")", "{", "throw", "new", "IllegalStateException", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "return", "values", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "final", "Output", "output", ",", "GroupByElement", "query", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "Set", "<", "Expression", "<", "?", ">", ">", "groupBy", "=", "query", ".", "getGroupByExpressions", "(", ")", ";", "if", "(", "groupBy", "!", "=", "null", "&", "&", "groupBy", ".", "size", "(", ")", ">", "0", ")", "{", "qb", ".", "keyword", "(", "GROUP", ",", "BY", ")", ";", "qb", ".", "commaSeparated", "(", "groupBy", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "output", ".", "appendColumn", "(", "value", ")", ";", "}", "}", ")", ";", "if", "(", "query", ".", "getHavingElements", "(", ")", "!", "=", "null", ")", "{", "qb", ".", "keyword", "(", "HAVING", ")", ";", "for", "(", "HavingConditionElement", "<", "?", ">", "clause", ":", "query", ".", "getHavingElements", "(", ")", ")", "{", "output", ".", "appendConditional", "(", "clause", ")", ";", "}", "}", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "output", ".", "appendColumn", "(", "value", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "Output", "output", ",", "WhereElement", "query", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "ExistsElement", "<", "?", ">", "whereExists", "=", "query", ".", "getWhereExistsElement", "(", ")", ";", "if", "(", "whereExists", "!", "=", "null", ")", "{", "qb", ".", "keyword", "(", "WHERE", ")", ";", "if", "(", "whereExists", ".", "isNotExists", "(", ")", ")", "{", "qb", ".", "keyword", "(", "NOT", ")", ";", "}", "qb", ".", "keyword", "(", "EXISTS", ")", ";", "qb", ".", "openParenthesis", "(", ")", ";", "Supplier", "<", "?", ">", "wrapper", "=", "whereExists", ".", "getQuery", "(", ")", ";", "output", ".", "appendQuery", "(", "(", "QueryWrapper", ")", "wrapper", ")", ";", "qb", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "}", "else", "if", "(", "query", ".", "getWhereElements", "(", ")", "!", "=", "null", "&", "&", "query", ".", "getWhereElements", "(", ")", ".", "size", "(", ")", ">", "0", ")", "{", "qb", ".", "keyword", "(", "WHERE", ")", ";", "for", "(", "WhereConditionElement", "<", "?", ">", "w", ":", "query", ".", "getWhereElements", "(", ")", ")", "{", "output", ".", "appendConditional", "(", "w", ")", ";", "}", "}", "}", "</s>"]
["<s>", "QueryBuilder", "builder", "(", ")", ";", "</s>"]
["<s>", "BoundParameters", "parameters", "(", ")", ";", "</s>"]
["<s>", "void", "appendColumn", "(", "Expression", "<", "?", ">", "expression", ")", ";", "</s>"]
["<s>", "void", "appendColumnForSelect", "(", "Expression", "<", "?", ">", "expression", ")", ";", "</s>"]
["<s>", "void", "appendTables", "(", ")", ";", "</s>"]
["<s>", "void", "appendConditionValue", "(", "Expression", "expression", ",", "Object", "value", ")", ";", "</s>"]
["<s>", "void", "appendOperator", "(", "Operator", "operator", ")", ";", "</s>"]
["<s>", "void", "appendConditional", "(", "LogicalElement", "element", ")", ";", "</s>"]
["<s>", "void", "appendQuery", "(", "QueryWrapper", "<", "?", ">", "query", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "Output", "output", ",", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "values", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "Type", "<", "?", ">", "type", "=", "null", ";", "for", "(", "Expression", "<", "?", ">", "expression", ":", "values", ".", "keySet", "(", ")", ")", "{", "if", "(", "expression", ".", "getExpressionType", "(", ")", "=", "=", "ExpressionType", ".", "ATTRIBUTE", ")", "{", "Attribute", "attribute", "=", "(", "Attribute", ")", "expression", ";", "type", "=", "attribute", ".", "getDeclaringType", "(", ")", ";", "break", ";", "}", "}", "if", "(", "type", "=", "=", "null", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "qb", ".", "keyword", "(", "MERGE", ")", ".", "keyword", "(", "INTO", ")", ".", "tableName", "(", "type", ".", "getName", "(", ")", ")", ".", "keyword", "(", "USING", ")", ";", "appendUsing", "(", "output", ",", "values", ")", ";", "qb", ".", "keyword", "(", "ON", ")", ".", "openParenthesis", "(", ")", ";", "int", "count", "=", "0", ";", "for", "(", "Attribute", "<", "?", ",", "?", ">", "attribute", ":", "type", ".", "getKeyAttributes", "(", ")", ")", "{", "if", "(", "count", ">", "0", ")", "{", "qb", ".", "keyword", "(", "Keyword", ".", "AND", ")", ";", "}", "qb", ".", "aliasAttribute", "(", "type", ".", "getName", "(", ")", ",", "attribute", ")", ";", "qb", ".", "append", "(", "\"", "<STR_LIT>", "\"", ")", ";", "qb", ".", "aliasAttribute", "(", "alias", ",", "attribute", ")", ";", "count", "+", "+", ";", "}", "qb", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "LinkedHashSet", "<", "Attribute", "<", "?", ",", "?", ">", ">", "updates", "=", "new", "LinkedHashSet", "<", ">", "(", ")", ";", "for", "(", "Expression", "<", "?", ">", "expression", ":", "values", ".", "keySet", "(", ")", ")", "{", "if", "(", "expression", ".", "getExpressionType", "(", ")", "=", "=", "ExpressionType", ".", "ATTRIBUTE", ")", "{", "Attribute", "attribute", "=", "(", "Attribute", ")", "expression", ";", "if", "(", "!", "attribute", ".", "isKey", "(", ")", ")", "{", "updates", ".", "add", "(", "attribute", ")", ";", "}", "}", "}", "qb", ".", "keyword", "(", "WHEN", ",", "MATCHED", ",", "THEN", ",", "UPDATE", ",", "SET", ")", ".", "commaSeparated", "(", "updates", ",", "new", "QueryBuilder", ".", "Appender", "<", "Attribute", "<", "?", ",", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Attribute", "<", "?", ",", "?", ">", "value", ")", "{", "qb", ".", "attribute", "(", "value", ")", ";", "qb", ".", "append", "(", "\"", "<STR_LIT>", "\"", "+", "alias", "+", "\"", "<STR_LIT:.>", "\"", "+", "value", ".", "getName", "(", ")", ")", ";", "}", "}", ")", ".", "space", "(", ")", ";", "qb", ".", "keyword", "(", "WHEN", ",", "NOT", ",", "MATCHED", ",", "THEN", ",", "INSERT", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparatedExpressions", "(", "values", ".", "keySet", "(", ")", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ".", "keyword", "(", "VALUES", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparated", "(", "values", ".", "keySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "qb", ".", "aliasAttribute", "(", "alias", ",", "(", "Attribute", ")", "value", ")", ";", "}", "}", ")", ".", "closeParenthesis", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Attribute", "<", "?", ",", "?", ">", "value", ")", "{", "qb", ".", "attribute", "(", "value", ")", ";", "qb", ".", "append", "(", "\"", "<STR_LIT>", "\"", "+", "alias", "+", "\"", "<STR_LIT:.>", "\"", "+", "value", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "qb", ".", "aliasAttribute", "(", "alias", ",", "(", "Attribute", ")", "value", ")", ";", "}", "</s>"]
["<s>", "protected", "void", "appendUsing", "(", "final", "Output", "writer", ",", "final", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "values", ")", "{", "QueryBuilder", "qb", "=", "writer", ".", "builder", "(", ")", ";", "qb", ".", "openParenthesis", "(", ")", ".", "keyword", "(", "VALUES", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparated", "(", "values", ".", "keySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT:?>", "\"", ")", ";", "writer", ".", "parameters", "(", ")", ".", "add", "(", "expression", ",", "values", ".", "get", "(", "expression", ")", ")", ";", "}", "}", ")", ".", "closeParenthesis", "(", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ".", "keyword", "(", "AS", ")", ".", "append", "(", "alias", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparatedExpressions", "(", "values", ".", "keySet", "(", ")", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "expression", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT:?>", "\"", ")", ";", "writer", ".", "parameters", "(", ")", ".", "add", "(", "expression", ",", "values", ".", "get", "(", "expression", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "final", "Output", "output", ",", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "values", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "qb", ".", "keyword", "(", "INSERT", ",", "INTO", ")", ";", "output", ".", "appendTables", "(", ")", ";", "qb", ".", "openParenthesis", "(", ")", ".", "commaSeparated", "(", "values", ".", "entrySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Map", ".", "Entry", "<", "Expression", "<", "?", ">", ",", "Object", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Map", ".", "Entry", "<", "Expression", "<", "?", ">", ",", "Object", ">", "value", ")", "{", "Expression", "<", "?", ">", "key", "=", "value", ".", "getKey", "(", ")", ";", "switch", "(", "key", ".", "getExpressionType", "(", ")", ")", "{", "case", "ATTRIBUTE", ":", "Attribute", "attribute", "=", "(", "Attribute", ")", "key", ";", "if", "(", "attribute", ".", "isGenerated", "(", ")", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "qb", ".", "attribute", "(", "attribute", ")", ";", "break", ";", "default", ":", "qb", ".", "append", "(", "key", ".", "getName", "(", ")", ")", ".", "space", "(", ")", ";", "break", ";", "}", "}", "}", ")", ".", "closeParenthesis", "(", ")", ".", "space", "(", ")", ".", "keyword", "(", "VALUES", ")", ".", "openParenthesis", "(", ")", ".", "commaSeparated", "(", "values", ".", "entrySet", "(", ")", ",", "new", "QueryBuilder", ".", "Appender", "<", "Map", ".", "Entry", "<", "Expression", "<", "?", ">", ",", "Object", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Map", ".", "Entry", "<", "Expression", "<", "?", ">", ",", "Object", ">", "value", ")", "{", "output", ".", "appendConditionValue", "(", "value", ".", "getKey", "(", ")", ",", "value", ".", "getValue", "(", ")", ")", ";", "}", "}", ")", ".", "closeParenthesis", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Map", ".", "Entry", "<", "Expression", "<", "?", ">", ",", "Object", ">", "value", ")", "{", "Expression", "<", "?", ">", "key", "=", "value", ".", "getKey", "(", ")", ";", "switch", "(", "key", ".", "getExpressionType", "(", ")", ")", "{", "case", "ATTRIBUTE", ":", "Attribute", "attribute", "=", "(", "Attribute", ")", "key", ";", "if", "(", "attribute", ".", "isGenerated", "(", ")", ")", "{", "throw", "new", "IllegalStateException", "(", ")", ";", "}", "qb", ".", "attribute", "(", "attribute", ")", ";", "break", ";", "default", ":", "qb", ".", "append", "(", "key", ".", "getName", "(", ")", ")", ".", "space", "(", ")", ";", "break", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Map", ".", "Entry", "<", "Expression", "<", "?", ">", ",", "Object", ">", "value", ")", "{", "output", ".", "appendConditionValue", "(", "value", ".", "getKey", "(", ")", ",", "value", ".", "getValue", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "final", "Output", "output", ",", "Map", "<", "Expression", "<", "?", ">", ",", "Object", ">", "values", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "qb", ".", "keyword", "(", "UPDATE", ")", ";", "output", ".", "appendTables", "(", ")", ";", "qb", ".", "keyword", "(", "SET", ")", ";", "int", "index", "=", "0", ";", "for", "(", "Map", ".", "Entry", "<", "Expression", "<", "?", ">", ",", "Object", ">", "entry", ":", "values", ".", "entrySet", "(", ")", ")", "{", "if", "(", "index", ">", "0", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT:U+002C>", "\"", ")", ";", "}", "output", ".", "appendColumn", "(", "entry", ".", "getKey", "(", ")", ")", ";", "output", ".", "appendOperator", "(", "Operator", ".", "EQUAL", ")", ";", "output", ".", "appendConditionValue", "(", "entry", ".", "getKey", "(", ")", ",", "entry", ".", "getValue", "(", ")", ")", ";", "index", "+", "+", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "final", "Output", "output", ",", "SelectionElement", "query", ")", "{", "QueryBuilder", "qb", "=", "output", ".", "builder", "(", ")", ";", "qb", ".", "keyword", "(", "SELECT", ")", ";", "if", "(", "query", ".", "isDistinct", "(", ")", ")", "{", "qb", ".", "keyword", "(", "DISTINCT", ")", ";", "}", "Set", "<", "?", "extends", "Expression", "<", "?", ">", ">", "selection", "=", "query", ".", "getSelection", "(", ")", ";", "if", "(", "selection", "=", "=", "null", "|", "|", "selection", ".", "isEmpty", "(", ")", ")", "{", "qb", ".", "append", "(", "\"", "<STR_LIT:*>", "\"", ")", ";", "}", "else", "{", "qb", ".", "commaSeparated", "(", "selection", ",", "new", "QueryBuilder", ".", "Appender", "<", "Expression", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "output", ".", "appendColumnForSelect", "(", "value", ")", ";", "}", "}", ")", ";", "}", "qb", ".", "keyword", "(", "FROM", ")", ";", "output", ".", "appendTables", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "append", "(", "QueryBuilder", "qb", ",", "Expression", "<", "?", ">", "value", ")", "{", "output", ".", "appendColumnForSelect", "(", "value", ")", ";", "}", "</s>"]
["<s>", "void", "write", "(", "Output", "output", ",", "E", "element", ")", ";", "</s>"]
["<s>", "int", "readInt", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeInt", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "int", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "short", "readShort", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeShort", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "short", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "public", "TinyIntType", "(", "Class", "<", "Byte", ">", "type", ")", "{", "super", "(", "type", ",", "Types", ".", "TINYINT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Byte", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getByte", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "TINYINT", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "readByte", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getByte", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeByte", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "byte", "value", ")", "throws", "SQLException", "{", "statement", ".", "setByte", "(", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "public", "JavaDateType", "(", ")", "{", "super", "(", "Date", ".", "class", ",", "Types", ".", "DATE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Date", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getDate", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "Date", "value", ")", "throws", "SQLException", "{", "int", "sqlType", "=", "getSqlType", "(", ")", ";", "if", "(", "value", "=", "=", "null", ")", "{", "statement", ".", "setNull", "(", "index", ",", "sqlType", ")", ";", "}", "else", "{", "long", "time", "=", "value", ".", "getTime", "(", ")", ";", "statement", ".", "setDate", "(", "index", ",", "new", "java", ".", "sql", ".", "Date", "(", "time", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "DATE", ";", "}", "</s>"]
["<s>", "boolean", "readBoolean", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeBoolean", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "boolean", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "byte", "readByte", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeByte", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "byte", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "double", "readDouble", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeDouble", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "double", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "public", "BinaryType", "(", ")", "{", "super", "(", "byte", "[", "]", ".", "class", ",", "Types", ".", "BINARY", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "[", "]", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getBytes", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "BINARY", ";", "}", "</s>"]
["<s>", "public", "NVarCharType", "(", ")", "{", "super", "(", "String", ".", "class", ",", "Types", ".", "NVARCHAR", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getNString", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "NVARCHAR", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasLength", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getDefaultLength", "(", ")", "{", "return", "<NUM_LIT:255>", ";", "}", "</s>"]
["<s>", "public", "DecimalType", "(", ")", "{", "super", "(", "BigDecimal", ".", "class", ",", "Types", ".", "DECIMAL", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "BigDecimal", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getBigDecimal", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "DECIMAL", ";", "}", "</s>"]
["<s>", "public", "BlobType", "(", ")", "{", "super", "(", "Blob", ".", "class", ",", "Types", ".", "BLOB", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Blob", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getBlob", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "BLOB", ";", "}", "</s>"]
["<s>", "public", "VarCharType", "(", ")", "{", "super", "(", "String", ".", "class", ",", "Types", ".", "VARCHAR", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getString", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "read", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getString", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "VARCHAR", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasLength", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getDefaultLength", "(", ")", "{", "return", "<NUM_LIT:255>", ";", "}", "</s>"]
["<s>", "public", "VarBinaryType", "(", ")", "{", "super", "(", "byte", "[", "]", ".", "class", ",", "Types", ".", "VARBINARY", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "byte", "[", "]", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getBytes", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "VARBINARY", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "hasLength", "(", ")", "{", "return", "true", ";", "}", "</s>"]
["<s>", "public", "DateType", "(", ")", "{", "super", "(", "Date", ".", "class", ",", "Types", ".", "DATE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Date", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getDate", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "write", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "Date", "value", ")", "throws", "SQLException", "{", "int", "sqlType", "=", "getSqlType", "(", ")", ";", "if", "(", "value", "=", "=", "null", ")", "{", "statement", ".", "setNull", "(", "index", ",", "sqlType", ")", ";", "}", "else", "{", "statement", ".", "setDate", "(", "index", ",", "value", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "DATE", ";", "}", "</s>"]
["<s>", "public", "BigIntType", "(", "Class", "<", "Long", ">", "type", ")", "{", "super", "(", "type", ",", "Types", ".", "BIGINT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Long", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getLong", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "BIGINT", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "long", "readLong", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getLong", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeLong", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "long", "value", ")", "throws", "SQLException", "{", "statement", ".", "setLong", "(", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "public", "SmallIntType", "(", "Class", "<", "Short", ">", "type", ")", "{", "super", "(", "type", ",", "Types", ".", "SMALLINT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Short", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getShort", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "SMALLINT", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "short", "readShort", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getShort", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeShort", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "short", "value", ")", "throws", "SQLException", "{", "statement", ".", "setShort", "(", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "long", "readLong", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeLong", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "long", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "public", "TimeType", "(", ")", "{", "super", "(", "Time", ".", "class", ",", "Types", ".", "TIME", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Time", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getTime", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "TIME", ";", "}", "</s>"]
["<s>", "public", "RealType", "(", "Class", "<", "Double", ">", "type", ")", "{", "super", "(", "type", ",", "Types", ".", "REAL", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Double", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getDouble", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "REAL", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "double", "readDouble", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getDouble", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeDouble", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "double", "value", ")", "throws", "SQLException", "{", "statement", ".", "setDouble", "(", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "public", "TimeStampType", "(", ")", "{", "super", "(", "Timestamp", ".", "class", ",", "Types", ".", "TIMESTAMP", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Timestamp", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getTimestamp", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "TIMESTAMP", ";", "}", "</s>"]
["<s>", "public", "FloatType", "(", "Class", "<", "Float", ">", "type", ")", "{", "super", "(", "type", ",", "Types", ".", "FLOAT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Float", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getFloat", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "FLOAT", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "float", "readFloat", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getFloat", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeFloat", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "float", "value", ")", "throws", "SQLException", "{", "statement", ".", "setFloat", "(", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "public", "ClobType", "(", ")", "{", "super", "(", "Clob", ".", "class", ",", "Types", ".", "CLOB", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Clob", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getClob", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "CLOB", ";", "}", "</s>"]
["<s>", "public", "IntegerType", "(", "Class", "<", "Integer", ">", "type", ")", "{", "super", "(", "type", ",", "Types", ".", "INTEGER", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getInt", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "INTEGER", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "int", "readInt", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getInt", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeInt", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "int", "value", ")", "throws", "SQLException", "{", "statement", ".", "setInt", "(", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "public", "BooleanType", "(", "Class", "<", "Boolean", ">", "type", ")", "{", "super", "(", "type", ",", "Types", ".", "BOOLEAN", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Boolean", "fromResult", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getBoolean", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Keyword", "getIdentifier", "(", ")", "{", "return", "Keyword", ".", "BOOLEAN", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "boolean", "readBoolean", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", "{", "return", "results", ".", "getBoolean", "(", "column", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "writeBoolean", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "boolean", "value", ")", "throws", "SQLException", "{", "statement", ".", "setBoolean", "(", "index", ",", "value", ")", ";", "}", "</s>"]
["<s>", "float", "readFloat", "(", "ResultSet", "results", ",", "int", "column", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "void", "writeFloat", "(", "PreparedStatement", "statement", ",", "int", "index", ",", "float", "value", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "@", "Before", "public", "void", "setup", "(", ")", "throws", "SQLException", "{", "Platform", "platform", "=", "new", "HSQL", "(", ")", ";", "CommonDataSource", "dataSource", "=", "DatabaseType", ".", "getDataSource", "(", "platform", ")", ";", "EntityModel", "model", "=", "Models", ".", "MODEL2", ";", "Configuration", "configuration", "=", "new", "ConfigurationBuilder", "(", "dataSource", ",", "model", ")", ".", "useDefaultLogging", "(", ")", ".", "setEntityCache", "(", "new", "EmptyEntityCache", "(", ")", ")", ".", "setWriteExecutor", "(", "Executors", ".", "newSingleThreadExecutor", "(", ")", ")", ".", "build", "(", ")", ";", "SchemaModifier", "tables", "=", "new", "SchemaModifier", "(", "configuration", ")", ";", "tables", ".", "createTables", "(", "TableCreationMode", ".", "DROP_CREATE", ")", ";", "data", "=", "new", "EntityDataStore", "<", ">", "(", "configuration", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertReadDate", "(", ")", "{", "Event", "event", "=", "new", "Event", "(", ")", ";", "UUID", "id", "=", "UUID", ".", "randomUUID", "(", ")", ";", "LocalDate", "localDateNow", "=", "LocalDate", ".", "now", "(", ")", ";", "event", ".", "setId", "(", "id", ")", ";", "event", ".", "setLocalDate", "(", "localDateNow", ")", ";", "data", ".", "insert", "(", "event", ")", ";", "event", "=", "data", ".", "findByKey", "(", "Event", ".", "class", ",", "id", ")", ";", "Assert", ".", "assertEquals", "(", "localDateNow", ",", "event", ".", "getLocalDate", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertReadLocalTime", "(", ")", "{", "Event", "event", "=", "new", "Event", "(", ")", ";", "UUID", "id", "=", "UUID", ".", "randomUUID", "(", ")", ";", "LocalTime", "localTimeNow", "=", "LocalTime", ".", "now", "(", ")", ";", "event", ".", "setId", "(", "id", ")", ";", "event", ".", "setLocalTime", "(", "localTimeNow", ")", ";", "data", ".", "insert", "(", "event", ")", ";", "event", "=", "data", ".", "findByKey", "(", "Event", ".", "class", ",", "id", ")", ";", "Assert", ".", "assertEquals", "(", "localTimeNow", ".", "withNano", "(", "0", ")", ",", "event", ".", "getLocalTime", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertReadDateTime", "(", ")", "{", "Event", "event", "=", "new", "Event", "(", ")", ";", "UUID", "id", "=", "UUID", ".", "randomUUID", "(", ")", ";", "LocalDateTime", "localDateTimeNow", "=", "LocalDateTime", ".", "now", "(", ")", ".", "withNano", "(", "0", ")", ";", "OffsetDateTime", "offsetDateTimeNow", "=", "OffsetDateTime", ".", "now", "(", ")", ".", "withNano", "(", "0", ")", ";", "ZonedDateTime", "zonedDateTimeNow", "=", "ZonedDateTime", ".", "now", "(", ")", ".", "withNano", "(", "0", ")", ";", "event", ".", "setId", "(", "id", ")", ";", "event", ".", "setLocalDateTime", "(", "localDateTimeNow", ")", ";", "event", ".", "setOffsetDateTime", "(", "offsetDateTimeNow", ")", ";", "event", ".", "setZonedDateTime", "(", "zonedDateTimeNow", ")", ";", "data", ".", "insert", "(", "event", ")", ";", "event", "=", "data", ".", "findByKey", "(", "Event", ".", "class", ",", "id", ")", ";", "Assert", ".", "assertEquals", "(", "localDateTimeNow", ",", "event", ".", "getLocalDateTime", "(", ")", ")", ";", "Assert", ".", "assertEquals", "(", "offsetDateTimeNow", ",", "event", ".", "getOffsetDateTime", "(", ")", ")", ";", "Assert", ".", "assertEquals", "(", "zonedDateTimeNow", ",", "event", ".", "getZonedDateTime", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSerializeGetPut", "(", ")", "{", "CachingProvider", "provider", "=", "Caching", ".", "getCachingProvider", "(", ")", ";", "CacheManager", "cacheManager", "=", "provider", ".", "getCacheManager", "(", ")", ";", "EntityCache", "cache", "=", "new", "EntityCacheBuilder", "(", "Models", ".", "DEFAULT", ")", ".", "useReferenceCache", "(", "false", ")", ".", "useSerializableCache", "(", "true", ")", ".", "useCacheManager", "(", "cacheManager", ")", ".", "build", "(", ")", ";", "Person", "p", "=", "new", "Person", "(", ")", ";", "p", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "p", ".", "setUUID", "(", "UUID", ".", "randomUUID", "(", ")", ")", ";", "p", ".", "setAddress", "(", "new", "Address", "(", ")", ")", ";", "p", ".", "getAddress", "(", ")", ".", "setType", "(", "AddressType", ".", "HOME", ")", ";", "int", "id", "=", "<NUM_LIT:100>", ";", "cache", ".", "put", "(", "Person", ".", "class", ",", "id", ",", "p", ")", ";", "Person", "d", "=", "cache", ".", "get", "(", "Person", ".", "class", ",", "id", ")", ";", "Assert", ".", "assertNotNull", "(", "d", ")", ";", "Assert", ".", "assertNotSame", "(", "p", ",", "d", ")", ";", "Assert", ".", "assertEquals", "(", "p", ".", "getName", "(", ")", ",", "d", ".", "getName", "(", ")", ")", ";", "Assert", ".", "assertEquals", "(", "p", ".", "getUUID", "(", ")", ",", "d", ".", "getUUID", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Parameterized", ".", "Parameters", "(", "name", "=", "\"", "<STR_LIT>", "\"", ")", "public", "static", "Collection", "<", "Platform", ">", "data", "(", ")", "{", "return", "Arrays", ".", "<", "Platform", ">", "asList", "(", "new", "MySQL", "(", ")", ",", "new", "H2", "(", ")", ",", "new", "SQLite", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "UpsertTest", "(", "Platform", "platform", ")", "{", "this", ".", "platform", "=", "platform", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setup", "(", ")", "throws", "SQLException", "{", "CommonDataSource", "dataSource", "=", "DatabaseType", ".", "getDataSource", "(", "platform", ")", ";", "EntityModel", "model", "=", "Models", ".", "MODEL3", ";", "Configuration", "configuration", "=", "new", "ConfigurationBuilder", "(", "dataSource", ",", "model", ")", ".", "useDefaultLogging", "(", ")", ".", "setEntityCache", "(", "new", "EmptyEntityCache", "(", ")", ")", ".", "setWriteExecutor", "(", "Executors", ".", "newSingleThreadExecutor", "(", ")", ")", ".", "build", "(", ")", ";", "SchemaModifier", "tables", "=", "new", "SchemaModifier", "(", "configuration", ")", ";", "tables", ".", "createTables", "(", "TableCreationMode", ".", "DROP_CREATE", ")", ";", "System", ".", "out", ".", "println", "(", "tables", ".", "createTablesString", "(", "TableCreationMode", ".", "DROP_CREATE", ")", ")", ";", "data", "=", "new", "EntityDataStore", "<", ">", "(", "configuration", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testUpsertInsert", "(", ")", "{", "Event", "event", "=", "new", "Event", "(", ")", ";", "UUID", "id", "=", "UUID", ".", "randomUUID", "(", ")", ";", "event", ".", "setId", "(", "id", ")", ";", "event", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "upsert", "(", "event", ")", ";", "Event", "found", "=", "data", ".", "findByKey", "(", "Event", ".", "class", ",", "id", ")", ";", "assertEquals", "(", "event", ".", "getId", "(", ")", ",", "found", ".", "getId", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testUpsertOneToMany", "(", ")", "{", "Event", "event", "=", "new", "Event", "(", ")", ";", "event", ".", "setId", "(", "UUID", ".", "randomUUID", "(", ")", ")", ";", "Place", "place", "=", "new", "Place", "(", ")", ";", "place", ".", "setId", "(", "UUID", ".", "randomUUID", "(", ")", ".", "toString", "(", ")", ")", ";", "place", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "place", ".", "getEvents", "(", ")", ".", "add", "(", "event", ")", ";", "data", ".", "upsert", "(", "place", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testUpsertManyToMany", "(", ")", "{", "Event", "event1", "=", "new", "Event", "(", ")", ";", "event1", ".", "setId", "(", "UUID", ".", "randomUUID", "(", ")", ")", ";", "Tag", "tag", "=", "new", "Tag", "(", ")", ";", "tag", ".", "setId", "(", "UUID", ".", "randomUUID", "(", ")", ")", ";", "tag", ".", "getEvents", "(", ")", ".", "add", "(", "event1", ")", ";", "data", ".", "upsert", "(", "tag", ")", ";", "Event", "event2", "=", "new", "Event", "(", ")", ";", "event2", ".", "setId", "(", "UUID", ".", "randomUUID", "(", ")", ")", ";", "tag", ".", "getEvents", "(", ")", ".", "add", "(", "event2", ")", ";", "data", ".", "upsert", "(", "event2", ")", ";", "data", ".", "upsert", "(", "tag", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testUpsertInsertOneToMany", "(", ")", "{", "Event", "event", "=", "new", "Event", "(", ")", ";", "UUID", "id", "=", "UUID", ".", "randomUUID", "(", ")", ";", "event", ".", "setId", "(", "id", ")", ";", "data", ".", "upsert", "(", "event", ")", ";", "assertNotNull", "(", "event", ")", ";", "Event", "event1", "=", "new", "Event", "(", ")", ";", "event1", ".", "setId", "(", "id", ")", ";", "Place", "place", "=", "new", "Place", "(", ")", ";", "place", ".", "setId", "(", "UUID", ".", "randomUUID", "(", ")", ".", "toString", "(", ")", ")", ";", "place", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "place", ".", "getEvents", "(", ")", ".", "add", "(", "event1", ")", ";", "data", ".", "insert", "(", "place", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testUpsertOneToManyEmptyCollection", "(", ")", "{", "Event", "event1", "=", "new", "Event", "(", ")", ";", "event1", ".", "setId", "(", "UUID", ".", "randomUUID", "(", ")", ")", ";", "Place", "place", "=", "new", "Place", "(", ")", ";", "place", ".", "setId", "(", "UUID", ".", "randomUUID", "(", ")", ".", "toString", "(", ")", ")", ";", "place", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "place", ".", "getEvents", "(", ")", ".", "add", "(", "event1", ")", ";", "place", ".", "getEvents", "(", ")", ".", "clear", "(", ")", ";", "data", ".", "upsert", "(", "place", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testUpsertUpdate", "(", ")", "{", "Event", "event", "=", "new", "Event", "(", ")", ";", "UUID", "id", "=", "UUID", ".", "randomUUID", "(", ")", ";", "event", ".", "setId", "(", "id", ")", ";", "event", ".", "setName", "(", "\"", "<STR_LIT:1>", "\"", ")", ";", "data", ".", "insert", "(", "event", ")", ";", "Event", "event2", "=", "new", "Event", "(", ")", ";", "event2", ".", "setId", "(", "id", ")", ";", "event2", ".", "setName", "(", "\"", "<STR_LIT:2>", "\"", ")", ";", "data", ".", "upsert", "(", "event2", ")", ";", "List", "<", "Event", ">", "events", "=", "data", ".", "select", "(", "Event", ".", "class", ")", ".", "get", "(", ")", ".", "toList", "(", ")", ";", "assertTrue", "(", "events", ".", "size", "(", ")", "=", "=", "1", ")", ";", "assertEquals", "(", "\"", "<STR_LIT:2>", "\"", ",", "events", ".", "iterator", "(", ")", ".", "next", "(", ")", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDerivedContains", "(", ")", "{", "ClassMap", "<", "String", ">", "map", "=", "new", "ClassMap", "<", ">", "(", ")", ";", "map", ".", "put", "(", "CharSequence", ".", "class", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Assert", ".", "assertTrue", "(", "map", ".", "containsKey", "(", "String", ".", "class", ")", ")", ";", "Assert", ".", "assertEquals", "(", "map", ".", "get", "(", "String", ".", "class", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "Assert", ".", "assertNull", "(", "map", ".", "get", "(", "Object", ".", "class", ")", ")", ";", "}", "</s>"]
["<s>", "private", "static", "PersonEntity", "randomPerson", "(", ")", "{", "Random", "random", "=", "new", "Random", "(", ")", ";", "PersonEntity", "person", "=", "new", "PersonEntity", "(", ")", ";", "String", "[", "]", "firstNames", "=", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ";", "String", "[", "]", "lastNames", "=", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ";", "person", ".", "setName", "(", "firstNames", "[", "random", ".", "nextInt", "(", "firstNames", ".", "length", ")", "]", "+", "\"", "\"", "+", "lastNames", "[", "random", ".", "nextInt", "(", "lastNames", ".", "length", ")", "]", ")", ";", "person", ".", "setEmail", "(", "person", ".", "getName", "(", ")", ".", "replaceAll", "(", "\"", "\"", ",", "\"", "\"", ")", ".", "toLowerCase", "(", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "person", ".", "setUUID", "(", "UUID", ".", "randomUUID", "(", ")", ")", ";", "try", "{", "person", ".", "setHomepage", "(", "new", "URL", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "Calendar", "calendar", "=", "Calendar", ".", "getInstance", "(", ")", ";", "calendar", ".", "set", "(", "<NUM_LIT>", "+", "random", ".", "nextInt", "(", "<NUM_LIT>", ")", ",", "random", ".", "nextInt", "(", "<NUM_LIT:12>", ")", ",", "random", ".", "nextInt", "(", "<NUM_LIT:30>", ")", ")", ";", "person", ".", "setBirthday", "(", "calendar", ".", "getTime", "(", ")", ")", ";", "return", "person", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setup", "(", ")", "throws", "SQLException", "{", "CommonDataSource", "dataSource", "=", "DatabaseType", ".", "getDataSource", "(", "new", "H2", "(", ")", ")", ";", "EntityModel", "model", "=", "Models", ".", "JPA", ";", "CachingProvider", "provider", "=", "Caching", ".", "getCachingProvider", "(", ")", ";", "CacheManager", "cacheManager", "=", "provider", ".", "getCacheManager", "(", ")", ";", "Configuration", "configuration", "=", "new", "ConfigurationBuilder", "(", "dataSource", ",", "model", ")", ".", "useDefaultLogging", "(", ")", ".", "setEntityCache", "(", "new", "EntityCacheBuilder", "(", "model", ")", ".", "useReferenceCache", "(", "true", ")", ".", "useSerializableCache", "(", "true", ")", ".", "useCacheManager", "(", "cacheManager", ")", ".", "build", "(", ")", ")", ".", "build", "(", ")", ";", "data", "=", "new", "EntityDataStore", "<", ">", "(", "configuration", ")", ";", "SchemaModifier", "tables", "=", "new", "SchemaModifier", "(", "configuration", ")", ";", "tables", ".", "dropTables", "(", ")", ";", "TableCreationMode", "mode", "=", "TableCreationMode", ".", "CREATE", ";", "System", ".", "out", ".", "println", "(", "tables", ".", "createTablesString", "(", "mode", ")", ")", ";", "tables", ".", "createTables", "(", "mode", ")", ";", "}", "</s>"]
["<s>", "@", "After", "public", "void", "teardown", "(", ")", "{", "if", "(", "data", "!", "=", "null", ")", "{", "data", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertManyToMany", "(", ")", "{", "PersonEntity", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getGroups", "(", ")", ".", "toList", "(", ")", ".", "isEmpty", "(", ")", ")", ";", "List", "<", "Group", ">", "added", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "GroupEntity", "group", "=", "new", "GroupEntity", "(", ")", ";", "group", ".", "setName", "(", "\"", "<STR_LIT>", "\"", "+", "i", ")", ";", "group", ".", "setDescription", "(", "\"", "<STR_LIT>", "\"", ")", ";", "group", ".", "setType", "(", "GroupType", ".", "PRIVATE", ")", ";", "data", ".", "insert", "(", "group", ")", ";", "person", ".", "getGroups", "(", ")", ".", "add", "(", "group", ")", ";", "added", ".", "add", "(", "group", ")", ";", "}", "data", ".", "update", "(", "person", ")", ";", "data", ".", "refresh", "(", "person", ",", "PersonEntity", ".", "GROUPS", ")", ";", "assertTrue", "(", "added", ".", "containsAll", "(", "person", ".", "getGroups", "(", ")", ".", "toList", "(", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDeleteManyToMany", "(", ")", "{", "final", "PersonEntity", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "final", "Collection", "<", "Group", ">", "groups", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "GroupEntity", "group", "=", "new", "GroupEntity", "(", ")", ";", "group", ".", "setName", "(", "\"", "<STR_LIT>", "\"", "+", "i", ")", ";", "data", ".", "insert", "(", "group", ")", ";", "person", ".", "getGroups", "(", ")", ".", "add", "(", "group", ")", ";", "groups", ".", "add", "(", "group", ")", ";", "}", "data", ".", "update", "(", "person", ")", ";", "for", "(", "Group", "g", ":", "groups", ")", "{", "person", ".", "getGroups", "(", ")", ".", "remove", "(", "g", ")", ";", "}", "data", ".", "update", "(", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertOneToMany", "(", ")", "{", "PersonEntity", "person", "=", "randomPerson", "(", ")", ";", "PhoneEntity", "phone", "=", "new", "PhoneEntity", "(", ")", ";", "phone", ".", "setPhoneNumber", "(", "\"", "<STR_LIT>", "\"", ")", ";", "phone", ".", "setOwner", "(", "person", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSingleQueryExecute", "(", ")", "{", "data", ".", "insert", "(", "randomPerson", "(", ")", ")", ";", "Result", "<", "Person", ">", "result", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ";", "assertEquals", "(", "1", ",", "result", ".", "toList", "(", ")", ".", "size", "(", ")", ")", ";", "PersonEntity", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertEquals", "(", "<NUM_LIT:2>", ",", "result", ".", "toList", "(", ")", ".", "size", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGroupWithOptionalDescription", "(", ")", "{", "GroupEntity", "group", "=", "new", "GroupEntity", "(", ")", ";", "group", ".", "setName", "(", "\"", "<STR_LIT:1>", "\"", ")", ";", "assertNotNull", "(", "group", ".", "getDescription", "(", ")", ")", ";", "assertFalse", "(", "group", ".", "getDescription", "(", ")", ".", "isPresent", "(", ")", ")", ";", "group", ".", "setDescription", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "insert", "(", "group", ")", ";", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "group", ".", "getDescription", "(", ")", ".", "get", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertEmbedded", "(", ")", "{", "PersonEntity", "person", "=", "randomPerson", "(", ")", ";", "AddressEntity", "address", "=", "new", "AddressEntity", "(", ")", ";", "address", ".", "setLine1", "(", "\"", "<STR_LIT>", "\"", ")", ";", "address", ".", "setCity", "(", "\"", "<STR_LIT>", "\"", ")", ";", "address", ".", "setState", "(", "\"", "<STR_LIT>", "\"", ")", ";", "address", ".", "getCoordinate", "(", ")", ".", "setLatitude", "(", "<NUM_LIT>", ")", ";", "address", ".", "getCoordinate", "(", ")", ".", "setLongitude", "(", "<NUM_LIT>", ")", ";", "address", ".", "setType", "(", "AddressType", ".", "HOME", ")", ";", "person", ".", "setAddress", "(", "address", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setup", "(", ")", "throws", "SQLException", "{", "Platform", "platform", "=", "new", "HSQL", "(", ")", ";", "CommonDataSource", "dataSource", "=", "DatabaseType", ".", "getDataSource", "(", "platform", ")", ";", "EntityModel", "model", "=", "io", ".", "requery", ".", "test", ".", "model", ".", "Models", ".", "DEFAULT", ";", "CachingProvider", "provider", "=", "Caching", ".", "getCachingProvider", "(", ")", ";", "CacheManager", "cacheManager", "=", "provider", ".", "getCacheManager", "(", ")", ";", "Configuration", "configuration", "=", "new", "ConfigurationBuilder", "(", "dataSource", ",", "model", ")", ".", "useDefaultLogging", "(", ")", ".", "setWriteExecutor", "(", "Executors", ".", "newSingleThreadExecutor", "(", ")", ")", ".", "setEntityCache", "(", "new", "EntityCacheBuilder", "(", "model", ")", ".", "useReferenceCache", "(", "true", ")", ".", "useSerializableCache", "(", "true", ")", ".", "useCacheManager", "(", "cacheManager", ")", ".", "build", "(", ")", ")", ".", "build", "(", ")", ";", "SchemaModifier", "tables", "=", "new", "SchemaModifier", "(", "configuration", ")", ";", "tables", ".", "createTables", "(", "TableCreationMode", ".", "DROP_CREATE", ")", ";", "data", "=", "RxSupport", ".", "toReactiveStore", "(", "new", "EntityDataStore", "<", "Persistable", ">", "(", "configuration", ")", ")", ";", "}", "</s>"]
["<s>", "@", "After", "public", "void", "teardown", "(", ")", "{", "if", "(", "data", "!", "=", "null", ")", "{", "data", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsert", "(", ")", "throws", "Exception", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "final", "CountDownLatch", "latch", "=", "new", "CountDownLatch", "(", "1", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "subscribe", "(", "new", "Action1", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Person", "person", ")", "{", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "Person", "cached", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "ID", ".", "equal", "(", "person", ".", "getId", "(", ")", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "cached", ",", "person", ")", ";", "latch", ".", "countDown", "(", ")", ";", "}", "}", ")", ";", "latch", ".", "await", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Person", "person", ")", "{", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "Person", "cached", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "ID", ".", "equal", "(", "person", ".", "getId", "(", ")", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "cached", ",", "person", ")", ";", "latch", ".", "countDown", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDelete", "(", ")", "throws", "Exception", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "flatMap", "(", "new", "Func1", "<", "Person", ",", "Single", "<", "Void", ">", ">", "(", ")", "{", "@", "Override", "public", "Single", "<", "Void", ">", "call", "(", "Person", "person", ")", "{", "return", "data", ".", "delete", "(", "person", ")", ";", "}", "}", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "Person", "cached", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "ID", ".", "equal", "(", "person", ".", "getId", "(", ")", ")", ")", ".", "get", "(", ")", ".", "firstOrNull", "(", ")", ";", "assertNull", "(", "cached", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Single", "<", "Void", ">", "call", "(", "Person", "person", ")", "{", "return", "data", ".", "delete", "(", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertCount", "(", ")", "throws", "Exception", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "Observable", ".", "just", "(", "person", ")", ".", "concatMap", "(", "new", "Func1", "<", "Person", ",", "Observable", "<", "Person", ">", ">", "(", ")", "{", "@", "Override", "public", "Observable", "<", "Person", ">", "call", "(", "Person", "person", ")", "{", "return", "data", ".", "insert", "(", "person", ")", ".", "toObservable", "(", ")", ";", "}", "}", ")", ";", "Person", "p", "=", "data", ".", "insert", "(", "person", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "assertTrue", "(", "p", ".", "getId", "(", ")", ">", "0", ")", ";", "int", "count", "=", "data", ".", "count", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "toSingle", "(", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "assertEquals", "(", "1", ",", "count", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Observable", "<", "Person", ">", "call", "(", "Person", "person", ")", "{", "return", "data", ".", "insert", "(", "person", ")", ".", "toObservable", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertOneToMany", "(", ")", "throws", "Exception", "{", "final", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "map", "(", "new", "Func1", "<", "Person", ",", "Phone", ">", "(", ")", "{", "@", "Override", "public", "Phone", "call", "(", "Person", "person", ")", "{", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "phone1", ".", "setOwner", "(", "person", ")", ";", "return", "phone1", ";", "}", "}", ")", ".", "flatMap", "(", "new", "Func1", "<", "Phone", ",", "Single", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "Single", "<", "?", ">", "call", "(", "Phone", "phone", ")", "{", "return", "data", ".", "insert", "(", "phone", ")", ";", "}", "}", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "assertTrue", "(", "person", ".", "getPhoneNumbers", "(", ")", ".", "toList", "(", ")", ".", "size", "(", ")", "=", "=", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Phone", "call", "(", "Person", "person", ")", "{", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "phone1", ".", "setOwner", "(", "person", ")", ";", "return", "phone1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Single", "<", "?", ">", "call", "(", "Phone", "phone", ")", "{", "return", "data", ".", "insert", "(", "phone", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryObservable", "(", ")", "throws", "Exception", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:30>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "}", "final", "List", "<", "Person", ">", "people", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "limit", "(", "<NUM_LIT>", ")", ".", "get", "(", ")", ".", "toObservable", "(", ")", ".", "subscribe", "(", "new", "Action1", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Person", "person", ")", "{", "people", ".", "add", "(", "person", ")", ";", "}", "}", ")", ";", "assertEquals", "(", "<NUM_LIT:30>", ",", "people", ".", "size", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Person", "person", ")", "{", "people", ".", "add", "(", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQuerySelfObservable", "(", ")", "throws", "Exception", "{", "final", "AtomicInteger", "count", "=", "new", "AtomicInteger", "(", ")", ";", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "toSelfObservable", "(", ")", ".", "subscribe", "(", "new", "Action1", "<", "Result", "<", "Person", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Result", "<", "Person", ">", "persons", ")", "{", "count", ".", "incrementAndGet", "(", ")", ";", "}", "}", ")", ";", "data", ".", "insert", "(", "randomPerson", "(", ")", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "data", ".", "insert", "(", "randomPerson", "(", ")", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "assertEquals", "(", "<NUM_LIT:3>", ",", "count", ".", "get", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Result", "<", "Person", ">", "persons", ")", "{", "count", ".", "incrementAndGet", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQuerySelfObservableMap", "(", ")", "throws", "Exception", "{", "final", "AtomicInteger", "count", "=", "new", "AtomicInteger", "(", ")", ";", "Subscription", "subscription", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "limit", "(", "<NUM_LIT:2>", ")", ".", "get", "(", ")", ".", "toSelfObservable", "(", ")", ".", "flatMap", "(", "new", "Func1", "<", "Result", "<", "Person", ">", ",", "Observable", "<", "Person", ">", ">", "(", ")", "{", "@", "Override", "public", "Observable", "<", "Person", ">", "call", "(", "Result", "<", "Person", ">", "persons", ")", "{", "return", "persons", ".", "toObservable", "(", ")", ";", "}", "}", ")", ".", "subscribe", "(", "new", "Action1", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Person", "persons", ")", "{", "count", ".", "incrementAndGet", "(", ")", ";", "}", "}", ")", ";", "data", ".", "insert", "(", "randomPerson", "(", ")", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "data", ".", "insert", "(", "randomPerson", "(", ")", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "assertEquals", "(", "<NUM_LIT:3>", ",", "count", ".", "get", "(", ")", ")", ";", "subscription", ".", "unsubscribe", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Observable", "<", "Person", ">", "call", "(", "Result", "<", "Person", ">", "persons", ")", "{", "return", "persons", ".", "toObservable", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Person", "persons", ")", "{", "count", ".", "incrementAndGet", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSelfObservableDelete", "(", ")", "throws", "Exception", "{", "final", "AtomicInteger", "count", "=", "new", "AtomicInteger", "(", ")", ";", "Subscription", "subscription", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "toSelfObservable", "(", ")", ".", "subscribe", "(", "new", "Action1", "<", "Result", "<", "Person", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Result", "<", "Person", ">", "persons", ")", "{", "count", ".", "incrementAndGet", "(", ")", ";", "}", "}", ")", ";", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "data", ".", "delete", "(", "person", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "assertEquals", "(", "<NUM_LIT:3>", ",", "count", ".", "get", "(", ")", ")", ";", "subscription", ".", "unsubscribe", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Result", "<", "Person", ">", "persons", ")", "{", "count", ".", "incrementAndGet", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSelfObservableDeleteQuery", "(", ")", "throws", "Exception", "{", "final", "AtomicInteger", "count", "=", "new", "AtomicInteger", "(", ")", ";", "Subscription", "subscription", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "toSelfObservable", "(", ")", ".", "subscribe", "(", "new", "Action1", "<", "Result", "<", "Person", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Result", "<", "Person", ">", "persons", ")", "{", "count", ".", "incrementAndGet", "(", ")", ";", "}", "}", ")", ";", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "assertEquals", "(", "<NUM_LIT:2>", ",", "count", ".", "get", "(", ")", ")", ";", "int", "rows", "=", "data", ".", "delete", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "value", "(", ")", ";", "assertEquals", "(", "<NUM_LIT:3>", ",", "count", ".", "get", "(", ")", ")", ";", "subscription", ".", "unsubscribe", "(", ")", ";", "assertEquals", "(", "rows", ",", "1", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Result", "<", "Person", ">", "persons", ")", "{", "count", ".", "incrementAndGet", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQuerySelfObservableRelational", "(", ")", "throws", "Exception", "{", "final", "AtomicInteger", "count", "=", "new", "AtomicInteger", "(", ")", ";", "Subscription", "subscription", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "toSelfObservable", "(", ")", ".", "subscribe", "(", "new", "Action1", "<", "Result", "<", "Person", ">", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Result", "<", "Person", ">", "persons", ")", "{", "count", ".", "incrementAndGet", "(", ")", ";", "}", "}", ")", ";", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "Phone", "phone", "=", "randomPhone", "(", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone", ")", ";", "data", ".", "update", "(", "person", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "data", ".", "delete", "(", "phone", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "assertEquals", "(", "<NUM_LIT:4>", ",", "count", ".", "get", "(", ")", ")", ";", "subscription", ".", "unsubscribe", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Result", "<", "Person", ">", "persons", ")", "{", "count", ".", "incrementAndGet", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryObservableFromEntity", "(", ")", "throws", "Exception", "{", "final", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "map", "(", "new", "Func1", "<", "Person", ",", "Phone", ">", "(", ")", "{", "@", "Override", "public", "Phone", "call", "(", "Person", "person", ")", "{", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "phone1", ".", "setOwner", "(", "person", ")", ";", "return", "phone1", ";", "}", "}", ")", ".", "flatMap", "(", "new", "Func1", "<", "Phone", ",", "Single", "<", "?", ">", ">", "(", ")", "{", "@", "Override", "public", "Single", "<", "?", ">", "call", "(", "Phone", "phone", ")", "{", "return", "data", ".", "insert", "(", "phone", ")", ";", "}", "}", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "int", "count", "=", "person", ".", "getPhoneNumbers", "(", ")", ".", "toObservable", "(", ")", ".", "count", "(", ")", ".", "toBlocking", "(", ")", ".", "first", "(", ")", ";", "assertEquals", "(", "1", ",", "count", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Phone", "call", "(", "Person", "person", ")", "{", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "phone1", ".", "setOwner", "(", "person", ")", ";", "return", "phone1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Single", "<", "?", ">", "call", "(", "Phone", "phone", ")", "{", "return", "data", ".", "insert", "(", "phone", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testRunInTransaction", "(", ")", "{", "final", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "runInTransaction", "(", "data", ".", "insert", "(", "person", ")", ",", "data", ".", "update", "(", "person", ")", ",", "data", ".", "delete", "(", "person", ")", ")", ".", "subscribe", "(", "new", "Action1", "<", "Object", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Object", "o", ")", "{", "}", "}", ")", ";", "assertEquals", "(", "0", ",", "data", ".", "count", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "value", "(", ")", ".", "intValue", "(", ")", ")", ";", "data", ".", "runInTransaction", "(", "data", ".", "insert", "(", "person", ")", ")", ".", "subscribe", "(", "new", "Action1", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "void", "call", "(", "Person", "o", ")", "{", "}", "}", ")", ";", "assertEquals", "(", "1", ",", "data", ".", "count", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "value", "(", ")", ".", "intValue", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Object", "o", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "call", "(", "Person", "o", ")", "{", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryObservablePull", "(", ")", "throws", "Exception", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "toBlocking", "(", ")", ".", "value", "(", ")", ";", "}", "final", "List", "<", "Person", ">", "people", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "toObservable", "(", ")", ".", "subscribeOn", "(", "Schedulers", ".", "immediate", "(", ")", ")", ".", "subscribe", "(", "new", "Subscriber", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "void", "onStart", "(", ")", "{", "super", ".", "onStart", "(", ")", ";", "request", "(", "<NUM_LIT:10>", ")", ";", "}", "@", "Override", "public", "void", "onCompleted", "(", ")", "{", "}", "@", "Override", "public", "void", "onError", "(", "Throwable", "e", ")", "{", "}", "@", "Override", "public", "void", "onNext", "(", "Person", "person", ")", "{", "people", ".", "add", "(", "person", ")", ";", "if", "(", "people", ".", "size", "(", ")", "%", "<NUM_LIT:10>", "=", "=", "0", "&", "&", "people", ".", "size", "(", ")", ">", "1", ")", "{", "request", "(", "<NUM_LIT:10>", ")", ";", "}", "}", "}", ")", ";", "assertEquals", "(", "<NUM_LIT>", ",", "people", ".", "size", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onStart", "(", ")", "{", "super", ".", "onStart", "(", ")", ";", "request", "(", "<NUM_LIT:10>", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onCompleted", "(", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onError", "(", "Throwable", "e", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "onNext", "(", "Person", "person", ")", "{", "people", ".", "add", "(", "person", ")", ";", "if", "(", "people", ".", "size", "(", ")", "%", "<NUM_LIT:10>", "=", "=", "0", "&", "&", "people", ".", "size", "(", ")", ">", "1", ")", "{", "request", "(", "<NUM_LIT:10>", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Override", "CommonDataSource", "createDataSource", "(", ")", "{", "CommonDataSource", "dataSource", "=", "super", ".", "createDataSource", "(", ")", ";", "setProperty", "(", "dataSource", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ";", "return", "dataSource", ";", "}", "</s>"]
["<s>", "@", "Override", "DataSource", "createDataSource", "(", ")", "{", "JdbcDataSource", "dataSource", "=", "new", "JdbcDataSource", "(", ")", ";", "dataSource", ".", "setUrl", "(", "\"", "<STR_LIT>", "\"", ")", ";", "dataSource", ".", "setUser", "(", "\"", "<STR_LIT>", "\"", ")", ";", "dataSource", ".", "setPassword", "(", "\"", "<STR_LIT>", "\"", ")", ";", "return", "dataSource", ";", "}", "</s>"]
["<s>", "@", "Override", "DataSource", "createDataSource", "(", ")", "{", "JDBCDataSource", "dataSource", "=", "new", "JDBCDataSource", "(", ")", ";", "dataSource", ".", "setUrl", "(", "\"", "<STR_LIT>", "\"", ")", ";", "dataSource", ".", "setUser", "(", "\"", "<STR_LIT>", "\"", ")", ";", "dataSource", ".", "setPassword", "(", "\"", "<STR_LIT>", "\"", ")", ";", "return", "dataSource", ";", "}", "</s>"]
["<s>", "@", "Override", "DataSource", "createDataSource", "(", ")", "{", "SQLiteDataSource", "dataSource", "=", "new", "SQLiteDataSource", "(", ")", ";", "dataSource", ".", "setUrl", "(", "\"", "<STR_LIT>", "\"", ")", ";", "try", "(", "Statement", "statement", "=", "dataSource", ".", "getConnection", "(", ")", ".", "createStatement", "(", ")", ")", "{", "statement", ".", "execute", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "catch", "(", "SQLException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "return", "dataSource", ";", "}", "</s>"]
["<s>", "@", "Override", "DataSource", "createDataSource", "(", ")", "{", "EmbeddedDataSource", "dataSource", "=", "new", "EmbeddedDataSource", "(", ")", ";", "dataSource", ".", "setUser", "(", "\"", "\"", ")", ";", "dataSource", ".", "setPassword", "(", "\"", "\"", ")", ";", "dataSource", ".", "setDatabaseName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "dataSource", ".", "setCreateDatabase", "(", "\"", "<STR_LIT>", "\"", ")", ";", "dataSource", ".", "setConnectionAttributes", "(", "\"", "<STR_LIT>", "\"", ")", ";", "return", "dataSource", ";", "}", "</s>"]
["<s>", "public", "static", "CommonDataSource", "getDataSource", "(", "Platform", "platform", ")", "{", "for", "(", "DatabaseType", "type", ":", "values", "(", ")", ")", "{", "if", "(", "type", ".", "matches", "(", "platform", ")", ")", "{", "return", "type", ".", "createDataSource", "(", ")", ";", "}", "}", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "</s>"]
["<s>", "DatabaseType", "(", "Class", "<", "?", "extends", "Platform", ">", "platformClass", ",", "Class", "<", "?", "extends", "DataSource", ">", "dataSourceClass", ")", "{", "this", ".", "dataSourceClass", "=", "dataSourceClass", ";", "this", ".", "platformClass", "=", "platformClass", ";", "}", "</s>"]
["<s>", "DatabaseType", "(", "Class", "<", "?", "extends", "Platform", ">", "platformClass", ",", "String", "dataSourceClassName", ")", "{", "this", ".", "platformClass", "=", "platformClass", ";", "this", ".", "dataSourceClass", "=", "null", ";", "this", ".", "dataSourceClassName", "=", "dataSourceClassName", ";", "}", "</s>"]
["<s>", "boolean", "matches", "(", "Platform", "platform", ")", "{", "return", "platform", ".", "getClass", "(", ")", ".", "isAssignableFrom", "(", "platformClass", ")", ";", "}", "</s>"]
["<s>", "CommonDataSource", "createDataSource", "(", ")", "{", "try", "{", "if", "(", "dataSourceClass", "=", "=", "null", ")", "{", "dataSourceClass", "=", "Class", ".", "forName", "(", "dataSourceClassName", ")", ".", "asSubclass", "(", "CommonDataSource", ".", "class", ")", ";", "}", "CommonDataSource", "dataSource", "=", "dataSourceClass", ".", "newInstance", "(", ")", ";", "String", "fileName", "=", "platformClass", ".", "getSimpleName", "(", ")", ".", "toLowerCase", "(", "Locale", ".", "US", ")", ";", "Properties", "properties", "=", "new", "Properties", "(", ")", ";", "String", "localPath", "=", "\"", "<STR_LIT>", "\"", ";", "String", "ciPath", "=", "\"", "<STR_LIT>", "\"", ";", "File", "[", "]", "files", "=", "new", "File", "[", "]", "{", "new", "File", "(", "localPath", "+", "fileName", "+", "\"", "<STR_LIT>", "\"", ")", ",", "new", "File", "(", "ciPath", "+", "fileName", "+", "\"", "<STR_LIT>", "\"", ")", "}", ";", "for", "(", "File", "file", ":", "files", ")", "{", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "try", "(", "FileInputStream", "stream", "=", "new", "FileInputStream", "(", "file", ")", ")", "{", "properties", ".", "load", "(", "stream", ")", ";", "}", "break", ";", "}", "}", "String", "server", "=", "properties", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Integer", "port", "=", "Integer", ".", "parseInt", "(", "properties", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "String", "user", "=", "properties", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "String", "password", "=", "properties", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "String", "database", "=", "properties", ".", "getProperty", "(", "\"", "<STR_LIT>", "\"", ")", ";", "setProperty", "(", "dataSource", ",", "\"", "<STR_LIT>", "\"", ",", "server", ")", ";", "setProperty", "(", "dataSource", ",", "\"", "<STR_LIT>", "\"", ",", "port", ")", ";", "setProperty", "(", "dataSource", ",", "\"", "<STR_LIT>", "\"", ",", "database", ")", ";", "setProperty", "(", "dataSource", ",", "\"", "<STR_LIT>", "\"", ",", "user", ")", ";", "setProperty", "(", "dataSource", ",", "\"", "<STR_LIT>", "\"", ",", "password", ")", ";", "return", "dataSource", ";", "}", "catch", "(", "Exception", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "void", "setProperty", "(", "CommonDataSource", "dataSource", ",", "String", "method", ",", "Object", "value", ")", "{", "try", "{", "Class", "<", "?", ">", "parameterClass", "=", "value", ".", "getClass", "(", ")", ";", "if", "(", "parameterClass", "=", "=", "Integer", ".", "class", ")", "{", "parameterClass", "=", "int", ".", "class", ";", "}", "dataSource", ".", "getClass", "(", ")", ".", "getMethod", "(", "method", ",", "parameterClass", ")", ".", "invoke", "(", "dataSource", ",", "value", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "}", "</s>"]
["<s>", "int", "randomPerson", "(", ")", "{", "Random", "random", "=", "new", "Random", "(", ")", ";", "String", "[", "]", "firstNames", "=", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ";", "String", "[", "]", "lastNames", "=", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ";", "String", "name", "=", "firstNames", "[", "random", ".", "nextInt", "(", "firstNames", ".", "length", ")", "]", "+", "\"", "\"", "+", "lastNames", "[", "random", ".", "nextInt", "(", "lastNames", ".", "length", ")", "]", ";", "Calendar", "calendar", "=", "Calendar", ".", "getInstance", "(", ")", ";", "calendar", ".", "set", "(", "<NUM_LIT>", "+", "random", ".", "nextInt", "(", "<NUM_LIT>", ")", ",", "random", ".", "nextInt", "(", "<NUM_LIT:12>", ")", ",", "random", ".", "nextInt", "(", "<NUM_LIT:30>", ")", ")", ";", "return", "data", ".", "insert", "(", "Person", ".", "class", ")", ".", "value", "(", "PersonType", ".", "NAME", ",", "name", ")", ".", "value", "(", "PersonType", ".", "AGE", ",", "random", ".", "nextInt", "(", "<NUM_LIT>", ")", ")", ".", "value", "(", "PersonType", ".", "EMAIL", ",", "name", ".", "replaceAll", "(", "\"", "\"", ",", "\"", "\"", ")", ".", "toLowerCase", "(", ")", "+", "\"", "<STR_LIT>", "\"", ")", ".", "value", "(", "PersonType", ".", "UUID", ",", "UUID", ".", "randomUUID", "(", ")", ")", ".", "value", "(", "PersonType", ".", "BIRTHDAY", ",", "calendar", ".", "getTime", "(", ")", ")", ".", "value", "(", "PersonType", ".", "ABOUT", ",", "\"", "<STR_LIT>", "\"", ")", ".", "get", "(", ")", ".", "first", "(", ")", ".", "get", "(", "PersonType", ".", "ID", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setup", "(", ")", "throws", "SQLException", "{", "CommonDataSource", "dataSource", "=", "DatabaseType", ".", "getDataSource", "(", "new", "SQLite", "(", ")", ")", ";", "EntityModel", "model", "=", "Models", ".", "AUTOVALUE", ";", "Configuration", "configuration", "=", "new", "ConfigurationBuilder", "(", "dataSource", ",", "model", ")", ".", "useDefaultLogging", "(", ")", ".", "setEntityCache", "(", "new", "EntityCacheBuilder", "(", "model", ")", ".", "useReferenceCache", "(", "true", ")", ".", "build", "(", ")", ")", ".", "build", "(", ")", ";", "data", "=", "new", "EntityDataStore", "<", ">", "(", "configuration", ")", ";", "SchemaModifier", "tables", "=", "new", "SchemaModifier", "(", "configuration", ")", ";", "tables", ".", "dropTables", "(", ")", ";", "TableCreationMode", "mode", "=", "TableCreationMode", ".", "CREATE_NOT_EXISTS", ";", "System", ".", "out", ".", "println", "(", "tables", ".", "createTablesString", "(", "mode", ")", ")", ";", "tables", ".", "createTables", "(", "mode", ")", ";", "}", "</s>"]
["<s>", "@", "After", "public", "void", "teardown", "(", ")", "{", "if", "(", "data", "!", "=", "null", ")", "{", "data", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSelectAll", "(", ")", "{", "List", "<", "Integer", ">", "added", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "added", ".", "add", "(", "randomPerson", "(", ")", ")", ";", "}", "Result", "<", "Person", ">", "result", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ";", "for", "(", "Person", "p", ":", "result", ")", "{", "assertTrue", "(", "added", ".", "contains", "(", "p", ".", "getId", "(", ")", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsert", "(", ")", "{", "Set", "<", "Integer", ">", "ids", "=", "new", "HashSet", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "p", "=", "Person", ".", "builder", "(", ")", ".", "setName", "(", "\"", "<STR_LIT>", "\"", "+", "i", ")", ".", "setAge", "(", "<NUM_LIT:30>", ")", ".", "setEmail", "(", "\"", "<STR_LIT>", "\"", ")", ".", "setUUID", "(", "UUID", ".", "randomUUID", "(", ")", ")", ".", "setBirthday", "(", "new", "Date", "(", ")", ")", ".", "setAbout", "(", "\"", "<STR_LIT>", "\"", ")", ".", "build", "(", ")", ";", "Integer", "key", "=", "data", ".", "insert", "(", "p", ",", "Integer", ".", "class", ")", ";", "assertTrue", "(", "key", ">", "0", ")", ";", "ids", ".", "add", "(", "key", ")", ";", "}", "final", "Set", "<", "Integer", ">", "selected", "=", "new", "HashSet", "<", ">", "(", ")", ";", "data", ".", "select", "(", "PersonType", ".", "ID", ")", ".", "get", "(", ")", ".", "each", "(", "new", "Consumer", "<", "Tuple", ">", "(", ")", "{", "@", "Override", "public", "void", "accept", "(", "Tuple", "tuple", ")", "{", "selected", ".", "add", "(", "tuple", ".", "get", "(", "PersonType", ".", "ID", ")", ")", ";", "}", "}", ")", ";", "assertEquals", "(", "ids", ",", "selected", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "accept", "(", "Tuple", "tuple", ")", "{", "selected", ".", "add", "(", "tuple", ".", "get", "(", "PersonType", ".", "ID", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testUpdate", "(", ")", "{", "Person", "person", "=", "Person", ".", "builder", "(", ")", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ".", "setAge", "(", "<NUM_LIT:30>", ")", ".", "setEmail", "(", "\"", "<STR_LIT>", "\"", ")", ".", "setUUID", "(", "UUID", ".", "randomUUID", "(", ")", ")", ".", "setBirthday", "(", "new", "Date", "(", ")", ")", ".", "setAbout", "(", "\"", "<STR_LIT>", "\"", ")", ".", "build", "(", ")", ";", "Integer", "key", "=", "data", ".", "insert", "(", "person", ",", "Integer", ".", "class", ")", ";", "Person", "renamed", "=", "person", ".", "toBuilder", "(", ")", ".", "setId", "(", "key", ")", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ".", "build", "(", ")", ";", "data", ".", "update", "(", "renamed", ")", ";", "person", "=", "data", ".", "findByKey", "(", "Person", ".", "class", ",", "key", ")", ";", "assertTrue", "(", "person", ".", "getName", "(", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDelete", "(", ")", "throws", "MalformedURLException", "{", "Integer", "key", "=", "randomPerson", "(", ")", ";", "Person", "p", "=", "data", ".", "findByKey", "(", "Person", ".", "class", ",", "key", ")", ";", "assertNotNull", "(", "p", ")", ";", "data", ".", "delete", "(", "p", ")", ";", "p", "=", "data", ".", "findByKey", "(", "Person", ".", "class", ",", "key", ")", ";", "assertNull", "(", "p", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testRefresh", "(", ")", "throws", "MalformedURLException", "{", "Integer", "key", "=", "randomPerson", "(", ")", ";", "Integer", "count", "=", "data", ".", "update", "(", "Person", ".", "class", ")", ".", "set", "(", "PersonType", ".", "NAME", ",", "\"", "<STR_LIT>", "\"", ")", ".", "get", "(", ")", ".", "value", "(", ")", ";", "assertTrue", "(", "count", ">", "0", ")", ";", "Person", "p", "=", "data", ".", "findByKey", "(", "Person", ".", "class", ",", "key", ")", ";", "data", ".", "refresh", "(", "p", ")", ";", "assertEquals", "(", "p", ".", "getName", "(", ")", ",", "\"", "<STR_LIT>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertReference", "(", ")", "{", "randomPerson", "(", ")", ";", "Result", "<", "Person", ">", "result", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ";", "Person", "person", "=", "result", ".", "first", "(", ")", ";", "int", "id", "=", "data", ".", "insert", "(", "Phone", ".", "class", ")", ".", "value", "(", "PhoneType", ".", "PHONE_NUMBER", ",", "\"", "<STR_LIT>", "\"", ")", ".", "value", "(", "PhoneType", ".", "NORMALIZED", ",", "false", ")", ".", "value", "(", "PhoneType", ".", "OWNER_ID", ",", "person", ".", "getId", "(", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ".", "get", "(", "PhoneType", ".", "ID", ")", ";", "assertTrue", "(", "id", "!", "=", "0", ")", ";", "Phone", "phone", "=", "data", ".", "select", "(", "Phone", ".", "class", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "phone", ".", "getOwnerId", "(", ")", ",", "person", ".", "getId", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Parameterized", ".", "Parameters", "(", "name", "=", "\"", "<STR_LIT>", "\"", ")", "public", "static", "Collection", "<", "Platform", ">", "data", "(", ")", "{", "return", "CI", ";", "}", "</s>"]
["<s>", "public", "ParameterizedFunctionalTest", "(", "Platform", "platform", ")", "{", "this", ".", "platform", "=", "platform", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setup", "(", ")", "throws", "SQLException", "{", "CommonDataSource", "dataSource", "=", "DatabaseType", ".", "getDataSource", "(", "platform", ")", ";", "EntityModel", "model", "=", "Models", ".", "DEFAULT", ";", "CachingProvider", "provider", "=", "Caching", ".", "getCachingProvider", "(", ")", ";", "CacheManager", "cacheManager", "=", "provider", ".", "getCacheManager", "(", ")", ";", "Configuration", "configuration", "=", "new", "ConfigurationBuilder", "(", "dataSource", ",", "model", ")", ".", "useDefaultLogging", "(", ")", ".", "setStatementCacheSize", "(", "platform", "instanceof", "SQLite", "?", "0", ":", "<NUM_LIT:10>", ")", ".", "setBatchUpdateSize", "(", "<NUM_LIT>", ")", ".", "setEntityCache", "(", "new", "EntityCacheBuilder", "(", "model", ")", ".", "useReferenceCache", "(", "true", ")", ".", "useSerializableCache", "(", "true", ")", ".", "useCacheManager", "(", "cacheManager", ")", ".", "build", "(", ")", ")", ".", "build", "(", ")", ";", "data", "=", "new", "EntityDataStore", "<", ">", "(", "configuration", ")", ";", "SchemaModifier", "tables", "=", "new", "SchemaModifier", "(", "configuration", ")", ";", "try", "{", "tables", ".", "dropTables", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "if", "(", "!", "platform", ".", "supportsIfExists", "(", ")", ")", "{", "throw", "e", ";", "}", "}", "TableCreationMode", "mode", "=", "TableCreationMode", ".", "CREATE", ";", "System", ".", "out", ".", "println", "(", "tables", ".", "createTablesString", "(", "mode", ")", ")", ";", "tables", ".", "createTables", "(", "mode", ")", ";", "}", "</s>"]
["<s>", "public", "BenchmarkTest", "(", ")", "{", "this", ".", "platform", "=", "new", "H2", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testCompareQuery", "(", ")", "throws", "SQLException", ",", "RunnerException", "{", "Options", "options", "=", "new", "OptionsBuilder", "(", ")", ".", "include", "(", "getClass", "(", ")", ".", "getName", "(", ")", "+", "\"", "<STR_LIT>", "\"", ")", ".", "mode", "(", "Mode", ".", "SingleShotTime", ")", ".", "timeUnit", "(", "TimeUnit", ".", "MILLISECONDS", ")", ".", "warmupTime", "(", "TimeValue", ".", "seconds", "(", "<NUM_LIT:5>", ")", ")", ".", "warmupIterations", "(", "<NUM_LIT:2>", ")", ".", "measurementTime", "(", "TimeValue", ".", "seconds", "(", "<NUM_LIT:10>", ")", ")", ".", "measurementIterations", "(", "<NUM_LIT:5>", ")", ".", "threads", "(", "1", ")", ".", "forks", "(", "<NUM_LIT:2>", ")", ".", "build", "(", ")", ";", "try", "{", "new", "Runner", "(", "options", ")", ".", "run", "(", ")", ";", "}", "catch", "(", "NoBenchmarksException", "ignored", ")", "{", "}", "}", "</s>"]
["<s>", "@", "Setup", "public", "void", "setup", "(", ")", "{", "EntityModel", "model", "=", "Models", ".", "DEFAULT", ";", "dataSource", "=", "(", "DataSource", ")", "DatabaseType", ".", "getDataSource", "(", "platform", ")", ";", "data", "=", "new", "EntityDataStore", "<", ">", "(", "dataSource", ",", "model", ")", ";", "new", "SchemaModifier", "(", "dataSource", ",", "model", ")", ".", "createTables", "(", "TableCreationMode", ".", "DROP_CREATE", ")", ";", "final", "int", "count", "=", "<NUM_LIT>", ";", "data", ".", "runInTransaction", "(", "new", "Callable", "<", "Object", ">", "(", ")", "{", "@", "Override", "public", "Object", "call", "(", ")", "throws", "Exception", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "count", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "FunctionalTest", ".", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "return", "null", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "call", "(", ")", "throws", "Exception", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "count", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "FunctionalTest", ".", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Benchmark", "@", "BenchmarkMode", "(", "Mode", ".", "SingleShotTime", ")", "public", "void", "queryPerson", "(", ")", "{", "try", "(", "Result", "<", "Person", ">", "results", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "limit", "(", "<NUM_LIT>", ")", ".", "get", "(", ")", ")", "{", "for", "(", "Person", "p", ":", "results", ")", "{", "p", ".", "getName", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Benchmark", "@", "BenchmarkMode", "(", "Mode", ".", "SingleShotTime", ")", "public", "void", "queryJdbc", "(", ")", "throws", "SQLException", "{", "try", "(", "Connection", "connection", "=", "dataSource", ".", "getConnection", "(", ")", ";", "PreparedStatement", "statement", "=", "connection", ".", "prepareStatement", "(", "\"", "<STR_LIT>", "\"", "+", "\"", "<STR_LIT>", "\"", ")", ")", "{", "try", "(", "ResultSet", "resultSet", "=", "statement", ".", "executeQuery", "(", ")", ")", "{", "while", "(", "resultSet", ".", "next", "(", ")", ")", "{", "resultSet", ".", "getLong", "(", "1", ")", ";", "String", "name", "=", "resultSet", ".", "getString", "(", "<NUM_LIT:2>", ")", ";", "String", "email", "=", "resultSet", ".", "getString", "(", "<NUM_LIT:3>", ")", ";", "Date", "birthday", "=", "resultSet", ".", "getDate", "(", "<NUM_LIT:4>", ")", ";", "Integer", "age", "=", "resultSet", ".", "getInt", "(", "<NUM_LIT:5>", ")", ";", "String", "home", "=", "resultSet", ".", "getString", "(", "<NUM_LIT:6>", ")", ";", "byte", "[", "]", "uuid", "=", "resultSet", ".", "getBytes", "(", "<NUM_LIT:7>", ")", ";", "Person", "p", "=", "new", "Person", "(", ")", ";", "p", ".", "setName", "(", "name", ")", ";", "p", ".", "setEmail", "(", "email", ")", ";", "p", ".", "setUUID", "(", "uuid", "=", "=", "null", "?", "null", ":", "UUID", ".", "nameUUIDFromBytes", "(", "uuid", ")", ")", ";", "p", ".", "setBirthday", "(", "birthday", ")", ";", "p", ".", "setHomepage", "(", "home", "=", "=", "null", "?", "null", ":", "new", "URL", "(", "home", ")", ")", ";", "p", ".", "setAge", "(", "age", ")", ";", "}", "}", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "throw", "new", "RuntimeException", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Parameterized", ".", "Parameters", "(", "name", "=", "\"", "<STR_LIT>", "\"", ")", "public", "static", "Collection", "<", "Platform", ">", "data", "(", ")", "{", "return", "Arrays", ".", "<", "Platform", ">", "asList", "(", "new", "H2", "(", ")", ",", "new", "HSQL", "(", ")", ",", "new", "Derby", "(", ")", ")", ";", "}", "</s>"]
["<s>", "public", "SchemaModifierTest", "(", "Platform", "platform", ")", "{", "this", ".", "platform", "=", "platform", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setup", "(", ")", "throws", "SQLException", "{", "CommonDataSource", "dataSource", "=", "DatabaseType", ".", "getDataSource", "(", "platform", ")", ";", "EntityModel", "model", "=", "io", ".", "requery", ".", "test", ".", "model", ".", "Models", ".", "DEFAULT", ";", "Configuration", "configuration", "=", "new", "ConfigurationBuilder", "(", "dataSource", ",", "model", ")", ".", "useDefaultLogging", "(", ")", ".", "setStatementCacheSize", "(", "<NUM_LIT:10>", ")", ".", "setBatchUpdateSize", "(", "<NUM_LIT>", ")", ".", "setWriteExecutor", "(", "Executors", ".", "newSingleThreadExecutor", "(", ")", ")", ".", "build", "(", ")", ";", "schemaModifier", "=", "new", "SchemaModifier", "(", "configuration", ")", ";", "try", "{", "schemaModifier", ".", "dropTables", "(", ")", ";", "}", "catch", "(", "Exception", "e", ")", "{", "if", "(", "!", "platform", ".", "supportsIfExists", "(", ")", ")", "{", "throw", "e", ";", "}", "}", "schemaModifier", ".", "createTables", "(", "TableCreationMode", ".", "CREATE", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testAddRemoveColumn", "(", ")", "throws", "Exception", "{", "schemaModifier", ".", "dropColumn", "(", "Person", ".", "AGE", ")", ";", "schemaModifier", ".", "addColumn", "(", "Person", ".", "AGE", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testAddRemoveForeignKeyColumn", "(", ")", "throws", "Exception", "{", "schemaModifier", ".", "dropColumn", "(", "Person", ".", "ADDRESS", ")", ";", "schemaModifier", ".", "addColumn", "(", "Person", ".", "ADDRESS", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "void", "setup", "(", ")", "throws", "SQLException", "{", "Platform", "platform", "=", "new", "HSQL", "(", ")", ";", "CommonDataSource", "dataSource", "=", "DatabaseType", ".", "getDataSource", "(", "platform", ")", ";", "EntityModel", "model", "=", "io", ".", "requery", ".", "test", ".", "model", ".", "Models", ".", "DEFAULT", ";", "final", "TransactionListener", "transactionListener", "=", "new", "TransactionListener", "(", ")", "{", "@", "Override", "public", "void", "beforeBegin", "(", "TransactionIsolation", "isolation", ")", "{", "}", "@", "Override", "public", "void", "afterBegin", "(", "TransactionIsolation", "isolation", ")", "{", "transactionState", "=", "TransactionState", ".", "BEGIN", ";", "}", "@", "Override", "public", "void", "beforeCommit", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "}", "@", "Override", "public", "void", "afterCommit", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "transactionState", "=", "TransactionState", ".", "COMMIT", ";", "}", "@", "Override", "public", "void", "beforeRollback", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "}", "@", "Override", "public", "void", "afterRollback", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "transactionState", "=", "TransactionState", ".", "ROLLBACK", ";", "}", "}", ";", "Configuration", "configuration", "=", "new", "ConfigurationBuilder", "(", "dataSource", ",", "model", ")", ".", "useDefaultLogging", "(", ")", ".", "setStatementCacheSize", "(", "<NUM_LIT:10>", ")", ".", "setBatchUpdateSize", "(", "<NUM_LIT>", ")", ".", "setWriteExecutor", "(", "Executors", ".", "newSingleThreadExecutor", "(", ")", ")", ".", "addTransactionListenerFactory", "(", "new", "Supplier", "<", "TransactionListener", ">", "(", ")", "{", "@", "Override", "public", "TransactionListener", "get", "(", ")", "{", "return", "transactionListener", ";", "}", "}", ")", ".", "build", "(", ")", ";", "data", "=", "new", "CompletableEntityStore", "<", ">", "(", "new", "EntityDataStore", "<", "Persistable", ">", "(", "configuration", ")", ")", ";", "SchemaModifier", "tables", "=", "new", "SchemaModifier", "(", "configuration", ")", ";", "tables", ".", "createTables", "(", "TableCreationMode", ".", "DROP_CREATE", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeBegin", "(", "TransactionIsolation", "isolation", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterBegin", "(", "TransactionIsolation", "isolation", ")", "{", "transactionState", "=", "TransactionState", ".", "BEGIN", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeCommit", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterCommit", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "transactionState", "=", "TransactionState", ".", "COMMIT", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "beforeRollback", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "afterRollback", "(", "Set", "<", "Type", "<", "?", ">", ">", "types", ")", "{", "transactionState", "=", "TransactionState", ".", "ROLLBACK", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "TransactionListener", "get", "(", ")", "{", "return", "transactionListener", ";", "}", "</s>"]
["<s>", "@", "After", "public", "void", "teardown", "(", ")", "{", "if", "(", "data", "!", "=", "null", ")", "{", "data", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsert", "(", ")", "throws", "Exception", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "thenAccept", "(", "new", "Consumer", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "void", "accept", "(", "Person", "person", ")", "{", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "Person", "cached", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "ID", ".", "equal", "(", "person", ".", "getId", "(", ")", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "cached", ",", "person", ")", ";", "}", "}", ")", ".", "toCompletableFuture", "(", ")", ".", "get", "(", ")", ";", "assertEquals", "(", "transactionState", ",", "TransactionState", ".", "COMMIT", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "accept", "(", "Person", "person", ")", "{", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "Person", "cached", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "ID", ".", "equal", "(", "person", ".", "getId", "(", ")", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "cached", ",", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertCount", "(", ")", "throws", "Exception", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "thenAccept", "(", "new", "Consumer", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "void", "accept", "(", "Person", "person", ")", "{", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "}", "}", ")", ".", "thenCompose", "(", "new", "Function", "<", "Void", ",", "CompletionStage", "<", "Integer", ">", ">", "(", ")", "{", "@", "Override", "public", "CompletionStage", "<", "Integer", ">", "apply", "(", "Void", "aVoid", ")", "{", "return", "data", ".", "count", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "toCompletableFuture", "(", ")", ";", "}", "}", ")", ".", "toCompletableFuture", "(", ")", ".", "get", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "accept", "(", "Person", "person", ")", "{", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CompletionStage", "<", "Integer", ">", "apply", "(", "Void", "aVoid", ")", "{", "return", "data", ".", "count", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "toCompletableFuture", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertOneToMany", "(", ")", "throws", "Exception", "{", "final", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "thenApply", "(", "new", "Function", "<", "Person", ",", "Phone", ">", "(", ")", "{", "@", "Override", "public", "Phone", "apply", "(", "Person", "person", ")", "{", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "phone1", ".", "setOwner", "(", "person", ")", ";", "return", "phone1", ";", "}", "}", ")", ".", "thenCompose", "(", "new", "Function", "<", "Phone", ",", "CompletionStage", "<", "Phone", ">", ">", "(", ")", "{", "@", "Override", "public", "CompletionStage", "<", "Phone", ">", "apply", "(", "Phone", "phone", ")", "{", "return", "data", ".", "insert", "(", "phone", ")", ";", "}", "}", ")", ".", "toCompletableFuture", "(", ")", ".", "get", "(", ")", ";", "HashSet", "<", "Phone", ">", "set", "=", "new", "HashSet", "<", ">", "(", "person", ".", "getPhoneNumbers", "(", ")", ".", "toList", "(", ")", ")", ";", "assertEquals", "(", "1", ",", "set", ".", "size", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Phone", "apply", "(", "Person", "person", ")", "{", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "phone1", ".", "setOwner", "(", "person", ")", ";", "return", "phone1", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "CompletionStage", "<", "Phone", ">", "apply", "(", "Phone", "phone", ")", "{", "return", "data", ".", "insert", "(", "phone", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryUpdate", "(", ")", "throws", "ExecutionException", ",", "InterruptedException", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setAge", "(", "<NUM_LIT:100>", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "toCompletableFuture", "(", ")", ".", "get", "(", ")", ";", "CompletableFuture", "<", "Integer", ">", "rowCount", "=", "data", ".", "update", "(", "Person", ".", "class", ")", ".", "set", "(", "Person", ".", "ABOUT", ",", "\"", "<STR_LIT>", "\"", ")", ".", "set", "(", "Person", ".", "AGE", ",", "<NUM_LIT>", ")", ".", "where", "(", "Person", ".", "AGE", ".", "equal", "(", "<NUM_LIT:100>", ")", ")", ".", "get", "(", ")", ".", "toCompletableFuture", "(", "Executors", ".", "newSingleThreadExecutor", "(", ")", ")", ";", "assertEquals", "(", "1", ",", "rowCount", ".", "get", "(", ")", ".", "intValue", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertBlocking", "(", ")", "throws", "Exception", "{", "final", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "toBlocking", "(", ")", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryStream", "(", ")", "throws", "Exception", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:30>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ".", "toCompletableFuture", "(", ")", ".", "get", "(", ")", ";", "}", "final", "List", "<", "Person", ">", "people", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "orderBy", "(", "Person", ".", "NAME", ".", "asc", "(", ")", ".", "nullsLast", "(", ")", ")", ".", "limit", "(", "<NUM_LIT>", ")", ".", "get", "(", ")", ".", "stream", "(", ")", ".", "forEach", "(", "new", "Consumer", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "void", "accept", "(", "Person", "person", ")", "{", "people", ".", "add", "(", "person", ")", ";", "}", "}", ")", ";", "assertSame", "(", "<NUM_LIT:30>", ",", "people", ".", "size", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "accept", "(", "Person", "person", ")", "{", "people", ".", "add", "(", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Before", "public", "abstract", "void", "setup", "(", ")", "throws", "SQLException", ";", "</s>"]
["<s>", "@", "After", "public", "void", "teardown", "(", ")", "{", "if", "(", "data", "!", "=", "null", ")", "{", "data", ".", "close", "(", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testEqualsHashCode", "(", ")", "{", "Person", "p1", "=", "new", "Person", "(", ")", ";", "p1", ".", "setAge", "(", "<NUM_LIT:10>", ")", ";", "p1", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "p1", ".", "setEmail", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Person", "p2", "=", "new", "Person", "(", ")", ";", "p2", ".", "setAge", "(", "<NUM_LIT:10>", ")", ";", "p2", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "p2", ".", "setEmail", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "p1", ",", "p2", ")", ";", "assertEquals", "(", "p1", ".", "hashCode", "(", ")", ",", "p2", ".", "hashCode", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsert", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "Person", "cached", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "ID", ".", "equal", "(", "person", ".", "getId", "(", ")", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "cached", ",", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertWithTransaction", "(", ")", "{", "data", ".", "runInTransaction", "(", "new", "Callable", "<", "Object", ">", "(", ")", "{", "@", "Override", "public", "Object", "call", "(", ")", "throws", "Exception", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "}", "return", "null", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "call", "(", ")", "throws", "Exception", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "}", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertBatch", "(", ")", "{", "List", "<", "Person", ">", "persons", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:100>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "persons", ".", "add", "(", "person", ")", ";", "}", "data", ".", "insert", "(", "persons", ")", ";", "for", "(", "Person", "person", ":", "persons", ")", "{", "assertTrue", "(", "person", ".", "getId", "(", ")", "!", "=", "0", ")", ";", "}", "int", "people", "=", "0", ";", "for", "(", "Person", "ignored", ":", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ")", "{", "people", "+", "+", ";", "}", "assertEquals", "(", "<NUM_LIT:100>", ",", "people", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertConcurrent", "(", ")", "throws", "InterruptedException", "{", "ExecutorService", "executorService", "=", "Executors", ".", "newFixedThreadPool", "(", "<NUM_LIT:3>", ")", ";", "final", "int", "count", "=", "<NUM_LIT:3>", ";", "final", "CountDownLatch", "latch", "=", "new", "CountDownLatch", "(", "count", ")", ";", "final", "Map", "<", "Integer", ",", "Person", ">", "map", "=", "new", "HashMap", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "count", ";", "i", "+", "+", ")", "{", "executorService", ".", "submit", "(", "new", "Callable", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "Person", "call", "(", ")", "throws", "Exception", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "map", ".", "put", "(", "person", ".", "getId", "(", ")", ",", "person", ")", ";", "latch", ".", "countDown", "(", ")", ";", "return", "person", ";", "}", "}", ")", ";", "}", "assertTrue", "(", "latch", ".", "await", "(", "<NUM_LIT:10>", ",", "TimeUnit", ".", "SECONDS", ")", ")", ";", "for", "(", "Map", ".", "Entry", "<", "Integer", ",", "Person", ">", "entry", ":", "map", ".", "entrySet", "(", ")", ")", "{", "Person", "cached", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "ID", ".", "equal", "(", "entry", ".", "getKey", "(", ")", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "cached", ",", "entry", ".", "getValue", "(", ")", ")", ";", "}", "executorService", ".", "shutdownNow", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Person", "call", "(", ")", "throws", "Exception", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "map", ".", "put", "(", "person", ".", "getId", "(", ")", ",", "person", ")", ";", "latch", ".", "countDown", "(", ")", ";", "return", "person", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertEmptyObject", "(", ")", "{", "Phone", "phone", "=", "new", "Phone", "(", ")", ";", "data", ".", "insert", "(", "phone", ")", ";", "assertTrue", "(", "phone", ".", "getId", "(", ")", ">", "0", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertDerivedObject", "(", ")", "{", "class", "Phone2", "extends", "Phone", "{", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "\"", "<STR_LIT:2>", "\"", ";", "}", "}", "Phone2", "phone2", "=", "new", "Phone2", "(", ")", ";", "phone2", ".", "setPhoneNumber", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "insert", "(", "phone2", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "\"", "<STR_LIT:2>", "\"", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertQuery", "(", ")", "{", "Integer", "id1", "=", "data", ".", "insert", "(", "Person", ".", "class", ")", ".", "value", "(", "Person", ".", "ABOUT", ",", "\"", "<STR_LIT>", "\"", ")", ".", "value", "(", "Person", ".", "AGE", ",", "<NUM_LIT>", ")", ".", "get", "(", ")", ".", "first", "(", ")", ".", "get", "(", "0", ")", ";", "assertNotNull", "(", "id1", ")", ";", "Integer", "id2", "=", "data", ".", "insert", "(", "Person", ".", "class", ")", ".", "value", "(", "Person", ".", "NAME", ",", "\"", "<STR_LIT>", "\"", ")", ".", "value", "(", "Person", ".", "AGE", ",", "<NUM_LIT>", ")", ".", "get", "(", ")", ".", "first", "(", ")", ".", "get", "(", "Person", ".", "ID", ")", ";", "assertNotNull", "(", "id2", ")", ";", "assertTrue", "(", "!", "id1", ".", "equals", "(", "id2", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertWithTransactionCallable", "(", ")", "{", "assertTrue", "(", "\"", "<STR_LIT>", "\"", ".", "equals", "(", "data", ".", "runInTransaction", "(", "new", "Callable", "<", "String", ">", "(", ")", "{", "@", "Override", "public", "String", "call", "(", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "}", "return", "\"", "<STR_LIT>", "\"", ";", "}", "}", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "call", "(", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "}", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testFindByKey", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "Person", "other", "=", "data", ".", "findByKey", "(", "Person", ".", "class", ",", "person", ".", "getId", "(", ")", ")", ";", "assertSame", "(", "person", ",", "other", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testFindByCompositeKey", "(", ")", "{", "Group", "group", "=", "new", "Group", "(", ")", ";", "group", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "group", ".", "setType", "(", "GroupType", ".", "PRIVATE", ")", ";", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "getGroups", "(", ")", ".", "add", "(", "group", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "Map", "<", "Attribute", "<", "Group_Person", ",", "Integer", ">", ",", "Integer", ">", "map", "=", "new", "LinkedHashMap", "<", ">", "(", ")", ";", "map", ".", "put", "(", "Group_Person", ".", "GROUPS_ID", ",", "group", ".", "getId", "(", ")", ")", ";", "map", ".", "put", "(", "Group_Person", ".", "PERSON_ID", ",", "person", ".", "getId", "(", ")", ")", ";", "CompositeKey", "<", "Group_Person", ">", "compositeKey", "=", "new", "CompositeKey", "<", ">", "(", "map", ")", ";", "Group_Person", "joined", "=", "data", ".", "findByKey", "(", "Group_Person", ".", "class", ",", "compositeKey", ")", ";", "assertNotNull", "(", "joined", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testFindByKeyDelete", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "Address", "address", "=", "randomAddress", "(", ")", ";", "person", ".", "setAddress", "(", "address", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "address", ".", "getId", "(", ")", ">", "0", ")", ";", "Person", "other", "=", "data", ".", "findByKey", "(", "Person", ".", "class", ",", "person", ".", "getId", "(", ")", ")", ";", "assertSame", "(", "person", ",", "other", ")", ";", "data", ".", "delete", "(", "other", ")", ";", "other", "=", "data", ".", "findByKey", "(", "Person", ".", "class", ",", "person", ".", "getId", "(", ")", ")", ";", "assertNull", "(", "other", ")", ";", "Address", "cached", "=", "data", ".", "findByKey", "(", "Address", ".", "class", ",", "address", ".", "getId", "(", ")", ")", ";", "assertNull", "(", "cached", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testFindByKeyDeleteInverse", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "Address", "address", "=", "randomAddress", "(", ")", ";", "person", ".", "setAddress", "(", "address", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "data", ".", "delete", "(", "address", ")", ";", "person", "=", "data", ".", "findByKey", "(", "Person", ".", "class", ",", "person", ".", "getId", "(", ")", ")", ";", "assertNull", "(", "person", ")", ";", "Address", "cached", "=", "data", ".", "findByKey", "(", "Address", ".", "class", ",", "address", ".", "getId", "(", ")", ")", ";", "assertNull", "(", "cached", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testTransactionRollback", "(", ")", "{", "ArrayList", "<", "Integer", ">", "ids", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "try", "(", "Transaction", "transaction", "=", "data", ".", "transaction", "(", ")", ".", "begin", "(", ")", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "ids", ".", "add", "(", "person", ".", "getId", "(", ")", ")", ";", "if", "(", "i", "=", "=", "<NUM_LIT:5>", ")", "{", "throw", "new", "Exception", "(", "\"", "<STR_LIT:...>", "\"", ")", ";", "}", "}", "transaction", ".", "commit", "(", ")", ";", "}", "catch", "(", "Exception", "ignored", ")", "{", "}", "for", "(", "Integer", "id", ":", "ids", ")", "{", "Person", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "ID", ".", "equal", "(", "id", ")", ")", ".", "get", "(", ")", ".", "firstOrNull", "(", ")", ";", "assertNull", "(", "p", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testUpdate", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "person", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Calendar", "calendar", "=", "Calendar", ".", "getInstance", "(", ")", ";", "calendar", ".", "set", "(", "<NUM_LIT>", ",", "Calendar", ".", "NOVEMBER", ",", "<NUM_LIT:11>", ")", ";", "person", ".", "setBirthday", "(", "calendar", ".", "getTime", "(", ")", ")", ";", "EntityProxy", "<", "Person", ">", "proxy", "=", "Person", ".", "$", "TYPE", ".", "getProxyProvider", "(", ")", ".", "apply", "(", "person", ")", ";", "int", "count", "=", "0", ";", "for", "(", "Attribute", "<", "Person", ",", "?", ">", "ignored", ":", "Person", ".", "$", "TYPE", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "proxy", ".", "getState", "(", "ignored", ")", "=", "=", "PropertyState", ".", "MODIFIED", ")", "{", "count", "+", "+", ";", "}", "}", "assertEquals", "(", "<NUM_LIT:2>", ",", "count", ")", ";", "data", ".", "update", "(", "person", ")", ";", "for", "(", "Attribute", "<", "Person", ",", "?", ">", "ignored", ":", "Person", ".", "$", "TYPE", ".", "getAttributes", "(", ")", ")", "{", "if", "(", "proxy", ".", "getState", "(", "ignored", ")", "=", "=", "PropertyState", ".", "MODIFIED", ")", "{", "fail", "(", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testUpdateNoChanges", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "data", ".", "update", "(", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testEntityListeners", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getPreviousState", "(", ")", "=", "=", "EntityState", ".", "PRE_SAVE", ")", ";", "assertTrue", "(", "person", ".", "getCurrentState", "(", ")", "=", "=", "EntityState", ".", "POST_SAVE", ")", ";", "person", ".", "setEmail", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "update", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getPreviousState", "(", ")", "=", "=", "EntityState", ".", "PRE_UPDATE", ")", ";", "assertTrue", "(", "person", ".", "getCurrentState", "(", ")", "=", "=", "EntityState", ".", "POST_UPDATE", ")", ";", "data", ".", "delete", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getPreviousState", "(", ")", "=", "=", "EntityState", ".", "PRE_DELETE", ")", ";", "assertTrue", "(", "person", ".", "getCurrentState", "(", ")", "=", "=", "EntityState", ".", "POST_DELETE", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetNullAssociation", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertNull", "(", "person", ".", "getAddress", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testGetNullAssociationInverse", "(", ")", "{", "Address", "address", "=", "randomAddress", "(", ")", ";", "data", ".", "insert", "(", "address", ")", ";", "assertNull", "(", "address", ".", "getPerson", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertOneToOne", "(", ")", "{", "Address", "address", "=", "randomAddress", "(", ")", ";", "data", ".", "insert", "(", "address", ")", ";", "assertTrue", "(", "address", ".", "getId", "(", ")", ">", "0", ")", ";", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "person", ".", "setAddress", "(", "address", ")", ";", "data", ".", "update", "(", "person", ")", ";", "assertSame", "(", "address", ".", "getPerson", "(", ")", ",", "person", ")", ";", "person", ".", "setAddress", "(", "null", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertOneToOneCascade", "(", ")", "{", "Address", "address", "=", "randomAddress", "(", ")", ";", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setAddress", "(", "address", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertSame", "(", "address", ".", "getPerson", "(", ")", ",", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testUpdateOneToOneCascade", "(", ")", "{", "Address", "address", "=", "randomAddress", "(", ")", ";", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "person", ".", "setAddress", "(", "address", ")", ";", "data", ".", "update", "(", "person", ")", ";", "assertSame", "(", "address", ".", "getPerson", "(", ")", ",", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testRefreshAll", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Phone", "phone", "=", "randomPhone", "(", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone", ")", ";", "data", ".", "update", "(", "person", ")", ";", "data", ".", "refreshAll", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getPhoneNumbersSet", "(", ")", ".", "contains", "(", "phone", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testRefreshMultiple", "(", ")", "{", "List", "<", "Person", ">", "people", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "people", ".", "add", "(", "person", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "int", "count", "=", "data", ".", "update", "(", "Person", ".", "class", ")", ".", "set", "(", "Person", ".", "NAME", ",", "\"", "<STR_LIT>", "\"", ")", ".", "get", "(", ")", ".", "value", "(", ")", ";", "assertEquals", "(", "<NUM_LIT:10>", ",", "count", ")", ";", "data", ".", "refresh", "(", "people", ")", ";", "data", ".", "refresh", "(", "people", ",", "Person", ".", "NAME", ")", ";", "for", "(", "Person", "p", ":", "people", ")", "{", "assertEquals", "(", "\"", "<STR_LIT>", "\"", ",", "p", ".", "getName", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testRefreshAttributes", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Phone", "phone", "=", "randomPhone", "(", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone", ")", ";", "data", ".", "update", "(", "person", ")", ";", "data", ".", "refresh", "(", "person", ",", "Person", ".", "NAME", ",", "Person", ".", "PHONE_NUMBERS_SET", ",", "Person", ".", "ADDRESS", ",", "Person", ".", "EMAIL", ")", ";", "assertTrue", "(", "person", ".", "getPhoneNumbersSet", "(", ")", ".", "contains", "(", "phone", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testVersionIncrement", "(", ")", "{", "Group", "group", "=", "new", "Group", "(", ")", ";", "group", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "group", ".", "setType", "(", "GroupType", ".", "PRIVATE", ")", ";", "data", ".", "insert", "(", "group", ")", ";", "group", ".", "setType", "(", "GroupType", ".", "PUBLIC", ")", ";", "data", ".", "update", "(", "group", ")", ";", "data", ".", "refresh", "(", "group", ",", "Group", ".", "VERSION", ")", ";", "assertTrue", "(", "group", ".", "getVersion", "(", ")", ">", "0", ")", ";", "Group", "group2", "=", "new", "Group", "(", ")", ";", "group2", ".", "setName", "(", "\"", "<STR_LIT:2>", "\"", ")", ";", "group2", ".", "setType", "(", "GroupType", ".", "PRIVATE", ")", ";", "data", ".", "insert", "(", "group2", ")", ";", "data", ".", "refresh", "(", "Arrays", ".", "asList", "(", "group", ",", "group2", ")", ",", "Group", ".", "VERSION", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testFillResult", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertEquals", "(", "1", ",", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "collect", "(", "new", "HashSet", "<", "Person", ">", "(", ")", ")", ".", "size", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testListResult", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertEquals", "(", "1", ",", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "toList", "(", ")", ".", "size", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDeleteCascadeOneToOne", "(", ")", "{", "Address", "address", "=", "randomAddress", "(", ")", ";", "data", ".", "insert", "(", "address", ")", ";", "int", "id", "=", "address", ".", "getId", "(", ")", ";", "assertTrue", "(", "id", ">", "0", ")", ";", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setAddress", "(", "address", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "data", ".", "delete", "(", "person", ")", ";", "assertNull", "(", "address", ".", "getPerson", "(", ")", ")", ";", "assertNull", "(", "data", ".", "findByKey", "(", "Address", ".", "class", ",", "id", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDeleteOne", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getId", "(", ")", ">", "0", ")", ";", "data", ".", "delete", "(", "person", ")", ";", "Person", "cached", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "ID", ".", "equal", "(", "person", ".", "getId", "(", ")", ")", ")", ".", "get", "(", ")", ".", "firstOrNull", "(", ")", ";", "assertNull", "(", "cached", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDeleteCascadeRemoveOneToMany", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "Phone", "phone2", "=", "randomPhone", "(", ")", ";", "phone1", ".", "setOwner", "(", "person", ")", ";", "phone2", ".", "setOwner", "(", "person", ")", ";", "data", ".", "insert", "(", "phone1", ")", ";", "data", ".", "insert", "(", "phone2", ")", ";", "data", ".", "refresh", "(", "person", ")", ";", "List", "<", "Phone", ">", "list", "=", "person", ".", "getPhoneNumbersList", "(", ")", ";", "phone1", ".", "getOwner", "(", ")", ";", "assertTrue", "(", "list", ".", "contains", "(", "phone1", ")", ")", ";", "data", ".", "delete", "(", "phone1", ")", ";", "assertFalse", "(", "list", ".", "contains", "(", "phone1", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDeleteCascadeOneToMany", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "phone1", ".", "setOwner", "(", "person", ")", ";", "data", ".", "insert", "(", "phone1", ")", ";", "int", "phoneId", "=", "phone1", ".", "getId", "(", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ";", "data", ".", "delete", "(", "person", ")", ";", "Phone", "phone", "=", "data", ".", "select", "(", "Phone", ".", "class", ")", ".", "where", "(", "Phone", ".", "ID", ".", "equal", "(", "phoneId", ")", ")", ".", "get", "(", ")", ".", "firstOrNull", "(", ")", ";", "assertNull", "(", "phone", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertOneToMany", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "Phone", "phone2", "=", "randomPhone", "(", ")", ";", "phone1", ".", "setOwner", "(", "person", ")", ";", "phone2", ".", "setOwner", "(", "person", ")", ";", "data", ".", "insert", "(", "phone1", ")", ";", "data", ".", "insert", "(", "phone2", ")", ";", "HashSet", "<", "Phone", ">", "set", "=", "new", "HashSet", "<", ">", "(", "person", ".", "getPhoneNumbers", "(", ")", ".", "toList", "(", ")", ")", ";", "assertEquals", "(", "<NUM_LIT:2>", ",", "set", ".", "size", "(", ")", ")", ";", "assertTrue", "(", "set", ".", "containsAll", "(", "Arrays", ".", "asList", "(", "phone1", ",", "phone2", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertOneToManyInverseUpdate", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "Phone", "phone2", "=", "randomPhone", "(", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone1", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone2", ")", ";", "data", ".", "update", "(", "person", ")", ";", "HashSet", "<", "Phone", ">", "set", "=", "new", "HashSet", "<", ">", "(", "person", ".", "getPhoneNumbers", "(", ")", ".", "toList", "(", ")", ")", ";", "assertEquals", "(", "<NUM_LIT:2>", ",", "set", ".", "size", "(", ")", ")", ";", "assertTrue", "(", "set", ".", "containsAll", "(", "Arrays", ".", "asList", "(", "phone1", ",", "phone2", ")", ")", ")", ";", "assertEquals", "(", "person", ",", "phone1", ".", "getOwner", "(", ")", ")", ";", "assertEquals", "(", "person", ",", "phone2", ".", "getOwner", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertOneToManyInverse", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "Phone", "phone2", "=", "randomPhone", "(", ")", ";", "phone1", ".", "setOwner", "(", "person", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone1", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone2", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "HashSet", "<", "Phone", ">", "set", "=", "new", "HashSet", "<", ">", "(", "person", ".", "getPhoneNumbers", "(", ")", ".", "toList", "(", ")", ")", ";", "assertEquals", "(", "<NUM_LIT:2>", ",", "set", ".", "size", "(", ")", ")", ";", "assertTrue", "(", "set", ".", "containsAll", "(", "Arrays", ".", "asList", "(", "phone1", ",", "phone2", ")", ")", ")", ";", "assertEquals", "(", "person", ",", "phone1", ".", "getOwner", "(", ")", ")", ";", "assertEquals", "(", "person", ",", "phone2", ".", "getOwner", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertOneToManyInverseThroughSet", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "Phone", "phone2", "=", "randomPhone", "(", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone1", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone2", ")", ";", "data", ".", "update", "(", "person", ")", ";", "assertEquals", "(", "<NUM_LIT:2>", ",", "person", ".", "getPhoneNumbersSet", "(", ")", ".", "size", "(", ")", ")", ";", "assertTrue", "(", "person", ".", "getPhoneNumbersSet", "(", ")", ".", "containsAll", "(", "Arrays", ".", "asList", "(", "phone1", ",", "phone2", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertOneToManyOneInsert", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "Phone", "phone2", "=", "randomPhone", "(", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone1", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone2", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "HashSet", "<", "Phone", ">", "set", "=", "new", "HashSet", "<", ">", "(", "person", ".", "getPhoneNumbers", "(", ")", ".", "toList", "(", ")", ")", ";", "assertEquals", "(", "<NUM_LIT:2>", ",", "set", ".", "size", "(", ")", ")", ";", "assertTrue", "(", "set", ".", "containsAll", "(", "Arrays", ".", "asList", "(", "phone1", ",", "phone2", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertOneToManyOneInsertThroughList", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "Phone", "phone2", "=", "randomPhone", "(", ")", ";", "person", ".", "getPhoneNumbersList", "(", ")", ".", "add", "(", "phone1", ")", ";", "person", ".", "getPhoneNumbersList", "(", ")", ".", "add", "(", "phone2", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "HashSet", "<", "Phone", ">", "set", "=", "new", "HashSet", "<", ">", "(", "person", ".", "getPhoneNumbersList", "(", ")", ")", ";", "assertEquals", "(", "<NUM_LIT:2>", ",", "set", ".", "size", "(", ")", ")", ";", "assertTrue", "(", "set", ".", "containsAll", "(", "Arrays", ".", "asList", "(", "phone1", ",", "phone2", ")", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testManyToOneRefresh", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "Phone", "phone2", "=", "randomPhone", "(", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone1", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone2", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertSame", "(", "person", ",", "phone1", ".", "getOwner", "(", ")", ")", ";", "assertSame", "(", "person", ",", "phone2", ".", "getOwner", "(", ")", ")", ";", "data", ".", "refresh", "(", "phone1", ",", "Phone", ".", "OWNER", ")", ";", "data", ".", "refresh", "(", "phone2", ",", "Phone", ".", "OWNER", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testInsertManyToMany", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getGroups", "(", ")", ".", "toList", "(", ")", ".", "isEmpty", "(", ")", ")", ";", "List", "<", "Group", ">", "added", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "try", "(", "Transaction", "transaction", "=", "data", ".", "transaction", "(", ")", ".", "begin", "(", ")", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Group", "group", "=", "new", "Group", "(", ")", ";", "group", ".", "setName", "(", "\"", "<STR_LIT>", "\"", "+", "i", ")", ";", "group", ".", "setDescription", "(", "\"", "<STR_LIT>", "\"", ")", ";", "group", ".", "setType", "(", "GroupType", ".", "PRIVATE", ")", ";", "data", ".", "insert", "(", "group", ")", ";", "person", ".", "getGroups", "(", ")", ".", "add", "(", "group", ")", ";", "added", ".", "add", "(", "group", ")", ";", "}", "data", ".", "update", "(", "person", ")", ";", "transaction", ".", "commit", "(", ")", ";", "}", "data", ".", "refresh", "(", "person", ",", "Person", ".", "GROUPS", ")", ";", "assertTrue", "(", "added", ".", "containsAll", "(", "person", ".", "getGroups", "(", ")", ".", "toList", "(", ")", ")", ")", ";", "for", "(", "Group", "group", ":", "added", ")", "{", "assertTrue", "(", "group", ".", "getMembers", "(", ")", ".", "toList", "(", ")", ".", "contains", "(", "person", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testIterateInsertMany", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "assertTrue", "(", "person", ".", "getGroups", "(", ")", ".", "toList", "(", ")", ".", "isEmpty", "(", ")", ")", ";", "HashSet", "<", "Group", ">", "toAdd", "=", "new", "HashSet", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Group", "group", "=", "new", "Group", "(", ")", ";", "group", ".", "setName", "(", "\"", "<STR_LIT>", "\"", "+", "i", ")", ";", "person", ".", "getGroups", "(", ")", ".", "add", "(", "group", ")", ";", "toAdd", ".", "add", "(", "group", ")", ";", "}", "int", "count", "=", "0", ";", "for", "(", "Group", "g", ":", "person", ".", "getGroups", "(", ")", ")", "{", "assertTrue", "(", "toAdd", ".", "contains", "(", "g", ")", ")", ";", "count", "+", "+", ";", "}", "assertEquals", "(", "<NUM_LIT:10>", ",", "count", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDeleteManyToMany", "(", ")", "{", "final", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "final", "Collection", "<", "Group", ">", "groups", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "data", ".", "runInTransaction", "(", "new", "Callable", "<", "Object", ">", "(", ")", "{", "@", "Override", "public", "Object", "call", "(", ")", "throws", "Exception", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Group", "group", "=", "new", "Group", "(", ")", ";", "group", ".", "setName", "(", "\"", "<STR_LIT>", "\"", "+", "i", ")", ";", "data", ".", "insert", "(", "group", ")", ";", "person", ".", "getGroups", "(", ")", ".", "add", "(", "group", ")", ";", "groups", ".", "add", "(", "group", ")", ";", "}", "data", ".", "update", "(", "person", ")", ";", "return", "null", ";", "}", "}", ")", ";", "for", "(", "Group", "g", ":", "groups", ")", "{", "person", ".", "getGroups", "(", ")", ".", "remove", "(", "g", ")", ";", "}", "data", ".", "update", "(", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Object", "call", "(", ")", "throws", "Exception", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Group", "group", "=", "new", "Group", "(", ")", ";", "group", ".", "setName", "(", "\"", "<STR_LIT>", "\"", "+", "i", ")", ";", "data", ".", "insert", "(", "group", ")", ";", "person", ".", "getGroups", "(", ")", ".", "add", "(", "group", ")", ";", "groups", ".", "add", "(", "group", ")", ";", "}", "data", ".", "update", "(", "person", ")", ";", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testManyOrderBy", "(", ")", "{", "Group", "group", "=", "new", "Group", "(", ")", ";", "group", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "insert", "(", "group", ")", ";", "for", "(", "int", "i", "=", "<NUM_LIT:3>", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "new", "String", "(", "Character", ".", "toChars", "(", "<NUM_LIT>", "+", "i", ")", ")", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "group", ".", "getOwners", "(", ")", ".", "add", "(", "person", ")", ";", "}", "data", ".", "update", "(", "group", ")", ";", "data", ".", "refresh", "(", "group", ",", "Group", ".", "OWNERS", ")", ";", "List", "<", "Person", ">", "list", "=", "group", ".", "getOwners", "(", ")", ".", "toList", "(", ")", ";", "assertEquals", "(", "\"", "<STR_LIT:A>", "\"", ",", "list", ".", "get", "(", "0", ")", ".", "getName", "(", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT:B>", "\"", ",", "list", ".", "get", "(", "1", ")", ".", "getName", "(", ")", ")", ";", "assertEquals", "(", "\"", "<STR_LIT:C>", "\"", ",", "list", ".", "get", "(", "<NUM_LIT:2>", ")", ".", "getName", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSingleQueryWhere", "(", ")", "{", "final", "String", "name", "=", "\"", "<STR_LIT>", "\"", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "name", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "try", "(", "Result", "<", "Person", ">", "query", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "equal", "(", "name", ")", ")", ".", "get", "(", ")", ")", "{", "assertEquals", "(", "<NUM_LIT:10>", ",", "query", ".", "toList", "(", ")", ".", "size", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSingleQueryExecute", "(", ")", "{", "data", ".", "insert", "(", "randomPersons", "(", "<NUM_LIT:10>", ")", ")", ";", "Result", "<", "Person", ">", "result", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ";", "assertEquals", "(", "<NUM_LIT:10>", ",", "result", ".", "toList", "(", ")", ".", "size", "(", ")", ")", ";", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "assertEquals", "(", "<NUM_LIT:11>", ",", "result", ".", "toList", "(", ")", ".", "size", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSingleQueryLimitSkip", "(", ")", "{", "final", "String", "name", "=", "\"", "<STR_LIT>", "\"", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "name", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:3>", ";", "i", "+", "+", ")", "{", "try", "(", "Result", "<", "Person", ">", "query", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "equal", "(", "name", ")", ")", ".", "limit", "(", "<NUM_LIT:5>", ")", ".", "get", "(", ")", ")", "{", "assertEquals", "(", "<NUM_LIT:5>", ",", "query", ".", "toList", "(", ")", ".", "size", "(", ")", ")", ";", "}", "try", "(", "Result", "<", "Person", ">", "query", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "equal", "(", "name", ")", ")", ".", "limit", "(", "<NUM_LIT:5>", ")", ".", "offset", "(", "<NUM_LIT:5>", ")", ".", "get", "(", ")", ")", "{", "assertEquals", "(", "<NUM_LIT:5>", ",", "query", ".", "toList", "(", ")", ".", "size", "(", ")", ")", ";", "}", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testSingleQueryWhereNull", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "null", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "try", "(", "Result", "<", "Person", ">", "query", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "isNull", "(", ")", ")", ".", "get", "(", ")", ")", "{", "assertEquals", "(", "1", ",", "query", ".", "toList", "(", ")", ".", "size", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDeleteAll", "(", ")", "{", "final", "String", "name", "=", "\"", "<STR_LIT:Name>", "\"", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "name", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "assertTrue", "(", "data", ".", "delete", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "value", "(", ")", ">", "0", ")", ";", "assertTrue", "(", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "toList", "(", ")", ".", "isEmpty", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testDeleteBatch", "(", ")", "{", "List", "<", "Person", ">", "persons", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:100>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "persons", ".", "add", "(", "person", ")", ";", "}", "data", ".", "insert", "(", "persons", ")", ";", "assertEquals", "(", "<NUM_LIT:100>", ",", "data", ".", "count", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "value", "(", ")", ".", "intValue", "(", ")", ")", ";", "data", ".", "delete", "(", "persons", ")", ";", "assertEquals", "(", "0", ",", "data", ".", "count", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "value", "(", ")", ".", "intValue", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryByForeignKey", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Phone", "phone1", "=", "randomPhone", "(", ")", ";", "Phone", "phone2", "=", "randomPhone", "(", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone1", ")", ";", "person", ".", "getPhoneNumbers", "(", ")", ".", "add", "(", "phone2", ")", ";", "data", ".", "update", "(", "person", ")", ";", "assertTrue", "(", "person", ".", "getPhoneNumbersSet", "(", ")", ".", "contains", "(", "phone1", ")", ")", ";", "try", "(", "Result", "<", "Phone", ">", "result", "=", "data", ".", "select", "(", "Phone", ".", "class", ")", ".", "where", "(", "Phone", ".", "OWNER", ".", "eq", "(", "person", ")", ")", ".", "get", "(", ")", ")", "{", "assertTrue", "(", "person", ".", "getPhoneNumbersList", "(", ")", ".", "containsAll", "(", "result", ".", "toList", "(", ")", ")", ")", ";", "assertEquals", "(", "<NUM_LIT:2>", ",", "person", ".", "getPhoneNumbersList", "(", ")", ".", "size", "(", ")", ")", ";", "assertEquals", "(", "<NUM_LIT:2>", ",", "result", ".", "toList", "(", ")", ".", "size", "(", ")", ")", ";", "}", "try", "(", "Result", "<", "Phone", ">", "result", "=", "data", ".", "select", "(", "Phone", ".", "class", ")", ".", "where", "(", "Phone", ".", "OWNER_ID", ".", "eq", "(", "person", ".", "getId", "(", ")", ")", ")", ".", "get", "(", ")", ")", "{", "assertTrue", "(", "person", ".", "getPhoneNumbersList", "(", ")", ".", "containsAll", "(", "result", ".", "toList", "(", ")", ")", ")", ";", "assertEquals", "(", "<NUM_LIT:2>", ",", "person", ".", "getPhoneNumbersList", "(", ")", ".", "size", "(", ")", ")", ";", "assertEquals", "(", "<NUM_LIT:2>", ",", "result", ".", "toList", "(", ")", ".", "size", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQuerySelectDistinct", "(", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "String", ".", "valueOf", "(", "i", "/", "<NUM_LIT:2>", ")", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "try", "(", "Result", "<", "Tuple", ">", "result", "=", "data", ".", "select", "(", "Person", ".", "NAME", ")", ".", "distinct", "(", ")", ".", "get", "(", ")", ")", "{", "assertEquals", "(", "<NUM_LIT:5>", ",", "result", ".", "toList", "(", ")", ".", "size", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQuerySelectCount", "(", ")", "{", "data", ".", "insert", "(", "randomPersons", "(", "<NUM_LIT:10>", ")", ")", ";", "try", "(", "Result", "<", "Tuple", ">", "result", "=", "data", ".", "select", "(", "Count", ".", "count", "(", "Person", ".", "class", ")", ".", "as", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "get", "(", ")", ")", "{", "assertTrue", "(", "result", ".", "first", "(", ")", ".", "get", "(", "\"", "<STR_LIT>", "\"", ")", ".", "equals", "(", "<NUM_LIT:10>", ")", ")", ";", "}", "try", "(", "Result", "<", "Tuple", ">", "result", "=", "data", ".", "select", "(", "Count", ".", "count", "(", "Person", ".", "class", ")", ")", ".", "get", "(", ")", ")", "{", "assertTrue", "(", "result", ".", "first", "(", ")", ".", "get", "(", "0", ")", ".", "equals", "(", "<NUM_LIT:10>", ")", ")", ";", "}", "assertEquals", "(", "<NUM_LIT:10>", ",", "data", ".", "count", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "value", "(", ")", ".", "intValue", "(", ")", ")", ";", "data", ".", "count", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ".", "consume", "(", "new", "Consumer", "<", "Integer", ">", "(", ")", "{", "@", "Override", "public", "void", "accept", "(", "Integer", "integer", ")", "{", "assertTrue", "(", "integer", "=", "=", "<NUM_LIT:10>", ")", ";", "}", "}", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "accept", "(", "Integer", "integer", ")", "{", "assertTrue", "(", "integer", "=", "=", "<NUM_LIT:10>", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQuerySelectCountWhere", "(", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "if", "(", "i", "=", "=", "0", ")", "{", "person", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "data", ".", "insert", "(", "person", ")", ";", "}", "assertEquals", "(", "1", ",", "data", ".", "count", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "eq", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "get", "(", ")", ".", "value", "(", ")", ".", "intValue", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryNotNull", "(", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "assertNotNull", "(", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "notNull", "(", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryFromSub", "(", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setAge", "(", "i", "+", "1", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "Integer", "result", "=", "data", ".", "select", "(", "NamedExpression", ".", "ofInteger", "(", "\"", "<STR_LIT>", "\"", ")", ".", "avg", "(", ")", ")", ".", "from", "(", "data", ".", "select", "(", "Person", ".", "AGE", ".", "sum", "(", ")", ".", "as", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "groupBy", "(", "Person", ".", "AGE", ")", ".", "as", "(", "\"", "<STR_LIT:1>", "\"", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ".", "get", "(", "0", ")", ";", "assertTrue", "(", "result", ">", "=", "<NUM_LIT:5>", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Test", "public", "void", "testQuerySelectMin", "(", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:10>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "if", "(", "i", "=", "=", "<NUM_LIT:9>", ")", "{", "Calendar", "calendar", "=", "Calendar", ".", "getInstance", "(", ")", ";", "calendar", ".", "set", "(", "<NUM_LIT>", ",", "Calendar", ".", "NOVEMBER", ",", "<NUM_LIT:11>", ",", "0", ",", "0", ",", "0", ")", ";", "person", ".", "setBirthday", "(", "calendar", ".", "getTime", "(", ")", ")", ";", "}", "data", ".", "insert", "(", "person", ")", ";", "}", "try", "(", "Result", "<", "Tuple", ">", "query", "=", "data", ".", "select", "(", "Person", ".", "BIRTHDAY", ".", "min", "(", ")", ".", "as", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "get", "(", ")", ")", "{", "Date", "date", "=", "query", ".", "first", "(", ")", ".", "get", "(", "\"", "<STR_LIT>", "\"", ")", ";", "Calendar", "c", "=", "Calendar", ".", "getInstance", "(", ")", ";", "c", ".", "setTime", "(", "date", ")", ";", "assertTrue", "(", "c", ".", "get", "(", "Calendar", ".", "YEAR", ")", "=", "=", "<NUM_LIT>", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQuerySelectTrim", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Tuple", "result", "=", "data", ".", "select", "(", "Person", ".", "NAME", ".", "trim", "(", ")", ".", "as", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "String", "name", "=", "result", ".", "get", "(", "0", ")", ";", "assertEquals", "(", "name", ",", "\"", "<STR_LIT:Name>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQuerySelectSubstr", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Tuple", "result", "=", "data", ".", "select", "(", "Person", ".", "NAME", ".", "substr", "(", "<NUM_LIT:3>", ",", "<NUM_LIT:6>", ")", ".", "as", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "String", "name", "=", "result", ".", "get", "(", "0", ")", ";", "assertEquals", "(", "name", ",", "\"", "<STR_LIT:Name>", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryOrderBy", "(", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:5>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setAge", "(", "i", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "try", "(", "Result", "<", "Tuple", ">", "query", "=", "data", ".", "select", "(", "Person", ".", "AGE", ")", ".", "orderBy", "(", "Person", ".", "AGE", ".", "desc", "(", ")", ")", ".", "get", "(", ")", ")", "{", "Integer", "i", "=", "query", ".", "first", "(", ")", ".", "get", "(", "0", ")", ";", "assertTrue", "(", "i", ".", "equals", "(", "<NUM_LIT:4>", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryGroupBy", "(", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "<NUM_LIT:5>", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setAge", "(", "i", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "try", "(", "Result", "<", "Tuple", ">", "result", "=", "data", ".", "select", "(", "Person", ".", "AGE", ")", ".", "groupBy", "(", "Person", ".", "AGE", ")", ".", "having", "(", "Person", ".", "AGE", ".", "greaterThan", "(", "<NUM_LIT:3>", ")", ")", ".", "get", "(", ")", ")", "{", "assertTrue", "(", "result", ".", "toList", "(", ")", ".", "size", "(", ")", "=", "=", "1", ")", ";", "}", "assertTrue", "(", "data", ".", "select", "(", "Person", ".", "AGE", ")", ".", "groupBy", "(", "Person", ".", "AGE", ")", ".", "having", "(", "Person", ".", "AGE", ".", "lessThan", "(", "0", ")", ")", ".", "get", "(", ")", ".", "toList", "(", ")", ".", "isEmpty", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQuerySelectWhereIn", "(", ")", "{", "final", "String", "name", "=", "\"", "<STR_LIT>", "\"", ";", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "name", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Group", "group", "=", "new", "Group", "(", ")", ";", "group", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "insert", "(", "group", ")", ";", "person", ".", "getGroups", "(", ")", ".", "add", "(", "group", ")", ";", "data", ".", "update", "(", "person", ")", ";", "Return", "<", "Result", "<", "Tuple", ">", ">", "groupNames", "=", "data", ".", "select", "(", "Group", ".", "NAME", ")", ".", "where", "(", "Group", ".", "NAME", ".", "equal", "(", "name", ")", ")", ";", "Person", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "in", "(", "groupNames", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertEquals", "(", "p", ".", "getName", "(", ")", ",", "name", ")", ";", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "notIn", "(", "groupNames", ")", ")", ".", "get", "(", ")", ".", "firstOrNull", "(", ")", ";", "assertNull", "(", "p", ")", ";", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "in", "(", "Arrays", ".", "asList", "(", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ")", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertEquals", "(", "p", ".", "getName", "(", ")", ",", "name", ")", ";", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "in", "(", "Collections", ".", "singleton", "(", "\"", "<STR_LIT>", "\"", ")", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertEquals", "(", "p", ".", "getName", "(", ")", ",", "name", ")", ";", "assertTrue", "(", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "notIn", "(", "Collections", ".", "singleton", "(", "\"", "<STR_LIT>", "\"", ")", ")", ")", ".", "get", "(", ")", ".", "toList", "(", ")", ".", "isEmpty", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryBetween", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setAge", "(", "<NUM_LIT>", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Person", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "AGE", ".", "between", "(", "<NUM_LIT>", ",", "<NUM_LIT:100>", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertTrue", "(", "p", "=", "=", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryConditions", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setAge", "(", "<NUM_LIT>", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Person", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "AGE", ".", "greaterThanOrEqual", "(", "<NUM_LIT>", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "p", ",", "person", ")", ";", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "AGE", ".", "lessThanOrEqual", "(", "<NUM_LIT>", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "p", ",", "person", ")", ";", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "AGE", ".", "greaterThan", "(", "<NUM_LIT>", ")", ")", ".", "get", "(", ")", ".", "firstOrNull", "(", ")", ";", "assertNull", "(", "p", ")", ";", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "AGE", ".", "notEqual", "(", "<NUM_LIT>", ")", ")", ".", "get", "(", ")", ".", "firstOrNull", "(", ")", ";", "assertNull", "(", "p", ")", ";", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "AGE", ".", "gte", "(", "<NUM_LIT>", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "p", ",", "person", ")", ";", "assertSame", "(", "p", ",", "person", ")", ";", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "AGE", ".", "lte", "(", "<NUM_LIT>", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "p", ",", "person", ")", ";", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "AGE", ".", "gt", "(", "<NUM_LIT>", ")", ")", ".", "get", "(", ")", ".", "firstOrNull", "(", ")", ";", "assertNull", "(", "p", ")", ";", "p", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "AGE", ".", "ne", "(", "<NUM_LIT>", ")", ")", ".", "get", "(", ")", ".", "firstOrNull", "(", ")", ";", "assertNull", "(", "p", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryCompoundConditions", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setAge", "(", "<NUM_LIT>", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Person", "person2", "=", "randomPerson", "(", ")", ";", "person2", ".", "setAge", "(", "<NUM_LIT:10>", ")", ";", "person2", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "insert", "(", "person2", ")", ";", "Person", "person3", "=", "randomPerson", "(", ")", ";", "person3", ".", "setAge", "(", "0", ")", ";", "person3", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "insert", "(", "person3", ")", ";", "List", "<", "Person", ">", "result", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "AGE", ".", "gt", "(", "<NUM_LIT:5>", ")", ".", "and", "(", "Person", ".", "AGE", ".", "lt", "(", "<NUM_LIT>", ")", ")", ".", "and", "(", "Person", ".", "NAME", ".", "ne", "(", "\"", "<STR_LIT>", "\"", ")", ")", ")", ".", "or", "(", "Person", ".", "NAME", ".", "eq", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "get", "(", ")", ".", "toList", "(", ")", ";", "assertTrue", "(", "result", ".", "contains", "(", "person2", ")", ")", ";", "assertTrue", "(", "result", ".", "contains", "(", "person3", ")", ")", ";", "result", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "AGE", ".", "gt", "(", "<NUM_LIT:10>", ")", ".", "or", "(", "Person", ".", "AGE", ".", "eq", "(", "<NUM_LIT>", ")", ")", ")", ".", "and", "(", "Person", ".", "NAME", ".", "eq", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "get", "(", ")", ".", "toList", "(", ")", ";", "assertTrue", "(", "result", ".", "isEmpty", "(", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryConsume", "(", ")", "{", "int", "count", "=", "<NUM_LIT:10>", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "count", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "final", "int", "[", "]", "counts", "=", "new", "int", "[", "]", "{", "0", "}", ";", "Result", "<", "Person", ">", "result", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ";", "result", ".", "each", "(", "new", "Consumer", "<", "Person", ">", "(", ")", "{", "@", "Override", "public", "void", "accept", "(", "Person", "e", ")", "{", "counts", "[", "0", "]", "=", "counts", "[", "0", "]", "+", "1", ";", "}", "}", ")", ";", "assertEquals", "(", "counts", "[", "0", "]", ",", "count", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "void", "accept", "(", "Person", "e", ")", "{", "counts", "[", "0", "]", "=", "counts", "[", "0", "]", "+", "1", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryMap", "(", ")", "{", "int", "count", "=", "<NUM_LIT:10>", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "count", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "if", "(", "i", "=", "=", "0", ")", "{", "person", ".", "setEmail", "(", "\"", "<STR_LIT>", "\"", ")", ";", "}", "data", ".", "insert", "(", "person", ")", ";", "}", "Result", "<", "Person", ">", "result", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "get", "(", ")", ";", "Map", "<", "String", ",", "Person", ">", "map", "=", "result", ".", "toMap", "(", "Person", ".", "EMAIL", ",", "new", "ConcurrentHashMap", "<", "String", ",", "Person", ">", "(", ")", ")", ";", "assertNotNull", "(", "map", ".", "get", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "map", "=", "result", ".", "toMap", "(", "Person", ".", "EMAIL", ")", ";", "assertNotNull", "(", "map", ".", "get", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryUpdate", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setAge", "(", "<NUM_LIT:100>", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "int", "rowCount", "=", "data", ".", "update", "(", "Person", ".", "class", ")", ".", "set", "(", "Person", ".", "ABOUT", ",", "\"", "<STR_LIT>", "\"", ")", ".", "set", "(", "Person", ".", "AGE", ",", "<NUM_LIT>", ")", ".", "where", "(", "Person", ".", "AGE", ".", "equal", "(", "<NUM_LIT:100>", ")", ")", ".", "get", "(", ")", ".", "value", "(", ")", ";", "assertEquals", "(", "1", ",", "rowCount", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryCoalesce", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "person", ".", "setEmail", "(", "null", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "person", ".", "setEmail", "(", "\"", "<STR_LIT>", "\"", ")", ";", "person", ".", "setHomepage", "(", "null", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Result", "<", "Tuple", ">", "result", "=", "data", ".", "select", "(", "Coalesce", ".", "coalesce", "(", "Person", ".", "EMAIL", ",", "Person", ".", "NAME", ")", ")", ".", "get", "(", ")", ";", "List", "<", "Tuple", ">", "list", "=", "result", ".", "toList", "(", ")", ";", "List", "<", "String", ">", "values", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "Tuple", "tuple", ":", "list", ")", "{", "values", ".", "add", "(", "tuple", ".", "get", "(", "0", ")", ".", "toString", "(", ")", ")", ";", "}", "assertEquals", "(", "values", ".", "size", "(", ")", ",", "<NUM_LIT:2>", ")", ";", "assertTrue", "(", "values", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertTrue", "(", "values", ".", "contains", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryLike", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Person", "a", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "like", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "a", ",", "person", ")", ";", "a", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "lower", "(", ")", ".", "like", "(", "\"", "<STR_LIT:%>", "\"", ")", ")", ".", "get", "(", ")", ".", "first", "(", ")", ";", "assertSame", "(", "a", ",", "person", ")", ";", "Person", "b", "=", "data", ".", "select", "(", "Person", ".", "class", ")", ".", "where", "(", "Person", ".", "NAME", ".", "notLike", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "get", "(", ")", ".", "firstOrNull", "(", ")", ";", "assertTrue", "(", "b", "!", "=", "person", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryCase", "(", ")", "{", "String", "[", "]", "names", "=", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ";", "for", "(", "String", "name", ":", "names", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "name", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "}", "Result", "<", "Tuple", ">", "a", "=", "data", ".", "select", "(", "Person", ".", "NAME", ",", "Case", ".", "type", "(", "String", ".", "class", ")", ".", "when", "(", "Person", ".", "NAME", ".", "equal", "(", "\"", "<STR_LIT>", "\"", ")", ",", "\"", "<STR_LIT:B>", "\"", ")", ".", "when", "(", "Person", ".", "NAME", ".", "equal", "(", "\"", "<STR_LIT>", "\"", ")", ",", "\"", "<STR_LIT:C>", "\"", ")", ".", "elseThen", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "from", "(", "Person", ".", "class", ")", ".", "orderBy", "(", "Person", ".", "NAME", ")", ".", "get", "(", ")", ";", "List", "<", "Tuple", ">", "list", "=", "a", ".", "toList", "(", ")", ";", "assertTrue", "(", "list", ".", "get", "(", "0", ")", ".", "get", "(", "1", ")", ".", "equals", "(", "\"", "<STR_LIT:B>", "\"", ")", ")", ";", "assertTrue", "(", "list", ".", "get", "(", "1", ")", ".", "get", "(", "1", ")", ".", "equals", "(", "\"", "<STR_LIT:C>", "\"", ")", ")", ";", "assertTrue", "(", "list", ".", "get", "(", "<NUM_LIT:2>", ")", ".", "get", "(", "1", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "a", "=", "data", ".", "select", "(", "Person", ".", "NAME", ",", "Case", ".", "type", "(", "Integer", ".", "class", ")", ".", "when", "(", "Person", ".", "NAME", ".", "equal", "(", "\"", "<STR_LIT>", "\"", ")", ",", "1", ")", ".", "when", "(", "Person", ".", "NAME", ".", "equal", "(", "\"", "<STR_LIT>", "\"", ")", ",", "<NUM_LIT:2>", ")", ".", "elseThen", "(", "0", ")", ")", ".", "orderBy", "(", "Person", ".", "NAME", ")", ".", "get", "(", ")", ";", "list", "=", "a", ".", "toList", "(", ")", ";", "assertTrue", "(", "list", ".", "get", "(", "0", ")", ".", "get", "(", "1", ")", ".", "equals", "(", "1", ")", ")", ";", "assertTrue", "(", "list", ".", "get", "(", "1", ")", ".", "get", "(", "1", ")", ".", "equals", "(", "<NUM_LIT:2>", ")", ")", ";", "assertTrue", "(", "list", ".", "get", "(", "<NUM_LIT:2>", ")", ".", "get", "(", "1", ")", ".", "equals", "(", "0", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryUnion", "(", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "person", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "Group", "group", "=", "new", "Group", "(", ")", ";", "group", ".", "setName", "(", "\"", "<STR_LIT>", "\"", ")", ";", "data", ".", "insert", "(", "group", ")", ";", "List", "<", "Tuple", ">", "result", "=", "data", ".", "select", "(", "Person", ".", "NAME", ".", "as", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "union", "(", ")", ".", "select", "(", "Group", ".", "NAME", ".", "as", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "orderBy", "(", "Group", ".", "NAME", ".", "as", "(", "\"", "<STR_LIT>", "\"", ")", ")", ".", "get", "(", ")", ".", "toList", "(", ")", ";", "assertTrue", "(", "result", ".", "size", "(", ")", "=", "=", "<NUM_LIT:2>", ")", ";", "assertTrue", "(", "result", ".", "get", "(", "0", ")", ".", "get", "(", "0", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "assertTrue", "(", "result", ".", "get", "(", "1", ")", ".", "get", "(", "0", ")", ".", "equals", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryRaw", "(", ")", "{", "final", "int", "count", "=", "<NUM_LIT:5>", ";", "List", "<", "Person", ">", "people", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "count", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "people", ".", "add", "(", "person", ")", ";", "}", "List", "<", "Long", ">", "resultIds", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "try", "(", "Result", "<", "Tuple", ">", "result", "=", "data", ".", "raw", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "List", "<", "Tuple", ">", "list", "=", "result", ".", "toList", "(", ")", ";", "assertEquals", "(", "count", ",", "list", ".", "size", "(", ")", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "people", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "Tuple", "tuple", "=", "list", ".", "get", "(", "i", ")", ";", "String", "name", "=", "tuple", ".", "get", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "people", ".", "get", "(", "i", ")", ".", "getName", "(", ")", ",", "name", ")", ";", "Number", "id", "=", "tuple", ".", "get", "(", "\"", "<STR_LIT>", "\"", ")", ";", "assertEquals", "(", "people", ".", "get", "(", "i", ")", ".", "getId", "(", ")", ",", "id", ".", "intValue", "(", ")", ")", ";", "resultIds", ".", "add", "(", "id", ".", "longValue", "(", ")", ")", ";", "}", "}", "try", "(", "Result", "<", "Tuple", ">", "result", "=", "data", ".", "raw", "(", "\"", "<STR_LIT>", "\"", ",", "resultIds", ")", ")", "{", "List", "<", "Tuple", ">", "list", "=", "result", ".", "toList", "(", ")", ";", "List", "<", "Long", ">", "ids", "=", "new", "ArrayList", "<", ">", "(", "list", ".", "size", "(", ")", ")", ";", "for", "(", "Tuple", "tuple", ":", "list", ")", "{", "ids", ".", "add", "(", "tuple", ".", "<", "Number", ">", "get", "(", "\"", "<STR_LIT>", "\"", ")", ".", "longValue", "(", ")", ")", ";", "}", "assertEquals", "(", "resultIds", ",", "ids", ")", ";", "}", "try", "(", "Result", "<", "Tuple", ">", "result", "=", "data", ".", "raw", "(", "\"", "<STR_LIT>", "\"", ")", ")", "{", "Number", "number", "=", "result", ".", "first", "(", ")", ".", "get", "(", "0", ")", ";", "assertEquals", "(", "count", ",", "number", ".", "intValue", "(", ")", ")", ";", "}", "try", "(", "Result", "<", "Tuple", ">", "result", "=", "data", ".", "raw", "(", "\"", "<STR_LIT>", "\"", ",", "people", ".", "get", "(", "0", ")", ")", ")", "{", "assertEquals", "(", "result", ".", "first", "(", ")", ".", "<", "Number", ">", "get", "(", "\"", "<STR_LIT>", "\"", ")", ".", "intValue", "(", ")", ",", "people", ".", "get", "(", "0", ")", ".", "getId", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "public", "void", "testQueryRawEntities", "(", ")", "{", "final", "int", "count", "=", "<NUM_LIT:5>", ";", "List", "<", "Person", ">", "people", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "count", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "randomPerson", "(", ")", ";", "data", ".", "insert", "(", "person", ")", ";", "people", ".", "add", "(", "person", ")", ";", "}", "List", "<", "Integer", ">", "resultIds", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "try", "(", "Result", "<", "Person", ">", "result", "=", "data", ".", "raw", "(", "Person", ".", "class", ",", "\"", "<STR_LIT>", "\"", ")", ")", "{", "List", "<", "Person", ">", "list", "=", "result", ".", "toList", "(", ")", ";", "assertEquals", "(", "count", ",", "list", ".", "size", "(", ")", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "people", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "Person", "person", "=", "list", ".", "get", "(", "i", ")", ";", "String", "name", "=", "person", ".", "getName", "(", ")", ";", "assertEquals", "(", "people", ".", "get", "(", "i", ")", ".", "getName", "(", ")", ",", "name", ")", ";", "assertEquals", "(", "people", ".", "get", "(", "i", ")", ".", "getId", "(", ")", ",", "person", ".", "getId", "(", ")", ")", ";", "resultIds", ".", "add", "(", "person", ".", "getId", "(", ")", ")", ";", "}", "}", "try", "(", "Result", "<", "Person", ">", "result", "=", "data", ".", "raw", "(", "Person", ".", "class", ",", "\"", "<STR_LIT>", "\"", ",", "resultIds", ")", ")", "{", "List", "<", "Person", ">", "list", "=", "result", ".", "toList", "(", ")", ";", "List", "<", "Integer", ">", "ids", "=", "new", "ArrayList", "<", ">", "(", "list", ".", "size", "(", ")", ")", ";", "for", "(", "Person", "tuple", ":", "list", ")", "{", "ids", ".", "add", "(", "tuple", ".", "getId", "(", ")", ")", ";", "}", "assertEquals", "(", "resultIds", ",", "ids", ")", ";", "}", "try", "(", "Result", "<", "Person", ">", "result", "=", "data", ".", "raw", "(", "Person", ".", "class", ",", "\"", "<STR_LIT>", "\"", ",", "people", ".", "get", "(", "0", ")", ")", ")", "{", "assertEquals", "(", "result", ".", "first", "(", ")", ".", "getId", "(", ")", ",", "people", ".", "get", "(", "0", ")", ".", "getId", "(", ")", ")", ";", "}", "}", "</s>"]
["<s>", "@", "Test", "(", "expected", "=", "PersistenceException", ".", "class", ")", "public", "void", "testViolateUniqueConstraint", "(", ")", "{", "UUID", "uuid", "=", "UUID", ".", "randomUUID", "(", ")", ";", "Person", "p1", "=", "randomPerson", "(", ")", ";", "p1", ".", "setUUID", "(", "uuid", ")", ";", "data", ".", "insert", "(", "p1", ")", ";", "Person", "p2", "=", "randomPerson", "(", ")", ";", "p2", ".", "setUUID", "(", "uuid", ")", ";", "data", ".", "insert", "(", "p2", ")", ";", "fail", "(", ")", ";", "}", "</s>"]
["<s>", "static", "Person", "randomPerson", "(", ")", "{", "Random", "random", "=", "new", "Random", "(", ")", ";", "Person", "person", "=", "new", "Person", "(", ")", ";", "String", "[", "]", "firstNames", "=", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ";", "String", "[", "]", "lastNames", "=", "new", "String", "[", "]", "{", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", ",", "\"", "<STR_LIT>", "\"", "}", ";", "person", ".", "setName", "(", "firstNames", "[", "random", ".", "nextInt", "(", "firstNames", ".", "length", ")", "]", "+", "\"", "\"", "+", "lastNames", "[", "random", ".", "nextInt", "(", "lastNames", ".", "length", ")", "]", ")", ";", "person", ".", "setEmail", "(", "person", ".", "getName", "(", ")", ".", "replaceAll", "(", "\"", "\"", ",", "\"", "\"", ")", ".", "toLowerCase", "(", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "person", ".", "setUUID", "(", "UUID", ".", "randomUUID", "(", ")", ")", ";", "try", "{", "person", ".", "setHomepage", "(", "new", "URL", "(", "\"", "<STR_LIT>", "\"", ")", ")", ";", "}", "catch", "(", "MalformedURLException", "e", ")", "{", "throw", "new", "RuntimeException", "(", "e", ")", ";", "}", "Calendar", "calendar", "=", "Calendar", ".", "getInstance", "(", ")", ";", "calendar", ".", "set", "(", "<NUM_LIT>", "+", "random", ".", "nextInt", "(", "<NUM_LIT>", ")", ",", "random", ".", "nextInt", "(", "<NUM_LIT:12>", ")", ",", "random", ".", "nextInt", "(", "<NUM_LIT:30>", ")", ")", ";", "person", ".", "setBirthday", "(", "calendar", ".", "getTime", "(", ")", ")", ";", "return", "person", ";", "}", "</s>"]
["<s>", "static", "Set", "<", "Person", ">", "randomPersons", "(", "int", "count", ")", "{", "Set", "<", "Person", ">", "persons", "=", "new", "HashSet", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "count", ";", "i", "+", "+", ")", "{", "persons", ".", "add", "(", "randomPerson", "(", ")", ")", ";", "}", "return", "persons", ";", "}", "</s>"]
["<s>", "static", "Address", "randomAddress", "(", ")", "{", "Random", "random", "=", "new", "Random", "(", ")", ";", "Address", "address", "=", "new", "Address", "(", ")", ";", "address", ".", "setLine1", "(", "random", ".", "nextInt", "(", "<NUM_LIT:4>", ")", "+", "\"", "<STR_LIT>", "\"", ")", ";", "address", ".", "setCity", "(", "\"", "<STR_LIT>", "\"", ")", ";", "address", ".", "setState", "(", "\"", "<STR_LIT>", "\"", ")", ";", "address", ".", "setZip", "(", "String", ".", "valueOf", "(", "<NUM_LIT>", "+", "random", ".", "nextInt", "(", "<NUM_LIT>", ")", ")", ")", ";", "address", ".", "setType", "(", "AddressType", ".", "HOME", ")", ";", "address", ".", "setLatitude", "(", "<NUM_LIT:0.0f>", ")", ";", "address", ".", "setLongitude", "(", "<NUM_LIT:0.0f>", ")", ";", "return", "address", ";", "}", "</s>"]
["<s>", "static", "Phone", "randomPhone", "(", ")", "{", "Phone", "phone", "=", "new", "Phone", "(", ")", ";", "phone", ".", "setPhoneNumber", "(", "\"", "<STR_LIT>", "\"", "+", "(", "<NUM_LIT:1000>", "+", "new", "Random", "(", ")", ".", "nextInt", "(", "<NUM_LIT>", ")", ")", ")", ";", "phone", ".", "setNormalized", "(", "true", ")", ";", "return", "phone", ";", "}", "</s>"]
["<s>", "public", "static", "Phone", "create", "(", "int", "id", ",", "String", "phoneNumber", ",", "boolean", "normalized", ",", "int", "ownerId", ")", "{", "return", "new", "AutoValue_Phone", "(", "id", ",", "phoneNumber", ",", "normalized", ",", "ownerId", ")", ";", "}", "</s>"]
["<s>", "@", "Id", "@", "GeneratedValue", "public", "abstract", "int", "getId", "(", ")", ";", "</s>"]
["<s>", "public", "abstract", "String", "getPhoneNumber", "(", ")", ";", "</s>"]
["<s>", "public", "abstract", "boolean", "isNormalized", "(", ")", ";", "</s>"]
["<s>", "@", "JoinColumn", "(", "foreignKey", "=", "@", "ForeignKey", ",", "table", "=", "\"", "<STR_LIT>", "\"", ")", "public", "abstract", "int", "getOwnerId", "(", ")", ";", "</s>"]
["<s>", "public", "boolean", "isValid", "(", ")", "{", "return", "getPhoneNumber", "(", ")", "!", "=", "null", "&", "&", "isNormalized", "(", ")", ";", "}", "</s>"]
["<s>", "public", "abstract", "Builder", "setId", "(", "int", "id", ")", ";", "</s>"]
["<s>", "public", "abstract", "Builder", "setName", "(", "String", "name", ")", ";", "</s>"]
["<s>", "public", "abstract", "Builder", "setEmail", "(", "String", "email", ")", ";", "</s>"]
["<s>", "public", "abstract", "Builder", "setBirthday", "(", "Date", "date", ")", ";", "</s>"]
["<s>", "public", "abstract", "Builder", "setAge", "(", "int", "age", ")", ";", "</s>"]
["<s>", "public", "abstract", "Builder", "setAbout", "(", "String", "about", ")", ";", "</s>"]
["<s>", "public", "abstract", "Builder", "setUUID", "(", "UUID", "uuid", ")", ";", "</s>"]
["<s>", "public", "abstract", "Person", "build", "(", ")", ";", "</s>"]
["<s>", "public", "static", "Builder", "builder", "(", ")", "{", "return", "new", "AutoValue_Person", ".", "Builder", "(", ")", ".", "setId", "(", "-", "1", ")", ";", "}", "</s>"]
["<s>", "public", "abstract", "Builder", "toBuilder", "(", ")", ";", "</s>"]
["<s>", "@", "Id", "@", "GeneratedValue", "public", "abstract", "int", "getId", "(", ")", ";", "</s>"]
["<s>", "public", "abstract", "String", "getName", "(", ")", ";", "</s>"]
["<s>", "public", "abstract", "String", "getEmail", "(", ")", ";", "</s>"]
["<s>", "public", "abstract", "Date", "getBirthday", "(", ")", ";", "</s>"]
["<s>", "@", "Column", "(", "nullable", "=", "true", ")", "public", "abstract", "int", "getAge", "(", ")", ";", "</s>"]
["<s>", "public", "abstract", "String", "getAbout", "(", ")", ";", "</s>"]
["<s>", "@", "Column", "(", "unique", "=", "true", ")", "public", "abstract", "UUID", "getUUID", "(", ")", ";", "</s>"]
["<s>", "@", "Id", "@", "GeneratedValue", "int", "getId", "(", ")", ";", "</s>"]
["<s>", "String", "getPhoneNumber", "(", ")", ";", "</s>"]
["<s>", "boolean", "isNormalized", "(", ")", ";", "</s>"]
["<s>", "@", "ManyToOne", "Person", "getOwner", "(", ")", ";", "</s>"]
["<s>", "@", "Id", "@", "GeneratedValue", "int", "getId", "(", ")", ";", "</s>"]
["<s>", "String", "getName", "(", ")", ";", "</s>"]
["<s>", "Optional", "<", "String", ">", "getDescription", "(", ")", ";", "</s>"]
["<s>", "GroupType", "getType", "(", ")", ";", "</s>"]
["<s>", "byte", "[", "]", "getPicture", "(", ")", ";", "</s>"]
["<s>", "@", "Version", "int", "getVersion", "(", ")", ";", "</s>"]
["<s>", "@", "JoinTable", "(", "joinColumns", "=", "{", "@", "JoinColumn", "(", "name", "=", "\"", "<STR_LIT>", "\"", ",", "referencedColumnName", "=", "\"", "<STR_LIT>", "\"", ")", "}", ",", "inverseJoinColumns", "=", "{", "@", "JoinColumn", "(", "name", "=", "\"", "<STR_LIT>", "\"", ",", "referencedColumnName", "=", "\"", "<STR_LIT>", "\"", ")", "}", ")", "@", "ManyToMany", "MutableResult", "<", "Person", ">", "getPersons", "(", ")", ";", "</s>"]
["<s>", "@", "Transient", "String", "getTemporaryName", "(", ")", ";", "</s>"]
["<s>", "@", "Id", "@", "GeneratedValue", "int", "getId", "(", ")", ";", "</s>"]
["<s>", "String", "getLine1", "(", ")", ";", "</s>"]
["<s>", "String", "getLine2", "(", ")", ";", "</s>"]
["<s>", "String", "getState", "(", ")", ";", "</s>"]
["<s>", "@", "Embedded", "Coordinate", "getCoordinate", "(", ")", ";", "</s>"]
["<s>", "@", "Column", "(", "length", "=", "<NUM_LIT:5>", ")", "String", "getZip", "(", ")", ";", "</s>"]
["<s>", "@", "Column", "(", "length", "=", "<NUM_LIT:2>", ")", "String", "getCountry", "(", ")", ";", "</s>"]
["<s>", "String", "getCity", "(", ")", ";", "</s>"]
["<s>", "@", "OneToOne", "(", "mappedBy", "=", "\"", "<STR_LIT>", "\"", ")", "Person", "getPerson", "(", ")", ";", "</s>"]
["<s>", "AddressType", "getType", "(", ")", ";", "</s>"]
["<s>", "@", "Id", "@", "GeneratedValue", "int", "getId", "(", ")", ";", "</s>"]
["<s>", "String", "getName", "(", ")", ";", "</s>"]
["<s>", "String", "getEmail", "(", ")", ";", "</s>"]
["<s>", "Date", "getBirthday", "(", ")", ";", "</s>"]
["<s>", "@", "Column", "(", "nullable", "=", "true", ")", "int", "getAge", "(", ")", ";", "</s>"]
["<s>", "@", "OneToOne", "@", "JoinColumn", "(", "foreignKey", "=", "@", "ForeignKey", ")", "Address", "getAddress", "(", ")", ";", "</s>"]
["<s>", "@", "OneToMany", "(", "mappedBy", "=", "\"", "<STR_LIT>", "\"", ",", "cascade", "=", "{", "CascadeType", ".", "REMOVE", ",", "CascadeType", ".", "PERSIST", "}", ")", "MutableResult", "<", "Phone", ">", "getPhoneNumbers", "(", ")", ";", "</s>"]
["<s>", "@", "OneToMany", "(", "mappedBy", "=", "\"", "<STR_LIT>", "\"", ")", "Set", "<", "Phone", ">", "getPhoneNumbersSet", "(", ")", ";", "</s>"]
["<s>", "@", "OneToMany", "List", "<", "Phone", ">", "getPhoneNumbersList", "(", ")", ";", "</s>"]
["<s>", "@", "ManyToMany", "(", "mappedBy", "=", "\"", "<STR_LIT>", "\"", ")", "MutableResult", "<", "Group", ">", "getGroups", "(", ")", ";", "</s>"]
["<s>", "String", "getAbout", "(", ")", ";", "</s>"]
["<s>", "@", "Column", "(", "unique", "=", "true", ")", "UUID", "getUUID", "(", ")", ";", "</s>"]
["<s>", "URL", "getHomepage", "(", ")", ";", "</s>"]
["<s>", "@", "Column", "(", "nullable", "=", "false", ")", "float", "getLatitude", "(", ")", ";", "</s>"]
["<s>", "@", "Column", "(", "nullable", "=", "false", ")", "float", "getLongitude", "(", ")", ";", "</s>"]
["<s>", "@", "Override", "public", "Phone", "get", "(", ")", "{", "return", "new", "Phone", "(", "\"", "\"", ")", ";", "}", "</s>"]
["<s>", "@", "SuppressWarnings", "(", "\"", "<STR_LIT>", "\"", ")", "@", "Override", "public", "Class", "<", "ArrayList", "<", "Integer", ">", ">", "getMappedType", "(", ")", "{", "return", "(", "Class", ")", "ArrayList", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Class", "<", "String", ">", "getPersistedType", "(", ")", "{", "return", "String", ".", "class", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "Integer", "getPersistedSize", "(", ")", "{", "return", "null", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "convertToPersisted", "(", "ArrayList", "<", "Integer", ">", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "\"", "\"", ";", "}", "StringBuilder", "sb", "=", "new", "StringBuilder", "(", ")", ";", "int", "index", "=", "0", ";", "for", "(", "Object", "integer", ":", "value", ")", "{", "if", "(", "index", ">", "0", ")", "{", "sb", ".", "append", "(", "\"", "<STR_LIT:U+002C>", "\"", ")", ";", "}", "sb", ".", "append", "(", "integer", ")", ";", "index", "+", "+", ";", "}", "return", "sb", ".", "toString", "(", ")", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "ArrayList", "<", "Integer", ">", "convertToMapped", "(", "Class", "<", "?", "extends", "ArrayList", "<", "Integer", ">", ">", "type", ",", "String", "value", ")", "{", "ArrayList", "<", "Integer", ">", "list", "=", "new", "ArrayList", "<", ">", "(", ")", ";", "if", "(", "value", "!", "=", "null", ")", "{", "String", "[", "]", "parts", "=", "value", ".", "split", "(", "\"", "<STR_LIT:U+002C>", "\"", ")", ";", "for", "(", "String", "part", ":", "parts", ")", "{", "if", "(", "part", ".", "length", "(", ")", ">", "0", ")", "{", "list", ".", "add", "(", "Integer", ".", "parseInt", "(", "part", ".", "trim", "(", ")", ")", ")", ";", "}", "}", "}", "return", "list", ";", "}", "</s>"]
["<s>", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "\"", "<STR_LIT>", "\"", ";", "}", "</s>"]
["<s>", "public", "AddressTypeConverter", "(", ")", "{", "super", "(", "AddressType", ".", "class", ")", ";", "}", "</s>"]
["<s>", "@", "PostInsert", "@", "PostLoad", "@", "PreUpdate", "public", "void", "combinedListener", "(", ")", "{", "}", "</s>"]
["<s>", "public", "EntityState", "getPreviousState", "(", ")", "{", "return", "previous", ";", "}", "</s>"]
["<s>", "public", "EntityState", "getCurrentState", "(", ")", "{", "return", "current", ";", "}", "</s>"]
["<s>", "private", "void", "setState", "(", "EntityState", "state", ")", "{", "this", ".", "previous", "=", "current", ";", "this", ".", "current", "=", "state", ";", "}", "</s>"]
["<s>", "@", "PreInsert", "public", "void", "onPreInsert", "(", ")", "{", "setState", "(", "EntityState", ".", "PRE_SAVE", ")", ";", "}", "</s>"]
["<s>", "@", "PostInsert", "public", "void", "onPostInsert", "(", ")", "{", "setState", "(", "EntityState", ".", "POST_SAVE", ")", ";", "}", "</s>"]
["<s>", "@", "PostLoad", "public", "void", "onPostLoad", "(", ")", "{", "setState", "(", "EntityState", ".", "POST_LOAD", ")", ";", "}", "</s>"]
["<s>", "@", "PreUpdate", "public", "void", "onPreUpdate", "(", ")", "{", "setState", "(", "EntityState", ".", "PRE_UPDATE", ")", ";", "}", "</s>"]
["<s>", "@", "PostUpdate", "public", "void", "onPostUpdate", "(", ")", "{", "setState", "(", "EntityState", ".", "POST_UPDATE", ")", ";", "}", "</s>"]
["<s>", "@", "PreDelete", "public", "void", "onPreDelete", "(", ")", "{", "setState", "(", "EntityState", ".", "PRE_DELETE", ")", ";", "}", "</s>"]
["<s>", "@", "PostDelete", "public", "void", "onPostDelete", "(", ")", "{", "setState", "(", "EntityState", ".", "POST_DELETE", ")", ";", "}", "</s>"]
["<s>", "AbstractPhone", "(", "String", "phoneNumber", ")", "{", "this", ".", "phoneNumber", "=", "phoneNumber", ";", "}", "</s>"]
["<s>", "AbstractPhone", "(", "String", "phoneNumber", ",", "boolean", "normalized", ")", "{", "this", ".", "phoneNumber", "=", "phoneNumber", ";", "this", ".", "normalized", "=", "normalized", ";", "}", "</s>"]
["<s>", "AbstractPhone", "(", ")", "{", "}", "</s>"]
